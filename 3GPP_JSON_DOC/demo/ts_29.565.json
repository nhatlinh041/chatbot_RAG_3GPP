{
  "metadata": {
    "specification_id": "ts_29.565",
    "version": "18.9.0",
    "title": "3GPP TS 29.565",
    "file_path": "/content/drive/MyDrive/RAG_thesis/data/29_series/29565-i90/29565-i90.docx"
  },
  "export_info": {
    "export_date": "2025-07-26T08:47:27.067436",
    "total_chunks": 219
  },
  "chunks": [
    {
      "chunk_id": "ts_29.565_1",
      "section_id": "1",
      "section_title": "Scope",
      "content": "The present document specifies the stage 3 protocol and data model for the Ntsctsf Service Based Interface. It provides stage 3 protocol definitions and message flows, and specifies the API for each service offered by the TSCTSF.\nThe 5G System stage 2 architecture and procedures are specified in 3GPP TS 23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS 23.503 [19].\nThe Technical Realization of the Service Based Architecture and the Principles and Guidelines for Services Definition are specified in 3GPP TS 29.500 [4] and 3GPP TS 29.501 [5].",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.501",
        "ts_23.502",
        "ts_23.503",
        "ts_29.500",
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.565_2",
      "section_id": "2",
      "section_title": "References",
      "content": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non‑specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".\n[3]\t3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".\n[4]\t3GPP TS 29.500: \"5G System; Technical Realization of Service Based Architecture; Stage 3\".\n[5]\t3GPP TS 29.501: \"5G System; Principles and Guidelines for Services Definition; Stage 3\".\n[6]\tOpenAPI: \"OpenAPI Specification Version 3.0.0\", https://spec.openapis.org/oas/v3.0.0.\n[7]\t3GPP TR 21.900: \"Technical Specification Group working methods\".\n[8]\t3GPP TS 33.501: \"Security architecture and procedures for 5G system\".\n[9]\tIETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".\n[10]\t3GPP TS 29.510: \"5G System; Network Function Repository Services; Stage 3\".\n[11]\tIETF RFC 9113: \"HTTP/2\".\n[12]\tIETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange Format\".\n[13]\tIETF RFC 9457: \"Problem Details for HTTP APIs\".\n[14]\t3GPP TS 29.534: \"5G System; Access and Mobility Policy Authorization Service; Stage 3\".\n[15]\t3GPP TS 29.571: \"5G System; Common Data Types for Service Based Interfaces Stage 3\".\n[16]\t3GPP TS 29.508: \"5G System; Session Management Event Exposure Service; Stage 3\".\n[17]\t3GPP TS 29.522: \"5G System; Network Exposure Function Northbound APIs; Stage 3\".\n[18]\tIEEE Std 802.1Q-2018: \"IEEE Standard for Local and metropolitan area networks--Bridges and Bridged Networks\".\n[19]\t3GPP TS 23.503: \"Policy and Charging Control Framework for the 5G System\".\n[20]\t3GPP TS 29.514: \"5G System; Policy Authorization Service; Stage 3\".\n[21]\t3GPP TS 29.122: \"T8 reference point for northbound Application Programming Interfaces (APIs)\".\n[22]\tIETF RFC 7396: \"JSON Merge Patch\".\n[23]\t3GPP TS 29.521: \"5G System; Binding Support Management Service; Stage 3\".\n[24]\t3GPP TS 29.503: \"5G System; Unified Data Management Services; Stage 3\".\n[25]\tIEEE Std 1588-2019: \"IEEE Standard for a Precision Clock Synchronization Protocol for Networked Measurement and Control\".\n[26]\tIEEE Std 802.1AS-2020: \"IEEE Standard for Local and metropolitan area networks--Timing and Synchronization for Time-Sensitive Applications\".\n[27]\t3GPP TS 29.518: \"5G System; Access and Mobility Management Services; Stage 3\".\n[28]\tIETF RFC 9633: \"Deterministic Networking (DetNet) YANG Data Model\".\n[29]\tIETF RFC 6241: \"Network Configuration Protocol (NETCONF)\".\n[30]\tIETF RFC 8040: \"RESTCONF Protocol\".\n[31]\t3GPP TS 29.513: \"5G System; Policy and Charging Control signalling flows and QoS parameter mapping; Stage 3\".\n[32]\tIETF RFC 8939: \"Deterministic Networking (DetNet) Data Plane: IP\".\n[33]\tIETF RFC 7950: \"The YANG 1.1 Data Modeling Language\".\n[34]\tIETF RFC 8407: \"Guidelines for Authors and Reviewers of Documents Containing YANG Data Models\".\n[35]\tIETF RFC 6020: \"YANG – A Data Modeling Language for the Network Configuration Protocol (NETCONF)\".",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905",
        "ts_23.501",
        "ts_23.502",
        "ts_29.500",
        "ts_29.501",
        "ts_21.900",
        "ts_33.501",
        "ts_29.510",
        "ts_29.534",
        "ts_29.571",
        "ts_29.508",
        "ts_29.522",
        "ts_23.503",
        "ts_29.514",
        "ts_29.122",
        "ts_29.521",
        "ts_29.503",
        "ts_29.518",
        "ts_29.513"
      ]
    },
    {
      "chunk_id": "ts_29.565_3.1",
      "section_id": "3.1",
      "section_title": "Definitions",
      "content": "For the purposes of the present document, the terms and definitions given in 3GPP TR 21.905 [1] and the following apply. A term defined in the present document takes precedence over the definition of the same term, if any, in 3GPP TR 21.905 [1].\nVoid",
      "chunk_type": "definition",
      "cross_references": [
        "ts_21.905"
      ]
    },
    {
      "chunk_id": "ts_29.565_3.2",
      "section_id": "3.2",
      "section_title": "Symbols",
      "content": "For the purposes of the present document, the following symbols apply:\nVoid",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_3.3",
      "section_id": "3.3",
      "section_title": "Abbreviations",
      "content": "For the purposes of the present document, the abbreviations given in 3GPP TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in 3GPP TR 21.905 [1].\nASTI\tAccess Stratum Time distribution\nBAT\tBurst Arrival Time\nDetNet\tDeterministic Networking\nDS-TT\tDevice-side TSN translator\nNW-TT\tNetwork-side TSN translator\nPTP\tPrecision Time Protocol\nTA\tTracking Area\nTSC\tTime Sensitive Communication\nTSCAI\tTSC Assistance Information\nTSCTSF\tTime Sensitive Communication and Time Synchronization function",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905"
      ]
    },
    {
      "chunk_id": "ts_29.565_4.1",
      "section_id": "4.1",
      "section_title": "Introduction",
      "content": "The Ntsctsf services are offered by the TSCTSF to support the Time Sensitive Communications and Time Synchronization.\nThe following Ntsctsf services are specified:\n-\tNtsctsf_TimeSynchronization service;\n-\tNtsctsf_QoSandTSCAssistance service.\n-\tNtsctsf_ASTI service.\nTo enable the reporting of 5GS DetNet node configuration and the provisioning and configuration data for DetNet flows, the TSCTSF offers RESTCONF (IETF RFC 8040 [30]) and/or NETCONF (IETF RFC 6241 [29]) interfaces to the DetNet controller to access the 3GPP extended Deterministic Networking (DetNet) YANG Model as specified in Annex B.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_4.2",
      "section_id": "4.2",
      "section_title": "Service Architecture",
      "content": "The 5G System Architecture is defined in 3GPP TS 23.501 [2].\nThe known NF service consumers of the Ntsctsf services are the Application Function (AF) within the operator's trust domain and the Network Exposure Function (NEF).\nThe Ntsctsf services are provided by the TSCTSF and consumed by the NF service consumers (e.g. AF, NEF), as shown in figure 4.2-1 for the SBI representation model and in figure 4.2-2 for the reference point representation model.\nFigure 4.2-1: Ntsctsf services architecture, SBI representation\nFigure 4.2-2: Ntsctsf services architecture, reference point representation\nThe DetNet controller, as specified in clause 4.4.8.4 of 3GPP TS 23.501 [2], is the TSCTSF's consumer that accesses the 3GPP extended DetNet YANG model, as specified in Annex B, clause B.1.1.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.501_clause_4.4.8.4",
        "figure_4.2-1",
        "figure_4.2-2",
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.1",
      "section_id": "5.1",
      "section_title": "Introduction",
      "content": "Table 5.1-1 summarizes the corresponding APIs defined for this specification.\nTable 5.1-1: API Descriptions\nService Name\nClause\nDescription\nOpenAPI Specification File\napiName\nAnnex\nNtsctsf_TimeSynchronization\n6.1\nProvides the support to subscribe/unsubscribe to the notification about time synchronization capabilities or changes in time synchronization status information. Also allows to activate and deactivate the time synchronization configuration.\nTS29565_Ntsctsf_TimeSynchronization.yaml\nntsctsf-time-sync\nA.2\nNtsctsf_QoSandTSCAssistance\n6.2\nProvides the support to request specific QoS and provide assistance for handling traffic characterized by TSC QoS parameters.\nTS29565_Ntsctsf_QoSandTSCAssistance.yaml\nntsctsf-qos-tscai\nA.3\nNtsctsf_ASTI\n6.3\nProvides support for time synchronization service based on 5G access stratum time distribution method. Allows the NF consumer to configure the 5GC and RAN for 5G access stratum based time synchronization service for the UEs and subscribe to get informed about changes in time synchronization status information.\nTS29565_Ntsctsf_ASTI.yaml\nntsctsf-asti\nA.4",
      "chunk_type": "general",
      "cross_references": [
        "table_5.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.2.1.1",
      "section_id": "5.2.1.1",
      "section_title": "Overview",
      "content": "This service provides:\n-\tAuthorization of NF Service Consumer requests for the subscription to the notification of the capability of time synchronization service.\n-\tAuthorization of NF Service Consumer requests to create and update time synchronization configuration, and to activate and deactivate the time synchronization service as described in clause 5.27.1.8 of TS 23.501 [2].\nNOTE:\tThe AF can use either the procedure specified in bullet2) for configuring the (g)PTP instance in 5GS or the procedure specified in clause 5.4.2.2 for controlling the 5G access stratum time distribution for a particular UE. The procedures are not intended to be used in conjunction with each other by the AF. However, the (g)PTP instance activation, modification, and deactivation can influence the 5G access stratum time distribution for the UEs that are part of the impacted PTP instance.\n-\tDetection and reporting of time synchronization service status based on gNB and/or UPF/NW-TT timing synchronization status information and reporting status updates.\n-\tNotifications to the NF service consumer about the state and changes of state of time synchronization configuration due to evaluation of e.g. time synchronization coverage area conditions.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.501_clause_5.27.1.8",
        "clause_5.4.2.2",
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.2.1.2.1",
      "section_id": "5.2.1.2.1",
      "section_title": "TSCTSF",
      "content": "The TSCTSF supports to:\n-\treceive the request to create/update the subscription to the notification of the capability of time synchronization service from the NEF or AF and interact with the related PCF;\n-\treceive the request to delete the subscription to the notification of the capability of time synchronization service from the NEF or AF and remove the information from the related PCF;\n-\treceive the notification of the availability of the user plane node information from the PCF and subscribe the notification of user plane node related events at the PCF;\n-\tmakes a translation from External/Internal Group Identifier to a list of SUPI by querying UDM;\n-\tretrieve the Time Synchronization Subscription data from UDM for the control of (g)PTP instance(s) and compare with the received the Time Synchronization Subscription data to make decision for AF request is authorized or not;\n-\tdetermine the capability of time synchronization service based on the capability information received from the DS-TT(s) and NW-TT and notify the NEF or AF of the capability;\n-\treceive the request to create or modify the time synchronization configuration from the NEF or AF, configure and initialize the PTP instance(s) by constructing a PMIC to each DS-TT/UE to activate the time synchronization service in DS-TT and PMIC(s) and UMIC to NW-TT to activate the time synchronization service in NW-TT and provision them to the PCF;\n-\tdetermine whether the UE is inside/outside the authorized time synchronization coverage area and/or within the authorized time period and enforce the time synchronization service accordingly;\n-\tnotify the NEF or AF of the current state of the time synchronization service configuration;\n-\treceive the request of time synchronization deactivation from the NEF or AF and disable the corresponding PTP instance(s) in the DS-TT(s) and NW-TT.\n-\tindicate whether the (g)PTP service is supported or not as per the requested acceptance criteria (e.g., based on the known timing synchronization status attribute thresholds pre-configured at gNB); and based on gNB and/or UPF/NW-TT timing synchronization status (degradation/failure/improvement) information and reporting provides a notification when there is a service status update if the NEF or AF subscribe to service status updates.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_5.2.1.2.2",
      "section_id": "5.2.1.2.2",
      "section_title": "NF Service Consumers",
      "content": "The NF service consumer supports to:\n-\tsend the request to create/update and delete the subscription to the notification of the capability of time synchronization service to TSCTSF;\n-\treceive the notification of the capability of time synchronization service;\n-\tsend the request to create, modify and delete the time synchronization configuration to the TSCTSF;\n-\tprovide clock quality reporting control information, consisting of clock quality detail level and clock quality acceptance criteria during activation or modification of time synchronization service to subscribe to time synchronization service status for the target UE(s).",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_5.2.2.1",
      "section_id": "5.2.2.1",
      "section_title": "Introduction",
      "content": "Service operations defined for the Ntsctsf_TimeSynchronization service are shown in table 5.2.2.1-1.\nTable 5.2.2.1-1: Ntsctsf_TimeSynchronization Service Operations\nService Operation Name\nDescription\nInitiated by\nNtsctsf_TimeSynchronization_CapsSubscribe\nAllows the NF service consumer to create or modify a subscription to the notification about the capability of time synchronization service for a list of UEs a group of UEs or any UE using a DNN/S-NSSAI combination.\nNF service consumer (e.g. AF, NEF)\nNtsctsf_TimeSynchronization_CapsUnsubscribe\nAllows the NF service consumer to delete the subscription to the notification about capability of time synchronization service for a list of UEs, a group of UEs or any UE using a DNN/S-NSSAI combination.\nNF service consumer (e.g. AF, NEF)\nNtsctsf_TimeSynchronization_CapsNotify\nAllows the TSCTSF to notify the NF service consumer of the capability of time synchronization service.\nTSCTSF\nNtsctsf_TimeSynchronization_ConfigCreate\nAllows the NF service consumer to create a time synchronization configuration.\nNF service consumer (e.g. AF, NEF)\nNtsctsf_TimeSynchronization_ConfigUpdate\nAllows the NF service consumers to update the time synchronization configuration.\nNF service consumer (e.g. AF, NEF)\nNtsctsf_TimeSynchronization_ConfigDelete\nAllows the NF service consumer to delete the time synchronization configuration.\nNF service consumer (e.g. AF, NEF)\nNtsctsf_TimeSynchronization_ConfigUpdateNotify\nAllows the TSCTSF to notify the NF service consumer of the state of time synchronization configuration.\nTSCTSF\nNOTE:\tThe NEF and the AF use the Ntsctsf_TimeSynchronization service in the same way.",
      "chunk_type": "general",
      "cross_references": [
        "table_5.2.2.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.2.2.2.1",
      "section_id": "5.2.2.2.1",
      "section_title": "General",
      "content": "This service operation is used by an NF service consumer to subscribe to notification of capability of time synchronization service for a list of UEs, a group of UEs or any UE using a DNN/S-NSSAI combination.\nThe following procedures using the Ntsctsf_TimeSynchronization_CapsSubscribe service operation are supported:\n-\tcreating a new subscription;\n-\tmodifying an existing subscription.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_5.2.2.2.2",
      "section_id": "5.2.2.2.2",
      "section_title": "Creating a new subscription",
      "content": "Figure 5.2.2.2.2-1 illustrates the creation of a subscription.\nFigure 5.2.2.2.2-1: Creation of a subscription\nTo subscribe the notification of the capability of time synchronization service, the NF service consumer shall send an HTTP POST message to the TSCTSF to the URI \"{apiRoot}/ntsctsf-time-sync/<apiVersion>/subscriptions\". The HTTP POST message shall include the TimeSyncExposureSubsc data structure as request body. The TimeSyncExposureSubsc data structure shall include:\n-\tthe indication of the UEs to which the time synchronization capabilities is requested via:\n-\tidentification of a list of individual UEs within a \"supis\" attribute; or\n-\tidentification of a list of individual UEs within a \"gpsis\" attribute; or\n-\tindication of any UE within the \"anyUeInd\" attribute; or\n-\tidentification of a group of UE(s) within the \"interGrpId\" attribute; or\n-\tidentification of a group of UE(s) within the \"exterGrpId\" attribute.\n-\tsubscription to event(s) notification as \"subscribedEvents\" attribute;\n-\tnotification URI within the \"subsNotifUri\" attribute;\n-\tnotification correlation Id within the \"subsNotifId\" attribute;\n-\tDNN with the \"dnn\" attribute; and\n-\tS-NSSAI with the \"snssai\" attribute;\nand may include:\n-\tthe conditions to match for notifying the event within the \"eventFilters\" attribute;\n-\tnotification method within the \"notifMethod\" attribute\n-\tmaximum number of reports within the \"maxReportNbr\" attribute;\n-\texpiry time within the \"expiry\" attribute; and\n-\treport period within the \"repPeriod\" attribute.\nUpon receipt of the HTTP request from the NF service consumer, if the request is authorized, the TSCTSF shall:\n-\tcreate a new subscription;\n-\tassign a subscription correlation ID;\n-\tselect an expiry time that is equal to or less than the expiry time potentially received in the request;\n-\tstore the subscription;\n-\tif the \"interGrpId\" attribute or \"exterGrpId\" attribute is received from the NF service consumer, interact with the UDM to retrieve the SUPI list that belong to the group using the Nudm_SDM service as defined in 3GPP TS 29.503 [24];\n-\tif the \"gpsis\" attribute is received from the NF service consumer, interact with the UDM to retrieve the SUPI(s) that correspond to the GPSI(s) using the Nudm_SDM service as defined in 3GPP TS 29.503 [24];\n-\tuse the parameters received from the NF service consumer (i.e. DNN, S-NSSAI and, if available, the list of Ues or Ues that belong to the group of Ues) and the time synchronization subscription data retrieved from UDM to determine the matching AF-session(s) that are authorized by subscription, and for any such AF-session, interact with the PCF by triggering Npcf_PolicyAuthorization_Create/Update request message as defined in 3GPP TS 29.514 [20].\nNOTE 1:\tIf the PCF determines an existing PDU Session is potentially impacted by time synchronization service (based on local configuration or SM Policy Association), the PCF invokes Npcf_PolicyAuthorization_Notify service operation to the TSCTSF as defined in clause 4.2.5.16 of 3GPP TS 29.514 [20] to send the received TSC User Plane Node information. At that time, the TSCTSF retrieves from the BSF the PCF binding information (including the UE Identities as SUPI and if available, GPSI for the notified PDU session), as specified in 3GPP TS 29.521 [23], and can create the AF-session by sending to the PCF the Npcf_PolicyAuthorization_Create service operation.\n-\tsend an HTTP \"201 Created\" response with TimeSyncExposureSubsc data structure as response body and a Location header field containing the URI of the created individual subscription resource, i.e. \"{apiRoot}/ntsctsf-time-sync/<apiVersion>/subscriptions/{subscriptionId}\".\nThe TSCTSF shall handle the AF session(s) associated with the \"Individual Time Synchronization Exposure Subscription\" resource as follows:\n-\tFor the association of AF sessions to \"Individual Time Synchronization Exposure Subscription\" resources:\na.\tUpon PDU Session establishment, i.e. when the TSCTSF receives the Npcf_PolicyAuthorization_Notify service operation for the establishment of a new PDU session, the TSCTSF shall retrieve from the BSF, as specified in 3GPP TS 29.521 [23], the PCF binding information to complete the necessary AF-Session information and triggers the Npcf_PolicyAuthorization_Create request message to the PCF to create an AF-session to subscribe to TSC user plane node related events. The TSCTSF, shall use the parameters of existing \"Individual Time Synchronization Exposure Subscription\" resources to determine whether they shall be associated to this newly created AF session. The TSCTSF associates the new AF session to the \"Individual Time Synchronization Exposure Subscription\" resources for which these parameters match. The TSCTSF shall read time synchronization capabilities from the DS-TT and NW-TT, if not available in the AF session, from the PCF by triggering Npcf_PolicyAuthorization_Update request message as defined in 3GPP TS 29.514 [20] and determine the (g)PTP capabilities from the DS-TT and the NW-TT as described in clause K.2.1 of 3GPP TS 23.501 [2]. The TSCTSF shall update the time synchronization service capability for this new DS-TT as defined in clause 5.2.2.4.2.\nb.\tUpon AF sessions establishment, i.e. when the TSCTSF receives the AF request for the time synchronization service, the TSCTSF shall retrieve Time Synchronization Subscription data from UDM. The TSCTSF, shall use the parameters of existing \"Individual Time Synchronization Exposure Subscription\" resources to determine whether they shall be associated to this newly created AF session. The TSCTSF associates the new AF session to the \"Individual Time Synchronization Exposure Subscription\" resources for which these parameters match if the AF-session (i.e., the SUPI) is authorized by UDM subscription, otherwise the AF-session is excluded.\nc.\tUpon \"Individual Time Synchronization Exposure Subscription\" resource creation, the TSCTSF uses the parameters of the created resource to determine which existing and authorized AF sessions it matches. The TSCTSF associates the new \"Individual Time Synchronization Exposure Subscription\" resource to the authorized AF sessions for which these parameters match.\n-\tTo remove an authorized AF session from the associated ones to the \"Individual Time Synchronization Exposure Subscription\" resource, when the TSCTSF receives the Npcf_PolicyAuthorization_Notify service operation indicating the termination of an existing PDU session, the TSCTSF triggers the Npcf_PolicyAuthorization_Delete request message to the PCF and determines if the corresponding AF session is associated with the \"Individual Time Synchronization Exposure Subscription\" resource. If it is so, the TSCTSF shall remove the AF session from the list of AF session(s) associated with the \"Individual Time Synchronization Exposure Subscription\" resource. The TSCTSF shall update the time synchronization service capability for this removed DS-TT as defined in clause 5.2.2.4.2.\nNOTE 2:\tAfter the TSCTSF retrieves from the BSF the PCF binding information (including the UE Identities for the notified PDU session), as specified in 3GPP TS 29.521 [23], the TSCTSF can store internally the information required to invoke Npcf_PolicyAuthorization_Create service operation and delay the Npcf_PolicyAuthorization_Create service operation (the creation of the AF session) till the subscription to notification of the capability of time synchronization service is received for the concerned authorized UE. In this case, when the TSCTSF receives the subscription request, the TSCTSF interacts with the PCF by triggering Npcf_PolicyAuthorization_Create message as defined in 3GPP TS 29.514 [20].\nNOTE 3:\tWhen the TSCTSF receives the Npcf_PolicyAuthorization_Notify service operation indicating the termination of an existing PDU session associated to an AF session that it is not associated with any \"Individual Time Synchronization Exposure Subscription\" resource, the TSCTSF can remove the AF-session and triggers the Npcf_PolicyAuthorization_Delete request message to the PCF.\nIf the AF request is not authorized and/or the feature \"SupportReport\" is supported and the UE's Time Synchronization Subscription data indicates that the requested UE(s) are not allowed for AF-provided (g)PTP service, the TSCTSF shall reject the NF service consumer request and include in an HTTP \"403 Forbidden\" response message the \"cause\" attribute set to \"UE_SERVICE_NOT_AUTHORIZED\".\nIf the TSCTSF cannot successfully fulfil the received HTTP POST request due to the internal TSCTSF error or due to the error in the HTTP POST request, the TSCTSF shall send the HTTP error response as specified in clause 6.1.7.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.514_clause_4.2.5.16",
        "clause_5.2.2.4.2",
        "clause_6.1.7",
        "figure_5.2.2.2.2-1",
        "ts_29.503",
        "ts_29.514",
        "ts_29.521",
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.2.2.2.3",
      "section_id": "5.2.2.2.3",
      "section_title": "Modifying an existing subscription",
      "content": "Figure 5.2.2.2.3-1 illustrates the modification of a subscription.\nFigure 5.2.2.2.3-1: Modification of a subscription\nTo modify the subscription to the notification of the capability of time synchronization service, the NF service consumer shall send an HTTP PUT message to the TSCTSF to the URI \"{apiRoot}/ntsctsf-time-sync/<apiVersion>/subscriptions/{subscriptionId}\" representing an existing \"Individual Time Synchronization Exposure Subscription\" resource, as shown in figure 5.2.2.2.3-1, step 1. The HTTP PUT message shall include the TimeSyncExposureSubsc data structure as request body. The TimeSyncExposureSubsc data structure shall include the parameters as defined in clause 5.2.2.2.2.\nUpon receipt of the HTTP request from the NF service consumer, if the request is authorized, the TSCTSF shall:\n-\tupdate the existing \"Individual Time Synchronization Exposure Subscription\" resource;\n-\tidentify the affected AF session(s) based on the parameters received from the NF service consumer and interact with the PCF by triggering Npcf_PolicyAuthorization_Update request message as defined in 3GPP TS 29.514 [20] for the new added UE(s), by triggering Npcf_PolicyAuthorization_Delete request message as defined in 3GPP TS 29.514 [20] for the removed UE(s) or by triggering Npcf_PolicyAuthorization_Update request message as defined in 3GPP TS 29.514 [20] for the existing UE(s) if necessary.\nNOTE 1:\tIf the PCF determines an existing PDU Session is potentially impacted by time synchronization service (based on local configuration or SM Policy Association), the PCF invokes Npcf_PolicyAuthorization_Notify service operation to the TSCTSF as defined in clause 4.2.5.16 of 3GPP TS 29.514 [20] to send the received TSC User Plane Node information. At that time, the TSCTSF retrieves from the BSF the PCF binding information (including the UE Identities as SUPI and if available, GPSI for the notified PDU session), as specified in 3GPP TS 29.521 [23], and can create the AF-session by sending to the PCF the Npcf_PolicyAuthorization_Create service operation.\nNOTE 2:\tAfter the TSCTSF retrieves from the BSF the PCF binding information (including the UE Identities for the notified PDU session), as specified in 3GPP TS 29.521 [23], the TSCTSF can store internally the information required to invoke Npcf_PolicyAuthorization_Create service operation and delay the Npcf_PolicyAuthorization_Create service operation (the creation of the AF-session) till the subscription to notification of the capability of time synchronization service is received for the concerned UE. In this case, when the TSCTSF receives the subscription request, the TSCTSF interacts with the PCF by triggering Npcf_PolicyAuthorization_Create message as defined in in 3GPP TS 29.514 [20].\n-\tupdate the list of AF sessions that are associated to the \"Individual Time Synchronization Exposure Subscription\" resource (i.e. add or remove AF sessions as associated to this resource) based on if the parameters of the AF sessions match the updated parameters of the \"Individual Time Synchronization Exposure Subscription\" resource.\n-\tsend a HTTP response including \"200 OK\" status code with TimeSyncExposureSubsc data structure or \"204 No Content\" status code, as shown in figure 5.2.2.2.3-1, step 2.\nIf the AF request is not authorized and/or the feature \"SupportReport\" is supported and the UE's Time Synchronization Subscription data indicates that the requested UE(s) are not allowed for AF-provided (g)PTP service, the TSCTSF shall reject the NF service consumer request and include in an HTTP \"403 Forbidden\" response message the \"cause\" attribute set to \"UE_SERVICE_NOT_AUTHORIZED\".\nIf the HTTP PUT request from the NF service consumer is not accepted, the TSCTSF shall indicate in the response to HTTP PUT request the cause for the rejection as specified in clause 6.1.7.\nIf the TSCTSF determines the received HTTP PUT request needs to be redirected, the TSCTSF shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].",
      "chunk_type": "general",
      "cross_references": [
        "clause_5.2.2.2.2",
        "ts_29.514_clause_4.2.5.16",
        "clause_6.1.7",
        "ts_29.500_clause_6.10.9",
        "figure_5.2.2.2.3-1",
        "ts_29.514",
        "ts_29.521",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.2.2.3.1",
      "section_id": "5.2.2.3.1",
      "section_title": "General",
      "content": "This service operation is used by an NF service consumer to unsubscribe from the notifications.\nThe following procedure using the Ntsctsf_TimeSynchronization_CapsUnsubscribe service operation is supported:\n-\tunsubscription from capability notifications.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_5.2.2.3.2",
      "section_id": "5.2.2.3.2",
      "section_title": "Unsubscription from capability notifications",
      "content": "Figure 5.2.2.3.2-1 illustrates the unsubscription from event notifications.\nFigure 5.2.2.3.2-1: Unsubscription from capability notifications\nTo unsubscribe from event notifications, the NF service consumer shall send an HTTP DELETE request with: \"{apiRoot}/ntsctsf-time-sync/<apiVersion>/subscriptions/{subscriptionId}\" as Resource URI, where \"{subscriptionId}\" is the subscription correlation ID of the existing subscription that is to be deleted.\nUpon the reception of the HTTP DELETE request, if the received HTTP request is successfully processed and accepted, the TSCTSF shall:\n-\tremove the corresponding subscription;\n-\tidentify the affected AF session(s) and, for each AF session, interact with the PCF by triggering Npcf_PolicyAuthorization_Delete request message as defined in 3GPP TS 29.514 [20]; and\n-\tsend an HTTP \"204 No Content\" response.\nIf the HTTP DELETE request from the NF service consumer is not accepted, the TSCTSF shall indicate in the response to HTTP DELETE request the cause for the rejection as specified in clause 6.1.7.\nIf the TSCTSF determines the received HTTP DELETE request needs to be redirected, the TSCTSF shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.1.7",
        "ts_29.500_clause_6.10.9",
        "figure_5.2.2.3.2-1",
        "ts_29.514",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.2.2.4.1",
      "section_id": "5.2.2.4.1",
      "section_title": "General",
      "content": "This service operation is used by the TSCTSF to send notifications to NF service consumers upon the detection of the capability of the time synchronization service for a list of UEs.\nThe following procedure using the Ntsctsf_TimeSynchronization_CapsNotify service operation is supported:\n-\tnotification about the capability of time synchronization service.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_5.2.2.4.2",
      "section_id": "5.2.2.4.2",
      "section_title": "Notification about the capability of time synchronization service",
      "content": "Figure 5.2.2.4.2-1 illustrates the notification about the capability of time synchronization service.\nFigure 5.2.2.4.2-1: Notification about the capability of time synchronization service\nThe TSCTSF maintains the association between the AF session(s) and the Individual Time Synchronization Exposure Subscription resource as defined in clause 5.2.2.2.2 and detects the capability of time synchronization service (for a list of Ues, a group of Ues or any UE in a DNN and S-NSSAI), by composing the time synchronization capabilities for the DS-TT/UE(s) connected to the NW-TT based on the capability information received from the DS-TT(s) and NW-TT via the PCF in the corresponding PMIC(s)/UMIC. If the NF service consumer includes an Event Filter with one or more of the requested PTP instance type, requested transport protocol for PTP, or requested PTP Profile, the TSCTSF considers only the DS-TT(s) and NW-TT(s) with these capabilities as part of the time synchronization capability set that is reported to the NF service consumer. If necessary, when the list of AF session(s) associated to the Individual Time Synchronization Exposure Subscription resource changes, e.g. upon PDU Session establishment or termination, the TSCTSF may notify the update of the capability of time synchronization service for the DS-TT/UE(s) connected to the NW-TT(s). In order to send the capability of time synchronization service to the NF service consumer, the TSCTSF shall send an HTTP POST request with \"{subsNotifUri}\", as previously provided by the NF service consumer within the corresponding subscription, as request URI and TimeSyncExposureSubsNotif data structure as request body that shall include:\n-\tNotification correlation ID provided by the NF service consumer during the subscription within \"subsNotifId\" attribute; and\n-\tinformation about the observed event(s) within the \"eventNotifs\" attribute that shall contain for each observed event an \"SubsEventNotification\" data structure that shall include:\n1.\tthe detected event within the  \"event\" attribute;\n2.\twhen the event is \"AVAILABILITY_FOR_TIME_SYNC_SERVICE\", the capabilities of time synchronization service for one or more user plane nodes with the \"timeSyncCapas\" attribute. Within each instance of TimeSyncCapability data structure, the TSCTSF shall include:\na.\tthe identifier of the applicable NW-TT within the \"upNodeId\" attribute;\nb.\tthe \"gmCapables\" attribute indicating if the user plane node supports acting as a gPTP and/or PTP grandmaster;\nc.\tthe supported 5G clock quality within the \"asTimeRes\" attribute, if applicable; and\nd.\tthe PTP capabilities for each UE within the \"ptpCapForUes\" attribute, when the Ues are identified with a SUPI, or within \"ptpCapForGpsis\" attribute, when the Ues are identified with a GPSI.\nUpon the reception of an HTTP POST, the NF service consumer shall send an HTTP \"204 No Content\" response for a successful processing.\nIf the HTTP POST request from the TSCTSF is not accepted, the NF service consumer shall indicate in the response to HTTP POST request the cause for the rejection as specified in clause 6.1.7.\nIf the NF service consumer determines the received HTTP POST request needs to be redirected, the NF service consumer shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].",
      "chunk_type": "general",
      "cross_references": [
        "clause_5.2.2.2.2",
        "clause_6.1.7",
        "ts_29.500_clause_6.10.9",
        "figure_5.2.2.4.2-1",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.2.2.5.1",
      "section_id": "5.2.2.5.1",
      "section_title": "General",
      "content": "This service operation is used by an NF service consumer to create a time synchronization configuration and activate the time synchronization service with the configuration.\nThe following procedures using the Ntsctsf_TimeSynchronization_ConfigCreate service operation are supported:\n-\tcreating a new configuration; and\n-\tcreating a subscription for notification for the changes in the time synchronization service configuration.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_5.2.2.5.2",
      "section_id": "5.2.2.5.2",
      "section_title": "Creating a new configuration",
      "content": "Figure 5.2.2.5.2-1 illustrates the creation of a configuration.\nFigure 5.2.2.5.2-1: Creation of a configuration\nTo create a configuration, the NF service consumer shall send an HTTP POST message to the TSCTSF to the URI \"{apiRoot}/ntsctsf-time-sync/<apiVersion>/subscriptions/{subscriptionId}/configurations\". The HTTP POST message shall include the TimeSyncExposureConfig data structure as request body, as shown in figure 5.2.2.5.2-1, step 1. The TimeSyncExposureConfig data structure shall include:\n-\tthe user plane node Id within the \"upNodeId\" attribute;\n-\tthe requested PTP instance within the \"reqPtpIns\" attribute. If the feature \"TimeSyncExposureConfig_Corr\" is not supported, the (g)PTP ports of the PTP Instance shall be identified only with the GPSI included in the \"gpsi\" attribute, and, if the feature \"TimeSyncExposureConfig_Corr\" is supported, (g)PTP ports of the PTP Instance may be identified either by the GPSI included within the \"gpsi\" attribute or by the SUPI included in the \"supi\" attribute;\n-\tthe time domain within the \"timeDom\" attribute;\n-\tthe notification URI within the \"configNotifUri\" attribute;\n-\tthe notification correlation Id within the \"configNotifId\" attribute;\nand may include:\n-\tthe \"gmEnable\" attribute set to true if the AF requests 5GS to act as a grandmaster for PTP or gPTP;\n-\tthe time synchronization error budget within the \"timeSyncErrBdgt\" attribute;\n-\tthe gandmaster priority with the \"gmPrio\" attribute;\n-\tthe temporal validity condition within the \"tempValidity\" attribute;\n-\tif the \"CoverageAreaSupport\" feature is supported, the time synchronization coverage area encoded as \"covReq\" attribute, that contains a list of Tracking Area codes per serving network where the requested PTP instance applies; and\n-\tif the \"NetTimeSyncStatus\" feature is supported, the clock quality detail level in the \"clkQltDetLvl\" attribute and the clock quality acceptance criteria for the PTP instance in the \"clkQltAcptCri\" attribute if applicable, if the NF service consumer subscribes to receiving network time synchronization status report(s).\nNOTE 1:\tThe AF request for PTP service activation, modification cannot indicate that the clock quality detail level to provide is \"metrics\", i.e. if the AF includes the clock quality detail level, its value needs to set to \"acceptable/not acceptable indication\" and accompanied with \"clock quality acceptance criteria\". The UE/DS-TT retrieves detailed information (timing synchronization metrics) from Announce messages sent for (g)PTP services.\nUpon receipt of the HTTP request from the NF service consumer, if the request is authorized, the TSCTSF shall:\n-\tcreate a new resource, which represents a new \"Individual Time Synchronization Exposure Configuration\" instance, addressed by a URI as defined in clause 6.1.3.5 and containing a TSCTSF created resource identifier;\n-\tsend an HTTP \"201 Created\" response with TimeSyncExposureConfig data structure as response body and a Location header field containing the URI of the created Individual Time Synchronization Exposure Configuration resource, i.e. \"{apiRoot}/ntsctsf-time-sync/<apiVersion>/subscriptions/{subcriptionId}/configuration/{configurationId}\", as shown in figure 5.2.2.5.2-1, step 2;\n-\tuse the {subscriptionId} within the requested URI and user plane node ID within the \"upNodeId\" attribute in the request to determine the target UEs and corresponding authorized AF sessions, then use the parameters (e.g. requested PTP instance type, transport protocol, and PTP profile) in the request to determine suitable DS-TT(s) and AF session(s) among all the AF session(s) and:\na.\tif the \"CoverageAreaSupport\" feature is supported and a time synchronization coverage area is provided within the \"covReq\" attribute, the TSCTSF perform the following operations:\n1.\tIf the UE's Time Synchronization Subscription data from the UDM contains the list of TA(s) that comprise the authorized time synchronization coverage area, if the requested time synchronization coverage area within the \"covReq\" attribute is within the authorized time synchronization coverage area, the TSCTSF determines that the time synchronization coverage area is fulfilled, and the UE is authorized for the requested time synchronization service. If the Authorized Time Synchronization Coverage Area is inside of the requested Coverage Area, the TSCTSF uses the Authorized Time Synchronization Coverage Area. If the requested Coverage Area partly overlaps with the Authorized Time Synchronization Coverage Area, the TSCTSF uses the intersection of them. If there is no overlap between them, the TSCTSF shall reject the AF request as described in clause 5.27.1.11 of 3GPP TS 23.501 [2].\n2.\tThe TSCTSF discovers the list of AMF(s) serving the list of TA(s) that comprise the authorized time synchronization coverage area using the Nnrf_NFDiscovery service operation as described in 3GPP TS 29.510 [10], if they are not available, and, for each UE with matched AF-sessions, subscribes with the discovered AMF(s) to receive notifications about presence of the UE in an Area of Interest events using the Namf_EventExposure service as described in 3GPP TS 29.518 [27], where the Area of Interest is the provided time synchronization coverage area.\n3.\tBased on the outcome provided by the AMF about the UE’s presence in the Area of Interest and the authorized time synchronization coverage area, the TSCTSF determines if the time synchronization service is activated or deactivated:\ni.\tIf the UE presence is within any of the TAs from the authorized time synchronization coverage area, the TSCTSF determines that the time synchronization coverage area condition is fulfilled, and the UE is authorized for the activation of the received PTP instance configuration.\nii.\tIf the UE presence is not within any of the TAs from the authorized time synchronization coverage area, the TSCTSF determines that the time synchronization coverage area condition is not fulfilled, and the UE is not authorized for the activation of the received PTP instance configuration;\nb\tIf the UE's Time Synchronization Subscription data contains the authorized Uu time synchronization error budget, and the requested time synchronization error budget within the \"timeSyncErrBdgt\" attribute is within the authorized time synchronization Uu time synchronization error budget, the TSCTSF determines that the UE(s) are authorized for the requested time synchronization service.\nc.\tIf the UE's Time Synchronization Subscription data contains the periods of authorized start and stop times, and the requested temporal validity condition within the \"tempValidity\" attribute is within any of the periods of authorized start and stop times, the TSCTSF determines that the UE is authorized for the requested time synchronization service.\nd.\tIf the UE's Time Synchronization Subscription data contains the clock quality detail level and the clock quality acceptance criteria and if the \"NetTimeSyncStatus\" feature is supported and the requested clock quality detail level within the \"clkQltDetLvl\" attribute and optionally the clock quality acceptance criteria in the \"clkQltAcptCri\" attribute are within the authorized clock quality detail level and the clock quality acceptance criteria, the TSCTSF determines that the UE is authorized for the requested time synchronization service.\nNOTE 2:\tEach parameter in the AF requested clock quality information is evaluated individually, if the TSCTSF determines that at least one parameter within the \"ACCEPT_INDICATION\" attribute is “not acceptable”, the TSCTSF shall reject the AF request as described in clause 5.27.1.11 of 3GPP TS 23.501 [2].\n-\tcreate a new resource, which represents a new \"Individual Time Synchronization Exposure Configuration\" instance, addressed by a URI as defined in clause 6.1.3.5 and containing a TSCTSF created resource identifier;\n-\tsend an HTTP \"201 Created\" response with TimeSyncExposureConfig data structure as response body and a Location header field containing the URI of the created Individual Time Synchronization Exposure Configuration resource, i.e. \"{apiRoot}/ntsctsf-time-sync/<apiVersion>/subscriptions/{subcriptionId}/configuration/{configurationId}\", as shown in figure 5.2.2.5.2-1, step 2;\n-\tfor each authorized UE and matched AF-session, contact with the each corresponding PCF for the PDU session to configure and initialize the PTP instance in the DS-TT(s) and NW-TT as defined in 3GPP TS 23.502 [3], clause 4.15.9.3.2, step 5-6;\n-\tfor each authorized UE and matched AF-session(s), calculate the Uu time synchronization error budget as specified in clauses 5.27.1.9 and 5.27.1.11 of 3GPP TS 23.501 [2], subscribe to event notifications of newly registered PCF for the UE for the affected Ues by invoking Nbsf_Management_Subscribe Service Operation as defined in clause 4.2.6 of 3GPP TS 29.521 [23] if not yet done, and send a request to the PCF for the UE for AM policy authorization by invoking Npcf_AMPolicyAuthorization_Create service operation as defined in clause 4.2.2 of 3GPP TS 29.534 [14] providing the appropriate values in the \"asTimeDisParam\" attribute in order to activate the access stratum time distribution and provide the calculated Uu time synchronization error budget.\n-\tif the \"NetTimeSyncStatus\" feature is supported and  each parameter of the clock quality acceptance criteria provided in the \"clkQltAcptCri\" attribute is within the each parameter of the authorized clock quality acceptance criteria in the UE's Time Synchronization Subscription data, then the TSCTSF:\n1.\tsubscribe to UPF/NW-TT time synchronization status reports via UMIC as described in clause 4.2.2.31 of 3GPP TS 29.514 [20], if the UPF/NW-TT is involved in providing time synchronization information to DS-TT; and\n2.\tin case NG-RAN is involved in providing time synchronization status information to DS-TT, send the time synchronization status reporting control information to the NG-RAN and then initiate the subscription to the NG-RAN time synchronization status via AMF, if not previously done for the involved NG-RAN node, as described in 3GPP TS 29.518 [27].\nIf the authorized temporal validity condition is provided and if the start-time is in the future, the TSCTSF shall maintain the time synchronization configuration and then proceed as described above when the start-time is reached; otherwise, if the start-time is in the past, the TSCTSF shall proceed as described above immediately. When the stop-time is reached for active time synchronization service configuration, the TSCTSF shall proceed as Ntsctsf_TimeSynchronization_ConfigDelete was received as described in clause 5.2.2.7.2 without interacting with the AF.\nThe TSCTSF shall associate the affected UEs and matched AF sessions to the \"Individual Time Synchronization Exposure Configuration\". When the \"CoverageAreaSupport\" feature is supported, the TSCTSF also associates whether the UE fulfills the authorized time synchronization coverage area condition, if provided. When receiving the Npcf_PolicyAuthorization_Notify service operation indicating the termination of an existing PDU session and the corresponding AF session is associated with the \"Individual Time Synchronization Exposure Configuration\" resource, the TSCTSF shall remove the AF session from the list of AF sessions associated with the \"Individual Time Synchronization Exposure Configuration\" resource and invoke Npcf_AMPolicyAuthorization_Delete service operation as defined in clause 4.2.4 of 3GPP TS 29.534 [14] to remove the access stratum time distribution parameters for the UE if they were provided.\nIf the AF request is not authorized and/or the feature \"SupportReport\" is supported and for the requested UE(s) the AF provided parameters are not allowed by subscription, the TSCTSF shall reject the NF service consumer request and indicate in an HTTP \"403 Forbidden\" response message the \"cause\" attribute set to \"UE_SERVICE_NOT_AUTHORIZED\".\nIf the HTTP POST request from the NF service consumer is not accepted, the TSCTSF shall indicate in the response to HTTP POST request the cause for the rejection as specified in clause 6.1.7.\nIf the TSCTSF determines the received HTTP POST request needs to be redirected, the TSCTSF shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1.3.5",
        "ts_23.501_clause_5.27.1.11",
        "ts_23.502_clause_4.15.9.3.2",
        "ts_29.521_clause_4.2.6",
        "ts_29.534_clause_4.2.2",
        "ts_29.514_clause_4.2.2.31",
        "clause_5.2.2.7.2",
        "ts_29.534_clause_4.2.4",
        "clause_6.1.7",
        "ts_29.500_clause_6.10.9",
        "figure_5.2.2.5.2-1",
        "ts_23.501",
        "ts_29.510",
        "ts_29.518",
        "ts_23.502",
        "ts_29.521",
        "ts_29.534",
        "ts_29.514",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.2.2.6.1",
      "section_id": "5.2.2.6.1",
      "section_title": "General",
      "content": "This service operation is used by an NF service consumer to update a time synchronization configuration.\nThe following procedures using the Ntsctsf_TimeSynchronization_ConfigUpdate service operation are supported:\n-\tUpdating an existing configuration;\n-\tCreating the subscription for notification for the changes in the time synchronization service configuration in case the subscription was not created before.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_5.2.2.6.2",
      "section_id": "5.2.2.6.2",
      "section_title": "Updating an existing configuration",
      "content": "Figure 5.2.2.6.2-1 illustrates the updating of an existing configuration.\nFigure 5.2.2.6.2-1: Update of a configuration\nTo update a configuration, the NF service consumer shall send an HTTP PUT request to the resource \"{apiRoot}/ntsctsf-time-sync/<apiVersion>/subscriptions/{subscriptionId}/configurations/{configurationId}\" representing an existing \"Individual Time Synchronization Exposure Configuration\" resource, as shown in figure 5.2.2.6.2-1, step 1, to modify the configuration.\nThe TimeSyncExposureConfig data structure provided in the request body shall include:\n-\tthe user plane node Id within the \"upNodeId\" attribute;\nNOTE 1:\t\tThe user plane node Id cannot be changed during the modification.\n-\tthe requested PTP instance within the \"reqPtpIns\" attribute. If the feature \"TimeSyncExposureConfig_Corr\" is not supported, the (g)PTP ports of the PTP Instance shall be identified only with the GPSI included in the \"gpsi\" attribute, and, if the feature \"TimeSyncExposureConfig_Corr\" is supported, (g)PTP ports of the PTP Instance may be identified either by the GPSI included within the \"gpsi\" attribute or by the SUPI included in the \"supi\" attribute;\n-\tthe time domain within the \"timeDom\" attribute;\nNOTE 2:\tThe user plane node Id, the requested PTP instance and the time domain cannot be changed during the modification.\n-\tthe notification URI within the \"configNotifUri\" attribute;\n-\tthe notification correlation Id within the \"configNotifId\" attribute;\nNOTE 3:\t\tIf the notification URI or notification correlation Id is not changed the previously value is included.\nand may include:\n-\tthe \"gmEnable\" attribute set to true if the AF requests 5GS to act as a grandmaster for PTP or gPTP;\n-\tthe time synchronization error budget within the \"timeSyncErrBdgt\" attribute;\n-\tthe gandmaster priority with the \"gmPrio\" attribute;\n-\tthe temporal validity condition within the \"tempValidity\" attribute;\n-\tif the \"CoverageAreaSupport\" feature is supported, the spatial validity condition encoded as \"covReq\" attribute, that contains a list of Tracking Area codes per serving network where the requested PTP instance applies; and\n-\tif the \"NetTimeSyncStatus\" feature is supported, the clock quality detail level in the \"clkQltDetLvl\" attribute and the clock quality acceptance criteria for the PTP instance in the \"clkQltAcptCri\" attribute if applicable.\nUpon receipt of the corresponding HTTP PUT message, if the request is authorized, theTSCTSF shall:\n-\tupdate the existing \"Individual Time Synchronization Exposure Configuration\" resource;\n-\tsend a HTTP response including \"200 OK\" status code with TimeSyncExposureConfig data structure or \"204 No Content\" status code, as shown in figure 5.2.2.6.2-1, step 2;\n-\tuse the {subscriptionId} within the requested URI and user plane node ID within the \"upNodeId\" attribute in the request to determine the target UEs and corresponding AF-sessions, then use the updated parameters (e.g. requested PTP instance type, transport protocol, and PTP profile) in the request to determine suitable DS-TT(s) and AF session(s) among all AF session:\na.\tIf the \"CoverageAreaSupport\" feature is supported and a requested coveragea area is provided or updated within the \"covReq\" attribute, the TSCTSF perform the following operations:\n1.\tthe TSCTSF, based on the time synchronization coverage area retrieved from UDM determines whether the UE is authorized for the request again as described in clause 5.2.2.5.2.\n2.\tThe TSCTSF discovers the list of AMF(s) serving the list of TA(s) that comprise the authorized time synchronization coverage area using the Nnrf_NFDiscovery service operation as described in 3GPP TS 29.510 [10], if they are not available, and for each UE with matched AF-sessions, subscribes/updates the subscription, if applicable, with the discovered AMF(s) to receive notifications about presence of the UE in an Area of Interest events using the Namf_EventExposure service as described in 3GPP TS 29.518 [27], where the Area of Interest is the requested/applicable spatial validity condition.\n3.\tBased on the outcome provided by the AMF or available in the TSCTSF about the UE’s presence in the Area of Interest, the TSCTSF determines if the time synchronization service is activated or deactivated:\ni.\tIf the UE presence is within any of the TAs from the authorized time synchronization coverage area, the TSCTSF determines that the spatial validity condition is fulfilled, and the UE is authorized for the activation of the received PTP instance configuration.\n-\tIf the UE presence is within any of the TAs from the authorized time synchronization coverage area, the TSCTSF determines that the spatial validity condition is not fulfilled, and the UE is not authorized for the activation of the received PTP instance configuration;\nb.\tIf the \"CoverageAreaSupport\" feature is supported and a requested coverage area previously provided is removed, the TSCTSF perform the following operations:\n1.\tFor each UE with matched AF-sessions, the TSCTSF terminates the subscriptions to notifications about presence of the UE in an Area of Interest events using the Namf_EventExposure service as described in 3GPP TS 29.518 [27].\n2.\tFor each UE with matched AF-sessions that did not fulfil the removed spatial validity condition, the TSCTSF determines the UE is authorized for the activation of the received PTP instance configuration\nc.\tIf the time synchronization error budget within the \"timeSyncErrBdgt\" attribute, the temporal validity condition within the \"tempValidity\" attribute, and/or, if the \"NetTimeSyncStatus\" feature is supported the requested clock quality detail level within the \"clkQltDetLvl\" attribute and optionally the clock quality acceptance criteria in the \"clkQltAcptCri\" attribute from the NF service consumer are provided, updated, or removed, the TSCTSF based on the Time Synchronization Subscription data retrieved from the UDM determines whether the UE is authorized for the request again as described in clause 5.2.2.5.2.\n-\tupdate the existing \"Individual Time Synchronization Exposure Configuration\" resource;\n-\tsend a HTTP response including \"200 OK\" status code with TimeSyncExposureConfig data structure or \"204 No Content\" status code, as shown in figure 5.2.2.6.2-1, step 2;\n-\tfor each authorized UE and matched AF-session, and contact with each correspondingPCF for the PDU session to configure and initialize the PTP instance in the DS-TT(s) and NW-TT as defined in 3GPP TS 23.502 [3], clause 4.15.9.3.3, step 5-6. The TSCTSF associates the new affected AF session(s) with the \"Individual Time Synchronization Exposure Configuration\" resource.\n-\tfor each authorized UE with matched AF-session(s), if the time synchronization error budget is provided, updated, or removed, calculate the Uu time synchronization error budget as specified in clause 5.27.1.9 of 3GPP TS 23.501 [2]and send a request to the PCF for the UE for AM policy authorization by invoking Npcf_AMPolicyAuthorization_Update service operation as defined in clause 4.2.3 of 3GPP TS 29.534 [14] in order to update the Uu time synchronization error budget.\n-\tif the \"NetTimeSyncStatus\" feature is supported and the updated clock quality acceptance criteria is provided within the \"clkQltAcptCri\" attribute, then the TSCTSF if the updated clock quality acceptance criteria is within the authorized clock quality acceptance criteria in the UE's Time Synchronization Subscription data, and the clock acceptance criteria results is not available, then TSCTSF shall:\n1.\tsubscribe to UPF/NW-TT time synchronization status reports via UMIC as described in clause 4.2.3.34 of 3GPP TS 29.514 [20], if the UPF/NW-TT is involved in provoding time information to DS-TT; and\n2.\tin case NG-RAN is involved in providing time synchronization status information to DS-TT, then TSCTSF sends the updated configuration of time synchronization status reporting to the NG-RAN and then initiates the subscription to the NG-RAN time synchronization status via, as described in 3GPP TS 29.518 [27]\nIf the temporal validity condition was provided but it is removed during the update of time synchronization configuration, the TSCTSF shall perform the time synchronization configuration as described above without considering the temporal validity condition.\nIf the temporal validity condition was not provided and the temporal validity condition is provided during the update of configuration, the TSCTSF shall perform as follows:\n-\tif the authorized start-time is in the future, the TSCTSF shall maintain the authorized time synchronization configuration and then proceeds as described above when the authorized start-time is reached; otherwise, if the authorized start-time is in the past, the TSCTSF shall proceed as described above immediately; and\n-\tif the authorized stop-time is reached for active time synchronization service configuration, the TSCTSF shall proceed as Ntsctsf_TimeSynchronization_ConfigDelete was received as described in clause 5.2.2.7.2 without interacting with the AF.\nIf the temporal validity condition was provided and the temporal validity condition is updated during the update of configuration, the TSCTSF shall perform as follows:\n-\tif the previously provided authorized time configuration is being applied but the new start-time is in the future, the TSCTSF shall proceed as Ntsctsf_TimeSynchronization_ConfigDelete was received as described in clause 5.2.2.7.2 without interacting with the AF firstly and then proceeds as described above when the new start-time is reached; otherwise if the time synchronization configuration has been created but the newstart-time is in the past, the TSCTSF keep the existing configuration;\n-\twhen the new stop-time is reached for active time synchronization service configuration, the TSCTSF shall proceed as Ntsctsf_TimeSynchronization_ConfigDelete was received as described in clause 5.2.2.7.2 without interacting with the AF; and\n-\tif the previously provided time configuration is not being applied because the previously provided authorized start-time is in the future, the TSCTSF shall perform as the case that the temporal validity condition was not provided previously.\nThe TSCTSF shall associate the affected UEs and matched AF session to the \"Individual Time Synchronization Exposure Configuration\". When the \"CoverageAreaSupport\" feature is supported, the TSCTSF also associates whether the UE fulfills the spatial validity condition, if provided. When receiving the Npcf_PolicyAuthorization_Notify service operation indicating the termination of an existing PDU session and the corresponding AF session is associated with the \"Individual Time Synchronization Exposure Configuration\" resource, the TSCTSF shall remove the AF session from the list of AF sessions associated with the \"Individual Time Synchronization Exposure Configuration\" resource and invoke Npcf_AMPolicyAuthorization_Delete service operation as defined in clause 4.2.4 of 3GPP TS 29.534 [14] to remove the access stratum time distribution parameters for the UE if they were provided.\nIf the AF request is not authorized and/or the feature \"SupportReport\" is supported and for the requested UEs one or more of the AF provided parameters are not allowed by subscription, the TSCTSF shall indicate in an HTTP \"403 Forbidden\" response message the \"cause\" attribute set to \"UE_SERVICE_NOT_AUTHORIZED\".\nIf the HTTP PUT request from the NF service consumer is not accepted, the TSCTSF shall indicate in the response to HTTP PUT request the cause for the rejection as specified in clause 6.1.7.\nIf the TSCTSF determines the received HTTP PUT request needs to be redirected, the TSCTSF shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.5.2",
        "ts_23.502_clause_4.15.9.3.3",
        "ts_23.501_clause_5.27.1.9",
        "ts_29.534_clause_4.2.3",
        "ts_29.514_clause_4.2.3.34",
        "clause_5.2.2.7.2",
        "ts_29.534_clause_4.2.4",
        "clause_6.1.7",
        "ts_29.500_clause_6.10.9",
        "figure_5.2.2.6.2-1",
        "ts_29.510",
        "ts_29.518",
        "ts_23.502",
        "ts_23.501",
        "ts_29.534",
        "ts_29.514",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.2.2.7.1",
      "section_id": "5.2.2.7.1",
      "section_title": "General",
      "content": "This service operation is used by an NF service consumer to delete a time synchronization configuration.\nThe following procedures using the Ntsctsf_TimeSynchronization_ConfigDelete service operation are supported:\n-\tDeleting an existing configuration.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_5.2.2.7.2",
      "section_id": "5.2.2.7.2",
      "section_title": "Deleting an existing configuration",
      "content": "Figure 5.2.2.7.2-1 illustrates the deleting of an existing configuration.\nFigure 5.2.2.7.2-1: Deletion of a configuration\nTo delete a configuration, the NF service consumer shall send an HTTP DELETE request to the resource \"{apiRoot}/ntsctsf-time-sync/<apiVersion>/subscriptions/{subscriptionId}/configurations/{configurationId}\" representing an existing \"Individual Time Synchronization Exposure Configuration\" resource, as shown in figure 5.2.2.7.2-1, step 1, to delete the configuration.\nUpon the reception of an HTTP DELETE request and if the HTTP DELETE request is accepted by the TSCTSF, the TSCTSF shall:\n-\tremove the corresponding configuration and respond with \"204 No Content\" as shown in figure 5.2.2.7.2-1, step 2;\n-\tuse the {configurationId} within the requested URI to identify the time synchronization service configuration and the corresponding AF sessions, and then interact with:\n-\tthe PCF(s) for the PDU Session to disable the corresponding PTP instance(s) in the DS-TT(s) and NW-TT as defined in 3GPP TS 23.502 [3], clause 4.15.9.3.4, step 5-6.\n-\tthe PCF(s) for the UE to remove the time synchronization error budget by invoking the Npcf_AMPolicyAuthorization_Delete service operation as defined in clause 4.2.4 of 3GPP TS 29.534 [14].\nIf the HTTP DELETE request from the NF service consumer is not accepted, the TSCTSF shall indicate in the response to HTTP DELETE request the cause for the rejection as specified in clause 6.1.7.\nIf the TSCTSF determines the received HTTP DELETE request needs to be redirected, the TSCTSF shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.502_clause_4.15.9.3.4",
        "ts_29.534_clause_4.2.4",
        "clause_6.1.7",
        "ts_29.500_clause_6.10.9",
        "figure_5.2.2.7.2-1",
        "ts_23.502",
        "ts_29.534",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.2.2.8.1",
      "section_id": "5.2.2.8.1",
      "section_title": "General",
      "content": "This service operation is used by an TSCTSF to notify the NF Service Consumer of the current state of the time synchronization configuration.\nThe following procedures using the Ntsctsf_TimeSynchronization_ConfigUpdateNotify service operation are supported:\n-\tnotification about the current state of the time synchronization configuration.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_5.2.2.8.2",
      "section_id": "5.2.2.8.2",
      "section_title": "Notifying the current state of an existing configuration",
      "content": "Figure 5.2.2.8.2-1 illustrates the notification about the current state of the time synchronization configuration.\nFigure 5.2.2.8.2-1: Notification about the current state of the time synchronization configuration\nWhen the TSCTSF determines that the modification of the configuration of the PTP instance(s) in a DS-TT and/or NW-TT, the TSCTSF receives the notification of the change in the PTP instance for each DS-TT and/or NW-TT from the PCF as defined in clause 4.2.5.13 of 3GPP TS 29.514 [20] or the TSCTSF receives the NG-RAN time synchronization status update related to clock quality acceptance criteria via AMF as described in clause 5.2.2.4.2 of 3GPP TS 29.518 [27] and determines the affected PTP instance(s), the TSCTSF shall send an HTTP POST request with \"{configNotifUri}\", as previously provided by the NF service consumer within the corresponding configuration, as URI and the TimeSyncExposureConfigNotif data structure as request body, as shown in figure 5.2.2.8.2-1, step 1.\nThe TimeSyncExposureConfigNotif data structure as request body that shall include:\n-\tNotification correlation ID provided by the NF service consumer during the configuration within the \"configNotifId\" attribute;\n-\tcurrent states of the time synchronization configuration for the DS-TT port(s) and/or NW-TT port within the \"stateOfConfig\" attribute;\nand may include:\n-\tif \"NetTimeSyncStatus\" feature is supported, the report of whether the time synchronization service status according to the clock quality acceptance criteria result is acceptable or not acceptable within the \"stateOfConfig\" attribute.\nIf the \"CoverageAreaSupport\" feature is supported and the TSCTSF received time synchronization coverage area as part of the Ntsctsf_TimeSynchronization_ConfigCreate/Update service operation as described in clauses 5.2.2.5.2 and 5.2.2.6.2, when the TSCTSF receives a change in the UE presence in Area of Interest notification as described in 3GPP TS 29.518 [27], the TSCTSF checks the activation or deactivation of the time synchronization service and adds/removes the UE/DS-TT port to/from the PTP instance and configures the Grandmaster functionality, as applicable, as specified in clause K.2.1 of 3GPP TS 23.501 [2]. For the added/removed UE/DS-TT port to/from the PTP instance, the TSCTSF triggers the notification to the NF service consumer where the \"stateOfDstts\" attribute within the \"stateOfConfig\" attribute shall include the state of the added/removed UE/DS-TT port.\nIf the \"NetTimeSyncStatus\" feature is supported and the TSCTSF received the clock quality detail level and the clock quality acceptance criteria as part of the Ntsctsf_TimeSynchronization_ConfigCreate/Update service operation as described in clauses 5.2.2.5.2 and 5.2.2.6.2, when the TSCTSF receives a change corresponding to the time synchronization status as described in clause 5.27.1.12 of 3GPP TS 23.501 [2], the TSCTSF provides the notification for the clock quality acceptance criteria result by including the \"clkQltIndOfNwtt\" attribute within the \"stateOfConfig\" attribute (for the result related to the UPF/NW-TT to where the UE/DS-TT(s) are connected to) and/or the \"clkQltIndOfDstt\" attribute within the entries of the \"stateOfDstts\" attribute of the \"stateOfConfig\" attribute (for the results related to every DS-TT port).\nIf the HTTP POST request from the TSCTSF is not accepted, the NF service consumer shall indicate in the response to HTTP POST request the cause for the rejection as specified in clause 6.1.7.\nIf the NF service consumer determines the received HTTP POST request needs to be redirected, the NF service consumer shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.514_clause_4.2.5.13",
        "ts_29.518_clause_5.2.2.4.2",
        "ts_23.501_clause_5.27.1.12",
        "clause_6.1.7",
        "ts_29.500_clause_6.10.9",
        "figure_5.2.2.8.2-1",
        "ts_29.514",
        "ts_29.518",
        "ts_23.501",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.1.1",
      "section_id": "5.3.1.1",
      "section_title": "Overview",
      "content": "This service provides:\n-\tAuthorization of NF Service Consumer requests for the resource reservation for TSC.\n-\tNF Service Consumer request to reserve or update resources for handling traffic characterized by TSC QoS parameters as described in clause 6.1.3.22 of TS 23.503 [19].",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.503_clause_6.1.3.22",
        "ts_23.503"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.1.2.1",
      "section_id": "5.3.1.2.1",
      "section_title": "TSCTSF",
      "content": "The TSCTSF supports to:\n-\treceive the request to reserve or update a specific QoS or a specific QoS with additional Alternative QoS for an AF session;\n-\treceive the request to delete the AF session with requested QoS or the AF session with requested QoS including Alternative Service Requirements\n-\treceive the request to subscribe or unsubscribe to the event(s) about the AF session with requested QoS or the AF session with requested QoS including Alternative Service Requirements;\n-\tdetermine the requested PDB and construct the TSC Assistance Container; and\n-\tNotify the NF service consumer of the event(s).",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_5.3.1.2.2",
      "section_id": "5.3.1.2.2",
      "section_title": "NF Service Consumers.",
      "content": "The NF service consumer supports to:\n-\tsend the request to reserve or update a specific QoS or a specific QoS with additional Alternative QoS for an AF session;\n-\tsend the request to delete the AF session with requested QoS or the AF session with requested QoS including Alternative Service Requirements\n-\tsend the request to subscribe or unsubscribe to the event(s); and\n-\treceive the notification of the event(s).",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_5.3.2.1",
      "section_id": "5.3.2.1",
      "section_title": "Introduction",
      "content": "Service operations defined for the Ntsctsf_QoSandTSCAssistance service are shown in table 5.3.2.1-1.\nTable 5.3.2.1-1: Ntsctsf_TimeSynchronization Service Operations\nService Operation Name\nDescription\nInitiated by\nNtsctsf_QoSandTSCAssistance_Create\nAllows the NF service consumer to request the network to provide a specific QoS or a specific QoS with additional Alternative QoS for an AF session.\nNF service consumer (e.g. AF, NEF)\nNtsctsf_QoSandTSCAssistance_Update\nAllows the NF service consumer to request the network to update the QoS or the QoS with additional Alternative QoS for an AF session\nNF service consumer (e.g. AF, NEF)\nNtsctsf_QoSandTSCAssistance_Delete\nAllows the NF service consumer to request the network to delete the AF session with requested QoS or the AF session with requested QoS including Alternative Service Requirements.\nNF service consumer (e.g. AF, NEF)\nNtsctsf_QoSandTSCAssistance_Notify\nAllows the TSCTSF to report the QoS Flow level event(s) to the NF service consumer.\nTSCTSF\nNtsctsf_QoSandTSCAssistance_Subscribe\nAllows the NF service consumer to subscribe to the event(s).\nNF service consumer (e.g. AF, NEF)\nNtsctsf_QoSandTSCAssistance_Unsubscribe\nAllows the NF service consumer to unsubscribe to the event(s).\nNF service consumer (e.g. AF, NEF)\nNOTE:\tThe NEF and the AF use the Ntsctsf_QoSandTSCAssistance service in the same way.",
      "chunk_type": "general",
      "cross_references": [
        "table_5.3.2.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.2.2.1",
      "section_id": "5.3.2.2.1",
      "section_title": "General",
      "content": "This service operation is used by an NF service consumer to request the network to provide a specific QoS for an AF session.\nThe following procedures using the Ntsctsf_QoSandTSCAssistance_Create service operation are supported:\n-\tInitial provisioning of TSC related service information.\n-\tSubscriptions to Service Data Flow QoS notification control.\n-\tSubscription to Service Data Flow Deactivation\n-\tSubscription to resources allocation outcome\n-\tSubscriptions to Service Data Flow QoS Monitoring Information.\n-\tInitial provisioning of sponsored connectivity information.\n-\tInitial provisioning of AF requested QoS for a UE or a group of UE(s) not identified by UE address(es).\n-\tSubscription to BAT offset notification.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_5.3.2.2.2",
      "section_id": "5.3.2.2.2",
      "section_title": "Initial provisioning of TSC related service information",
      "content": "This procedure is used to set up a TSC AF application session context for the service as defined in 3GPP TS 23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS 23.503 [19].\nFigure 5.3.2.2.2-1 illustrates the initial provisioning of TSC related service information.\nFigure 5.3.2.2.2-1: Initial provisioning of TSC related service information\nWhen a new TSC AF application session context needs to be established, the NF service consumer shall invoke the Ntsctsf_QoSandTSCAssistance_Create service operation by sending the HTTP POST request to the resource URI representing the \"TSC Application Sessions\" collection resource of the TSCTSF, as shown in figure 5.3.2.2.2-1, step 1.\nThe NF service consumer shall include the \"TscAppSessionContextData\" data type in the content of the HTTP POST request in order to request the creation of the \"Individual TSC Application Session Context\" resource. The \"Individual TSC Application Session Context\" resource and the \"Events Subscription\" sub-resource are created as described below.\nThe NF service consumer shall include in the \"TscAppSessionContextData\" data structure:\n-\tthe AF identifier within the \"afId\" attribute;\n-\twhen the \"GMEC\" feature is not supported, either:\n-\tthe IP address (IPv4 or IPv6) of the PDU session within the \"ueIpAddr\" attribute, for IP type PDU sessions; or\n-\tthe MAC address of the DS-TT port within the \"ueMac\" attribute, for Ethernet type PDU sessions;\n-\twhen the \"GMEC\" feature is supported and as defined in clause 5.3.2.2.8, either:\n-\tthe targeted UE within the \"ueId\" attribute; or\n-\tthe targeted group of UE(s) within the \"externalGroupId\" attribute;\n-\teither the Application Id within the \"appId\" attribute or the flow information within:\na.\tfor IP flows, the \"flowInfo\" attribute; or\nb.\tfor Ethernet flows, either the \"ethFlowInfo\" attribute or, if the Ethernet_UL/DL_Flows feature is supported, the \"enEthFlowInfo\" attribute;\n-\tthe QoS reference within the \"qosReference\" attribute or the individual QoS parameter set (i.e. requested GBR, requested MBR, requested maximum burst size, requested priority if received and requested 5GS delay if received, and requested packet error rate if received) within the \"tscQosReq\" attribute. If the individual QoS parameter set within the \"tscQosReq\" attribute is provided, then the QoS reference within the \"qosReference\" attribute shall be ignored;\n-\tthe input information to construct the TSC Assistance Container within the \"tscaiInputUl\" attribute and/or \"tscaiInputDl\" attribute of the \"tscQosReq\" attribute and the (g)PTP domain that the AF is located in within the \"tscaiTimeDom\" attribute of the \"tscQosReq\" attribute, if available; and\n-\tthe URI where the TSCTSF can request to the NF service consumer to delete the \"Individual TSC Application Session Context\" resource within the \"notifUri\" attribute;\nand may include:\n-\tthe DNN within the \"dnn\" attribute;\n-\tthe S-NSSAI within the \"snssai\" attribute;\n-\tthe domain identity in the \"ipDomain\" attribute;\n-\tthe individual QoS parameter set within the \"tscQosReq\" attribute;\n-\tif the \"EnTSCAC\" feature is supported, the capability for BAT adaptation in the \"capBatAdaptation\" attribute;\n-\tan ordered list of alternative QoS references within the \"altQosReferences\" attribute if the QoS reference is provided or an ordered list of requested alternative QoS parameters set(s) within the \"altQosReqs\" attribute if the individual QoS parameter set is provided. When the NF service consumer provides the \"altQosReferences\" attribute or the \"altQosReqs\" attribute, the NF service consumer shall also subscribe to receive notifications from the TSCTSF when the resources associated to the corresponding service information have been allocated as described in clause 5.3.2.2.5 and when the GBR QoS targets for one or more service data flows can no longer (or can again) be guaranteed, as described in clause 5.3.2.2.3;\nand\n-\tthe request of the notification of certain user plane events within the \"evSubsc\" attribute. Within the EventsSubscReqData data structure, the NF service consumer shall include:\na)\tthe URI where the TSCTSF sends the event notification to the NF service consumer within the \"notifUri\" attribute;\nb)\ta Notification Correlation Identifier for the requested notifications within the \"notifCorreId\" attribute;\nc)\tthe subscribed events within the \"events\" attribute;\nd)\tthe usage threshold within the \"usgThres\" attribute if the \"USAGE_REPORT\" event is subscribed; and\ne)\tQoS monitoring information within the \"qosMon\" attribute if the \"QOS_MONITORING\" event is subscribed.\nUpon the reception of this HTTP POST request, the TSCTSF shall:\n-\tconstruct the TSC Assistance Container based on information provided by the NF service consumer;\n-\tif the Requested 5GS delay including the requested 5GS delay within the individual QoS parameter set or within the requested alternative QoS parameters set(s) is received from NF service consumer, calculate a Requested PDB by subtracting the UE-DS-TT residence time either provided by the PCF or pre-configured at TSCTSF from the Requested 5GS delay;\n-\tif the time domain information is not received with the Burst Arrival Time or Periodicity within the \"tscQosReq\" attribute from the NF service consumer, the TSCTSF may indicate Time Domain = \"5GS\" within the \"tscaiTimeDom\" attribute within the \"tscQosReq\" attribute to indicate that the NF service consumer does not provide the time domain information;\nNOTE 2:\tThe Time Domain value corresponding to \"5GS\" is locally configured in the SMF and in the TSCTSF, and indicates that the AF does not provide a Time Domain and the provided TSCAI input information will be used without adjustments.\n-\tif the feature EnTSCAC is supported and if the NF service consumer includes within the \"tscQosReq\" attribute the capability for BAT adaptation within the \"capBatAdaptation\" attribute or the \"tscaiInputUl\" and/or \"tscaiInputDl\" attribute(s) with the BAT window within the \"burstArrivalTimeWnd\" attribute or the periodicity range in the \"periodicityRange\" attribute , then the TSCTSF shall subscribe to the notification on BAT offset by using the \"EventsSubscReqData\" data type including an event within the \"events\" attribute with the \"event\" attribute set to \"BAT_OFFSET_INFO;\n-\tinteract with the PCF for the received UE address:\na)\tif the TSCTSF has an AF-session with the PCF for the received UE address, the TSCTSF shall interact with the PCF by triggering a Npcf_PolicyAuthorization_Update request to provision the related parameters to the PCF as defined in 3GPP TS 29.514 [20]; or\nb)\tif the TSCTSF does not have an AF-Session with the PCF for the received UE address, the TSCTSF shall discover the PCF for the PDU session as specified in 3GPP TS 29.521 [23], and shall interact with the PCF by triggering a Npcf_PolicyAuthorization_Create to provision the related parameters to the PCF as defined in 3GPP TS 29.514 [20]; and\nNOTE 3:\tIf the PCF determines an existing PDU Session is related with TSC traffic (based on local configuration or SM Policy Association), the PCF invokes Npcf_PolicyAuthorization_Notify service operation to the TSCTSF as defined in clause 4.2.5.16 of 3GPP TS 29.514 [20] to send the received TSC User Plane Node information. At that time, the TSCTSF retrieves from the BSF the PCF binding information, as specified in 3GPP TS 29.521 [23], and can create the AF-session by sending to the PCF the Npcf_PolicyAuthorization_Create service operation, if TSC related information, as e.g. QoS requirements, and/or subscription to PMIC(s)/UMIC updates need to be provided to the PCF.\nNOTE 4:\tAfter the TSCTSF retrieves from the BSF the PCF binding information (including the UE Identities for the notified PDU session), as specified in 3GPP TS 29.521 [23], the TSCTSF can store internally the received information and delay the Npcf_PolicyAuthorization_Create service operation (the creation of the AF-session). In this case, when the TSCTSF receives the QoS request, the TSCTSF interacts with the PCF by triggering a Npcf_PolicyAuthorization_Create request to provision the related parameters to the PCF as defined in 3GPP TS 29.514 [20].\n-\tif receiving a successful response from the PCF, the TSCSTF shall create an \"Individual TSC Application Session Context\" resource and send to the NF service consumer a \"201 Created\" response to the HTTP POST request, as shown in figure 5.3.2.2.2-1, step 2. If the \"evSubsc\" attribute is received, the \"Events Subscription\" sub-resource shall be created within the \"Individual TSC Application Session Context\" resource. The TSCTSF shall include in the \"201 Created\" response:\na)\ta Location header field; and\nb)\ta \"TscAppSessionContextData\" data type in the content.\nThe Location header field shall contain the URI of the created \"Individual TSC Application Session Context\" i.e. \"{apiRoot}/ntsctsf-qos-tscai/<apiVersion>/tsc-app-sessions/{appSessionId}\".\nWhen \"Events Subscription\" sub-resource is created in this procedure, the NF service consumer shall build the sub-resource URI by adding the path segment \"/events-subscription\" at the end of the URI path received in the Location header field.\nIf the TSCTSF cannot successfully fulfil the received HTTP POST request due to the internal TSCTSF error or due to the error in the HTTP POST request, the TSCTSF shall send the HTTP error response as specified in clause 6.2.7.\nThe TSCTSF may send the following error responses based on failed AF-session creation/update request responses received from the PCF as specified in 3GPP TS 29.514 [20]:\na.\tIf the TSCSTSF receives the indication that the PCF failed in executing session binding, the TSCTSF shall reject the HTTP POST request with an HTTP \"500 Internal Server Error\" response including the \"cause\" attribute set to \"PDU_SESSION_NOT_AVAILABLE\".\nb.\tIf the service information provided in the body of the HTTP POST request is rejected by the PCF (e.g. the subscribed guaranteed bandwidth for a particular user is exceeded or the authorized data rate in that slice for a UE is exceeded), the TSCTSF shall indicate in an HTTP \"403 Forbidden\" response message the cause for the rejection including the \"cause\" attribute set to \"REQUESTED_SERVICE_NOT_AUTHORIZED\", as received.\nc.\tIf the service information provided in the body of the HTTP POST request is rejected due to a temporary condition in the network, the TSCTSF may include in the \"403 Forbidden\" response the \"cause\" attribute set to \"REQUESTED_SERVICE_TEMPORARILY_NOT_AUTHORIZED\". The TSCTSF may also provide a received retry interval within the \"Retry-After\" HTTP header field. When the NF service consumer receives the retry interval within the \"Retry-After\" HTTP header field, the NF service consumer shall not send the same service information to the TSCTSF again (for the same application session context) until the retry interval has elapsed. The \"Retry-After\" HTTP header is described in 3GPP TS 29.500 [4] clause 5.2.2.2.\nThe TSCTSF may additionally provide the received acceptable bandwidth within the attribute \"acceptableServInfo\" included in the \"ProblemDetailsTsctsfQosTscac\" data structure returned in the rejection response message.",
      "chunk_type": "general",
      "cross_references": [
        "clause_5.3.2.2.8",
        "clause_5.3.2.2.5",
        "clause_5.3.2.2.3",
        "ts_29.514_clause_4.2.5.16",
        "clause_6.2.7",
        "ts_29.500_clause_5.2.2.2",
        "ts_23.502_figure_5.3.2.2.2-1",
        "figure_5.3.2.2.2-1",
        "ts_23.501",
        "ts_23.502",
        "ts_23.503",
        "ts_29.514",
        "ts_29.521",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.2.2.3",
      "section_id": "5.3.2.2.3",
      "section_title": "Subscriptions to Service Data Flow QoS notification control",
      "content": "The NF service consumer shall use the \"EventsSubscReqData\" data type as described in clause 5.3.2.2.2 and shall include in the HTTP POST request message an event within the \"evSubsc\" attribute with the \"event\" attribute set to \"QOS_GUARANTEED\" and an event within the \"evSubsc\" attribute with the \"event\" attribute set to \"QOS_NOT_GUARANTEED\".\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.2.2.\nAs result of this action, the TSCTSF shall set the appropriate subscription to QoS notification control as described in in 3GPP TS 29.514 [20].",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_5.3.2.2.2",
        "ts_29.514"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.2.2.4",
      "section_id": "5.3.2.2.4",
      "section_title": "Subscription to Service Data Flow Deactivation",
      "content": "The NF service consumer shall use the \"EventsSubscReqData\" data type as described in clause 5.3.2.2.2 and shall include in the HTTP POST request message an event entry within the \"evSubsc\" attribute with the \"event\" attribute set to \"FAILED_RESOURCES_ALLOCATION\".\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.2.2.\nAs result of this action, the TSCTSF shall set the appropriate subscription to service data flow deactivation as described in in 3GPP TS 29.514 [20].",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_5.3.2.2.2",
        "ts_29.514"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.2.2.5",
      "section_id": "5.3.2.2.5",
      "section_title": "Subscription to resources allocation outcome",
      "content": "The NF service consumer shall use the \"EventsSubscReqData\" data type as described in clause 5.3.2.2.2 and shall include in the HTTP POST request message:\n-\tif the NF service consumer requests the TSCTSF to provide a notification when the resources associated to the service information have been allocated, an event entry within the \"events\" attribute with the \"event\" attribute set to \"SUCCESSFUL_RESOURCES_ALLOCATION\"; and/or\n-\tif the NF service consumer requests the TSCTSF to provide a notification when the resources associated to the service information cannot be allocated, an event entry within the \"events\" attribute with the \"event\" attribute set to \"FAILED_RESOURCES_ALLOCATION\".\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.2.2.\nAs result of this action, the TSCTSF shall set the appropriate subscription to notification of resources allocation outcome as described in in 3GPP TS 29.514 [20].",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.3.2.2.2",
        "ts_29.514"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.2.2.6",
      "section_id": "5.3.2.2.6",
      "section_title": "Subscriptions to Service Data Flow QoS Monitoring Information",
      "content": "The NF service consumer shall use the \"EventsSubscReqData\" data type as described in clause 5.3.2.2.2 and shall include in the HTTP POST request message an event within the \"evSubsc\" attribute with the \"event\" attribute set to \"QOS_MONITORING\" and include the QoS monitoring information with the \"qosMon\" attribute. Within the QosMonitoringInformation data structure, the AF shall include:\n-\tone or more requested QoS Monitoring Parameter(s) within the \"reqQosMonParams\"; and\n-\tone or more report frequency within the \"repFreqs\" attribute; and\n-\twhen the \"repFreqs\" attribute includes the value \"PERIODIC\", the periodic time for reporting and, if the feature \"PacketDelayFailureReport\" is supported, the maximum period with no QoS measurement results reported within the \"repPeriod\" attribute; and\n-\twhen the \"repFreqs\" attribute includes the value \"EVENT_TRIGGERED\", the AF shall include:\n-\tthe minimum waiting time between subsequent reports within the \"waitTime\" attribute; and\nfor QoS monitoring for packet delay:\n-\tthe delay threshold for downlink with the \"repThreshDl\" attribute;\n-\tthe delay threshold for uplink with the \"repThreshUl\" attribute; and/or\n-\tthe delay threshold for round trip with the \"repThreshRp\" attribute; and\n-\tif the feature \"PacketDelayFailureReport\" is supported, the maximum period with no QoS measurement results reported within the\"repPeriod\" attribute.\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.2.2.\nAs result of this action, the TSCTSF shall set the appropriate subscription to service data flow QoS monitoring information as described in in 3GPP TS 29.514 [20].",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_5.3.2.2.2",
        "ts_29.514"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.2.2.7",
      "section_id": "5.3.2.2.7",
      "section_title": "Initial provisioning of sponsored connectivity information",
      "content": "The NF service consumer may include in the HTTP POST request message described in clause 5.3.2.2.2 an application service provider identity and a sponsor identity within the \"aspId\" attribute and \"sponId\" attribute. Additionally, the NF service consumer may provide an indication to the TSCTSF of sponsored data connectivity not enabled by including the \"sponStatus\" attribute set to \"SPONSOR_DISABLED\".\nTo support the usage monitoring of sponsored data connectivity, the NF service consumer may subscribe with the TSCTSF to the notification of usage threshold reached. The NF service consumer may also include the \"evSubsc\" attribute with:\n-\tthe usage thresholds to apply in the \"usgThres\" attribute; and\n-\tan entry of the \"events\" attribute set to \"USAGE_REPORT\".\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.2.2.\nAs result of this action, the TSCTSF shall provision the sponsored data connectivity information to the PCF as described in 3GPP TS 29.514 [20].\nThe TSCTSF may send the following error responses based on the response to the provisioning of sponsored data connectivity information received from the PCF, as described in 3GPP TS 29.514 [20], as follows:\n-\tHTTP \"403 Forbidden\" response message with the \"cause\" attribute set to \"UNAUTHORIZED_SPONSORED_DATA_CONNECTIVITY\", when received from the PCF.\n-\tHTTP \"403 Forbidden\" response message the \"cause\" attribute set to \"REQUESTED_SERVICE_NOT_AUTHORIZED\", when received from the PCF.\n5.3.2.2.8\tInitial provisioning of AF requested QoS for a UE or group of UE(s) not identified by UE address(es)\nWhen the \"GMEC\" feature is supported, if the NF service consumer includes in the HTTP POST request message defined in clause 5.3.2.2.2 the targeted UE identified by its GPSI, within the \"ueId\" attribute, or the targeted group of UE(s) identified by its External Group ID, within the \"externalGroupId\" attribute, the provisions of clause 5.3.2.2.2 shall apply with the following differences:\n-\tThe AF request may include:\na.\tthe temporal invalidity conditions, within the \"tempInValidity\" attribute;\nb.\tthe event(s) subscription, including the QoS monitoring parameters,  within the \"evSubsc\" attribute;\nc.\tthe traffic characteristics and, if applicable, QoS parameters, within the \"tscQosReq\" attribute;\nd.\tthe QoS parameters, within either the \"qosReference\" attribute, the \"altQosReferences\" attribute or the \"altQosReqs\" attribute; and/or\ne.\tthe flow description, within either the \"flowInfo\" attribute, the \"ethFlowInfo\" attribute or the \"enEthFlowInfo\" attribute.\nThe TSCTSF shall process the request and reply to the NF service consumer as defined in clause 5.3.2.2.2 with the following differences:\n-\tUpon reception of the HTTP request from the NF service consumer, and if the request is authorized, the TSCTSF shall:\n-\tcreate a new \"Individual TSC Application Session Context\" resource;\n-\tif the \"externalGroupId\" attribute is received from the NF service consumer, interact with the UDM to retrieve the list of SUPI(s) identifying the UE(s) constituting the targeted group of UE(s) using the Nudm_SDM service as defined in 3GPP TS 29.503 [24];\n-\tif the \"ueId\" attribute is received from the NF service consumer, interact with the UDM to retrieve the SUPI that corresponds to the targeted GPSI using the Nudm_SDM service as defined in 3GPP TS 29.503 [24];\n-\tuse the parameters received from the NF service consumer (i.e., DNN, S-NSSAI, the identifier of the targeted UE or group of UE(s)) to determine the corresponding AF session(s) (i.e., to which they macth); and\n-\tfor each matching AF session, interact with the PCF by invoking the Npcf_PolicyAuthorization_Create/Update service operation, as defined in 3GPP TS 29.514 [20], to create/update the AF session based on the provided requested QoS parameters.\nNOTE 1:\tIf the PCF determines that an existing PDU Session is potentially impacted by the time synchronization service (based on local configuration or SM Policy Association), the PCF invokes Npcf_PolicyAuthorization_Notify service operation towards the TSCTSF as defined in clause 4.2.5.16 of 3GPP TS 29.514 [20] to send the received TSC User Plane Node information. The TSCTSF then retrieves from the BSF the PCF binding information (including the UE Identities for the notified PDU session), as specified in 3GPP TS 29.521 [23], and can create the AF session by invoking the Npcf_PolicyAuthorization_Create service operation towards the PCF.\n-\tThe TSCTSF shall handle the AF session(s) associated with a given \"Individual TSC Application Session Context\" resource as follows:\n-\tFor the association of the AF session(s) at the PCF to the \"Individual TSC Application Session Context\" resource:\na.\tUpon PDU Session establishment, i.e. when the TSCTSF receives a Npcf_PolicyAuthorization_Notify service operation following the establishment of a new PDU session, the TSCTSF shall retrieve from the BSF, as specified in 3GPP TS 29.521 [23], the PCF binding information to complete the necessary AF session information. The TSCTSF shall then trigger the Npcf_PolicyAuthorization_Create service operation towards the PCF to create an AF session to subscribe to TSC user plane node related event(s). The TSCTSF shall use the parameters of the existing \"Individual TSC Application Session Context\" resources to determine whether they shall be associated to this newly created AF session. The TSCTSF associates the new AF session to the \"Individual TSC Application Session Context\" resource to which these parameters match.\nb.\tUpon \"Individual TSC Application Session Context\" resource creation, the TSCTSF uses the parameters of the created resource to determine which existing AF session(s) it matches. The TSCTSF then associates the new \"Individual TSC Application Session Context\" resource to the corresponding AF session(s).\n-\tTo remove an AF session from the list of AF session(s) associated to an \"Individual TSC Application Session Context\" resource, when the TSCTSF receives the Npcf_PolicyAuthorization_Notify service operation from the PCF indicating the termination of the corresponding existing PDU session, the TSCTSF triggers the Npcf_PolicyAuthorization_Delete service operation towards the PCF and determines if the corresponding AF session is associated with the \"Individual TSC Application Session Context\" resource. If it is the case, the TSCTSF shall remove the AF session from the list of AF session(s) associated with the \"Individual TSC Application Session Context\" resource.\nNOTE 2:\tAfter the TSCTSF retrieves from the BSF the PCF binding information (including the UE Identities for the notified PDU session), as specified in 3GPP TS 29.521 [23], the TSCTSF can store internally the information required to invoke Npcf_PolicyAuthorization_Create service operation and delay the Npcf_PolicyAuthorization_Create service operation (i.e., the creation of the AF session) until a request is received for the concerned UE (e.g., time synchronization capability exposure or QoS provisioning request). In this case, when the TSCTSF receives a request for the concerned UE (e.g., time synchronization capability exposure or QoS provisioning request), the TSCTSF interacts with the PCF by triggering the Npcf_PolicyAuthorization_Create service operation as defined in 3GPP TS 29.514 [20].\nNOTE 3:\tWhen the TSCTSF receives the Npcf_PolicyAuthorization_Notify service operation indicating the termination of an existing PDU session associated to an AF session that is not associated with any \"Individual Time Synchronization Exposure Subscription\" resource nor \"Individual TSC Application Session Context resource\" resource, the TSCTSF removes the AF session and triggers the Npcf_PolicyAuthorization_Delete service operation towards the PCF.\n5.3.2.2.9\tSubscription to BAT offset notification\nWhen the \"EnTSCAC\" feature is supported, The NF service consumer shall use the \"EventsSubscReqData\" data type and shall include in the HTTP POST request message an event entry within the \"evSubsc\" attribute with the \"event\" attribute set to \"BAT_OFFSET_INFO\" to subscribe to receive a notification when AF provides the Capability for BAT adaptation or BAT Window as defined in clause 5.3.2.2.2.\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.2.2.\nAs result of this action, the TSCTSF shall set the appropriate subscription to BAT offset notification as described in 3GPP TS 29.514 [20].",
      "chunk_type": "general",
      "cross_references": [
        "clause_5.3.2.2.2",
        "ts_29.514_clause_4.2.5.16",
        "ts_29.514",
        "ts_29.503",
        "ts_29.521"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.2.3.1",
      "section_id": "5.3.2.3.1",
      "section_title": "General",
      "content": "This service operation is used by an NF service consumer to request the network to update the QoS and/or additional Alternative QoS for an AF session.\nThe following procedures using the Ntsctsf_QoSandTSCAssistance_Update service operation are supported:\n-\tModification of TSC related service information.\n-\tModification of Subscription to Service Data Flow QoS notification control.\n-\tModification of Subscription to Service Data Flow Deactivation.\n-\tModification of subscription to resources allocation outcome.\n-\tModification of Subscription to Service Data Flow QoS Monitoring Information.\n-\tModification of sponsored connectivity information.\n-\tModification of AF the requested QoS for a UE or a group of UE(s) not identified by UE address(es).\n-\tModification of subscription to BAT offset notification.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_5.3.2.3.2",
      "section_id": "5.3.2.3.2",
      "section_title": "Modification of TSC related service information",
      "content": "This procedure is used to modify an existing TSC application session context as defined in 3GPP TS 23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS 23.503 [19].\nFigure 5.3.2.3.2-1 illustrates the modification of TSC related service information using HTTP PATCH method.\nFigure 5.3.2.3.2-1: Modification of TSC related service information using HTTP PATCH\nThe NF service consumer may modify the TSC application session context information at any time and invoke the Ntsctsf_QoSandTSCAssistance_Update service operation by sending the HTTP PATCH request message to the resource URI representing the \"Individual TSC Application Session Context\" resource, as shown in figure 5.3.2.3.2-1, step 1, with the modifications to apply.\nThe JSON body within the PATCH request shall include the \"TscAppSessionContextUpdateData\" data type and shall be encoded according to \"JSON Merge Patch\", as defined in IETF RFC 7396 [22].\nThe NF service consumer may include in the \"TscAppSessionContextUpdateData\" data structure:\n-\tthe updated flow information within the \"flowInfo\" attribute for IP flows or, either the \"ethFlowInfo\" or, if the Ethernet_UL/DL_Flows feature is supported, the \"enEthFlowInfo\" attribute for Ethernet flows;\n-\tthe updated application Id within the \"appId\" attribute;\n-\tthe updated QoS reference within the \"qosReference\" attribute or the updated individual QoS parameter set within the \"tscQosReq\" attribute;\n-\tthe updated input information to construct the TSC Assistance Container within the \"tscaiInputUl\" attribute and/or \"tscaiInputDl\" attribute of the \"tscQosReq\" attribute, and/or the updated (g)PTP domain that the AF is located in within the \"tscaiTimeDom\" attribute of the \"tscQosReq\" attribute;\n-\tif the \"EnTSCAC\" feature is supported, the capability for BAT adaptation in the \"capBatAdaptation\" attribute;\n-\tthe updated URI where the TSCTSF can request to the NF service consumer to delete the \"Individual TSC Application Session Context\" resource within the \"notifUri\".\n-\tthe updated ordered list of alternative QoS references within the \"altQosReferences\" attribute or updated ordered list of requested alternative QoS parameters set(s) within the \"altQosReqs\" attribute; and\n-\tthe updated event subscription information within the \"evSubsc\" attribute. Within the EventsSubscReqDataRm data structure, the NF service consumer shall include:\n-\tthe new complete list of subscribed events within the \"events\" attribute;\n-\twhen the NF service consumer requests to update the additional information related to an event (e.g. the NF service consumer needs to provide new thresholds to the TSCTSF in the \"usgThres\" attribute related to the \"USAGE_REPORT\" event), the additional information within the corresponding attribute(s).\nNOTE 2:\tNote that when the NF service consumer requests to remove an event, this event is not included in the \"events\" attribute.\nNOTE 3:\tWhen an event is included in the \"events\" attribute and its related additional information is set to null, the TSCTSF considers the subscription to this event is active, but the related procedures stop applying.\nNOTE 4:\tWhen an event is removed from the \"events\" attribute but its related information is not set to null, the TSCTSF considers the subscription to this event is terminated, the related additional information is removed, and the related procedures stop applying.\nThe NF service consumer shall remove existing event subscription information by setting to null the \"evSubsc\" attribute included in \"TscAppSessionContextUpdateData\".\nNOTE 5:\tThe \"notifUri\" attribute within the EventsSubscReqData data structure can be modified to request that subsequent notifications are sent to a new NF service consumer.\nUpon the reception of this HTTP PATCH request, the TSCTSF shall\n-\tif the updated Requested 5GS delay including the requested 5GS delay within the individual QoS parameter set or within the requested alternative QoS parameters set(s) is received from NF service consumer, re-calculate a Requested PDB by subtracting the UE-DS-TT residence time provided by the PCF or pre-configured in the TSCTSF from the Requested 5GS delay;\n-\tupdate the TSC Assistance Container based on updated information provided by the NF service consumer;\n-\tif the time domain information is not received with the Burst Arrival Time or Periodicity within the \"tscQosReq\" attribute from the NF service consumer, the TSCTSF may indicate Time Domain = \"5GS\" within the \"tscaiTimeDom\" attribute within the \"tscQosReq\" attribute to indicate that the NF service consumer does not provide the time domain information;\nNOTE 6:\tThe Time Domain value corresponding to \"5GS\" is locally configured in the SMF and in the TSCTSF, and indicates that the AF does not provide a Time Domain and the provided TSCAI input information will be used without adjustments.\n-\tif the feature EnTSCAC is supported and if the NF service consumer during the modification includes within the \"tscQosReq\" attribute the capability for BAT adaptation within the \"capBatAdaptation\" attribute or the \"tscaiInputUl\" and/or \"tscaiInputDl\" attribute(s) with the BAT window within the \"burstArrivalTimeWnd\" attribute or the periodicity range in the \"periodicityRange\" attribute, then the TSCTSF shall subscribe to the notification on BAT offset by using the \"EventsSubscReqDataRm\" data type including an event within the \"events\" attribute with the \"event\" attribute set to \"BAT_OFFSET_INFO;\n-\tinteract with the PCF by triggering a Npcf_PolicyAuthorization_Update request to provision the related parameters to the PCF as defined in 3GPP TS 29.514 [20];\n-\tif receiving a successful response from the PCF, the TSCSTF shall update the \"Individual TSC Application Session Context\" resource and send a \"200 OK\" or \"204 No Content\" response to the HTTP POST request to the NF service consumer, as shown in figure 5.3.2.3.2-1, step 2.\nIf the TSCTSF cannot successfully fulfil the received HTTP PATCH request due to the internal TSCTSF error or due to the error in the HTTP PATCH request, the TSCTSF shall send the HTTP error response as specified in clause 6.2.7.\nThe TSCTSF may send the following error responses based on failed AF-session update responses received from the PCF as specified in 3GPP TS 29.514 [20]:\na.\tIf the updated service information is not acceptable for the PCF (e.g. the subscribed guaranteed bandwidth for a particular user is exceeded or the authorized data rate in that slice for the UE is exceeded), the TSCTSF shall indicate in an HTTP \"403 Forbidden\" response message the received cause for the rejection including the \"cause\" attribute set to \"REQUESTED_SERVICE_NOT_AUTHORIZED\".\nb.\tIf the service information provided in the body of the HTTP POST request is rejected due to a temporary condition in the network, the TSCTSF may include in the \"403 Forbidden\" response the \"cause\" attribute set to \"REQUESTED_SERVICE_TEMPORARILY_NOT_AUTHORIZED\". The TSCTSF may also provide a received retry interval within the \"Retry-After\" HTTP header field. When the NF service consumer receives the retry interval within the \"Retry-After\" HTTP header field, the NF service consumer shall not send the same service information to the TSCTSF again (for the same application session context) until the retry interval has elapsed. The \"Retry-After\" HTTP header is described in 3GPP TS 29.500 [4] clause 5.2.2.2.\nThe TSCTSF may additionally provide the acceptable bandwidth within the attribute \"acceptableServInfo\" included in the \"ProblemDetailsTsctsfQosTscac\" data structure returned in the rejection response message.\nIf the TSCTSF determines the received HTTP PATCH request needs to be redirected, the TSCTSF shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.2.7",
        "ts_29.500_clause_5.2.2.2",
        "ts_29.500_clause_6.10.9",
        "ts_23.502_figure_5.3.2.3.2-1",
        "figure_5.3.2.3.2-1",
        "ts_23.501",
        "ts_23.502",
        "ts_23.503",
        "ts_29.514",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.2.3.3",
      "section_id": "5.3.2.3.3",
      "section_title": "Modification of Subscription to Service Data Flow QoS notification control",
      "content": "The NF service consumer shall use the HTTP PATCH method to update the \"Events Subscription\" sub-resource together with the modifications to the \"Individual TSC Application Session Context\" resource.\nThe NF service consumer shall include in the HTTP PATCH request message described in clause 5.3.2.3.2, the updated event subscription information within the \"evSubsc\" attribute. Within the EventsSubscReqDataRm data type, the NF service consumer shall include the \"events\" attribute with the \"QOS_GUARANTEED\" and \"QOS_NOT_GUARANTEED\" values to indicate the subscription to QoS notification control or include the \"events\" but without the \"QOS_GUARANTEED\" and \"QOS_NOT_GUARANTEED\" values to indicate the termination of the subscription to QoS notification control.\nAs result of this action, the TSCTSF shall set the appropriate subscription to QoS notification control as described in 3GPP TS 29.514 [20].\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.3.2.\nThe TSCTSF may send the following error responses based on the response to the provisioning of sponsored data connectivity information received from the PCF, as described in 3GPP TS 29.514 [20], as follows:\n-\tHTTP \"403 Forbidden\" response message with the \"cause\" attribute set to \"UNAUTHORIZED_SPONSORED_DATA_CONNECTIVITY\", when received from the PCF.\n-\tHTTP \"403 Forbidden\" response message the \"cause\" attribute set to \"REQUESTED_SERVICE_NOT_AUTHORIZED\", when received from the PCF.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_5.3.2.3.2",
        "ts_29.514"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.2.3.4",
      "section_id": "5.3.2.3.4",
      "section_title": "Modification of Subscription to Service Data Flow Deactivation",
      "content": "The NF service consumer shall use the HTTP PATCH method to update the \"Events Subscription\" sub-resource together with the modifications to the \"Individual TSC Application Session Context\" resource.\nThe NF service consumer shall include in the HTTP PATCH request message described in clause 5.3.2.3.2, the updated event subscription information within the \"evSubsc\" attribute. Within the EventsSubscReqDataRm data type, the NF service consumer shall include the \"events\" attribute with the \"FAILED_RESOURCES_ALLOCATION\" values to the subscription to service data flow deactivation or include the \"events\" but without \"FAILED_RESOURCES_ALLOCATION\" value to indicate the termination of the subscription to Service Data Flow Deactivation.\nAs result of this action, the TSCTSF shall set the appropriate subscription to QoS notification control as described in 3GPP TS 29.514 [20].\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.3.2.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_5.3.2.3.2",
        "ts_29.514"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.2.3.5",
      "section_id": "5.3.2.3.5",
      "section_title": "Modification of subscription to resources allocation outcome",
      "content": "The NF service consumer shall use the HTTP PATCH method to modify the \"Events Subscription\" sub-resource together with the modifications to the \"Individual TSC Application Session Context\" resource.\nThe NF service consumer shall include in the HTTP PATCH request message described in clause 5.3.2.3.2, the updated event subscription information within the \"evSubsc\" attribute. Within the EventsSubscReqDataRm data type, the NF service consumer shall include the \"events\" attribute with the \"SUCCESSFUL_RESOURCES_ALLOCATION\" value for the successful resource allocation and/or \"FAILED_RESOURCES_ALLOCATION\" value for the unsuccessful resource allocation to the subscription to resources allocation outcome or include the \"events\" but without \"SUCCESSFUL_RESOURCES_ALLOCATION\" and/or \"FAILED_RESOURCES_ALLOCATION\" value to indicate the termination of the subscription to resources allocation outcome.\nAs result of this action, the TSCTSF shall set the appropriate subscription to resources allocation outcome as described in 3GPP TS 29.514 [20].\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.3.2.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.3.2.3.2",
        "ts_29.514"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.2.3.6",
      "section_id": "5.3.2.3.6",
      "section_title": "Modification of Subscription to Service Data Flow QoS Monitoring Information",
      "content": "The NF service consumer shall use the HTTP PATCH method to update the \"Events Subscription\" sub-resource together with the modifications to the \"Individual TSC Application Session Context\" resource.\nThe NF service consumer shall include in the HTTP PATCH request message described in clause 5.3.2.3.2, the updated event subscription information within the \"evSubsc\" attribute. Within the EventsSubscReqDataRm data type, the NF service consumer shall perform as follows:\n-\tto create a subscription to QoS monitoring information:\na)\tinclude the \"events\" attribute with the \"QOS_MONITORING\" value; and\nb)\tinclude the updated QoS monitoring information within the \"qosMon\" attribute as defined in clause 5.3.2.2.6;\n-\tto remove a subscription to QoS monitoring information:\na)\tinclude the \"events\" attribute without \"QOS_MONITORING\".\nAs result of this action, the TSCTSF shall set the appropriate subscription to Service Data Flow QoS Monitoring Information as described in 3GPP TS 29.514 [20].\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.3.2.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_5.3.2.3.2",
        "clause_5.3.2.2.6",
        "ts_29.514"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.2.3.7",
      "section_id": "5.3.2.3.7",
      "section_title": "Modification of sponsored connectivity information",
      "content": "The NF service consumer shall use the HTTP PATCH method to modify the sponsored connectivity information.\nThe NF service consumer shall include in the HTTP PATCH request message described in clause 5.3.2.3.2, an application service provider identity and a sponsor identity within the \"aspId\" attribute and \"sponId\" attribute, and optionally an indication of whether to enable or disable sponsored data connectivity within the \"sponStatus\" attribute set to the applicable value to provide sponsored connectivity information or to update existing sponsored connectivity information.\nIf the NF service consumer requests to enable sponsored data connectivity the NF service consumer shall change the \"sponStatus\" attribute value to \"SPONSOR_ENABLED\".\nIf the NF service consumer requests to disable sponsored data connectivity the NF service consumer shall provide an indication to disable sponsored data connectivity to the TSCTSF by setting the \"sponStatus\" attribute to \"SPONSOR_DISABLED\".\nTo support the usage monitoring of sponsored data connectivity, the NF service consumer may also include in the HTTP PATCH a new or modified \"evSubsc\" attribute with:\n-\tthe usage thresholds to apply in the \"usgThres\" attribute; and\n-\tan entry of the \"events\" attribute set to \"USAGE_REPORT\".\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.3.2.\nAs result of this action, the TSCTSF shall provision the updated sponsored data connectivity information to the PCF as described in in 3GPP TS 29.514 [20].\n5.3.2.3.8\tModification of AF requested QoS for a UE or group of UE(s) not identified by UE address(es)\nWhen the \"GMEC\" feature is supported, the NF service consumer shall use the HTTP PATCH method to modify the requested QoS, traffic characteristics information and/or QoS Monitoring information for a UE or group of UE(s).\nThe NF service consumer shall include in the HTTP PATCH request message the parameters to be modified as defined in clause 5.3.2.3.2, with the following differences:\n-\tTo support the modification of the requested QoS, the traffic characteristics and monitoring of performance characteristics for a group of UE(s), the NF service consumer may modify:\n-\tthe event(s) subscription, including the QoS monitoring parameters, within the \"evSubsc\" attribute;\n-\tthe traffic characteristics and, if applicable, QoS parameters within the \"tscQosReq\" attribute;\n-\tthe QoS parameters, within either the \"qosReference\" attribute, the \"altQosReferences\" attribute or the \"altQosReqs\" attribute;\n-\tthe temporal invalidity conditions, within the \"tempInValidity\" attribute; and\n-\tthe flow description, within either the \"flowInfo\" attribute, the \"ethFlowInfo\" attribute or the \"enEthFlowInfo\" attribute.\nThe TSCTSF shall reply to the NF service consumer as defined in clause 5.3.2.3.2.\nAs a result of this procedure, the TSCTSF shall, for the list of matching AF session(s) associated to the \"Individual TSC Application Session Context\" resource, provision to the PCF the updated requested QoS, traffic characteristics and/or QoS Monitoring information by the triggering the Npcf_PolicyAuthorization_Update service operation as defined in 3GPP TS 29.514 [20].",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.3.2.3.2",
        "ts_29.514"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.2.3.9",
      "section_id": "5.3.2.3.9",
      "section_title": "Modification of Subscription to BAT offset notification",
      "content": "When the \"EnTSCAC\" feature is supported, this procedure is used to modify in the TSCTSF the subscription to the BAT offset information notification.\nThe NF service consumer shall use the HTTP PATCH method to update the \"Events Subscription\" sub-resource together with the modifications to the \" Individual TSC Application Session\" resource.\nThe NF service consumer shall include in the HTTP PATCH request message described in clause 5.3.2.3.2, the updated event subscription information within the \"evSubsc\" attribute. Within the EventsSubscReqDataRm data type, the NF service consumer shall include the \"events\" attribute with the \"BAT_OFFSET_INFO\" to indicate the subscription to changes of the BAT offset and the optionally adjusted periodicity.\nAs result of this action, the TSCTSF shall set the appropriate subscription to resources allocation outcome as described in 3GPP TS 29.514 [20].\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.3.2. The TSCTSF shall include the \"evsNotif\" attribute with an entry in the \"evNotifs\" array with the \"event\" attribute set to \"BAT_OFFSET_INFO\" and the \"batOffsetInfo\" attribute including the offset of the BAT and optionally an adjusted periodicity if the TSCTSF has previously subscribed with the PCF to changes in this information.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.3.2.3.2",
        "ts_29.514"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.2.4.1",
      "section_id": "5.3.2.4.1",
      "section_title": "General",
      "content": "This service operation is used by an NF service consumer to request the network to delete the AF session with requested QoS or the AF session with requested QoS including Alternative Service Requirements.\nThe following procedures using the Ntsctsf_QoSandTSCAssistance_Delete service operation are supported:\n-\tTSC AF application session context termination.\n-\tReporting usage for sponsored data connectivity.\n-\tTSC AF application session context termination for a UE or group of UE(s) not identified by UE address(es).",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_5.3.2.4.2",
      "section_id": "5.3.2.4.2",
      "section_title": "TSC AF application session context termination",
      "content": "This procedure is used to terminate an AF application session context for the service as defined in 3GPP TS 23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS 23.503 [19].\nFigure 5.3.2.4.2-1 illustrates the application session context termination.\nFigure 5.3.2.4.2-1: Application session context termination\nWhen a TSC AF session is terminated, and if the TSC AF application session context was created as described in clause 5.3.2.2, the NF service consumer shall invoke the Ntsctsf_QoSandTSCAssistance_Delete service operation to the TSCTSF using an HTTP POST request, as shown in figure 5.3.2.4.2-1, step 1.\nThe NF service consumer shall set the request URI to \"{apiRoot}/ntsctsf-qos-tscai/<apiVersion>/tsc-app-sessions/{appSessionId}/delete\".\nThe NF service consumer may include in the body of the HTTP POST the \"EventsSubscReqData\" data type with the \"evSubsc\" attribute indicating the corresponding list of events to subscribe to.\nWhen the TSCTSF receives the HTTP POST request from the NF service consumer, indicating the termination of the TSC AF application session context information, the TSCTSF shall acknowledge that request by sending an HTTP response message with the corresponding status code.\nIf the HTTP POST request from the NF service consumer is accepted, the TSCTSF shall send to the NF service consumer:\na)\tif event information is reported, TSCTSF shall defer sending the response to the NF service consumer and shall immediately interact with the PCF to terminate the AF session with the event report, as specified in 3GPP TS 29.514 [20]. After receiving the event information from the PCF, the TSCTSF shall send a \"200 OK\" response to HTTP POST request, as shown in figure 5.3.2.4.2-1, step 2a, including in the \"EventsNotification\" to report to the NF service consumer;\nb)\totherwise, the TSCTSF shall send to the NF service consumer a \"204 No Content\".\nIf the TSCTSF cannot successfully fulfil the received HTTP POST request due to the internal TSCTSF error or due to the error in the HTTP POST request, the TSCTSF shall send the HTTP error response as specified in clause 6.2.7.\nIf the TSCTSF determines the received HTTP POST request needs to be redirected, the TSCTSF shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].",
      "chunk_type": "general",
      "cross_references": [
        "clause_5.3.2.2",
        "clause_6.2.7",
        "ts_29.500_clause_6.10.9",
        "ts_23.502_figure_5.3.2.4.2-1",
        "figure_5.3.2.4.2-1",
        "ts_23.501",
        "ts_23.502",
        "ts_23.503",
        "ts_29.514",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.2.4.3",
      "section_id": "5.3.2.4.3",
      "section_title": "Reporting usage for sponsored data connectivity",
      "content": "When The NF service consumer indicated to enable sponsored data connectivity and the NF service consumer provided usage thresholds for such sponsor to the TSCTSF, the TSCTSF shall report accumulated usage to the NF service consumer using the response of the Ntsctsf_QoSandTSCAssistance_Delete service operation.\nThis procedure is initiated when:\n-\tthe \"Individual TSC Application Session\" is deleted by the NF service consumer; or\n-\tthe TSCTSF requests the deletion of the \"Individual TSC Application Session\" to the NF service consumer, as described in clause 5.2.2.5.3, due to PDU session termination, the termination of all the service data flows of the Individual TSC Application Session.\nTo report the accumulated usage, the TSCTSF shall immediately configure the PCF to retrieve the accumulated usage as specified in 3GPP TS 29.514 [20]. When the TSCTSF receives the usage information from the PCF, the TSCTSF shall notify the NF service consumer by including the \"EventsNotification\" data type in the response of the HTTP POST request as described in clause 5.3.2.4.2.\nThe TSCTSF shall within an instance of \"events\" attribute include:\n-\t\"USAGE_REPORT\" within the \"event\" attribute;\n-\taccumulated usage within the \"usgRep\" attribute.\n5.3.2.4.4\tTermination of AF requested QoS for a UE or group of UE(s) not identified by UE address(es)\nWhen the \"GMEC\" feature is supported, the NF service consumer shall use the HTTP POST method to terminate the requested QoS, traffic characteristics information and/or QoS Monitoring information for a UE or group of UE(s) as defined in clause 5.3.2.4.2 with the following differences:\n-\tThe TSCTSF shall identify the affected AF session(s) and, for each AF session, interact with the PCF by triggering the Npcf_PolicyAuthorization_Delete service operation, as defined in 3GPP TS 29.514 [20], if the AF session is not associated with an \"Individual Time Synchronization Exposure Subscription\" resource.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.5.3",
        "clause_5.3.2.4.2",
        "ts_29.514"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.2.5.1",
      "section_id": "5.3.2.5.1",
      "section_title": "General",
      "content": "The Ntsctsf_QoSandTSCAssistance_Notify service operation enables notification to NF service consumers that the previously subscribed event for the existing TSC application session context occurred or that the TSC application session context is no longer valid.\nThe following procedures using the Ntsctsf_QoSandTSCAssistance_Notify service operation are supported:\n-\tNotification about TSC application session context event.\n-\tNotification about TSC application session context termination.\n-\tNotification about Service Data Flow QoS notification control.\n-\tNotification about Service Data Flow Deactivation\n-\tNotification about resources allocation outcome.\n-\tNotification about Service Data Flow QoS Monitoring control.\n-\tReporting usage for sponsored data connectivity.\n-\tNotification about AF requested QoS for a UE or group of UE(s) not identified by UE address(es).\n-\tNotification about BAT offset.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_5.3.2.5.2",
      "section_id": "5.3.2.5.2",
      "section_title": "Notification about TSC application session context event",
      "content": "This procedure is invoked by the TSCTSF to notify the NF service consumer when a certain, previously subscribed, application session context event occurs, as defined in 3GPP TS 23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS 23.503 [19].\nFigure 5.3.2.5.2-1 illustrates the notification about TSC application session context event.\nFigure 5.3.2.5.2-1: Notification about application session context event\nWhen the TSCTSF determines that the event for the existing TSC AF application session context, to which the NF service consumer has subscribed to, occurred e.g. upon reception of an event notification for a PDU session from the PCF as described in 3GPP TS 29.514 [20], the TSCTSF shall invoke the Ntsctsf_QoSandTSCAssistance_Notify service operation by sending the HTTP POST request (as shown in figure 5.3.2.5.2-1, step 1) to the NF service consumer using the notification URI received in the subscription creation (or modification), as specified in clause 5.3.2.2.2, 5.3.2.3.2, and 5.3.2.6, and appending the \"notify\" segment path at the end of the URI. The TSCTSF shall provide in the body of the HTTP POST request the \"EventsNotification\" data type including:\n-\tthe notification correlation Id within the \"notifCorreId\"; and\n-\tthe list of the reported events in the \"events\" attribute.\nThe NF service consumer notification of other specific events using the Ntsctsf_QoSandTSCAssistance_Notify request is described in the related clauses.\nUpon the reception of the HTTP POST request from the TSCTSF indicating that the PDU session and/or service related event occurred, the NF service consumer shall acknowledge that request by sending an HTTP response message with the corresponding status code.\nIf the HTTP POST request from the TSCTSF is accepted, the NF service consumer shall acknowledge the receipt of the event notification with a \"204 No Content\" response to HTTP POST request, as shown in figure 5.3.2.5.2-1, step 2.\nIf the HTTP POST request from the TSCTSF is not accepted, the NF service consumer shall indicate in the response to HTTP POST request the cause for the rejection as specified in clause 6.2.7.\nIf the NF service consumer determines the received HTTP POST request needs to be redirected, the NF service consumer shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [5].",
      "chunk_type": "general",
      "cross_references": [
        "clause_5.3.2.2.2",
        "clause_6.2.7",
        "ts_29.500_clause_6.10.9",
        "ts_23.502_figure_5.3.2.5.2-1",
        "figure_5.3.2.5.2-1",
        "ts_23.501",
        "ts_23.502",
        "ts_23.503",
        "ts_29.514",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.2.2.5.3",
      "section_id": "5.2.2.5.3",
      "section_title": "Notification about TSC application session context termination",
      "content": "This procedure is invoked by the TSCTSF to notify the NF service consumer that the TSC application session context is no longer valid, as defined in 3GPP TS 23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS 23.503 [19].\nFigure 5.2.2.5.3-1 illustrates the notification about application session context termination.\nFigure 5.2.2.5.3-1: Notification about TSC application session context termination\nWhen the TSCTSF determines that the TSC application session context is no longer valid, the TSCTSF shall invoke the Ntsctsf_QoSandTSCAssistance_Notify service operation by sending the HTTP POST request (as shown in figure 5.2.2.5.3-1, step 1) using the notification URI received in the \"Individual TSC Application Session Context\" context creation, as specified in clause 5.3.2.2, and appending the \"terminate\" segment path at the end of the URI, to trigger the NF service consumer to request the TSC application session context termination (see clause 5.3.2.4.2). The TSCTSF shall provide in the body of the HTTP POST request the \"TerminationInfo\" data type including:\n-\tthe Individual TSC Application Session Context resource identifier related to the termination notification in the \"resUri\" attribute; and\n-\tthe TSC application session context termination cause in the \"termCause\" attribute.\nUpon the reception of the HTTP POST request from the TSCTSF requesting the TSC application session context termination, the NF service consumer shall acknowledge that request by sending an HTTP response message with the corresponding status code.\nIf the HTTP POST request from the TSCTSF is accepted, the NF service consumer shall acknowledge the receipt of the TSC application session context termination request with a \"204 No Content\" response to HTTP POST request (as shown in figure 5.2.2.5.3-1, step 2) and shall invoke the Ntsctsf_QoSandTSCAssistance_Delete service operation to the TSCTSF as described in clause 5.3.2.4.\nIf the HTTP POST request from the TSCTSF is not accepted, the NF service consumer shall indicate in the response to HTTP POST request the cause for the rejection as specified in clause 6.2.7.\nIf the NF service consumer determines the received HTTP POST request needs to be redirected, the NF service consumer shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [5].",
      "chunk_type": "general",
      "cross_references": [
        "clause_5.3.2.2",
        "clause_5.3.2.4.2",
        "clause_5.3.2.4",
        "clause_6.2.7",
        "ts_29.500_clause_6.10.9",
        "ts_23.502_figure_5.2.2.5.3-1",
        "figure_5.2.2.5.3-1",
        "ts_23.501",
        "ts_23.502",
        "ts_23.503",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.2.5.4",
      "section_id": "5.3.2.5.4",
      "section_title": "Notification about Service Data Flow QoS notification control",
      "content": "When the TSCTSF receives the notification about Service Data Flow QoS notification control from the PCF as described in 3GPP TS 29.514 [20], the TSCTSF shall inform the NF service consumer accordingly if the NF service consumer has previously subscribed as described in clauses 5.3.2.2.3 and 5.3.2.3.3.\nThe TSCTSF shall notify the NF service consumer by including the \"EventsNotification\" data type in the body of the HTTP POST request as described in clause 5.3.2.5.2.\nThe TSCTSF shall within an instance of \"events\" attribute include:\n-\t\"QOS_GUARANTEED\" or \"QOS_NOT_GUARANTEED\" within the \"event\" attribute;\n-\tthe identification of the affected service flows (if not all the flows are affected) encoded in the \"flowIds\" attribute if applicable; and\n-\tthe reference to the Alternative Service Requirement corresponding alternative QoS parameter set if received from the PCF within the \"appliedQosRef\" attribute. When the \"appliedQosRef\" attribute is omitted and the \"event\" attribute is QOS_NOT_GUARANTEED, it indicates that the lowest priority alternative QoS profile could not be fulfilled.\nWhen the \"AltQoSProfilesSupportReport\" feature as defined in clause 6.2.8 is supported, and the NF service consumer included the \"altQosReferences\" attribute for the provided QoS reference, or the \"altQosReqs\" attribute for the provided individual QoS parameter set, if the TSCTSF receives from the PCF the indication that the GBR QoS targets cannot be guaranteed and the indication that alternative QoS profiles are not supported in the NG-RAN where the UE is currently located as specified in 3GPP TS 29.514 [20], the TSCTSF may include within the EventNotification data structure the \"altQosNotSuppInd\" attribute set to true. When the Alternative QoS profiles are supported by the NG-RAN where the UE is currently located, the TSCTSF may omit or set the \"altSerReqNotSuppInd\" attribute to false, as indicated by the PCF.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_5.3.2.5.2",
        "clause_6.2.8",
        "ts_29.514"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.2.5.5",
      "section_id": "5.3.2.5.5",
      "section_title": "Notification about Service Data Flow Deactivation",
      "content": "When the TSCTSF receives the notification about service data flow deactivation from the PCF as described in 3GPP TS 29.514 [20], the TSCTSF shall inform the NF service consumer accordingly if the NF service consumer has previously subscribed as described in clauses 5.3.2.2.4 and 5.3.2.3.4.\nThe TSCTSF shall notify the NF service consumer by including the \"EventsNotification\" data type in the body of the HTTP POST request as described in clause 5.3.2.5.2.\nThe TSCTSF shall within an instance of \"events\" attribute include:\n-\t\"FAILED_RESOURCES_ALLOCATION\" within the \"event\" attribute;\n-\tthe identification of the affected service flows (if not all the flows are affected) encoded in the \"flowIds\" attribute if applicable.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_5.3.2.5.2",
        "ts_29.514"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.2.5.6",
      "section_id": "5.3.2.5.6",
      "section_title": "Notification about resources allocation outcome",
      "content": "When the TSCTSF receives the notification about resources allocation outcome from the PCF as described in 3GPP TS 29.514 [20], the TSCTSF shall inform the NF service consumer accordingly if the NF service consumer has previously subscribed as described in clauses 5.3.2.2.5 and 5.3.2.3.5.\nThe TSCTSF shall notify the NF service consumer by including the \"EventsNotification\" data type in the body of the HTTP POST request as described in clause 5.3.2.5.2.\nThe TSCTSF shall within an instance of \"events\" attribute include:\n-\t\"SUCCESSFUL_RESOURCES_ALLOCATION\" within the \"event\" attribute if the \"SUCCESSFUL_RESOURCES_ALLOCATION\" event is received from the PCF or \"FAILED_RESOURCES_ALLOCATION\" within the \"event\" attribute if the \"FAILED_RESOURCES_ALLOCATION\" event is received from the PCF;\n-\tthe identification of the affected service flows (if not all the flows are affected) encoded in the \"flowIds\" attribute if applicable.\n-\twhen the event is \"SUCCESSFUL_RESOURCES_ALLOCATION\", the reference to the Alternative Service Requirement corresponding alternative QoS parameter set if received from the PCF within the \"appliedQosRef\" attribute.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.3.2.5.2",
        "ts_29.514"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.2.5.7",
      "section_id": "5.3.2.5.7",
      "section_title": "Notification about Service Data Flow QoS Monitoring control",
      "content": "When the TSCTSF receives the notification about Service Data Flow QoS Monitoring control from the PCF as described in 3GPP TS 29.514 [20], the TSCTSF shall inform the NF service consumer accordingly if the NF service consumer has previously subscribed as described in clauses 5.3.2.2.6 and 5.3.2.3.6 and 5.3.2.6.3.\nThe TSCTSF shall notify the NF service consumer by including the \"EventsNotification\" data type in the body of the HTTP POST request as described in clause 5.3.2.5.2.\nThe TSCTSF shall within an instance of \"events\" attribute include:\n-\t\"QOS_MONITORING\" within the \"event\" attribute;\n-\tthe identification of the affected service flows (if not all the flows are affected) encoded in the \"flowIds\" attribute if applicable; and\n-\tthe \"qosMonReports\" array with the monitored QoS information. For QoS monitoring for packet delay:\na)\tthe uplink packet delays within the \"ulDelays\" attribute;\nb)\tthe downlink packet delays within the \"dlDelays\" attribute; and/or\nc)\tthe round trip packet delays within the \"rtDelays\" attribute; or\nd)\tif the feature \"PacketDelayFailureReport\" is supported, the packet delay measurement failure indicator within \"pdmf\" attribute.\nNOTE:\tThe PCF reports one UL, DL and/or round-trip packet delay measurement for each periodic and/or event-triggered report as described in 3GPP TS 29.514 [20]. I.e, the TSCTSF can include only one element within the \"ulDelays\", \"dlDelays\", and/or \"rtDelays\" array(s) respectively, each one with the received report from the PCF for the UL, DL and/or round trip delay(s).",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_5.3.2.5.2",
        "ts_29.514"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.2.5.8",
      "section_id": "5.3.2.5.8",
      "section_title": "Reporting usage for sponsored data connectivity",
      "content": "When the NF service consumer enabled sponsored data connectivity and the NF service consumer provided usage thresholds for such sponsor to the TSCTSF, the TSCTSF shall report accumulated usage to the NF service consumer using the Ntsctsf_QoSandTSCAssistance_Notify service operation when:\n-\tthe TSCTSF detects that the usage threshold provided by the NF service consumer has been reached; or\n-\tthe NF service consumer disables the sponsored data connectivity.\nThe TSCTSF shall notify the NF service consumer of the accumulated usage by including the \"EventsNotification\" data type in the body of the HTTP POST request as described in clause 5.3.2.5.2.\nThe TSCTSF shall within an instance of \"events\" attribute include:\n-\t\"USAGE_REPORT\" within the \"event\" attribute;\n-\taccumulated usage within the \"usgRep\" attribute.\nWhen the NF service consumer receives the HTTP POST request, it shall acknowledge the request by sending a \"204 No Content\" response to the TSCTSF. The NF service consumer may terminate the Individual TSC Application Session Context sending an HTTP POST as described in clause 5.3.2.4.2 or update the Individual TSC Application Session Context information by providing a new usage threshold sending an HTTP PATCH request to the TSCTSF as described in clause 5.3.2.3.2 or an HTTP PUT request to the TSCTSF as described in clause 5.3.2.6.2.\n5.3.2.5.9\tNotification about AF requested QoS for a UE or group of UE(s) not identified by UE address(es).\nWhen the TSCTSF receives from the PCF, as defined in 3GPP TS 29.514 [20], a notification on event(s) related to the requested QoS, traffic characteristics information and/or QoS monitoring information for a UE or group of UE(s) not identified by UE address(es) for an AF-session associated with an existing \"Individual TSC Application Session Context\" resource, the TSCTSF shall notify the NF service consumer accordingly by including the EventsNotification data structure in the body of the HTTP POST request as defined in clause 5.3.2.5.2, if the NF service consumer has previously subscribed for such event(s) as defined in clauses 5.3.2.2.8 and 5.3.2.3.8.\nThe TSCTSF notification of the specific event(s) is described in the related clauses of the current specification (e.g., notification about service data flow QoS monitoring, as defined in clause 5.3.2.5.7).",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.3.2.5.2",
        "clause_5.3.2.4.2",
        "clause_5.3.2.3.2",
        "clause_5.3.2.6.2",
        "clause_5.3.2.5.7",
        "ts_29.514"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.2.5.10",
      "section_id": "5.3.2.5.10",
      "section_title": "Notification about BAT offset",
      "content": "When the TSCTSF receives the notification about network provided BAT offset from the PCF as described in 3GPP TS 29.514 [20], the TSCTSF shall inform the NF service consumer accordingly if the NF service consumer included the capability for BAT adaptation or a BAT window or the periodicity range as described in the clauses 5.3.2.2.8 and 5.3.2.3.8.\nThe TSCTSF shall notify the NF service consumer by including the \"EventsNotification\" data type in the body of the HTTP POST request as described in clause 5.3.2.5.2.\nThe TSCTSF shall include:\n-\tin the \"events\" attribute an entry with the \"event\" attribute set to \"BAT_OFFSET_INFO\"; and\n-\tthe \"batOffsetInfo\" attribute containing the offset of the BAT and the optionally adjusted periodicity. The \"BatOffsetInfo\" data type shall contain the BAT offset of the arrival time in the \"ranBatOffsetNotif\" attribute, and the optionally adjusted periodicity of the data bursts encoded in the \"adjPeriod\" attribute.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.3.2.5.2",
        "ts_29.514"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.2.6.1",
      "section_id": "5.3.2.6.1",
      "section_title": "General",
      "content": "The Ntsctsf_QoSandTSCAssistance_Subscribe service operation enables NF service consumers handling of subscription to events for the existing TSC application session context. Subscription to events shall be created:\n-\twithin the TSC application session context establishment procedure by invoking the Ntsctsf_QoSandTSCAssistance_Create service operation, as described in clause 5.3.2.2; or\n-\twithin the TSC application session context modification procedure by invoking the Ntsctsf_QoSandTSCAssistance_Update service operation, as described in clause 5.3.2.3; or\n-\tby invoking the Ntsctsf_QoSandTSCAssistance_Subscribe service operation for the existing TSC application session context, as described in clause 5.3.2.6.2.\nThe following procedures using the Ntsctsf_QoSandTSCAssistance_Subscribe service operation is supported:\n-\tHandling of subscription to events for the existing TSC application session context.\n-\tSubscription to Service Data Flow QoS Monitoring Information.\n-\tSubscription to Usage Monitoring of Sponsored Data Connectivity.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_5.3.2.2",
        "clause_5.3.2.3",
        "clause_5.3.2.6.2"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.2.6.2",
      "section_id": "5.3.2.6.2",
      "section_title": "Handling of subscription to events for the existing TSC application session context",
      "content": "This procedure is used to create a subscription to events for the existing TSC AF application session context bound to the corresponding PDU session or to modify an existing subscription, as defined in 3GPP TS 23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS 23.503 [19].\nFigure 5.3.2.6.2-1 illustrates the creation of events subscription information using HTTP PUT method.\nFigure 5.3.2.6.2-1: Creation of events subscription information using HTTP PUT\nFigure 5.3.2.6.2-2 illustrates the modification of events subscription information using HTTP PUT method.\nFigure 5.3.2.6.2-2: Modification of events subscription information using HTTP PUT\nWhen the NF service consumer decides to create a subscription to one or more events for the existing TSC application session context or to modify an existing subscription previously created by itself at the TSCTSF, the NF service consumer shall invoke the Ntsctsf_QoSandTSCAssistance_Subscribe service operation by sending the HTTP PUT request to the resource URI representing the \"Events Subscription\" sub-resource in the TSCTSF, as shown in figure 5.3.2.6.2-1, step 1 and figure 5.3.2.6.2-2, step 1. The NF service consumer shall provide in the \"EventsSubscReqData\" data type of the body of the HTTP PUT request:\n-\tthe \"events\" attribute with the list of events to be subscribed;\n-\tthe \"notifUri\" attribute that includes the Notification URI to indicate to the TSCTSF where to send the notification of the subscribed events;\n-\tthe notification correlation Id within the \"notifCorreId\" attribute; and\n-\tthe specific event information related to the subscribed event, e.g. QoS monitoring information within the \"qosMon\" attribute if the \"QOS_MONITORING\" event is subscribed.\nNOTE:\tThe \"notifUri\" attribute within the EventsSubscReqData data structure can be modified to request that subsequent notifications are sent to a new NF service consumer.\nUpon the reception of the HTTP PUT request from the NF service consumer, the TSCTSF shall decide whether the received HTTP PUT request is accepted.\nIf the TSCTSF accepted the HTTP PUT request to create a subscription to events, the TSCTSF shall create the \"Events Subscription\" sub-resource and shall send the HTTP response message to the NF service consumer as shown in figure 5.3.2.6.2-1, step 2. The TSCTSF shall include in the \"201 Created\" response:\n-\ta Location header field that shall contain the URI of the created \"Events Subscription\" sub-resource i.e. \"{apiRoot}/ntsctsf-qos-tscai/<apiVersion>/tsc-app-sessions/{appSessionId}/events-subscription\"; and\n-\ta response body with the \"EventsSubscReqData\" data type representing the created \"Events Subscription\" sub-resource.\nIf the TSCTSF accepted the HTTP PUT request to modify the events subscription, the TSCTSF shall modify the \"Events Subscription\" sub-resource and shall send to the NF service consumer:\n-\tthe HTTP \"204 No Content\" response (as shown in figure 5.3.2.6.2-2, step 2a); or\n-\tthe HTTP \"200 OK\" response (as shown in figure 5.3.2.6.2-2, step 2b) including in the \"EventsSubscReqData\" data type the updated representation of the \"Events Subscription\" sub-resource.\nIf the HTTP PUT request from the NF service consumer is not accepted, the TSCTSF shall indicate in the response to HTTP PUT request the cause for the rejection as specified in clause 6.2.7.\nIf the TSCTSF determines the received HTTP PUT request needs to be redirected, the TSCTSF shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.2.7",
        "ts_29.500_clause_6.10.9",
        "ts_23.502_figure_5.3.2.6.2-1",
        "figure_5.3.2.6.2-1",
        "figure_5.3.2.6.2-2",
        "ts_23.501",
        "ts_23.502",
        "ts_23.503",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.2.6.3",
      "section_id": "5.3.2.6.3",
      "section_title": "Subscription to Service Data Flow QoS Monitoring Information",
      "content": "This procedure is used by NF service consumer to subscribe and/or modify the subscription for notification about service data flow QoS monitoring information.\nThe NF service consumer shall include in the HTTP PUT request message the \"EventsSubscReqData\" data type, which shall contain:\n-\tto create a subscription to QoS monitoring information:\n-\tthe \"events\" attribute with an entry containing the value \"QOS_MONITORING\" to create a subscription to notification about service data flow QoS monitoring information;\n-\tinclude the updated QoS monitoring information within the \"qosMon\" attribute as defined in clause 5.3.2.2.6\n-\tto remove a subscription to QoS monitoring information:\n-\tthe \"events\" attribute containing an array that omits the values \"QOS_MONITORING\".\nThe NF service consumer shall include other events related information as described in clause 5.3.2.6.1.\nAs result of this action, the TSCTSF shall set the appropriate subscription to service data flow QoS monitoring information as described in in 3GPP TS 29.514 [20].\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.6.1.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_5.3.2.2.6",
        "clause_5.3.2.6.1",
        "ts_29.514"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.2.6.4",
      "section_id": "5.3.2.6.4",
      "section_title": "Subscription to Usage Monitoring of Sponsored Data Connectivity",
      "content": "This procedure is used by NF service consumer to subscribe and/or modify the subscription for notification about usage monitoring of sponsored data connectivity.\nThe NF service consumer shall include in the HTTP PUT request message the \"EventsSubscReqData\" data type, which shall contain:\n-\tto create a subscription to usage monitoring of sponsored data connectivity:\n-\tthe \"events\" attribute with an entry containing the value \"USAGE_REPORT\" to create a subscription to notification about usage monitoring of sponsored data connectivity;\n-\tinclude the usage thresholds to apply in the \"usgThres\" attribute.\n-\tto remove a subscription to usage monitoring of sponsored data connectivity:\n-\tthe \"events\" attribute containing an array that omits the values \"USAGE_REPORT\".\nThe NF service consumer shall include other events related information as described in clause 5.3.2.6.1.\nAs result of this action, the TSCTSF shall set the appropriate subscription to usage monitoring of sponsored data connectivity as described in in 3GPP TS 29.514 [20].\nThe TSCTSF shall reply to the NF service consumer as described in clause 5.3.2.6.1.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.3.2.6.1",
        "ts_29.514"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.2.7.1",
      "section_id": "5.3.2.7.1",
      "section_title": "General",
      "content": "The Ntsctsf_QoSandTSCAssistance_Unsubscribe service operation enables NF service consumers to remove subscription to all subscribed events for the existing TSC application session context. Subscription to events shall be removed:\n-\tby invoking the Ntsctsf_QoSandTSCAssistance_Unsubscribe service operation for the existing application session context, as described in clause 5.3.2.7.2; or\n-\twithin the application session context modification procedure by invoking the Ntsctsf_QoSandTSCAssistance_Update service operation, as described in clause 5.3.2.3; or\n-\twithin the TSC application session context termination procedure by invoking the Ntsctsf_QoSandTSCAssistance_Delete service operation, as described in clause 5.3.2.4.\nThe following procedure using the Ntsctsf_QoSandTSCAssistance_Unsubscribe service operation is supported:\n-\tUnsubscription to events.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_5.3.2.7.2",
        "clause_5.3.2.3",
        "clause_5.3.2.4"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.3.2.7.2",
      "section_id": "5.3.2.7.2",
      "section_title": "Unsubscription to events",
      "content": "This procedure is used to unsubscribe to all subscribed events for the existing TSC AF application session context, as defined in 3GPP TS 23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS 23.503 [19].\nFigure 5.3.2.7.2-1 illustrates the unsubscription to events using the HTTP DELETE method.\nFigure 5.3.2.7.2-1: Removal of events subscription information using HTTP DELETE\nWhen the NF service consumer decides to unsubscribe to all subscribed events for the existing TSC application session context, the NF service consumer shall invoke the Ntsctsf_QoSandTSCAssistance_Unsubscribe service operation by sending the HTTP DELETE request message to the resource URI representing the \"Events Subscription\" sub-resource in the TSCTSF, as shown in figure 5.3.2.7.2-1, step 1.\nUpon the reception of the HTTP DELETE request message from the NF service consumer, the TSCTSF shall decide whether the received HTTP request message is accepted.\nIf the HTTP DELETE request message from the NF service consumer is accepted, the TSCTSF shall delete \"Events Subscription\" sub-resource and shall send to the NF service consumer a HTTP \"204 No Content\" response message. The TSCTSF may delete the existing subscription to event notifications for the related PDU session from the PCF as described in 3GPP TS 29.514 [20].\nIf the HTTP DELETE request from the NF service consumer is not accepted, the TSCTSF shall indicate in the response to HTTP DELETE request the cause for the rejection as specified in clause 6.2.7.\nIf the TSCTSF determines the received HTTP DELETE request needs to be redirected, the TSCTSF shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.2.7",
        "ts_29.500_clause_6.10.9",
        "ts_23.502_figure_5.3.2.7.2-1",
        "figure_5.3.2.7.2-1",
        "ts_23.501",
        "ts_23.502",
        "ts_23.503",
        "ts_29.514",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.4.1.1",
      "section_id": "5.4.1.1",
      "section_title": "Overview",
      "content": "This service provides:\n-\tAuthorization of NF Service Consumer requests for the activation, update, and deactivation of the 5G access stratum time distribution.\nNOTE:\tThe AF can use either the procedure specified in bullet 1) and 2) of clause 5.2.1.1 for configuring the (g)PTP instance in 5GS or the procedure specified in Ntsctsf_ASTI service for controlling the 5G access stratum time distribution for a particular UE. The procedures are not intended to be used in conjunction.\n-\tDetection and reporting of time synchronization service status based on gNB and/or UPF/NW-TT timing synchronization status information and reporting status updates.\n-\tDetection and reporting of changes of the state of 5G access time distribution configuration based e.g. on evaluation of the time synchronization coverage area conditions.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_5.2.1.1"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.4.1.2.1",
      "section_id": "5.4.1.2.1",
      "section_title": "TSCTSF",
      "content": "The TSCTSF supports to:\n-\treceive the request to activate or update the 5G access stratum time distribution configuration from the NEF or AF and provide it for the target UE(s) to the PCF;\n-\treceive the request to delete the 5G access stratum time distribution configuration from the NEF or AF and provide it for the target UE(s) to the PCF;\n-\treceive the request to query the status of the access stratum time distribution from the NEF or AF and respond to the NEF or AF with the status of the access stratum time distribution;\n-\tmake a translation from External/Internal Group Identifier to a list of SUPI by querying UDM;\n-\tretrieve the Time Synchronization Subscription data from UDM for the control of 5G access stratum-based time distribution and make decision based on received the Time Synchronization Subscription data;\n-\tdetermine whether the UE is inside/outside the authorized time synchronization coverage area and/or within the authorized time period and enforce the 5G access stratum time distribution service accordingly;\n-\tindicate whether the service is supported or not as per the requested acceptance criteria (e.g., based on the known timing synchronization status attribute thresholds pre-configured at gNB); and\n-\tbased on gNB and/or UPF/NW-TT timing synchronization status (degradation/failure/improvement) information and reporting, provide a notification when there is a service status update if the NEF or AF subscribe to service status updates.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_5.4.1.2.2",
      "section_id": "5.4.1.2.2",
      "section_title": "NF Service Consumers",
      "content": "The NF service consumer supports to:\n-\tsend the request to create, modify and delete the 5G access stratum time distribution configuration to the TSCTSF;\n-\tquery the status of the access stratum time distribution configuration;\n-\tprovide clock quality reporting control information, consisting of clock quality detail level and, if applicable, clock quality acceptance criteria, during activation or modification of time synchronization service;\n-\tsubscribe to time synchronization service status for the target UE(s) when provided the clock quality reporting control information contains acceptance indication; and\n-\treceive notifications about the state and changes of state of 5G access stratum time distribution configuration.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_5.4.2.1",
      "section_id": "5.4.2.1",
      "section_title": "Introduction",
      "content": "Service operations defined for the Ntsctsf_ASTI service are shown in table 5.4.2.1-1.\nTable 5.4.2.1-1: Ntsctsf_ASTI Service Operations\nService Operation Name\nDescription\nInitiated by\nNtsctsf_ASTI_Create\nAllows the NF service consumer to create a 5G access stratum time distribution configuration and optionally subscribe for 5G access stratum time distribution status.\nNF service consumer (e.g. AF, NEF)\nNtsctsf_ASTI_Update\nAllows the NF service consumer to update a 5G access stratum time distribution configuration and optionally subscribe for 5G access stratum time distribution status.\nNF service consumer (e.g. AF, NEF)\nNtsctsf_ASTI_Delete\nAllows the NF service consumer to delete a 5G access stratum time distribution configuration and related subscription for 5G access stratum time distribution status.\nNF service consumer (e.g. AF, NEF)\nNtsctsf_ASTI_Get\nAllows the NF service consumer to query the status of the 5G access stratum time distribution configuration.\nNF service consumer (e.g. AF, NEF)\nNtsctsf_ASTI_UpdateNotify\nAllows the TSCTSF to notify about the status of the 5G access stratum time distribution and/or changes on the state of 5G access stratum time distribution configuration.\nTSCTSF\nNOTE:\tThe NEF and the AF use the Ntsctsf_ASTI service in the same way.",
      "chunk_type": "general",
      "cross_references": [
        "table_5.4.2.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.4.2.2.1",
      "section_id": "5.4.2.2.1",
      "section_title": "General",
      "content": "This service operation is used by an NF service consumer to create a 5G access stratum time distribution configuration.\nThe following procedures using the Ntsctsf_ASTI_Create service operation are supported:\n-\tcreating a new configuration.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_5.4.2.2.2",
      "section_id": "5.4.2.2.2",
      "section_title": "Creating a new configuration",
      "content": "Figure 5.4.2.2.2-1 illustrates the creation of a configuration.\nFigure 5.4.2.2.2-1: Creation of a configuration\nTo create a configuration, the NF service consumer shall send an HTTP POST message to the TSCTSF to the URI \"{apiRoot}/ntsctsf-asti/<apiVersion>/configurations\". The HTTP POST message shall include the AccessTimeDistributionData data structure as request body, as shown in figure 5.4.2.2.2-1, step 1. The AccessTimeDistributionData data structure shall include:\n-\tone of the indication of the UEs to which the 5G access stratum time distribution configuration is requested via:\n-\tidentification of a list of individual UEs within the \"supis\" attribute; or\n-\tidentification of a group of UE(s) within the \"interGrpId\" attribute;\n-\tidentification of a list of individual UEs within the \"gpsis\" attribute;\n-\tidentification of a group of UE(s) within the \"exterGrpId\" attribute; and\n-\t5G access stratum time distribution parameters within the \"asTimeDisParam\" attribute.\nWithin the \"asTimeDisParam\" attribute inside the AccessTimeDistributionData data structure, the NF service consumer:\n-\tshall include the \"asTimeDisEnabled\" attribute set to true if the access stratum time distribution via Uu reference point should be activated. Otherwise, if the access stratum time distribution via Uu reference point should be inactive, the \"asTimeDisEnabled\" attribute may either be omitted or included and set to \"false\";\n-\tmay include the time synchronization error budget within the \"timeSyncErrBdgt\" attribute;\n-\tmay include the temporal validity condition within the \"tempValidity\" attribute; and\n-\tif the \"NetTimeSyncStatus\" feature is supported, may indicate whether and which clock quality information to provide to the UE by including the clock quality detail level in the \"clkQltDetLvl\" attribute and optionally the clock quality acceptance criteria in the \"clkQltAcptCri\" attribute, if applicable.\nWhen the \"CoverageAreaSupport\" feature is supported, the AccessTimeDistributionData data structure may include the time synchorinization coverage area encoded as \"covReq\" attribute, that contains a list of Tracking Area codes per serving network where the provided 5G access stratum time distribution data applies.\nWhen the \"ASTIConfigReport\" feature is supported, to receive notifications about changes in the 5G access stratum time distribution configuration, the NF service consumer shall also provide the notification URI within the \"astiNotifUri\" attribute and the notification correlation Id within the \"astiNotifId\" attribute. When the \"NetTimeSyncStatus\" feature is supported, the NF service consumer shall provide the clock quality acceptance criteria in the \"clkQltAcptCri\" attribute to indicate the subscription to the notification of the status of the 5G access stratum time distribution service.\nUpon receipt of the HTTP request from the NF service consumer, if the request is authorized, the TSCTSF shall:\n-\tif the 5G access stratum time distribution configuration applies to an internal group of UEs indicated in the \"interGrpId\" attribute or to an external group of UEs indicated in the \"exterGrpId\" attribute, interact with the UDM to retrieve the list of individual UEs that belong to the group using the Nudm_SDM service as defined in 3GPP TS 29.503 [24];\n-\tif the 5G access stratum time distribution configuration applies to a list of individual UEs within the \"gpsis\" attribute, interact with the UDM to retrieve the SUPI(s) that corresponds to each of the GPSI(s) using the Nudm_SDM service as defined in 3GPP TS 29.503 [24];\n-\tretrieve the UE's Time Synchronization Subscription data from the UDM for each individual UE:\na.\tif the UE's Time Synchronization Subscription data indicates that the UE(s) are allowed for AF-provided ASTI based stime synchronization service, the TSCTSF shall determine that the UE(s) are authorized for the requested time synchronization service;\nb.\tif the UE(s) are allowed for AF-provided ASTI service and the UE's Time Synchronization Subscription data contains the authorized Uu time synchronization error budget, and the requested time synchronization error budget within the \"timeSyncErrBdgt\" attribute is within the authorized time synchronization error budget, the TSCTSF shall determine that the UE(s) are authorized for the requested time synchronization service;\n-\tIf the \"CoverageAreaSupport\" feature is supported and a time synchronization coverage area is provided within the \"covReq\" attribute, perform the following operations:\na.\tif the UE's Time Synchronization Subscription data from the UDM contains the list of TA(s) that comprise the authorized time synchronization Coverage Area, if the requested Coverage Area is inside of the authorized Time Synchronization Coverage Area, the TSCTSF uses the Authorized Time Synchronization Coverage Area. If the requested Coverage Area partly overlaps with the Authorized Time Synchronization Coverage Area, the TSCTSF uses the intersection of them. If there is no overlap between them, the TSCTSF shall reject the AF request as described in clause 5.27.1.11 of 3GPP TS 23.501 [2].\nb.\tthe TSCTSF shall discover the list of AMF(s) serving the list of TA(s) that comprise the time synchronization coverage area using the Nnrf_NFDiscovery service operation as described in 3GPP TS 29.510 [10], if they were not previously retrieved, and:\nc.\tsubscribe with the discovered AMF(s):\n1.\tfor each UE, e.g. when the 5G access stratum time distribution configuration applies to a list of individual UEs, and the UE time synchronization coverage area within the \"covReq\" attribute is within the authorized time synchronization coverage area; or\n2.\tfor the group of UEs, when the 5G access stratum time distribution configuration applies to a group of UEs.\nTo receive notifications about presence of the UE in an Area of Interest events using the Namf_EventExposure service as described in 3GPP TS 29.518 [27], where the Area of Interest is the provided time synchronization coverage area.\nd.\tBased on the outcome provided by the AMF about the UE’s presence in the Area of Interest and the authorized time synchronization coverage area, the TSCTSF shall determine if the 5G access stratum time distribution configuration is enabled for the UE:\ni.\tIf the UE presence is within any of the TAs from the authorized time synchronization coverage area, the TSCTSF determines that the time synchronization coverage area condition is fulfilled, and the provided 5G access stratum time distribution configuration is enabled for the UE.\nii.\tIf the UE presence is not within any of the TAs from the time synchronization coverage area, the TSCTSF determines that the time synchronization coveragae area condition is not fulfilled, and the provided 5G access stratum time distribution configuration is not enabled for the UE.\n-\tIf the UE's Time Synchronization Subscription data contains the periods of authorized start and stop times, and the requested temporal validity condition within the \"tempValidity\" attribute is within any of the authorized periods of authorized start and stop times, the TSCTSF determines that the UE is authorized for the requested time synchronization service.\n-\tThe TSCTSF retrieves the UE's Time Synchronization Subscription data from the UDM for each individual UE. If the UE's Time Synchronization Subscription data contains the clock quality detail level and clock quality acceptance criteria, and if the \"NetTimeSyncStatus\" feature is supported and the requested clock quality detail level within the \"clkQltDetLvl\" attribute and optionally the clock quality acceptance criteria in the \"clkQltAcptCri\" attribute are within any of the authorized clock quality detail level and the clock quality acceptance criteria, the TSCTSF determines that the UE is authorized for the requested time synchronization service.\nNOTE:\tEach parameter in the AF requested clock quality information is evaluated individually, if the TSCTSF determines that at least one parameter within the \"clkQltAcptCri\" attribute is not acceptable, the TSCTSF shall reject the AF request as described in clause 5.27.1.11 of 3GPP TS 23.501 [2].\n-\tfor each authorized UE, subscribe to event notifications of newly registered PCF for the UE by invoking Nbsf_Management_Subscribe Service Operation as defined in 3GPP TS 29.521 [23], if not yet subscribed;\n-\tfor each authorized UE, if the 5G access stratum time distribution via Uu reference point is being activated (i.e. the \"asTimeDisEnabled\" attribute within the \"asTimeDisParam\" attribute was received and set to true), calculate the Uu time synchronization error budget as specified in clauses 5.27.1.9 and 5.27.1.11 of 3GPP TS 23.501 [2];\n-\tfor each authorized UE, if clock quality information was provided, the authorized clock quality detail level within the \"clkQltDetLvl\" attribute and optionally the clock quality acceptance criteria in the \"clkQltAcptCri\" attribute, if applicable;\n-\tfor each authorized UE, interact with the PCF for a UE to provide the configuration information for each target UE using the Npcf_AMPolicyAuthorization_Create service operation as defined in 3GPP TS 29.534 [14];\n-\tcreate a new resource, which represents a new \"Individual ASTI Configuration\" resource, addressed by a URI as defined in clause 6.1.3.7 and containing a TSCTSF created resource identifier; and\n-\tsend an HTTP \"201 Created\" response with AccessTimeDistributionData data structure as response body and a Location header field containing the URI of the created Individual ASTI Configuration resource, i.e. \"{apiRoot}/ntsctsf-asti/<apiVersion>/configurations/{configId}\", as shown in figure 5.4.2.2.2-1, step 2.\nIf the feature \"SupportReport\" is supported, and if the AF request is not authorized or the AF requested parameter(s) are not allowed by UE's Time Synchronization Subscription Data in UDM, the TSCTSF shall indicate in an HTTP \"403 Forbidden\" response message the \"cause\" attribute set to \"UE_SERVICE_NOT_AUTHORIZED\".\nIf the TSCTSF cannot successfully fulfil the received HTTP POST request due to the internal TSCTSF error or due to the error in the HTTP POST request, the TSCTSF shall send the HTTP error response as specified in clause 6.3.7.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.501_clause_5.27.1.11",
        "clause_6.1.3.7",
        "clause_6.3.7",
        "figure_5.4.2.2.2-1",
        "ts_29.503",
        "ts_23.501",
        "ts_29.510",
        "ts_29.518",
        "ts_29.521",
        "ts_29.534"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.4.2.3.1",
      "section_id": "5.4.2.3.1",
      "section_title": "General",
      "content": "This service operation is used by an NF service consumer to update a 5G access stratum time distribution configuration.\nThe following procedures using the Ntsctsf_ASTI_Update service operation are supported:\n-\tUpdating an existing configuration.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_5.4.2.3.2",
      "section_id": "5.4.2.3.2",
      "section_title": "Updating an existing configuration",
      "content": "Figure 5.4.2.3.2-1 illustrates the updating of an existing configuration.\nFigure 5.4.2.3.2-1: Update of a configuration\nTo update a configuration, the NF service consumer shall send an HTTP PUT request to the resource \"{apiRoot}/ntsctsf-asti/<apiVersion>/configurations/{configId}\" representing an existing \"Individual ASTI Configuration\" resource, as shown in figure 5.4.2.3.2-1, step 1, to modify the configuration.\nThe AccessTimeDistributionData data structure provided in the request body shall include an updated representation of the \"Individual ASTI Configuration\" resource with the updated 5G access stratum time distribution configuration information as defined in clause 5.4.2.2.2.\nWhen the \"CoverageAreaSupport\" feature is supported, the AccessTimeDistributionData data structure may include the time synchronization coverage area encoded as \"covReq\" attribute, that may contain an updated list of Tracking Area codes per serving network where the provided 5G access stratum time distribution data applies.\nWhen the \"ASTIConfigReport\" feature is supported, to receive notifications about changes in the 5G access stratum time distribution configuration, the NF service consumer shallprovide the notification URI within the \"astiNotifUri\" attribute and the notification correlation Id within the \"astiNotifId\" attribute, if not previously provided, or may update the previously provided ones; and/or, when the \"NetTimeSyncStatus\" feature is supported, may provide or update the clock quality detail level in the \"clkQltDetLvl\" attribute and optionally the clock quality accpetance criteria in the \"clkQltAcptCri\" attribute.\nUpon receipt of the corresponding HTTP PUT message, if the request is authorized, theTSCTSF shall:\n-\tIf the \"CoverageAreaSupport\" feature is supported and an updated time synchronization coverage area is provided within the \"covReq\" attribute, if the UE's Time Synchronization Subscription Data from the UDM contains the list of TA(s) that comprise the authorized time synchronization coverage area, determine the applicable time synchronization coverage area as described in clause 5.4.2.2.2 and:\ni.\tdiscover the list of AMF(s) serving the list of TA(s) that comprise the time synchronization coverage area using the Nnrf_NFDiscovery service operation as described in 3GPP TS 29.510 [10], if they were not previously retrieved, and:\nii.\tupdate the subscription with the discovered AMF(s), if applicable:\na.\tfor each affected UE, e.g. when the 5G access stratum time distribution configuration applies to a list of individual UEs and the UE time synchronization coverage area within the \"covReq\" attribute is within the subscribed time synchronization coverage area; or\nb.\tfor the group of UEs, when the 5G access stratum time distribution configuration applies to a group of UEs.\nto receive notifications about presence of the UE in an Area of Interest events using the Namf_EventExposure service as described in 3GPP TS 29.518 [27], where the Area of Interest is the provided time synchronization coverage area.\niii.\tBased on the outcome provided by the AMF or the local available information about the UE’s presence in the Area of Interest and the authorized time synchronization coverage area, the TSCTSF shall determine if the 5G access stratum time distribution configuration is enabled for the UE:\ni.\tIf the UE presence is within any of the TAs from the authorized time synchronization coverage area, the TSCTSF determines that the time synchronization coverage area condition is fulfilled, and the provided 5G access stratum time distribution configuration is enabled for the UE.\nii.\tIf the UE presence is not within any of the TAs from the authorized time synchronization coverage area, the TSCTSF determines that the time synchronization coverage area condition is not fulfilled, and the provided 5G access stratum time distribution configuration is not enabled for the UE.\n-\tif the \"CoverageAreaSupport\" feature is supported and a time synchronization coverage area previously provided is removed:\n1.\tterminate the related subscriptions to notifications about presence of the UE in an Area of Interest events using the Namf_EventExposure service as described in 3GPP TS 29.518 [27].\n2.\tfor each UE that did not fulfil the removed time synchronization coverage area, authorize the UE for the 5G access stratum time distribution configuration.\n-\tif the time synchronization error budget within the \"timeSyncErrBdgt\" attribute, the temporal validity condition within the \"tempValidity\" attribute, and/or, if the \"NetTimeSyncStatus\" feature is supported, the clock quality reporting control information in the \"clkQltDetLvl\" attribute and, optionally the clock quality acceptance criteria in the \"clkQltAcptCri\" attribute are provided, updated, or removed, the TSCTSF based on the Time Synchronization Subscription data retrieved from the UDM determines whether the UE is authorized for the request again as described in clause 5.4.2.2.2.\n-\tfor each authorized UE, if the 5G access stratum time distribution via Uu reference point is being activated (i.e. the \"asTimeDisEnabled\" attribute within the \"asTimeDisParam\" attribute was received and set to true) or a time synchronization error budget for an active 5G access stratum time distribution is provided or updated by the AF, calculate the Uu time synchronization error budget as specified in clause 5.27.1.9 of 3GPP TS 23.501 [2];\n-\tfor each authorized UE, interact with the PCF for a UE to provide the updated configuration information using the Npcf_AMPolicyAuthorization_Update service operation as defined in 3GPP TS 29.534 [14]; and\n-\tupdate the existing \"Individual ASTI Configuration\" resource. Then the TSCTSF shall send a HTTP response including \"200 OK\" status code with AccessTimeDistributionData data structure or \"204 No Content\" status code, as shown in figure 5.4.2.3.2-1, step 2.\nIf the feature \"SupportReport\" is supported, and if the AF request is not authorized or the AF requested parameter(s) are not allowed by UE's Time Synchronization Subscription Data in UDM, the TSCTSF shall indicate in an HTTP \"403 Forbidden\" response message the \"cause\" attribute set to \"UE_SERIVCE_NOT_AUTHORIZED\".\nIf the TSCTSF cannot successfully fulfil the received HTTP PUT request due to the internal TSCTSF error or due to the error in the HTTP PUT request, the TSCTSF shall send the HTTP error response as specified in clause 6.3.7.\nIf the TSCTSF determines the received HTTP PUT request needs to be redirected, the TSCTSF shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.4.2.2.2",
        "ts_23.501_clause_5.27.1.9",
        "clause_6.3.7",
        "ts_29.500_clause_6.10.9",
        "figure_5.4.2.3.2-1",
        "ts_29.510",
        "ts_29.518",
        "ts_23.501",
        "ts_29.534",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.4.2.4.1",
      "section_id": "5.4.2.4.1",
      "section_title": "General",
      "content": "This service operation is used by an NF service consumer to delete a 5G access stratum time distribution configuration.\nThe following procedures using the Ntsctsf_ASTI_Delete service operation are supported:\n-\tDelete an existing configuration.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_5.4.2.4.2",
      "section_id": "5.4.2.4.2",
      "section_title": "Delete an existing configuration",
      "content": "Figure 5.4.2.4.2-1 illustrates the deleting of an existing configuration.\nFigure 5.4.2.4.2-1: Deletion of a configuration\nTo delete a configuration or unsubscribe to 5G access stratum time distribution status, the NF service consumer shall send an HTTP DELETE request to the resource \"{apiRoot}/ntsctsf-asti/<apiVersion>/configurations/{configId}\" representing an existing \"Individual ASTI Configuration\" resource, as shown in figure 5.4.2.4.2-1, step 1, to delete the configuration/subscription.\nUpon the reception of an HTTP DELETE request from the NF service consumer, if the HTTP DELETE request is authorized, the TSCTSF shall:\n-\tinteract with the PCF for a UE to remove the configuration information and, if applicable, subscription information in the PCF by using the Npcf_AMPolicyAuthorization_Delete service operation as defined in 3GPP TS 29.534 [14].\n-\tremove the corresponding configuration and respond with \"204 No Content\" as shown in figure 5.4.2.4.2-1, step 2.\nIf the TSCTSF cannot successfully fulfil the received HTTP DELETE request due to the internal TSCTSF error or due to the error in the HTTP DELETE request, the TSCTSF shall send the HTTP error response as specified in clause 6.3.7.\nIf the TSCTSF determines the received HTTP DELETE request needs to be redirected, the TSCTSF shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3.7",
        "ts_29.500_clause_6.10.9",
        "figure_5.4.2.4.2-1",
        "ts_29.534",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.4.2.5.1",
      "section_id": "5.4.2.5.1",
      "section_title": "General",
      "content": "This service operation is used by an NF service consumer to retrieve ths status of the access stratum time distribution for a list of UEs.\nThe following procedures using the Ntsctsf_ASTI_Get service operation are supported:\n-\tRetrieve the status of access stratum time distribution.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_5.4.2.5.2",
      "section_id": "5.4.2.5.2",
      "section_title": "Retrieve the status of access stratum time distribution",
      "content": "Figure 5.4.2.5.2-1 illustrates the retrieval of the status of access stratum time distribution.\nFigure 5.4.2.5.2-1: Retrieval of the status of access stratum time distribution\nTo retrieve the status of access stratum time distribution, the NF service consumer shall send an HTTP POST request to the resource \"{apiRoot}/ntsctsf-asti/<apiVersion>/configurations/retrieve\". The HTTP POST message shall include the StatusRequestData data structure as request body, as shown in figure 5.4.2.5.2-1, step 1. The StatusRequestData data structure shall include:\n-\tidentification of a list of individual UEs within the \"supis\" attribute; or\n-\tidentification of a list of individual UEs within the \"gpsis\" attribute;\nUpon the reception of an HTTP POST request and if the HTTP POST request is accepted by the TSCTSF, the TSCTSF determines the status of the access stratum time distribution is active for a UE if there is a 5G access stratum time distribution configuration applicable to the UE, i.e., it applies according to the temporal validity, if present, and the access time distribution via Uu reference point is activated; otherwise, the status of the access stratum time distribution is inactive for the UE.\nThe TSCTSF shall send an HTTP \"200 OK\" response with the StatusResponseData data structure as response body, as shown in figure 5.4.2.5.2-1, step 2 to notify of the status.\nWithin the StatusResponseData data structure, TSCTSF may include:\n-\ta list of SUPI(s) whose status of the access stratum time distribution is inactive within the \"inactiveUes\" attribute or a list of GPSI(s) whose status of the access stratum time distribution is inactive within the \"inactiveGpsis\" attribute;\n-\tthe \"activeUes\" attribute containing one or more the ActiveUe instances which includes the UE identifier whose status of the access stratum time distribution is active within the \"supi\" attribute or \"gpsi\" attribute and the requested time synchronization error budget, if available, within the \"timeSyncErrBdgt\" attribute.\nIf the TSCTSF cannot successfully fulfil the received HTTP POST request due to the internal TSCTSF error or due to the error in the HTTP POST request, the TSCTSF shall send the HTTP error response as specified in clause 6.3.7.\nIf the TSCTSF determines the received HTTP POST request needs to be redirected, the TSCTSF shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3.7",
        "ts_29.500_clause_6.10.9",
        "figure_5.4.2.5.2-1",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.4.2.6.1",
      "section_id": "5.4.2.6.1",
      "section_title": "General",
      "content": "This service operation is used by the TSCTSF to report about the change of state of the 5G access stratum time distribution configuration and the 5G access stratum time distribution status information.\nThe following procedures using the Ntsctsf_ASTI_UpdateNotify service operation are supported:\n-\tNotification about the 5G Access Stratum Time Distribution events\n-\tNotification about ASTI configuration changes due to UE presence in time synchronization coverage area.\n-\tNotification about the 5G access stratum time distribution status information.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_5.4.2.6.2",
      "section_id": "5.4.2.6.2",
      "section_title": "Notification about the 5G access stratum time distribution events",
      "content": "Figure 5.4.2.6.2-1 illustrates the notification about the 5G access stratum time distribution events.\nFigure 5.4.2.6.2-1: Notification about the 5G access stratum time distribution event\nWhen the \"ASTIConfigReport\" feature is supported, the TSCTSF shall invoke the Ntsctsf_ASTI_UpdateNotify to report a 5G access stratum time distribution event by sending an HTTP POST request (as shown in figure 5.4.2.6.2-1, step 1) to the NF service consumer using as request URI the notification URI received in the creation (as specified in clause  5.4.2.2.2) or modification (as specified in clause  5.4.2.3.2) of the Individual ASTI Configuration resource, and the AstiConfigNotification data structure as request body.\nThe AstiConfigNotification data structure shall include:\n-\tthe notification correlation ID provided by the NF service consumer during the provisioning of 5G access stratum time distribution configuration within the \"astiNotifId\" attribute;\n-\tthe update of the 5G access stratum configuration for the indicated UE(s) within the \"stateConfigs\" attribute. Within each entry of the \"stateConfigs\" attribute, the TSCTSF shall include:\na.\tthe identification of the individual UE within either the \"supi\" or the \"gpsi\" attribute;\nb.\tinformation about the observed event within the \"event\" attribute. For each reported event, the additional event information, if applicable.\nThe notification of specific events using the Ntsctsf_ASTI_UpdateNotify service operation is described in the related clauses.\nIf the HTTP POST request from the TSCTSF is not accepted, the NF service consumer shall indicate in the response to HTTP POST request the cause for the rejection as specified in clause 6.3.7.\nIf the HTTP POST request from the TSCTSF is accepted, the NF service consumer shall acknowledge the receipt of the event notification with a \"204 No Content\" response, as shown in figure 5.4.2.6.2-1, step 2.\nIf the NF service consumer determines the received HTTP POST request needs to be redirected, the NF service consumer shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].",
      "chunk_type": "general",
      "cross_references": [
        "clause_5.4.2.2.2",
        "clause_5.4.2.3.2",
        "clause_6.3.7",
        "ts_29.500_clause_6.10.9",
        "figure_5.4.2.6.2-1",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.4.2.6.3",
      "section_id": "5.4.2.6.3",
      "section_title": "Notification about ASTI configuration changes due to UE presence in time synchronization coverage area",
      "content": "If the feature \"CoverageAreaSupport\" is supported and the TSCTSF received time synchronization coverage area as part of the Ntsctsf_ASTI_Create/Update service operation as described in clauses 5.4.2.2.2 and 5.4.2.3.2, when the TSCTSF receives a change in the UE presence in Area of Interest notification as described in 3GPP TS 29.518 [27], the TSCTSF shall determine if the re-evaluation of the time synchronization coverage area shall trigger an activation or deactivation of the access stratum time distribution:\n-\tIf the notification of change of UE presence in Area of Interest indicates that the UE is within any TAs from the time synchronization coverage area, then the TSCTSF shall enable access stratum time distribution for the UE. The TSCTSF shall provide the 5G access stratum time distribution configuration to the UE using the Npcf_AMPolicyAuthorization_Create service operation as defined in 3GPP TS 29.534 [14].\n-\tIf the notification of change of UE presence in Area of Interest indicates that the UE is not within any TAs from the time synchronization coverage area, then the TSCTSF shall disable access stratum time distribution for the UE. The TSCTSF shall disable the 5G access stratum time distribution to the UE using the Npcf_AMPolicyAuthorization_Update service operation as defined in 3GPP TS 29.534 [14].\nIf the feature \"ASTIConfigReport\" is supported, the TSCTSF shall invoke the Ntsctsf_ASTI_UpdateNotify to report the change of 5G access stratum time distribution configuration as specified in clause 5.4.2.6.2. The \"stateConfigs\" attribute shall include:\na.\t the \"event\" attribute set to \"ASTI_ENABLED\" to indicate the 5G access stratum time distribution configuration for the UE is active; or\nb.\t the \"event\" attribute set to \"ASTI_DISABLED\" to indicate the 5G access stratum time distribution configuration for the UE is inactive.\nThe NF service consumer shall acknowledge or redirect the request as described in clause 5.4.2.6.2.",
      "chunk_type": "general",
      "cross_references": [
        "clause_5.4.2.6.2",
        "ts_29.518",
        "ts_29.534"
      ]
    },
    {
      "chunk_id": "ts_29.565_5.4.2.6.4",
      "section_id": "5.4.2.6.4",
      "section_title": "Notification about the 5G access stratum time distribution status information",
      "content": "If the \"NetTimeSyncStatus\" feature is supported and the TSCTSF received clock quality acceptance criteria as part of the Ntsctsf_ASTI_Create/Update service operation as described in clauses 5.4.2.2.2 and 5.4.2.3.2, when the TSCTSF is aware of 5G access stratum time distribution status information, the TSCTSF shall determine if the UE is impacted or not based on the UE presence in Area of Interest notification as described in clause 4.15.9.5.1 of 3GPP TS 23.502 [3].\nIf the \"NetTimeSyncStatus\" feature is supported and for the affected UEs, the TSCTSF shall invoke the Ntsctsf_ASTI_UpdateNotify to report about the 5G access stratum time distribution status as specified in clause 5.4.2.6.2 and shall include the status of the access stratum time distribution for the targeted UE(s) within the \"stateConfigs\" attribute as follows:\na.\t the \"event\" attribute set to \"CLOCK_QUAL_ACCEPTABLE\" to indicate the clock quality for the ASTI service is fulfilling the clock quality acceptance criteria for the UE; or\nb.\t the \"event\" attribute set to \"CLOCK_QUAL_NON_ACCEPTABLE\" to indicate the clock quality for the ASTI service is not fulfilling the clock quality acceptance criteria for the UE. Based on this notification, the AF decides whether to modify the ASTI service configured for the UE using the Ntsctsf_ASTI_Update service as described in clause 5.4.2.3.\nThe NF service consumer shall acknowledge or redirect the request as described in clause 5.4.2.6.2.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.502_clause_4.15.9.5.1",
        "clause_5.4.2.6.2",
        "clause_5.4.2.3",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.1",
      "section_id": "6.1.1",
      "section_title": "Introduction",
      "content": "The Ntsctsf_TimeSynchronization service shall use the Ntsctsf_TimeSynchronization API.\nThe API URI of the Ntsctsf_TimeSynchronization API shall be:\n{apiRoot}/<apiName>/<apiVersion>\nThe request URIs used in HTTP requests from the NF service consumer towards the NF service producer shall have the Resource URI structure defined in clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:\n{apiRoot}/<apiName>/<apiVersion>/<apiSpecificResourceUriPart>\nwith the following components:\n-\tThe {apiRoot} shall be set as described in 3GPP TS 29.501 [5].\n-\tThe <apiName> shall be \"ntsctsf-time-sync\".\n-\tThe <apiVersion> shall be \"v1\".\n-\tThe <apiSpecificResourceUriPart> shall be set as described in clause 6.1.3.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.501_clause_4.4.1",
        "clause_6.1.3",
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.2.1",
      "section_id": "6.1.2.1",
      "section_title": "General",
      "content": "HTTP/2, IETF RFC 9113 [11], shall be used as specified in clause 5 of 3GPP TS 29.500 [4].\nHTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].\nThe OpenAPI [6] specification of HTTP messages and content bodies for the Ntsctsf_TimeSynchronization API is contained in Annex A.2.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5",
        "ts_29.500_clause_5.3",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.2.2.1",
      "section_id": "6.1.2.2.1",
      "section_title": "General",
      "content": "See clause 5.2.2 of 3GPP TS 29.500 [4] for the usage of HTTP standard headers.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5.2.2",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.2.2.2",
      "section_id": "6.1.2.2.2",
      "section_title": "Content type",
      "content": "JSON, IETF RFC 8259 [12], shall be used as content type of the HTTP bodies specified in the present specification as specified in clause 5.4 of 3GPP TS 29.500 [4]. The use of the JSON format shall be signalled by the content type \"application/json\".\n\"Problem Details\" JSON object shall be used to indicate additional details of the error in a HTTP response body and shall be signalled by the content type \"application/problem+json\", as defined in IETF RFC 9457 [13].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_5.4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.2.3",
      "section_id": "6.1.2.3",
      "section_title": "HTTP custom headers",
      "content": "The mandatory HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS 29.500 [4] shall be supported, and the optional HTTP custom header fields specified in clause 5.2.3.3 of 3GPP TS 29.500 [4] may be supported.\nIn this Release of the specification, no specific custom headers are defined for the Ntsctsf_TimeSynchronization API.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_5.2.3.2",
        "ts_29.500_clause_5.2.3.3",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.3.1",
      "section_id": "6.1.3.1",
      "section_title": "Overview",
      "content": "This clause describes the structure for the Resource URIs and the resources and methods used for the service.\nFigure 6.1.3.1-1 depicts the resource URIs structure for the Ntsctsf_TimeSynchronization API.\nFigure 6.1.3.1-1: Resource URI structure of the Ntsctsf_TimeSynchronization API\nTable 6.1.3.1-1 provides an overview of the resources and applicable HTTP methods.\nTable 6.1.3.1-1: Resources and methods overview\nResource name\nResource URI\nHTTP method or custom operation\nDescription\nTime Synchronization Exposure\n/subscriptions\nPOST\nCreate a new subscription to notification of capability of time synchronization service.\nIndividual Time Synchronization Exposure Subscription\n/subscriptions/{subscriptionId}\nGET\nRead a subscription to notification of capability of time synchronization service.\nPUT\nModify a subscription to notification of capability of time synchronization service.\nDELETE\nDelete a subscription to notification of capability of time synchronization service.\nTime Synchronization Exposure Configurations\n/subscriptions/{subscriptionId}/configurations\nPOST\nCreate a new configuration to time synchronization exposure.\nIndividual Time Synchronization Exposure Configuration\n/subscriptions/{subscriptionId}/configurations/{configurationId}\nGET\nRead a configuration to time synchronization exposure.\nPUT\nModify all of the properties of an existing configuration to time synchronization exposure.\nDELETE\nDelete a configuration to time synchronization exposure.",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.1.3.1-1",
        "figure_6.1.3.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.3.2.1",
      "section_id": "6.1.3.2.1",
      "section_title": "Description",
      "content": "This resource allows a NF service consumer to create a new subscription to notification of the capability for time synchronization service.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.1.3.2.2",
      "section_id": "6.1.3.2.2",
      "section_title": "Resource Definition",
      "content": "Resource URI: {apiRoot}/ntsctsf-time-sync/<apiVersion>/subscriptions\nThis resource shall support the resource URI variables defined in table 6.1.3.2.2-1.\nTable 6.1.3.2.2-1: Resource URI variables for this resource\nName\nData type\nDefinition\napiRoot\nstring\nSee clause 6.1.1",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6.1.1",
        "table_6.1.3.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.3.2.3.1",
      "section_id": "6.1.3.2.3.1",
      "section_title": "POST",
      "content": "The POST method creates a new subscription resource to time synchronization exposure subscription. The NF service consumer shall initiate the HTTP POST request message and the TSCTSF shall respond to the message. The TSCTSF shall construct the URI of the created resource.\nThis method shall support the URI query parameters specified in table 6.1.3.2.3.1-1.\nTable 6.1.3.2.3.1-1: URI query parameters supported by the POST method on this resource\nName\nData type\nP\nCardinality\nDescription\nApplicability\nn/a\nThis method shall support the request data structures specified in table 6.1.3.2.3.1-2 and the response data structures and response codes specified in table 6.1.3.2.3.1-3.\nTable 6.1.3.2.3.1-2: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nTimeSyncExposureSubsc\nM\n1\nParameters to request a subscription to notification of the capability for time synchronization service.\nTable 6.1.3.2.3.1-3: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nTimeSyncExposureSubsc\nM\n1\n201 Created\nThe subscription was created successfully.\nThe URI of the created resource shall be returned in the \"Location\" HTTP header.\nProblemDetails\nO\n0..1\n403 Forbidden\n(NOTE 2)\nNOTE 1:\tThe manadatory HTTP error status code for the POST method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] also apply.\nNOTE 2:\tFailure causes are described in clause 6.1.7.\nTable 6.1.3.2.3.1-4: Headers supported by the 201 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains the URI of the newly created resource, according to the structure:{apiRoot}/ntsctsf-time-sync/<apiVersion>/subscriptions/{subscriptionId}",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1.7",
        "table_6.1.3.2.3.1-1",
        "table_6.1.3.2.3.1-2",
        "table_6.1.3.2.3.1-3",
        "ts_29.500_table_5.2.7.1-1",
        "table_6.1.3.2.3.1-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.3.2.4",
      "section_id": "6.1.3.2.4",
      "section_title": "Resource Custom Operations",
      "content": "None.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.1.3.3.1",
      "section_id": "6.1.3.3.1",
      "section_title": "Description",
      "content": "This resource allows a NF service consumer to read, modify or delete an existing subscription to notification of the capability for time synchronization service.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.1.3.3.2",
      "section_id": "6.1.3.3.2",
      "section_title": "Resource Definition",
      "content": "Resource URI: {apiRoot}/ntsctsf-time-sync/<apiVersion>/subscriptions/{subscriptionId}\nThis resource shall support the resource URI variables defined in table 6.1.3.3.2-1.\nTable 6.1.3.3.2-1: Resource URI variables for this resource\nName\nData type\nDefinition\napiRoot\nstring\nSee clause 6.1.1\nsubscriptionId\nstring\nRepresents a specific subscription. It is the identifier of the Individual Time Synchronization Exposure Subscription resource.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6.1.1",
        "table_6.1.3.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.3.3.3.1",
      "section_id": "6.1.3.3.3.1",
      "section_title": "GET",
      "content": "This method shall support the URI query parameters specified in table 6.1.3.3.3.1-1.\nTable 6.1.3.3.3.1-1: URI query parameters supported by the GET method on this resource\nName\nData type\nP\nCardinality\nDescription\nApplicability\nn/a\nThis method shall support the request data structures specified in table 6.1.3.3.3.1-2 and the response data structures and response codes specified in table 6.1.3.3.3.1-3.\nTable 6.1.3.3.3.1-2: Data structures supported by the GET Request Body on this resource\nData type\nP\nCardinality\nDescription\nn/a\nTable 6.1.3.3.3.1-3: Data structures supported by the GET Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nTimeSyncExposureSubsc\nM\n1\n200 OK\nAn Individual Time Synchronization Exposure Subscription resource is returned successfully.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection, during an Individual Time Synchronization Exposure Subscription resource retrieval.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection, during an Individual Time Synchronization Exposure Subscription resource retrieval.\n(NOTE 2)\nNOTE 1:\tThe manadatory HTTP error status code for the GET method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] also apply.\nNOTE 2:\tThe RedirectResponse data structure may be provided by an SCP (cf. clause 6.10.9.1 of 3GPP TS 29.500 [4]).\nTable 6.1.3.3.3.1-4: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative TSCTSF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request is redirected.\nTable 6.1.3.3.3.1-5: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative TSCTSF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request is redirected.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "table_6.1.3.3.3.1-1",
        "table_6.1.3.3.3.1-2",
        "table_6.1.3.3.3.1-3",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.1.3.3.3.1-4",
        "table_6.1.3.3.3.1-5",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.3.3.3.2",
      "section_id": "6.1.3.3.3.2",
      "section_title": "DELETE",
      "content": "This method shall support the URI query parameters specified in table 6.1.3.3.3.2-1.\nTable 6.1.3.3.3.2-1: URI query parameters supported by the DELETE method on this resource\nName\nData type\nP\nCardinality\nDescription\nApplicability\nn/a\nThis method shall support the request data structures specified in table 6.1.3.3.3.2-2 and the response data structures and response codes specified in table 6.1.3.3.3.2-3.\nTable 6.1.3.3.3.2-2: Data structures supported by the DELETE Request Body on this resource\nData type\nP\nCardinality\nDescription\nn/a\nTable 6.1.3.3.3.2-3: Data structures supported by the DELETE Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nn/a\n204 No Content\nThe subscription was deleted successfully.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection, during Individual Time Synchronization Exposure Subscription resource deletion.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection, during Individual Time Synchronization Exposure Subscription resource deletion.\n(NOTE 2)\nNOTE 1:\tThe manadatory HTTP error status code for the DELETE method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] also apply.\nNOTE 2:\tThe RedirectResponse data structure may be provided by an SCP (cf. clause 6.10.9.1 of 3GPP TS 29.500 [4]).\nTable 6.1.3.3.3.2-4: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative TSCTSF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request is redirected.\nTable 6.1.3.3.3.2-5: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative TSCTSF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request is redirected.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "table_6.1.3.3.3.2-1",
        "table_6.1.3.3.3.2-2",
        "table_6.1.3.3.3.2-3",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.1.3.3.3.2-4",
        "table_6.1.3.3.3.2-5",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.3.3.3.3",
      "section_id": "6.1.3.3.3.3",
      "section_title": "PUT",
      "content": "This method shall support the URI query parameters specified in table 6.1.3.3.3.3-1.\nTable 6.1.3.3.3.3-1: URI query parameters supported by the PUT method on this resource\nName\nData type\nP\nCardinality\nDescription\nApplicability\nn/a\nThis method shall support the request data structures specified in table 6.1.3.3.3.3-2 and the response data structures and response codes specified in table 6.1.3.3.3.3-3.\nTable 6.1.3.3.3.3-2: Data structures supported by the PUT Request Body on this resource\nData type\nP\nCardinality\nDescription\nTimeSyncExposureSubsc\nM\n1\nModify an existing Time Synchronization Exposure Subscription.\nTable 6.1.3.3.3.3-3: Data structures supported by the PUT Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nTimeSyncExposureSubsc\nM\n1\n200 OK\nThe subscription was updated successfully.\nn/a\n204 No Content\nThe subscription was updated successfully.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection, during Individual Time Synchronization Exposure Subscription resource modification.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection, during Individual Time Synchronization Exposure Subscription resource modification.\n(NOTE 2)\nProblemDetails\nO\n0..1\n403 Forbidden\n(NOTE 3)\nNOTE 1:\tThe manadatory HTTP error status code for the PUT method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] also apply.\nNOTE 2:\tThe RedirectResponse data structure may be provided by an SCP (cf. clause 6.10.9.1 of 3GPP TS 29.500 [4]).\nNOTE 3:\tFailure causes are described in clause 6.1.7.\nTable 6.1.3.3.3.3-4: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative TSCTSF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request is redirected.\nTable 6.1.3.3.3.3-5: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative TSCTSF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request is redirected.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "clause_6.1.7",
        "table_6.1.3.3.3.3-1",
        "table_6.1.3.3.3.3-2",
        "table_6.1.3.3.3.3-3",
        "ts_29.500_table_5.2.7.1-1",
        "table_6.1.3.3.3.3-4",
        "table_6.1.3.3.3.3-5",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.3.3.4",
      "section_id": "6.1.3.3.4",
      "section_title": "Resource Custom Operations",
      "content": "None.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.1.3.4.1",
      "section_id": "6.1.3.4.1",
      "section_title": "Description",
      "content": "This resource allows a NF service consumer to create a new subscription to notification of the capability for time synchronization service.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.1.3.4.2",
      "section_id": "6.1.3.4.2",
      "section_title": "Resource Definition",
      "content": "Resource URI: {apiRoot}/ntsctsf-time-sync/<apiVersion>/subscriptions/{subscriptionId}/configurations\nThis resource shall support the resource URI variables defined in table 6.1.3.4.2-1.\nTable 6.1.3.4.2-1: Resource URI variables for this resource\nName\nData type\nDefinition\napiRoot\nstring\nSee clause 6.1.1\nsubscriptionId\nstring\nRepresents a specific subscription. It is the identifier of the Individual Time Synchronization Exposure Subscription resource.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6.1.1",
        "table_6.1.3.4.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.3.4.3.1",
      "section_id": "6.1.3.4.3.1",
      "section_title": "POST",
      "content": "The POST method creates a new configuration resource to activate time synchronization service. The NF service consumer shall initiate the HTTP POST request message and the TSCTSF shall respond to the message. The TSCTSF shall construct the URI of the created resource.\nThis method shall support the URI query parameters specified in table 6.1.3.4.3.1-1.\nTable 6.1.3.4.3.1-1: URI query parameters supported by the POST method on this resource\nName\nData type\nP\nCardinality\nDescription\nApplicability\nn/a\nThis method shall support the request data structures specified in table 6.1.3.4.3.1-2 and the response data structures and response codes specified in table 6.1.3.4.3.1-3.\nTable 6.1.3.4.3.1-2: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nTimeSyncExposureConfig\nM\n1\nParameters to create a configuration to activate time synchronization service.\nTable 6.1.3.4.3.1-3: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nTimeSyncExposureConfig\nM\n1\n201 Created\nThe configuration was created successfully.\nThe URI of the created resource shall be returned in the \"Location\" HTTP header.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection, during Individual Time Synchronization Exposure Configuration resource creation.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection, during Individual Time Synchronization Exposure Configuration resource creation.\n(NOTE 2)\nProblemDetails\nO\n0..1\n403 Forbidden\n(NOTE 3)\nNOTE 1:\tThe manadatory HTTP error status code for the POST method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] also apply.\nNOTE 2:\tThe RedirectResponse data structure may be provided by an SCP (cf. clause 6.10.9.1 of 3GPP TS 29.500 [4]).\nNOTE 3:\tFailure cases are described in clause 6.1.7.\nTable 6.1.3.4.3.1-4: Headers supported by the 201 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains the URI of the newly created resource, according to the structure:{apiRoot}/ntsctsf-time-sync/<apiVersion>/subscriptions/{subscriptionId}/configuration/{configurationId}\nTable 6.1.3.4.3.1-5: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative TSCTSF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request is redirected.\nTable 6.1.3.4.3.1-6: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative TSCTSF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request is redirected.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "clause_6.1.7",
        "table_6.1.3.4.3.1-1",
        "table_6.1.3.4.3.1-2",
        "table_6.1.3.4.3.1-3",
        "ts_29.500_table_5.2.7.1-1",
        "table_6.1.3.4.3.1-4",
        "table_6.1.3.4.3.1-5",
        "table_6.1.3.4.3.1-6",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.3.4.4",
      "section_id": "6.1.3.4.4",
      "section_title": "Resource Custom Operations",
      "content": "None.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.1.3.5.1",
      "section_id": "6.1.3.5.1",
      "section_title": "Description",
      "content": "This resource allows a NF service consumer to modify/cancel a configuration to modify/deactivate Time Synchronization service with the TSCTSF",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.1.3.5.2",
      "section_id": "6.1.3.5.2",
      "section_title": "Resource Definition",
      "content": "Resource URI: {apiRoot}/ntsctsf-time-sync/<apiVersion>/subscriptions/{subscriptionId}/configurations/{configurationId}\nThis resource shall support the resource URI variables defined in table 6.1.3.5.2-1.\nTable 6.1.3.5.2-1: Resource URI variables for this resource\nName\nData type\nDefinition\napiRoot\nstring\nSee clause 6.1.1\nsubscriptionId\nstring\nRepresents a specific subscription. It is the identifier of the Individual Time Synchronization Exposure Subscription resource.\nconfigurationId\nstring\nRepresents a specific configuration. It is the identifier of the Individual Time Synchronization Exposure Configuration resource.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6.1.1",
        "table_6.1.3.5.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.3.5.3.1",
      "section_id": "6.1.3.5.3.1",
      "section_title": "GET",
      "content": "This method shall support the URI query parameters specified in table 6.1.3.5.3.1-1.\nTable 6.1.3.5.3.1-1: URI query parameters supported by the GET method on this resource\nName\nData type\nP\nCardinality\nDescription\nApplicability\nn/a\nThis method shall support the request data structures specified in table 6.1.3.5.3.1-2 and the response data structures and response codes specified in table 6.1.3.5.3.1-3.\nTable 6.1.3.5.3.1-2: Data structures supported by the GET Request Body on this resource\nData type\nP\nCardinality\nDescription\nn/a\nTable 6.1.3.5.3.1-3: Data structures supported by the GET Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nTimeSyncExposureConfig\nM\n1\n200 OK\nThe configuration information in the request URI are returned.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection, during Individual Time Synchronization Exposure Configuration resource retrieval.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection, during Individual Time Synchronization Exposure Configuration resource retrieval.\n(NOTE 2)\nNOTE 1:\tThe manadatory HTTP error status code for the GET method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] also apply.\nNOTE 2:\tThe RedirectResponse data structure may be provided by an SCP (cf. clause 6.10.9.1 of 3GPP TS 29.500 [4]).\nTable 6.1.3.4.3.1-5: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative TSCTSF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request is redirected.\nTable 6.1.3.4.3.1-6: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative TSCTSF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request is redirected.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "table_6.1.3.5.3.1-1",
        "table_6.1.3.5.3.1-2",
        "table_6.1.3.5.3.1-3",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.1.3.4.3.1-5",
        "table_6.1.3.4.3.1-6",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.3.5.3.2",
      "section_id": "6.1.3.5.3.2",
      "section_title": "PUT",
      "content": "This method shall support the URI query parameters specified in table 6.1.3.5.3.2-1.\nTable 6.1.3.5.3.2-1: URI query parameters supported by the PUT method on this resource\nName\nData type\nP\nCardinality\nDescription\nApplicability\nn/a\nThis method shall support the request data structures specified in table 6.1.3.5.3.2-2 and the response data structures and response codes specified in table 6.1.3.5.3.2-3.\nTable 6.1.3.5.3.2-2: Data structures supported by the PUT Request Body on this resource\nData type\nP\nCardinality\nDescription\nTimeSyncExposureConfig\nM\n1\nModify an existing Time Synchronization Exposure Configuration.\nTable 6.1.3.5.3.2-3: Data structures supported by the PUT Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nTimeSyncExposureConfig\nM\n1\n200 OK\nThe subscription was updated successfully.\nn/a\n204 No Content\nThe subscription was updated successfully.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection, during Individual Time Synchronization Exposure Configuration resource update.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection, during Individual Time Synchronization Exposure Configuration resource update.\n(NOTE 2)\nProblemDetails\nO\n0..1\n403 Forbidden\n(NOTE 3)\nNOTE 1:\tThe manadatory HTTP error status code for the GET method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] also apply.\nNOTE 2:\tThe RedirectResponse data structure may be provided by an SCP (cf. clause 6.10.9.1 of 3GPP TS 29.500 [4]).\nNOTE 3:\tFailure cases are described in clause 6.1.7.\nTable 6.1.3.5.3.2-4: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative TSCTSF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request is redirected.\nTable 6.1.3.5.3.2-5: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative TSCTSF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request is redirected.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "clause_6.1.7",
        "table_6.1.3.5.3.2-1",
        "table_6.1.3.5.3.2-2",
        "table_6.1.3.5.3.2-3",
        "ts_29.500_table_5.2.7.1-1",
        "table_6.1.3.5.3.2-4",
        "table_6.1.3.5.3.2-5",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.3.5.3.3",
      "section_id": "6.1.3.5.3.3",
      "section_title": "DELETE",
      "content": "This method shall support the URI query parameters specified in table 6.1.3.5.3.3-1.\nTable 6.1.3.5.3.3-1: URI query parameters supported by the DELETE method on this resource\nName\nData type\nP\nCardinality\nDescription\nApplicability\nn/a\nThis method shall support the request data structures specified in table 6.1.3.5.3.3-2 and the response data structures and response codes specified in table 6.1.3.5.3.3-3.\nTable 6.1.3.5.3.3-2: Data structures supported by the DELETE Request Body on this resource\nData type\nP\nCardinality\nDescription\nn/a\nTable 6.1.3.5.3.3-3: Data structures supported by the DELETE Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nn/a\n204 No Content\nThe configuration was deleted successfully.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection, during Individual Time Synchronization Exposure Configuration resource deletion.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection, during Individual Time Synchronization Exposure Configuration resource deletion\n(NOTE 2)\nNOTE 1:\tThe manadatory HTTP error status code for the GET method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] also apply.\nNOTE 2:\tThe RedirectResponse data structure may be provided by an SCP (cf. clause 6.10.9.1 of 3GPP TS 29.500 [4]).\nTable 6.1.3.5.3.3-4: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative TSCTSF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request is redirected.\nTable 6.1.3.5.3.3-5: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative TSCTSF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request is redirected.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "table_6.1.3.5.3.3-1",
        "table_6.1.3.5.3.3-2",
        "table_6.1.3.5.3.3-3",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.1.3.5.3.3-4",
        "table_6.1.3.5.3.3-5",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.3.5.4",
      "section_id": "6.1.3.5.4",
      "section_title": "Resource Custom Operations",
      "content": "None.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.1.4",
      "section_id": "6.1.4",
      "section_title": "Custom Operations without associated resources",
      "content": "Void",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.1.5.1",
      "section_id": "6.1.5.1",
      "section_title": "General",
      "content": "Notifications shall comply to clause 6.2 of 3GPP TS 29.500 [4] and clause 4.6.2.3 of 3GPP TS 29.501 [5].\nTable 6.1.5.1-1: Notifications overview\nNotification\nCallback URI\nHTTP method or custom operation\nDescription\n(service operation)\nTime Synchronization Capability Notification\n{subsNotifUri}\nPOST\nTime Synchronization Capability Notification for a list of UEs.\nTime Synchronization Configuration Notification\n{configNotifUri}\nPOST\nCurrent state of Time Synchronization Service configuration Notification.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_6.2",
        "ts_29.500_clause_4.6.2.3",
        "ts_29.501_table_6.1.5.1-1",
        "ts_29.501_clause_4.6.2.3",
        "ts_29.500",
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.5.2.1",
      "section_id": "6.1.5.2.1",
      "section_title": "Description",
      "content": "The Time Synchronization Capability Notification is used by the NF service producer to report the capability of the time synchronization service for a list of UEs to a NF service consumer that has subscribed to such Notifications.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.1.5.2.2",
      "section_id": "6.1.5.2.2",
      "section_title": "Target URI",
      "content": "The Callback URI \"{subsNotifUri}\" shall be used with the callback URI variables defined in table 6.1.5.2.2-1.\nTable 6.1.5.2.2-1: Callback URI variables\nName\nDefinition\nsubsNotifUri\nString formatted as URI with the Callback Uri.\nThe Callback Uri is assigned within the Time Synchronization Capability Notification and described within the TimeSyncExposureSubsc type (see table 6.1.6.2.2-1).",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.5.2.2-1",
        "table_6.1.6.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.5.2.3",
      "section_id": "6.1.5.2.3",
      "section_title": "Standard Methods",
      "content": "6.1.5.2.3.1\tPOST\nThis method shall support the request data structures specified in table 6.1.5.2.3.1-1 and the response data structures and response codes specified in table 6.1.5.2.3.1-2\nTable 6.1.5.2.3.1-1: Data structures supported by the POST Request Body\nData type\nP\nCardinality\nDescription\nTimeSyncExposureSubsNotif\nM\n1\nProvides the time synchronization capabilities of a list of UEs by the TSCTSF to the NF service consumer.\nTable 6.1.5.2.3.1-2: Data structures supported by the POST Response Body\nData type\nP\nCardinality\nResponse codes\nDescription\nn/a\n204 No Content\nThe event notification is received successfully.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection, during event notification.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection, during event notification.\n(NOTE 2)\nNOTE 1:\tThe mandatory HTTP error status codes for the POST method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] also apply.\nNOTE 2:\tThe RedirectResponse data structure may be provided by an SCP (cf. clause 6.10.9.1 of 3GPP TS 29.500 [4]).\nTable 6.1.5.2.3.1-3: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI representing the end point of an alternative NF consumer (service) instance towards which the notification should be redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance towards which the notification request is redirected\nTable 6.1.5.2.3.1-4: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI representing the end point of an alternative NF consumer (service) instance towards which the notification should be redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance towards which the notification request is redirected",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "table_6.1.5.2.3.1-1",
        "table_6.1.5.2.3.1-2",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.1.5.2.3.1-3",
        "table_6.1.5.2.3.1-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.5.3.1",
      "section_id": "6.1.5.3.1",
      "section_title": "Description",
      "content": "The Time Synchronization Configuration Notification is used by the NF service producer to report the current state of configuration of the time synchronization service.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.1.5.3.2",
      "section_id": "6.1.5.3.2",
      "section_title": "Target URI",
      "content": "The Callback URI \"{configNotifUri}\" shall be used with the callback URI variables defined in table 6.1.5.3.2-1.\nTable 6.1.5.3.2-1: Callback URI variables\nName\nDefinition\nconfigNotifUri\nString formatted as URI with the Callback Uri.\nThe Callback Uri is assigned within the Time Synchronization Configuration Notification and described within the TimeSyncExposureConfig type (see table 6.1.6.2.9-1).",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.5.3.2-1",
        "table_6.1.6.2.9-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.5.3.3.1",
      "section_id": "6.1.5.3.3.1",
      "section_title": "POST",
      "content": "This method shall support the request data structures specified in table 6.1.5.3.3.1-1 and the response data structures and response codes specified in table 6.1.5.3.3.1-2.\nTable 6.1.5.3.3.1-1: Data structures supported by the POST Request Body\nData type\nP\nCardinality\nDescription\nTimeSyncExposureConfigNotif\nM\n1\nProvides the current state of time synchronization configuration by the TSCTSF to the NF service consumer.\nTable 6.1.5.3.3.1-2: Data structures supported by the POST Response Body\nData type\nP\nCardinality\nResponse codes\nDescription\nn/a\n204 No Content\nThe event notification is received successfully.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection, during event notification.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection, during event notification.\n(NOTE 2)\nNOTE 1:\tThe mandatory HTTP error status codes for the POST method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] also apply.\nNOTE 2:\tThe RedirectResponse data structure may be provided by an SCP (cf. clause 6.10.9.1 of 3GPP TS 29.500 [4]).\nTable 6.1.5.3.3.1-3: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI representing the end point of an alternative NF consumer (service) instance towards which the notification should be redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance towards which the notification request is redirected.\nTable 6.1.5.3.3.1-4: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI representing the end point of an alternative NF consumer (service) instance towards which the notification should be redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance towards which the notification request is redirected.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "table_6.1.5.3.3.1-1",
        "table_6.1.5.3.3.1-2",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.1.5.3.3.1-3",
        "table_6.1.5.3.3.1-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.6.1",
      "section_id": "6.1.6.1",
      "section_title": "General",
      "content": "This clause specifies the application data model supported by the API.\nTable 6.1.6.1-1 specifies the data types defined for the Ntsctsf_TimeSynchronization service based interface protocol.\nTable 6.1.6.1-1: Ntsctsf_TimeSynchronization specific Data Types\nData type\nClause defined\nDescription\nApplicability\nConfigForPort\n6.1.6.2.11\nContains the configuration for a port.\nPtpCapabilitiesPerUe\n6.1.6.2.6\nContains the PTP capabilities supported by a UE.\nPtpInstance\n6.1.6.2.10\nContains the PTP Instance.\nStateOfConfiguration\n6.1.6.2.8\nIndicates the PTP port states for a NW-TT and DS-TTs.\nStateOfDstt\n6.1.6.2.12\nContains the PTP port state of a DS-TT\nSubsEventNotification\n6.1.6.2.4\nContains the notification of capability of time synchronization for a list of UEs.\nTimeSyncCapability\n6.1.6.2.5\nContains the capability of time synchronization service\nTimeSyncExposureConfig\n6.1.6.2.9\nContains the configuration of time synchronization service\nTimeSyncExposureConfigNotif\n6.1.6.2.7\nContains the notification of configuration of time synchronization service.\nTimeSyncExposureSubsc\n6.1.6.2.2\nContains the parameters for the subscription to notification of capability of time synchronization service\nTimeSyncExposureSubsNotif\n6.1.6.2.3\nContains the notification of time synchronization service.\nTable 6.1.6.1-2 specifies data types re-used by the Ntsctsf_TimeSynchronization service based interface protocol from other specifications, including a reference to their respective specifications and when needed, a short description of their use within the Ntsctsf_TimeSynchronization service based interface.\nTable 6.1.6.1-2: Ntsctsf_TimeSynchronization re-used Data Types\nData type\nReference\nComments\nApplicability\nAcceptanceCriteriaResultIndication\n3GPP TS 29.522 [17]\nContains the acceptable/not acceptable indication of the clock quality acceptance criteria result information.\nNetTimeSyncStatus\nAsTimeResource\n3GPP TS 29.522 [17]\nIndicates the supported 5G clock quality.\nClockQualityAcceptanceCriterion\n3GPP TS 29.571 [15]\nIdentifies clock quality acceptance criteria information.\nNetTimeSyncStatus\nClockQualityDetailLevel\n3GPP TS 29.571 [15]\nIdentifies clock quality detail level information.\nNetTimeSyncStatus\nDateTime\n3GPP TS 29.571 [15]\nString with format \"date-time\" as defined in OpenAPI Specification [6].\nDnn\n3GPP TS 29.571 [15]\nThe DNN the user is connected to.\nDurationSec\n3GPP TS 29.571 [15]\nIdentifies a period of time in units of seconds.\nEventFilter\n3GPP TS 29.522 [17]\nContains the conditions to match for notifying the event(s) of time synchronization capabilities.\nExternalGroupId\n3GPP TS 29.571 [15]\nIdentifies a External Group.\nGmCapable\n3GPP TS 29.522 [17]\nIndicates separately whether 5GS supports acting as a gPTP or PTP grandmaster.\nGpsi\n3GPP TS 29.571 [15]\nThe external identification of the user (i.e., an External Id or an MSISDN).\nGroupId\n3GPP TS 29.571 [15]\nIdentifies a group of internal globally unique ID.\nNotificationMethod\n3GPP TS 29.508 [16]\nIdentifies the notification method.\nInstanceType\n3GPP TS 29.522 [17]\nIdentifies supported PTP instance type.\nProblemDetails\n3GPP TS 29.571 [15]\nProblem Details when returning an error response.\nProtocol\n3GPP TS 29.522 [17]\nIdentifies the supported protocol in a PTP instance.\nRedirectResponse\n3GPP TS 29.571 [15]\nContains redirection related information.\nReportedCapability\n3GPP TS 29.522 [17]\nContains the reported time synchronization capabilities for a UE/DS-TT.\nSupportReport\nServiceAreaCoverageInfo\n3GPP TS 29.534 [14]\nIt represents a list of Tracking Areas within a serving network.\nCoverageAreaSupport\nSnssai\n3GPP TS 29.571 [15]\nIdentifies the S-NSSAI.\nSubscribedEvent\n3GPP TS 29.522 [17]\nIndicates the subscribed event.\nSupi\n3GPP TS 29.571 [15]\nThe identification of the user (i.e. IMSI, NAI).\nSupportedFeatures\n3GPP TS 29.571 [15]\nUsed to negotiate the applicability of the optional features defined in table 5.8-1.\nTimeSyncExposureConfig\n3GPP TS 29.522 [17]\nContains the parameters of time synchronization configuration.\nUinteger\n3GPP TS 29.571 [15]\nUnsigned integer.\nUint64\n3GPP TS 29.571 [15]\nUri\n3GPP TS 29.571 [15]\nIdentifies a referenced resource.",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.1.6.1-1",
        "table_6.1.6.1-2",
        "table_5.8-1",
        "ts_29.522",
        "ts_29.571",
        "ts_29.508",
        "ts_29.534"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.6.2.1",
      "section_id": "6.1.6.2.1",
      "section_title": "Introduction",
      "content": "This clause defines the structures to be used in resource representations.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.1.6.2.2",
      "section_id": "6.1.6.2.2",
      "section_title": "Type: TimeSyncExposureSubsc",
      "content": "Table 6.1.6.2.2-1: Definition of type TimeSyncExposureSubsc\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nsupis\narray(Supi)\nC\n1..N\nSubscription Permanent Identifier. (NOTE)\ngpsis\narray(Gpsi)\nC\n1..N\nPublic user identifier.\n(NOTE)\ninterGrpId\nGroupId\nC\n0..1\nThe internal Group Id.\n(NOTE)\nexterGrpId\nExternalGroupId\nC\n0..1\nThe external Group Id.\n(NOTE)\nanyUeInd\nboolean\nC\n0..1\nIdentifies whether the AF request applies to any UE (i.e. all UEs). This attribute shall set to \"true\" if applicable for any UE, otherwise, set to \"false\".\n(NOTE)\nnotifMethod\nNotificationMethod\nO\n0..1\nIf \"notifMethod\" is not supplied, the default value \"ON_EVENT_DETECTION\" applies.\ndnn\nDnn\nM\n1\nIdentifies a DNN, a full DNN with both the Network Identifier and Operator Identifier, or a DNN with the Network Identifier only.\nsnssai\nSnssai\nM\n1\nIdentifies an S-NSSAI.\nsubscribedEvents\narray(SubscribedEvent)\nM\n1..N\nIdentifies the requirement to be notified of the event(s).\neventFilters\narray(EventFilter)\nO\n1..N\nContains the filter conditions to match for notifying the event(s) of time synchronization capabilities for a list of UE(s).\nsubsNotifUri\nUri\nM\n1\nNotification URI for time sensitive capability reporting.\nsubsNotifId\nstring\nM\n1\nNotification Correlation ID assigned by the NF service consumer.\nmaxReportNbr\nUinteger\nO\n0..1\nIf omitted, there is no limit.\nexpiry\nDateTime\nC\n0..1\nThis attribute indicates the expiry time of the subscription, after which the NEF shall not send any event notifications and the subscription becomes invalid. It may be included in an event subscription request and may be included in an event subscription response based on operator policies. If an expiry time was included in the request, then the expiry time returned in the response should be less than or equal to that value. If the expiry time is not included in the response, the NF service consumer shall not associate an expiry time for the subscription.\nrepPeriod\nDurationSec\nC\n0..1\nIs supplied for notification Method \"periodic\".\nsuppFeat\nSupportedFeatures\nC\n0..1\nRepresents the features supported by the NF service consumer. This parameter shall be supplied by the NF service consumer in the POST request and the response that requested the creation of an Individual Time Synchronization Subscription resource.\nNOTE:\tOnly one of the properties \"supis\", \"gpsis\", \"anyUeInd\", \"exterGrpId\" or \"interGrpId\" shall be included.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.6.2.3",
      "section_id": "6.1.6.2.3",
      "section_title": "Type: TimeSyncExposureSubsNotif",
      "content": "Table 6.1.6.2.3-1: Definition of type TimeSyncExposureSubsNotify\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nsubsNotifId\nstring\nM\n1\nNotification Correlation ID assigned by the NF service consumer.\neventNotifs\narray(SubsEventNotification)\nM\n1..N\nNotifications about Individual Events",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.2.3-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.6.2.4",
      "section_id": "6.1.6.2.4",
      "section_title": "Type SubsEventNotification",
      "content": "Table 6.1.6.2.4-1: Definition of type SubsEventNotification\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nevent\nSubscribedEvent\nM\n1\nSubscribed events\ntimeSyncCapas\narray(TimeSyncCapability)\nC\n1..N\nContains a list of time syncroniziation capabilities for the 5GS (list of User-Plane Node IDs) and the UE(s) (per User Plane Node Id). It shall be provided if the reported event is \"AVAILABILITY_FOR_TIME_SYNC_SERVICE\".",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.2.4-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.6.2.5",
      "section_id": "6.1.6.2.5",
      "section_title": "Type: TimeSyncCapability",
      "content": "Table 6.1.6.2.5-1: Definition of type TimeSyncCapability\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nupNodeId\nUint64\nM\n1\nIdentifies the applicable NW-TT. Contains a TSC user plane node Id. If integrated with TSN, the user plane node Id is a bridge Id defined in IEEE Std 802.1Q-2018 [18] clause 14.2.5.\ngmCapables\narray(GmCapable)\nC\n1..N\nIndicates whether user plane node supports acting as a gPTP and/or PTP grandmaster.\n(NOTE 1)\nasTimeRes\nAsTimeResource\nC\n0..1\nIndicates the supported 5G clock quality (i.e. the source of time used by the 5GS).\n(NOTE 1)\nptpCapForUes\nmap(PtpCapabilitiesPerUe)\nC\n1..N\nContains the PTP capabilities supported by the list of UE(s). The key of the map is the SUPI.\nShall be present if the \"gmCapables\" attribute is included and the PTP Capabilities are reported per SUPI.\n(NOTE 2)\nptpCapForGpsis\nmap(PtpCapabilitiesPerUe)\nC\n1..N\nContains the PTP capabilities supported by the list of UE(s). The key of the map is the GPSI.\nShall be present if the \"gmCapables\" attribute is included and the PTP Capabilities are reported per GPSI.\n(NOTE 2)\nNOTE 1:\tAt least one of the \"gmCapables\" attribute and \"asTimeRes\" attribute shall be included.\nNOTE 2:\tThe \"PtpCapabilitiesPerUe\" entry shall contain the PTP capabilities for previously targeted UE(s) for which the PTP capabilities changed and/or the PTP capabilities for new UE(s).",
      "chunk_type": "general",
      "cross_references": [
        "clause_14.2.5",
        "table_6.1.6.2.5-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.6.2.6",
      "section_id": "6.1.6.2.6",
      "section_title": "Type: PtpCapabilitiesPerUe",
      "content": "Table 6.1.6.2.6: Definition of type PtpCapabilitiesPerUe\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nsupi\nSupi\nC\n0..1\nIdentifies the UE to which the reported PTP instance below apply.\n(NOTE 1)\ngpsi\nGpsi\nC\n0..1\nIdentifies the UE to which the reported PTP instance below apply.\n(NOTE 1)\nptpCaps\narray(ReportedCapability)\nM\n1..N\nContains the reported PTP capabilities for the UE.\n(NOTE 2)\nNOTE 1:\tEither the \"supi\" or the \"gpsi\" attribute is included, based on whether the request contained an internal or an external identifier.\nNOTE 2:\tWhen the \"SupportReport\" feature is supported, indicates the PTP capabilities of the UE changed because of the termination of the PDU session, the \"ptpCaps\" attribute shall contain a ReportedCapability entry with the \"avStatus\" attribute set to \"PDU_SESSION_TERMINATION\".",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.2.6"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.6.2.7",
      "section_id": "6.1.6.2.7",
      "section_title": "Type: TimeSyncExposureConfigNotif",
      "content": "Table 6.1.6.2.7-1: Definition of type TimeSyncExposureConfigNotif\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nconfigNotifId\nstring\nM\n1\nNotification Correlation ID assigned by the NF service consumer.\nstateOfConfig\nStateOfConfiguration\nM\n1\nIndicates the current state of time synchroniztion service configuration",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.2.7-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.6.2.8",
      "section_id": "6.1.6.2.8",
      "section_title": "Type: StateOfConfiguration",
      "content": "Table 6.1.6.2.8-1: Definition of type StateOfConfiguration\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nstateNwtt\nboolean\nO\n0..1\nWhen any of the PTP port state(s) in NW-TT is Leader, Follower or Passive, it is included and set to true to indicate the current state of the time synchronization configuration for the NW-TT port(s) of the PTP instance is active; when PTP port state is in any other case, it is included and set to false to indicate the state of configuration for the NW-TT port(s) of the PTP instance is inactive. Default value is false.\nclkQltIndOfNwtt\nAcceptanceCriteriaResultIndication\nO\n0..1\nIndicates the clock quality acceptance criteria changes (\"ACCEPTABLE\", \"NOT_ACCEPTABLE\") for any of the PTP port(s) in the NW-TT of the PTP instance.\nNetTimeSyncStatus\nstateOfDstts\narray(StateOfDstt)\nO\n1..N\nContains the PTP port states and the clock quality acceptance criteria result of the DS-TT(s).",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.2.8-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.6.2.9",
      "section_id": "6.1.6.2.9",
      "section_title": "Type: TimeSyncExposureConfig",
      "content": "Table 6.1.6.2.9-1: Definition of type TimeSyncExposureConfig\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nupNodeId\nUint64\nM\n1\nIdentifies the applicable NW-TT. Contains a TSC user plane node Id. If integrated with TSN, the user plane node Id is a bridge Id defined in IEEE 802.1Q [41] clause 14.2.5.\nreqPtpIns\nPtpInstance\nM\n1\nIdentifies the PtP instance configuration and activation requested by the AF.\ngmEnable\nboolean\nO\n0..1\nIndicates that the AF requests 5GS to act as a grandmaster for PTP or gPTP if it is included and set to true. The default value \"false\" shall apply, if the attribute is not present.\ngmPrio\nUinteger\nO\n0..1\nIndicates a priority used as defaultDS.priority1 when generating Announce message when 5GS acts as (g)PTP GM. It may be present if the \"gmEnable\" is set to true.\ntimeDom\nUinteger\nM\n1\nIndicate the (g)PTP domain that the (TSN)AF is located in.\ntimeSyncErrBdgt\nUinteger\nO\n0..1\nIndicates the time synchronization budget for the time synchronization service in units of nanoseconds.\nMinimum = 1.\ntempValidity\nTemporalValidity\nO\n0..1\nIndicates the time period when the time synchronization service for a PTP instance is active.\nconfigNotifUri\nUri\nM\n1\nNotification URI for configuration state reporting.\nconfigNotifId\nstring\nM\n1\nNotification Correlation ID assigned by the NF service consumer.\ncovReq\narray(ServiceAreaCoverageInfo)\nO\n1..N\nIdentifies a list of Tracking Areas per serving network where the time synchronization service configuration is allowed.\nCoverageAreaSupport\nclkQltDetLvl\nClockQualityDetailLevel\nO\n0..1\nIndicates the clock quality detail level.\nFor (g)PTP services, its value, if provided, shall be set to \"ACCEPT_INDICATION\".\nNetTimeSyncStatus\nclkQltAcptCri\nClockQualityAcceptanceCriterion\nC\n0..1\nIndicates the clock quality acceptance criteria, and it is used to determine whether the time synchronization status for the (g)PTP service is acceptable/not acceptable.\nIt shall be present when the \"clkQltDetLvl\" attribute is present.\nNetTimeSyncStatus",
      "chunk_type": "general",
      "cross_references": [
        "clause_14.2.5",
        "table_6.1.6.2.9-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.6.2.10",
      "section_id": "6.1.6.2.10",
      "section_title": "Type: PtpInstance",
      "content": "Table 6.1.6.2.10-1: Definition of type PtpInstance\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\ninstanceType\nInstanceType\nM\n1\nIndicates the PTP instance type.\nprotocol\nProtocol\nM\n1\nIndicates the protocol type.\nptpProfile\nstring\nM\n1\nIdentifies the PTP profile.\nportConfigs\narray(ConfigForPort)\nO\n1..N\nContains the configurations for the PTP port(s) in the PTP instance.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.2.10-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.6.2.11",
      "section_id": "6.1.6.2.11",
      "section_title": "Type: ConfigForPort",
      "content": "Table 6.1.6.2.11-1: Definition of type ConfigForPort\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nsupi\nSupi\nC\n0..1\nIdentifies the UE/DS-TT to which the provided configuration parameters apply.\n(NOTE)\ngpsi\nGpsi\nC\n0..1\nIdentifies the UE/ DS-TT to which the provided configuration parameters apply.\n(NOTE)\nn6Ind\nboolean\nC\n0..1\nIndicates whether the provided configurationparameters apply to the N6 interface.\n-\t\"true\" indicates that the below configuration parameters apply to the N6 interface.\nPresence of this attribute with the value \"false\" shall be prohibited.\n(NOTE)\nptpEnable\nboolean\nO\n0..1\nIndicates howto set the portDS.portEnable (see IEEE Std 1588-2019 [25]).\n-\t\"true\" indicates to set the portDS.portEnable to TRUE.\n-\t\"false\" indicates to set the portDS.portEnable to FALSE.\n-\tIf omitted, the default value as described in the PTP Profile is used.\nlogSyncInter\ninteger\nO\n0..1\nSpecifies the mean time interval between successive Sync messages. This is applicable for IEEE Std 1588-2019 [25] Boundary Clock or IEEE Std 802.1AS-2020 [26] operation.\nIf omitted, the default value as described in the PTP Profile is used.\nlogSyncInterInd\nboolean\nO\n0..1\nIndicates how the value of the \"logSyncInter\" attribute is to be used.\n-\tWhen set to \"false\", the value of \"logSyncInter\" attribute is used to set the initialLogSyncInterval as described in IEEE Std 802.1AS-2020 [26].\n-\tWhen set to \"true\", the value of \"logSyncInter\" attribute is used to set the mgtSettableLogSyncInterval as described in IEEE Std 802.1AS-2020 [26].\n-\tIf omitted, the default value as described in the IEEE Std 802.1AS-2020 [26] is used.\nlogAnnouInter\ninteger\nO\n0..1\nSpecifies the mean time interval between successive Announce messages. This is applicable for IEEE Std 1588-2019 [25] Boundary Clock or IEEE Std 802.1AS-2020 [26] operation.\nIf omitted, the default value as described in the PTP Profile is used.\nlogAnnouInterInd\nboolean\nO\n0..1\nIndicates how the value of the \"logAnnouInter\" attribute is to be used.\n-\tWhen set to \"false\", the value of \"logAnnouInter\" attribute is used to set the initialLogAnnounceInterval as described in IEEE 802.1AS-2020 [26].\n-\tWhen set to \"true\", the value of \"logAnnouInter\" attribute is used to set the mgtSettableLogAnnounceInterval as described in IEEE Std 802.1AS-2020 [26].\n-\tIf omitted, the default value as described in the IEEE Std 802.1AS-2020 [26] is used.\nNOTE:\tOnly one of the \"gpsi\" attribute or the \"n6Ind\" attribute, or if the \"TimeSyncExposureConfig_Corr\" feature is supported, the \"supi\" attribute shall be present.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.2.11-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.6.2.12",
      "section_id": "6.1.6.2.12",
      "section_title": "Type: StateOfDstt",
      "content": "Table 6.1.6.2.12-1: Definition of type StateOfDstt\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nsupi\nSupi\nC\n0..1\nIdentifies the UE/DS-TT which the parameters below apply.\n(NOTE)\ngpsi\nGpsi\nC\n0..1\nIdentifies the UE/DS-TT which the parameters below apply.\n(NOTE)\nstate\nboolean\nM\n1\nWhen the PTP port state is Leader, Follower or Passive, it is included and set to true\nto indicate the current state of the time synchronization configuration for DS-TT port is active; when PTP port state is\nin any other case, it is included and set to false to indicate the state of configuration for DS-TT port is inactive. Default value is false.\nclkQltIndOfDstt\nAcceptanceCriteriaResultIndication\nO\n0..1\nIndicates the clock quality acceptance criteria changes (\"ACCEPTABLE\", \"NOT_ACCEPTABLE\") for the indicated DS-TT port of the PTP instance.\nNetTimeSyncStatus\nNOTE:\tEither the \"supi\" or the \"gpsi\" attribute is included, based on whether the request contained an internal or an external identifier",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.2.12-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.6.3.1",
      "section_id": "6.1.6.3.1",
      "section_title": "Introduction",
      "content": "This clause defines simple data types and enumerations that can be referenced from data structures defined in the previous clauses.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.1.6.3.2",
      "section_id": "6.1.6.3.2",
      "section_title": "Simple data types",
      "content": "The simple data types defined in table 6.1.6.3.2-1 shall be supported.\nTable 6.1.6.3.2-1: Simple data types\nType Name\nType Definition\nDescription\nApplicability",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.7.1",
      "section_id": "6.1.7.1",
      "section_title": "General",
      "content": "HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS 29.500 [5].\nFor the Ntsctsf_TimeSynchronization API, HTTP error responses shall be supported as specified in clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors and application errors specified in table 5.2.7.2-1 of 3GPP TS 29.500 [4] shall be supported for an HTTP method if the corresponding HTTP status codes are specified as mandatory for that HTTP method in table 5.2.7.1-1 of 3GPP TS 29.500 [4].\nIn addition, the requirements in the following clauses are applicable for the Ntsctsf_TimeSynchronization API.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5.2.4",
        "ts_29.501_clause_4.8",
        "ts_29.500_table_5.2.7.2-1",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500",
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.7.2",
      "section_id": "6.1.7.2",
      "section_title": "Protocol Errors",
      "content": "No specific procedures for the Ntsctsf_TimeSynchronization service are specified.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.1.7.3",
      "section_id": "6.1.7.3",
      "section_title": "Application Errors",
      "content": "The application errors defined for the Ntsctsf_TimeSynchronization service are listed in Table 6.1.7.3-1.\nTable 6.1.7.3-1: Application errors\nApplication Error\nHTTP status code\nDescription\nApplicability\nUE_SERVICE_NOT_AUTHORIZED\n403 Forbidden\nThe AF request is not authorized, or the AF requested parameter(s) are not authorized by UE's Time Synchronization Data in UDM.\nSupportReport",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.7.3-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.8",
      "section_id": "6.1.8",
      "section_title": "Feature negotiation",
      "content": "The optional features in table 6.1.8-1 are defined for the Ntsctsf_TimeSynchronization API. They shall be negotiated using the extensibility mechanism defined in clause 6.6 of 3GPP TS 29.500 [4].\nTable 6.1.8-1: Supported Features\nFeature number\nFeature Name\nDescription\n1\nCoverageAreaSupport\nIndicates the support of spatial validity conditions for the activation/deactivation of the time synchronization service.\n2\nNetTimeSyncStatus\nIndicates the time synchronization service status.\n3\nTimeSyncExposureConfig_Corr\nIndicates the support of the correction in the OpenAPI to enable the creation of a Time Synch Exposure Configuration using the SUPI as DS-TT identifier.\n4\nSupportReport\nThis feature indicates the support of the report of whether the AF requested Time Synchronization is available and authorized for the requested UE's.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.6",
        "table_6.1.8-1",
        "ts_29.500_table_6.1.8-1",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.1.9",
      "section_id": "6.1.9",
      "section_title": "Security",
      "content": "As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the Ntsctsf_TimeSynchronization API may be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [9]), based on local configuration, using the \"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [10]) plays the role of the authorization server.\nIf OAuth2 is used, an NF Service Consumer, prior to consuming services offered by the Ntsctsf_TimeSynchronization API, shall obtain a \"token\" from the authorization server, by invoking the Access Token Request service, as described in 3GPP TS 29.510 [10], clause 5.4.2.2.\nNOTE:\tWhen multiple NRFs are deployed in a network, the NRF used as authorization server is the same NRF that the NF Service Consumer used for discovering the Ntsctsf_TimeSynchronization service.\nThe Ntsctsf_TimeSynchronization API defines a single scope \"ntsctsf-time-sync\" for the entire service, and it does not define any additional scopes at resource or operation level.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.510_clause_5.4.2.2",
        "ts_33.501",
        "ts_29.500",
        "ts_29.510"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.1",
      "section_id": "6.2.1",
      "section_title": "Introduction",
      "content": "The Ntsctsf_QoSandTSCAssistance service shall use the Ntsctsf_QoSandTSCAssistance API.\nThe API URI of the Ntsctsf_QoSandTSCAssistance API shall be:\n{apiRoot}/<apiName>/<apiVersion>\nThe request URIs used in HTTP requests from the NF service consumer towards the NF service producer shall have the Resource URI structure defined in clause 4.4.1 of 3GPP TS 29.501 [4], i.e.:\n{apiRoot}/<apiName>/<apiVersion>/<apiSpecificResourceUriPart>\nwith the following components:\n-\tThe {apiRoot} shall be set as described in 3GPP TS 29.501 [5].\n-\tThe <apiName> shall be \"ntsctsf-qos-tscai\".\n-\tThe <apiVersion> shall be \"v1\".\n-\tThe <apiSpecificResourceUriPart> shall be set as described in clause 6.2.3.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.501_clause_4.4.1",
        "clause_6.2.3",
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.2.1",
      "section_id": "6.2.2.1",
      "section_title": "General",
      "content": "HTTP/2, IETF RFC 9113 [11], shall be used as specified in clause 5 of 3GPP TS 29.500 [4].\nHTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].\nThe OpenAPI [6] specification of HTTP messages and content bodies for the Ntsctsf_QoSandTSCAssistance API is contained in Annex A.3.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5",
        "ts_29.500_clause_5.3",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.2.2.1",
      "section_id": "6.2.2.2.1",
      "section_title": "General",
      "content": "See clause 5.2.2 of 3GPP TS 29.500 [4] for the usage of HTTP standard headers.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5.2.2",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.2.2.2",
      "section_id": "6.2.2.2.2",
      "section_title": "Content type",
      "content": "JSON, IETF RFC 8259 [12], shall be used as content type of the HTTP bodies specified in the present specification as specified in clause 5.4 of 3GPP TS 29.500 [4]. The use of the JSON format shall be signalled by the content type \"application/json\".\nJSON object used in the HTTP PATCH request shall be encoded according to \"JSON Merge Patch\" and shall be signalled by the content type \"application/merge-patch+json\", as defined in IETF RFC 7396 [22].\n\"Problem Details\" JSON object shall be used to indicate additional details of the error in a HTTP response body and shall be signalled by the content type \"application/problem+json\", as defined in IETF RFC 9457 [13].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_5.4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.2.3",
      "section_id": "6.2.2.3",
      "section_title": "HTTP custom headers",
      "content": "The mandatory HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS 29.500 [4] shall be supported, and the optional HTTP custom header fields specified in clause 5.2.3.3 of 3GPP TS 29.500 [4] may be supported.\nIn this Release of the specification, no specific custom headers are defined for the Ntsctsf_QoSandTSCAssistance API.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_5.2.3.2",
        "ts_29.500_clause_5.2.3.3",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.3.1",
      "section_id": "6.2.3.1",
      "section_title": "Overview",
      "content": "This clause describes the structure for the Resource URIs and the resources and methods used for the service.\nFigure 6.2.3.1-1 depicts the resource URIs structure for the Ntsctsf_QoSandTSCAssistance API.\nFigure 6.2.3.1-1: Resource URI structure of the Ntsctsf_QoSandTSCAssistance API\nTable 6.2.3.1-1 provides an overview of the resources and applicable HTTP methods.\nTable 6.2.3.1-1: Resources and methods overview\nResource name\nResource URI\nHTTP method or custom operation\nDescription\nTSC Application Sessions\n/tsc-app-sessions\nPOST\nNtsctsf_QoSandTSCAssistance_Create. Creates a new Individual TSC Application Session Context resource and may create the child Events Subscription sub-resource.\nIndividual TSC Application Session Context\n/tsc-app-sessions/{appSessionId}\nPATCH\nNtsctsf_QoSandTSCAssistance_Update. Updates an existing Individual TSC Application Session Context resource. It can also update an Events Subscription sub-resource.\nGET\nReads an existing Individual TSC Application Session Context resource.\n/tsc-app-sessions/{appSessionId}/delete\ndelete\n(POST)\nNtsctsf_QoSandTSCAssistance_Delete. Deletes an existing Individual TSC Application Session Context resource and the child Events Subscription sub-resource.\nEvents Subscription\n/tsc-app-sessions/{appSessionId}/events-subscription\nPUT\nNtsctsf_QoSandTSCAssistance_Subscribe. Creates a new Events Subscription sub-resource or modifies an existing Events Subscription sub-resource.\nDELETE\nNtsctsf_QoSandTSCAssistance_Unsubscribe.\nDeletes an Events Subscription sub-resource.",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.2.3.1-1",
        "figure_6.2.3.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.3.2.1",
      "section_id": "6.2.3.2.1",
      "section_title": "Description",
      "content": "This resource allows a NF service consumer to create a new Individual TSC Application Session Context resource and may create the child Events Subscription sub-resource.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.2.3.2.2",
      "section_id": "6.2.3.2.2",
      "section_title": "Resource Definition",
      "content": "Resource URI: {apiRoot}/ntsctsf-qos-tscai/<apiVersion>/tsc-app-sessions\nThis resource shall support the resource URI variables defined in table 6.2.3.2.2-1.\nTable 6.2.3.2.2-1: Resource URI variables for this resource\nName\nData type\nDefinition\napiRoot\nstring\nSee clause 6.2.1",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6.2.1",
        "table_6.2.3.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.3.2.3.1",
      "section_id": "6.2.3.2.3.1",
      "section_title": "POST",
      "content": "This method shall support the URI query parameters specified in table 6.2.3.2.3.1-1.\nTable 6.2.3.2.3.1-1: URI query parameters supported by the POST method on this resource\nName\nData type\nP\nCardinality\nDescription\nApplicability\nn/a\nThis method shall support the request data structures specified in table 6.2.3.2.3.1-2 and the response data structures and response codes specified in table 6.2.3.2.3.1-3.\nTable 6.2.3.2.3.1-2: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nTscAppSessionContextData\nM\n1\nContains the information for the creation of a new Individual TSC Application Session Context resource.\nTable 6.2.3.2.3.1-3: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nTscAppSessionContextData\nM\n1\n201 Created\nThe subscription was created successfully.\nThe URI of the created resource shall be returned in the \"Location\" HTTP header.\nProblemDetailsTsctsfQosTscac\nO\n0..1\n403 Forbidden\n(NOTE 2)\nProblemDetails\nO\n0..1\n500 Internal Server Error\n(NOTE 2)\nNOTE 1:\tThe manadatory HTTP error status code for the POST method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] also apply.\nNOTE 2:\tFailure cases are described in clause 6.2.7.\nTable 6.2.3.2.3.1-4: Headers supported by the 201 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains the URI of the newly created resource, according to the structure:{apiRoot}/ntsctsf-qos-tscai/<apiVersion>/tsc-app-sessions /{appSessionId}\nTable 6.2.3.2.3.1-5: Headers supported by the 403 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nRetry-After\nstring\nM\n1\nIndicates the time the NF service consumer has to wait before making a new request.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.2.7",
        "table_6.2.3.2.3.1-1",
        "table_6.2.3.2.3.1-2",
        "table_6.2.3.2.3.1-3",
        "ts_29.500_table_5.2.7.1-1",
        "table_6.2.3.2.3.1-4",
        "table_6.2.3.2.3.1-5",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.3.2.4",
      "section_id": "6.2.3.2.4",
      "section_title": "Resource Custom Operations",
      "content": "None.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.2.3.3.1",
      "section_id": "6.2.3.3.1",
      "section_title": "Description",
      "content": "This resource allows a NF service consumer to read, modify or delete an existing Individual TSC Application Session Context resource.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.2.3.3.2",
      "section_id": "6.2.3.3.2",
      "section_title": "Resource Definition",
      "content": "Resource URI: {apiRoot}/ntsctsf-qos-tscai/<apiVersion>/tsc-app-sessions/{appSessionId}\nThis resource shall support the resource URI variables defined in table 6.2.3.3.2-1.\nTable 6.2.3.3.2-1: Resource URI variables for this resource\nName\nData type\nDefinition\napiRoot\nstring\nSee clause 6.2.1\nappSessionId\nstring\nIdentifier of an Individual TSC Application Session Context resource",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6.2.1",
        "table_6.2.3.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.3.3.3.1",
      "section_id": "6.2.3.3.3.1",
      "section_title": "GET",
      "content": "This method shall support the URI query parameters specified in table 6.2.3.3.3.1-1.\nTable 6.2.3.3.3.1-1: URI query parameters supported by the GET method on this resource\nName\nData type\nP\nCardinality\nDescription\nApplicability\nn/a\nThis method shall support the request data structures specified in table 6.2.3.3.3.1-2 and the response data structures and response codes specified in table 6.2.3.3.3.1-3.\nTable 6.2.3.3.3.1-2: Data structures supported by the GET Request Body on this resource\nData type\nP\nCardinality\nDescription\nn/a\nTable 6.2.3.3.3.1-3: Data structures supported by the GET Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nTscAppSessionContextData\nM\n1\n200 OK\nAn Individual TSC Application Session Context resource is returned successfully.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection, during an Individual TSC Application Session Context resource retrieval.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection, during an Individual TSC Application Session Context resource retrieval.\n(NOTE 2)\nNOTE 1:\tThe manadatory HTTP error status code for the GET method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] also apply.\nNOTE 2:\tThe RedirectResponse data structure may be provided by an SCP (cf. clause 6.10.9.1 of 3GPP TS 29.500 [4]).\nTable 6.2.3.3.3.1-4: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative TSCTSF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request is redirected.\nTable 6.2.3.3.3.1-5: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative TSCTSF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request is redirected.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "table_6.2.3.3.3.1-1",
        "table_6.2.3.3.3.1-2",
        "table_6.2.3.3.3.1-3",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.2.3.3.3.1-4",
        "table_6.2.3.3.3.1-5",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.3.3.3.2",
      "section_id": "6.2.3.3.3.2",
      "section_title": "PATCH",
      "content": "This method shall support the URI query parameters specified in table 6.2.3.3.3.2-1.\nTable 6.2.3.3.3.2-1: URI query parameters supported by the PATCH method on this resource\nName\nData type\nP\nCardinality\nDescription\nn/a\nThis method shall support the request data structures specified in table 6.2.3.3.3.2-2 and the response data structures and response codes specified in table 6.2.3.3.3.2-3.\nTable 6.2.3.3.3.2-2: Data structures supported by the PATCH Request Body on this resource\nData type\nP\nCardinality\nDescription\nTscAppSessionContextUpdateData\nM\n1\nContains the modification(s) to apply to the Individual TSC Application Session Context resource.\nTable 6.2.3.3.3.2-3: Data structures supported by the PATCH Response Body on this resource\nData type\nP\nCardinality\nResponse codes\nDescription\nTscAppSessionContextData\nM\n1\n200 OK\nSuccessful case.\nThe Individual TSC Application Session Context resource was modified and a representation of that resource is returned.\nn/a\n204 No Content\nSuccessful case.\nThe Individual TSC Application Session Context resource was modified.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection, during an Individual TSC Application Session Context resource modification.\n(NOTE 3)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection, during an Individual TSC Application Session Context resource modification.\n(NOTE 3)\nProblemDetailsTsctsfQosTscac\nO\n0..1\n403 Forbidden\n(NOTE 2)\nNOTE 1:\tIn addition, the HTTP status codes which are specified as mandatory in table 5.2.7.1-1 of 3GPP TS 29.500 [4] for the PATCH method shall also apply.\nNOTE 2:\tFailure cases are described in clause 6.2.7.\nNOTE 3:\tThe RedirectResponse data structure may be provided by an SCP (cf. clause 6.10.9.1 of 3GPP TS 29.500 [4]).\nTable 6.2.3.3.3.2-4: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative TSCTSF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request is redirected.\nTable 6.2.3.3.3.2-5: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative TSCTSF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request is redirected.\nTable 6.2.3.3.3.2-6: Headers supported by the 403 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nRetry-After\nstring\nM\n1\nIndicates the time the NF service consumer has to wait before making a new request.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.2.7",
        "ts_29.500_clause_6.10.9.1",
        "table_6.2.3.3.3.2-1",
        "table_6.2.3.3.3.2-2",
        "table_6.2.3.3.3.2-3",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.2.3.3.3.2-4",
        "table_6.2.3.3.3.2-5",
        "table_6.2.3.3.3.2-6",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.3.3.4.1",
      "section_id": "6.2.3.3.4.1",
      "section_title": "Overview",
      "content": "Table 6.2.3.3.4.1-1: Custom operations\nOperation name\nCustom operation URI\nMapped HTTP method\nDescription\ndelete\n/tsc-app-sessions/{appSessionId}/delete\nPOST\nNtsctsf_QoSandTSCAssistance_Delete. Deletes an existing Individual TSC Application Session Context resource and the child Events Subscription sub-resource.",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.2.3.3.4.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.3.3.4.2",
      "section_id": "6.2.3.3.4.2",
      "section_title": "Operation: delete",
      "content": "6.2.3.3.4.2.1\tDescription\n6.2.3.3.4.2.2\tOperation Definition\nThis custom operation deletes an existing Individual TSC Application Session Context resource and the child Events Subscription sub-resource in the TSCTSF.\nThis operation shall support the request data structures specified in table 6.2.3.3.4.2.2-1 and the response data structure and response codes specified in table 6.2.3.3.4.2.2-2.\nTable 6.2.3.3.4.2.2-1: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nEventsSubscReqData\nO\n0..1\nEvents subscription information to be sent by the NF service consumer to request event notification when the Individual TSC Application Session Context resource is deleted.\nTable 6.2.3.3.4.2.2-2: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse codes\nDescription\nn/a\n204 No Content\nSuccessful case.\nThe TSC Application Session Context was successfully deleted.\nEventsNotification\nM\n1\n200 OK\nSuccessful case.\nDescribes information related to the notification of events.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection, during an TSC Application Session Context deletion.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection, during an TSC Application Session Context deletion.\n(NOTE 2)\nNOTE 1:\tIn addition, the HTTP status codes which are specified as mandatory in table 5.2.7.1-1 of 3GPP TS 29.500 [4] for the POST method shall also apply.\nNOTE 2:\tThe RedirectResponse data structure may be provided by an SCP (cf. clause 6.10.9.1 of 3GPP TS 29.500 [4]).\nTable 6.2.3.3.4.2.2-3: Headers supported by the 307 Response Code on this resource custom operation\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative target URI of the resource custom operation located in an alternative TSCTSF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request is redirected.\nTable 6.2.3.3.4.2.2-4: Headers supported by the 308 Response Code on this resource custom operation\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative target URI of the resource custom operation located in an alternative TSCTSF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request is redirected.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "table_6.2.3.3.4.2.2-1",
        "table_6.2.3.3.4.2.2-2",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.2.3.3.4.2.2-3",
        "table_6.2.3.3.4.2.2-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.3.4.1",
      "section_id": "6.2.3.4.1",
      "section_title": "Description",
      "content": "The Events Subscription sub-resource represents a subscription to events for a TSC application session context that exists in the Ntsctsf_QoSandTSCAssistance service.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.2.3.4.2",
      "section_id": "6.2.3.4.2",
      "section_title": "Resource Definition",
      "content": "Resource URI: {apiRoot}/ntsctsf-qos-tscai/<apiVersion>/tsc-app-sessions/{appSessionId}/events-subscription\nThis resource shall support the resource URI variables defined in table 6.2.3.4.2-1.\nTable 6.2.3.4.2-1: Resource URI variables for this resource\nName\nData type\nDefinition\napiRoot\nstring\nSee clause 6.2.1\nappSessionId\nstring\nIdentifier of an Individual TSC Application Session Context resource.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6.2.1",
        "table_6.2.3.4.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.3.4.3.1",
      "section_id": "6.2.3.4.3.1",
      "section_title": "PUT",
      "content": "This method shall support the URI query parameters specified in table 6.2.3.4.3.1-1.\nTable 6.2.3.4.3.1-1: URI query parameters supported by the PUT method on this resource\nName\nData type\nP\nCardinality\nDescription\nn/a\nThis method shall support the request data structures specified in table 6.2.3.4.3.1-2 and the response data structures and response codes specified in table 6.2.3.4.3.1-3.\nTable 6.2.3.4.3.1-2: Data structures supported by the PUT Request Body on this resource\nData type\nP\nCardinality\nDescription\nEventsSubscReqData\nM\n1\nContains information for the modification of the Events Subscription sub-resource.\nTable 6.2.3.4.3.1-3: Data structures supported by the PUT Response Body on this resource\nData type\nP\nCardinality\nResponse codes\nDescription\nEventsSubscReqData\nM\n1\n201 Created\nSuccessful case.\nThe Events Subscription sub-resource was created.\nEventsSubscReqData\nM\n1\n200 OK\nSuccessful case.\nThe Events Subscription sub-resource was modified.\nn/a\n204 No Content\nSuccessful case.\nThe Events Subscription sub-resource was modified.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection, during an Events Subscription sub-resource creation.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection, during an Events Subscription sub-resource creation.\n(NOTE 2)\nNOTE 1:\tIn addition, the HTTP status codes which are specified as mandatory in table 5.2.7.1-1 of 3GPP TS 29.500 [4] for the PUT method shall also apply.\nNOTE 2:\tThe RedirectResponse data structure may be provided by an SCP (cf. clause 6.10.9.1 of 3GPP TS 29.500 [4]).\nTable 6.2.3.4.3.1-4: Headers supported by the 201 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains the URI of the newly created resource, according to the structure: {apiRoot}/ntsctsf-qos-tscai/<apiVersion>/tsc-app-sessions/{appSessionId}/events-subscription\nTable 6.2.3.4.3.1-5: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative TSCTSF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request is redirected.\nTable 6.2.3.4.3.1-6: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative TSCTSF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request is redirected.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "table_6.2.3.4.3.1-1",
        "table_6.2.3.4.3.1-2",
        "table_6.2.3.4.3.1-3",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.2.3.4.3.1-4",
        "table_6.2.3.4.3.1-5",
        "table_6.2.3.4.3.1-6",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.3.4.3.2",
      "section_id": "6.2.3.4.3.2",
      "section_title": "DELETE",
      "content": "This method shall support the URI query parameters specified in table 6.2.3.4.3.2-1.\nTable 6.2.3.4.3.2-1: URI query parameters supported by the DELETE method on this resource\nName\nData type\nP\nCardinality\nDescription\nn/a\nThis method shall support the request data structures specified in table 6.2.3.4.3.2-2 and the response data structures and response codes specified in table 6.2.3.4.3.2-3.\nTable 6.2.3.4.3.2-2: Data structures supported by the DELETE Request Body on this resource\nData type\nP\nCardinality\nDescription\nn/a\nTable 6.2.3.4.3.2-3: Data structures supported by the DELETE Response Body on this resource\nData type\nP\nCardinality\nResponse codes\nDescription\nn/a\n204 No Content\nSuccessful case.\nThe Events Subscription sub-resource was deleted.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection, during an Events Subscription sub-resource deletion.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection, during an Events Subscription sub-resource deletion.\n(NOTE 2)\nNOTE 1:\tIn addition, the HTTP status codes which are specified as mandatory in table 5.2.7.1-1 of 3GPP TS 29.500 [4] for the DELETE method shall also apply.\nNOTE 2:\tThe RedirectResponse data structure may be provided by an SCP (cf. clause 6.10.9.1 of 3GPP TS 29.500 [4]).\nTable 6.2.3.4.3.2-4: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative TSCTSF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request is redirected.\nTable 6.2.3.4.3.2-5: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative TSCTSF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request is redirected.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "table_6.2.3.4.3.2-1",
        "table_6.2.3.4.3.2-2",
        "table_6.2.3.4.3.2-3",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.2.3.4.3.2-4",
        "table_6.2.3.4.3.2-5",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.3.4.4",
      "section_id": "6.2.3.4.4",
      "section_title": "Resource Custom Operations",
      "content": "None.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.2.4",
      "section_id": "6.2.4",
      "section_title": "Custom Operations without associated resources",
      "content": "None.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.2.5.1",
      "section_id": "6.2.5.1",
      "section_title": "General",
      "content": "Notifications shall comply to clause 6.2 of 3GPP TS 29.500 [4] and clause 4.6.2.3 of 3GPP TS 29.501 [5].\nTable 6.2.5.1-1: Notifications overview\nNotification\nCallback URI\nHTTP method or custom operation\nDescription\n(service operation)\nEvent Notification\n{notifUri}/notify\nnotify (POST)\nTSCTSF event notification.\nTermination Request\n{notifUri}/terminate\nterminate (POST)\nRequest for termination of an Individual TSC Application Session Context.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_6.2",
        "ts_29.500_clause_4.6.2.3",
        "ts_29.501_table_6.2.5.1-1",
        "ts_29.501_clause_4.6.2.3",
        "ts_29.500",
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.5.2.1",
      "section_id": "6.2.5.2.1",
      "section_title": "Description",
      "content": "The Event Notification is used by the TSCTSF to report one or several observed application session context events to the NF service consumer that has subscribed to such notifications via the Events Subscription sub-resource.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.2.5.2.2",
      "section_id": "6.2.5.2.2",
      "section_title": "Target URI",
      "content": "The Callback URI \"{notifUri}/notify \" shall be used with the callback URI variables defined in table 6.2.5.2.2-1.\nTable 6.2.5.2.2-1: Callback URI variables\nName\nDefinition\nnotifUri\nThe Notification Uri as assigned within the Events Subscription sub-resource and described within the EventsSubscReqData type (see table 6.2.6.2.3-1) or EventsSubscReqDataRm (see table 6.2.6.2.5-1).",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.2.5.2.2-1",
        "table_6.2.6.2.3-1",
        "table_6.2.6.2.5-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.5.2.3.1",
      "section_id": "6.2.5.2.3.1",
      "section_title": "POST",
      "content": "This method shall support the request data structures specified in table 6.2.5.2.3.1-1 and the response data structures and response codes specified in table 6.2.5.2.3.1-2.\nTable 6.2.5.2.3.1-1: Data structures supported by the POST Request Body\nData type\nP\nCardinality\nDescription\nEventsNotification\nM\n1\nProvides Information about observed events.\nTable 6.2.5.2.3.1-2: Data structures supported by the POST Response Body\nData type\nP\nCardinality\nResponse codes\nDescription\nn/a\n204 No Content\nThe event notification is received successfully.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection, during event notification.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection, during event notification.\n(NOTE 2)\nNOTE 1:\tThe mandatory HTTP error status codes for the POST method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] also apply.\nNOTE 2:\tThe RedirectResponse data structure may be provided by an SCP (cf. clause 6.10.9.1 of 3GPP TS 29.500 [4]).\nTable 6.2.5.2.3.1-3: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI representing the end point of an alternative NF consumer (service) instance towards which the notification should be redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance towards which the notification request is redirected\nTable 6.2.5.2.3.1-4: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI representing the end point of an alternative NF consumer (service) instance towards which the notification should be redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance towards which the notification request is redirected",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "table_6.2.5.2.3.1-1",
        "table_6.2.5.2.3.1-2",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.2.5.2.3.1-3",
        "table_6.2.5.2.3.1-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.5.3.1",
      "section_id": "6.2.5.3.1",
      "section_title": "Description",
      "content": "The Termination Request is used by the TSCTSF to request the NF service consumer the deletion of the Individual TSC Application Session Context resource.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.2.5.3.2",
      "section_id": "6.2.5.3.2",
      "section_title": "Target URI",
      "content": "The Callback URI \"{notifUri}/terminate \" shall be used with the callback URI variables defined in table 6.2.5.3.2-1.\nTable 6.2.5.3.2-1: Callback URI variables\nName\nDefinition\nnotifUri\nThe Notification Uri as assigned within the Individual TSC Application Session Context resource and described within the TscAppSessionContextData Data type (see table 6.2.6.2.2-1) or TscAppSessionContextUpdateData (see table 6.2.6.2.4-1).",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.2.5.3.2-1",
        "table_6.2.6.2.2-1",
        "table_6.2.6.2.4-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.5.3.3.1",
      "section_id": "6.2.5.3.3.1",
      "section_title": "POST",
      "content": "This method shall support the request data structures specified in table 6.2.5.3.3.1-1 and the response data structures and response codes specified in table 6.2.5.3.3.1-2.\nTable 6.2.5.3.3.1-1: Data structures supported by the POST Request Body\nData type\nP\nCardinality\nDescription\nTerminationInfo\nM\n1\nProvides information about the deletion of the resource.\nTable 6.2.5.3.3.1-2: Data structures supported by the POST Response Body\nData type\nP\nCardinality\nResponse codes\nDescription\nn/a\n204 No Content\nThe receipt of the Notification is acknowledged.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection, during event notification.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection, during event notification.\n(NOTE 2)\nNOTE 1:\tThe mandatory HTTP error status codes for the POST method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] also apply.\nNOTE 2:\tThe RedirectResponse data structure may be provided by an SCP (cf. clause 6.10.9.1 of 3GPP TS 29.500 [4]).\nTable 6.2.5.3.3.1-3: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI representing the end point of an alternative NF consumer (service) instance towards which the notification should be redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance towards which the notification request is redirected\nTable 6.2.5.3.3.1-4: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI representing the end point of an alternative NF consumer (service) instance towards which the notification should be redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance towards which the notification request is redirected",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "table_6.2.5.3.3.1-1",
        "table_6.2.5.3.3.1-2",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.2.5.3.3.1-3",
        "table_6.2.5.3.3.1-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.6.1",
      "section_id": "6.2.6.1",
      "section_title": "General",
      "content": "This clause specifies the application data model supported by the API.\nTable 6.2.6.1-1 specifies the data types defined for the Ntsctsf_QoSandTSCAssistance service based interface protocol.\nTable 6.2.6.1-1: Ntsctsf_QoSandTSCAssistance specific Data Types\nData type\nClause defined\nDescription\nApplicability\nAdditionalInfoTsctsfQosTscac\n6.2.6.2.8\nDescribes additional error information specific for this API.\nEventsNotification\n6.2.6.2.6\nDescribes the notification(s) about the event(s) occurred within an Individual TSC Application Session Context resource.\nEventNotification\n6.2.6.2.7\nDescribes the notification for an Event.\nEventsSubscReqData\n6.2.6.2.3\nIdentifies the events the application subscribes to within an Individual TSC Application Session Context resource\nEventsSubscReqDataRm\n6.2.6.2.5\nThis data type is defined in the same way as the \"EventsSubscReqData\" data type, but with the OpenAPI \"nullable: true\" property.\nProblemDetailsTsctsfQosTscac\n6.2.6.4.1\nProblem details as defined in 3GPP TS 29.571 [15] extended with specific error information for this API, as described in AdditionalInfoTsctsfQosTscac data type.\nTemporalInValidity\n6.2.6.2.9\nRepresents the temporal invalidity conditions, i.e., the time interval during which the NF service consumer request shall not to be applied.\nGMEC\nTscAppSessionContextData\n6.2.6.2.2\nRepresents the Individual TSC Application Session Context resource data.\nTscAppSessionContextUpdateData\n6.2.6.2.4\nDescribes the modifications to an Individual TSC Application Session Context resource.\nTscEvent\n6.2.6.3.3\nIndicates the subscribed event(s).\nTable 6.2.6.1-2 specifies data types re-used by the Ntsctsf_QoSandTSCAssistance service based interface protocol from other specifications, including a reference to their respective specifications and when needed, a short description of their use within the Ntsctsf_QoSandTSCAssistance service based interface.\nTable 6.2.6.1-2: Ntsctsf_QoSandTSCAssistance re-used Data Types\nData type\nReference\nComments\nApplicability\nAcceptableServiceInfo\n3GPP TS 29.514 [20]\nAcceptable maximum requested bandwidth.\nAccumulatedUsage\n3GPP TS 29.122 [21]\nAccumulated Usage.\nAlternativeServiceRequirementsData\n3GPP TS 29.514 [20]\nContains alternative QoS related parameter sets.\nAspId\n3GPP TS 29.514 [20]\nContains an identity of an application service provider.\nBatOffsetInfo\n3GPP TS 29.514 [20]\nContains the offset of the BAT and the optionally adjusted periodicity.\nEnTSCAC\nDateTime\n3GPP TS 29.571 [15]\nRepresents a date and a time.\nGMEC\nDnn\n3GPP TS 29.571 [15]\nThe DNN the user is connected to.\nExternalGroupId\n3GPP TS 29.571 [15]\nRepresents the identifier of an External Group.\nGMEC\nEthFlowDescription\n3GPP TS 29.514 [20]\nDefines a packet filter for an Ethernet flow.\nEthFlowInfo\n3GPP TS 29.122 [21]\nContains an UL and/or DL Flow information.\nEthernet_UL/DL_Flows\nFlowInfo\n3GPP TS 29.122 [21]\nContains the IP data flow information.\nGpsi\n3GPP TS 29.571 [15]\nRepresents a GPSI.\nGMEC\nIpAddr\n3GPP TS 29.571 [15]\nContains the IP address.\nMacAddr48\n3GPP TS 29.571 [15]\nMAC Address.\nProblemDetails\n3GPP TS 29.571 [15]\nProblem Details when returning an error response.\nQosMonitoringInformation\n3GPP TS 29.122 [21]\nContains Qos Monitoring information.\nQosMonitoringInformationRm\n3GPP TS 29.122 [21]\nThis data type is defined in the same way as the \"QosMonitoringInformation\" data type, but with the OpenAPI \"nullable: true\" property.\nQosMonitoringReport\n3GPP TS 29.122 [21]\nContains Qos Monitoring Report information.\nRedirectResponse\n3GPP TS 29.571 [15]\nContains redirection related information.\nSnssai\n3GPP TS 29.571 [15]\nIdentifies the S-NSSAI.\nSponId\n3GPP TS 29.514 [20]\nContains an Identity of a sponsor.\nSponsoringStatus\n3GPP TS 29.514 [20]\nRepresents whether sponsored data connectivity is enabled or disabled/not enabled.\nSubscribedEvent\n3GPP TS 29.522 [17]\nIndicates the subscribed event.\nSupportedFeatures\n3GPP TS 29.571 [15]\nUsed to negotiate the applicability of the optional features defined in table 5.8-1.\nTerminationInfo\n3GPP TS 29.514 [20]\nIncludes information related to the termination of the Individual TSC Application Session Context resource.\nTscQosRequirement\n3GPP TS 29.122 [21]\nContains the QoS requirements for time sensitive communication.\nTscQosRequirementRm\n3GPP TS 29.122 [21]\nThis data type is defined in the same way as the \"TscQosRequirement\" data type, but with removable attributes.\nUsageThreshold\n3GPP TS 29.122 [21]\nTime period and/or traffic volume in which the QoS is to be applied.\nUsageThresholdRm\n3GPP TS 29.122 [21]\nThis data type is defined in the same way as the \"UsageThreshold\" data type, but with the OpenAPI \"nullable: true\" property.\nUri\n3GPP TS 29.571 [15]\nIdentifies a referenced resource.",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.2.6.1-1",
        "table_6.2.6.1-2",
        "ts_29.514_table_5.8-1",
        "ts_29.571",
        "ts_29.514",
        "ts_29.122",
        "ts_29.522"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.6.2.1",
      "section_id": "6.2.6.2.1",
      "section_title": "Introduction",
      "content": "This clause defines the structures to be used in resource representations.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.2.6.2.2",
      "section_id": "6.2.6.2.2",
      "section_title": "Type TscAppSessionContextData",
      "content": "Table 6.2.6.2.2-1: Definition of type TscAppSessionContextData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nueIpAddr\nIpAddr\nC\n0..1\nThe address of the UE.\n(NOTE 1) (NOTE 5)\nipDomain\nstring\nC\n0..1\nThe IPv4 address domain identifier.\nThe attribute may only be provided if the ueIpAddr attribute is present and contains an IPv4 address.\nueMac\nMacAddr48\nC\n0..1\nIdentifies the MAC address.\n(NOTE 1) (NOTE 5)\nueId\nGpsi\nC\n0..1\nContains the identifier of the targeted UE.\n(NOTE 5)\nGMEC\nexternalGroupId\nExternalGroupId\nC\n0..1\nContains the identifier of the targeted group of UE(s).\n(NOTE 5)\nGMEC\ndnn\nDnn\nO\n0..1\nData Network Name, a full DNN with both the Network Identifier and Operator Identifier, or a DNN with the Network Identifier only.\nsnssai\nSnssai\nO\n0..1\nIdentifies the S-NSSAI.\nnotifUri\nUri\nM\n1\nNotification URI for Individual TSC Application Session Context termination requests.\nappId\nstring\nC\n0..1\nContains the Application Identifier. (NOTE 1)\nflowInfo\narray(FlowInfo)\nC\n1..N\nDescribe the IP data flow which requires QoS.\n(NOTE 1) (NOTE 4)\nenEthFlowInfo\narray(EthFlowInfo)\nC\n1..N\nIdentifies the Ethernet flows which require QoS. Each Ethernet flow consists of a flow identifier and the corresponding UL and/or DL flows.\n(NOTE 1) (NOTE 4)\nEthernet_UL/DL_Flows\nethFlowInfo\narray(EthFlowDescription)\nC\n1..N\nIdentifies Ethernet packet flows.\n(NOTE 1)\nafId\nstring\nM\n1\nIdentifies the AF identifier.\ntscQosReq\nTscQosRequirement\nC\n0..1\nContains the QoS requirements for time sensitive communication. (NOTE 2)\nqosReference\nstring\nM\n0..1\nIdentifies a pre-defined QoS information. (NOTE 2) (NOTE 3)\naltQosReferences\narray(string)\nC\n1..N\nIdentifies an ordered list of pre-defined QoS information. The lower the index of the array for a given entry, the higher the priority. (NOTE 3)\naltQosReqs\narray(AlternativeServiceRequirementsData)\nC\n1..N\nIdentifies an ordered list of alternative service requirements that include individual QoS parameter set(s). The lower the index of the array for a given entry, the higher the priority. (NOTE 3)\nsponId\nSponId\nO\n0..1\nSponsor identity.\naspId\nAspId\nO\n0..1\nContains the Application service provider identity. It shall be included if sponsored connectivity is applicable.\nsponStatus\nSponsoringStatus\nO\n0..1\nIndication of whether sponsored connectivity is enabled or disabled/not enabled.\nThe absence of the attribute indicates that the sponsored connectivity is enabled.\nevSubsc\nEventsSubscReqData\nO\n0..1\nIdentifies the events the application subscribes to at creation of an Individual TSC Application Session Context resource.\ntempInValidity\nTemporalInValidity\nO\n0..1\nContains the temporal invalidity conditions, i.e., the time interval during which the AF request is not to be applied.\nGMEC\nsuppFeat\nSupportedFeatures\nC\n0..1\nThis IE represents a list of Supported features used as described in clause 6.2.8.\nIt shall be supplied by the NF service consumer in the POST request and response of requests a creation of an Individual TSC Application Session Context resource.\nNOTE 1:\tWhen the \"GMEC\" feature is not supported, eirther the \"ueIpAddr\" attribute or the \"ueMac\" attribute shall be included. If IP address is provided, IP flow information shall be provided. If ipv4, the domain identifier may be provided. If mac address is provided, Ethernet flow information shall be provided. One of IP flow information, Ethernet flow information or Application Identifier shall be provided.\nNOTE 2:\tWhen the attributes \"reqGbrDl\", \"reqGbrUl\", \"reqMbrDl\", \"reqMbrUl\", \"maxTscBurstSize\", \"req5Gsdelay\", \"reqPer\" (if the ExtQoS feature is supported), and \"priority\" within the \"tscQosReq\" attribute are provided then the \"qosReference\" attribute is ignored.\nNOTE 3:\tThe attributes \"altQoSReferences\" and \"altQosReqs\" are mutually exclusive. If the attribute \"altQosReqs\" is provided, then the attribute \"qosReference shall be ignored.\nNOTE 4:\tWhen the Ethernet flow information is provided and the Ethernet_UL/DL_Flows feature is supported, either the \"ethFlowInfo\" or the \"enEthFlowInfo\" shall be provided, but not both simultaneously.\nNOTE 5:\tWhen the \"GMEC\" feature is supported, the \"ueId\" attribute and the \"externalGroupId\" attribute are mutually exclusive and either one of them shall be present. If either the \"ueId\" attribute or the \"externalGroupId\" attribute are present, then neither the \"ueIpAddr\" attribute nor the \"ueMac\" attribute shall be present.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.2.8",
        "table_6.2.6.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.6.2.3",
      "section_id": "6.2.6.2.3",
      "section_title": "Type EventsSubscReqData",
      "content": "Table 6.2.6.2.3-1: Definition of type EventsSubscReqData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nevents\narray(TscEvent)\nM\n1..N\nSubscribed Events.\nnotifUri\nUri\nM\n1\nNotification URI for event notification.\nqosMon\nQosMonitoringInformation\nC\n0..1\nQos Monitoring information. It can be present when the event \"QOS_MONITORING\" is subscribed.\nusgThres\nUsageThreshold\nC\n0..1\nIncludes the volume and/or time thresholds for sponsored data connectivity. It can be present when the event \"USAGE_REPORT\" is subscribed.\nnotifCorreId\nstring\nM\n1\nIt is used to set the value of Notification Correlation ID in the corresponding notification.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.2.6.2.3-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.6.2.4",
      "section_id": "6.2.6.2.4",
      "section_title": "Type TscAppSessionContextUpdateData",
      "content": "Table 6.2.6.2.4-1: Definition of type TscAppSessionContextUpdateData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nnotifUri\nUri\nO\n0..1\nNotification URI for Individual TSC Application Session Context termination requests.\nappId\nstring\nO\n0..1\nIdentifies the external Application Identifier. (NOTE 1)\nflowInfo\narray(FlowInfo)\nO\n1..N\nDescribe the IP data flow which requires QoS.\n(NOTE 1)\nethFlowInfo\narray(EthFlowDescription)\nO\n1..N\nIdentifies Ethernet packet flows.\n(NOTE 1) (NOTE 4)\nenEthFlowInfo\narray(EthFlowInfo)\nO\n1..N\nIdentifies the Ethernet flows which require QoS. Each Ethernet flow consists of a flow identifier and the corresponding UL and/or DL flows.\n(NOTE 1) (NOTE 4)\nEthernet_UL/DL_Flows\ntscQosReq\nTscQosRequirementRm\nO\n0..1\nContains the QoS requirements for time sensitive communication. (NOTE 2)\nqosReference\nstring\nO\n0..1\nIdentifies a pre-defined QoS information. (NOTE 2) (NOTE 3)\naltQosReferences\narray(string)\nO\n1..N\nIdentifies an ordered list of pre-defined QoS information. The lower the index of the array for a given entry, the higher the priority. (NOTE 3)\naltQosReqs\narray(AlternativeServiceRequirementsData)\nO\n1..N\nIdentifies an ordered list of alternative service requirements that include individual QoS parameter set(s). The lower the index of the array for a given entry, the higher the priority. (NOTE 3)\nevSubsc\nEventsSubscReqDataRm\nO\n0..1\nIdentifies the events the application subscribes to at modification of an Individual TSC Application Session Context resource.\nsponId\nSponId\nO\n0..1\nSponsor identity.\naspId\nAspId\nO\n0..1\nApplication service provider identity. It may be included if sponsored connectivity is applicable.\nsponStatus\nSponsoringStatus\nO\n0..1\nIndication of whether sponsored connectivity is enabled or disabled/not enabled.\nThe absence of the attribute indicates that the sponsored connectivity is enabled.\ntempInValidity\nTemporalInValidity\nO\n0..1\nContains the updated temporal invalidity conditions, i.e., the time interval during which the AF request is not to be applied.\nGMEC\nNOTE 1:\tOne of IP flow information, Ethernet flow information or Application Identifier may be provided.\nNOTE 2:\tIf the \"tscQosReq\" attribute and \"qosReference\" attributes are provided, the \"qosReference\" attribute is ignored.\nNOTE 3:\tThe attributes \"altQoSReferences\" and \"altQosReqs\" are mutually exclusive.\nNOTE 4:\tWhen the Ethernet flow information is provided and the Ethernet_UL/DL_Flows feature is supported, either the \"ethFlowInfo\" or the \"enEthFlowInfo\" may be provided, but not both simultaneously.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.2.6.2.4-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.6.2.5",
      "section_id": "6.2.6.2.5",
      "section_title": "Type EventsSubscReqDataRm",
      "content": "This data type is defined in the same way as the \"EventsSubscReqData\" data type, but:\n-\twith the OpenAPI \"nullable: true\" property; and\n-\tthe removable attribute \"usgThres\" is defined with the removable data type \"UsageThresholdRm\"; and removable attribute \"qosMon\" is defined with the removable data type \"QosMonitoringInformationRm\".\nTable 6.2.6.2.5-1: Definition of type EventsSubscReqDataRm\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nevents\narray(TscEvent)\nM\n1..N\nSubscribed Events.\nnotifUri\nUri\nO\n0..1\nNotification URI for event notification.\nqosMon\nQosMonitoringInformationRm\nO\n0..1\nQos Monitoring information. It can be present when the event \"QOS_MONITORING\" is subscribed.\nusgThres\nUsageThresholdRm\nC\n0..1\nIncludes the volume and/or time thresholds for sponsored data connectivity. It can be present when the notified event is \"USAGE_REPORT\".\nnotifCorreId\nstring\nO\n0..1\nIt is used to set the value of Notification Correlation ID in the corresponding notification.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.2.6.2.5-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.6.2.6",
      "section_id": "6.2.6.2.6",
      "section_title": "Type EventsNotification",
      "content": "Table 6.2.6.2.6-1: Definition of type EventsNotification\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nnotifCorreId\nstring\nM\n1\nIt is used to set the value of Notification Correlation ID in the corresponding notification.\nevents\narray(EventNotification)\nM\n1..N\nContains the reported event(s).",
      "chunk_type": "general",
      "cross_references": [
        "table_6.2.6.2.6-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.6.2.7",
      "section_id": "6.2.6.2.7",
      "section_title": "Type EventNotification",
      "content": "Table 6.2.6.2.7-1: Definition of type EventNotification\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nevent\nTscEvent\nM\n1\nIndicates the event reported by the TSCTSF.\nflowIds\narray(integer)\nO\n1..N\nIdentifies the flows that were sent during event subscription\nqosMonReports\narray(QosMonitoringReport)\nC\n1..N\nQoS Monitoring reporting information. It shall be present when the notified event is \"QOS_MONITORING\".\nappliedQosRef\nstring\nC\n0..1\nThe currently applied alternative QoS requirement referring to an alternative QoS reference or a requested alternative QoS parameter set. Applicable for event QOS_NOT_GUARANTEED or SUCCESSFUL_RESOURCES_ALLOCATION.\nWhen it is omitted and the \"event\" attribute is QOS_NOT_GUARANTEED, the event report indicates that the lowest priority alternative QoS profile could not be fulfilled either.\nusgRep\nAccumulatedUsage\nC\n0..1\nIndicates the measured volume and/or time for sponsored data connectivity. Applicable for event USAGE_REPORT.\naltQosNotSuppInd\nboolean\nO\n0..1\nIt may be set to true when the \"event\" attribute is QOS_NOT_GUARANTEED to indicate that alternative service requirements are not supported by NG-RAN. The default value false shall apply if the attribute is not present.\nAltQoSProfilesSupportReport\nbatOffsetInfo\nBatOffsetInfo\nC\n0..1\nThe offset of the BAT and the optionally adjusted periodicity.\nIt shall be present if available when the notified event is \"BAT_OFFSET_INFO\".\nEnTSCAC",
      "chunk_type": "general",
      "cross_references": [
        "table_6.2.6.2.7-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.6.2.8",
      "section_id": "6.2.6.2.8",
      "section_title": "Type AdditionalInfoTsctsfQosTscac",
      "content": "Table 6.2.6.2.8-1: Definition of type AdditionalInfoTsctsfQosTscac\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nacceptableServInfo\nAcceptableServiceInfo\nO\n0..1\nDescribes information related to the acceptable service information, i.e., the maximum acceptable bandwidth for an AF session and/or for specific media components.\n6.2.6.2.9\tType TemporalInValidity\nTable 6.2.6.2.9-1: Definition of type TemporalnValidity\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nstartTime\nDateTime\nM\n1\nIndicates the time at which the AF request ceases to apply.\nThe absence of this attribute indicates that the AF request does not end at any time.\nstopTime\nDateTime\nM\n1\nIndicates the time at which the AF request starts to apply.\nThe absence of this attribute indicates the AF request applies immediately.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.2.6.2.8-1",
        "table_6.2.6.2.9-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.6.3.1",
      "section_id": "6.2.6.3.1",
      "section_title": "Introduction",
      "content": "This clause defines simple data types and enumerations that can be referenced from data structures defined in the previous clauses.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.2.6.3.2",
      "section_id": "6.2.6.3.2",
      "section_title": "Simple data types",
      "content": "The simple data types defined in table 6.2.6.3.2-1 shall be supported.\nTable 6.2.6.3.2-1: Simple data types\nType Name\nType Definition\nDescription\nApplicability\n<one simple data type, i.e. boolean, integer, number, or string>",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.2.6.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.6.3.3",
      "section_id": "6.2.6.3.3",
      "section_title": "Enumeration: TscEvent",
      "content": "The enumeration TscEvent represents event for TSC. It shall comply with the provisions defined in table 6.2.6.3.3-1.\nTable 6.2.6.3.3-1: Enumeration TscEvent\nEnumeration value\nDescription\nApplicability\nFAILED_RESOURCES_ALLOCATION\nIndicates that one or more of the SDFs of an Individual TSC Application Session Context are deactivated. It also indicates that the resources requested for a particular service information cannot be successfully allocated.\nSUCCESSFUL_RESOURCES_ALLOCATION\nIndicates that the resources requested for particular service information have been successfully allocated.\nQOS_GUARANTEED\nThe QoS targets of one or more SDFs are guaranteed again.\nQOS_NOT_GUARANTEED\nThe QoS targets of one or more SDFs are not being guaranteed.\nQOS_MONITORING\nIndicates a QoS monitoring event.\nUSAGE_REPORT\nVolume and/or time usage for sponsored data connectivity.\nBAT_OFFSET_INFO\nIndicates the BAT offset and the optionally adjusted periodicity.\nEnTSCAC",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.2.6.3.3-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.6.4.1",
      "section_id": "6.2.6.4.1",
      "section_title": "Type: ProblemDetailsTsctsfQosTscac",
      "content": "Table 6.2.6.4.1-1: Definition of type ProblemDetailsTsctsfQosTscac as a list of to be combined data types\nData type\nCardinality\nDescription\nApplicability\nProblemDetails\n1\nProblem details when returning an error response as specified in 3GPP TS 29.571 [15].\nAdditionalInfoTsctsfQosTscac\n1\nDescribes additional error information specific for this API.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.2.6.4.1-1",
        "ts_29.571"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.7.1",
      "section_id": "6.2.7.1",
      "section_title": "General",
      "content": "HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS 29.500 [4].\nFor the Ntsctsf_QoSandTSCAssistance API, HTTP error responses shall be supported as specified in clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors and application errors specified in table 5.2.7.2-1 of 3GPP TS 29.500 [4] shall be supported for an HTTP method if the corresponding HTTP status codes are specified as mandatory for that HTTP method in table 5.2.7.1-1 of 3GPP TS 29.500 [4].\nIn addition, the requirements in the following clauses are applicable for the Ntsctsf_QoSandTSCAssistance API.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5.2.4",
        "ts_29.501_clause_4.8",
        "ts_29.500_table_5.2.7.2-1",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500",
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.7.2",
      "section_id": "6.2.7.2",
      "section_title": "Protocol Errors",
      "content": "No specific procedures for the Ntsctsf_QoSandTSCAssistance service are specified.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.2.7.3",
      "section_id": "6.2.7.3",
      "section_title": "Application Errors",
      "content": "The application errors defined for the Ntsctsf_QoSandTSCAssistance service are listed in Table 6.2.7.3-1.\nTable 6.2.7.3-1: Application errors\nApplication Error\nHTTP status code\nDescription\nREQUESTED_SERVICE_NOT_AUTHORIZED\n403 Forbidden\nThe service information provided in the request is rejected.\nREQUESTED_SERVICE_TEMPORARILY_NOT_AUTHORIZED\n403 Forbidden\nThe service information provided in the request is temporarily rejected.\nUNAUTHORIZED_SPONSORED_DATA_CONNECTIVITY\n403 Forbidden\nThe request for sponsored data connectivity is not authorized.\nPDU_SESSION_NOT_AVAILABLE\n500 Internal Server Error\nThe PDU session is not found for the provided UE address.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.2.7.3-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.8",
      "section_id": "6.2.8",
      "section_title": "Feature negotiation",
      "content": "The optional features in table 6.2.8-1 are defined for the Ntsctsf_QoSandTSCAssistance API. They shall be negotiated using the extensibility mechanism defined in clause 6.6 of 3GPP TS 29.500 [4].\nTable 6.2.8-1: Supported Features\nFeature number\nFeature Name\nDescription\n1\nEthernet_UL/DL_Flows\nIndicates the support of the description of the Ethernet flows as the combination of Flow Identifier, and UL and/or DL Ethernet flows.\n2\nPacketDelayFailureReport\nIndicates the support of packet delay failure report as part of QoS Monitoring procedures.\n3\nExtQoS\nIndicates the support of extended QoS parameters.\n4\nEnTSCAC\nIndicates the support of extensions to TSCAC, e.g. burst arrival time window adaptation, periodicity adjustment, and subsequent BAT offset report.\n5\nAltQoSProfilesSupportReport\nThis feature indicates the support of the report of whether Alternative QoS parameters are supported by NG-RAN.\n6\nGMEC\nThis feature indicates the support of Generic Group Management, Exposure and Communication Enhancements.\nThe following functionalities are supported:\n-\tAF requested QoS for a UE or a group of UE(s) not identified by UE address(es).",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.6",
        "table_6.2.8-1",
        "ts_29.500_table_6.2.8-1",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.2.9",
      "section_id": "6.2.9",
      "section_title": "Security",
      "content": "As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the Ntsctsf_QoSandTSCAssistance API may be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [9]), based on local configuration, using the \"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [10]) plays the role of the authorization server.\nIf OAuth2 is used, an NF Service Consumer, prior to consuming services offered by the Ntsctsf_QoSandTSCAssistance API, shall obtain a \"token\" from the authorization server, by invoking the Access Token Request service, as described in 3GPP TS 29.510 [10], clause 5.4.2.2.\nNOTE:\tWhen multiple NRFs are deployed in a network, the NRF used as authorization server is the same NRF that the NF Service Consumer used for discovering the Ntsctsf_QoSandTSCAssistance service.\nThe Ntsctsf_QoSandTSCAssistance API defines a single scope \"ntsctsf-qos-tscai\" for the entire service, and it does not define any additional scopes at resource or operation level.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.510_clause_5.4.2.2",
        "ts_33.501",
        "ts_29.500",
        "ts_29.510"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.1",
      "section_id": "6.3.1",
      "section_title": "Introduction",
      "content": "The Ntsctsf_ASTI service shall use the Ntsctsf_ASTI API.\nThe API URI of the Ntsctsf_ASTI API shall be:\n{apiRoot}/<apiName>/<apiVersion>\nThe request URIs used in HTTP requests from the NF service consumer towards the NF service producer shall have the Resource URI structure defined in clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:\n{apiRoot}/<apiName>/<apiVersion>/<apiSpecificResourceUriPart>\nwith the following components:\n-\tThe {apiRoot} shall be set as described in 3GPP TS 29.501 [5].\n-\tThe <apiName> shall be \"ntsctsf-asti\".\n-\tThe <apiVersion> shall be \"v1\".\n-\tThe <apiSpecificResourceUriPart> shall be set as described in clause 6.3.3.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.501_clause_4.4.1",
        "clause_6.3.3",
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.2.1",
      "section_id": "6.3.2.1",
      "section_title": "General",
      "content": "HTTP/2, IETF RFC 9113 [11], shall be used as specified in clause 5 of 3GPP TS 29.500 [4].\nHTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].\nThe OpenAPI [6] specification of HTTP messages and content bodies for the Ntsctsf_ASTI API is contained in Annex A.4.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5",
        "ts_29.500_clause_5.3",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.2.2.1",
      "section_id": "6.3.2.2.1",
      "section_title": "General",
      "content": "See clause 5.2.2 of 3GPP TS 29.500 [4] for the usage of HTTP standard headers.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5.2.2",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.2.2.2",
      "section_id": "6.3.2.2.2",
      "section_title": "Content type",
      "content": "JSON, IETF RFC 8259 [12], shall be used as content type of the HTTP bodies specified in the present specification as specified in clause 5.4 of 3GPP TS 29.500 [4]. The use of the JSON format shall be signalled by the content type \"application/json\".\n\"Problem Details\" JSON object shall be used to indicate additional details of the error in a HTTP response body and shall be signalled by the content type \"application/problem+json\", as defined in IETF RFC 9457 [13].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_5.4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.2.3",
      "section_id": "6.3.2.3",
      "section_title": "HTTP custom headers",
      "content": "The mandatory HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS 29.500 [4] shall be supported, and the optional HTTP custom header fields specified in clause 5.2.3.3 of 3GPP TS 29.500 [4] may be supported.\nIn this Release of the specification, no specific custom headers are defined for the Ntsctsf_ASTI API.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_5.2.3.2",
        "ts_29.500_clause_5.2.3.3",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.3.1",
      "section_id": "6.3.3.1",
      "section_title": "Overview",
      "content": "This clause describes the structure for the Resource URIs and the resources and methods used for the service.\nFigure 6.2.3.1-1 depicts the resource URIs structure for the Ntsctsf_ASTI API.\nFigure 6.3.3.1-1: Resource URI structure of the Ntsctsf_ASTI API\nTable 6.3.3.1-1 provides an overview of the resources and applicable HTTP methods.\nTable 6.3.3.1-1: Resources and methods overview\nResource name\nResource URI\nHTTP method or custom operation\nDescription\nASTI Configurations\n/configurations\nPOST\nCreate a new configuration of the 5G access stratum time distribution and optionally subscribe for 5G access stratum time distribution status.\nretrieve\n(POST)\nRequest the status of the access stratum time distribution for a list of UEs.\nIndividual ASTI Configuration\n/configurations/{configId}\nPUT\nRequest to update the 5G access stratum time distribution configuration and optionally subscribe for 5G access stratum time distribution status.\nDELETE\nRequest to delete the 5G access stratum time distribution configuration and related subscription for 5G access stratum time distribution status.",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.3.3.1-1",
        "figure_6.2.3.1-1",
        "figure_6.3.3.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.3.2.1",
      "section_id": "6.3.3.2.1",
      "section_title": "Description",
      "content": "This resource allows a NF service consumer to create a new Individual ASTI Configuration resource.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.3.3.2.2",
      "section_id": "6.3.3.2.2",
      "section_title": "Resource Definition",
      "content": "Resource URI: {apiRoot}/ntsctsf-asti/<apiVersion>/configurations\nThis resource shall support the resource URI variables defined in table 6.3.3.2.2-1.\nTable 6.3.3.2.2-1: Resource URI variables for this resource\nName\nData type\nDefinition\napiRoot\nstring\nSee clause 6.3.1",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6.3.1",
        "table_6.3.3.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.3.2.3.1",
      "section_id": "6.3.3.2.3.1",
      "section_title": "POST",
      "content": "This method shall support the URI query parameters specified in table 6.3.3.2.3.1-1.\nTable 6.3.3.2.3.1-1: URI query parameters supported by the POST method on this resource\nName\nData type\nP\nCardinality\nDescription\nApplicability\nn/a\nThis method shall support the request data structures specified in table 6.3.3.2.3.1-2 and the response data structures and response codes specified in table 6.3.3.2.3.1-3.\nTable 6.3.3.2.3.1-2: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nAccessTimeDistributionData\nM\n1\nContains the information for the creation of a new Individual ASTI Configuration resource.\nTable 6.3.3.2.3.1-3: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nAccessTimeDistributionData\nM\n1\n201 Created\nThe resource was created successfully and a representation of the created resource is returned.\nThe URI of the created resource shall be returned in the \"Location\" HTTP header.\nProblemDetails\nO\n0..1\n403 Forbidden\n(NOTE 2)\nNOTE 1:\tThe manadtory HTTP error status code for the POST method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] also apply.\nNOTE 2:\tFailure cases are described in clause 6.3.7.\nTable 6.3.3.2.3.1-4: Headers supported by the 201 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains the URI of the newly created resource, according to the structure:{apiRoot}/ntsctsf-asti/<apiVersion>/configurations/{configId}",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.3.7",
        "table_6.3.3.2.3.1-1",
        "table_6.3.3.2.3.1-2",
        "table_6.3.3.2.3.1-3",
        "ts_29.500_table_5.2.7.1-1",
        "table_6.3.3.2.3.1-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.3.2.4.1",
      "section_id": "6.3.3.2.4.1",
      "section_title": "Overview",
      "content": "Table 6.3.3.2.4.1-1: Custom operations\nOperation Name\nCustom operation URI\nMapped HTTP method\nDescription\nRetrieve\n/configurations/retrieve\nPOST\nRequest the status of the 5G access stratum time distribution for a list of UEs.",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.3.3.2.4.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.3.2.4.2",
      "section_id": "6.3.3.2.4.2",
      "section_title": "Operation: Retrieve",
      "content": "6.3.3.2.4.2.1\tDescription\n6.3.3.2.4.2.2\tOperation Definition\nThis custom operation retrieves the status of the access stratum time distribution for a list of UEs.\nThis operation shall support the request data structures specified in table 6.3.3.2.4.2.2-1 and the response data structure and response codes specified in table 6.3.3.2.4.2.2-2.\nTable 6.3.3.2.4.2.2-1: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nStatusRequestData\nM\n1\nParameters to be sent by the NF service consumer when the status of the 5G access stratum time distribution for a list of UEs is requested.\nTable 6.3.3.2.4.2.2-2: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse codes\nDescription\nStatusResponseData\nM\n1\n200 OK\nStatus of the 5G access stratum time distribution for a list of UEs is returned.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\n(NOTE 2)\nNOTE 1:\tThe mandatory HTTP error status codes for the HTTP POST method listed in table 5.2.7.1-1 of 3GPP TS 29.500 [4] shall also apply.\nNOTE 2:\tThe RedirectResponse data structure may be provided by an SCP (cf. clause 6.10.9.1 of 3GPP TS 29.500 [4]).\nTable 6.3.3.2.4.2.2-3: Headers supported by the 307 Response Code on this resource custom operation\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative target URI of the resource custom operation located in an alternative TSCTSF (service) instance towards which the request should be redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request should be redirected.\nTable 6.3.3.2.4.2.2-4: Headers supported by the 308 Response Code on this resource custom operation\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative target URI of the resource custom operation located in an alternative TSCTSF (service) instance towards which the request should be redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request should be redirected.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "table_6.3.3.2.4.2.2-1",
        "table_6.3.3.2.4.2.2-2",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.3.3.2.4.2.2-3",
        "table_6.3.3.2.4.2.2-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.3.3.1",
      "section_id": "6.3.3.3.1",
      "section_title": "Description",
      "content": "This resource allows a NF service consumer to read, modify or delete an existing Individual ASTI Configuration resource.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.3.3.3.2",
      "section_id": "6.3.3.3.2",
      "section_title": "Resource Definition",
      "content": "Resource URI: {apiRoot}/ntsctsf-asti/<apiVersion>/configurations/{configId}\nThis resource shall support the resource URI variables defined in table 6.3.3.3.2-1.\nTable 6.3.3.3.2-1: Resource URI variables for this resource\nName\nData type\nDefinition\napiRoot\nstring\nSee clause 6.3.1\nconfigId\nstring\nIdentifier of an Individual ASTI Configuration resource.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6.3.1",
        "table_6.3.3.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.3.3.3.2",
      "section_id": "6.3.3.3.3.2",
      "section_title": "PUT",
      "content": "This method shall support the URI query parameters specified in table 6.3.3.3.3.2-1.\nTable 6.3.3.3.3.2-1: URI query parameters supported by the PUT method on this resource\nName\nData type\nP\nCardinality\nDescription\nn/a\nThis method shall support the request data structures specified in table 6.3.3.3.3.2-2 and the response data structures and response codes specified in table 6.3.3.3.3.2-3.\nTable 6.3.3.3.3.2-2: Data structures supported by the PUT Request Body on this resource\nData type\nP\nCardinality\nDescription\nAccessTimeDistributionData\nM\n1\nContains the modification(s) to apply to the Individual ASTI Configuration resource.\nTable 6.3.3.3.3.2-3: Data structures supported by the PUT Response Body on this resource\nData type\nP\nCardinality\nResponse codes\nDescription\nAccessTimeDistributionData\nM\n1\n200 OK\nSuccessful case. The Individual ASTI Configuration resource was modified and a representation of that resource is returned.\nn/a\n204 No Content\nSuccessful case.\nThe Individual ASTI Configuration resource was modified.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection, during an Individual ASTI Configuration resource modification.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection, during an Individual ASTI Configuration resource modification.\n(NOTE 2)\nProblemDetails\nO\n0..1\n403 Forbidden\n(NOTE 3)\nNOTE 1:\tIn addition, the HTTP status codes which are specified as mandatory in table 5.2.7.1-1 of 3GPP TS 29.500 [4] for the PUT method shall also apply.\nNOTE 2:\tThe RedirectResponse data structure may be provided by an SCP (cf. clause 6.10.9.1 of 3GPP TS 29.500 [4]).\nNOTE 3:\tFailure cases are described in clause 6.3.7.\nTable 6.3.3.3.3.2-4: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative TSCTSF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request is redirected.\nTable 6.3.3.3.3.2-5: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative TSCTSF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request is redirected.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "clause_6.3.7",
        "table_6.3.3.3.3.2-1",
        "table_6.3.3.3.3.2-2",
        "table_6.3.3.3.3.2-3",
        "ts_29.500_table_5.2.7.1-1",
        "table_6.3.3.3.3.2-4",
        "table_6.3.3.3.3.2-5",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.3.3.3.3",
      "section_id": "6.3.3.3.3.3",
      "section_title": "DELETE",
      "content": "This method shall support the URI query parameters specified in table 6.3.3.3.3.3-1.\nTable 6.3.3.3.3.3-1: URI query parameters supported by the DELETE method on this resource\nName\nData type\nP\nCardinality\nDescription\nn/a\nThis method shall support the request data structures specified in table 6.3.3.3.3.3-2 and the response data structures and response codes specified in table 6.3.3.3.3.3-3.\nTable 6.3.3.3.3.3-2: Data structures supported by the DELETE Request Body on this resource\nData type\nP\nCardinality\nDescription\nn/a\nTable 6.3.3.3.3.3-3: Data structures supported by the DELETE Response Body on this resource\nData type\nP\nCardinality\nResponse codes\nDescription\nn/a\n204 No Content\nThe configuration was terminated successfully.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection, during an Individual ASTI Configuration resource modification deletion.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection, during an Individual ASTI Configuration resource modification deletion.\n(NOTE 2)\nNOTE 1:\tIn addition, the HTTP status codes which are specified as mandatory in table 5.2.7.1-1 of 3GPP TS 29.500 [4] for the DELETE method shall also apply.\nNOTE 2:\tThe RedirectResponse data structure may be provided by an SCP (cf. clause 6.10.9.1 of 3GPP TS 29.500 [4]).\nTable 6.3.3.3.3.3-4: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative TSCTSF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request is redirected.\nTable 6.3.3.3.3.3-5: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative TSCTSF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target TSCTSF (service) instance towards which the request is redirected.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "table_6.3.3.3.3.3-1",
        "table_6.3.3.3.3.3-2",
        "table_6.3.3.3.3.3-3",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.3.3.3.3.3-4",
        "table_6.3.3.3.3.3-5",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.3.3.4",
      "section_id": "6.3.3.3.4",
      "section_title": "Resource Custom Operations",
      "content": "None.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.3.4",
      "section_id": "6.3.4",
      "section_title": "Custom Operations without associated resources",
      "content": "None.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.3.5.1",
      "section_id": "6.3.5.1",
      "section_title": "General",
      "content": "Notifications shall comply to clause 6.2 of 3GPP TS 29.500 [4] and clause 4.6.2.3 of 3GPP TS 29.501 [5].\nTable 6.3.5.1-1: Notifications overview\nNotification\nCallback URI\nHTTP method or custom operation\nDescription\n(service operation)\nASTI Notification\n{astiNotifUri}\nPOST\nASTI notification.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_6.2",
        "ts_29.500_clause_4.6.2.3",
        "ts_29.501_table_6.3.5.1-1",
        "ts_29.501_clause_4.6.2.3",
        "ts_29.500",
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.5.2.1",
      "section_id": "6.3.5.2.1",
      "section_title": "Description",
      "content": "The ASTI Notification is used by the NF service producer to report the changes on the ASTI service.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.3.5.2.2",
      "section_id": "6.3.5.2.2",
      "section_title": "Target URI",
      "content": "The Callback URI \"{astiNotifUri}\" shall be used with the callback URI variables defined in table 6.3.5.2.2-1.\nTable 6.3.5.2.2-1: Callback URI variables\nName\nDefinition\nastiNotifUri\nString formatted as URI with the Callback Uri.\nThe Callback Uri is assigned within the Individual ASTI Configuration resource and described within the AccessTimeDistributionData data type (see table 6.3.6.2.2-1).",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.3.5.2.2-1",
        "table_6.3.6.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.5.2.3.1",
      "section_id": "6.3.5.2.3.1",
      "section_title": "POST",
      "content": "This method shall support the request data structures specified in table 6.3.5.2.3.1-1 and the response data structures and response codes specified in table 6.3.5.2.3.1-1.\nTable 6.3.5.2.3.1-1: Data structures supported by the POST Request Body\nData type\nP\nCardinality\nDescription\nAstiConfigNotification\nM\n1\nProvides the change in the 5G Access Stratum Time Distribution configuration.\nTable 6.3.5.2.3.1-2: Data structures supported by the POST Response Body\nData type\nP\nCardinality\nResponse codes\nDescription\nn/a\n204 No Content\nThe event notification is received successfully.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection, during event notification.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection, during event notification.\n(NOTE 2)\nNOTE 1:\tThe mandatory HTTP error status codes for the POST method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] also apply.\nNOTE 2:\tThe RedirectResponse data structure may be provided by an SCP (cf. clause 6.10.9.1 of 3GPP TS 29.500 [4]).\nTable 6.3.5.2.3.1-3: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI representing the end point of an alternative NF consumer (service) instance towards which the notification should be redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance towards which the notification request is redirected\nTable 6.3.5.2.3.1-4: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI representing the end point of an alternative NF consumer (service) instance towards which the notification should be redirected.\nFor the case where the request is redirected to the same target via a different SCP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance towards which the notification request is redirected",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "table_6.3.5.2.3.1-1",
        "table_6.3.5.2.3.1-2",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.3.5.2.3.1-3",
        "table_6.3.5.2.3.1-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.6.1",
      "section_id": "6.3.6.1",
      "section_title": "General",
      "content": "This clause specifies the application data model supported by the API.\nTable 6.3.6.1-1 specifies the data types defined for the Ntsctsf_ASTI service based interface protocol.\nTable 6.3.6.1-1: Ntsctsf_ASTI specific Data Types\nData type\nClause defined\nDescription\nApplicability\nAccessTimeDistributionData\n6.3.6.2.2\nContains the parameters for the creation of 5G access stratum time distribution configuration.\nActiveUe\n6.3.6.2.6\nContains the UE identifier whose status of the 5G access stratum time distribution is active and the optional requested time synchronization error budget.\nAstiConfigNotification\n6.3.6.2.7\nContains the report of a change in the 5G Access Stratum Time Distribution parameters applied to the UE(s).\nASTIConfigReport\nAstiConfigStateNotification\n6.3.6.2.8\nContains the report about a change in the 5G Access Stratum Time Distribution parameters for a UE.\nASTIConfigReport\nAstiEvent\n6.3.6.3.3\nASTI Event.\nASTIConfigReport\nAfAsTimeDistributionParam\n6.3.6.2.3\nContains the 5G access stratum time distribution parameters requested by the AF.\nStatusRequestData\n6.3.6.2.4\nContains the parameters for retrieval of the status of the 5G access stratum time distribution for a list of UEs.\nStatusResponseData\n6.3.6.2.5\nContains the parameters for the status of the 5G access stratum time distribution for a list of UEs.\nTable 6.3.6.1-2 specifies data types re-used by the Ntsctsf_ASTI service based interface protocol from other specifications, including a reference to their respective specifications and when needed, a short description of their use within the Ntsctsf_ASTI service based interface.\nTable 6.3.6.1-2: Ntsctsf_ASTI re-used Data Types\nData type\nReference\nComments\nApplicability\nClockQualityAcceptanceCriterion\n3GPP TS 29.571 [15]\nIdentifies clock quality acceptance criteria information.\nNetTimeSyncStatus\nClockQualityDetailLevel\n3GPP TS 29.571 [15]\nIndicates the clock quality detail level information.\nNetTimeSyncStatus\nExternalGroupId\n3GPP TS 29.571 [15]\nIdentifies an External Group.\nGpsi\n3GPP TS 29.571 [15]\nThe external identification of the user (i.e., an External Id or an MSISDN).\nGroupId\n3GPP TS 29.571 [15]\nIdentifies a group of internal globally unique ID.\nProblemDetails\n3GPP TS 29.571 [15]\nProblem Details when returning an error response.\nRedirectResponse\n3GPP TS 29.571 [15]\nContains redirection related information.\nServiceAreaCoverageInfo\n3GPP TS 29.534 [14]\nIt represents a list of Tracking Areas within a serving network.\nCoverageAreaSupport\nSupi\n3GPP TS 29.571 [15]\nThe identification of the user (i.e. IMSI, NAI).\nSupportedFeatures\n3GPP TS 29.571 [15]\nUsed to negotiate the applicability of the optional features defined in table 6.3.8-1.\nTemporalValidity\n3GPP TS 29.514 [20]\nTemporalValidity\nUinteger\n3GPP TS 29.571 [15]\nUnsigned integer.\nUri\n3GPP TS 29.571 [15]\nIdentifies a referenced resource.\nASTIConfigReport",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.3.6.1-1",
        "table_6.3.6.1-2",
        "table_6.3.8-1",
        "ts_29.571",
        "ts_29.534",
        "ts_29.514"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.6.2.1",
      "section_id": "6.3.6.2.1",
      "section_title": "Introduction",
      "content": "This clause defines the structures to be used in resource representations.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.3.6.2.2",
      "section_id": "6.3.6.2.2",
      "section_title": "Type: AccessTimeDistributionData",
      "content": "Table 6.3.6.2.2-1: Definition of type AccessTimeDistributionData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nsupis\narray(Supi)\nC\n1..N\nSubscription Permanent Identifier(s). (NOTE 1)\ngpsis\narray(Gpsi)\nC\n1..N\nPublic user Identifier(s). (NOTE 1)\ninterGrpId\nGroupId\nC\n0..1\nThe internal Group Id(s). (NOTE 1)\nexterGrpId\nExternalGroupId\nC\n0..1\nThe external Group Id(s). (NOTE 1)\nasTimeDisParam\nAfAsTimeDistributionParam\nM\n1\nAF requested 5G access stratum time distribution parameters.\n(NOTE 2)\ncovReq\narray(ServiceAreaCoverageInfo)\nO\n1..N\nIdentifies a list of AF provided Tracking Areas per serving network where the 5GS access stratum time distribution service is allowed.\nCoverageAreaSupport\nastiNotifUri\nUri\nC\n0..1\nNotification URI for reporting changes in 5G access stratum time distribution status, and/or reporting the 5G access stratum time distribution information.\nIt shall be provided if the ASTIConfigReport feature is supported and/or the NetTimeSyncStatus feature is supported.\nASTIConfigReport\nastiNotifId\nstring\nC\n0..1\nNotification Correlation ID assigned by the NF service consumer.\nIt shall be provided if the ASTIConfigReport feature is supported.\nASTIConfigReport\nsuppFeat\nSupportedFeatures\nC\n0..1\nRepresents the features supported by the NF service consumer. This parameter shall be supplied by the NF service consumer in the POST request and the response that requested the creation of an Individual ASTI Configuration resource.\nNOTE 1:\tOne of \"supis\", \"gpsis\", \"exterGroupId\" or \"interGrpId\" attributes shall be provided.\nNOTE 2:\tThe \"clkQltDetLvl\" attribute and the \"clkQltAcptCri\" attribute (if applicable) within \"asTimeDisParam\" attribute may be provided only if the \"NetTimeSyncStatus\" feature is supported.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.3.6.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.6.2.3",
      "section_id": "6.3.6.2.3",
      "section_title": "Type: AfAsTimeDistributionParam",
      "content": "Table 6.3.6.2.3-1: Definition of type AfAsTimeDistributionParam\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nasTimeDisEnabled\nboolean\nO\n0..1\nWhen this attribute is included and set to true, it indicates that the access stratum time distribution via Uu reference point is activated.\nWhen present it shall be set as follows:\n- true: activated.\n- false (default): deactivated.\ntimeSyncErrBdgt\nUinteger\nO\n0..1\nIndicates the time synchronization error budget in terms of time units of nanoseconds.\ntempValidity\nTemporalValidity\nO\n0..1\nIndicates the time interval during which the AF request is to be applied.\nclkQltDetLvl\nClockQualityDetailLevel\nO\n0..1\nFor ASTI services, its value, if provided, shall be set to \"ACCEPT_INDICATION\"\nNetTimeSyncStatus\nclkQltAcptCri\nClockQualityAcceptanceCriterion\nC\n0..1\nIt indicates the acceptable clock quality acceptance criteria for the UE, and it is used to determine whether the time synchronization status for the ASTI service is acceptable/not acceptable. It shall be present when the \"clkQltDetLvl\" attribute is present.\nNetTimeSyncStatus",
      "chunk_type": "general",
      "cross_references": [
        "table_6.3.6.2.3-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.6.2.4",
      "section_id": "6.3.6.2.4",
      "section_title": "Type: StatusRequestData",
      "content": "Table 6.3.6.2.4-1: Definition of type StatusRequestData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nsupis\narray(Supi)\nC\n1..N\nSubscription Permanent Identifier(s).\ngpsis\narray(Gpsi)\nC\n1..N\nPublic User Identifier(s).\nNOTE:\tEither the \"supis\" or the \"gpsis\" attribute is included.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.3.6.2.4-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.6.2.5",
      "section_id": "6.3.6.2.5",
      "section_title": "Type: StatusResponseData",
      "content": "Table 6.3.6.2.5-1: Definition of type StatusResponseData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\ninactiveUes\narray(Supi)\nO\n1..N\nIndicate the SUPI(s) whose status of the access stratum time distribution is inactive.\n(NOTE)\ninactiveGpsis\narray(Gpsi)\nO\n1..N\nIndicate the GPSI(s) whose status of the access stratum time distribution is inactive.\n(NOTE)\nactiveUes\narray(ActiveUe)\nO\n1..N\nContains the UE identifier(s) whose status of the access stratum time distribution is active and the optional requested time synchronization error budget.\nNOTE:\tEither the \"inactiveUes\" or the \"inactiveGpsis\" attribute is included, based on whether the request contained an internal or an external identifier.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.3.6.2.5-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.6.2.6",
      "section_id": "6.3.6.2.6",
      "section_title": "Type: ActiveUe",
      "content": "Table 6.3.6.2.6-1: Definition of type ActiveUe\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nsupi\nSupi\nC\n0..1\nIndicate the SUPI whose status of the access stratum time distribution is active.\n(NOTE)\ngpsi\nGpsi\nC\n0..1\nIndicate the GPSI whose status of the access stratum time distribution is active.\n(NOTE)\ntimeSyncErrBdgt\nUinteger\nO\n0..1\nIndicates the time synchronization error budget in terms of time units of nanoseconds.\nNOTE:\tEither the \"supi\" or the \"gpsi\" attribute is included, based on whether the request contained an internal or an external identifier.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.3.6.2.6-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.6.2.7",
      "section_id": "6.3.6.2.7",
      "section_title": "Type AstiConfigNotification",
      "content": "Table 6.3.6.2.7-1: Definition of type AstiConfigNotification\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nastiNotifId\nstring\nM\n1\nIt is used to set the value of Notification Correlation ID in the corresponding notification.\nstateConfigs\narray(AstiConfigStateNotification)\nM\n1..N\nContains change of state of 5G access stratum time distribution configuration.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.3.6.2.7-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.6.2.8",
      "section_id": "6.3.6.2.8",
      "section_title": "Type AstiConfigStateNotification",
      "content": "Table 6.3.6.2.8-1: Definition of type AstiConfigStateNotification\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nsupi\nSupi\nC\n0..1\nIdentifies the UE to which the status below apply.\n(NOTE)\ngpsi\nGpsi\nC\n0..1\nIdentifies the UE to which the status below apply.\n(NOTE)\nevent\nAstiEvent\nM\n1\nIndicates the reported event.\nNOTE:\tOnly one of the properties \"supi\" or \"gpsi\" shall be included.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.3.6.2.8-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.6.3.1",
      "section_id": "6.3.6.3.1",
      "section_title": "Introduction",
      "content": "This clause defines simple data types and enumerations that can be referenced from data structures defined in the previous clauses.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.3.6.3.2",
      "section_id": "6.3.6.3.2",
      "section_title": "Simple data types",
      "content": "The simple data types defined in table 6.3.6.3.2-1 shall be supported.\nTable 6.3.6.3.2-1: Simple data types\nType Name\nType Definition\nDescription\nApplicability",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.3.6.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.6.3.3",
      "section_id": "6.3.6.3.3",
      "section_title": "Enumeration: AstiEvent",
      "content": "The enumeration AstiEvent represents event for ASTI service. It shall comply with the provisions defined in table 6.3.6.3.3-1.\nTable 6.3.6.3.3-1: Enumeration AstiEvent\nEnumeration value\nDescription\nApplicability\nASTI_ENABLED\nIndicates that the access stratum time distribution via Uu reference point is activated.\nASTI_DISABLED\nIndicates that the access stratum time distribution via Uu reference point is deactivated.\nCLOCK_QUAL_ACCEPTABLE\nIndicates the UE meets the clock quality acceptance criteria.\nNetTimeSyncStatus\nCLOCK_QUAL_NON_ACCEPTABLE\nIndicates the UE does not meet the clock quality acceptance criteria\nNetTimeSyncStatus",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.3.6.3.3-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.7.1",
      "section_id": "6.3.7.1",
      "section_title": "General",
      "content": "HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS 29.500 [5].\nFor the Ntsctsf_ASTI API, HTTP error responses shall be supported as specified in clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors and application errors specified in table 5.2.7.2-1 of 3GPP TS 29.500 [4] shall be supported for an HTTP method if the corresponding HTTP status codes are specified as mandatory for that HTTP method in table 5.2.7.1-1 of 3GPP TS 29.500 [4].\nIn addition, the requirements in the following clauses are applicable for the Ntsctsf_ASTI API.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5.2.4",
        "ts_29.501_clause_4.8",
        "ts_29.500_table_5.2.7.2-1",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500",
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.7.2",
      "section_id": "6.3.7.2",
      "section_title": "Protocol Errors",
      "content": "No specific procedures for the Ntsctsf_ASTI service are specified.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.565_6.3.7.3",
      "section_id": "6.3.7.3",
      "section_title": "Application Errors",
      "content": "The application errors defined for the Ntsctsf_ASTI service are listed in Table 6.3.7.3-1.\nTable 6.3.7.3-1: Application errors\nApplication Error\nHTTP status code\nDescription\nApplicability\nUE_SERVICE_NOT_AUTHORIZED\n403 Forbidden\nThe AF request is not authorized, or the AF requested parameter(s) are not authorized by UE's Time Synchronization Data in UDM\nSupportReport",
      "chunk_type": "general",
      "cross_references": [
        "table_6.3.7.3-1"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.8",
      "section_id": "6.3.8",
      "section_title": "Feature negotiation",
      "content": "The optional features in table 6.3.8-1 are defined for the Ntsctsf_ASTI API. They shall be negotiated using the extensibility mechanism defined in clause 6.6 of 3GPP TS 29.500 [4].\nTable 6.3.8-1: Supported Features\nFeature number\nFeature Name\nDescription\n1\nCoverageAreaSupport\nIndicates the support of time synchronization coverage area conditions for the activation/deactivation of the time synchronization service.\nIt requires the support of ASTIConfigReport feature.\n2\nASTIConfigReport\nIndicates the support of the report of ASTI service status information and/or ASTI configuration changes.\n3\nNetTimeSyncStatus\nIndicates the support of the provisioning of clock quality reporting control information and the subscription to ASTI time synchronization service status.\nIt requires the support of ASTIConfigReport feature.\n4\nSupportReport\nThis feature indicates the support of the report of whether the requested Time Synchronization is authorized for the requested UE's based on the UE's Time Synchronization Subscription Data in UDM.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.6",
        "table_6.3.8-1",
        "ts_29.500_table_6.3.8-1",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.565_6.3.9",
      "section_id": "6.3.9",
      "section_title": "Security",
      "content": "As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the Ntsctsf_ASTI API may be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [9]), based on local configuration, using the \"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [10]) plays the role of the authorization server.\nIf OAuth2 is used, an NF Service Consumer, prior to consuming services offered by the Ntsctsf_ASTI API, shall obtain a \"token\" from the authorization server, by invoking the Access Token Request service, as described in 3GPP TS 29.510 [10], clause 5.4.2.2.\nNOTE:\tWhen multiple NRFs are deployed in a network, the NRF used as authorization server is the same NRF that the NF Service Consumer used for discovering the Ntsctsf_ASTI service.\nThe Ntsctsf_ASTI API defines a single scope \"ntsctsf-asti\" for the entire service, and it does not define any additional scopes at resource or operation level.\nAnnex A (normative):OpenAPI specification\nA.1\tGeneral\nThis Annex specifies the formal definition of the API(s) defined in the present specification. It consists of OpenAPI  specifications in YAML format.\nThis Annex takes precedence when being discrepant to other parts of the specification with respect to the encoding of information elements and methods within the API(s).\nNOTE 1:\tThe semantics and procedures, as well as conditions, e.g. for the applicability and allowed combinations of attributes or values, not expressed in the OpenAPI definitions but defined in other parts of the specification also apply.\nInformative copies of the OpenAPI specification files contained in this 3GPP Technical Specification are available on a Git-based repository that uses the GitLab software version control system (see 3GPP TS 29.501 [5] clause 5.3.1 and 3GPP TR 21.900 [7] clause 5B).\nA.2\tNtsctsf_TimeSynchronization API\nopenapi: 3.0.0\ninfo:\ntitle: Ntsctsf_TimeSynchronization Service API\nversion: 1.1.2\ndescription: |\nTSCTSF Time Synchronization Service.\n© 2024, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\nAll rights reserved.\nexternalDocs:\ndescription: >\n3GPP TS 29.565 V18.8.0; 5G System; Time Sensitive Communication and Time Synchronization Function\nServices; Stage 3.\nurl: 'https://www.3gpp.org/ftp/Specs/archive/29_series/29.565/'\nservers:\n- url: '{apiRoot}/ntsctsf-time-sync/v1'\nvariables:\napiRoot:\ndefault: https://example.com\ndescription: apiRoot as defined in clause 4.4 of 3GPP TS 29.501\nsecurity:\n- {}\n- oAuth2ClientCredentials:\n- ntsctsf-time-sync\npaths:\n/subscriptions:\npost:\nsummary: Creates a new subscription to notification of capability of time synchronization service resource\noperationId: TimeSynchronizationExposureSubscriptions\ntags:\n- Time Synchronization Exposure Subscriptions (Collection)\nrequestBody:\ndescription: Contains the information for the creation the resource.\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TimeSyncExposureSubsc'\nresponses:\n'201':\ndescription: Successful creation of the resource.\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TimeSyncExposureSubsc'\nheaders:\nLocation:\ndescription: >\nContains the URI of the created individual time synchronization exposure\nsubscription resource, according to the structure\n{apiRoot}/ntsctsf-time-sync/<apiVersion>/subscriptions/{subscriptionId}\nrequired: true\nschema:\ntype: string\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ncallbacks:\nsubsEventNotification:\n'{$request.body#/subsNotifUri':\npost:\nrequestBody:\ndescription: Notification of an event occurrence in the TSCTSF.\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TimeSyncExposureSubsNotif'\nresponses:\n'204':\ndescription: The receipt of the notification is acknowledged.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n/subscriptions/{subscriptionId}:\nget:\nsummary: \"Reads an existing Individual Time Synchronization Exposure Subscription\"\noperationId: GetIndividualTimeSynchronizationExposureSubscription\ntags:\n- Individual Time Synchronization Exposure Subscription (Document)\nparameters:\n- name: subscriptionId\ndescription: String identifying an Individual Time Synchronization Exposure Subscription\nin: path\nrequired: true\nschema:\ntype: string\nresponses:\n'200':\ndescription: A representation of the resource is returned.\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TimeSyncExposureSubsc'\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'406':\n$ref: 'TS29571_CommonData.yaml#/components/responses/406'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\nput:\noperationId: ReplaceIndividualTimeSynchronizationExposureSubscription\nsummary: Replace an individual Time Synchronization Exposure Subscription\ntags:\n- IndividualTimeSynchronizationExposureSubscription (Document)\nrequestBody:\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TimeSyncExposureSubsc'\nparameters:\n- name: subscriptionId\ndescription: String identifying an Individual Time Synchronization Exposure Subscription.\nin: path\nrequired: true\nschema:\ntype: string\nresponses:\n'200':\ndescription: OK. Resource was successfully modified and representation is returned.\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TimeSyncExposureSubsc'\n'204':\ndescription: No Content. Resource was successfully modified.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ndelete:\noperationId: DeleteIndividualTimeSynchronizationExposureSubscription\nsummary: Delete an Individual TimeSynchronization Exposure Subscription\ntags:\n- Individual Time Synchronization Exposure Subscription (Document)\nparameters:\n- name: subscriptionId\nin: path\ndescription: String identifying an Individual Time Synchronization Exposure Subscription.\nrequired: true\nschema:\ntype: string\nresponses:\n'204':\ndescription: No Content. Resource was successfully deleted.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n/subscriptions/{subscriptionId}/configurations:\npost:\nsummary: \"Create a new Individual Time Synchronization Exposure Configuration\"\noperationId: CreateIndividualTimeSynchronizationExposureConfiguration\ntags:\n- Individual Time Synchronization Exposure Configuration (Document)\nparameters:\n- name: subscriptionId\ndescription: String identifying an Individual Time Synchronization Exposure Subscription.\nin: path\nrequired: true\nschema:\ntype: string\nrequestBody:\ndescription: Contains the information for the creation the resource.\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TimeSyncExposureConfig'\nresponses:\n'201':\ndescription: Successful creation of the resource.\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TimeSyncExposureConfig'\nheaders:\nLocation:\ndescription: >\nContains the URI of the created individual time synchronization exposure\nconfiguration resource, according to the structure\n{apiRoot}/ntsctsf-time-sync/<apiVersion>/subscriptions/{subscriptionId}\n/configurations/{configurationId}\nrequired: true\nschema:\ntype: string\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ncallbacks:\nconfigEventNotification:\n'{$request.body#/configNotifUri':\npost:\nrequestBody:\ndescription: Notification of an event occurrence in the TSCTSF.\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TimeSyncExposureConfigNotif'\nresponses:\n'204':\ndescription: The receipt of the notification is acknowledged.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n/subscriptions/{subscriptionId}/configurations/{configurationId}:\nget:\nsummary: \"Reads an existing Individual Time Synchronization Exposure Configuration\"\noperationId: GetIndividualTimeSynchronizationExposureConfiguration\ntags:\n- Individual Time Synchronization Exposure Configuration (Document)\nparameters:\n- name: subscriptionId\ndescription: String identifying an Individual Time Synchronization Exposure Subscription.\nin: path\nrequired: true\nschema:\ntype: string\n- name: configurationId\ndescription: String identifying an Individual Time Synchronization Exposure Configuration.\nin: path\nrequired: true\nschema:\ntype: string\nresponses:\n'200':\ndescription: A representation of the resource is returned.\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TimeSyncExposureConfig'\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'406':\n$ref: 'TS29571_CommonData.yaml#/components/responses/406'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\nput:\noperationId: ReplaceIndividualTimeSynchronizationExposureConfiguration\nsummary: Replace an individual Time Synchronization Exposure Configuration\ntags:\n- IndividualTimeSynchronizationExposureConfiguration (Document)\nrequestBody:\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TimeSyncExposureConfig'\nparameters:\n- name: subscriptionId\ndescription: String identifying an Individual Time Synchronization Exposure Subscription.\nin: path\nrequired: true\nschema:\ntype: string\n- name: configurationId\ndescription: String identifying an Individual Time Synchronization Exposure Configuration.\nin: path\nrequired: true\nschema:\ntype: string\nresponses:\n'200':\ndescription: OK. Resource was successfully modified and representation is returned.\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TimeSyncExposureConfig'\n'204':\ndescription: No Content. Resource was successfully modified.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ndelete:\noperationId: DeleteIndividualTimeSynchronizationExposureConfiguration\nsummary: Delete an Individual TimeSynchronization Exposure Configuration\ntags:\n- Individual Time Synchronization Exposure Configuration (Document)\nparameters:\n- name: subscriptionId\nin: path\ndescription: String identifying an Individual Time Synchronization Exposure Subscription.\nrequired: true\nschema:\ntype: string\n- name: configurationId\ndescription: String identifying an Individual Time Synchronization Exposure Configuration.\nin: path\nrequired: true\nschema:\ntype: string\nresponses:\n'204':\ndescription: No Content. Resource was successfully deleted\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ncomponents:\nsecuritySchemes:\noAuth2ClientCredentials:\ntype: oauth2\nflows:\nclientCredentials:\ntokenUrl: '{nrfApiRoot}/oauth2/token'\nscopes:\nntsctsf-time-sync: Access to the Ntsctsf_TimeSynchronization API\nschemas:\nTimeSyncExposureSubsc:\ndescription: >\nContains the parameters for the subscription to notification of capability of time\nsynchronization service.\ntype: object\nproperties:\nsupis:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\nminItems: 1\ngpsis:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nminItems: 1\ninterGrpId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/GroupId'\nexterGrpId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ExternalGroupId'\nanyUeInd:\ntype: boolean\ndescription: >\nIdentifies whether the request applies to any UE. This attribute shall set to true if\napplicable for any UE, otherwise, set to false.\nnotifMethod:\n$ref: 'TS29508_Nsmf_EventExposure.yaml#/components/schemas/NotificationMethod'\ndnn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nsnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nsubscribedEvents:\ntype: array\nitems:\n$ref: 'TS29522_TimeSyncExposure.yaml#/components/schemas/SubscribedEvent'\nminItems: 1\neventFilters:\ntype: array\nitems:\n$ref: 'TS29522_TimeSyncExposure.yaml#/components/schemas/EventFilter'\nminItems: 1\nsubsNotifUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nsubsNotifId:\ntype: string\ndescription: Notification Correlation ID assigned by the NF service consumer.\nmaxReportNbr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'\nexpiry:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nrepPeriod:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\nsuppFeat:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nrequired:\n- subsNotifUri\n- subsNotifId\n- dnn\n- snssai\n- subscribedEvents\noneOf:\n- required: [supis]\n- required: [interGrpId]\n- required: [gpsis]\n- required: [exterGrpId]\n- required: [anyUeInd]\nTimeSyncExposureSubsNotif:\ndescription: Contains the notification of time synchronization service.\ntype: object\nproperties:\nsubsNotifId:\ntype: string\ndescription: Notification Correlation ID assigned by the NF service consumer.\neventNotifs:\ntype: array\nitems:\n$ref: '#/components/schemas/SubsEventNotification'\nminItems: 1\nSubsEventNotification:\ndescription: >\nContains the notification of capability of time synchronization for a list of UEs.\ntype: object\nproperties:\nevent:\n$ref: 'TS29522_TimeSyncExposure.yaml#/components/schemas/SubscribedEvent'\ntimeSyncCapas:\ntype: array\nitems:\n$ref: '#/components/schemas/TimeSyncCapability'\nminItems: 1\nrequired:\n- event\nTimeSyncCapability:\ndescription: Contains the capability of time synchronization service.\ntype: object\nproperties:\nupNodeId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uint64'\ngmCapables:\ntype: array\nitems:\n$ref: 'TS29522_TimeSyncExposure.yaml#/components/schemas/GmCapable'\nminItems: 1\nasTimeRes:\n$ref: 'TS29522_TimeSyncExposure.yaml#/components/schemas/AsTimeResource'\nptpCapForUes:\ntype: object\nadditionalProperties:\n$ref: '#/components/schemas/PtpCapabilitiesPerUe'\nminProperties: 1\ndescription: >\nContains the PTP capabilities supported by each of the SUPI(s). The key of the map is the\nSUPI.\nptpCapForGpsis:\ntype: object\nadditionalProperties:\n$ref: '#/components/schemas/PtpCapabilitiesPerUe'\nminProperties: 1\ndescription: >\nContains the PTP capabilities supported by each of the GPSI(s). The key of the map is\nthe GPSI.\nrequired:\n- upNodeId\nanyOf:\n- required: [gmCapables]\n- required: [asTimeRes]\nPtpCapabilitiesPerUe:\ndescription: Contains the supported PTP capabilities per UE.\ntype: object\nproperties:\nsupi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nptpCaps:\ntype: array\nitems:\n$ref: 'TS29522_TimeSyncExposure.yaml#/components/schemas/ReportedCapability'\nminItems: 1\nrequired:\n- ptpCaps\noneOf:\n- required: [supi]\n- required: [gpsi]\nTimeSyncExposureConfigNotif:\ndescription: Contains the notification of time synchronization service state.\ntype: object\nproperties:\nconfigNotifId:\ntype: string\ndescription: Notification Correlation ID assigned by the NF service consumer.\nstateOfConfig:\n$ref: '#/components/schemas/StateOfConfiguration'\nrequired:\n- configNotifId\n- stateOfConfig\nStateOfConfiguration:\ndescription: >\nContains the state of the time synchronization configuration and the clock quality\nacceptance criteria result.\ntype: object\nproperties:\nstateNwtt:\ntype: boolean\ndescription: >\nWhen any of the PTP port state(s)in NW-TT is Leader, Follower or Passive, it is\nincluded and set to trueto indicate the current state of the time synchronization\nconfiguration for the NW-TT port(s) of the PTP instance is active; when\nPTP port state isin any other case, it is included and set to false to indicate\nthe state ofconfiguration for the NW-TT port(s) of the PTP instance\nis inactive. Default value is false.\nclkQltIndOfNwtt:\n$ref: 'TS29522_TimeSyncExposure.yaml#/components/schemas/AcceptanceCriteriaResultIndication'\nstateOfDstts:\ndescription: >\nContains the PTP port states and the clock quality acceptance criteria result of the\nDS-TT(s).\ntype: array\nitems:\n$ref: '#/components/schemas/StateOfDstt'\nminItems: 1\nStateOfDstt:\ndescription: Contains the PTP port state of a DS-TT.\ntype: object\nproperties:\nsupi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nstate:\ntype: boolean\ndescription: >\nWhen the PTP port state is Leader, Follower or Passive, it is included and set to true\nto indicate the state of configuration for DS-TT port is active; when PTP port state is\nin any other case, it is included and set to false to indicate the state of\nconfiguration for DS-TT port is inactive. Default value is false.\nclkQltIndOfDstt:\n$ref: 'TS29522_TimeSyncExposure.yaml#/components/schemas/AcceptanceCriteriaResultIndication'\nrequired:\n- state\noneOf:\n- required: [supi]\n- required: [gpsi]\nTimeSyncExposureConfig:\ndescription: Contains the Time Synchronization Configuration parameters.\ntype: object\nproperties:\nupNodeId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uint64'\nreqPtpIns:\n$ref: '#/components/schemas/PtpInstance'\ngmEnable:\ntype: boolean\ndescription: >\nIndicates that the AF requests 5GS to act as a grandmaster for PTP or gPTP if it is\nincluded and set to true.\ngmPrio:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'\ntimeDom:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'\ntimeSyncErrBdgt:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'\nconfigNotifId:\ntype: string\ndescription: Notification Correlation ID assigned by the NF service consumer.\nconfigNotifUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\ntempValidity:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/TemporalValidity'\ncovReq:\ntype: array\ndescription: >\nIdentifies a list of Tracking Areas per serving network where time\nsynchronization service configuration is allowed.\nitems:\n$ref: 'TS29534_Npcf_AMPolicyAuthorization.yaml#/components/schemas/ServiceAreaCoverageInfo'\nminItems: 1\nclkQltDetLvl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ClockQualityDetailLevel'\nclkQltAcptCri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ClockQualityAcceptanceCriterion'\nrequired:\n- upNodeId\n- reqPtpIns\n- timeDom\n- configNotifId\n- configNotifUri\nPtpInstance:\ndescription: Contains PTP instance configuration and activation requested by the AF.\ntype: object\nproperties:\ninstanceType:\n$ref: 'TS29522_TimeSyncExposure.yaml#/components/schemas/InstanceType'\nprotocol:\n$ref: 'TS29522_TimeSyncExposure.yaml#/components/schemas/Protocol'\nptpProfile:\ntype: string\nportConfigs:\ntype: array\nitems:\n$ref: '#/components/schemas/ConfigForPort'\nminItems: 1\nrequired:\n- instanceType\n- protocol\n- ptpProfile\nConfigForPort:\ndescription: Contains configuration for each port.\ntype: object\nproperties:\nsupi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nn6Ind:\ntype: boolean\nenum:\n- true\nptpEnable:\ntype: boolean\nlogSyncInter:\ntype: integer\nlogSyncInterInd:\ntype: boolean\nlogAnnouInter:\ntype: integer\nlogAnnouInterInd:\ntype: boolean\noneOf:\n- required: [supi]\n- required: [gpsi]\n- required: [n6Ind]\nA.3\tNtsctsf_QoSandTSCAssistance API\nopenapi: 3.0.0\ninfo:\ntitle: Ntsctsf_QoSandTSCAssistance Service API\nversion: 1.1.0\ndescription: |\nTSCTSF QoS and TSC Assistance Service.\n© 2024, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\nAll rights reserved.\nexternalDocs:\ndescription: >\n3GPP TS 29.565 V18.6.0; 5G System; Time Sensitive Communication and Time Synchronization function\nServices; Stage 3.\nurl: 'https://www.3gpp.org/ftp/Specs/archive/29_series/29.565/'\nservers:\n- url: '{apiRoot}/ntsctsf-qos-tscai/v1'\nvariables:\napiRoot:\ndefault: https://example.com\ndescription: apiRoot as defined in clause 4.4 of 3GPP TS 29.501\nsecurity:\n- {}\n- oAuth2ClientCredentials:\n- ntsctsf-qos-tscai\npaths:\n/tsc-app-sessions:\npost:\nsummary: Creates a new Individual TSC Application Session Context resource\noperationId: PostTSCAppSessions\ntags:\n- TSC Application Sessions (Collection)\nrequestBody:\ndescription: Contains the information for the creation the resource.\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TscAppSessionContextData'\nresponses:\n'201':\ndescription: Successful creation of the resource.\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TscAppSessionContextData'\nheaders:\nLocation:\ndescription: >\nContains the URI of the created individual TSC application session context resource,\naccording to the structure\n{apiRoot}/ntsctsf-qos-tscai/<apiVersion>/tsc-app-sessions/{appSessionId} or the\nURI of the created events subscription sub-resource, according to the structure\n{apiRoot}/ntsctsf-qos-tscai/<apiVersion>/tsc-app-sessions/{appSessionId}/\nevents-subscription}\nrequired: true\nschema:\ntype: string\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\ndescription: Forbidden\ncontent:\napplication/problem+json:\nschema:\n$ref: '#/components/schemas/ProblemDetailsTsctsfQosTscac'\nheaders:\nRetry-After:\ndescription: >\nIndicates the time the AF has to wait before making a new request. It can be a\nnon-negative integer (decimal number) indicating the number of seconds the AF\nhas to wait before making a new request or an HTTP-date after which the AF can\nretry a new request.\nschema:\ntype: string\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ncallbacks:\nterminationRequest:\n'{$request.body#/notifUri}/terminate':\npost:\nrequestBody:\ndescription: >\nRequest of the termination of the Individual TSC Application Session Context\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/TerminationInfo'\nresponses:\n'204':\ndescription: The receipt of the notification is acknowledged.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\neventNotification:\n'{$request.body#/evSubsc/notifUri}/notify':\npost:\nrequestBody:\ndescription: Notification of an event occurrence in the TSCTSF.\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/EventsNotification'\nresponses:\n'204':\ndescription: The receipt of the notification is acknowledged.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n/tsc-app-sessions/{appSessionId}:\nget:\nsummary: Reads an existing Individual TSC Application Session Context\noperationId: GetTSCAppSession\ntags:\n- Individual TSC Application Session Context (Document)\nparameters:\n- name: appSessionId\ndescription: String identifying the resource.\nin: path\nrequired: true\nschema:\ntype: string\nresponses:\n'200':\ndescription: A representation of the resource is returned.\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TscAppSessionContextData'\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'406':\n$ref: 'TS29571_CommonData.yaml#/components/responses/406'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\npatch:\nsummary: Modifies an existing Individual TSC Application Session Context\noperationId: ModAppSession\ntags:\n- Individual TSC Application Session Context (Document)\nparameters:\n- name: appSessionId\ndescription: String identifying the resource.\nin: path\nrequired: true\nschema:\ntype: string\nrequestBody:\ndescription: Modification of the resource.\nrequired: true\ncontent:\napplication/merge-patch+json:\nschema:\n$ref: '#/components/schemas/TscAppSessionContextUpdateData'\nresponses:\n'200':\ndescription: >\nsuccessful modification of the resource and a representation of that resource is\nreturned.\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TscAppSessionContextData'\n'204':\ndescription: The successful modification.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\ndescription: Forbidden\ncontent:\napplication/problem+json:\nschema:\n$ref: '#/components/schemas/ProblemDetailsTsctsfQosTscac'\nheaders:\nRetry-After:\ndescription: >\nIndicates the time the AF has to wait before making a new request. It can be a\nnon-negative integer (decimal number) indicating the number of seconds the AF\nhas to wait before making a new request or an HTTP-date after which the AF can\nretry a new request.\nschema:\ntype: string\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ncallbacks:\neventNotification:\n'{$request.body#/evSubsc/notifUri}/notify':\npost:\nrequestBody:\ndescription: Notification of an event occurrence in the TSCTSF.\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/EventsNotification'\nresponses:\n'204':\ndescription: The receipt of the notification is acknowledged.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n/tsc-app-sessions/{appSessionId}/delete:\npost:\nsummary: Deletes an existing Individual TSC Application Session Context\noperationId: DeleteTSCAppSession\ntags:\n- Individual TSC Application Session Context (Document)\nparameters:\n- name: appSessionId\ndescription: String identifying the Individual TSC Application Session Context resource.\nin: path\nrequired: true\nschema:\ntype: string\nrequestBody:\ndescription: >\nDeletion of the Individual TSC Application Session Context resource, request notification.\nrequired: false\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/EventsSubscReqData'\nresponses:\n'200':\ndescription: The deletion of the resource is confirmed and a resource is returned\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/EventsNotification'\n'204':\ndescription: The deletion is confirmed without returning additional data.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n/tsc-app-sessions/{appSessionId}/events-subscription:\nput:\nsummary: Creates or modifies an Events Subscription subresource\noperationId: putEventsSubsc\ntags:\n- Events Subscription (Document)\nparameters:\n- name: appSessionId\ndescription: String identifying the Events Subscription resource\nin: path\nrequired: true\nschema:\ntype: string\nrequestBody:\ndescription: Creation or modification of an Events Subscription resource.\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/EventsSubscReqData'\nresponses:\n'201':\ndescription: >\nThe creation of the Events Subscription resource is confirmed and its representation is\nreturned.\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/EventsSubscReqData'\nheaders:\nLocation:\ndescription: >\nContains the URI of the created Events Subscription resource,\naccording to the structure\n{apiRoot}/ntsctsf-qos-tscai/<apiVersion>/tsc-app-sessions/{appSessionId}/\nevents-subscription}\nrequired: true\nschema:\ntype: string\n'200':\ndescription: >\nThe modification of the Events Subscription resource is confirmed and its representation\nis returned.\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/EventsSubscReqData'\n'204':\ndescription: >\nThe modification of the Events Subscription subresource is confirmed without returning\nadditional data.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ncallbacks:\neventNotification:\n'{$request.body#/notifUri}/notify':\npost:\nrequestBody:\ndescription: >\nContains the information for the notification of an event occurrence in the TSCTSF.\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/EventsNotification'\nresponses:\n'204':\ndescription: The receipt of the notification is acknowledged.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ndelete:\nsummary: Deletes the Events Subscription subresource.\noperationId: DeleteEventsSubsc\ntags:\n- Events Subscription (Document)\nparameters:\n- name: appSessionId\ndescription: String identifying the Individual TSC Application Session Context resource\nin: path\nrequired: true\nschema:\ntype: string\nresponses:\n'204':\ndescription: >\nThe deletion of the of the Events Subscription sub-resource is confirmed without returning\nadditional data.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ncomponents:\nsecuritySchemes:\noAuth2ClientCredentials:\ntype: oauth2\nflows:\nclientCredentials:\ntokenUrl: '{nrfApiRoot}/oauth2/token'\nscopes:\nntsctsf-qos-tscai: Access to the Ntsctsf_QoSandTSCAssistance API\nschemas:\nTscAppSessionContextData:\ndescription: Represents an Individual TSC Application Session Context resource.\ntype: object\nrequired:\n- notifUri\n- afId\n- qosReference\nallOf:\n- oneOf:\n- required: [ueIpAddr]\n- required: [ueMac]\n- required: [ueId]\n- required: [externalGroupId]\n- not:\nrequired: [ethFlowInfo, enEthFlowInfo]\n- not:\nrequired: [altQosReqs, altQosReferences]\nproperties:\nueIpAddr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/IpAddr'\nipDomain:\ntype: string\ndescription: The IPv4 address domain identifier.\nueMac:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/MacAddr48'\nueId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nexternalGroupId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ExternalGroupId'\ndnn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nsnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nnotifUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nappId:\ntype: string\ndescription: Identifies the Application Identifier.\nethFlowInfo:\ntype: array\nitems:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/EthFlowDescription'\nminItems: 1\nenEthFlowInfo:\ntype: array\nitems:\n$ref: 'TS29122_CommonData.yaml#/components/schemas/EthFlowInfo'\nminItems: 1\ndescription: >\nIdentifies the Ethernet flows which require QoS. Each Ethernet flow consists of a flow\nidentifer and the corresponding UL and/or DL flows.\nflowInfo:\ntype: array\nitems:\n$ref: 'TS29122_CommonData.yaml#/components/schemas/FlowInfo'\nminItems: 1\nafId:\ntype: string\ndescription: Identifies the AF identifier.\ntscQosReq:\n$ref: 'TS29122_AsSessionWithQoS.yaml#/components/schemas/TscQosRequirement'\nqosReference:\ntype: string\ndescription: Identifies a pre-defined QoS information.\naltQosReferences:\ntype: array\nitems:\ntype: string\nminItems: 1\ndescription: Identifies an ordered list of pre-defined QoS information.\naltQosReqs:\ntype: array\nitems:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/AlternativeServiceRequirementsData'\nminItems: 1\ndescription: >\nIdentifies an ordered list of alternative service requirements that include individual\nQoS parameter sets. The lower the index of the array for a given entry, the higher the\npriority.\naspId:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/AspId'\nsponId:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/SponId'\nsponStatus:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/SponsoringStatus'\nevSubsc:\n$ref: '#/components/schemas/EventsSubscReqData'\ntempInValidity:\n$ref: '#/components/schemas/TemporalInValidity'\nsuppFeat:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nTscAppSessionContextUpdateData:\ndescription: >\nDescribes the authorization data of an Individual TSC Application Session Context created by\nthe PCF.\ntype: object\nproperties:\nnotifUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nappId:\ntype: string\ndescription: Identifies the Application Identifier.\nethFlowInfo:\ntype: array\nitems:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/EthFlowDescription'\nminItems: 1\nenEthFlowInfo:\ntype: array\nitems:\n$ref: 'TS29122_CommonData.yaml#/components/schemas/EthFlowInfo'\nminItems: 1\ndescription: >\nIdentifies the Ethernet flows which require QoS. Each Ethernet flow consists of a flow\nidentifer and the corresponding UL and/or DL flows.\nflowInfo:\ntype: array\nitems:\n$ref: 'TS29122_CommonData.yaml#/components/schemas/FlowInfo'\nminItems: 1\ntscQosReq:\n$ref: 'TS29122_AsSessionWithQoS.yaml#/components/schemas/TscQosRequirementRm'\nqosReference:\ntype: string\ndescription: Identifies a pre-defined QoS information.\naltQosReferences:\ntype: array\nitems:\ntype: string\nminItems: 1\ndescription: Identifies an ordered list of pre-defined QoS information.\naltQosReqs:\ntype: array\nitems:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/AlternativeServiceRequirementsData'\nminItems: 1\ndescription: >\nIdentifies an ordered list of alternative service requirements that include individual\nQoS parameter sets. The lower the index of the array for a given entry, the higher the\npriority.\naspId:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/AspId'\nsponId:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/SponId'\nsponStatus:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/SponsoringStatus'\nevSubsc:\n$ref: '#/components/schemas/EventsSubscReqDataRm'\ntempInValidity:\n$ref: '#/components/schemas/TemporalInValidity'\nEventsSubscReqData:\ndescription: Identifies the events the application subscribes to.\ntype: object\nrequired:\n- events\n- notifUri\n- notifCorreId\nproperties:\nevents:\ntype: array\nitems:\n$ref: '#/components/schemas/TscEvent'\nminItems: 1\nnotifUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nqosMon:\n$ref: 'TS29122_AsSessionWithQoS.yaml#/components/schemas/QosMonitoringInformation'\nusgThres:\n$ref: 'TS29122_CommonData.yaml#/components/schemas/UsageThreshold'\nnotifCorreId:\ntype: string\nEventsSubscReqDataRm:\ndescription: >\nThis data type is defined in the same way as the EventsSubscReqData data type, but with the\nOpenAPI nullable property set to true.\ntype: object\nrequired:\n- events\nproperties:\nevents:\ntype: array\nitems:\n$ref: '#/components/schemas/TscEvent'\nminItems: 1\nnotifUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nqosMon:\n$ref: 'TS29122_AsSessionWithQoS.yaml#/components/schemas/QosMonitoringInformationRm'\nusgThres:\n$ref: 'TS29122_CommonData.yaml#/components/schemas/UsageThresholdRm'\nnotifCorreId:\ntype: string\nnullable: true\nEventsNotification:\ndescription: Describes the notification of matched events.\ntype: object\nrequired:\n- notifCorreId\n- events\nproperties:\nnotifCorreId:\ntype: string\nevents:\ntype: array\nitems:\n$ref: '#/components/schemas/EventNotification'\nminItems: 1\nEventNotification:\ndescription: Describes a notification of an matched event.\ntype: object\nrequired:\n- event\nproperties:\nevent:\n$ref: '#/components/schemas/TscEvent'\nflowIds:\ntype: array\nitems:\ntype: integer\nminItems: 1\ndescription: Identifies the IP flows that were sent during event subscription.\nqosMonReports:\ntype: array\nitems:\n$ref: 'TS29122_AsSessionWithQoS.yaml#/components/schemas/QosMonitoringReport'\nminItems: 1\nusgRep:\n$ref: 'TS29122_CommonData.yaml#/components/schemas/AccumulatedUsage'\nappliedQosRef:\ntype: string\ndescription: >\nThe currently applied alternative QoS requirement referring to an alternative QoS\nreference or a requested alternative QoS parameter set. Applicable for\nevent QOS_NOT_GUARANTEED or SUCCESSFUL_RESOURCES_ALLOCATION.\naltQosNotSuppInd:\ntype: boolean\ndescription: >\nWhen present and set to true it indicates that the Alternative QoS profiles are not\nsupported by NG-RAN. Applicable for\nevent QOS_NOT_GUARANTEED or SUCCESSFUL_RESOURCES_ALLOCATION.\nbatOffsetInfo:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/BatOffsetInfo'\nAdditionalInfoTsctsfQosTscac:\ndescription: Describes additional error information specific for this API.\ntype: object\nproperties:\nacceptableServInfo:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/AcceptableServiceInfo'\nTemporalInValidity:\ndescription: >\nRepresents the temporal invalidity conditions, i.e., the time interval(s) during\nwhich the AF request is not to be applied.\ntype: object\nproperties:\nstartTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nstopTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nrequired:\n- startTime\n- stopTime\n#\n# ENUMERATIONS DATA TYPES\n#\nTscEvent:\ndescription: Represents an event to notify to the AF.\nanyOf:\n- type: string\nenum:\n- FAILED_RESOURCES_ALLOCATION\n- QOS_MONITORING\n- QOS_GUARANTEED\n- QOS_NOT_GUARANTEED\n- SUCCESSFUL_RESOURCES_ALLOCATION\n- USAGE_REPORT\n- BAT_OFFSET_INFO\n- type: string\ndescription: >\nThis string provides forward-compatibility with future extensions to the enumeration\nand is not used to encode content defined in the present version of this API.\n#\n# ALTERNATIVE DATA TYPES OR COMBINATIONS OF DATA TYPES\n#\nProblemDetailsTsctsfQosTscac:\ndescription: Extends ProblemDetails to also include the acceptable service info.\nallOf:\n- $ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\n- $ref: '#/components/schemas/AdditionalInfoTsctsfQosTscac'\nA.4\tNtsctsf_ASTI API\nopenapi: 3.0.0\ninfo:\ntitle: Ntsctsf_ASTI Service API\nversion: 1.1.0\ndescription: |\nTSCTSF  Access Stratum time distribution configuration Service.\n© 2024, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\nAll rights reserved.\nexternalDocs:\ndescription: >\n3GPP TS 29.565 V18.6.0; 5G System; Time Sensitive Communication and\nTime Synchronization Function Services; Stage 3.\nurl: 'https://www.3gpp.org/ftp/Specs/archive/29_series/29.565/'\nservers:\n- url: '{apiRoot}/ntsctsf-asti/v1'\nvariables:\napiRoot:\ndefault: https://example.com\ndescription: apiRoot as defined in clause 4.4 of 3GPP TS 29.501\nsecurity:\n- {}\n- oAuth2ClientCredentials:\n- ntsctsf-asti\npaths:\n/configurations:\npost:\nsummary: Creates a new Individual ASTI Configuration resource.\noperationId: ASTIConfiguration\ntags:\n- ASTI Configurations (Collection)\nrequestBody:\ndescription: Contains the information for the creation the resource.\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/AccessTimeDistributionData'\nresponses:\n'201':\ndescription: Successful creation of the resource.\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/AccessTimeDistributionData'\nheaders:\nLocation:\ndescription: >\nContains the URI of the created individual ASTI Configuration resource,\naccording to the structure\n{apiRoot}/ntsctsf-asti/<apiVersion>/configurations/{configId}\nrequired: true\nschema:\ntype: string\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ncallbacks:\nastiNotification:\n'{$request.body#/astiNotifUri}':\npost:\nrequestBody:\ndescription: Notification of an ASTI configuration change event.\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/AstiConfigNotification'\nresponses:\n'204':\ndescription: The receipt of the notification is acknowledged.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n/configurations/retrieve:\npost:\nsummary: Request the status of the 5G access stratum time distribution for a list of UEs.\noperationId: RequestStatusof5GAccessStratumTimeDistribution\ntags:\n- ASTI Configurations\nrequestBody:\ndescription: >\nContains the information for the status of the 5G access stratum time distribution.\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/StatusRequestData'\nresponses:\n'200':\ndescription: >\nSuccessful retrieval of the status of the 5G access stratum time distribution.\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/StatusResponseData'\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n/configurations/{configId}:\nput:\nsummary: Modifies an existing Individual ASTI Configuration resource.\noperationId: ModifyIndividualASTIConfiguration\ntags:\n- Individual ASTI Configuration (Document)\nparameters:\n- name: configId\ndescription: String identifying an Individual ASTI Configuration.\nin: path\nrequired: true\nschema:\ntype: string\nrequestBody:\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/AccessTimeDistributionData'\nresponses:\n'200':\ndescription: OK. Resource was succesfully modified and representation is returned.\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/AccessTimeDistributionData'\n'204':\ndescription: No Content. Resource was succesfully modified.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ndelete:\noperationId: DeleteIndividualASTIConfiguration\nsummary: Delete an Individual ASTI Configuration\ntags:\n- Individual ASTI Configuration (Document)\nparameters:\n- name: configId\nin: path\ndescription: String identifying an Individual ASTI Configuration.\nrequired: true\nschema:\ntype: string\nresponses:\n'204':\ndescription: No Content. Resource was successfully deleted.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ncomponents:\nsecuritySchemes:\noAuth2ClientCredentials:\ntype: oauth2\nflows:\nclientCredentials:\ntokenUrl: '{nrfApiRoot}/oauth2/token'\nscopes:\nntsctsf-asti: Access to the Ntsctsf_ASTI API\nschemas:\nAccessTimeDistributionData:\ndescription: >\nContains the parameters for the creation of 5G access stratum time distribution\nconfiguration.\ntype: object\nproperties:\nsupis:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\nminItems: 1\ngpsis:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nminItems: 1\ninterGrpId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/GroupId'\nexterGrpId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ExternalGroupId'\nasTimeDisParam:\n$ref: '#/components/schemas/AfAsTimeDistributionParam'\ncovReq:\ntype: array\ndescription: >\nIdentifies a list of Tracking Areas per serving network where 5GS\nAccess Stratum Time Distribution parameters are allowed.\nitems:\n$ref: 'TS29534_Npcf_AMPolicyAuthorization.yaml#/components/schemas/ServiceAreaCoverageInfo'\nminItems: 1\nastiNotifId:\ntype: string\ndescription: Notification Correlation ID assigned by the NF service consumer.\nastiNotifUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nsuppFeat:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nrequired:\n- asTimeDisParam\noneOf:\n- required: [supis]\n- required: [interGrpId]\n- required: [gpsis]\n- required: [exterGrpId]\nAfAsTimeDistributionParam:\ndescription: Contains the 5G access stratum time distribution parameters requested by the AF.\ntype: object\nproperties:\nasTimeDisEnabled:\ntype: boolean\ndescription: >\nWhen this attribute is included and set to true, it indicates that the access stratum\ntime distribution via Uu reference point is activated.\ntimeSyncErrBdgt:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'\ntempValidity:\n$ref: 'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/TemporalValidity'\nclkQltDetLvl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ClockQualityDetailLevel'\nclkQltAcptCri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ClockQualityAcceptanceCriterion'\nStatusRequestData:\ndescription: >\nContains the parameters for retrieval of the status of the access stratum time distribution\nfor a list of UEs.\ntype: object\nproperties:\nsupis:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\nminItems: 1\ngpsis:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nminItems: 1\noneOf:\n- required: [supis]\n- required: [gpsis]\nStatusResponseData:\ndescription: >\nContains the parameters for the status of the access stratum time distribution for a list of\nUEs.\ntype: object\nproperties:\ninactiveUes:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\nminItems: 1\ninactiveGpsis:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nminItems: 1\nactiveUes:\ntype: array\nitems:\n$ref: '#/components/schemas/ActiveUe'\nminItems: 1\nActiveUe:\ndescription: >\nContains the UE identifier whose status of the access stratum time distribution is active\nand the optional requested time synchronization error budget.\ntype: object\nproperties:\nsupi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\ntimeSyncErrBdgt:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'\noneOf:\n- required: [supi]\n- required: [gpsi]\nAstiConfigNotification:\ndescription: >\nContains the report of a change in the 5G Access Stratum Time Distribution\nparameters applied to the UE(s).\ntype: object\nproperties:\nastiNotifId:\ntype: string\nstateConfigs:\ntype: array\nitems:\n$ref: '#/components/schemas/AstiConfigStateNotification'\nminItems: 1\ndescription: >\nIt contains the the reported event(s) and event information.\nrequired:\n- astiNotifId\n- stateConfigs\nAstiConfigStateNotification:\ndescription: >\nContains the report of a change in the 5G Access Stratum Time Distribution\nparameters applied to a UE.\ntype: object\nproperties:\nsupi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nevent:\n$ref: '#/components/schemas/AstiEvent'\nrequired:\n- event\noneOf:\n- required: [supi]\n- required: [gpsi]\n#\n# ENUMERATIONS DATA TYPES\n#\nAstiEvent:\nanyOf:\n- type: string\nenum:\n- ASTI_ENABLED\n- ASTI_DISABLED\n- CLOCK_QUAL_ACCEPTABLE\n- CLOCK_QUAL_NON_ACCEPTABLE\n- type: string\ndescription: >\nThis string provides forward-compatibility with future extensions to the enumeration\nand is not used to encode content defined in the present version of this API.\ndescription: |\nRepresents an ASTI event to notify to the AF/NEF.\nPossible values are:\n- ASTI_ENABLED: Access stratum time distribution via Uu reference point is activated.\n- ASTI_DISABLED: Access stratum time distribution via Uu reference point is deactivated.\n- CLOCK_QUAL_ACCEPTABLE: The UE meets the clock quality acceptance criteria.\n- CLOCK_QUAL_NON_ACCEPTABLE: The UE does not meet the clock quality acceptance criteria.\nAnnex B (normative):3GPP extensions for DetNet integration with 5GS\nB.1\t3GPP extensions for DetNet integration with 5GS\nB.1.1\tIntroduction\nThe 5G System is integrated with the Deterministic Networking as defined in IETF RFC 8655[63] as a logical DetNet transit node as specified in 3GPP TS 23.501 [2], clause 4.4.8.4.\nThe support of deterministic networking is achieved by reusing the TSC framework for deterministic QoS and time synchronization services. To enable deterministic networking in 5GS, the DetNet controller collects interface information from the 5GS DetNet node via the TSCTSF using the 5GS DetNet node information reporting procedure described in clause 5.5.12.2 of 3GPP TS 23.513 [31] and provides DetNet Yang configurations for DetNet flow(s) as described in clause 5.5.12.3 of 3GPP TS 23.513 [31].\nThe TSCTSF offers to the DetNet controller RESTCONF (IETF RFC 8040 [30]) and/or NETCONF (IETF RFC 6241 [29]) interfaces and the data schema defined by the 3GPP Extended Deterministic Networking (DetNet) YANG model. The 3GPP Extended DetNet YANG model is based on the DetNet YANG model specified in IETF RFC 9633 [28] and extended by 3GPP Extensions described in table B.1.1-1.\nThe 3GPP Extended DetNet YANG Model offered by the TSCTSF is accessed by the DetNet controller as shown in figure B.1.1-1\nFigure B.1.1-1: Representation of the access to 3GPP Extended DetNet YANG Model.\nTable B.1.1-1 summarizes the 3GPP extensions to the DetNet YANG model defined in this specification.\nTable B.1.1-1: 3GPP Extensions Descriptions\n3GPP Extension\nClause\nDescription\nYANG File\nModule Name\nAnnex\n_3gpp-5gs-detnet-node\nB.1.2\nEnables the report of 5GS DetNet node interface information and the provisioning and configuration of data for the DetNet flows.\n_3gpp-5gs-detnet-node.yang\n_3gpp-5gs-detnet-node\nC.2\nB.1.2\t3GPP Extension _3gpp-5gs-detnet-node\nB.1.2.1\tDescription\nDeterministic Networking parameter provisioning allows a DetNet controller to configure deterministic networking parameters in 5GS and provide time-sensitive features that guarantee almost zero packet loss rates and bounded latency.\nThe DetNet controller communicates with the 5GS system through the TSCTSF as specified in 3GPP TS 29.513 [31] to collect 5GS DetNet node interface information and to provide DetNet flow-related parameters to configure the DetNet traffic in 5GS.\nThe TSCTSF may receive DetNet YANG configuration for DetNet flows as described in IETF RFC 9633 [28], that describes the traffic characteristics and QoS requirements for the DetNet flows. Additionally, when both, the TSCTSF and the DetNet controller support the 3GPP Extension _3gpp-5gs-detnet-node, the configuration of the DetNet traffic in 5GS also enable that:\n-\tThe DetNet controller may provide the maximum latency and/or maximum loss requirements the 5GS system needs to apply, as specified in clause B.1.2.2.\n-\tThe TSCTSF may provide to the DetNet controller 5GS specific status code information on the status of the configuration requested by the DetNet controller for the DetNet flow(s), as specified in clause B.1.2.3.\nTo enable the DetNet controller builds up network topology information, the 5GS DetNet node exposes interface information to the DetNet controller through the TSCTSF. When both, the TSCTSF and the DetNet controller support the 3GPP Extension _3gpp-5gs-detnet-node, the TSCTSF may provide to the DetNet controller 5GS DetNet node identification as specified in clause B.1.2.4.\nB.1.2.2\tProvisioning of 5GS specific traffic characteristics and requirements\nWhen both, the DetNet controller and the TSCTSF support the 3GPP Extension _3gpp-5gs-detnet-node, the DetNet controller may provide the following 5GS specific traffic characteristics and requirements within the \"_3gpp-5gs-node-requirements\" YANG container:\n-\tthe maximum latency from 5GS node ingress to 5GS node egress(es) of a DetNet flow by providing the \"_3gpp-5gs-node-max-latency\" attribute; and/or\n-\tthe maximum packet loss ratio parameter for the DetNet service between the 5G node ingress and the 5GS node egress(es) by providing the \"_3gpp-5gs-node-max-loss\" attribute; and\n-\ta reference to the DetNet flow identification within the \"forwarding-sub-layer\" attribute.\nWhen the DetNet controller does not provide the \"_3gpp-5gs-node-max-latency\" attribute and/or the \"_3gpp-5gs-node-max-loss\" attribute but instead provides the IETF RFC 9633 [28] \"max-latency\" and/or \"max-loss\" attributes for the end-to-end flow, the TSCTSF may determine the corresponding maximum latency and/or maximum packet loss values based on a preconfigured mapping and applicable to the 5GS specific deployment.\nNOTE:\tIf the DetNet controller does not include the 5GS specific \"_3gpp-5gs-node-max-latency\" nor the end-to-end \"max-latency\", the TSCTSF can derive the Requested 5GS Delay or, alternatively, the PCF can derive the PDB. Similarly, if the DetNet YANG configuration does not include the 5GS specific \"_3gpp-5gs-node-max-loss\" nor the end-to-end \"max-loss\", the TSCTSF can derive the Requested Packet Error Rate or, alternatively, the PCF can derive the PER.\nB.1.2.3\tReport of 5GS DetNet flow(s) status\nThe DetNet controller may be informed about the following 5GS specific events about status change of the configured DetNet flows:\n-\tNotification about DetNet flow(s) deactivation in 5GS node. To notify the DetNet controller about DetNet flow deactivation in 5GS, the TSCTSF shall subscribe with the PCF to service data flow deactivation as specified in 3GPP TS 29.514 [20].\n-\tNotification about resource allocation outcome in 5GS node. The TSCTSF shall subscribe with the PCF to notifications about the unsuccessful and/or successful resource allocation outcome as specified in 3GPP TS 29.514 [20].\n-\tNotification about PDU session release.\nWhen the TSCTSF receives from the PCF the notification about service data flow deactivation, or the notification about unsuccessful or successful resource allocation, or the notification about PDU session release and both, the DetNet controller and the TSCTSF support the 3GPP Extension _3gpp-5gs-detnet-node, the TSCTSF may notify the DetNet controller by including the following 3GPP 5GS specific failure reason:\n-\t\"_3gpp-5gs-node-resource-allocation-failure\", to notify about the failed resource allocation in the 5G System;\n-\t\"_3gpp-5gs-node-resource-allocation-success\", to notify about the successful resource allocation in the 5G System; or\n-\t\"_3gpp-5gs-node-pdu-session-release\", to notify about PDU session release.\nWhen the TSCTSF or the DetNet controller do not support the 3GPP Extension _3gpp-5gs-detnet-node, the TSCTSF provides an IETF RFC 9633 [28] defined failure-reason, e.g. \"resource-unavailable\".\nB.1.2.4\tExposure of 5GS DetNet Node Identification\nThe TSCTSF collects 5GS DetNet node interface information from the NW-TT/UPF using Time Synchronization procedures as described in 3GPP TS 29.513[31]. When both, the TSCTSF and the DetNet controller support the 3GPP Extension _3gpp-5gs-detnet-node, the TSCTSF may provide to the DetNet controller 5GS DetNet node identification.\nDuring PDU session establishment, i.e., when the TSCTSF receives the Npcf_PolicyAuthorization_Notify service operation defined in clause 4.2.5.16 of 3GPP TS 29.514 [20], the TSCTSF may use the received user-plane node Id to generate an identifier of the 5GS DetNet node and provide it to the DetNet controller within the \"_3gpp-5gs-node-id\" attribute.\nB.2\tYANG Module Definitions\nB.2.1\tIntroduction\nB.2.1.1\tGeneral\nAs specified in IETF RFC 7590 [33], a YANG model is defined in a YANG module and is stored in a file with file extension \".yang\". An extension to an existing YANG model is done via the definition of a new YANG module that contains the definitions of the new components.\nA YANG module typically has the following layout:\nmodule <module-name> {\n// header information\n<yang-version statement>\n<namespace statement>\n<prefix statement>\n// linkage statements\n<import statements>\n<include statements>\n// meta-information\n<organization statement>\n<contact statement>\n<description statement>\n<reference statement>\n// revision history\n<revision statements>\n// module definitions\n<other statements>\n}\nThe YANG module with the 3GPP extensions for the DetNet YANG model shall follow the YANG model layout defined in clause 7.1 of IETF RFC 7590 [33] and represented above, where the linkage and module definitions statements contain the definition of the new components that represent the 5GS specifics.\nB.2.1.2\tModule name\nmodule <module-name>\nTo differentiate from other YANG modules, 3GPP extensions to DetNet YANG model module(s) shall start with the \"_3gpp-5gs-detnet\" prefix.\nB.2.1.3\tHeader information\nB.2.1.3.1\t<yang-version statement>\nAccording to IETF RFC 7590 [33], YANG version 1.1 shall be used.\nB.2.1.3.2\t<namespace statement>\nThe namespace for a YANG module's namespace shall follow section 4.9 of IETF RFC 8407.\nThe 3GPP extensions to DetNet YANG model shall follow the following form:\nurn:3gpp:node:detnet:<module-name>\nB.2.1.3.3\t<prefix statement>\nTo ensure uniqueness of the prefix defined in the 3GPP extensions for the DetNet YANG model, the module(s) shall use prefixes ending with \"3gppdnet\". Prefixes should be short preferably not longer than 10 characters, but 13 characters at most.\nB.2.1.4\tMeta-information\nB.2.1.4.1\t<organization statement>\nThe organization statement shall contain the organization developing and maintaining the YANG file with the 3GPP extensions for the DetNet YANG model, i.e. the string \"3GPP CT3 Working Group\".\nB.2.1.4.2\t<contact statement>\nThe contact statement contains contact information for the person or persons to whom technical queries concerning this module should be sent.\nFor the 3GPP extensions to YANG DetNet model it shall include a string with the CT3 WG web link.\ncontact\n\"CT3 WG Web:  <https://www.3gpp.org/3gpp-groups/core-network-terminals-ct/ct-wg3>\";\nB.2.1.4.3\t<description statement>\nThe description statement contains human-readable textual description for the module definition.\nIn addition, the YANG module with 3GPP extensions to YANG DetNet model shall also include the copyright notice as included in the front page of the present document and a reference to the present document.\nEXAMPLE:\ndescription\n\"_3gpp-5gs-detnet-node module contains an extension of ietf-detnet YANG module with\nadditional parameters defined for interworking with 3GPP 5GS.\n© 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\nAll rights reserved.\nThis version of this YANG module is specified in:\n3GPP TS 29.565 V18.5.0; 5G System;\nTime Sensitive Communication and Time Synchronization Function Services.\nurl: http://www.3gpp.org/ftp/Specs/archive/29_series/29.565/\";\nB.2.1.4.4\t<reference statement>\nThis statement contains a human-readable cross reference to an external document that defines related information or additional information.\nWhen included, it refers e.g., to other 3GPP Technical Specifications with related information.\nEXAMPLE:\nreference\n\"Additional information to this YANG module is specified in:\n3GPP TS 23.501, System architecture for the 5G System (5GS)\n3GPP TS 23.502, Procedures for the 5G System (5GS)\n3GPP TS 23.503, Policy and charging control framework (5GS)\nurl: http://www.3gpp.org/ftp/Specs/archive/23_series/\";\nB.2.1.4.5\t<revision statement>\nThis statement contains the revision history of the module, including the initial revision. A series of revision statements detail the changes in the module’s definition. The argument is a date string in the format \"YYYY-MM-DD\" followed by a block of sub-statements with detailed revision information. A module should have at least one revision statement.\nFor the YANG module(s) with the 3GPP extensions to YANG DetNet model:\n1.\tFor a frozen release, only one revision statement shall be included and shall indicate the last revision of the module for that release version of the TS.\n2.\tA non-frozen release may contain a series of revision statements that represent the list of changes approved in that release. At the freeze of the release, only the last revision statement shall be kept.\n3.\tThe date argument of the revision statement(s) shall contain a value corresponding to the CT plenary date that approved the latest changes to the YANG module.\n4.\tTo allow the YANG module could be updated with new components in new releases or with corrections in a frozen release, a version control mechanism is enabled. The description sub-statement shall be used to contain a string with the YANG module version. Version control for the 3GPP Extensions for the DetNet YANG shall follow the version control rules for SBI APIs specified in 3GPP TS 29.501 [5], clause 4.3.\nEXAMPLE 1:\tSeries of revision published by 3GPP of the 3GPP extension YANG module before the freeze of the Rel-18, with version included.\nrevision 2023-12-dd\n// optional\n{\ndescription \"version: v1.0.0-alpha.3\"};\nrevision 2023-09-dd\n// optional\n{\ndescription \"version: v1.0.0-alpha.2\"};\nrevision 2023-06-dd\n// optional\n{\ndescription \"version: v1.0.0-alpha.1\"};\nEXAMPLE 2:\tFinal revision of the 3GPP extension of the YANG module published by 3GPP, with version included, published at the freeze of Rel-18.\nrevision 2024-06-dd\n{\ndescription \"version: v1.0.0\"};\nEXAMPLE 3:\tThe YANG module is evolved during the first plenary cycle corresponding to Rel-19.\nrevision 2024-09-dd\n{\ndescription \"version: v1.1.0-alpha.1\"};\nB.2.1.2\tFormatting rules\nThe following 3GPP specific guidelines should be used when documenting the YANG module for the 3GPP extensions to the DetNet YANG model:\n-\tThe YANG module should be considered a code component. The strings \"<CODE BEGINS>\" and \"<CODE ENDS>\" are used to identify each code component.\n-\tThe \"<CODE BEGINS>\" tag is followed by a string identifying the file name as specified in section 5.2 of IETF RFC 6020 [35].\n-\tThe YANG data nodes (leaf, leaf-list, container, list) shall be used for data modelling of the new YANG components.\n-\tThe style used for the specification of the YANG module shall be \"PL\" (Programming Language).\n-\tComments may be added by following the standard YANG 1.1 syntax (\"//\" or \"/*\" and \"*/\").\n-\tTabs shall not be used (e.g. within description fields).\n-\t\"Unbreakable\" spaces (UTF-8 'NO-BREAK SPACE' (U+00A0)) shall not be used (e.g. within description fields). Only \"normal\" spaces (UTF-8 'SPACE' (U+0020)) shall be allowed.\n-\tTrailing spaces (i.e. white spaces at the end of a line) should not be used.\nB.2.2\t_3gpp-5gs-detnet-node Module definition\nB.2.2.1\tIntroduction\nThe 3GPP extension to the IETF RFC 9633 [28] is defined in 3GPP as a YANG module which imports IETF RFC 9633 [28] and adds the 3GPP specific parameters.\nThe module name shall be set to \"_3gpp-5gs-detnet-node\".\nThe YANG version shall be set to \"1.1\".\nThe namespace for the _3gpp-5gs-detnet-node YANG module shall be set to \"urn:3gpp:node:detnet:_3gpp-5gs-detnet-node\".\nThe prefix statement for the _3gpp-5gs-detnet-node YANG module shall be set to \"_5gs3gppdnet\".\nB.2.2.2\tData Model\nB.2.2.2.1\tGeneral\nTable B.2.2.2.1-1 specifies the data types defined for the _3gpp-5gs-detnet-node Module.\nTable B.2.2.2.1-1: _3gpp-5gs-detnet-node Module specific Data Types\nData type\nClause defined\nDescription\nApplicability\n_3gpp-5gs-node-configuration-outcome\nB.2.2.2.2.3\nIt is a container that represents the additional outcome the 5GS may provide to a configuration request.\n_3gpp-5gs-node-configuration-status\nB.2.2.2.3.3\nIt is an enumeration that represents the 3GPP specific configuration status that may be reported by the 5GS node.\n_3gpp-5gs-node-identity\nB.2.2.2.2.4\nIt is a container that represents the user-plane node Id handling the traffic of the reported DetNet flows/PDU session.\n_3gpp-5gs-node-requirements\nB.2.2.2.2.2\nIt is a container that represents the maximum delay and/or the maximum loss the 5GS needs to satisfy for the traffic of the DetNet flows indicated by the forwarding sublayer.\nTable B.2.2.2.1-2 specifies data types re-used by the _3gpp-5gs-detnet-node Module from other YANG modules, including a reference to their respective specifications and when needed, a short description of their use.\nTable BA.2.2.2.1-2: _3gpp-5gs-detnet-node Module re-used Data Types\nData type\nReference\nComments\nApplicability\nforwarding-sub-layer-ref\nIETF RFC 9633 [28]\nContains a reference to the forwarding sublayer as specified in IETF RFC 9633 YANG module.\nB.2.2.2.2\tStructured data types\nB.2.2.2.2.1\tIntroduction\nThis clause defines the YANG structures to be used in _3gpp-5gs-detnet-node YANG Module.\nB.2.2.2.2.2\tType: _3gpp-5gs-node-requirements\nThe _3gpp-5gs-node-requirements type is a YANG container that defines the maximum delay and/or the maximum loss the 5GS needs to satisfy for the traffic of the DetNet flows indicated by the forwarding sublayer.\nTable B.2.2.2.2.2-1: Definition of type _3gpp-5gs-node-requirements\nAttribute name\nData type\nP\nCardinality\nDescription\nforwarding-sub-layer\nforwarding-sub-layer-ref\nM\n1\nThe forwarding-sublayer leaf contains a reference to the forwarding sub-layer that the maximum delay and/or the maximum loss applies to.\n_3gpp-5gs-node-max-latency\nuint32\nO\n0..1\nThe _3gpp-5gs-node-max-latency leaf contains the maximum latency from 5GS node ingress to 5GS node egress(es) for a single packet of the DetNet flow. It is specified as an integer number of nanoseconds.\n_3gpp-5gs-node-max-loss\nuint32\nO\n0..1\nThe _3gpp-5gs-node-max-loss leaf contains the maximum Packet Loss Ratio (PLR) parameeter for the DetNet service between the 5GS node ingress and the 5GS node egress(es).\nB.2.2.2.2.3\tType: _3gpp-5gs-node-configuration-outcome\nThe _3gpp-5gs-node-configuration-outcome type is a YANG container that defines the additional outcome the 5GS may provide to a configuration request for the DetNet flows comprised by the forwarding sublayer.\nTable B.2.2.2.2.3-1: Definition of type _3gpp-5gs-node-configuration-outcome\nAttribute name\nData type\nP\nCardinality\nDescription\nforwarding-sub-layer\nforwarding-sub-layer-ref\nM\n1\nThe forwarding-sublayer leaf contains a reference to the forwarding sub-layer that the reported configuration status applies to.\n_3gpp-5gs-node-configuration-status\n_3gpp-5gs-node-configuration-status\nO\n0..1\nThe _3gpp-5gs-node-configuration-status leaf contains 3GPP specific configuration status codes that may be reported by the 3GPP 5GS node.\nB.2.2.2.2.4\tType: _3gpp-5gs-node-identity\nThe _3gpp-5gs-node-identity type is a YANG container that defines the 5GS node identity handling the traffic of the DetNet flows comprised by the forwarding sublayer.\nTable B.2.2.2.2.3-1: Definition of type _3gpp-5gs-node-configuration-outcome\nAttribute name\nData type\nP\nCardinality\nDescription\nforwarding-sub-layer\nforwarding-sub-layer-ref\nM\n1\nThe forwarding-sublayer leaf contains a reference to the forwarding sub-layer the _3gpp-5gs-node-Id applies to.\n_3gpp-5gs-node-id\nstring\nO\n0..1\nThe _3gpp-5gs-node-id leaf contains 3GPP 5GS node identity (DetNet router identity).\nB.2.2.2.3\tSimple data types and enumerations\nB.2.2.2.3.1\tIntroduction\nThis clause defines simple data types and enumerations that can be referenced from data structures defined in the previous clauses.\nB.2.2.2.3.2\tSimple data types\nThe simple data types defined in table B.2.2.2.3.2-1 shall be supported.\nTable B.2.2.2.3.2-1: Simple data types\nType Name\nType Definition\nDescription\nApplicability\n<one simple data type >\nB.2.2.2.3.3\tEnumeration: _3gpp-5gs-node-configuration-status\nThe enumeration _3gpp-5gs-node-configuration-status represents the configuration status that may be reported by the 3GPP 5GS node. It shall comply with the provisions defined in table B.2.2.2.3.3-1.\nTable B.2.2.2.3.3-1: Enumeration _3gpp-5gs-node-configuration-status\nEnumeration value\nDescription\nApplicability\n_3gpp-5gs-node-resource-allocation-success\nSuccessful resource allocation within 5GS for the requested configuration.\n_3gpp-5gs-node-resource-allocation-failure\nFailed resource allocation within 5GS for the requested configuration.\n_3gpp-5gs-node-port-release\nPort release due to the termination of PDU session with the requested 5GS configuration.\nAnnex C (normative):YANG module specification\nC.1\tGeneral\nThe present Annex contains the YANG file for the _3gpp-5gs-detnet-node YANG module, that specifies the 3GPP extensions to support:\n-\tThe indication of the maximum loss and maximumd latency the 5GS system shall apply for the provided DetNet flows.\n-\t5GS specific status codes with information about the status of the configuration requested by the DetNet controller.\n-\tExposure of 5GS DetNet node identification.\nC.2\tYANG module _3gpp-5gs-detnet-node\n<CODE BEGINS> file \"_3gpp-5gs-detnet-node.yang\"\nmodule _3gpp-5gs-detnet-node {\nyang-version 1.1;\nnamespace \"urn:3gpp:node:detnet:_3gpp-5gs-detnet-node\";\nprefix _5gs3gppdnet;\nimport ietf-detnet {\nprefix dnet;\nreference\n\"IETF-RFC-9633\";\n}\norganization \"3GPP CT3 Working Group\";\ncontact\n\"CT3 WG Web:  <https://www.3gpp.org/3gpp-groups/core-network-terminals-ct/ct-wg3>\";\ndescription\n\"_3gpp-5gs-detnet-node module contains an extension of IETF RFC 9633 DetNet YANG module with\nadditional parameters defined for interworking with 3GPP 5GS.\n© 2024, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\nAll rights reserved.\nThis version of this YANG module is specified in:\n3GPP TS 29.565 V18.5.0; 5G System;\nTime Sensitive Communication and Time Synchronization Function Services.\nurl: https://www.3gpp.org/ftp/Specs/archive/29_series/29.565/\";\nreference\n\"Additional information to this YANG module is specified in:\n3GPP TS 23.501, System architecture for the 5G System (5GS);\nurl: https://www.3gpp.org/ftp/Specs/archive/23_series/23.501/\n3GPP TS 23.503, Policy and charging control framework (5GS)\nurl: https://www.3gpp.org/ftp/Specs/archive/23_series/23.503/\n3GPP TS 29.513, Policy and Charging Control signalling flows and QoS parameter mapping\nurl: https://www.3gpp.org/ftp/Specs/archive/29_series/29.513/\";\nrevision 2024-12-10 {\ndescription \"version: v1.0.0\";\n}\ntypedef _3gpp-5gs-node-configuration-status {\ntype enumeration {\nenum _3gpp-5gs-node-resource-allocation-success {\ndescription\n\"Successful configuration request.\nSuccessful resource allocation within 5GS for the requested configuration\";\n}\nenum _3gpp-5gs-node-resource-allocation-failure {\ndescription\n\"Unsuccessful configuration request.\nFailed resource allocation within 5GS for the requested configuration\";\n}\nenum _3gpp-5gs-node-port-release {\ndescription\n\"Port release due to the termination of PDU session with the requested\n5GS configuration\";\n}\ndescription\n\"_3gpp-5gs-node-configuration-status type identifies the 3GPP specific configuration\nstatus that may be reported by the 3GPP 5GS node.\";\n}\ncontainer _3gpp-5gs-node-requirements {\ndescription\n\"This container defines the maximum delay and/or the maximum loss the 5GS needs to satisfy\";\nleaf forwarding-sub-layer {\ntype dnet:forwarding-sub-layer-ref;\ndescription\n\"Reference to the forwarding sub-layer that the maximum delay and/or the maximum loss\napplies to\";\n}\nleaf _3gpp-5gs-node-max-latency {\ntype uint32;\nunits \"nanoseconds\";\ndescription\n\"Maximum latency from 5GS node ingress to 5GS node egress(es) for a single packet of the\nDetNet flow. It is specified as an integer number of nanoseconds\";\n}\nleaf _3gpp-5gs-node-max-loss {\ntype uint32;\ndescription\n\"Maximum Packet Loss Ration (PLR) parameter for the DetNet service between the 5GS node\ningress and 5GS node egress(es)\";\n}\n}\ncontainer _3gpp-5gs-node-configuration-outcome {\ndescription\n\"This container defines the additional outcome the 5GS may provide to a configuration\nrequest\";\nleaf forwarding-sub-layer {\ntype dnet:forwarding-sub-layer-ref;\ndescription\n\"Reference to the forwarding sub-layer the outcome to a configuration request applies to\";\n}\nleaf _3gpp-5gs-node-configuration-status {\ntype _3gpp-5gs-node-configuration-status;\ndescription \"Changes on configuration status reported by the 3GPP 5GS node\";\n}\n}\ncontainer _3gpp-5gs-node-identity {\ndescription\n\"This container defines the 5GS Node identity the 5GS provides to the DetNet controller\";\nleaf forwarding-sub-layer {\ntype dnet:forwarding-sub-layer-ref;\ndescription\n\"Reference to the forwarding sub-layer that the 5GS node Id applies to\";\n}\nleaf _3gpp-5gs-node-id {\ntype string;\ndescription\n\"5GS node identity. It is the user-plane node Id handling the traffic of the indicated\nDetNet flows\";\n}\n}\n}\n<CODE ENDS>\nAnnex D (informative):Change history\nChange history\nDate\nMeeting\nTDoc\nCR\nRev\nCat\nSubject/Comment\nNew version\n2021-08\nTS skeleton\n0.0.0\n2021-08\nCT3#117e\nC3-214576\nInclusion of documents agreed in CT3#117e:\nC3-214145, C3-214149, C3-214154, C3-214466, C3-214467, C3-214468, C3-214469, C3-214505, C3-214506, C3-214507, C3-214508, C3-214509, C3-214510\n0.1.0\n2021-10\nCT3#118e\nC3-215473\nInclusion of documents agreed in CT3#118e:\nC3-215347, C3-215348, C3-215349, C3-215350, C3-215351, C3-215352, C3-215353, C3-215354, C3-215356, C3-215357, C3-215358, C3-215470\n0.2.0\n2021-11\nCT3#119e\nC3-216517\nInclusion of documents agreed in CT3#119e:\nC3-216114, C3-216115, C3-216116, C3-216121, C3-216397, C3-216398, C3-216399, C3-216400, C3-216401, C3-216402, C3-216426, C3-216594, C3-215357, C3-216595\n0.3.0\n2021-12\nCT#94-e\nCP-213208\nPresentation for information\n1.0.0\n2022-01\nCT3#119bis-e\nC3-220449\nInclusion of documents agreed in CT3#119bis-e:\nC3-220424, C3-220165, C3-220166, C3-220167, C3-220425, C3-220423, C3-220415, C3-220359, C3-220172\n1.1.0\n2022-02\nCT3#120e\nC3-221512\nInclusion of documents agreed in CT3#120e:\nC3-221181, C3-221184, C3-221185, C3-221186, C3-221187, C3-221189, C3-221190, C3-221191, C3-221192, C3-221237, C3-221445, C3-221446, C3-221469, C3-221552, C3-221606, C3-221650\n1.2.0\n2022-04\nCT3#121e\nC3-222482\nInclusion of documents agreed in CT3#121e:\nC3-222176, C3-222177, C3-222178, C3-222179, C3-222181, C3-222182, C3-222183, C3-222295, C3-222420, C3-222424, C3-222435, C3-222489, C3-222503, C3-222507, C3-222555, C3-222556, C3-222564,\n1.3.0\n2022-05\nCT3#122e\nC3-223505\nInclusion of documents agreed in CT3#122e:\nC3-223121, C3-223122, C3-223124, C3-223126, C3-223229, C3-223230, C3-223131, C3-223132, C3-223283, C3-223286, C3-223469, C3-223471, C3-223472, C3-223490, C3-223494, C3-223495, C3-223660, C3-223661, C3-223693, C3-223739, C3-223744, C3-223749,\n1.4.0\n2022-06\nCT#96\nCP-221099\nPresentation to TSG CT for approval\n2.0.0\n2022-06\nCT#96\nCP-221099\nApproved by TSG CT\n17.0.0\n2022-09\nCT#97e\nCP-222113\n0001\n-\nF\nAdd PUT method in table 6.1.3.1-1\n17.1.0\n2022-09\nCT#97e\nCP-222113\n0002\n1\nF\nCorrection to 5G access time distribution\n17.1.0\n2022-09\nCT#97e\nCP-222114\n0003\n1\nF\nCorrection to initial provisioning of TSC related service information\n17.1.0\n2022-09\nCT#97e\nCP-222113\n0004\n-\nF\nCorrection to notification about TSC application session context event\n17.1.0\n2022-09\nCT#97e\nCP-222113\n0005\n-\nF\nCorrection to notification about TSC application session context termination\n17.1.0\n2020-09\nCT#97e\nCP-222113\n0006\n1\nF\nCorrection to subscription to events for the existing TSC application session context\n17.1.0\n2022-09\nCT#97e\nCP-222114\n0007\n1\nF\nCorrection to the procedure of creating a new subscription\n17.1.0\n2022-09\nCT#97e\nCP-222113\n0009\n1\nF\nCorrections to the methods of Ntsctsf_ASTI Service API\n17.1.0\n2022-09\nCT#97e\nCP-222113\n0010\n1\nF\nCorrections to the methods of Ntsctsf_QoSandTSCAssistance API\n17.1.0\n2022-09\nCT#97e\nCP-222113\n0011\n-\nF\nCorrections to the methods of Ntsctsf_TimeSynchronization API\n17.1.0\n2022-09\nCT#97e\nCP-222114\n0013\n1\nF\nHandling of temporal validity condition\n17.1.0\n2022-09\nCT#97e\nCP-222113\n0018\n-\nF\nSupport of sponsored connectivity\n17.1.0\n2022-09\nCT#97e\nCP-222114\n0019\n1\nF\nCorrection to the references\n17.1.0\n2022-09\nCT#97e\nCP-222114\n0020\n1\nF\nCorrection to time synchronization capabilities subscription\n17.1.0\n2022-09\nCT#97e\nCP-222114\n0021\n1\nF\nData Model corrections\n17.1.0\n2022-09\nCT#97e\nCP-222114\n0022\n1\nF\nCorrection of the association of Time Sync Exposure subscriptions to AF sessions\n17.1.0\n2022-09\nCT#97e\nCP-222114\n0023\n1\nF\nCorrection of the handling of AM policies upon Time Sync configuration\n17.1.0\n2022-09\nCT#97e\nCP-222114\n0024\n1\nF\nTSCTSF API corrections\n17.1.0\n2022-09\nCT#97e\nCP-222183\n0025\n1\nF\nMapping of GPSIs and Group Identifiers to a SUPI list\n17.1.0\n2022-09\nCT#97e\nCP-222113\n0026\n-\nF\nDefinitions of HTTP \"403 Forbidden\" response\n17.1.0\n2022-09\nCT#97e\nCP-222113\n0027\n-\nF\nInitial provisioning of TSC related service information\n17.1.0\n2022-09\nCT#97e\nCP-222121\n0028\n-\nF\nUpdate of info and externalDocs fields\n17.1.0\n2022-12\nCT#98\nCP-223181\n0029\n1\nF\nCorrections in the error budget calculation\n17.2.0\n2022-12\nCT#98\nCP-223181\n0030\n-\nF\nMiscellaneous corrections in the Time Synchronization API\n17.2.0\n2022-12\nCT#98\nCP-223181\n0033\n-\nF\nCorrection to Ethernet flows\n17.2.0\n2022-12\nCT#98\nCP-223188\n0034\n-\nF\nUpdate of info and externalDocs fields\n17.2.0\n2022-12\nCT#98\nCP-223191\n0031\n-\nF\nAdding the mandatory error code 502 Bad Gateway\n18.0.0\n2022-12\nCT#98\nCP-223192\n0032\n1\nF\nTscEvent enumeration definition in the OpenAPI file\n18.0.0\n2022-12\nCT#98\nCP-223190\n0035\n-\nF\nUpdate of info and externalDocs fields\n18.0.0\n2023-03\nCT#99\nCP-230179\n0036\n1\nB\nAdding PER to TSC QoS inputs\n18.1.0\n2023-03\nCT#99\nCP-230154\n0038\n1\nA\nCorrection to Ntsctsf_TimeSynchronization Service\n18.1.0\n2023-03\nCT#99\nCP-230154\n0040\nA\nCorrection to Ntsctsf_TSCQoSandAssistance Service\n18.1.0\n2023-03\nCT#99\nCP-230154\n0042\nA\nCorrection to Ntsctsf_ASTI Service\n18.1.0\n2023-03\nCT#99\nCP-230174\n0043\nF\nGeneralization of QoS monitoring control description\n18.1.0\n2023-03\nCT#99\nCP-230179\n0044\n1\nB\nService description – support of network timing synchronization status and reporting\n18.1.0\n2023-03\nCT#99\nCP-230179\n0045\n1\nB\nProvisioning of coverage area filters for ASTI service\n18.1.0\n2023-03\nCT#99\nCP-230179\n0046\n1\nB\nNotification of 5G Access Stratum Time Distribution enabled/disabled\n18.1.0\n2023-03\nCT#99\nCP-230179\n0047\nB\nProvisioning of coverage area and notification of changes of capabilities configuration\n18.1.0\n2023-03\nCT#99\nCP-230175\n0048\nB\nSpecification of application errors for TSC QoS requests\n18.1.0\n2023-03\nCT#99\nCP-230175\n0049\n1\nB\nIndication of Alternative Service Requirements not supported\n18.1.0\n2023-03\nCT#99\nCP-230154\n0051\n1\nA\nCorrection to QoS notification control\n18.1.0\n2023-03\nCT#99\nCP-230179\n0053\n1\nB\nSupport of BAT window and capability for BAT adaptation\n18.1.0\n2023-03\nCT#99\nCP-230162\n0055\nF\nUpdate of info and externalDocs fields\n18.1.0\n2023-06\nCT#100\nCP-231143\n0057\n1\nB\nAdding PER to QoS service operation description\n18.2.0\n2023-06\nCT#100\nCP-231143\n0058\n1\nB\nNetwork determined BAT offset and periodicity adaption\n18.2.0\n2023-06\nCT#100\nCP-231143\n0059\n1\nB\nThe correction on the BAT window and BAT adaptation capability\n18.2.0\n2023-06\nCT#100\nCP-231127\n0060\n3\nB\nSupport for network timing synchronization status and reporting\n18.2.0\n2023-06\nCT#100\nCP-231131\n0061\n1\nF\nAdding missing presence conditions\n18.2.0\n2023-06\nCT#100\nCP-231149\n0062\n3\nB\nSupport of traffic characteristics and monitoring of performance characteristics\n18.2.0\n2023-06\nCT#100\nCP-231143\n0065\n3\nF\nAdding description for controlling time synchronization service\n18.2.0\n2023-06\nCT#100\nCP-231180\n0068\n1\nA\nCorrection on setting Packet Delay Failure report Threshold\n18.2.0\n2023-06\nCT#100\nCP-231134\n0071\n1\nF\nAdding the time domain to procedures for provisioning TSC information\n18.2.0\n2023-06\nCT#100\nCP-231131\n0072\nF\nCorrections to the redirection mechanism description\n18.2.0\n2023-06\nCT#100\nCP-231151\n0073\n1\nB\n3GPP extensions to DetNet YANG model to support 5GS specifics\n18.2.0\n2023-06\nCT#100\nCP-231151\n0074\n1\nB\nDefinition of 3gpp-5gs-detnet-node YANG file\n18.2.0\n2023-06\nCT#100\nCP-231141\n0075\nF\nUpdate of info and externalDocs fields\n18.2.0\n2023-09\nCT#101\nCP-232105\n0077\n1\nB\nTSCTSF handling when it receives the time sync request from AF and subscription from UDM and the data model definition\n18.3.0\n2023-09\nCT#101\nCP-232098\n0078\nF\nRemove the trailing slash in the relative path after API URI\n18.3.0\n2023-09\nCT#101\nCP-232185\n0079\n2\nF\nCorrections to the definition of AF requested QoS for a UE or group of UEs\n18.3.0\n2023-09\nCT#101\nCP-232098\n0080\nF\nCorrections to the redirection mechanism description\n18.3.0\n2023-09\nCT#101\nCP-232098\n0081\nF\nUpdate the apiVersion in the QoSandTSCAssistance Service API\n18.3.0\n2023-09\nCT#101\nCP-232105\n0082\n1\nB\nResource and data model for the Ntsctsf_ASTI API\n18.3.0\n2023-09\nCT#101\nCP-232105\n0083\n1\nB\nService description for the Ntsctsf_ASTI service\n18.3.0\n2023-09\nCT#101\nCP-232085\n0084\n-\nF\nUpdate of info and externalDocs fields\n18.3.0\n2023-12\nCT#102\nCP-233245\n0086\n1\nF\nReslove the EN about AF requested QoS for a UE or group of UE(s)\n18.4.0\n2023-12\nCT#102\nCP-233228\n0087\nF\nHTTP RFCs obsoleted by IETF RFC 9113\n18.4.0\n2023-12\nCT#102\nCP-233200\n0088\n2\nB\nSupport the status information on ASTI service\n18.4.0\n2023-12\nCT#102\nCP-233248\n0089\n1\nB\nClarification on time synchronization service\n18.4.0\n2023-12\nCT#102\nCP-233266\n0091\n3\nB\nSolving remaining Editor's Note(s) for DetNet\n18.4.0\n2023-12\nCT#102\nCP-233248\n0092\n1\nB\nCorrection to clock quality information\n18.4.0\n2023-12\nCT#102\nCP-233248\n0094\n1\nB\nUpdate to the time synchronization status and the report\n18.4.0\n2023-12\nCT#102\nCP-233248\n0095\n1\nF\nRemoval of Editor’s Note\n18.4.0\n2023-12\nCT#102\nCP-233229\n0096\n1\nF\nProblemDetails RFC 7807 obsoleted by RFC 9457\n18.4.0\n2023-12\nCT#102\nCP-233201\n0097\n1\nF\nUpdate the time synchronization status parameters\n18.4.0\n2023-12\nCT#102\nCP-233266\n0098\n1\nB\nCompletion of YANG module for 3GPP extensions to IETF DetNet\n18.4.0\n2023-12\nCT#102\nCP-233269\n0099\n1\nA\nMiscellaneous Corrections\n18.4.0\n2023-12\nCT#102\nCP-233135\n0100\n2\nB\nNotification of Access Stratum Time Distribution configuration changes\n18.4.0\n2023-12\nCT#102\nCP-233269\n0101\n1\nF\nUpdate of info and externalDocs fields\n18.4.0\n2024-03\nCT#103\nCP-240175\n0103\n1\nB\nNotifying the clock quality acceptance criteria result for NW TT\n18.5.0\n2024-03\nCT#103\nCP-240175\n0105\n1\nB\nUpdate the procedure for subscription to the notification for the changes in ASTI status\n18.5.0\n2024-03\nCT#103\nCP-240182\n0107\nA\nCorrection on state of configuration\n18.5.0\n2024-03\nCT#103\nCP-240207\n0108\nF\nCorrections to DetNet data model\n18.5.0\n2024-03\nCT#103\nCP-240175\n0109\n1\nB\nCorrections and alignments of TimeSyncExposure service data model\n18.5.0\n2024-03\nCT#103\nCP-240175\n0110\n1\nB\nCorrections and alignments to ASTI service data model\n18.5.0\n2024-03\nCT#103\nCP-240166\n0111\nF\nUpdate of info and externalDocs fields\n18.5.0\n2024-06\nCT#104\nCP-241102\n0113\n1\nF\nCorrection to the definition of Ntsctsf_QoSandTSCAssistance API\n18.6.0\n2024-06\nCT#104\nCP-241102\n0114\n1\nB\nClarification about 200/201 response for time synchronization service\n18.6.0\n2024-06\nCT#104\nCP-241104\n0117\n1\nA\nCorrections on QoS monitoring reports\n18.6.0\n2024-06\nCT#104\nCP-241104\n0119\n1\nA\nEssential corrections to Ntsctsf_QoSandTSCAssistance Service\n18.6.0\n2024-06\nCT#104\nCP-241102\n0120\n3\nF\nSupport of pre-configured thresholds and CQRCI check issues\n18.6.0\n2024-06\nCT#104\nCP-241102\n0121\n3\nF\nClean up of subscription control and time synchronization services status monitoring\n18.6.0\n2024-06\nCT#104\nCP-241102\n0122\n3\nF\nClean up of subscription control and ASTI status monitoring\n18.6.0\n2024-06\nCT#104\nCP-241103\n0123\n2\nF\nVarious GMEC related corrections\n18.6.0\n2024-06\nCT#104\nCP-241104\n0124\n3\nA\nCorrection of the presence condition for qosReference\n18.6.0\n2024-06\nCT#104\nCP-241104\n0128\n1\nA\nCorrections on Ntsctsf_TimeSynchronization and Annex number\n18.6.0\n2024-06\nCT#104\nCP-241093\n0129\nF\nCorrections on the apiVersion\n18.6.0\n2024-06\nCT#104\nCP-241103\n0130\n1\nF\nAdditional GMEC related corrections\n18.6.0\n2024-06\nCT#104\nCP-241094\n0131\n1\nF\nCorrections to the 3xx based 3GPP SBI redirection mechanism\n18.6.0\n2024-06\nCT#104\nCP-241103\n0132\n1\nF\nCorrection to Individual QoS parameters\n18.6.0\n2024-06\nCT#104\nCP-241102\n0133\n2\nF\nCorrection of the description of the attribute periodicityRange\n18.6.0\n2024-06\nCT#104\nCP-241104\n0135\nA\nCorrect the Cardinality of the TscAppSessionContextUpdateData\n18.6.0\n2024-06\nCT#104\nCP-241104\n0137\n1\nA\nCorrections for the Ntsctsf_TimeSynchronization\n18.6.0\n2024-06\nCT#104\nCP-241086\n0139\nF\nUpdate of info and externalDocs fields\n18.6.0\n2024-09\nCT#105\nCP-242141\n0142\n1\nA\nWrong scope name\n18.7.0\n2024-09\nCT#105\nCP-242141\n0144\nA\nCorrections on the TimeSyncExposureSubsc\n18.7.0\n2024-09\nCT#105\nCP-242160\n0147\nF\nMiscellaneous Correction to the ASTI API\n18.7.0\n2024-09\nCT#105\nCP-242120\n0150\nF\nUpdate of info and externalDocs fields\n18.7.0\n2024-12\nCT#106\nCP-243103\n0155\nF\nWrong attribute name\n18.8.0\n2024-12\nCT#106\nCP-243110\n0158\nA\nCorrections on the N6 termination indication\n18.8.0\n2024-12\nCT#106\nCP-243120\n0160\n1\nF\nUpdating the IETF HTTP RFC for DetNet\n18.8.0\n2024-12\nCT#106\nCP-243146\n0163\nF\nUpdate of info and externalDocs fields\n18.8.0\n2025-03\nCT#107\nCP-250122\n0165\nF\nCorrect the RFC reference for the Yang Module\n18.9.0",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.510_clause_5.4.2.2",
        "ts_29.501_clause_5.3.1",
        "ts_29.501_clause_5",
        "ts_29.501_clause_4.4",
        "ts_23.501_clause_4.4.8.4",
        "ts_23.513_clause_5.5.12.2",
        "ts_23.513_clause_5.5.12.3",
        "ts_29.514_clause_4.2.5.16",
        "clause_7.1",
        "clause_4.9",
        "ts_29.501_clause_4.3",
        "clause_5.2",
        "table_6.1.3.1-1",
        "ts_33.501",
        "ts_29.500",
        "ts_29.510",
        "ts_29.501",
        "ts_21.900",
        "ts_29.565",
        "ts_23.501",
        "ts_23.513",
        "ts_29.513",
        "ts_29.514",
        "ts_23.502",
        "ts_23.503",
        "ts_18.1",
        "ts_18.6"
      ]
    }
  ]
}