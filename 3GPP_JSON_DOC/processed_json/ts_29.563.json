{
  "metadata": {
    "specification_id": "ts_29.563",
    "version": "18.6.0",
    "title": "3GPP TS 29.563",
    "file_path": "/content/drive/MyDrive/RAG_thesis/data/29_series/29563-i60/29563-i60.docx"
  },
  "export_info": {
    "export_date": "2025-07-26T08:49:38.418208",
    "total_chunks": 163
  },
  "chunks": [
    {
      "chunk_id": "ts_29.563_1",
      "section_id": "1",
      "section_title": "Scope",
      "content": "The present document specifies the stage 3 protocol, including message flows and API specification details, for the Nhss services, as part of the 5G Service-Based Architecture, offered by the HSS for interworking with the 5G UDM Network Function.\nThe 5G System stage 2 architecture and procedures are specified in 3GPP TS 23.501 [2] and 3GPP TS 23.502 [3].\nThe User Data Interworking, Coexistence and Migration stage 2 architecture and procedures are specified in 3GPP TS 23.632 [8].\nThe Technical Realization of the Service Based Architecture and the Principles and Guidelines for Services Definition are specified in 3GPP TS 29.500 [4] and 3GPP TS 29.501 [5].",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.501",
        "ts_23.502",
        "ts_23.632",
        "ts_29.500",
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.563_2",
      "section_id": "2",
      "section_title": "References",
      "content": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non‑specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".\n[3]\t3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".\n[4]\t3GPP TS 29.500: \"5G System; Technical Realization of Service Based Architecture; Stage 3\".\n[5]\t3GPP TS 29.501: \"5G System; Principles and Guidelines for Services Definition; Stage 3\".\n[6]\t3GPP TS 23.335: \"User Data Convergence (UDC); Technical realization and information flows\".\n[7]\t3GPP TS 29.571: \"5G System; Common Data Types for Service Based Interfaces; Stage 3\".\n[8]\t3GPP TS 23.632: \"User Data Interworking, Coexistence and Migration\".\n[9]\tIETF RFC 9113: \"HTTP/2\".\n[10]\tOpenAPI Initiative, \"OpenAPI Specification Version 3.0.0\", https://spec.openapis.org/oas/v3.0.0.\n[11]\tIETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange Format\".\n[12]\tIETF RFC 9457: \"Problem Details for HTTP APIs\".\n[13]\t3GPP TS 29.503: \"5G System; Unified Data Management Services; Stage 3\".\n[14]\t3GPP TR 21.900: \"Technical Specification Group working methods\".\n[15]\t3GPP TS 23.003: \"Numbering, addressing and identification\".\n[16]\t3GPP TS 29.303: \"Domain Name System Procedures; Stage 3\".\n[17]\t3GPP TS 29.272: \"Evolved Packet System; MME and SGSN Related Interfaces Based on Diameter Protocol\".\n[18]\t3GPP TS 23.682: \"Architecture enhancements to facilitate communications with packet data networks and applications\".\n[19]\t3GPP TS 29.335: \"User Data Convergence (UDC); User Data Repository Access Protocol over the Ud interface\".\n[20]\t3GPP TS 29.002: \"Mobile Application Part (MAP) specification\".\n[21]\t3GPP TS 29.336: \"Home Subscriber Server (HSS) diameter interfaces for interworking with packet data networks and applications\".",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905",
        "ts_23.501",
        "ts_23.502",
        "ts_29.500",
        "ts_29.501",
        "ts_23.335",
        "ts_29.571",
        "ts_23.632",
        "ts_29.503",
        "ts_21.900",
        "ts_23.003",
        "ts_29.303",
        "ts_29.272",
        "ts_23.682",
        "ts_29.335",
        "ts_29.002",
        "ts_29.336"
      ]
    },
    {
      "chunk_id": "ts_29.563_3.1",
      "section_id": "3.1",
      "section_title": "Terms",
      "content": "Void.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_3.2",
      "section_id": "3.2",
      "section_title": "Symbols",
      "content": "Void.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_3.3",
      "section_id": "3.3",
      "section_title": "Abbreviations",
      "content": "For the purposes of the present document, the abbreviations given in 3GPP TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in 3GPP TR 21.905 [1].\n5GC\t5G Core Network\nHSS\tHome Subscriber Server\nJSON\tJavascript Object Notation\nSBI\tService Based Interface\nUDM\tUnified Data Management\nUDR\tUnified Data Repository",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905"
      ]
    },
    {
      "chunk_id": "ts_29.563_4.1",
      "section_id": "4.1",
      "section_title": "Introduction",
      "content": "Within the 5GC, the HSS offers services to the UDM via the Nhss service-based interface (see 3GPP TS 23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS 23.632 [8]).\nFigure 4.1-1 provides the reference model in service-based interface representation with focus on the HSS.\nFigure 4.1-1: Reference model – HSS",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.502_figure_4.1-1",
        "figure_4.1-1",
        "ts_23.501",
        "ts_23.502",
        "ts_23.632"
      ]
    },
    {
      "chunk_id": "ts_29.563_5.1",
      "section_id": "5.1",
      "section_title": "Introduction",
      "content": "The HSS offers the following services via the Nhss interface:\n-\tNhss_UEAuthentication Service\n-\tNhss_SubscriberDataManagement Service\n-\tNhss_UEContextManagement service\nAll scenarios shown in the following clauses assume that the HSS is stateful and stores information in local memory. However, the HSS may be stateless and stores information externally in the EPS-UDR. If so, the stateless HSS makes use of Ud interface as specified in 3GPP TS 23.335 [6] and 3GPP TS 29.335 [19] to retrieve required data from the EPS-UDR and store them locally before processing an incoming request. Processing the incoming request may then include updating data in the EPS-UDR or subscribing to data change notifications at the EPS-UDR by using the Ud interface. After processing the incoming request, the HSS may delete the locally stored data.\nTable 5.1-1 summarizes the corresponding APIs defined for this specification.\nTable 5.1-1: API Descriptions\nService Name\nClause\nDescription\nOpenAPI Specification File\napiName\nAnnex\nNhss_UEAuthentication Service\n6.1\nHSS UE Authentication Service\nTS29563_Nhss_UEAU.yaml\nnhss-ueau\nA.2\nNhss_SubscriberDataManagement Service\n6.2\nHSS Subscriber Data Management\nTS29563_Nhss_SDM.yaml\nnhss-sdm\nA.3\nNhss_UEContextManagement Service\n6.3\nHSS UE Context Management\nTS29563_Nhss_UECM.yaml\nnhss-uecm\nA.4\nNhss_EventExposure\n6.4\nHSS Event Exposure\nTS29563_Nhss_EE.yaml\nnhss-ee\nA.5",
      "chunk_type": "general",
      "cross_references": [
        "table_5.1-1",
        "ts_23.335",
        "ts_29.335"
      ]
    },
    {
      "chunk_id": "ts_29.563_5.2.1",
      "section_id": "5.2.1",
      "section_title": "Service Description",
      "content": "The Nhss_UEAuthentication service allows a NF consumer (UDM) to request calculation of a fresh Authentication Vector (AV) for 5G_AKA or EAP_AKA_PRIME and provide the calculated AV to the requesting NF.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_5.2.2.1",
      "section_id": "5.2.2.1",
      "section_title": "Introduction",
      "content": "For the Nhss_UEAuthentication service the following service operation is defined:\n-\tGet\nThe Nhss_UEAuthentication service is used by the UDM to request the HSS to, calculate a fresh authentication vector (AV) for authentication the method 5G_AKA or EAP_AKA_PRIME, and provide it to the UDM by means of the Get service operation. See 3GPP TS 23.632 [8] clause 4.2.2.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.632_clause_4.2.2",
        "ts_23.632"
      ]
    },
    {
      "chunk_id": "ts_29.563_5.2.2.2.1",
      "section_id": "5.2.2.2.1",
      "section_title": "General",
      "content": "The following procedure using the Get service operation is supported:\n-\tAuthentication Vector Retrieval",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_5.2.2.2.2",
      "section_id": "5.2.2.2.2",
      "section_title": "Authentication Vector Retrieval",
      "content": "Figure 5.2.2.2.2-1 shows a scenario where the NF service consumer (UDM) retrieves an Authentication Vector for the UE from the HSS (see also 3GPP TS 23.632 [8] clause 4.2.2). The request contains the UE's identity (imsi), the serving network name, the authentication method (5G_AKA or EAP_AKA_PRIME) and may contain resynchronization info.\nFigure 5.2.2.2.2-1: NF service consumer requesting an Authentication Vector\n1.\tThe NF service consumer sends a POST request (custom method: generate-av) to the HSS.\n2a.\tThe HSS responds with \"200 OK\" with the message body containing the authentication vector.\n2b.\tIf the operation cannot be authorized due to e.g. UE does not have required subscription data, HTTP status code \"403 Forbidden\" should be returned including additional error information in the response body (in \"ProblemDetails\" element).\nOn failure, the appropriate HTTP status code indicating the error shall be returned and appropriate additional error information should be returned in the POST response body.\nIn the case of redirection, the HSS shall return 3xx status code, which shall contain a Location header with an URI pointing to the endpoint of another HSS (service) instance.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.632_clause_4.2.2",
        "figure_5.2.2.2.2-1",
        "ts_23.632"
      ]
    },
    {
      "chunk_id": "ts_29.563_5.3.1",
      "section_id": "5.3.1",
      "section_title": "Service Description",
      "content": "This service is used to retrieve the subscriber data indicated by the requested data type from HSS. In this release, only the PGW-C+SMF FQDN for S5/S8 interface information is supported as requested data type. See 3GPP TS 23.632 [8], clause 6.1.4.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.632_clause_6.1.4",
        "ts_23.632"
      ]
    },
    {
      "chunk_id": "ts_29.563_5.3.2.1",
      "section_id": "5.3.2.1",
      "section_title": "Introduction",
      "content": "For the Nhss_SubscriberDataManagement service the following service operations are defined:\n-\tGet\n-\tSubscribe\n-\tModifySubscription\n-\tUnsubscribe\n-\tNotification\nThe Nhss_SubscriberDataManagement service is used by Consumer NF (UDM) to retrieve the UE data from the HSS due to IRAT mobility by means of the Get service operation.\nIt is also used by consumer NFs to subscribe to notifications of data change by means of the Subscribe service operation.\nIt is also used by consumer NFs to modify an existing subscription by means of the ModifySubscription service operation.\nIt is also used by consumer NFs that have previously subscribed, to unsubscribe from notifications of data changes by means of the Unsubscribe service operation.\nIt is also used by Consumer NFs that have previously subscribed, to get notified by means of the Notification service operation.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_5.3.2.2.1",
      "section_id": "5.3.2.2.1",
      "section_title": "General",
      "content": "The following procedure using the Get service operation is supported:\n-\tUE Context In PGW Data Retrieval",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_5.3.2.2.2",
      "section_id": "5.3.2.2.2",
      "section_title": "UE Context In PGW Data Retrieval",
      "content": "Figure 5.3.2.2.2-1 shows a scenario where the NF service consumer (UDM) sends a request to the HSS to retrieve the UE's Context In PGW data. The request contains the UE's identity (which shall be an IMSI) and the requested information.\nFigure 5.3.2.2.2-1: Requesting a UE's Context in PGW Data\n1.\tThe NF service consumer (e.g. UDM) shall send a GET request to the resource representing the UE's Context In PGW Data.\n2a.\tOn Success, the HSS shall respond with \"200 OK\" with the message body containing the UE's Context In PGW Data as relevant for the requesting NF service consumer.\n2b.\tIf there is no valid data for the UE, HTTP status code \"404 Not Found\" shall be returned including additional error information in the response body (in the \"ProblemDetails\" element).\nOn failure, the appropriate HTTP status code indicating the error shall be returned and appropriate additional error information should be returned in the GET response body.\nIn the case of redirection, the HSS shall return 3xx status code, which shall contain a Location header with an URI pointing to the endpoint of another HSS (service) instance.",
      "chunk_type": "requirement",
      "cross_references": [
        "figure_5.3.2.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_5.3.2.3.1",
      "section_id": "5.3.2.3.1",
      "section_title": "General",
      "content": "The following procedures using the Subscribe service operation are supported:\n-\tSubscription to notification of data change",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_5.3.2.3.2",
      "section_id": "5.3.2.3.2",
      "section_title": "Subscription to notifications of data change",
      "content": "Figure 5.3.2.3.2-1 shows a scenario where the NF service consumer (e.g. UDM) sends a request to the HSS to subscribe to notifications of data change. The request contains a callback URI and the URI of the monitored resource.\nFigure 5.3.2.3.2-1: NF service consumer subscribes to notifications\n1.\tThe NF service consumer sends a POST request to the parent resource (collection of subscriptions) (.../{ueId}/subscriptions), to create a subscription as present in message body.\n2a.\tOn success, the HSS responds with \"201 Created\" with the message body containing a representation of the created subscription. The Location HTTP header shall contain the URI of the created subscription.\n2b.\tIf there is no valid subscription data for the UE, HTTP status code \"404 Not Found\" shall be returned including additional error information in the response body (in the \"ProblemDetails\" element).\n2c.\tIf the UE subscription data exist, but the requested subscription to data change notification cannot be created (e.g. due to an invalid/unsupported data reference to be monitored, contained in the SubscriptionData parameter), HTTP status code \"501 Not Implemented\" shall be returned including additional error information in the response body (in the \"ProblemDetails\" element).\nOn failure, the appropriate HTTP status code indicating the error shall be returned and appropriate additional error information should be returned in the POST response body.\nIn the case of redirection, the HSS shall return 3xx status code, which shall contain a Location header with an URI pointing to the endpoint of another HSS (service) instance.",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.3.2.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_5.3.2.4.1",
      "section_id": "5.3.2.4.1",
      "section_title": "General",
      "content": "The following procedures using the Unsubscribe service operation are supported:\n-\tUnsubscribe to notification of data change",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_5.3.2.4.2",
      "section_id": "5.3.2.4.2",
      "section_title": "Unsubscribe to notifications of data change",
      "content": "Figure 5.3.2.4.2-1 shows a scenario where the NF service consumer sends a request to the HSS to unsubscribe from notifications of data changes. The request contains the URI previously received in the Location HTTP header of the response to the subscription.\nFigure 5.3.2.4.2-1: NF service consumer unsubscribes to notifications\n1.\tThe NF service consumer sends a DELETE request to the resource identified by the URI previously received during subscription creation.\n2a.\tOn success, the HSS responds with \"204 No Content\".\n2b.\tIf there is no valid subscription available (e.g. due to an unknown subscriptionId value), HTTP status code \"404 Not Found\" should be returned including additional error information in the response body (in the \"ProblemDetails\" element).\nOn failure, the appropriate HTTP status code indicating the error shall be returned and appropriate additional error information should be returned in the DELETE response body.\nIn the case of redirection, the HSS shall return 3xx status code, which shall contain a Location header with an URI pointing to the endpoint of another HSS (service) instance.",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.3.2.4.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_5.3.2.5.1",
      "section_id": "5.3.2.5.1",
      "section_title": "General",
      "content": "The following procedures using the Notification service operation are supported:\n-\tData change notification to NF.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_5.3.2.5.2",
      "section_id": "5.3.2.5.2",
      "section_title": "Data Change Notification To NF",
      "content": "Figure 5.3.2.5.2-1 shows a scenario where the HSS notifies the NF service consumer (that has subscribed to receive such notification) about subscription data change. The request contains the callbackReference URI as previously received in the SubscriptionData.\nFigure 5.3.2.5.2-1: Subscription Data Change Notification\n1.\tThe HSS sends a POST request to the callbackReference as provided by the NF service consumer during the subscription.\n2a.\tThe NF service consumer responds with \"204 No Content\".\nOn failure, the appropriate HTTP status code indicating the error shall be returned and appropriate additional error information should be returned in the POST response body.\nIn the case of redirection, the NF Service Consumer shall return 3xx status code, which shall contain a Location header with an URI pointing to an alternative notification endpoint.",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.3.2.5.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_5.3.2.6.1",
      "section_id": "5.3.2.6.1",
      "section_title": "General",
      "content": "The following procedures using the ModifySubscription service operation are supported:\n-\tModification of a Subscription to notification of data change",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_5.3.2.6.2",
      "section_id": "5.3.2.6.2",
      "section_title": "Modification of a subscription to notifications of data change",
      "content": "Figure 5.3.2.6.2-1 shows a scenario where the NF service consumer sends a request to the HSS to modify a subscription to notifications of data changes. The request contains the URI previously received in the Location HTTP header of the response to the subscription.\nFigure 5.3.2.6.2-1: NF service consumer modifies a subscription to notifications\n1.\tThe NF service consumer sends a PATCH request to the resource identified by the URI previously received during subscription creation.\n2a.\tOn success, the UDM responds with \"204 No Content\".\n2b.\tIf there is no valid subscription available (e.g. due to an unknown subscriptionId value), HTTP status code \"404 Not Found\" should be returned including additional error information in the response body (in the \"ProblemDetails\" element).\n2c. If the operation cannot be authorized, HTTP status code \"403 Forbidden\" should be returned including additional error information in the response body (in \"ProblemDetails\" element)\nOn failure, the appropriate HTTP status code indicating the error shall be returned and appropriate additional error information should be returned in the PATCH response body.\nIn the case of redirection, the HSS shall return 3xx status code, which shall contain a Location header with an URI pointing to the endpoint of another HSS (service) instance.",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.3.2.6.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_5.4.1",
      "section_id": "5.4.1",
      "section_title": "Service Description",
      "content": "The service allows an NF consumer (UDM) to trigger the cancellation of any previous registered serving node due to IRAT mobility. See 3GPP TS 23.632 [8], clause 6.1.3.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.632_clause_6.1.3",
        "ts_23.632"
      ]
    },
    {
      "chunk_id": "ts_29.563_5.4.2.1",
      "section_id": "5.4.2.1",
      "section_title": "Introduction",
      "content": "For the Nhss_UEContextManagement service the following service operations are defined:\n-\tSnDeregistration\n-\tImeiUpdate\n-\tRoamingStatusUpdate\nThe Nhss_UEContextManagement service is used by Consumer NF (UDM) to request HSS to deregister the MME/SGSN via cancel location procedure and to update the IMEI and roaming status of the UE in the HSS.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_5.4.2.2.1",
      "section_id": "5.4.2.2.1",
      "section_title": "General",
      "content": "The following procedure using the SnDeregistration service operation is supported:\n-\tSN Deregistration",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_5.4.2.2.2",
      "section_id": "5.4.2.2.2",
      "section_title": "SN Deregistration",
      "content": "Figure 5.4.2.2.2-1 shows a scenario where the NF service consumer (UDM) requests HSS to initiate Cancel Location procedure towards the MME/SGSN due to IRAT mobility. The request contains the UE's identity which shall be an IMSI.\nFigure 5.4.2.2.2-1: SN Deregistration\n1.\tThe NF service consumer sends a POST request (custom method: deregister-sn) to the HSS; the request body contains the UE identity (IMSI) and the deregistration reason.\nThe HSS, based on the value indicated in the deregistration reason, initiates a Cancel Location towards the serving node, including a Cancellation Type value (see 3GPP TS 29.272 [17] and 3GPP TS 29.002 [20]) as follows:\n-\t\"UE_INITIAL_AND_SINGLE_REGISTRATION\": S6a/S6d/Gr(S4/Gn/Gp) Cancel Location sent towards MME/SGSN, with a Cancellation-Type set to MME_UPDATE_PROCEDURE/SGSN_UPDATE_PROCEDURE; the HSS shall delete the stored MME/SGSN address and MME/SGSN number.\nAdditionally, a MAP D Cancel Location (IMSI) shall be sent towards MSC/VLR if a VLR number was found in the HSS/HLR for the user; the HSS/HLR shall delete the stored MSC/VLR number.\n-\t\"UE_INITIAL_AND_DUAL_REGISTRATION\": S6d/Gr(S4) Cancel Location sent towards SGSN, with a Cancellation-Type set to SGSN_UPDATE_PROCEDURE; the HSS shall delete the stored SGSN address and SGSN number.\nNOTE 1:\tAs described in 3GPP TS 23.502 [3], a UE operating in dual-registration mode indicates that it is moving from EPS, which implies that there is an MME registered in HSS.\n-\t\"EPS_TO_5GS_MOBILITY\": S6a Cancel Location sent towards MME, with a Cancellation-Type set to MME_UPDATE_PROCEDURE; the HSS shall delete the stored MME address and MME number.\nAdditionally, a MAP D Cancel Location (IMSI) shall be sent towards MSC/VLR if a VLR number was found in the HSS/HLR for the user; the HSS/HLR shall delete the stored MSC/VLR number.\n-\t\"EPS_TO_5GS_MOBILITY\": S6d/Gr(S4) Cancel Location sent towards SGSN, with a Cancellation-Type set to SGSN_UPDATE_PROCEDURE; the HSS shall delete the stored SGSN address and SGSN number.\n-\t\"EPS_TO_5GS_MOBILITY_WITHOUT_N26_IWK\": S6d/Gr(S4) Cancel Location sent towards SGSN, with a Cancellation-Type set to SGSN_UPDATE_PROCEDURE; the HSS shall delete the stored SGSN address and SGSN number. The HSS shall not send S6a Cancel Location towards MME  (Clause 4.11.2.3 of 3GPP TS 23.502 [3]).\nNOTE 2:\tBased on operator policy, and the presence of GUAMI in the DeregistrationRequest, the HSS can decide whether a registered VLR in the VPLMN needs to be cancelled. It should be noted that keeping the VLR registration can impact terminating services (e.g. T-ADS, MT-SMS…) causing failed paging attempts.\n2a.\tOn success, the HSS responds with \"204 No Content\". If the HSS has a valid subscription for the UE, but the UE is not registered in EPS network, the HSS shall respond with \"204 No Content\".\n2b.\tIf there is no valid subscription data for the UE, HTTP status code \"404 Not Found\" should be returned including additional error information in the response body (in the \"ProblemDetails\" element).\nOn failure, the appropriate HTTP status code indicating the error shall be returned and appropriate additional error information should be returned in the POST response body.\nIn the case of redirection, the HSS shall return 3xx status code, which shall contain a Location header with an URI pointing to the endpoint of another HSS (service) instance.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.502_clause_4.11.2.3",
        "figure_5.4.2.2.2-1",
        "ts_29.272",
        "ts_29.002",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.563_5.4.2.3",
      "section_id": "5.4.2.3",
      "section_title": "IMEI Update",
      "content": "Figure 5.4.2.3-1 shows a scenario where the NF service consumer (UDM) requests HSS to update the IMEI of the UE stored in the HSS. The request contains the UE's identity which shall be an IMSI, and the new IMEI of the UE.\nFigure 5.4.2.3-1: IMEI Update\n1.\tThe NF service consumer sends a POST request (custom method: imei-update) to the HSS; the request body contains the UE identity (IMSI) and the new IMEI of the UE.\n2a.\tOn success, the HSS responds either with \"204 No Content\", which indicates that the HSS does not have any stored IMEI(SV) value for the UE, or with a \"200 OK\", which indicates that the HSS had an IMEI value stored for the UE. In the latter case, the HSS shall update the locally stored IMEI value for the UE, and return in the response body the previous IMEI, so the NF Service Consumer (UDM) can determine whether the HSS contained a different IMEI value than the current one sent to the HSS in this IMEI Update notification.\n2b.\tIf there is no valid subscription data for the UE, HTTP status code \"404 Not Found\" should be returned including additional error information in the response body (in the \"ProblemDetails\" element).\nOn failure, the appropriate HTTP status code indicating the error shall be returned and appropriate additional error information should be returned in the POST response body.\nIn the case of redirection, the HSS shall return 3xx status code, which shall contain a Location header with an URI pointing to the endpoint of another HSS (service) instance.",
      "chunk_type": "requirement",
      "cross_references": [
        "figure_5.4.2.3-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_5.4.2.4",
      "section_id": "5.4.2.4",
      "section_title": "Roaming Status Update",
      "content": "Figure 5.4.2.4-1 shows a scenario where the NF service consumer (UDM) requests HSS to update the Roaming Status of the UE stored in the HSS. The request contains the UE's identity which shall be an IMSI, and the new PLMN-ID where the UE is located.\nFigure 5.4.2.4-1: Roaming Status Update\n1.\tThe NF service consumer sends a POST request (custom method: roaming-status-update) to the HSS; the request body contains the UE identity (IMSI) and the new PLMN-ID of the UE.\n2a.\tOn success, the HSS responds with \"204 No Content\".\n2b.\tIf there is no valid subscription data for the UE, HTTP status code \"404 Not Found\" should be returned including additional error information in the response body (in the \"ProblemDetails\" element).\nOn failure, the appropriate HTTP status code indicating the error shall be returned and appropriate additional error information should be returned in the POST response body.\nIn the case of redirection, the HSS shall return 3xx status code, which shall contain a Location header with an URI pointing to the endpoint of another HSS (service) instance.",
      "chunk_type": "requirement",
      "cross_references": [
        "figure_5.4.2.4-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_5.5.1",
      "section_id": "5.5.1",
      "section_title": "Service Description",
      "content": "See 3GPP TS 23.632 [8].",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.632"
      ]
    },
    {
      "chunk_id": "ts_29.563_5.5.2.1",
      "section_id": "5.5.2.1",
      "section_title": "Introduction",
      "content": "For the Nhss_EventExposure service the following service operations are defined:\n-\tSubscribe\n-\tUnsubscribe\n-\tNotify\n-\tModifySubscription\nThe Nhss_EventExposure service is used by consumer NFs (e.g. UDM) to subscribe to notifications of event occurrence by means of the Subscribe service operation.\nThe Nhss_EventExposure service is also used by the consumer NFs (e.g. UDM) that have previously subscribed to notifications, to unsubscribe by means of the Unsubscribe service operation.\nThe Nhss_EventExposure service is also used by the subscribed consumer NFs (e.g. UDM) to modify an existing subscription by means of the ModifySubscription service operation.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_5.5.2.2.1",
      "section_id": "5.5.2.2.1",
      "section_title": "General",
      "content": "The following procedures using the Subscribe service operation are supported:\n-\tSubscribe to Notification of event occurrence",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_5.5.2.2.2",
      "section_id": "5.5.2.2.2",
      "section_title": "Subscription to Notification of event occurrence",
      "content": "Figure 5.5.2.2.2-1 shows a scenario where the NF service consumer sends a request to the HSS to subscribe to notifications of event occurrence. The request contains a callback URI, the type of event that is monitored and additional information e.g. SCEF Id, event filters and reporting options.\nFigure 5.5.2.2.2-1: NF service consumer subscribes to notifications\n1.\tThe NF service consumer sends a POST request to the parent resource (collection of subscriptions) (.../{ueId}/ee-subscriptions), to create a subscription as present in message body. The request may contain an expiry time, suggested by the NF Service Consumer, representing the time upto which the subscription is desired to be kept active and the time after which the subscribed event(s) shall stop generating notifications. Additionally, the request may include an SCEF Id if Common Network Exposure is used (i.e. if combined SCEF+NEF requested the event(s) to be subscribed/monitored in EPC)\nIf MTC Provider information is received in the request, the HSS shall check whether the MTC Provider is allowed to perform this operation for the UE; otherwise, the HSS shall skip the MTC provider authorization check.\n2a.\tOn success, the HSS responds with \"201 Created\" with the message body containing a representation of the created subscription. The Location HTTP header shall contain the URI of the created subscription.\nIf immediate reporting is requested and if both HSS and NF consumer has indicated supporting of ERIR feature (see clause 6.4.8), the HSS shall include available immediate event reports, i.e. reports already received from MME, in the response body; otherwise if the HSS and/or the NF consumer cannot support the ERIR feature, the HSS shall send a notification (see clause 5.5.2.4.2) towards the NF consumer including the current status of the events requested for immediate reporting. If immediate reporting is requested but the current status of the event(s) is not available at the time of subscription, the HSS should include the current status not available indication in the response.\nIf some of the requested monitoring configurations fails, the response may include the failedMonitoringConfigs to indicate the failed cause of the failed monitoring configurations.\n2b.\tIf the user does not exist, HTTP status code \"404 Not Found\" shall be returned including additional error information in the response body (in the \"ProblemDetails\" element).\n2c.\tIf there is no valid subscription data for the UE, i.e. based on the UE's subscription information monitoring of the requested EventType is not allowed, or the requested EventType is not supported, or the MTC Provider is not allowed to perform this operation for the UE, HTTP status code \"403 Forbidden\" shall be returned including additional error information in the response body (in the \"ProblemDetails\" element).\n2d. In the case of redirection, the HSS shall return 3xx status code, which shall contain a Location header with an URI pointing to the endpoint of another HSS (service) instance.\n2e.\tIf the requested monitoring event types or reporting options are not supported, HTTP status code \"501 Not Implemented\" shall be returned including additional error information in the response body (in the \"ProblemDetails\" element).\nOn failure, the appropriate HTTP status code indicating the error shall be returned and appropriate additional error information should be returned in the POST response body.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.4.8",
        "clause_5.5.2.4.2",
        "figure_5.5.2.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_5.5.2.3.1",
      "section_id": "5.5.2.3.1",
      "section_title": "General",
      "content": "The following procedures using the Unsubscribe service operation are supported:\n-\tUnsubscribe to Notifications of event occurrence",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_5.5.2.3.2",
      "section_id": "5.5.2.3.2",
      "section_title": "Unsubscribe to notifications of event occurrence",
      "content": "Figure 5.5.2.3.2-1 shows a scenario where the NF service consumer sends a request to the HSS to unsubscribe from notifications of event occurrence. The request contains the URI previously received in the Location HTTP header of the response to the subscription.\nFigure 5.5.2.3.2-1: NF service consumer unsubscribes to notifications\n1.\tThe NF service consumer sends a DELETE request to the resource identified by the URI previously received during subscription creation.\n2a.\tOn success, the HSS responds with \"204 No Content\".\n2b.\tIf there is no valid subscription available (e.g. due to an unknown SubscriptionId value), HTTP status code \"404 Not Found\" shall be returned including additional error information in the response body (in the \"ProblemDetails\" element).\nOn failure, the appropriate HTTP status code indicating the error shall be returned and appropriate additional error information should be returned in the DELETE response body.\nIn the case of redirection, the HSS shall return 3xx status code, which shall contain a Location header with an URI pointing to the endpoint of another HSS (service) instance.",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.5.2.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_5.5.2.4.1",
      "section_id": "5.5.2.4.1",
      "section_title": "General",
      "content": "The following procedures using the Notify service operation are supported:\n-\tEvent Occurrence Notification",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_5.5.2.4.2",
      "section_id": "5.5.2.4.2",
      "section_title": "Event Occurrence Notification",
      "content": "Figure 5.5.2.4.2-1 shows a scenario where the HSS notifies the NF service consumer (that has subscribed to receive such notification) about occurrence of an event or the current status of the events requested for immediate reporting if ERIR feature (see clause 6.4.8) is not supported by the HSS and/or the NF consumer. The request contains the Reference IDs as previously received in the EeSubscription.\nFigure 5.5.2.4.2-1: Event Occurrence Notification\n1.\tThe HSS sends a POST request to the callbackReference URI as provided by the NF service consumer during the subscription.\n2a.\tThe NF Service Consumer responds with \"204 No Content\".\nOn failure, the appropriate HTTP status code indicating the error shall be returned and appropriate additional error information should be returned in the POST response body.\nIn the case of redirection, the NF Service Consumer shall return 3xx status code, which shall contain a Location header with an URI pointing to an alternative notification endpoint.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.4.8",
        "figure_5.5.2.4.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_5.5.2.5.1",
      "section_id": "5.5.2.5.1",
      "section_title": "General",
      "content": "The following procedures using the ModifySubscription service operation are supported:\n-\tModification of an EE-Subscription to notification of events",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_5.5.2.5.2",
      "section_id": "5.5.2.5.2",
      "section_title": "Modification of a subscription",
      "content": "The service operation is invoked by a NF Service Consumer, e.g. UDM, towards the HSS, when it needs to modify an existing subscription previously created by itself at the HSS.\nThe NF Service Consumer shall modify the subscription by using HTTP method PATCH with the URI of the individual subscription resource to be modified.\nFigure 5.5.2.5.2-1: NF service consumer updates subscription\n1.\tThe NF service consumer (e.g. NEF) shall send a PATCH request to the resource representing a subscription. The modification may be for the events subscribed or for updating the event report options.\n2a.\tOn success, the request is accepted, the HSS shall respond with \"204 No Content\".\n2b.\tIf the resource does not exist e.g. the subscriptionId cannot be found, HTTP status code \"404 Not Found\" should be returned including additional error information in the response body (in the \"ProblemDetails\" element).\n2c.\tIf the modification can't be accepted, HTTP status code \"403 Forbidden\" should be returned including additional error information in the response body (in the \"ProblemDetails\" element).\nOn failure, the appropriate HTTP status code indicating the error shall be returned and appropriate additional error information should be returned in the PATCH response body.\nIn the case of redirection, the HSS shall return 3xx status code, which shall contain a Location header with an URI pointing to the endpoint of another HSS (service) instance.",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.5.2.5.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.1.1",
      "section_id": "6.1.1",
      "section_title": "Introduction",
      "content": "The Nhss_UEAuthentication service shall use the Nhss_UEAuthentication API.\nThe request URI used in HTTP request from the NF service consumer towards the NF service producer shall have the structure defined in clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:\n{apiRoot}/<apiName>/<apiVersion>/<apiSpecificResourceUriPart>\nwith the following components:\n-\tThe {apiRoot} shall be set as described in 3GPP TS 29.501 [5].\n-\tThe <apiName> shall be \"nhss-ueau\".\n-\tThe <apiVersion> shall be \"v1\".\n-\tThe <apiSpecificResourceUriPart> shall be set as described in clause 6.1.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.501_clause_4.4.1",
        "clause_6.1",
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.1.2.1",
      "section_id": "6.1.2.1",
      "section_title": "General",
      "content": "HTTP/2, as defined in IETF RFC 9113 [9], shall be used as specified in clause 5 of 3GPP TS 29.500 [4].\nHTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].\nHTTP messages and bodies for the Nhss_UEAuthentication service shall comply with the OpenAPI [10] specification contained in Annex A.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5",
        "ts_29.500_clause_5.3",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.1.2.2.1",
      "section_id": "6.1.2.2.1",
      "section_title": "General",
      "content": "The usage of HTTP standard headers shall be supported as specified in clause 5.2.2 of 3GPP TS 29.500 [4].",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5.2.2",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.1.2.2.2",
      "section_id": "6.1.2.2.2",
      "section_title": "Content type",
      "content": "The following content types shall be supported:\n-\tJSON, as defined in IETF RFC 8259 [11], signalled by the content type \"application/json\".\n-\tThe Problem Details JSON Object (IETF RFC 9457 [12] signalled by the content type \"application/problem+json\".",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_6.1.2.3.1",
      "section_id": "6.1.2.3.1",
      "section_title": "General",
      "content": "In this release of the specification, no specific custom headers are defined for the Nhss_UEAuthentication service.\nFor 3GPP specific HTTP custom headers used across all service based interfaces, see clause 5.2.3 of 3GPP TS 29.500 [4].",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5.2.3",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.1.3.1",
      "section_id": "6.1.3.1",
      "section_title": "Overview",
      "content": "Figure 6.1.3.1-1: Resource URI structure of the nhss-ueau API\nTable 6.1.3.1-1 provides an overview of the resources and applicable HTTP methods.\nTable 6.1.3.1-1: Resources and methods overview\nResource name\nResource URI\nHTTP method or custom operation\nDescription\nn/a\ngenerate-av\ngenerate-av (POST)\nGenerate Authentication Vector",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.1.3.1-1",
        "figure_6.1.3.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.1.4.1",
      "section_id": "6.1.4.1",
      "section_title": "Overview",
      "content": "Table 6.1.4.1-1: Custom operations without associated resources\nCustom operation URI\nMapped HTTP method\nDescription\n{apiRoot}/nhss-ueau/<apiVersion>/generate-av\nPOST\nThe HSS calculates a fresh Authentication Vector taking into account the received information (imsi, serving network name, authentication method)",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.1.4.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.1.4.2.1",
      "section_id": "6.1.4.2.1",
      "section_title": "Description",
      "content": "This custom operation is used by the NF service consumer (UDM) to request calculation of an authentication vector for the provided imsi.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_6.1.4.2.2",
      "section_id": "6.1.4.2.2",
      "section_title": "Operation Definition",
      "content": "This operation shall support the response data structures and response codes specified in tables 6.1.4.2.2-1 and 6.1.4.2.2-2.\nTable 6.1.4.2.2-1: Data structures supported by the POST Request Body\nData type\nP\nCardinality\nDescription\nAvGenerationRequest\nM\n1\nContains input parameters for Authentication Vector calculation\nTable 6.1.4.2.2-2: Data structures supported by the POST Response Body\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nAvGenerationResponse\nM\n1\n200 OK\nUpon success, a response body containing the generated authentication vector shall be returned\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\nProblemDetails\nO\n0..1\n403 Forbidden\nThe \"cause\" attribute may be used to indicate one of the following application errors:\n- AUTHENTICATION_REJECTED\nProblemDetails\nO\n0..1\n404 Not Found\nThe \"cause\" attribute may be used to indicate one of the following application errors:\n- USER_NOT_FOUND\nTable 6.1.4.2.2-3: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same HSS (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected.\nTable 6.1.4.2.2-4: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same HSS (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "table_6.1.4.2.2-1",
        "table_6.1.4.2.2-2",
        "table_6.1.4.2.2-3",
        "table_6.1.4.2.2-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.1.5",
      "section_id": "6.1.5",
      "section_title": "Notifications",
      "content": "In this release of this specification, no notifications are defined for the Nhss_UEAuthentication Service.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_6.1.6.1",
      "section_id": "6.1.6.1",
      "section_title": "General",
      "content": "This clause specifies the application data model supported by the API.\nTable 6.1.6.1-1 specifies the data types defined for the Nhss service based interface protocol.\nTable 6.1.6.1-1: Nhss specific Data Types\nData type\nClause defined\nDescription\nApplicability\nAvGenerationRequest\n6.1.6.2.2\nContains imsi, authentication method, serving network name, resynchronization info\nAvGenerationResponse\n6.1.6.2.3\nContains the calculated Authentication Vector\nTable 6.1.6.1-2 specifies data types re-used by the Nhss service based interface protocol from other specifications, including a reference to their respective specifications and when needed, a short description of their use within the Nhss service based interface.\nTable 6.1.6.1-2: Nhss re-used Data Types\nData type\nReference\nComments\nApplicability\nAuthType\n3GPP TS 29.503 [13]\nServingNetworkName\n3GPP TS 29.503 [13]\nResynchronizationInfo\n3GPP TS 29.503 [13]\nAvEapAkaPrime\n3GPP TS 29.503 [13]\nAv5GHeAka\n3GPP TS 29.503 [13]\nProblemDetails\n3GPP TS 29.571 [7]\nResponse body of error response messages.\nRedirectResponse\n3GPP TS 29.571 [7]\nResponse body of redirect response messages.",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.1.6.1-1",
        "table_6.1.6.1-2",
        "ts_29.503",
        "ts_29.571"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.1.6.2.1",
      "section_id": "6.1.6.2.1",
      "section_title": "Introduction",
      "content": "This clause defines the structures to be used in resource representations.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_6.1.6.2.2",
      "section_id": "6.1.6.2.2",
      "section_title": "Type: AvGenerationRequest",
      "content": "Table 6.1.6.2.2-1: Definition of type AvGenerationRequest\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nimsi\nstring\nM\n1\npattern: \"[0-9]{5,15}\"\nauthType\nAuthType\nM\n1\nIndicates the authentication method; \"EAP_AKA_PRIME\" or \"5G_AKA\"\nservingNetworkName\nServingNetworkName\nM\n1\nresynchronizationInfo\nResynchronizationInfo\nO\n0..1",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.1.6.2.3",
      "section_id": "6.1.6.2.3",
      "section_title": "Type: AvGenerationResponse",
      "content": "Table 6.1.6.2.3-1: Definition of type AvGenerationResponse\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\navEapAkaPrime\nAvEapAkaPrime\nC\n0..1\nshall be present if av5GHeAka is absent, otherwise shall be absent.\nav5GHeAka\nAv5GHeAka\nC\n0..1\nshall be present if avEapAkaPrime is absent, otherwise shall be absent.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.2.3-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.1.6.3.1",
      "section_id": "6.1.6.3.1",
      "section_title": "Introduction",
      "content": "This clause defines simple data types and enumerations that can be referenced from data structures defined in the previous clauses.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_6.1.6.3.2",
      "section_id": "6.1.6.3.2",
      "section_title": "Simple data types",
      "content": "The simple data types defined in table 6.1.6.3.2-1 shall be supported.\nTable 6.1.6.3.2-1: Simple data types\nType Name\nType Definition\nDescription\nApplicability",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.1.7.1",
      "section_id": "6.1.7.1",
      "section_title": "General",
      "content": "HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS 29.500 [4].",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5.2.4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.1.7.2",
      "section_id": "6.1.7.2",
      "section_title": "Protocol Errors",
      "content": "Protocol errors handling shall be supported as specified in clause 5.2.7 of 3GPP TS 29.500 [4].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_5.2.7",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.1.7.3",
      "section_id": "6.1.7.3",
      "section_title": "Application Errors",
      "content": "The application errors defined for the Nhss_UEAuthentication service are listed in table 6.1.7.3-1.\nTable 6.1.7.3-1: Application errors\nApplication Error\nHTTP status code\nDescription\nAUTHENTICATION_REJECTED\n403 Forbidden\nThe user cannot be authenticated\nUSER_NOT_FOUND\n404 Not Found\nThe user does not exist in the HPLMN",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.7.3-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.1.8",
      "section_id": "6.1.8",
      "section_title": "Feature negotiation",
      "content": "The optional features in table 6.1.8-1 are defined for the Nhss_UEAuthentication API. They shall be negotiated using the extensibility mechanism defined in clause 6.6 of 3GPP TS 29.500 [4].\nTable 6.1.8-1: Supported Features\nFeature number\nFeature Name\nDescription",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.6",
        "table_6.1.8-1",
        "ts_29.500_table_6.1.8-1",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.1.9",
      "section_id": "6.1.9",
      "section_title": "Security",
      "content": "As indicated in 3GPP TS 33.501 [6] and 3GPP TS 29.500 [4], the access to the Nhss_UEAU API may be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [18]), based on local configuration, using the \"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [19]) plays the role of the authorization server.\nIf OAuth2 is used, an NF Service Consumer, prior to consuming services offered by the Nhss_UEAU API, shall obtain a \"token\" from the authorization server, by invoking the Access Token Request service, as described in 3GPP TS 29.510 [19], clause 5.4.2.2.\nNOTE:\tWhen multiple NRFs are deployed in a network, the NRF used as authorization server is the same NRF that the NF Service Consumer used for discovering the Nhss_UEAU service.\nThe Nhss_UEAU API defines a single scope \"nhss-ueau\" for OAuth2 authorization (as specified in 3GPP TS 33.501 [6]) for the entire API, and it does not define any additional scopes at resource or operation level.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.510_clause_5.4.2.2",
        "ts_33.501",
        "ts_29.500",
        "ts_29.510"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.1.10",
      "section_id": "6.1.10",
      "section_title": "HTTP redirection",
      "content": "An HTTP request may be redirected to a different HSS service instance when using direct or indirect communications (see 3GPP TS 29.500 [4]).\nAn SCP that reselects a different HSS producer instance will return the NF Instance ID of the new HSS producer instance in the 3gpp-Sbi-Producer-Id header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].\nIf an HSS redirects a service request to a different HSS using an 307 Temporary Redirect or 308 Permanent Redirect status code, the identity of the new HSS towards which the service request is redirected shall be indicated in the 3gpp-Sbi-Target-Nf-Id header of the 307 Temporary Redirect or 308 Permanent Redirect response as specified in clause 6.10.9.1 of 3GPP TS 29.500 [4].",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.500_clause_6.10.3.4",
        "ts_29.500_clause_6.10.9.1",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.2.1",
      "section_id": "6.2.1",
      "section_title": "API URI",
      "content": "The Nhss_SubscriberDataManagement service shall use the Nhss_SubscriberDataManagement API.\nThe request URI used in HTTP request from the NF service consumer towards the NF service producer shall have the structure defined in clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:\n{apiRoot}/<apiName>/<apiVersion>/<apiSpecificResourceUriPart>\nwith the following components:\n-\tThe {apiRoot} shall be set as described in 3GPP TS 29.501 [5].\n-\tThe <apiName> shall be \"nhss-sdm\".\n-\tThe <apiVersion> shall be \"v1\".\n-\tThe <apiSpecificResourceUriPart> shall be set as described in clause 6.2.3.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.501_clause_4.4.1",
        "clause_6.2.3",
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.2.2.1",
      "section_id": "6.2.2.1",
      "section_title": "General",
      "content": "HTTP/2, as defined in IETF RFC 9113 [9], shall be used as specified in clause 5 of 3GPP TS 29.500 [4].\nHTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].\nHTTP messages and bodies for the Nhss_SubscriberDataManagement service shall comply with the OpenAPI [10] specification contained in Annex A.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5",
        "ts_29.500_clause_5.3",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.2.2.2.1",
      "section_id": "6.2.2.2.1",
      "section_title": "General",
      "content": "The usage of HTTP standard headers shall be supported as specified in clause 5.2.2 of 3GPP TS 29.500 [4].",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5.2.2",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.2.2.2.2",
      "section_id": "6.2.2.2.2",
      "section_title": "Content type",
      "content": "The following content types shall be supported:\n-\tJSON, as defined in IETF RFC 8259 [11], signalled by the content type \"application/json\".\n-\tThe Problem Details JSON Object (IETF RFC 9457 [12] signalled by the content type \"application/problem+json\".",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_6.2.2.3.1",
      "section_id": "6.2.2.3.1",
      "section_title": "General",
      "content": "In this release of the specification, no specific custom headers are defined for the Nhss_SubscriberDataManagement service.\nFor 3GPP specific HTTP custom headers used across all service-based interfaces, see clause 5.2.3 of 3GPP TS 29.500 [4].",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5.2.3",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.2.3.1",
      "section_id": "6.2.3.1",
      "section_title": "Overview",
      "content": "Figure 6.2.3.1-1: Resource URI structure of the nhss-sdm API\nTable 6.2.3.1-1 provides an overview of the resources and applicable HTTP methods.\nTable 6.2.3.1-1: Resources and methods overview\nResource name(Archetype)\nResource URI\nHTTP method or custom operation\nDescription\nUeContextInPgwData(Document)\n/{ueId}/ue-context-in-pgw-data\nGET\nRetrieve the UE's Context in PGW Data\nSubscriptions\n(Collection)\n/{ueId}/subscriptions\nPOST\nCreate a subscription\nIndividual Subscription\n(Document)\n/{ueId}/subscriptions/{subscriptionId}\nDELETE\nDelete the subscription identified by {subscriptionId}, i.e. unsubscribe\nPATCH\nModify the subscription identified by {subscriptionId}",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.2.3.1-1",
        "figure_6.2.3.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.2.3.2.1",
      "section_id": "6.2.3.2.1",
      "section_title": "Description",
      "content": "This resource represents the allocated PGWs for the UE.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_6.2.3.2.2",
      "section_id": "6.2.3.2.2",
      "section_title": "Resource Definition",
      "content": "Resource URI: {apiRoot}/nhss-sdm/<apiVersion>/{ueId}/ue-context-in-pgw-data\nThis resource shall support the resource URI variables defined in table 6.2.3.2.2-1.\nTable 6.2.3.2.2-1: Resource URI variables for this resource\nName\nDefinition\napiRoot\nSee clause 6.2.1\napiVersion\nSee clause 6.2.1\nueId\nRepresents the UE identifier with type IMSI.\npattern: \"^(imsi-[0-9]{5,15}|.+)$\"",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6.2.1",
        "table_6.2.3.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.2.3.2.3",
      "section_id": "6.2.3.2.3",
      "section_title": "Resource Standard Methods",
      "content": "6.2.3.2.3.1\tGET\nThis method shall support the URI query parameters specified in table 6.2.3.2.3.1-1.\nTable 6.2.3.2.3.3-1: URI query parameters supported by the GET method on this resource\nName\nData type\nP\nCardinality\nDescription\nn/a\nThis method shall support the request data structures specified in table 6.2.3.2.3.1-2 and the response data structures and response codes specified in table 6.2.3.2.3.1-3.\nTable 6.2.3.2.3.1-2: Data structures supported by the GET Request Body on this resource\nData type\nP\nCardinality\nDescription\nn/a\nTable 6.2.3.2.3.1-3: Data structures supported by the GET Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nUeContextInPgwData\nM\n1\n200 OK\nA response body containing the UeContextInPgwData shall be returned.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\nProblemDetails\nO\n0..1\n404 Not Found\nThe \"cause\" attribute may be used to indicate one of the following application errors:\n- USER_NOT_FOUND\n- DATA_NOT_FOUND\nNOTE:\tIn addition, common data structures as listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] are supported.\nTable 6.2.3.2.3.1-4: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same HSS (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected.\nTable 6.2.3.2.3.1-5: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same HSS (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "table_6.2.3.2.3.1-1",
        "table_6.2.3.2.3.3-1",
        "table_6.2.3.2.3.1-2",
        "table_6.2.3.2.3.1-3",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.2.3.2.3.1-4",
        "table_6.2.3.2.3.1-5",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.2.3.3.1",
      "section_id": "6.2.3.3.1",
      "section_title": "Description",
      "content": "This resource is used to represent subscriptions to notifications.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_6.2.3.3.2",
      "section_id": "6.2.3.3.2",
      "section_title": "Resource Definition",
      "content": "Resource URI: {apiRoot}/nhss-sdm/<apiVersion>/{ueId}/subscriptions\nThis resource shall support the resource URI variables defined in table 6.2.3.3.2-1.\nTable 6.2.3.3.2-1: Resource URI variables for this resource\nName\nDefinition\napiRoot\nSee clause 6.1.1\napiVersion\nSee clause 6.1.1\nueId\nRepresents the IMSI of the subscriber.\tpattern: \"^(imsi-[0-9]{5,15})$\"",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6.1.1",
        "table_6.2.3.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.2.3.3.3",
      "section_id": "6.2.3.3.3",
      "section_title": "Resource Standard Methods",
      "content": "6.2.3.3.3.1\tPOST\nThis method shall support the URI query parameters specified in table 6.2.3.3.3.1-1.\nTable 6.2.3.3.3.1-1: URI query parameters supported by the POST method on this resource\nName\nData type\nP\nCardinality\nDescription\nn/a\nThis method shall support the request data structures specified in table 6.2.3.3.3.1-2 and the response data structures and response codes specified in table 6.2.3.3.3.1-3.\nTable 6.2.3.3.3.1-2: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nSubscriptionData\nM\n1\nThe subscription that is to be created.\nTable 6.2.3.3.3.1-3: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nSubscriptionData\nM\n1\n201 Created\nUpon success, a response body containing a representation of the created Individual subscription resource shall be returned.\nThe HTTP response shall include a \"Location\" HTTP header that contains the resource URI of the created resource.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\nProblemDetails\nO\n0..1\n404 Not Found\nThe \"cause\" attribute may be used to indicate one of the following application errors:\n- USER_NOT_FOUND\nProblemDetails\nO\n0..1\n501 Not Implemented\nThe \"cause\" attribute may be used to indicate one of the following application errors:\n- UNSUPPORTED_RESOURCE_URI\nThis response shall not be cached.\nNOTE:\tIn addition, common data structures as listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] are supported.\nTable 6.2.3.3.3.1-4: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same HSS (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected.\nTable 6.2.3.3.3.1-5: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same HSS (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "table_6.2.3.3.3.1-1",
        "table_6.2.3.3.3.1-2",
        "table_6.2.3.3.3.1-3",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.2.3.3.3.1-4",
        "table_6.2.3.3.3.1-5",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.2.3.4.1",
      "section_id": "6.2.3.4.1",
      "section_title": "Description",
      "content": "This resource is used to represent an individual subscription to notifications.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_6.2.3.4.2",
      "section_id": "6.2.3.4.2",
      "section_title": "Resource Definition",
      "content": "Resource URI: {apiRoot}/nhss-sdm/<apiVersion>/{ueId}/subscriptions/{subscriptionId}\nThis resource shall support the resource URI variables defined in table 6.2.3.4.2-1.\nTable 6.2.3.4.2-1: Resource URI variables for this resource\nName\nDefinition\napiRoot\nSee clause 6.1.1\napiVersion\nSee clause 6.1.1\nueId\nRepresents the IMSI of the subscriber\tpattern: \"^(imsi-[0-9]{5,15})$\"\nsubscriptionId\nThe subscriptionId identifies an individual subscription to notifications.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6.1.1",
        "table_6.2.3.4.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.2.3.4.3",
      "section_id": "6.2.3.4.3",
      "section_title": "Resource Standard Methods",
      "content": "6.2.3.4.3.1\tDELETE\nThis method shall support the URI query parameters specified in table 6.2.3.4.3.1-1.\nTable 6.2.3.4.3.1-1: URI query parameters supported by the DELETE method on this resource\nName\nData type\nP\nCardinality\nDescription\nn/a\nThis method shall support the request data structures specified in table 6.2.3.4.3.1-2 and the response data structures and response codes specified in table 6.2.3.4.3.1-3.\nTable 6.2.3.4.3.1-2: Data structures supported by the Delete Request Body on this resource\nData type\nP\nCardinality\nDescription\nn/a\nThe request body shall be empty.\nTable 6.2.3.4.3.1-3: Data structures supported by the DELETE Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nn/a\n204 No Content\nUpon success, an empty response body shall be returned.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\nProblemDetails\nO\n0..1\n404 Not Found\nThe \"cause\" attribute may be used to indicate one of the following application errors:\n- USER_NOT_FOUND\n- SUBSCRIPTION_NOT_FOUND (see 3GPP TS 29.500 [4] table 5.2.7.2-1)\nNOTE:\tIn addition, common data structures as listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] are supported.\nTable 6.2.3.4.3.1-4: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same HSS (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected.\nTable 6.2.3.4.3.1-5: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same HSS (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected.\n6.2.3.4.3.2\tPATCH\nThis method shall support the URI query parameters specified in table 6.2.3.4.3.2-1.\nTable 6.2.3.4.3.2-1: URI query parameters supported by the PATCH method on this resource\nName\nData type\nP\nCardinality\nDescription\nn/a\nThis method shall support the request data structures specified in table 6.2.3.4.3.2-2 and the response data structures and response codes specified in table 6.2.3.4.3.2-3.\nTable 6.2.3.4.3.2-2: Data structures supported by the PATCH Request Body on this resource\nData type\nP\nCardinality\nDescription\narray(PatchItem)\nM\n1\nIt contains the list of changes to be made to the resource representing the individual subscription, according to the JSON PATCH format specified in IETF RFC 6902 [13].\nTable 6.2.3.4.3.2-3: Data structures supported by the PATCH Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nn/a\n204 No Content\nUpon success, a response with no content is returned.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\nProblemDetails\nO\n0..1\n404 Not Found\nThe \"cause\" attribute may be used to indicate one of the following application errors:\n- USER_NOT_FOUND\n- SUBSCRIPTION_NOT_FOUND (see 3GPP TS 29.500 [4] table 5.2.7.2-1)\nProblemDetails\nO\n0..1\n403 Forbidden\nOne or more attributes are not allowed to be modified.\nThe \"cause\" attribute may be used to indicate one of the following application errors:\n- MODIFICATION_NOT_ALLOWED (see 3GPP TS 29.500 [4] table 5.2.7.2-1)\nNOTE:\tIn addition, common data structures as listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] are supported.\nTable 6.2.3.4.3.2-4: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same HSS (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected.\nTable 6.2.3.4.3.2-5: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same HSS (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "table_6.2.3.4.3.1-1",
        "table_6.2.3.4.3.1-2",
        "table_6.2.3.4.3.1-3",
        "ts_29.500_table_5.2.7.2-1",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.2.3.4.3.1-4",
        "table_6.2.3.4.3.1-5",
        "table_6.2.3.4.3.2-1",
        "table_6.2.3.4.3.2-2",
        "table_6.2.3.4.3.2-3",
        "ts_29.500_table_6.2.3.4.3.2-4",
        "table_6.2.3.4.3.2-5",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.2.4",
      "section_id": "6.2.4",
      "section_title": "Custom Operations without associated resources",
      "content": "In this release of this specification, no custom operations without associated resources are defined for the Nhss_SubscriberDataManagement Service.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_6.2.5.1",
      "section_id": "6.2.5.1",
      "section_title": "General",
      "content": "This clause specifies the use of notifications and corresponding protocol details.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_6.2.5.2",
      "section_id": "6.2.5.2",
      "section_title": "Data Change Notification",
      "content": "The POST method shall be used for Data Change Notifications and the URI shall be as provided during the subscription procedure.\nResource URI: {callbackReference}\nSupport of URI query parameters is specified in table 6.2.5.2-1.\nTable 6.2.5.2-1: URI query parameters supported by the POST method\nName\nData type\nP\nCardinality\nDescription\nn/a\nSupport of request data structures is specified in table 6.2.5.2-2 and of response data structures and response codes is specified in table 6.2.5.2-3.\nTable 6.2.5.2-2: Data structures supported by the POST Request Body\nData type\nP\nCardinality\nDescription\nModificationNotification\nM\n1\nWhen a modification of any attributes in UeContextInPgwData is notified to the UDM, the notification should include all the attributes including the ones that are not modified as well. For the unchanged attributes, \"REPLACE\" operation shall be used in changeItem with absent origValue.\nTable 6.2.5.2-3: Data structures supported by the POST Response Body\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nn/a\n204 No Content\nUpon success, an empty response body shall be returned.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\nProblemDetails\nO\n0..1\n404 Not Found\nThe \"cause\" attribute may be used to indicate one of the following application errors:\n- CONTEXT_NOT_FOUND\nSee table 6.2.7.3-1 for the description of this error.\nNOTE:\tIn addition, common data structures as listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] are supported.\nTable 6.2.5.2-4: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nA URI pointing to the endpoint of the NF service consumer to which the notification should be sent. For the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected.\nTable 6.2.5.2-5: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nA URI pointing to the endpoint of the NF service consumer to which the notification should be sent. For the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "table_6.2.5.2-1",
        "table_6.2.5.2-2",
        "table_6.2.5.2-3",
        "table_6.2.7.3-1",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.2.5.2-4",
        "table_6.2.5.2-5",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.2.6.1",
      "section_id": "6.2.6.1",
      "section_title": "General",
      "content": "This clause specifies the application data model supported by the API.\nTable 6.2.6.1-1 specifies the data types defined for the Nhss_SubscriberDataManagement service API.\nTable 6.2.6.1-1: Nhss_SubscriberDataManagement specific Data Types\nData type\nClause defined\nDescription\nUeContextInPgwData\n6.2.6.2.2\nSubscriptionData\n6.2.6.2.3\nSubscription Data\nSubscriptionDataSets\n6.2.6.2.4\nUE Subscription Data Sets\nTable 6.2.6.1-2 specifies data types re-used by the Nhss_SubscriberDataManagement service API from other APIs, including a reference and when needed, a short description of their use within the Nhss_SubscriberDataManagement service API.\nTable 6.2.6.1-2: Nhss_SubscriberDataManagement re-used Data Types\nData type\nReference\nComments\nPgwInfo\n3GPP TS 29.503 [13]\nModificationNotification\n3GPP TS 29.503 [13]\nNfInstanceId\n3GPP TS 29.571 [7]\nNetwork Function Instance Identifier\nUri\n3GPP TS 29.571 [7]\nUniform Resource Identifier\nDateTime\n3GPP TS 29.571 [7]\nProblemDetails\n3GPP TS 29.571 [7]\nResponse body of error response messages.\nRedirectResponse\n3GPP TS 29.571 [7]\nResponse body of redirect response messages.\nFqdn\n3GPP TS 29.571 [7]\nFully Qualified Domain Name",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.2.6.1-1",
        "table_6.2.6.1-2",
        "ts_6.2",
        "ts_29.503",
        "ts_29.571"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.2.6.2.1",
      "section_id": "6.2.6.2.1",
      "section_title": "Introduction",
      "content": "This clause defines the data structures to be used in resource representations.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_6.2.6.2.2",
      "section_id": "6.2.6.2.2",
      "section_title": "Type: UeContextInPgwData",
      "content": "Table 6.2.6.2.2-1: Definition of type UeContextInPgwData\nAttribute name\nData type\nP\nCardinality\nDescription\npgwInfo\narray(PgwInfo)\nO\n1..N\nInformation about the APNs and PGW-C+SMF FQDNs used in interworking with UDM\nemergencyFqdn\nFqdn\nO\n0..1\nPGW-C+SMF FQDN for emergency session\nemergencyPlmnId\nPlmnId\nO\n0..1\nPLMN where the PGW-C+SMF for emergency session is located\nemergencyIpAddr\nIpAddress\nO\n0..1\nIP address of the PGW-C+SMF for emergency session\nemergencyRegistrationTime\nDateTime\nO\n0..1\nTime of PGW-C+SMF for emergency session Registration.\nNote:\tAt least one of pgwInfo and emergencyFqdn/emergencyIPAddr shall be present. The format of PGW-C+SMF FQDN is specified in clause 5.12.3.2, 3GPP TS 29.303 [16].",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.303_clause_5.12.3.2",
        "table_6.2.6.2.2-1",
        "ts_29.303"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.2.6.2.3",
      "section_id": "6.2.6.2.3",
      "section_title": "Type: SubscriptionData",
      "content": "Table 6.2.6.2.3-1: Definition of type SubscriptionData\nAttribute name\nData type\nP\nCardinality\nDescription\nnfInstanceId\nNfInstanceId\nM\n1\nIdentity of the NF Instance creating the subscription.\ncallbackReference\nUri\nM\n1\nURI provided by the NF service consumer to receive notifications\nmonitoredResourceUris\narray(Uri)\nM\n1..N\nA set of URIs that identify the resources for which a change triggers a notification.\nThe URI shall take the form of either an absolute URI or an absolute-path reference as defined in IETF RFC 3986 [31].\nSee NOTE 1.\nexpires\nDateTime\nO\n0..1\nIf present in a POST request, it indicates the point in time at which the subscription expires.\nWithin a POST request the proposed expiry time is conveyed whereas in a POST response or PATCH response the confirmed expiry time is returned.\nimmediateReport\nboolean\nO\n0..1\nThis IE indicates whether immediate report is needed or not.\nWhen present, this IE shall be set as following:\n- true: immediate report is required\n- false (default) immediate report is not required\nreport\nSubscriptionDataSets\nC\n0..1\nThis IE shall be present in Subscribe response, if the immediateReport attribute is set to \"true\" in Subscribe request.\nWhen present, this IE shall contain the representation of subscription data sets that to be monitored, i.e. listed in monitoredResourceUris attribute.\nNOTE 1:\tThe HSS should handle only the relative-path part (apiSpecificResourceUriPart, see 3GPP TS 29.501 [5] clause 4.4.1) and ignore possible inconsistencies (caused by e.g. an SCP) in the base URI part.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.501_clause_4.4.1",
        "table_6.2.6.2.3-1",
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.2.6.2.4",
      "section_id": "6.2.6.2.4",
      "section_title": "Type: SubscriptionDataSets",
      "content": "Table 6.2.6.2.4-1: Definition of type SusbcriptionDataSets\nAttribute name\nData type\nP\nCardinality\nDescription\nueContextInPgwData\nUeContextInPgwData\nO\n0..1\nUE Context in PGW Data",
      "chunk_type": "general",
      "cross_references": [
        "table_6.2.6.2.4-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.2.6.3.1",
      "section_id": "6.2.6.3.1",
      "section_title": "Introduction",
      "content": "This clause defines simple data types and enumerations that can be referenced from data structures defined in the previous clauses.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_6.2.6.3.2",
      "section_id": "6.2.6.3.2",
      "section_title": "Simple data types",
      "content": "The simple data types defined in table 6.2.6.3.2-1 shall be supported.\nTable 6.2.6.3.2-1: Simple data types\nType Name\nType Definition\nDescription",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.2.6.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.2.7.1",
      "section_id": "6.2.7.1",
      "section_title": "General",
      "content": "HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS 29.500 [4].",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5.2.4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.2.7.2",
      "section_id": "6.2.7.2",
      "section_title": "Protocol Errors",
      "content": "Protocol errors handling shall be supported as specified in clause 5.2.7 of 3GPP TS 29.500 [4].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_5.2.7",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.2.7.3",
      "section_id": "6.2.7.3",
      "section_title": "Application Errors",
      "content": "The common application errors defined in the Table 5.2.7.2-1 in 3GPP TS 29.500 [4] may also be used for the Nhss_SubscriberDataManagement service. The following application errors listed in Table 6.2.7.3-1 are specific for the Nhss_SubscriberDataManagement service.\nTable 6.2.7.3-1: Application errors\nApplication Error\nHTTP status code\nDescription\nUSER_NOT_FOUND\n404 Not Found\nThe user does not exist.\nDATA_NOT_FOUND\n404 Not Found\nThe requested data is not found/does not exist.\nCONTEXT_NOT_FOUND\n404 Not Found\nIt is used during the modification of an existing subscription when no corresponding context exists.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.500_table_5.2.7.2-1",
        "table_6.2.7.3-1",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.2.8",
      "section_id": "6.2.8",
      "section_title": "Feature Negotiation",
      "content": "The optional features in table 6.2.8-1 are defined for the Nhss_SubscriberDataManagement API. They shall be negotiated using the extensibility mechanism defined in clause 6.6 of 3GPP TS 29.500 [4].\nTable 6.2.8-1: Supported Features\nFeature number\nFeature Name\nDescription",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.6",
        "table_6.2.8-1",
        "ts_29.500_table_6.2.8-1",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.2.9",
      "section_id": "6.2.9",
      "section_title": "Security",
      "content": "As indicated in 3GPP TS 33.501 [6] and 3GPP TS 29.500 [4], the access to the Nhss_SDM API may be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [18]), based on local configuration, using the \"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [19]) plays the role of the authorization server.\nIf OAuth2 is used, an NF Service Consumer, prior to consuming services offered by the Nhss_SDM API, shall obtain a \"token\" from the authorization server, by invoking the Access Token Request service, as described in 3GPP TS 29.510 [19], clause 5.4.2.2.\nNOTE:\tWhen multiple NRFs are deployed in a network, the NRF used as authorization server is the same NRF that the NF Service Consumer used for discovering the Nhss_SDM service.\nThe Nhss_SDM API defines a single scope \"nhss-sdm\" for OAuth2 authorization (as specified in 3GPP TS 33.501 [6]) for the entire API, and it does not define any additional scopes at resource or operation level.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.510_clause_5.4.2.2",
        "ts_33.501",
        "ts_29.500",
        "ts_29.510"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.2.10",
      "section_id": "6.2.10",
      "section_title": "HTTP redirection",
      "content": "An HTTP request may be redirected to a different HSS service instance when using direct or indirect communications (see 3GPP TS 29.500 [4]).\nAn SCP that reselects a different HSS producer instance will return the NF Instance ID of the new HSS producer instance in the 3gpp-Sbi-Producer-Id header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].\nIf an HSS redirects a service request to a different HSS using an 307 Temporary Redirect or 308 Permanent Redirect status code, the identity of the new HSS towards which the service request is redirected shall be indicated in the 3gpp-Sbi-Target-Nf-Id header of the 307 Temporary Redirect or 308 Permanent Redirect response as specified in clause 6.10.9.1 of 3GPP TS 29.500 [4].",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.500_clause_6.10.3.4",
        "ts_29.500_clause_6.10.9.1",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.3.1",
      "section_id": "6.3.1",
      "section_title": "Introduction",
      "content": "The Nhss_UEContextManagement service shall use the Nhss_UEContextManagement API.\nThe request URI used in HTTP request from the NF service consumer towards the NF service producer shall have the structure defined in clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:\n{apiRoot}/<apiName>/<apiVersion>/<apiSpecificResourceUriPart>\nwith the following components:\n-\tThe {apiRoot} shall be set as described in 3GPP TS 29.501 [5].\n-\tThe <apiName> shall be \"nhss-uecm\".\n-\tThe <apiVersion> shall be \"v1\".\n-\tThe <apiSpecificResourceUriPart> shall be set as described in clause 6.1.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.501_clause_4.4.1",
        "clause_6.1",
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.3.2.1",
      "section_id": "6.3.2.1",
      "section_title": "General",
      "content": "HTTP/2, as defined in IETF RFC 9113 [9], shall be used as specified in clause 5 of 3GPP TS 29.500 [4].\nHTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].\nHTTP messages and bodies for the Nhss_UEContextManagement service shall comply with the OpenAPI [10] specification contained in Annex A.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5",
        "ts_29.500_clause_5.3",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.3.2.2.1",
      "section_id": "6.3.2.2.1",
      "section_title": "General",
      "content": "The usage of HTTP standard headers shall be supported as specified in clause 5.2.2 of 3GPP TS 29.500 [4].",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5.2.2",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.3.2.2.2",
      "section_id": "6.3.2.2.2",
      "section_title": "Content type",
      "content": "The following content types shall be supported:\n-\tJSON, as defined in IETF RFC 8259 [11], signalled by the content type \"application/json\".\n-\tThe Problem Details JSON Object (IETF RFC 9457 [12] signalled by the content type \"application/problem+json\".",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_6.3.2.3.1",
      "section_id": "6.3.2.3.1",
      "section_title": "General",
      "content": "In this release of the specification, no specific custom headers are defined for the Nhss_UEContextManagement service.\nFor 3GPP specific HTTP custom headers used across all service-based interfaces, see clause 5.2.3 of 3GPP TS 29.500 [4].",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5.2.3",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.3.3.1",
      "section_id": "6.3.3.1",
      "section_title": "Overview",
      "content": "Figure 6.3.3.1-1: Resource URI structure of the nhss-uecm API\nTable 6.3.3.1-1 provides an overview of the resources and applicable HTTP methods.\nTable 6.3.3.1-1: Resources and methods overview\nResource name\nResource URI\nHTTP method or custom operation\nDescription\nn/a\nderegister-sn\nderegister-sn (POST)\nRequesting MME/SGSN deregistration\nn/a\nimei-update\nimei-update\n(POST)\nRequests the update of the IMEI of the UE stored in HSS\nn/a\nroaming-status-update\nroaming-status-update\n(POST)\nRequests the update of the roaming status of the UE stored in HSS",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.3.3.1-1",
        "figure_6.3.3.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.3.4.1",
      "section_id": "6.3.4.1",
      "section_title": "Overview",
      "content": "Table 6.3.4.1-1: Custom operations without associated resources\nCustom operation URI\nMapped HTTP method\nDescription\n{apiRoot}/nhss-uecm/<apiVersion>/deregister-sn\nPOST\nRequesting MME/SGSN deregistration.",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.3.4.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.3.4.2.1",
      "section_id": "6.3.4.2.1",
      "section_title": "Description",
      "content": "This custom operation is used by the NF service consumer (UDM) to request MME/SGSN deregistration.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_6.3.4.2.2",
      "section_id": "6.3.4.2.2",
      "section_title": "Operation Definition",
      "content": "This operation shall support the data structures and response codes specified in tables 6.3.4.2.2-1 and 6.3.4.2.2-2.\nTable 6.3.4.2.2-1: Data structures supported by the POST Request Body\nData type\nP\nCardinality\nDescription\nDeregistrationRequest\nM\n1\nTable 6.3.4.2.2-2: Data structures supported by the POST Response Body\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nn/a\n204 No Content\nUpon success, an empty response body shall be returned.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\nProblemDetails\nO\n0..1\n404 Not Found\nThe \"cause\" attribute may be used to indicate one of the following application errors:\n- USER_NOT_FOUND\nTable 6.3.4.2.2-3: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same HSS (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected.\nTable 6.3.4.2.2-4: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same HSS (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "table_6.3.4.2.2-1",
        "table_6.3.4.2.2-2",
        "table_6.3.4.2.2-3",
        "table_6.3.4.2.2-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.3.4.3.1",
      "section_id": "6.3.4.3.1",
      "section_title": "Description",
      "content": "This custom operation is used by the NF service consumer (UDM) to request the update of the IMEI of the UE.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_6.3.4.3.2",
      "section_id": "6.3.4.3.2",
      "section_title": "Operation Definition",
      "content": "This operation shall support the data structures and response codes specified in tables 6.3.4.3.2-1 and 6.3.4.3.2-2.\nTable 6.3.4.3.2-1: Data structures supported by the POST Request Body\nData type\nP\nCardinality\nDescription\nImeiUpdateInfo\nM\n1\nTable 6.3.4.3.2-2: Data structures supported by the POST Response Body\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nImeiUpdateResponse\nM\n1\n200 OK\nUpon success, a response body containing the IMEI(SV) stored previously in HSS shall be returned.\nn/a\n204 No Content\nUpon success, if the HSS does not have any IMEI(SV) values stored for the UE, an empty response body shall be returned.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\nProblemDetails\nO\n0..1\n404 Not Found\nThe \"cause\" attribute may be used to indicate one of the following application errors:\n- USER_NOT_FOUND\n- CONTEXT_NOT_FOUND\nTable 6.3.4.3.2-3: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same HSS (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected.\nTable 6.3.4.3.2-4: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same HSS (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "table_6.3.4.3.2-1",
        "table_6.3.4.3.2-2",
        "table_6.3.4.3.2-3",
        "table_6.3.4.3.2-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.3.4.4.1",
      "section_id": "6.3.4.4.1",
      "section_title": "Description",
      "content": "This custom operation is used by the NF service consumer (UDM) to request the update of the roaming status of the UE.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_6.3.4.4.2",
      "section_id": "6.3.4.4.2",
      "section_title": "Operation Definition",
      "content": "This operation shall support the data structures and response codes specified in tables 6.3.4.4.2-1 and 6.3.4.4.2-2.\nTable 6.3.4.4.2-1: Data structures supported by the POST Request Body\nData type\nP\nCardinality\nDescription\nRoamingStatusUpdateInfo\nM\n1\nTable 6.3.4.4.2-2: Data structures supported by the POST Response Body\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nn/a\n204 No Content\nUpon success, an empty response body shall be returned.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\nProblemDetails\nO\n0..1\n404 Not Found\nThe \"cause\" attribute may be used to indicate one of the following application errors:\n- USER_NOT_FOUND\n- CONTEXT_NOT_FOUND\nTable 6.3.4.4.2-3: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same HSS (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected.\nTable 6.3.4.4.2-4: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same HSS (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "table_6.3.4.4.2-1",
        "table_6.3.4.4.2-2",
        "table_6.3.4.4.2-3",
        "table_6.3.4.4.2-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.3.5",
      "section_id": "6.3.5",
      "section_title": "Notifications",
      "content": "In this release of this specification, no notifications are defined for the Nhss_UEContextManagement Service.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_6.3.6.1",
      "section_id": "6.3.6.1",
      "section_title": "General",
      "content": "This clause specifies the application data model supported by the API.\nTable 6.3.6.1-1 specifies the structured data types defined for the Nhss_UECM service API.\nTable 6.3.6.1-1: Nhss_UECM specific Data Types\nData type\nClause defined\nDescription\nApplicability\nDeregistrationRequest\n6.3.6.2.2\nContains IMSI, deregistration reason\nImeiUpdateInfo\n6.3.6.2.3\nContains IMSI, new IMEI(SV)\nImeiUpdateResponse\n6.3.6.2.4\nContains the previous IMEI(SV) stored in HSS\nRoamingStatusUpdateInfo\n6.3.6.2.5\nContains PLMN-ID where the UE is located\nTable 6.3.6.1-2 specifies data types re-used by the Nhss_UECM service API from other specifications, including a reference to their respective specifications and when needed, a short description of their use within the Nhss_UECM service API.\nTable 6.3.6.1-2: Nhss_UECM re-used Data Types\nData type\nReference\nComments\nApplicability\nGuami\n3GPP TS 29.571 [7]\nProblemDetails\n3GPP TS 29.571 [7]\nResponse body of error response messages.\nRedirectResponse\n3GPP TS 29.571 [7]\nResponse body of redirect response messages.\nPlmnId\n3GPP TS 29.571 [7]",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.3.6.1-1",
        "table_6.3.6.1-2",
        "ts_29.571"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.3.6.2.1",
      "section_id": "6.3.6.2.1",
      "section_title": "Introduction",
      "content": "This clause defines the structures to be used in resource representations.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_6.3.6.2.2",
      "section_id": "6.3.6.2.2",
      "section_title": "Type: DeregistrationRequest",
      "content": "Table 6.3.6.2.2-1: Definition of type DeregistrationRequest\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nimsi\nstring\nM\n1\npattern: \"^[0-9]{5,15}$\"\nderegReason\nDeregistrationReason\nM\n1\nString, see clause 6.3.6.3.3\nguami\nGuami\nO\n0..1\nThe GUAMI identifying the AMF where the UE is registered. May be used by the HSS based on operator policy to decide whether a registered VLR shall be cancelled.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3.6.3.3",
        "table_6.3.6.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.3.6.2.3",
      "section_id": "6.3.6.2.3",
      "section_title": "Type: ImeiUpdateInfo",
      "content": "Table 6.3.6.2.3-1: Definition of type ImeiUpdateInfo\nAttribute name\nData type\nP\nCardinality\nDescription\nimsi\nstring\nM\n1\nIMSI of the subscriber.\npattern: \"^[0-9]{5,15}$\"\nimei\nstring\nC\n0..1\nIMEI of the UE as described in 3GPP TS 23.003 [15], clause 6.2.1; it shall not include the Check Digit.\npattern: \"^[0-9]{14}$\"\nimeisv\nstring\nC\n0..1\nIMEISV of the UE as described in 3GPP TS 23.003 [15], clause 6.2.2.\npattern: \"^[0-9]{16}$\"\nNOTE:\tExactly one of attributes \"imei\" or \"imeisv\" shall be present.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.003_clause_6.2.1",
        "ts_23.003_clause_6.2.2",
        "table_6.3.6.2.3-1",
        "ts_23.003"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.3.6.2.4",
      "section_id": "6.3.6.2.4",
      "section_title": "Type: ImeiUpdateResponse",
      "content": "Table 6.3.6.2.4-1: Definition of type ImeiUpdateResponse\nAttribute name\nData type\nP\nCardinality\nDescription\npreviousImei\nstring\nC\n0..1\nPrevious IMEI of the UE as described in 3GPP TS 23.003 [15], clause 6.2.1; it shall not include the Check Digit.\nIt shall be included if the HSS has an IMEI value stored for the UE.\npattern: \"^[0-9]{14}$\"\npreviousImeisv\nstring\nC\n0..1\nIMEISV of the UE as described in 3GPP TS 23.003 [15], clause 6.2.2.\nIt shall be included if the HSS has an IMEISV  value stored for the UE.\npattern: \"^[0-9]{16}$\"\nNOTE:\tAt least one of attributes \"previousImei\" or \"previousImeisv\" shall be present.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.003_clause_6.2.1",
        "ts_23.003_clause_6.2.2",
        "table_6.3.6.2.4-1",
        "ts_23.003"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.3.6.2.5",
      "section_id": "6.3.6.2.5",
      "section_title": "Type: RoamingStatusUpdateInfo",
      "content": "Table 6.3.6.2.5-1: Definition of type RoamingStatusUpdateInfo\nAttribute name\nData type\nP\nCardinality\nDescription\nimsi\nstring\nM\n1\nIMSI of the subscriber.\npattern: \"^[0-9]{5,15}$\"\nplmnId\nPlmnId\nM\n1\nPLMN-ID where the UE is located.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.3.6.2.5-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.3.6.3.1",
      "section_id": "6.3.6.3.1",
      "section_title": "Introduction",
      "content": "This clause defines simple data types and enumerations that can be referenced from data structures defined in the previous clauses.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_6.3.6.3.2",
      "section_id": "6.3.6.3.2",
      "section_title": "Simple data types",
      "content": "The simple data types defined in table 6.3.6.3.2-1 shall be supported.\nTable 6.3.6.3.2-1: Simple data types\nType Name\nType Definition\nDescription",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.3.6.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.3.6.3.3",
      "section_id": "6.3.6.3.3",
      "section_title": "Enumeration: DeregistrationReason",
      "content": "Table 6.3.6.3.3-1: Enumeration DeregistrationReason\nEnumeration value\nDescription\n\"UE_INITIAL_AND_SINGLE_REGISTRATION\"\nThis value is used when the UDM needs to indicate to HSS that the MME/SGSN, if any, shall be cancelled due to an initial registration for single registration.\n\"UE_INITIAL_AND_DUAL_REGISTRATION\"\nThis value is used when the UDM needs to indicate to HSS that an SGSN shall be cancelled (due to initial registration), but the MME shall not be cancelled (due to dual registration).\n\"EPS_TO_5GS_MOBILITY\"\nThis value is used when the UDM needs to indicate to HSS that the MME/SGSN, if any, shall be cancelled due to a mobility event (i.e. for single registration which is not an initial registration).\n\"EPS_TO_5GS_MOBILITY_WITHOUT_N26_IWK\"\nThis value is used when the UDM needs to indicate to HSS that an SGSN shall be cancelled (due to mobility event), but the MME shall not be cancelled (due to mobility registration for single registration).",
      "chunk_type": "general",
      "cross_references": [
        "table_6.3.6.3.3-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.3.7.1",
      "section_id": "6.3.7.1",
      "section_title": "General",
      "content": "HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS 29.500 [4].",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5.2.4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.3.7.2",
      "section_id": "6.3.7.2",
      "section_title": "Protocol Errors",
      "content": "Protocol errors handling shall be supported as specified in clause 5.2.7 of 3GPP TS 29.500 [4].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_5.2.7",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.3.7.3",
      "section_id": "6.3.7.3",
      "section_title": "Application Errors",
      "content": "The common application errors defined in the Table 5.2.7.2-1 in 3GPP TS 29.500 [4] may also be used for the Nudm_UEContextManagement service. The application errors defined for the Nhss_UEContextManagement service are listed in Table 6.3.7.3-1.\nTable 6.3.7.3-1: Application errors\nApplication Error\nHTTP status code\nDescription\nUSER_NOT_FOUND\n404 Not Found\nThe user does not exist.\nCONTEXT_NOT_FOUND\n404 Not Found\nIt is used when no corresponding UE context exists.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.500_table_5.2.7.2-1",
        "table_6.3.7.3-1",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.3.8",
      "section_id": "6.3.8",
      "section_title": "Feature Negotiation",
      "content": "The optional features in table 6.3.8-1 are defined for the Nhss_UEContextManagement API. They shall be negotiated using the extensibility mechanism defined in clause 6.6 of 3GPP TS 29.500 [4].\nTable 6.3.8-1: Supported Features\nFeature number\nFeature Name\nDescription",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.6",
        "table_6.3.8-1",
        "ts_29.500_table_6.3.8-1",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.3.9",
      "section_id": "6.3.9",
      "section_title": "Security",
      "content": "As indicated in 3GPP TS 33.501 [6] and 3GPP TS 29.500 [4], the access to the Nhss_UECM API may be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [18]), based on local configuration, using the \"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [19]) plays the role of the authorization server.\nIf OAuth2 is used, an NF Service Consumer, prior to consuming services offered by the Nhss_UECM API, shall obtain a \"token\" from the authorization server, by invoking the Access Token Request service, as described in 3GPP TS 29.510 [19], clause 5.4.2.2.\nNOTE:\tWhen multiple NRFs are deployed in a network, the NRF used as authorization server is the same NRF that the NF Service Consumer used for discovering the Nhss_UECM service.\nThe Nhss_UECM API defines a single scope \"nhss-uecm\" for OAuth2 authorization (as specified in 3GPP TS 33.501 [6]) for the entire API, and it does not define any additional scopes at resource or operation level.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.510_clause_5.4.2.2",
        "ts_33.501",
        "ts_29.500",
        "ts_29.510"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.3.10",
      "section_id": "6.3.10",
      "section_title": "HTTP redirection",
      "content": "An HTTP request may be redirected to a different HSS service instance when using direct or indirect communications (see 3GPP TS 29.500 [4]).\nAn SCP that reselects a different HSS producer instance will return the NF Instance ID of the new HSS producer instance in the 3gpp-Sbi-Producer-Id header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].\nIf an HSS redirects a service request to a different HSS using an 307 Temporary Redirect or 308 Permanent Redirect status code, the identity of the new HSS towards which the service request is redirected shall be indicated in the 3gpp-Sbi-Target-Nf-Id header of the 307 Temporary Redirect or 308 Permanent Redirect response as specified in clause 6.10.9.1 of 3GPP TS 29.500 [4].",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.500_clause_6.10.3.4",
        "ts_29.500_clause_6.10.9.1",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.1",
      "section_id": "6.4.1",
      "section_title": "API URI",
      "content": "URIs of this API shall have the following root:\n{apiRoot}/<apiName>/<apiVersion>/\nwhere \"apiRoot\" is defined in clause 4.4.1 of 3GPP TS 29.501 [5], the \"apiName\" shall be set to \"nhss-ee\" and the \"apiVersion\" shall be set to \"v1\" for the current version of this specification.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.501_clause_4.4.1",
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.2.1",
      "section_id": "6.4.2.1",
      "section_title": "General",
      "content": "HTTP/2, as defined in IETF RFC 9113 [13], shall be used as specified in clause 5 of 3GPP TS 29.500 [4].\nHTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].\nHTTP messages and bodies for the Nhss_EE service shall comply with the OpenAPI [14] specification contained in Annex A5.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5",
        "ts_29.500_clause_5.3",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.2.2.1",
      "section_id": "6.4.2.2.1",
      "section_title": "General",
      "content": "The usage of HTTP standard headers shall be supported as specified in clause 5.2.2 of 3GPP TS 29.500 [4].",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5.2.2",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.2.2.2",
      "section_id": "6.4.2.2.2",
      "section_title": "Content type",
      "content": "The following content types shall be supported:\nJSON, as defined in IETF RFC 8259 [15], signalled by the content type \"application/json\".\nThe Problem Details JSON Object (IETF RFC 9457 [16] signalled by the content type \"application/problem+json\"\nJSON Patch (IETF RFC 6902 [41]). The use of the JSON Patch format in a HTTP request body shall be signalled by the content type \"application/json-patch+json\".",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_6.4.2.3.1",
      "section_id": "6.4.2.3.1",
      "section_title": "General",
      "content": "The usage of HTTP custom headers shall be supported as specified in clause 5.2.3 of 3GPP TS 29.500 [4].",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5.2.3",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.3.1",
      "section_id": "6.4.3.1",
      "section_title": "Overview",
      "content": "Figure 6.4.3.1-1: Resource URI structure of the Nhss_EE API\nTable 6.4.3.1-1 provides an overview of the resources and applicable HTTP methods.\nTable 6.4.3.1-1: Resources and methods overview\nResource name(Archetype)\nResource URI\nHTTP method or custom operation\nDescription\nEeSubscriptions(Collection)\n/{ueId}/ee-subscriptions\nPOST\nCreate a subscription\nIndividual subscription(Document)\n/{ueId}/ee-subscriptions/{subscriptionId}\nPATCH\nUpdate the subscription identified by {subscriptionId}\nDELETE\nDelete the subscription identified by {subscriptionId}, i.e. unsubscribe",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.4.3.1-1",
        "figure_6.4.3.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.3.2.1",
      "section_id": "6.4.3.2.1",
      "section_title": "Description",
      "content": "This resource is used to represent subscriptions to notifications.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_6.4.3.2.2",
      "section_id": "6.4.3.2.2",
      "section_title": "Resource Definition",
      "content": "Resource URI: {apiRoot}/nhss-ee/<apiVersion>/{ueId}/ee-subscriptions\nThis resource shall support the resource URI variables defined in table 6.4.3.2.2-1.\nTable 6.4.3.2.2-1: Resource URI variables for this resource\nName\nDefinition\napiRoot\nSee clause 6.4.1\nueId\nRepresents the identity of the UE in the HSS (IMSI) or the identity of a group of UEs.\n-\tIf representing a single UE, this parameter shall contain the IMSI of the UE.\npattern: See type Imsi in clause 6.4.6.3.2 of this document.\n-\tIf representing a group of UEs, this parameter shall contain the External Group Id.\npattern: \"^extgroupid-[^@]+@[^@]+$\"\n(NOTE)\nNOTE:\tIf the HSS supports GBEE feature, the ueId can contain the External Group Id, or ueId can only contain IMSI of the UE.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6.4.1",
        "clause_6.4.6.3.2",
        "table_6.4.3.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.3.2.3",
      "section_id": "6.4.3.2.3",
      "section_title": "Resource Standard Methods",
      "content": "6.4.3.2.3.1\tPOST\nThis method shall support the URI query parameters specified in table 6.4.3.2.3.1-1.\nTable 6.4.3.2.3.1-1: URI query parameters supported by the POST method on this resource\nName\nData type\nP\nCardinality\nDescription\nn/a\nThis method shall support the request data structures specified in table 6.4.3.2.3.1-2 and the response data structures and response codes specified in table 6.4.3.2.3.1-3.\nTable 6.4.3.2.3.1-2: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nEeSubscription\nM\n1\nThe subscription that is to be created\nTable 6.4.3.2.3.1-3: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nCreatedEeSubscription\nM\n1\n201 Created\nUpon success, a response body containing a representation of the created Individual subscription resource shall be returned, along with event reports that might be immediately available at the HSS.\nThe HTTP response shall include a \"Location\" HTTP header that contains the resource URI of the created resource.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\nEeSubscriptionError\nO\n0..1\n403 Forbidden\nThe \"cause\" attribute may be used to indicate one of the following application errors:\n- MONITORING_NOT_ALLOWED\n- MAXIMUM_RESOURCES_EXCEEDED\n- MTC_PROVIDER_NOT_ALLOWED\nProblemDetails\nO\n0..1\n404 Not Found\nThe \"cause\" attribute may be used to indicate one of the following application errors:\n- USER_NOT_FOUND\nEeSubscriptionError\nO\n0..1\n501 Not Implemented\nThe \"cause\" attribute may be used to indicate one of the following application errors:\n- UNSUPPORTED_MONITORING_EVENT_TYPE\n- UNSUPPORTED_MONITORING_REPORT_OPTIONS\nThis response shall not be cached.\nTable 6.4.3.2.3.1-4: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same HSS (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected.\nTable 6.4.3.2.3.1-5: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same HSS (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "table_6.4.3.2.3.1-1",
        "table_6.4.3.2.3.1-2",
        "table_6.4.3.2.3.1-3",
        "table_6.4.3.2.3.1-4",
        "table_6.4.3.2.3.1-5",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.3.3.1",
      "section_id": "6.4.3.3.1",
      "section_title": "Resource Definition",
      "content": "Resource URI: {apiRoot}/nhss-ee/<apiVersion>/{ueId}/ee-subscriptions/{subscriptionId}\nThis resource shall support the resource URI variables defined in table 6.4.3.3.1-1.\nTable 6.4.3.3.1-1: Resource URI variables for this resource\nName\nDefinition\napiRoot\nSee clause 6.4.1\nueId\nRepresents the identity of the UE in the HSS (IMSI) or the identity of a group of UEs.\n-\tIf representing a single UE, this parameter shall contain the IMSI of the UE.\npattern: See type Imsi in clause 6.4.6.3.2 of this document.\n-\tIf representing a group of UEs, this parameter shall contain the External Group Id.\npattern: \"^extgroupid-[^@]+@[^@]+$\"\n(NOTE)\nsubscriptionId\nThe subscriptionId identifies an individual subscription to notifications\nThe type is string.\nNOTE:\tIf the HSS supports GBEE feature, the ueId can contain the External Group Id, or ueId can only contain IMSI of the UE.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6.4.1",
        "clause_6.4.6.3.2",
        "table_6.4.3.3.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.3.3.2",
      "section_id": "6.4.3.3.2",
      "section_title": "Resource Standard Methods",
      "content": "6.4.3.3.2.1\tDELETE\nThis method shall support the URI query parameters specified in table 6.4.3.3.2.1-1.\nTable 6.4.3.3.1.1-1: URI query parameters supported by the DELETE method on this resource\nName\nData type\nP\nCardinality\nDescription\nn/a\nThis method shall support the request data structures specified in table 6.4.3.3.2.1-2 and the response data structures and response codes specified in table 6.4.3.3.2.1-3.\nTable 6.4.3.3.2.1-2: Data structures supported by the Delete Request Body on this resource\nData type\nP\nCardinality\nDescription\nn/a\nThe request body shall be empty.\nTable 6.4.3.3.2.1-3: Data structures supported by the DELETE Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nn/a\n204 No Content\nUpon success, an empty response body shall be returned.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\nProblemDetails\nO\n0..1\n404 Not Found\nThe \"cause\" attribute may be used to indicate one of the following application errors:\n- USER_NOT_FOUND\n- SUBSCRIPTION_NOT_FOUND, see 3GPP TS 29.500 [4] table 5.2.7.2-1.\nTable 6.4.3.3.2.1-4: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same HSS (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected.\nTable 6.4.3.3.2.1-5: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same HSS (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected.\n6.4.3.3.2.2\tPATCH\nThis method shall support the URI query parameters specified in table 6.4.3.3.2.2-1.\nTable 6.4.3.3.2.2-1: URI query parameters supported by the PATCH method on this resource\nName\nData type\nP\nCardinality\nDescription\nsupported-features\nSupportedFeatures\nO\n0..1\nsee 3GPP TS 29.500 [4] clause 6.6\nThis method shall support the request data structures specified in table 6.4.3.3.2.2-2 and the response data structures and response codes specified in table 6.4.3.3.2.2-3.\nTable 6.4.3.3.2.2-2: Data structures supported by the PATCH Request Body on this resource\nData type\nP\nCardinality\nDescription\narray(PatchItem)\nM\n1..N\nItems describe the modifications to the Event Subscription\nTable 6.4.3.3.2.2-3: Data structures supported by the PATCH Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nn/a\n204 No Content\nUpon success, an empty response body shall be returned.\nPatchResult\nM\n1\n200 OK\nUpon success, the execution report is returned.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\nProblemDetails\nO\n0..1\n404 Not Found\nThe \"cause\" attribute may be used to indicate one of the following application errors:\n- USER_NOT_FOUND\n- SUBSCRIPTION_NOT_FOUND, see 3GPP TS 29.500 [4] table 5.2.7.2-1.\nProblemDetails\nO\n0..1\n403 Forbidden\nOne or more attributes are not allowed to be modified.\nThe \"cause\" attribute may be used to indicate one of the following application errors:\n- MODIFICATION_NOT_ALLOWED, see 3GPP TS 29.500 [4] table 5.2.7.2-1.\nTable 6.4.3.3.2.2-4: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same HSS (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected.\nTable 6.4.3.3.2.2-5: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same HSS (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "ts_29.500_clause_6.6",
        "table_6.4.3.3.2.1-1",
        "table_6.4.3.3.1.1-1",
        "table_6.4.3.3.2.1-2",
        "table_6.4.3.3.2.1-3",
        "ts_29.500_table_5.2.7.2-1",
        "table_6.4.3.3.2.1-4",
        "table_6.4.3.3.2.1-5",
        "table_6.4.3.3.2.2-1",
        "table_6.4.3.3.2.2-2",
        "table_6.4.3.3.2.2-3",
        "table_6.4.3.3.2.2-4",
        "table_6.4.3.3.2.2-5",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.4",
      "section_id": "6.4.4",
      "section_title": "Custom Operations without associated resources",
      "content": "In this release of this specification, no custom operations without associated resources are defined for the Nhss_EventExposure Service.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_6.4.5.1",
      "section_id": "6.4.5.1",
      "section_title": "General",
      "content": "This clause will specify the use of notifications and corresponding protocol details if required for the specific service. When notifications are supported by the API, it will include a reference to the general description of notifications support over the 5G SBIs specified in TS 29.500 / TS 29.501.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500",
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.5.2",
      "section_id": "6.4.5.2",
      "section_title": "Event Occurrence Notification",
      "content": "The POST method shall be used for Event Occurrence Notifications and the URI shall be as provided during the subscription procedure.\nResource URI: {callbackReference}\nSupport of URI query parameters is specified in table 6.4.5.2-1.\nTable 6.4.5.2-1: URI query parameters supported by the POST method\nName\nData type\nP\nCardinality\nDescription\nn/a\nSupport of request data structures is specified in table 6.4.5.2-2 and of response data structures and response codes is specified in table 6.4.5.2-3.\nTable 6.4.5.2-2: Data structures supported by the POST Request Body\nData type\nP\nCardinality\nDescription\narray(MonitoringReport)\nM\n1..N\nA list of MonitoringReports each of which contains information regarding the occurred event\nTable 6.4.5.2-3: Data structures supported by the POST Response Body\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nn/a\n204 No Content\nUpon success, an empty response body shall be returned.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\nProblemDetails\nO\n0..1\n404 Not Found\nThe \"cause\" attribute may be used to indicate one of the following application errors:\n- CONTEXT_NOT_FOUND\nNOTE:\tIn addition, common data structures as listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] are supported.\nTable 6.4.5.2-4: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nA URI pointing to the endpoint of the NF service consumer to which the notification should be sent. For the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected.\nTable 6.4.5.2-5: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nA URI pointing to the endpoint of the NF service consumer to which the notification should be sent. For the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "table_6.4.5.2-1",
        "table_6.4.5.2-2",
        "table_6.4.5.2-3",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.4.5.2-4",
        "table_6.4.5.2-5",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.6.1",
      "section_id": "6.4.6.1",
      "section_title": "General",
      "content": "This clause specifies the application data model supported by the API.\nTable 6.4.6.1-1 specifies the data types defined for the Nhss_EE service API.\nTable 6.4.6.1-1: Nhss_EE specific Data Types\nData type\nClause defined\nDescription\nEeSubscription\n6.4.6.2.2\nA subscription to Notifications\nCreatedEeSubscription\n6.4.6.2.3\nMonitoringConfiguration\n6.4.6.2.4\nMonitoring Configuration\nMonitoringReport\n6.4.6.2.5\nMonitoring Report\nReport\n6.4.6.2.6\nReportingOptions\n6.4.6.2.7\nLocationReportingConfiguration\n6.4.6.2.8\nReachabilityForSmsReport\n6.4.6.2.9\nLossConnectivityConfiguration\n6.4.6.2.10\nReachabilityForDataConfiguration\n6.4.6.2.11\nPduSessionStatusCfg\n6.4.6.2.12\nReporting configuration for events related to PDN connectivity Status\nReachabilityForDataReport\n6.4.6.2.13\nReport of \"UE_REACHABILITY_FOR_DATA\" event\nFailedMonitoringConfiguration\n6.4.6.2.14\nFailed Monitoring Configuration in the EE subscription\nEeSubscriptionErrorAddInfo\n6.4.6.2.15\nEvent Exposure Subscription Error Additional Information\nEeSubscriptionError\n6.4.6.2.16\nEvent Exposure Subscription Error\nEventType\n6.4.6.3.3\nLocationAccuracy\n6.4.6.3.4\nFailedCause\n6.4.6.3.5\nFailed cause of the failed Monitoring Configuration in the EE subscription\nTable 6.4.6.1-2 specifies data types re-used by the Nhss_EE service API from other specifications, including a reference to their respective specifications and when needed, a short description of their use within the Nhss_EE service API.\nTable 6.4.6.1-2: Nhss_EE re-used Data Types\nData type\nReference\nComments\nUri\n3GPP TS 29.571 [7]\nUniform Resource Identifier\nSupportedFeatures\n3GPP TS 29.571 [7]\nSee 3GPP TS 29.500 [4] clause 6.6\nDateTime\n3GPP TS 29.571 [7]\nPatchResult\n3GPP TS 29.571 [7]\nDurationSec\n3GPP TS 29.571 [7]\nDiameterIdentity\n3GPP TS 29.571 [7]\nDnn\n3GPP TS 29.571 [7]\nData Network Name with Network Identifier only.\nProblemDetails\n3GPP TS 29.571 [7]\nResponse body of error response messages.\nRedirectResponse\n3GPP TS 29.571 [7]\nResponse body of redirect response messages.\nMtcProviderInformation\n3GPP TS 29.571 [7]\nMTC Provider Information\nDiameterIdentity\n3GPP TS 29.571 [7]\nDiameter Identify (FQDN)\nLossConnectivityReport\n3GPP TS 29.503 [13]\nReport of \"LOSS_OF_CONNECTIVITY\" event\nLocationReport\n3GPP TS 29.503 [13]\nReport of \"LOCATION_REPORTING\" event\nPdnConnectivityStatReport\n3GPP TS 29.503 [13]\nReport of \"PDN_CONNECTIVITY_STATUS\" event\nReferenceId\n3GPP TS 29.503 [13]\nReference ID defined in Nudm_EE API. It shall contain a 64-bit long integer.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.571_clause_6.6",
        "table_6.4.6.1-1",
        "table_6.4.6.1-2",
        "ts_29.571",
        "ts_29.500",
        "ts_29.503"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.6.2.1",
      "section_id": "6.4.6.2.1",
      "section_title": "Introduction",
      "content": "This clause defines the data structures to be used in resource representations.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_6.4.6.2.2",
      "section_id": "6.4.6.2.2",
      "section_title": "Type: EeSubscription",
      "content": "Table 6.4.6.2.2-1: Definition of type EeSubscription\nAttribute name\nData type\nP\nCardinality\nDescription\ncallbackReference\nUri\nM\n1\nURI provided by the NF service consumer to receive notifications\nmonitoringConfigurations\nmap(MonitoringConfiguration)\nO\n1..N\nA map (list of key-value pairs where referenceId converted from integer to string serves as key) of MonitoringConfigurations\nscefId\nDiameterIdentity\nO\n0..1\nDiameter Identify (FQDN) of the SCEF\nscefDiamRealm\nDiameterIdentity\nO\n0..1\nWhen present, It contains the Diameter realm of the SCEF to which the monitered reports may be sent in EPC.\nsupportedFeatures\nSupportedFeatures\nO\n0..1\nSee clause 6.4.8\nreportingOptions\nReportingOptions\nO\n0..1\nThis IE may be included if the NF service consumer wants to describe how the reports of the event are to be generated.\nIf this attribute is not present in the request, it means that the NF service consumer does not specify any maximum number of reports or any expiry time for the subscription; still, the NF service producer (HSS) may set an expiry time in the response to the subscription creation (see clause 6.4.6.2.7).\nmtcProviderInformation\nMtcProviderInformation\nO\n0..1\nIndicates MTC provider information for Monitoring Configuration authorization.\nexternalIdentifier\nstring\nO\n0..1\nRepresents a single external Identifier or a group of external Identifiers:\n- If representing a single external identifier:pattern: \"^extid-[^@]+@[^@]+$\"\n- If representing a group of external identifiers:pattern: \"^extgroupid-[^@]+@[^@]+$\"",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.4.8",
        "clause_6.4.6.2.7",
        "table_6.4.6.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.6.2.3",
      "section_id": "6.4.6.2.3",
      "section_title": "Type: CreatedEeSubscription",
      "content": "Table 6.4.6.2.3-1: Definition of type CreatedEeSubscription\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\neeSubscription\nEeSubscription\nM\n1\nThis IE shall contain the representation of the created event subscription.\neventReports\narray(MonitoringReport)\nO\n1..N\nThis IE may be included when the NF consumer has indicated supporting of ERIR feature in the subscription creation request (see clause 6.4.8).\nThis IE when present, shall contain the status of events that are requested for immediate reporting as well, if those events are available at the time of subscription.\nERIR\nfailedMonitoringConfigs\nmap(FailedMonitoringConfiguration)\nO\n1..N\nA map (list of key-value pairs where ReferenceId converted from integer to string serves as key; see clause 6.4.6.3.2) of FailedMonitoringConfiguration;\nsee clause 6.4.6.2.14.\nThis IE is used to indicate the failed subscriptions of event monitoring configuration and the failed cause for them.\ncurrentStatusNotAvailableList\narray(EventType)\nO\n1..N\nThis IE should be present if immediate reporting was requested by the NF consumer, but the current status of at least one of the subscribed events is not available at the time of subscription.\nWhen present, this IE shall list the events for which the current status is not available for immediate reporting.\nsupportedFeatures\nSupportedFeatures\nO\n0..1\nSee clause 6.4.8",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.4.8",
        "clause_6.4.6.3.2",
        "clause_6.4.6.2.14",
        "table_6.4.6.2.3-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.6.2.4",
      "section_id": "6.4.6.2.4",
      "section_title": "Type: MonitoringConfiguration",
      "content": "Table 6.4.6.2.4-1: Definition of type MonitoringConfiguration\nAttribute name\nData type\nP\nCardinality\nDescription\neventType\nEventType\nM\n1\nEvent type\nimmediateFlag\nboolean\nO\n0..1\nIndicates if an immediate event report in the subscription response indicating current value / status of the event is required, if available. If the flag is not present, then immediate reporting may be skipped.\nlocationReportingConfiguration\nLocationReportingConfiguration\nC\n0..1\nShall be present if eventType is \"LOCATION_REPORTING\"\nlossConnectivityConfiguration\nLossConnectivityConfiguration\nO\n0..1\nMay be present if eventType is \"LOSS_OF_CONNECTIVITY\".\nreachabilityForDataConfiguration\nReachabilityForDataConfiguration\nO\n0..1\nMay be present if eventType is \"UE_REACHABILITY_FOR_DATA\"\npduSessionStatusCfg\nPduSessionStatusCfg\nO\n0..1\nmay be present if eventType is \"PDN_CONNECTIVITY_STATUS\"\nidleStatusInd\nboolean\nO\n0..1\nIdle Status Indication request.\nMay be present if eventType is \"UE_REACHABILITY_FOR_DATA\" or \"AVAILABILITY_AFTER_DDN_FAILURE\"\nWhen present, this IE shall be set as following:\n- true: Idle status indication is requested\n- false (default): Idle status indication is not requested",
      "chunk_type": "general",
      "cross_references": [
        "table_6.4.6.2.4-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.6.2.5",
      "section_id": "6.4.6.2.5",
      "section_title": "Type: MonitoringReport",
      "content": "Table 6.4.6.2.5-1: Definition of type MonitoringReport\nAttribute name\nData type\nP\nCardinality\nDescription\nreferenceId\nReferenceId\nM\n1\nShall contain the Reference ID which was provided as the key of the associated monitoring configuration in subscription request. The consumer can use this IE to uniquely associate the report with the corresponding event that was requested to be monitored.\neventType\nEventType\nM\n1\nString; see clause 6.4.6.3.3\nonly the following values are allowed:\n\"UE_REACHABILITY_FOR_SMS\"\n\"UE_REACHABILITY_FOR_DATA\"\n\"LOSS_OF_CONNECTIVITY\"\n\"LOCATION_REPORTING\"\n\"PDN_CONNECTIVITY_STATUS\"\ntimeStamp\nDateTime\nM\n1\nPoint in time at which the event occured\nreport\nReport\nO\n0..1\nShall be present if eventType is \"UE_REACHABILITY_FOR_SMS\"\n\"UE_REACHABILITY_FOR_DATA\"\n\"LOSS_OF_CONNECTIVITY\"\n\"LOCATION_REPORTING\"\n\"PDN_CONNECTIVITY_STATUS\"",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.4.6.3.3",
        "table_6.4.6.2.5-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.6.2.6",
      "section_id": "6.4.6.2.6",
      "section_title": "Type: Report",
      "content": "Table 6.4.6.2.6-1: Definition of type Report\nAttribute name\nData type\nP\nCardinality\nDescription\nreachabilityForSmsReport\nReachabilityForSmsReport\nO\n0..1\nReports the UE reachacbility for SMS\nreachabilityForDataReport\nReachabilityForDataReport\nO\n0..1\nReports the UE reachacbility for Data\nlossConnectivityReport\nLossConnectivityReport\nO\n0..1\nReports the Loss of Connectivity\nlocationReport\nLocationReport\nO\n0..1\nReports the UE Location\npdnConnectivityStatReport\nPdnConnectivityStatReport\nO\n0..1\nReports the PDN Connectivity Status.\nAbsence of pdnConnectivityStatReport in MonitoringReports with EventType \"PDN_CONNECTIVITY_STATUS\" indicates that the requested APN is not active.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.4.6.2.6-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.6.2.7",
      "section_id": "6.4.6.2.7",
      "section_title": "Type: ReportingOptions",
      "content": "Table 6.4.6.2.7-1: Definition of type ReportingOptions\nAttribute name\nData type\nP\nCardinality\nDescription\nmaxNumOfReports\nMaxNumOfReports\nO\n0..1\nMaximum number of reports. If not present, the NF service consumer does not specify any maximum number of reports to be received.\n(NOTE)\nexpiry\nDateTime\nC\n0..1\nThis IE shall be included in an event subscription response, if, based on operator policy, the HSS needs to include an expiry time, and may be included in an event subscription request. When present, this IE shall represent the time at which monitoring shall cease and the subscription becomes invalid. If the maxNumOfReports included in an event subscription response is 1 and if an event report is included in the subscription response then the value of the expiry included in the response shall be an immediate timestamp.\n(NOTE)\nreportPeriod\nDurationSec\nC\n0..1\nIndicates the interval time between which the event notification is reported, may be present if event type is \"LOCATION_REPORTING\"\nNOTE:\tIf parameter \"maxNumOfReports\" and \"expiry\" are included at the same time, the subscription will expire as soon as one of the conditions is met.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.4.6.2.7-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.6.2.8",
      "section_id": "6.4.6.2.8",
      "section_title": "Type: LocationReportingConfiguration",
      "content": "Table 6.4.6.2.8-1: Definition of type LocationReportingConfiguration\nAttribute name\nData type\nP\nCardinality\nDescription\ncurrentLocation\nboolean\nM\n1\ntrue: Indicates that current location is requested.\nfalse: Indicates that last known location is requested.\naccuracy\nLocationAccuracy\nC\n0..1\nIndicates whether Cell-level or TA-level accuracy is requested. Shall be present when current location is requested.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.4.6.2.8-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.6.2.9",
      "section_id": "6.4.6.2.9",
      "section_title": "Type: ReachabilityForSmsReport",
      "content": "Table 6.4.6.2.9-1: Definition of type ReachabilityForSmsReport\nAttribute name\nData type\nP\nCardinality\nDescription\nreachabilitySmsStatus\nboolean\nM\n1\ntrue: UE is reachable for SMS\nfalse: UE is not reachable for SMS\nmaxAvailabilityTime\nDateTime\nO\n0..1\nIndicates the time (in UTC) until which the UE is expected to be reachable.\nThis information may be used by the SMS Service Center to prioritize the retransmission of pending Mobile Terminated Short Message to UEs using a power saving mechanism (eDRX, PSM etc.).",
      "chunk_type": "general",
      "cross_references": [
        "table_6.4.6.2.9-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.6.2.10",
      "section_id": "6.4.6.2.10",
      "section_title": "Type: LossConnectivityConfiguration",
      "content": "Table 6.4.6.2.10-1: Definition of type LossConnectivityConfiguration\nAttribute name\nData type\nP\nCardinality\nDescription\nmaxDetectionTime\nDurationSec\nO\n0..1\nWhen present, it indicates the configured Maximum Detection Time",
      "chunk_type": "general",
      "cross_references": [
        "table_6.4.6.2.10-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.6.2.11",
      "section_id": "6.4.6.2.11",
      "section_title": "Type: ReachabilityForDataConfiguration",
      "content": "Table 6.4.6.2.11-1: Definition of type ReachabilityForDataConfiguration\nAttribute name\nData type\nP\nCardinality\nDescription\nmaximumLatency\nDurationSec\nO\n0..1\nWhen present, it indicates the configured Maximum Latency. (NOTE)\nmaximumResponseTime\nDurationSec\nO\n0..1\nWhen present, it indicates the configured Maximum Response Time. (NOTE)\nsuggestedPacketNumDl\ninteger\nO\n0..1\nWhen present, it indicates the configured Suggested number of downlink packets. (NOTE)\nNOTE:\tAt least one of maximumLatency, maximumResponseTime or suggestedPacketNumDl shall be present",
      "chunk_type": "general",
      "cross_references": [
        "table_6.4.6.2.11-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.6.2.12",
      "section_id": "6.4.6.2.12",
      "section_title": "Type: PduSessionStatusCfg",
      "content": "Table 6.4.6.2.12-1: Definition of type PduSessionStatusCfg\nAttribute name\nData type\nP\nCardinality\nDescription\napn\nDnn\nO\n0..1\nWhen present, it indicates the APN for which the event is monitored. Absence indicates that monitoring of the event applies to all APNs.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.4.6.2.12-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.6.2.13",
      "section_id": "6.4.6.2.13",
      "section_title": "Type: ReachabilityForDataReport",
      "content": "Table 6.4.6.2.13-1: Definition of type ReachabilityForDataReport\nAttribute name\nData type\nP\nCardinality\nDescription\nreachabilityDataStatus\nboolean\nM\n1\ntrue: UE is reachable for Data\nfalse: UE is not reachable for Data\nmaxAvailabilityTime\nDateTime\nO\n0..1\nIndicates the time (in UTC) until which the UE is expected to be reachable.\nThis information may be used by the SMS Service Center to prioritize the retransmission of pending Mobile Terminated Short Message to UEs using a power saving mechanism (eDRX, PSM etc.).",
      "chunk_type": "general",
      "cross_references": [
        "table_6.4.6.2.13-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.6.2.14",
      "section_id": "6.4.6.2.14",
      "section_title": "Type: FailedMonitoringConfiguration",
      "content": "Table 6.4.6.2.14-1: Definition of type FailedMonitoringConfiguration\nAttribute name\nData type\nP\nCardinality\nDescription\neventType\nEventType\nM\n1\nContains the Event type, see clause 6.4.6.3.3\nfailedCause\nFailedCause\nM\n1\nContains the failed cause of the subscription of the event monitoring.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.4.6.3.3",
        "table_6.4.6.2.14-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.6.2.15",
      "section_id": "6.4.6.2.15",
      "section_title": "Type: EeSubscriptionErrorAddInfo",
      "content": "Table 6.4.6.2.15-1: Definition of type EeSubscriptionErrorAddInfo\nAttribute name\nData type\nP\nCardinality\nDescription\nfailedMonitoringConfigs\nmap(FailedMonitoringConfiguration)\nO\n1..N\nA map (list of key-value pairs where ReferenceId converted from integer to string serves as key; see clause 6.4.6.3.2) of FailedMonitoringConfiguration;\nsee clause 6.4.6.2.14.\nThis IE is used to indicate the failed subscriptions of event monitoring configuration and the failed cause for them.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.4.6.3.2",
        "clause_6.4.6.2.14",
        "table_6.4.6.2.15-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.6.2.16",
      "section_id": "6.4.6.2.16",
      "section_title": "Type: EeSubscriptionError",
      "content": "Table 6.4.6.2.16-1: Definition of type EeSubscriptionError as a list of to be combined data types\nData type\nCardinality\nDescription\nApplicability\nProblemDetails\n1\nDetail information of the problem\nEeSubscriptionErrorAddInfo\n1\nAdditional information to be returned in error response.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.4.6.2.16-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.6.3.1",
      "section_id": "6.4.6.3.1",
      "section_title": "Introduction",
      "content": "This clause defines simple data types and enumerations that can be referenced from data structures defined in the previous clauses.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.563_6.4.6.3.2",
      "section_id": "6.4.6.3.2",
      "section_title": "Simple data types",
      "content": "The simple data types defined in table 6.4.6.3.2-1 shall be supported.\nTable 6.4.6.3.2-1: Simple data types\nType Name\nType Definition\nDescription\nImsi\nstring\nIMSI\npattern: '^(imsi-[0-9]{5,15})$'\nUeIdOrGroupId\nstring\nContains the UE identifier or the Group Identifier of the UE.\npattern: '^(imsi-[0-9]{5,15}|extgroupid-[^@]+@[^@]+|.+$)'\nMaxNumOfReports\ninteger\nMaximum number of reports.\nMinimum: 1",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.4.6.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.6.3.3",
      "section_id": "6.4.6.3.3",
      "section_title": "Enumeration: EventType",
      "content": "Table 6.4.6.3.3-1: Enumeration EventType\nEnumeration value\nDescription\n\"LOSS_OF_CONNECTIVITY\"\nLoss of connectivity event\n\"UE_REACHABILITY_FOR_DATA\"\nUE reachability for Data, implements the \"UE Reachability for Data\" event as specified in 3GPP TS 23.682 [18].\nWhen this event is subscribed by an NF service consumer, the HSS shall send an Insert Subscriber Data Request message to the MME/SGSN for the UE with the Monitoring-Type AVP set to the value UE_REACHABILITY and the Reachability-Information AVP set to the value REACHABLE_FOR_DATA, see clause 5.2.2.1.3 of 3GPP TS 29.272 [17].\n\"UE_REACHABILITY_FOR_SMS\"\nUE reachability for SMS, implements the \"UE Reachability for SMS Delivery\" event as specified in 3GPP TS 23.682 [18].\nThis event only supports One-Time reporting.\n\"LOCATION_REPORTING\"\nLocation Reporting event\n\"COMMUNICATION_FAILURE\"\nCommunication Failure event\n\"AVAILABILITY_AFTER_DDN_FAILURE\"\nAvailability after DDN failure event\n\"PDN_CONNECTIVITY_STATUS\"\nPDN Connectivity Status event",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.272_clause_5.2.2.1.3",
        "table_6.4.6.3.3-1",
        "ts_23.682",
        "ts_29.272"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.6.3.4",
      "section_id": "6.4.6.3.4",
      "section_title": "Enumeration: LocationAccuracy",
      "content": "Table 6.4.6.3.4-1: Enumeration LocationAccuracy\nEnumeration value\nDescription\n\"CELL_LEVEL\"\nChange of cell shall be reported, equivalent to the value \"CGI-ECGI (0)\" of Accuracy IE of HSS Diameter interface as specified in clause 8.4.17 of 3GPP TS 29.336 [21].\n\"RAN_NODE_LEVEL\"\nchange of serving RAN node shall be reported, equivalent to the value \"eNB (1)\" of Accuracy IE of HSS Diameter interface as specified in clause 8.4.17 of 3GPP TS 29.336 [21].\n\"TA_LEVEL\"\nChange of TA shall be reported, equivalent to the value \" LA-TA-RA (2)\" of Accuracy IE of HSS Diameter interface as specified in clause 8.4.17 of 3GPP TS 29.336 [21].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.336_clause_8.4.17",
        "table_6.4.6.3.4-1",
        "ts_29.336"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.6.3.5",
      "section_id": "6.4.6.3.5",
      "section_title": "Enumeration: FailedCause",
      "content": "Table 6.4.6.3.5-1: Enumeration FailedCause\nEnumeration value\nDescription\n\"MTC_PROVIDER_NOT_ALLOWED\"\nMTC Provider is now allowed to perform monitoring for the requested event type.\n\"MONITORING_NOT_ALLOWED\"\nThe subscriber does not have the necessary subscription for monitoring with the requested Event Type.\n\"UNSUPPORTED_MONITORING_EVENT_TYPE\"\nThe required event type is unsupported.\n\"UNSUPPORTED_MONITORING_REPORT_OPTIONS\"\nThe monitoring configuration for the required event type contains unsupported report options.\n\"UNSPECIFIED\"\nThe failed cause is unspecified.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.4.6.3.5-1"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.7.1",
      "section_id": "6.4.7.1",
      "section_title": "General",
      "content": "HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS 29.500 [4].",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5.2.4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.7.2",
      "section_id": "6.4.7.2",
      "section_title": "Protocol Errors",
      "content": "Protocol errors handling shall be supported as specified in clause 5.2.7 of 3GPP TS 29.500 [4].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_5.2.7",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.7.3",
      "section_id": "6.4.7.3",
      "section_title": "Application Errors",
      "content": "The common application errors defined in the Table 5.2.7.2-1 in 3GPP TS 29.500 [4] may also be used for the Nhss_EventExposure service. The following application errors listed in Table 6.4.7.3-1 are specific for the Nhss_EventExposure service.\nTable 6.4.7.3-1: Application errors\nApplication Error\nHTTP status code\nDescription\nMONITORING_NOT_ALLOWED\n403 Forbidden\nThe subscriber does not have the necessary subscription for monitoring with the requested Event Type.\nMTC_PROVIDER_NOT_ALLOWED\n403 Forbidden\nMTC Provider not authorized to perform monitoring configuration.\nUSER_NOT_FOUND\n404 Not Found\nThe user does not exist\nCONTEXT_NOT_FOUND\n404 Not Found\nIt is used when no corresponding context exists.\nUNSUPPORTED_MONITORING_EVENT_TYPE\n501 Not Implemented\nThe monitoring configuration contains unsupported event type.\nUNSUPPORTED_MONITORING_REPORT_OPTIONS\n501 Not Implemented\nThe monitoring configuration contains unsupported report options.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.500_table_5.2.7.2-1",
        "table_6.4.7.3-1",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.8",
      "section_id": "6.4.8",
      "section_title": "Feature Negotiation",
      "content": "The optional features in table 6.4.8-1 are defined for the Nhss_EE API. They shall be negotiated using the extensibility mechanism defined in clause 6.6 of 3GPP TS 29.500 [4].\nTable 6.4.8-1: Supported Features\nFeature number\nFeature Name\nDescription\n1\nERIR\nEvent Reports in Response\nAn NF consumer supporting this feature shall be able to handle the event reports within the Event Subscription Create Response, as specified in clause 5.5.2.2.2.\n2\nGBEE\nSupport of Group-based Event Exposure.\nThis feature bit indicates whether the Nhss_EventExposure Service support Group-based Event Exposure or not.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.6",
        "clause_5.5.2.2.2",
        "table_6.4.8-1",
        "ts_29.500_table_6.4.8-1",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.9",
      "section_id": "6.4.9",
      "section_title": "Security",
      "content": "As indicated in 3GPP TS 33.501 [6] and 3GPP TS 29.500 [4], the access to the Nhss_EE API may be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [18]), based on local configuration, using the \"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [19]) plays the role of the authorization server.\nIf OAuth2 is used, an NF Service Consumer, prior to consuming services offered by the Nhss_EE API, shall obtain a \"token\" from the authorization server, by invoking the Access Token Request service, as described in 3GPP TS 29.510 [19], clause 5.4.2.2.\nNOTE:\tWhen multiple NRFs are deployed in a network, the NRF used as authorization server is the same NRF that the NF Service Consumer used for discovering the Nhss_EE service.\nThe Nhss_EE API defines a single scope \"nhss-ee\" for OAuth2 authorization (as specified in 3GPP TS 33.501 [6]) for the entire API, and it does not define any additional scopes at resource or operation level.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.510_clause_5.4.2.2",
        "ts_33.501",
        "ts_29.500",
        "ts_29.510"
      ]
    },
    {
      "chunk_id": "ts_29.563_6.4.10",
      "section_id": "6.4.10",
      "section_title": "HTTP redirection",
      "content": "An HTTP request may be redirected to a different HSS service instance when using direct or indirect communications (see 3GPP TS 29.500 [4]).\nAn SCP that reselects a different HSS producer instance will return the NF Instance ID of the new HSS producer instance in the 3gpp-Sbi-Producer-Id header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].\nIf an HSS redirects a service request to a different HSS using an 307 Temporary Redirect or 308 Permanent Redirect status code, the identity of the new HSS towards which the service request is redirected shall be indicated in the 3gpp-Sbi-Target-Nf-Id header of the 307 Temporary Redirect or 308 Permanent Redirect response as specified in clause 6.10.9.1 of 3GPP TS 29.500 [4].\nAnnex A (normative):OpenAPI specification\nA.1\tGeneral\nThis Annex specifies the formal definition of the Nhss Service API(s). It consists of OpenAPI 3.0.0 specifications in YAML format.\nThis Annex takes precedence when being discrepant to other parts of the specification with respect to the encoding of information elements and methods within the API(s).\nNOTE:\tThe semantics and procedures, as well as conditions, e.g. for the applicability and allowed combinations of attributes or values, not expressed in the OpenAPI definitions but defined in other parts of the specification also apply.\nInformative copies of the OpenAPI specification files contained in this 3GPP Technical Specification are available on a Git-based repository, that uses the GitLab software version control system (see 3GPP TS 29.501 [5] clause 5.3.1 and 3GPP TR 21.900 [14] clause 5B).\nA.2\tNhss_UEAuthentication API\nopenapi: 3.0.0\ninfo:\nversion: '1.2.0'\ntitle: 'NhssUEAU'\ndescription: |\nHSS UE Authentication Service.\n© 2024, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\nAll rights reserved.\nexternalDocs:\ndescription: 3GPP TS 29.563 HSS Services for Interworking With UDM, version 18.5.0\nurl: 'https://www.3gpp.org/ftp/Specs/archive/29_series/29.563/'\nservers:\n- url: '{apiRoot}/nhss-ueau/v1'\nvariables:\napiRoot:\ndefault: https://example.com\ndescription: apiRoot as defined in clause 4.4 of 3GPP TS 29.501.\nsecurity:\n- oAuth2ClientCredentials:\n- nhss-ueau\n- {}\npaths:\n/generate-av:\npost:\nsummary: Generate authentication vector for the UE\noperationId: GenerateAV\ntags:\n- Generate Auth Vector\nrequestBody:\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/AvGenerationRequest'\nrequired: true\nresponses:\n'200':\ndescription: Expected response to a valid request\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/AvGenerationResponse'\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'501':\n$ref: 'TS29571_CommonData.yaml#/components/responses/501'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\ndescription: Unexpected error\ncomponents:\nsecuritySchemes:\noAuth2ClientCredentials:\ntype: oauth2\nflows:\nclientCredentials:\ntokenUrl: '{nrfApiRoot}/oauth2/token'\nscopes:\nnhss-ueau: Access to the nhss-ueau API\nschemas:\n# STRUCTURED TYPES:\nAvGenerationRequest:\ndescription: >\nIt represents the request body in the Authentication Vector (AV) request sent by UDM to HSS,\ncontaining the IMSI of the UE, authentication type, serving network, etc.\ntype: object\nrequired:\n- imsi\n- authType\n- servingNetworkName\nproperties:\nimsi:\ntype: string\npattern: '^[0-9]{5,15}$'\nauthType:\n$ref: 'TS29503_Nudm_UEAU.yaml#/components/schemas/AuthType'\nservingNetworkName:\n$ref: 'TS29503_Nudm_UEAU.yaml#/components/schemas/ServingNetworkName'\nresynchronizationInfo:\n$ref: 'TS29503_Nudm_UEAU.yaml#/components/schemas/ResynchronizationInfo'\nAvGenerationResponse:\ndescription: >\nIt represents the response body in the AV response sent by HSS to UDM, containing the 5G-AKA\nor EAP-AKA-prime authentication vector\ntype: object\noneOf:\n- required:\n- avEapAkaPrime\n- required:\n- av5GHeAka\nproperties:\navEapAkaPrime:\n$ref: 'TS29503_Nudm_UEAU.yaml#/components/schemas/AvEapAkaPrime'\nav5GHeAka:\n$ref: 'TS29503_Nudm_UEAU.yaml#/components/schemas/Av5GHeAka'\n# SIMPLE TYPES:\n# ENUMS:\nA.3\tNhss_SubscriberDataManagement API\nopenapi: 3.0.0\ninfo:\nversion: '1.2.0'\ntitle: 'Nhss_SDM'\ndescription: |\nHSS Subscriber Data Management.\n© 2024, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\nAll rights reserved.\nexternalDocs:\ndescription: 3GPP TS 29.563 HSS Services for Interworking With UDM, version 18.5.0\nurl: 'https://www.3gpp.org/ftp/Specs/archive/29_series/29.563/'\nservers:\n- url: '{apiRoot}/nhss-sdm/v1'\nvariables:\napiRoot:\ndefault: https://example.com\ndescription: apiRoot as defined in clause 4.4 of 3GPP TS 29.501.\nsecurity:\n- oAuth2ClientCredentials:\n- nhss-sdm\n- {}\npaths:\n/{ueId}/ue-context-in-pgw-data:\nget:\nsummary: Retrieve the UE Context In PGW\noperationId: GetUeCtxInPgwData\ntags:\n- UE Context In PGW Data Retrieval\nparameters:\n- name: ueId\nin: path\ndescription: Identifier of the UE\nrequired: true\nschema:\ntype: string\npattern: '^(imsi-[0-9]{5,15})$'\nresponses:\n'200':\ndescription: Expected response to a valid request\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/UeContextInPgwData'\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'406':\n$ref: 'TS29571_CommonData.yaml#/components/responses/406'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\ndescription: Unexpected error\n/{ueId}/subscriptions:\npost:\nsummary: subscribe to notifications\noperationId: Subscribe\ntags:\n- Subscription Creation\nparameters:\n- name: ueId\nin: path\ndescription: IMSI of the user\nrequired: true\nschema:\ntype: string\npattern: '^(imsi-[0-9]{5,15})$'\nrequestBody:\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/SubscriptionData'\nrequired: true\nresponses:\n'201':\ndescription: Expected response to a valid request\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/SubscriptionData'\nheaders:\nLocation:\ndescription: >\nContains the URI of the newly created resource, according to the structure:\n{apiRoot}/nhss-sdm/<apiVersion>/{ueId}/subscriptions/{subscriptionId}\nrequired: true\nschema:\ntype: string\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'501':\n$ref: 'TS29571_CommonData.yaml#/components/responses/501'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\ndescription: Unexpected error\ncallbacks:\ndatachangeNotification:\n'{$request.body#/callbackReference}':\npost:\nrequestBody:\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: 'TS29503_Nudm_SDM.yaml#/components/schemas/ModificationNotification'\nresponses:\n'204':\ndescription: Successful Notification response\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\ndescription: Unexpected error\n/{ueId}/subscriptions/{subscriptionId}:\ndelete:\nsummary: unsubscribe from notifications\noperationId: Unsubscribe\ntags:\n- Subscription Deletion\nparameters:\n- name: ueId\nin: path\ndescription: IMSI of the user\nrequired: true\nschema:\ntype: string\npattern: '^(imsi-[0-9]{5,15})$'\n- name: subscriptionId\nin: path\ndescription: Id of the Subscription\nrequired: true\nschema:\ntype: string\nresponses:\n'204':\ndescription: Successful response\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\ndescription: Unexpected error\npatch:\nsummary: modify the subscription\noperationId: Modify\ntags:\n- Subscription Modification\nparameters:\n- name: ueId\nin: path\ndescription: IMSI of the user\nrequired: true\nschema:\ntype: string\npattern: '^(imsi-[0-9]{5,15})$'\n- name: subscriptionId\nin: path\ndescription: Id of the Subscription\nrequired: true\nschema:\ntype: string\nrequestBody:\ncontent:\napplication/json-patch+json:\nschema:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PatchItem'\nminItems: 1\nrequired: true\nresponses:\n'204':\ndescription: Successful modification\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\ndescription: Unexpected error\ncomponents:\nsecuritySchemes:\noAuth2ClientCredentials:\ntype: oauth2\nflows:\nclientCredentials:\ntokenUrl: '{nrfApiRoot}/oauth2/token'\nscopes:\nnhss-sdm: Access to the nhss-sdm API\nschemas:\n# STRUCTURED TYPES:\nUeContextInPgwData:\ndescription: >\nContains data about APNs and PGW-C+SMF FQDNs used in interworking with UDM, and the\nPGW-C+SMF FQDN to be used for emergency session\ntype: object\nproperties:\npgwInfo:\ntype: array\nitems:\n$ref: 'TS29503_Nudm_SDM.yaml#/components/schemas/PgwInfo'\nminItems: 1\nemergencyFqdn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Fqdn'\nemergencyPlmnId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PlmnId'\nemergencyIpAddr:\n$ref: 'TS29503_Nudm_SDM.yaml#/components/schemas/IpAddress'\nemergencyRegistrationTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nSubscriptionData:\ndescription: >\nContains data about a subscription request, to be created by a consumer to an URI of the\nHSS_SDM API to be monitored; it also represents the response containing data about the\ncreated subscription\ntype: object\nrequired:\n- nfInstanceId\n- callbackReference\n- monitoredResourceUris\nproperties:\nnfInstanceId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\ncallbackReference:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nmonitoredResourceUris:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nminItems: 1\nexpires:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nimmediateReport:\ntype: boolean\ndefault: false\nreport:\n$ref: '#/components/schemas/SubscriptionDataSets'\nSubscriptionDataSets:\ndescription: >\nContains data to be reported as an immediate report in the response to a subscription\ncreation request\ntype: object\nproperties:\nueContextInPgwData:\n$ref: '#/components/schemas/UeContextInPgwData'\n# SIMPLE TYPES:\n# ENUMS:\nA.4\tNhss_UEContextManagement API\nopenapi: 3.0.0\ninfo:\nversion: '1.2.1'\ntitle: 'Nhss_UECM'\ndescription: |\nHSS UE Context Management.\n© 2024, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\nAll rights reserved.\nexternalDocs:\ndescription: 3GPP TS 29.563 HSS Services for Interworking With UDM, version 18.6.0\nurl: 'https://www.3gpp.org/ftp/Specs/archive/29_series/29.563/'\nservers:\n- url: '{apiRoot}/nhss-uecm/v1'\nvariables:\napiRoot:\ndefault: https://example.com\ndescription: apiRoot as defined in clause 4.4 of 3GPP TS 29.501.\nsecurity:\n- oAuth2ClientCredentials:\n- nhss-uecm\n- {}\npaths:\n/deregister-sn:\npost:\nsummary: MME/SGSN Deregistration\noperationId: DeregisterSN\ntags:\n- MME/SGSN Deregistration\nrequestBody:\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/DeregistrationRequest'\nrequired: true\nresponses:\n'204':\ndescription: No content\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'501':\n$ref: 'TS29571_CommonData.yaml#/components/responses/501'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\ndescription: Unexpected error\n/imei-update:\npost:\nsummary: IMEI Update\noperationId: IMEIUpdate\ntags:\n- IMEI Update\nrequestBody:\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/ImeiUpdateInfo'\nrequired: true\nresponses:\n'200':\ndescription: Expected response to a valid request\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/ImeiUpdateResponse'\n'204':\ndescription: No content\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'501':\n$ref: 'TS29571_CommonData.yaml#/components/responses/501'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\ndescription: Unexpected error\n/roaming-status-update:\npost:\nsummary: Roaming Status Update\noperationId: RoamingStatusUpdate\ntags:\n- Roaming Status Update\nrequestBody:\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/RoamingStatusUpdateInfo'\nrequired: true\nresponses:\n'204':\ndescription: No content\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'501':\n$ref: 'TS29571_CommonData.yaml#/components/responses/501'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\ndescription: Unexpected error\ncomponents:\nsecuritySchemes:\noAuth2ClientCredentials:\ntype: oauth2\nflows:\nclientCredentials:\ntokenUrl: '{nrfApiRoot}/oauth2/token'\nscopes:\nnhss-uecm: Access to the nhss-uecm API\nschemas:\n# STRUCTURED TYPES:\nDeregistrationRequest:\ndescription: >\nIt represents the request body of the deregistration request sent by UDM to HSS and contains\nthe IMSI of the UE, the deregistration reason, etc.\ntype: object\nrequired:\n- imsi\n- deregReason\nproperties:\nimsi:\ntype: string\npattern: '^[0-9]{5,15}$'\nderegReason:\n$ref: '#/components/schemas/DeregistrationReason'\nguami:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Guami'\nImeiUpdateInfo:\ndescription: >\nIt represents the request body of the IMEI update request sent by UDM to HSS,\nand contains the IMSI of the UE and the new IMEI(SV)\ntype: object\nrequired:\n- imsi\noneOf:\n- required: [ imei ]\n- required: [ imeisv ]\nproperties:\nimsi:\ntype: string\npattern: '^[0-9]{5,15}$'\nimei:\ntype: string\npattern: '^[0-9]{14,15}$'\nimeisv:\ntype: string\npattern: '^[0-9]{16}$'\nImeiUpdateResponse:\ndescription: >\nIt represents the response body of the IMEI update request sent by UDM to HSS,\nand contains the previous IMEI(SV) stored by HSS\ntype: object\nanyOf:\n- required: [ previousImei ]\n- required: [ previousImeisv ]\nproperties:\npreviousImei:\ntype: string\npattern: '^[0-9]{14,15}$'\npreviousImeisv:\ntype: string\npattern: '^[0-9]{16}$'\nRoamingStatusUpdateInfo:\ndescription: >\nIt represents the request body of the Roaming Status Update request sent by UDM to HSS,\nand contains the IMSI of the UE and the new PLMN-ID\ntype: object\nrequired:\n- imsi\n- plmnId\nproperties:\nimsi:\ntype: string\npattern: '^[0-9]{5,15}$'\nplmnId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PlmnId'\n# SIMPLE TYPES:\n# ENUMS:\nDeregistrationReason:\ndescription: The reason that triggers that the serving node needs to be deregistered by HSS\nanyOf:\n- type: string\nenum:\n- UE_INITIAL_AND_SINGLE_REGISTRATION\n- UE_INITIAL_AND_DUAL_REGISTRATION\n- EPS_TO_5GS_MOBILITY\n- EPS_TO_5GS_MOBILITY_WITHOUT_N26_IWK\n- type: string\nA.5\tNhss_EE API\nopenapi: 3.0.0\ninfo:\nversion: '1.2.0'\ntitle: 'Nhss_EE'\ndescription: |\nHSS Event Exposure.\n© 2024, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\nAll rights reserved.\nexternalDocs:\ndescription: 3GPP TS 29.563 HSS Services for Interworking With UDM, version 18.5.0\nurl: 'https://www.3gpp.org/ftp/Specs/archive/29_series/29.563/'\nservers:\n- url: '{apiRoot}/nhss-ee/v1'\nvariables:\napiRoot:\ndefault: https://example.com\ndescription: apiRoot as defined in clause 4.4 of 3GPP TS 29.501.\nsecurity:\n- {}\n- oAuth2ClientCredentials:\n- nhss-ee\npaths:\n/{ueId}/ee-subscriptions:\npost:\nsummary: Subscribe\noperationId: CreateEeSubscription\ntags:\n- EE Subscription (Collection)\nparameters:\n- name: ueId\nin: path\ndescription: IMSI of the subscriber or the identity of a group of UEs\nrequired: true\nschema:\n$ref: '#/components/schemas/UeIdOrGroupId'\nrequestBody:\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/EeSubscription'\nrequired: true\nresponses:\n'201':\ndescription: Expected response to a valid request\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/CreatedEeSubscription'\nheaders:\nLocation:\ndescription: >\nContains the URI of the newly created resource, according to the structure:\n{apiRoot}/nhss-ee/v1/{ueId}/ee-subscriptions/{subscriptionId}\nrequired: true\nschema:\ntype: string\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\ndescription: Forbidden\ncontent:\napplication/problem+json:\nschema:\n$ref: '#/components/schemas/EeSubscriptionError'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'501':\ndescription: Not Implemented\ncontent:\napplication/problem+json:\nschema:\n$ref: '#/components/schemas/EeSubscriptionError'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\ndescription: Unexpected error\ncallbacks:\neventOccurrenceNotification:\n'{$request.body#/callbackReference}':\npost:\nrequestBody:\nrequired: true\ncontent:\napplication/json:\nschema:\ntype: array\nitems:\n$ref: '#/components/schemas/MonitoringReport'\nminItems: 1\nresponses:\n'204':\ndescription: Successful Notification response\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\ndescription: Unexpected error\n/{ueId}/ee-subscriptions/{subscriptionId}:\ndelete:\nsummary: Unsubscribe\noperationId: DeleteEeSubscription\ntags:\n- Delete EE Subscription\nparameters:\n- name: ueId\nin: path\ndescription: IMSI of the subscriber or the identity of a group of UEs\nrequired: true\nschema:\n$ref: '#/components/schemas/UeIdOrGroupId'\n- name: subscriptionId\nin: path\ndescription: Id of the EE Subscription\nrequired: true\nschema:\ntype: string\nresponses:\n'204':\ndescription: Successful response\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\ndescription: Unexpected error\npatch:\nsummary: Patch\noperationId: UpdateEeSubscription\ntags:\n- Update EE Subscription\nparameters:\n- name: ueId\nin: path\ndescription: IMSI of the subscriber or the identity of a group of UEs\nrequired: true\nschema:\n$ref: '#/components/schemas/UeIdOrGroupId'\n- name: subscriptionId\nin: path\ndescription: Id of the EE Subscription\nrequired: true\nschema:\ntype: string\nrequestBody:\ncontent:\napplication/json-patch+json:\nschema:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PatchItem'\nminItems: 1\nrequired: true\nresponses:\n'200':\ndescription: Expected response to a valid request\ncontent:\napplication/json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PatchResult'\n'204':\ndescription: Successful response\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\ndescription: Unexpected error\ncomponents:\nsecuritySchemes:\noAuth2ClientCredentials:\ntype: oauth2\nflows:\nclientCredentials:\ntokenUrl: '{nrfApiRoot}/oauth2/token'\nscopes:\nnhss-ee: Access to the nhss-ee API\nschemas:\n# STRUCTURED TYPES:\nEeSubscription:\ndescription: >\nIt represents the request body of the subscription request sent to HSS, containing data\nrelated to the subscription to be created, such as the SCEF, Monitoring Configurations and\nreporting options\ntype: object\nrequired:\n- callbackReference\nproperties:\ncallbackReference:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nscefId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DiameterIdentity'\nscefDiamRealm:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DiameterIdentity'\nmonitoringConfigurations:\ndescription: >\nA map (list of key-value pairs where ReferenceId serves as key) of\nMonitoringConfigurations\ntype: object\nadditionalProperties:\n$ref: '#/components/schemas/MonitoringConfiguration'\nminProperties: 1\nsupportedFeatures:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nreportingOptions:\n$ref: '#/components/schemas/ReportingOptions'\nmtcProviderInformation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/MtcProviderInformation'\nexternalIdentifier:\ntype: string\nCreatedEeSubscription:\ndescription: >\nIt represents the response body of the subscription request, containing data of the created\nsubscription in the HSS\ntype: object\nrequired:\n- eeSubscription\nproperties:\neeSubscription:\n$ref: '#/components/schemas/EeSubscription'\neventReports:\ntype: array\nitems:\n$ref: '#/components/schemas/MonitoringReport'\nminItems: 1\nfailedMonitoringConfigs:\ndescription: >\nA map (list of key-value pairs where referenceId converted from integer to string serves\nas key; see clause 6.4.6.3.2) of FailedMonitoringConfiguration\ntype: object\nadditionalProperties:\n$ref: '#/components/schemas/FailedMonitoringConfiguration'\nminProperties: 1\ncurrentStatusNotAvailableList:\ntype: array\nitems:\n$ref: '#/components/schemas/EventType'\nminItems: 1\nsupportedFeatures:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nFailedMonitoringConfiguration:\ndescription: >\nContains the event type and failed cause of the failed Monitoring Configuration\nin the EE subscription\ntype: object\nrequired:\n- eventType\n- failedCause\nproperties:\neventType:\n$ref: '#/components/schemas/EventType'\nfailedCause:\n$ref: '#/components/schemas/FailedCause'\nMonitoringConfiguration:\ndescription: >\nContains data for each Monitoring Configuration (such as event type, etc.) and\nthe configuration data needed depending on each event type\ntype: object\nrequired:\n- eventType\nproperties:\neventType:\n$ref: '#/components/schemas/EventType'\nimmediateFlag:\ntype: boolean\nlocationReportingConfiguration:\n$ref: '#/components/schemas/LocationReportingConfiguration'\nlossConnectivityConfiguration:\n$ref: '#/components/schemas/LossConnectivityConfiguration'\nreachabilityForDataConfiguration:\n$ref: '#/components/schemas/ReachabilityForDataConfiguration'\npduSessionStatusCfg:\n$ref: '#/components/schemas/PduSessionStatusCfg'\nidleStatusInd:\ntype: boolean\ndefault: false\nMonitoringReport:\ndescription: Contains data for each Monitoring Event Report sent by the HSS\ntype: object\nrequired:\n- referenceId\n- eventType\n- timeStamp\nproperties:\nreferenceId:\n$ref: 'TS29503_Nudm_EE.yaml#/components/schemas/ReferenceId'\neventType:\n$ref: '#/components/schemas/EventType'\ntimeStamp:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nreport:\n$ref: '#/components/schemas/Report'\nReportingOptions:\ndescription: >\nContains the different reporting options associated to a given subscription created in HSS\ntype: object\nproperties:\nmaxNumOfReports:\n$ref: '#/components/schemas/MaxNumOfReports'\nexpiry:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nreportPeriod:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\nReport:\ndescription: Contains data for a given Monitoring Event Report\ntype: object\nproperties:\nreachabilityForSmsReport:\n$ref: '#/components/schemas/ReachabilityForSmsReport'\nreachabilityForDataReport:\n$ref: '#/components/schemas/ReachabilityForDataReport'\nlossConnectivityReport:\n$ref: 'TS29503_Nudm_EE.yaml#/components/schemas/LossConnectivityReport'\nlocationReport:\n$ref: 'TS29503_Nudm_EE.yaml#/components/schemas/LocationReport'\npdnConnectivityStatReport:\n$ref: 'TS29503_Nudm_EE.yaml#/components/schemas/PdnConnectivityStatReport'\nReachabilityForSmsReport:\ndescription: >\nContains data for a Monitoring Event Report, specific to the 'Reachability For SMS'\nevent type\ntype: object\nrequired:\n- reachabilitySmsStatus\nproperties:\nreachabilitySmsStatus:\ntype: boolean\nmaxAvailabilityTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nReachabilityForDataReport:\ndescription: >\nContains data for a Monitoring Event Report, specific to the 'Reachability For Data'\nevent type\ntype: object\nrequired:\n- reachabilityDataStatus\nproperties:\nreachabilityDataStatus:\ntype: boolean\nmaxAvailabilityTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nLossConnectivityConfiguration:\ndescription: >\nContains data needed for a Monitoring Configuration, specific to the 'Loss of Connectivity'\nevent type\ntype: object\nproperties:\nmaxDetectionTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\nLocationReportingConfiguration:\ndescription: >\nContains data needed for a Monitoring Configuration, specific to the 'Location Reporting'\nevent type\ntype: object\nrequired:\n- currentLocation\nproperties:\ncurrentLocation:\ntype: boolean\naccuracy:\n$ref: '#/components/schemas/LocationAccuracy'\nReachabilityForDataConfiguration:\ndescription: >\nContains data needed for a Monitoring Configuration, specific to the 'Reachability for Data'\nevent type\ntype: object\nanyOf:\n- required: [ maximumLatency ]\n- required: [ maximumResponseTime ]\n- required: [ suggestedPacketNumDl ]\nproperties:\nmaximumLatency:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\nmaximumResponseTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\nsuggestedPacketNumDl:\ntype: integer\nminimum: 1\nPduSessionStatusCfg:\ndescription: >\nContains data needed for a Monitoring Configuration, specific to the 'PDN Connectivity\nStatus' event type\ntype: object\nproperties:\napn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nEeSubscriptionErrorAddInfo:\ndescription: Additional Information for EE Subscription Error.\ntype: object\nproperties:\nfailedMonitoringConfigs:\ndescription: >\nA map (list of key-value pairs where referenceId converted from integer to string serves\nas key; see clause 6.4.6.3.2) of FailedMonitoringConfiguration\ntype: object\nadditionalProperties:\n$ref: '#/components/schemas/FailedMonitoringConfiguration'\nminProperties: 1\nEeSubscriptionError:\ndescription: EE Subscription Error.\nallOf:\n- $ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\n- $ref: '#/components/schemas/EeSubscriptionErrorAddInfo'\n# SIMPLE TYPES:\nImsi:\ndescription: IMSI of the UE\ntype: string\npattern: '^(imsi-[0-9]{5,15})$'\nUeIdOrGroupId:\ndescription: Contains the UE identifier or the Group Identifier of the UE\ntype: string\npattern: '^(imsi-[0-9]{5,15}|extgroupid-[^@]+@[^@]+|.+$)'\nMaxNumOfReports:\ndescription: Maximum number of events to be reported for events in a given subscription\ntype: integer\nminimum: 1\n# ENUMS:\nEventType:\ndescription: Type of Monitoring Event\nanyOf:\n- type: string\nenum:\n- LOSS_OF_CONNECTIVITY\n- UE_REACHABILITY_FOR_DATA\n- UE_REACHABILITY_FOR_SMS\n- LOCATION_REPORTING\n- COMMUNICATION_FAILURE\n- AVAILABILITY_AFTER_DDN_FAILURE\n- PDN_CONNECTIVITY_STATUS\n- type: string\nLocationAccuracy:\ndescription: Location accuracy used in the 'Location Reporting' event type\nanyOf:\n- type: string\nenum:\n- CELL_LEVEL\n- RAN_NODE_LEVEL\n- TA_LEVEL\n- type: string\nFailedCause:\ndescription: >\nIndicates the Failed cause of the failed Monitoring Configuration in the EE subscription\nanyOf:\n- type: string\nenum:\n- MTC_PROVIDER_NOT_ALLOWED\n- MONITORING_NOT_ALLOWED\n- UNSUPPORTED_MONITORING_EVENT_TYPE\n- UNSUPPORTED_MONITORING_REPORT_OPTIONS\n- UNSPECIFIED\n- type: string\nAnnex B (informative):Withdrawn API versions\nB.1\tGeneral\nThis Annex lists withdrawn API versions of the APIs defined in the present specification. 3GPP TS 29.501 [5] clause 4.3.1.6 describes the withdrawal of API versions.\nAnnex C (informative):Change history\nChange history\nDate\nMeeting\nTDoc\nCR\nRev\nCat\nSubject/Comment\nNew version\n2019-05\nCT4#91\nC4-192407\nInitial Draft.\n0.1.0\n2019-09\nCT4#93\nC4-193847\nIncorporation of pCRs agreed at CT4#93 in C4-193553, C4-193624.\n0.2.0\n2019-10\nCT4#94\nC4-194521\nIncorporation of pCRs agreed at CT4#94 in C4-194346.\n0.3.0\n2019-11\nCT4#95\nC4-195636\nIncorporation of pCRs agreed at CT4#95 in C4-195579.\n0.4.0\n2019-12\nCT#86\nCP-193067\nTS presented for information\n1.0.0\n2020-03\nCT4#96\nC4-201271\nIncorporation of pCRs agreed at CT4#96 in C4-200880, C4-200917, C4-200964, C4-201100.\n1.1.0\n2020-03\nCT#87\nCP-200065\nTS presented for approval\n2.0.0\n2020-03\nCT#87\nApproved at CT#87\n16.0.0\n2020-07\nCT#88\nCP-201033\n0001\n-\nB\nStorage of YAML files in ETSI Forge\n16.1.0\n2020-07\nCT#88\nCP-201033\n0002\n-\nF\nPGW-C+SMF FQDN for Emergency Session\n16.1.0\n2020-07\nCT#88\nCP-201033\n0003\n1\nB\nInitial Registration\n16.1.0\n2020-07\nCT#88\nCP-201033\n0004\n1\nB\nHSS Event Exposure\n16.1.0\n2020-07\nCT#88\nCP-201033\n0005\n1\nF\nServing Node Deregistration\n16.1.0\n2020-07\nCT#88\nCP-201073\n0006\n-\nF\n29.563 Rel-16 API version and External doc update\n16.1.0\n2020-09\nCT#89\nCP-202111\n0007\n-\nF\nUE Id Correction for EE Subscription\n16.2.0\n2020-09\nCT#89\nCP-202111\n0008\n1\nF\nCorrection of HSS Event Exposure data types\n16.2.0\n2020-09\nCT#89\nCP-202096\n0009\n-\nF\n29.563 Rel-16 API version and External doc update\n16.2.0\n2020-12\nCT#90\nCP-205049\n0010\n1\nF\nConfig APN for PDN connectivity status\n16.3.0\n2020-12\nCT#90\nCP-205049\n0011\n1\nF\nDefinition of SubscriptionData\n16.3.0\n2020-12\nCT#90\nCP-205049\n0012\n-\nF\nReferences and Cardinality errors clean up\n16.3.0\n2020-12\nCT#90\nCP-205048\n0013\n-\nF\nStorage of YAML files in GitLab\n16.3.0\n2020-12\nCT#90\nCP-205049\n0014\n-\nF\nReference ID\n16.3.0\n2020-12\nCT#90\nCP-205036\n0015\n-\nF\n29.563 Rel-16 API version and External doc update\n16.3.0\n2021-03\nCT#91\nCP-210042\n0018\n-\nF\nGUAMI in Deregistration Request\n16.4.0\n2021-03\nCT#91\nCP-210054\n0022\n-\nF\n29.563 Rel-16 API version and External doc update\n16.4.0\n2021-03\nCT#91\nCP-210042\n0023\n-\nF\nCancellation Type sent to MME/SGSN when UE registers in 5G\n16.4.0\n2021-03\nCT#91\nCP-210042\n0017\n-\nF\nCorrection of reference\n17.0.0\n2021-06\nCT#92\nCP-211064\n0025\n-\nA\nServing Node Deregistration\n17.1.0\n2021-06\nCT#92\nCP-211028\n0026\n-\nF\nOpenAPI Reference\n17.1.0\n2021-06\nCT#92\nCP-211028\n0027\n1\nB\nData Type Descriptions\n17.1.0\n2021-06\nCT#92\nCP-211028\n0028\n-\nF\nNhss Services\n17.1.0\n2021-06\nCT#92\nCP-211047\n0029\n4\nF\nRAN Node Level Location Accuracy\n17.1.0\n2021-06\nCT#92\nCP-211065\n0031\n1\nA\nMonitored Resource URI\n17.1.0\n2021-06\nCT#92\nCP-211059\n0033\n-\nA\nRedirect Responses\n17.1.0\n2021-06\nCT#92\nCP-211064\n0035\n1\nA\nVLR Cancellation\n17.1.0\n2021-06\nCT#92\nCP-211054\n0036\n1\nB\nMTC Provider in Nhss_EE\n17.1.0\n2021-06\nCT#92\nCP-211050\n0037\n-\nF\n29.563 Rel-17 API version and External doc update\n17.1.0\n2021-09\nCT#93\nCP-212060\n0040\n-\nA\n3xx description correction for SCP\n17.2.0\n2021-09\nCT#93\nCP-212069\n0043\n1\nA\nImmediate Report in Response\n17.2.0\n2021-09\nCT#93\nCP-212069\n0045\n-\nA\nMissing Event Reports\n17.2.0\n2021-09\nCT#93\nCP-212056\n0048\n1\nF\nCorrections on EventType\n17.2.0\n2021-09\nCT#93\nCP-212057\n0049\n1\nB\nPartial success on EE subscription\n17.2.0\n2021-09\nCT#93\nCP-212059\n0050\n-\nF\n29.563 Rel-17 API version and External doc update\n17.2.0\n2021-12\nCT#94\nCP-213085\n0041\n2\nF\nEE subscription for a group\n17.3.0\n2021-12\nCT#94\nCP-213121\n0052\n-\nF\n29.563 Rel-17 API version and External doc update\n17.3.0\n2022-03\nCT#95\nCP-220023\n0053\n-\nF\n501 Not Implemented\n17.4.0\n2022-03\nCT#95\nCP-220074\n0055\n-\nA\nEssential Correction on Monitoring Events\n17.4.0\n2022-03\nCT#95\nCP-220074\n0057\n-\nA\nIdle Status Indication\n17.4.0\n2022-03\nCT#95\nCP-220090\n0058\n-\nF\nEditorial corrections\n17.4.0\n2022-03\nCT#95\nCP-220066\n0059\n-\nF\n29.563 Rel-17 API version and External doc update\n17.4.0\n2022-06\nCT#96\nCP-221029\n0061\n1\nF\nFqdn Data Type Definition\n17.5.0\n2022-06\nCT#96\nCP-221028\n0062\n1\nF\nUeContextInPgwData for emergency sessions\n17.5.0\n2022-06\nCT#96\nCP-221029\n0063\n1\nF\nSubscription modification\n17.5.0\n2022-06\nCT#96\nCP-221051\n0064\n-\nF\n29.563 Rel-17 API version and External doc update\n17.5.0\n2022-09\nCT#97\nCP-222057\n0065\n-\nF\nIMEI Update\n17.6.0\n2022-09\nCT#97\nCP-222057\n0066\n-\nF\nRoaming Status Update\n17.6.0\n2022-09\nCT#97\nCP-222058\n0067\n-\nF\n29.563 Rel-17 API version and External doc update\n17.6.0\n2022-12\nCT#98\nCP-223028\n0068\n1\nF\nMissing Mandatory Status Codes in OpenAPI\n18.0.0\n2022-12\nCT#98\nCP-223033\n0069\n-\nF\n29.563 Rel-18 API version and External doc update\n18.0.0\n2023-03\nCT#99\nCP-230029\n0070\n-\nF\nPDN connectivity status\n18.1.0\n2023-03\nCT#99\nCP-230029\n0071\n1\nF\nMissing OAuth Security Clauses\n18.1.0\n2023-06\nCT#100\nCP-231027\n0072\n4\nF\nLocation header and missing Redirection clause\n18.2.0\n2023-06\nCT#100\nCP-231025\n0074\n-\nF\nRoaming Status Update\n18.2.0\n2023-06\nCT#100\nCP-231027\n0075\n1\nD\nEditorial corrections for Roaming Status Update\n18.2.0\n2023-09\nCT#101\nCP-232033\n0076\n1\nF\nNEF Reference ID\n18.3.0\n2023-09\nCT#101\nCP-232058\n0077\n1\nF\nImmediate Reporting Handling\n18.3.0\n2023-09\nCT#101\nCP-232060\n0078\n-\nF\n29.563 Rel-18 API version and External doc update\n18.3.0\n2023-12\nCT#102\nCP-233029\n0079\n1\nB\nHTTP RFCs obsoleted by IETF RFC 9110, 9111 and 9113\n18.4.0\n2023-12\nCT#102\nCP-233029\n0080\n1\nB\nProblemDetails RFC 7807 obsoleted by 9457\n18.4.0\n2023-12\nCT#102\nCP-233027\n0081\n-\nB\nPer Monitoring Configuration Failure Cause in Error Response\n18.4.0\n2023-12\nCT#102\nCP-233030\n0082\n-\nF\nEditorial and Style Corrections\n18.4.0\n2023-12\nCT#102\nCP-233071\n0084\n-\nA\nGroup ID on Nhss_EE API\n18.4.0\n2023-12\nCT#102\nCP-233060\n0085\n-\nF\n29.563 Rel-18 API version and External doc update\n18.4.0\n2024-06\nCT#104\nCP-241028\n0087\n1\nF\nCallbacks\n18.5.0\n2024-06\nCT#104\nCP-241028\n0088\n3\nF\nUeContextInPgw modification\n18.5.0\n2024-06\nCT#104\nCP-241052\n0089\n-\nF\n29.563 Rel-18 API version and External doc update\n18.5.0\n2024-09\nCT#105\nCP-242053\n0093\n1\nF\nNot Cancelling the MME registration upon EPS to 5GS mobility\n18.6.0\n2024-09\nCT#105\nCP-242054\n0094\n-\nF\n29.563 Rel-18 API version and External doc update\n18.6.0",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.500_clause_6.10.3.4",
        "ts_29.500_clause_6.10.9.1",
        "ts_29.501_clause_5.3.1",
        "ts_21.900_clause_5",
        "ts_29.501_clause_4.4",
        "clause_6.4.6.3.2",
        "ts_29.501_clause_4.3.1.6",
        "clause_18.2.0",
        "ts_29.500",
        "ts_29.501",
        "ts_21.900",
        "ts_29.563",
        "ts_17.2",
        "ts_17.4"
      ]
    }
  ]
}