{
  "metadata": {
    "specification_id": "ts_23.237",
    "version": "18.0.0",
    "title": "3GPP TS 23.237",
    "file_path": "/content/drive/MyDrive/RAG_thesis/data/23_series/23237-i00/23237-i00.docx"
  },
  "export_info": {
    "export_date": "2025-07-26T09:41:33.385047",
    "total_chunks": 128
  },
  "chunks": [
    {
      "chunk_id": "ts_23.237_1",
      "section_id": "1",
      "section_title": "Scope",
      "content": "The present document specifies the architectural requirements and procedures for delivery of IMS Service Continuity.\nTS 23.206 [3] is migrated to this specification.\nThe scope of the specification includes:\n-\tAccess Transfer related functionality:\n-\tPS-CS Access Transfer;\n-\tPS-PS Access Transfer;\n-\tPS-PS Access Transfer in conjunction with PS-CS Access Transfer;\n-\tAdding and/or removing media flows to support service;\n.\tMSC Server assisted mid-call feature;\n-\tSRVCC session transfer of IMS emergency session;\n-\tDRVCC session transfer of IMS emergency session.\n-\tInter‑UE Transfer related functionality:\n-\tEstablishment and release of a Collaborative Session;\n-\tAddition of media flows to, modification of media flows in, and release of media flows from a Collaborative Session;\n-\tTransfer of media flows from one UE to another;\n-\tTransfer of the Collaborative Session Control with or without transfer of media flows;\n-\tTransfer of all media flows to a target UE without establishing a Collaborative Session;\n-\tSession discovery;\n-\tInter-UE Transfer initiated by the target UE or by the SCC AS;\n-\tReplication of media flows by means of Inter-UE Transfer procedures;\n-\tAuthorization and other aspects to support Inter-UE Transfer across multiple IMS subscriptions.\nThe solution is restricted to service continuity using IMS procedures, i.e. mobility mechanisms on the IP-CAN level are not within the scope of this specification.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.206"
      ]
    },
    {
      "chunk_id": "ts_23.237_2",
      "section_id": "2",
      "section_title": "References",
      "content": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non‑specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t3GPP TS 22.258: \"Service requirements for the AIPN\".\n[3]\t3GPP TS 23.206: \"Voice Call Continuity between CS and IMS\".\n[4]\t3GPP TS 23.228: \"IP Multimedia Subsystem (IMS); Stage 2\".\n[5]\t3GPP TS 23.292: \"IP Multimedia Subsystem (IMS) centralized services; Stage 2\".\n[6]\tVoid.\n[7]\tOMA-ERELD-DM-V1_2-20060602-C: \"Enabler Release Definition for OMA Device Management, Candidate Version 1.2\".\n[8]\tIETF RFC 3261 (June 2002): \"SIP: Session Initiation Protocol\".\n[9]\t3GPP TS 22.101: \"Service aspects; Service principles\".\n[10]\t3GPP TS 23.216: \" Single Radio Voice Call Continuity (SRVCC); Stage 2\".\n[11]\t3GPP TS 33.102: \"3G security; Security architecture\".\n[12]\t3GPP TS 33.203: \"Access security for IP-based services\".\n[13]\t3GPP TS 23.218: \"IP Multimedia (IM) session handling; IM call model; Stage 2\".\n[14]\t3GPP TS 23.003: \"Numbering, addressing and identification\".\n[15]\t3GPP TS 22.173: \"IP Multimedia Core Network Subsystem (IMS) Multimedia Telephony Service and supplementary services; Stage 1\".\n[16]\t3GPP TS 24.610: \"Communication HOLD (HOLD) using IP Multimedia (IM) Core Network (CN) subsystem; Protocol specification\".\n[17]\t3GPP TS 24.605: \"Conference (CONF) using IP Multimedia (IM) Core Network (CN) subsystem; Protocol specification\".\n[18]\t3GPP TS 24.629: \"Explicit Communication Transfer (ECT) using IP Multimedia (IM) Core Network (CN) subsystem; Protocol specification\".\n[19]\t3GPP TS 24.647: \"Advice Of Charge (AOC) using IP Multimedia (IM)Core Network (CN) subsystem; Protocol Specification\".\n[20]\t3GPP TS 24.616: \"Malicious Communication Identification (MCDI) using IP Multimedia (IM)Core Network (CN) subsystem; Protocol Specification\".\n[21]\t3GPP TS 24.604: \"Communication Diversion (CDIV) using IP Multimedia (IM)Core Network (CN) subsystem; Protocol specification\".\n[22]\t3GPP TS 24.615: \"Communication Waiting (CW) using IP Multimedia (IM) Core Network (CN) subsystem; Protocol Specification\".\n[23]\t3GPP TS 23.167: \"IP Multimedia Subsystem (IMS) emergency sessions\".\n[24]\t3GPP TS 24.008: \"Mobile radio interface Layer 3 specification; Core network protocols; Stage 3\".\n[25]\t3GPP TS 24.147: \"Conferencing using the IP Multimedia (IM) Core Network (CN) subsystem; Stage 3\".\n[26]\t3GPP TS 24.229: \"IP multimedia call control protocol based on Session Initiation Protocol (SIP) and Session Description Protocol (SDP); Stage 3\".\n[27]\t3GPP TS 23.060: \"General Packet Radio Service (GPRS); Service description; Stage 2\".\n[28]\t3GPP TS 23.401: \"General Packet Radio Service (GPRS) enhancements for Evolved Universal Terrestrial Radio Access Network (E-UTRAN) access\".\n[29]\t3GPP TR 26.911: \"Codec(s) for Circuit-Switched (CS) multimedia telephony service; Terminal implementor's guide\".\n[30]\t3GPP TS 23.334: \"IP Multimedia Subsystem (IMS) Application Level Gateway (IMS-ALG) - IMS Access Gateway (IMS-AGW) interface\".\n[31]\t3GPP TS 29.162: \"Interworking between the IM CN subsystem and IP networks\".\n[32]\t3GPP TS 26.111: \"Codec for circuit switched multimedia telephony service; Modifications to H.324\".\n[33]\t3GPP TS 29.213: \"Policy and Charging Control signalling flows and Quality of Service (QoS) parameter mapping\".\n[34]\tIETF RFC 6086 (January 2011): \"Session Initiation Protocol (SIP) INFO Method and Package Framework\".\n[35]\t3GPP TS 26.114: \"IP Multimedia Subsystem (IMS); Multimedia Telephony; Media handling and interaction\".\n[36]\t3GPP TS 23.502: \"Procedures for the 5G System\".\n[37]\t3GPP TS 23.501: \"System architecture for the 5G System (5GS)\".",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905",
        "ts_22.258",
        "ts_23.206",
        "ts_23.228",
        "ts_23.292",
        "ts_22.101",
        "ts_23.216",
        "ts_33.102",
        "ts_33.203",
        "ts_23.218",
        "ts_23.003",
        "ts_22.173",
        "ts_24.610",
        "ts_24.605",
        "ts_24.629",
        "ts_24.647",
        "ts_24.616",
        "ts_24.604",
        "ts_24.615",
        "ts_23.167",
        "ts_24.008",
        "ts_24.147",
        "ts_24.229",
        "ts_23.060",
        "ts_23.401",
        "ts_26.911",
        "ts_23.334",
        "ts_29.162",
        "ts_26.111",
        "ts_29.213",
        "ts_26.114",
        "ts_23.502",
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_23.237_3.1",
      "section_id": "3.1",
      "section_title": "Definitions",
      "content": "For the purposes of the present document, the terms and definitions in TR 21.905 [1] and the following apply.\n5G-SRVCC: See TS 23.216 [10].\nAccess Leg: This is the call control leg between the UE and the SCC AS; also see TS 23.292 [5] for the definition of Access Leg for IMS sessions which use the CS media.\nAccess Transfer: Transfer at the IMS-level of one or more media paths of an ongoing IMS session on one UE between PS to CS access; or transfer at the IMS-level of both the signalling and the media path of an ongoing IMS session on a UE between different IP-CANs.\nCollaborative Session: A set of two or more Access Legs and related media on two or more UEs having IMS subscriptions under the same operator that are presented as one Remote Leg by the SCC AS.\nCollaborative Session Control: The control operations on the Collaborative Session which can only be performed by the Controller UE, e.g. ability to release the Collaborative Session, to invoke supplementary services, and to authorize requests for IUT Media Control Related Procedures from other UEs.\nControllee UE: A UE that supports media flows for a Collaborative Session and may request IUT Media Control Related Procedures but is subordinate to the Controller UE for authorization of these procedures.\nController UE: The UE that controls a Collaborative Session and whose service profile determines the services on the remote leg. The Controller UE may also support media flows for a Collaborative Session and may request IUT Media Control Related Procedures.\nCorrelation MSISDN: An MSISDN used for correlation of sessions. See TS 23.003 [14] for more information.\nDual Radio: This refers to the situation where the UE is capable to transmit/receive on two different radio access technologies simultaneously.\neCall: See TS 22.101 [9].\nEmergency Session Transfer Number for SRVCC: A number used in the session transfer procedure for emergency calls, pointing toward the serving (visited if roaming) IMS EATF which handles the IMS emergency session transfer from PS to CS access.\nEmergency Session Transfer Number for DRVCC: A number used by the UE to request the EATF AS to perform Session Transfer from PS to CS access. The E-STN-DR is dynamically assigned by EATF during IMS emergency session procedure with WLAN.\nHosting SCC AS: The SCC AS that manages the dialog with the remote party for a Collaborative Session.\nIMS Service Continuity: A service of the IMS which supports the use of Session Transfer mechanisms to maintain service continuity in the event of terminal mobility and/or mobility between terminals for the case when such events are not hidden from the IMS session layer and thus service continuity could not otherwise be maintained.\nInter-UE Transfer: Transfer at the IMS-level of some or all of the media flows and/or service control across a set of having IMS subscriptions under the same operator.\nNOTE 1:\tThe transfer of all media flows and the control signalling from one UE to another is also known as Session Mobility as defined in TS 22.258 [2].\nIP Multimedia Routing Number (IMRN): An IP Multimedia Routeing Number (IMRN) is a routable number that points to an SCC AS in the IM CN subsystem. See TS 23.003 [14] for more information.\nIUT Media Control Related Procedures: The control operations on the media flows of the Collaborative Session which involve multiple UEs or need Controller UE's authorization within the Collaborative Session, e.g. ability to transfer/add/replicate media flows, to remove/modify media flows on a different UE.\nLocal Operating Environment Information: This is a set of parameters, which can include access network(s) conditions and other parameters implementation specific, which describe the local environment in which the UE is operating.\nMinimum Set of Data (MSD): See TS 22.101 [9].\nMSC Server assisted mid-call feature: Functionality of the MSC Server, the SCC AS and the UE, enabling PS - CS Access Transfer for UEs not using ICS capabilities, while preserving the provision of mid-call services (inactive sessions or sessions using the Conference service).\nNOTE 2:\tThis terminology is often abbreviated as \"mid-call feature\" or even \"mid-call\" throughout this specification.\nNG-RAN: See TS 23.216 [10].\nPre-alerting state: This is the state where the UE can receive early media in the early dialogue phase.\nRemote Leg: This is the call control leg between the SCC AS and the remote party from the subscriber's perspective; also see TS 23.292 [5] for the definition of Remote Leg for IMS sessions which use the CS media.\nService Control Signalling Path: As defined in TS 23.292 [5].\nSession Replication: Replication, at the IMS-level, of a session ongoing in a source UE at a target UE. When the new, independent, session is established at the target UE, the state of the original media is replicated e.g. same playback state; same used media etc. is replicated.\nSession State Information: Information of IMS session state sent by the SCC AS for enablement of PS-CS and CS-PS Access Transfer of IMS multimedia-sessions when ICS UE capabilities can not be used.\nSession Transfer: Transfer at the IMS-level of one or more of the session signalling paths and/or associated media flow paths of an ongoing IMS session while maintaining service continuity. Session Transfer incorporates Access Transfer and / or Inter-UE Transfer.\nSession Transfer Identifier (STI): An identifier used by the UE to request the SCC AS to perform Session Transfer. The STI is either statically configured on the UE or dynamically assigned. See TS 23.003 [14] for more information.\nSession Transfer Identifier for reverse SRVCC (STI-rSR): A dynamic identifier used by the UE to request the IMS network to perform Session Transfer for CS to PS SRVCC (reverse SRVCC). The STI-rSR is used by the network to correlate two access legs, and is unique for each access transfer control function within an ATCF.\nSession Transfer Number (STN): A number used by the UE to request the SCC AS to perform Session Transfer from PS to CS access. The STN is configured and stored on the UE and can be updated with current address during session establishment. See TS 23.003 [14] for more information.\nSession Transfer Number for SRVCC (STN-SR): A STN used for SRVCC procedures as specified in TS 23.216 [10]. STN-SR is a subscription information provided to HSS for each subscriber if SRVCC service is allowed by hPLMN. STN-SR is a routing number indicating the SCC-AS or the ATCF if SRVCC enhanced with ATCF or if 5G-SRVCC is used. See TS 23.003 [14] for more information.\nSingle Radio: This refers to the situation where the UE is only capable of transmitting/receiving on one radio access technology at a time.\nSource Access Leg: The Access Leg that exists in the transferred-out access before executing Access Transfer procedures.\nTarget Access Leg: The Access Leg that is established in the transferred-in access during Access Transfer procedures.\nUDM: See TS 23.216 [10].",
      "chunk_type": "definition",
      "cross_references": [
        "ts_21.905",
        "ts_23.216",
        "ts_23.292",
        "ts_23.003",
        "ts_22.101",
        "ts_22.258"
      ]
    },
    {
      "chunk_id": "ts_23.237_3.2",
      "section_id": "3.2",
      "section_title": "Abbreviations",
      "content": "For the purposes of the present document, the abbreviations given in TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in TR 21.905 [1].\n3pcc\t3rd party call control\nATCF\tAccess Transfer Control Function\nATGW\tAccess Transfer Gateway\nATU-STI\tAccess Transfer Update - Session Transfer Identifier\nC-MSISDN\tCorrelation MSISDN\nDRVCC\tDual Radio Voice Call Continuity\nEATF\tEmergency Access Transfer Function\nE-STN-DR\tEmergency Session Transfer Number for DRVCC\niFC\tInitial Filter Criteria\nIMRN\tIP Multimedia Routing Number.\nIUT\tInter-UE Transfer\nMSD\tMinimum Set of emergency related Data\nOCS\tOnline Charging System\nSC\tService Continuity\nSCC AS\tService Centralization and Continuity Application Server\nSRVCC\tSingle Radio Voice Call Continuity\nSTI\tSession Transfer Identifier\nSTI-rSR\tSession Transfer Identifier for CS to PS SRVCC\nSTN\tSession Transfer Number\nSTN-SR\tSession Transfer Number - Single Radio\nE-STN-SR\tEmergency Session Transfer Number for SRVCC",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905"
      ]
    },
    {
      "chunk_id": "ts_23.237_4.1.0",
      "section_id": "4.1.0",
      "section_title": "General",
      "content": "It is assumed that the UE may be capable of transmitting and receiving simultaneously in multiple Access Networks or it may be capable of transmitting and receiving in only one Access Network at a time.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_4.1.1",
      "section_id": "4.1.1",
      "section_title": "PS-CS Access Transfer",
      "content": "The following assumptions apply for PS-CS Access Transfer:\n-\tFunctions of IMS Centralized Services and IMS Service Continuity are collocated in a single SCC AS. Not all functions are always required.\n-\tWhen (v)SRVCC enhanced with ATCF is used or when 5G-SRVCC is used, additional functions of IMS Service Continuity are provided by the ATCF/ATGW in the serving (visited if roaming) network.\n-\tIMS Centralized Services specifies functions and procedures for use of CS bearer for the media of the IMS sessions.\n-\tIf both UE and network supports the ICS UE capabilities described in TS 23.292 [5], these capabilities are used for communication of required information if needed for enablement of PS-CS Access Transfer of IMS multimedia sessions. During Access Transfer, the UE may decide to retain the use of the Gm reference point for service control of the real time media flow(s) in the old PS access (if available) or may decide to transfer the Gm service control for the real time media flow(s) to a new PS access. Support and use of the I1 interface in both the UE and SCC AS are subject to the requirements specified in clauses 5.3.2 and 5.3.1, respectively, of TS 23.292 [5].\n-\tWhen using the CS bearer for the media of the IMS session(s), multiple sessions can exist, but only one active session can be transferred over the CS bearer; one or more inactive sessions can be transferred.\n-\tWhen using the CS bearer for the voice + video media of the IMS session(s) as a result of performing vSRVCC, only one session with voice+video media can be transferred to the CS access. All remaining bi-directional voice and voice + video sessions but the transferred one are released, if the UE and network do not support ICS capabilities.\n-\tPS-CS Access Transfer with UE-based conferencing is not specified in this release.\n-\tThe SCC AS shall provide the Session State Information to the MSC Server if:\n-\tthe Access Transfer request is sent by or via the MSC Server;\n-\tthe MSC Server has indicated its capability to support mid-call services in the registration or indicates its capability in the Access Transfer request sent to the SCC AS;\n-\tand ICS UE capabilities cannot be used upon transfer.\n-\tIf supported, the SCC AS and ATCF have additional functions in handling of PS-CS Access Transfer procedure with priority indication for Single Radio.\n-\tIf supported, the MSC Server may invoke the optional procedure(s) as shown in Annex B for additional SRVCC enhancements.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.292"
      ]
    },
    {
      "chunk_id": "ts_23.237_4.1.2",
      "section_id": "4.1.2",
      "section_title": "PS-PS Access Transfer",
      "content": "If a UE has an ongoing multimedia session over an access system and moves to a different access system but its IMS contact address and its serving P‑CSCF remains the same, then there is no need to activate any IMS Service Continuity mechanisms to transfer its multimedia session. The UE may update the session (e.g. remove media type(s) not supported by the target access system) based on the normal IMS procedures specified in TS 23.228 [4].\nWhen the Evolved Packet System mobility with IP address preservation is used, the assumption above also applies.\nNOTE:\tIf an ICS UE has an ongoing session using CS bearer and Gm reference point over an IP‑CAN and performs an Access Transfer to a different IP‑CAN, the Service Control Signalling Path can be transferred from the old IP‑CAN to the new IP‑CAN while retaining the media flow(s) in the CS access network, so that service continuity of the session is maintained.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.228"
      ]
    },
    {
      "chunk_id": "ts_23.237_4.1.3",
      "section_id": "4.1.3",
      "section_title": "Inter-UE Transfer",
      "content": "The following assumptions apply for Inter-UE Transfer:\n-\tThe UEs involved in IUT Media Control Related Procedures can belong to different IMS subscriptions under the same operator.\n-\tThe Collaborative Session Control can be transferred between UEs registering Public User identities that share the same service profile (and thus belong to the same IMS subscription).\n-\tThere is only one Controller UE within a Collaborative Session.\n-\tA Controllee UE is not aware of its role within a Collaborative session and it is not aware of the Controller UE. In that respect any UE can undertake the role of Controllee UE.\n-\tThe Collaborative Session is transparent to the remote end, to which it appears that the session is with the Controller UE.\n-\tAny IUT capable UE can request IUT Media Control Related Procedures. Such requests are subject to authorization by the SCC AS and/or the Controller UE.\n-\tThe UEs involved in Inter-UE Transfer without establishing a Collaborative Session use Public User identities that share the same service profile.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_4.2.1",
      "section_id": "4.2.1",
      "section_title": "General Requirements",
      "content": "-\tIt shall be possible to perform multimedia session transfer between access systems regardless of whether network layer mobility is deployed or not.\nNOTE 1:\tThe mechanism to avoid potential conflict between PS-PS Access Transfer and underlying network layer mobility (e.g. Evolved Packet System mobility, etc.) is not specified within this Release of the specification.\n-\tThe service disruption when session transfer occurs shall be minimized.\n-\tThere shall be no impact on the radio and transport layers and on the PS core network.\n-\tUEs that do not support the functionality described in this specification shall not be impacted.\n-\tIn the context of this specification, an MME that supports 5G-SRVCC from NG-RAN to UTRAN is a MME_SRVCC, as defined in TS 23.216 [10].\n-\tAll media flow(s) within a multimedia session or a subset of media flow(s) within a multimedia session could be subject to session transfer procedures.\n-\tIt shall be possible to register a Public User Identity with multiple contact addresses (at the same or via separate UEs) via IMS registration procedures as defined in TS 23.228 [4], clause 5.2.1. The number of allowed simultaneous registrations is defined by home operator policy.\n-\tIt shall be possible to perform correlation of charging data from different access networks when service continuity between these networks is performed.\n-\tThe UE shall be IMS registered before invoking any Session Transfer procedures.\n-\tThe filter criteria shall contain a condition that a 3rd-party registration is performed via the ISC interface for the SCC AS.\n-\tIt shall be possible to provide SR-VCC support for IMS emergency call from PS to CS Access Transfer when using UTRAN and E-UTRAN radio access network (see TS 23.167 [23]).\nNOTE 2:\tThis includes an IMS emergency call which has been originated on NG-RAN (see TS 23.501 [37]), and subsequently transferred to a system where PS to CS Access Transfer for the call is possible.\n-\tIt shall be possible to provide DR-VCC support for IMS emergency call from PS to CS Access Transfer when using WLAN access to EPC (see TS 23.167 [23]).\nNOTE 3:\tIn this Release, DR-VCC support for IMS emergency call from PS to CS Access Transfer is only supported if the UE has valid subscription.\nNOTE 4:\tThe CS to PS Access transfer for IMS emergency call SRVCC or DRVCC is not supported in this Release of the specification.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.228_clause_5.2.1",
        "ts_23.216",
        "ts_23.228",
        "ts_23.167",
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_23.237_4.2.2",
      "section_id": "4.2.2",
      "section_title": "Access Transfer Requirements",
      "content": "-\tIt shall be possible to provide Access Transfer in the home network or in the visited network (if roaming) when the user is moving between 3GPP access systems.\n-\tIt shall be possible to provide Access Transfer when the user is moving between 3GPP and non-3GPP access systems.\n-\tIt shall be possible to provide Access Transfer when the user is moving between non-3GPP access systems.\n-\tIt shall be possible to provide Access Transfer between an Access Network that supports real-time media on the CS domain and non-real-time media on the PS domain, and an IP‑CAN that supports transport of all media types.\n-\tIf it is not possible or not desired (e.g. due to user preferences and/or operator policies) to transfer all the media flow(s), then a subset of the media flow(s) shall be transferred (if possible) and the remaining flow(s) will be released or kept in the transferred out access.\n-\tIt shall be possible for the UE to add or remove one or more media flow(s) to/from an ongoing multimedia session that it controls during Access Transfer.\n-\tIt shall be possible to provide Access Transfer when the P‑CSCF changes.\n-\tIt shall be possible for the UE to use IMS mechanisms to transfer its ongoing multimedia sessions to a target Access Network without requiring any new functionality on the remote party.\n-\tIt shall be possible for the UE to initiate an Access Transfer procedure based on operator policy provided by the network which may include restrictions of Access Transfer.\n-\tIt shall be possible for the SCC AS to update the operator policy in the UE.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_4.2.3",
      "section_id": "4.2.3",
      "section_title": "IUT Requirements",
      "content": "-\tIt shall be possible for the Controller UE to apply IUT when a remote end adds media to an existing session.\n-\tIUT shall be able to coexist with Access Transfer as specified in this specification and TS 23.292 [5].\n-\tIf the Collaborative Session Control is lost for an active Collaborative Session, the SCC AS shall release all the Access Legs participating in that Collaborative Session.\n-\tIt shall be possible for the Controller UE to determine all other UEs that are currently available and authorised for IUT procedures.\n-\tIt shall be possible for the Controller UE to determine the media and service capabilities of each available UE.\n-\tThe network shall reject IUT between UEs that are not authorised.\n-\tThe Hosting SCC AS shall maintain the end-to-end session service state of a UE engaged in IUT.\n-\tIt shall be possible to execute IUT Media Control Related Procedures in any order, and any number of times, for a given session.\n-\tThe Controller UE shall maintain the Collaborative Session Control for the session until the Collaborative Session is released or until the Collaborative Session Control is transferred to another Controller capable UE.\n-\tIt shall be possible for a Controller UE to initiate transfer of Collaborative Session Control to another Controller capable UE that has registered a Public User identity that shares the service profile with the Public User identity used in the Collaborative Session.\n-\tIt shall be possible for a Controller capable UE to request and, when authorized, to pull Collaborative Session Control from a source UE.\n-\tThe media flow(s) on the target UE shall be established using IMS session setup procedures as specified in TS 23.228 [4].\n-\tThe Controller UE may transfer one or more media flow(s) to one or more target UEs (including itself).\n-\tThe selection of the media flows to be transferred may be based on the target UE(s) capabilities.\n-\tThe Controller UE shall have information about a Collaborative Session, which describes all media components currently existing in this session and the UEs associated with these media components.\n-\tThe Collaborative Session procedures for a Controllee UE without IUT capabilities shall not have any impact to the UE. Therefore any IMS UE shall be able to act a Controllee UE within a Collaborative Session.\n-\tUEs using CS access interworked with IMS by an interworking node shall be provided with limited Controllee UE functionality based on the constraints of the interworking node.\n-\tAfter the local end changes due to an IUT procedure without establishing a Collaborative Session, the SCC AS shall update the remote end that the session is continuing with a new local end.\n-\tIt shall be possible to apply IUT Media Control Related Procedures between UEs belonging to different IMS subscriptions.\n-\tWhen UEs from different subscriptions are involved in a Collaborative Session, the SCC ASs shall assure that UEs do not create subsequent Collaborative Sessions for media belonging to Access Legs of the original Collaborative Session, and thus only a single Collaborative Session with a single hosting SCC AS shall be allowed.\n-\tWhen an SCC AS creates an access leg towards a UE that is not part of the same subscription that is currently associated with the Collaborative Session, it shall include sufficient information indicating that there already exists a hosting SCC AS.\n-\tIt shall be possible for a UE to indicate that it is capable to become a Controller UE.\n-\tIt shall be possible for the Controller UE to apply IUT Media Control Related Procedures when setting up either an originating or terminating session.\n-\tIt shall be possible, based on the terminating user's preferences, to route incoming IMS session requests to a UE that is capable of becoming a Controller UE.\n-\tIt shall be possible for a UE to request to replicate one or more media flow(s) from the remote end.\n-\tIt shall be possible for the network to replicate media in order to support the media replication scenarios described in this document.\n-\tIt shall be possible for a UE to determine the information of ongoing multimedia session(s) in other UEs before or during IUT Media Control Related Procedures.\n-\tIt shall be possible for the network to mask information on some or all of the sessions or media flows composing the session from session discovery based on user service configuration or operator policy.\n-\tThe selection of the media flows to be transferred may be based on the ongoing multimedia session(s) on the source UE(s) discovered by the target UE(s) in pull mode.\n-\tIt shall be possible for a UE to request and, when authorized, to pull one or more media flow(s) from a source UE.\n-\tIt shall be possible for the Controller UE to authorize requests for IUT Media Control Related Procedures.\n-\tIt shall be possible for the network to authorize requests for IUT Media Control Related Procedures on behalf of the Controller UE.\n-\tThe network shall resolve conflicting IUT Media Control Related Procedures within a Collaborative Session.\n-\tWhen the Collaborative Session Control on the Controller UE is lost, the SCC AS may transfer the Collaborative Session Control to another Controller capable UE (with a Public User Identity belonging to the same service profile) involved in the Collaborative Session based on the user preferences associated with the Controller UE.\n-\tIt shall be possible for the SCC AS to initiate Inter-UE Transfer on behalf of the UE/user as a result of a UE requesting IUT, or due to other stimulus such as, but not restricted to, IMS signalling received by the SCC AS from other IMS entities, user preferences, or other service layer triggers.\n-\tReplication / transfer of some or all media components to target IMS UE(s), belonging to the same or to different user(s) that are subscribed to the same operator, shall not be performed when the remote end (e.g. the source of the media) of the session restricts such operation.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.292",
        "ts_23.228"
      ]
    },
    {
      "chunk_id": "ts_23.237_4.3.1.1",
      "section_id": "4.3.1.1",
      "section_title": "General",
      "content": "When an UE is active in an IMS session, the Session Transfer procedures provide service continuity between Access Networks and between UEs having IMS subscriptions under the same operator.\nThe initial and all subsequent Session Transfer procedures are initiated by the UE and are executed and controlled by the same SCC AS.\nThe SCC AS generates charging information for all Session Transfers for an IMS session for the purpose of billing and charging.\nThe UE sends information required by the SCC AS in order to execute Session Transfer procedures.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_4.3.1.2.1",
      "section_id": "4.3.1.2.1",
      "section_title": "General Access Transfer concepts",
      "content": "IMS sessions from and to a UE are anchored at the SCC AS in the home IMS and may also be anchored at the ATCF in the serving (visited if roaming) network to provide Service Continuity for the user during transition between two Access Networks. Sessions are anchored at the SCC AS in the home IMS, based on iFC. A 3pcc (3rd party call control) function is employed at the SCC AS to facilitate inter-Access Network mobility through the use of Access Transfers between the two Access Networks. IMS media sessions may be anchored by the ATCF during session establishment depending on operator policy. Access Transfers may be enabled in one or both directions as per network configuration requirements. The SCC AS has the capability to perform Access Transfers for a UE's sessions multiple times.\nInitiation of Access Transfer procedures for ongoing multimedia session may be based on the operator policy received from the SCC AS.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_4.3.1.2.2",
      "section_id": "4.3.1.2.2",
      "section_title": "Access Transfer (PS – CS) concepts",
      "content": "IMS sessions established in CS or PS Access Networks are anchored at the SCC AS. Additionally, IMS media sessions subject to CS to PS or PS to CS SRVCC can be anchored by the ATCF. IMS sessions using CS bearer are established at session setup or upon Access Transfer using procedures specified in TS 23.292 [5].\nPS-CS Access Transfer shall be provided according to the requirements specified in clause 22.3, Service Continuity, of TS 22.101 [9].\nWhen using a UE that does not have, or that is unable to use, ICS UE capabilities as specified in TS 23.292 [5], Access Transfer of one active bi-directional speech or speech and video session and zero or one inactive bi-directional speech session shall be provided when transferring speech and/or video media flow between CS and PS access. For PS to CS (not CS to PS) Access Transfer, if the UE has more than one anchored active bi-directional session, the session that was most recently made active shall be transferred.\nNOTE:\tPS to CS transfer - Single Radio of  a bi-directional session before the first SDP answer is not supported.\nWhen using a UE that is able to use ICS capabilities as specified in TS 23.292 [5], Access Transfer of one active bi-directional speech or speech and video session and zero or more inactive bi-directional speech sessions shall be provided using the Gm reference point, or optionally the I1 reference point, of ICS to transport required information, as specified in TS 23.292 [5], when transferring speech and/or video media flow between CS and PS access.\nFor PS to CS Dual Radio Access Transfer, if the UE has more than one anchored active bi-directional speech session, then the UE shall first request transfer of one of the active bi-directional sessions, put the remaining active sessions on hold and then request the transfer of one of the remaining inactive bi-directional sessions. Access Transfer shall also be provided for one or more inactive bi-directional speech sessions if the UE has no active bi-directional speech sessions.\nWhen Single Radio PS-to-CS Access Transfer is performed for an active bi-directional speech and video session, if the UE and network do not support ICS capabilities, all the remaining bi-directional speech and speech + video sessions, if any, are released by the UE and SCC AS.\nThe SCC AS maintains, for all active and inactive sessions, Session State Information as defined in clause 4.3.3.\nFor PS to CS Access Transfer, if the Access Transfer request has been sent by MSC Server or by the UE through the MSC Server and if the MSC Server has indicated its capability and ICS UE capability cannot be used upon transfer, then the SCC AS shall provide Session State Information to the MSC Server enhanced for ICS or (v)SRVCC as specified in TS 23.292 [5] and TS 23.216 [10], respectively. The SCC AS shall not provide Session State Information if either the UE or operator policy on the SCC AS indicates that network capabilities shall not be used to support mid-call services during Access Transfer. When receiving information about an additional session, the MSC Server enhanced for ICS or (v)SRVCC shall initiate Access Transfer towards the SCC AS for the additional session. When receiving information for a session, the MSC Server shall create a service context for this session using this information and perform service control on behalf of the UE as specified in TS 23.292 [5].\nFor CS to PS Access Transfer initiated by a UE not able to use ICS capability, the SCC AS shall provide Session State Information to the UE on the transferring-in leg.\n4.3.1.2.2A\tMSC Server assisted mid-call feature\nThe MSC Server assisted mid-call feature provides the preservation of mid-call services (inactive sessions or sessions using the Conference service) upon PS - CS Access Transfer without requiring the UE to use ICS capabilities.\nWhen the MSC Server assisted mid-call feature is enabled, the MSC Server, the SCC AS and the UE shall support one or more of the procedures specified in clauses 6.3.2.1.1a, 6.3.2.1.2a, 6.3.2.1.4a, 6.3.2.1.6, 6.3.2.1.7, 6.3.2.1.7a, 6.3.2.1.7b and 6.3.2.1.8.\nThe MSC Server assisted mid-call feature shall only be triggered if UE, MSC Server, and SCC AS all support the MSC Server assisted mid-call feature.",
      "chunk_type": "general",
      "cross_references": [
        "clause_22.3",
        "clause_4.3.3",
        "ts_23.292",
        "ts_22.101",
        "ts_23.216"
      ]
    },
    {
      "chunk_id": "ts_23.237_4.3.1.2.3",
      "section_id": "4.3.1.2.3",
      "section_title": "Co-existence of ICS UE and MSC Server assisted mid-call feature",
      "content": "A UE may implement both ICS UE capability and the MSC Server assisted mid-call feature for situations when the ICS UE capabilities cannot be used or be maintained after the transfer. For such a scenario, if ICS UE indicates both capabilities then the SCC AS needs to determine which capabilities are used to transfer the additional active or inactive sessions. The following logic is applied in the SCC AS to achieve this:\n-\tIf the Access Transfer request is made using ICS UE capabilities, the SCC AS detects that ICS UE capabilities are used and executes the transfer according to procedures defined in clause 6.3.2 of the present document.\n-\tIf the Access Transfer request is made via the MSC Server, the SCC AS needs to determine whether ICS capabilities are used:\n-\tIf the ICS UE is able to use ICS capabilities, then clause 6.3.2 of the present document applies.\n-\tIf the ICS UE is not able to use ICS capabilities, then MSC Server assisted mid-call feature is used.\nThe SCC AS can determine whether ICS capabilities are used based on the local configuration, or alternatively delay for an adequate time sending the session state information to the MSC Server in order to trigger the MSC Server assisted mid-call feature such that the potential re-establishment of Service Control Signalling Path by the ICS UE can be excluded.\n-\tIf no Access Transfer request is received, and the SCC AS detects that the ICS UE capabilities can not be used for the ICS UE due to loss of the Service Control Signalling Path over Gm reference point and unavailability of I1 reference point, the MSC Server assisted mid-call feature is used, with the following differences from the PS-CS Access Transfer:\n-\tthe CS Bearer Control Signalling Path(s) is/are used for control of the session(s), with the existing CS bearer Control Signalling Path reused for control of the most recently active session.\n-\tupon detecting that the Service Control Signalling Path is unavailable then clause 6.3.5 of the present document applies.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3.2",
        "clause_6.3.5"
      ]
    },
    {
      "chunk_id": "ts_23.237_4.3.1.3.1",
      "section_id": "4.3.1.3.1",
      "section_title": "General",
      "content": "IMS sessions from and to a UE are anchored at the SCC AS in the home IMS to provide service continuity for the user when one or more media flows of an ongoing IMS multimedia session are transferred, added or deleted among different UEs.\nA Collaborative Session, which is split on the local end across two or more UEs and anchored in the SCC AS, is established due to the Inter-UE Transfer procedures; such procedures may be executed by the UE either at the time of IMS session setup or subsequent to IMS session setup. The UE which initiates the Inter-UE Transfer procedures to establish the Collaborative Session becomes the Controller UE of the Collaborative Session and the other UE(s) involved in the Collaborative Session become the Controllee UE(s). Subsequent Inter-UE Transfer procedures, initiated by the Controller UE, can also be performed within the Collaborative Session. The SCC AS provides the coordination of the Collaborative Session procedures which may involve both the Controller UE and the Controllee UE(s).\nAny IUT capable UE can request IUT Media Control Related Procedures. Such requests are subject to authorization by the SCC AS and/or the Controller UE. Authorization is based on user and/or operator provided application specific settings in the SCC AS and/or the Controller UE. These application specific settings may be associated with the service profile of the Controller UE in service specific data in the HSS.\nAlthough any IUT capable UE can request IUT Media Control Related Procedures, there can be only one Controller UE at a time in a Collaborative Session. The UE that establishes the Collaborative Session and whose service profile is active for the session with the remote end is the initial Controller UE. The Controller UE role (Collaborative Session Control) may be transferred to a different UE during the life of the Collaborative Session. Collaborative Session Control may be transferred only to another Controller capable UE that has registered a Public User Identity that shares the same service profile (and thus belongs to the same IMS subscription) as the Controller UE. The Hosting SCC AS does not change during the life of the Collaborative Session.\nInter-UE Transfer procedures can also be executed without establishing a Collaborative Session. In this case, the whole IMS multi-media session is transferred from one UE to the other UE, and the roles of the Controller and Controllee UEs are not applicable.\nInter-UE Transfer procedures may be initiated by the UE based on the information it gets from Target UE discovery.\nThe UEs that participate in IUT Media Control Related Procedures may belong to different IMS subscriptions under the same operator. When this is the case, the IUT service request must be authorized by the Controller UE (or by its associated SCC AS on behalf of the Controller UE) of a Collaborative Session, and may also be authorized by the SCC AS associated with a Controllee UE or associated with another UE not participating in the Collaborative Session that has issued an IUT service request. In order to perform \"network-based\" (SCC AS-based) authorization of such requests, the SCC AS can use participant (user)-related information in the request; that is, the SCC AS may authorize a given IUT service request if it is associated with a particular user, but not authorize the same request if it is associated with a different user.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_4.3.1.3.2",
      "section_id": "4.3.1.3.2",
      "section_title": "Controller UE and Controllee UE operations",
      "content": "4.3.1.3.2.1\tOverview\nThe operations of Controller UE and Controllee UE are described respectively in clauses 5.3.2.2.2 and 5.3.2.2.3.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_4.3.3",
      "section_id": "4.3.3",
      "section_title": "Information used for IMS Service Continuity",
      "content": "The following information may be provided between SCC AS and the UE.\nDepending on the IMS Service Continuity scenario, the Access Transfer request may contain the following:\n-\tsession transfer indicator;\n-\tdetails about the access and the media flow(s) being transferred / kept / released;\n-\toptionally, an IMS Communication Service Identifier defined in TS 23.228 [4];\n-\twhich session is required to be replaced or updated;\n-\twhether to merge the session(s).\nThe above addressed information are carried in various SIP/SDP and CS call control messages (specified in the applicable information flows), which provides the necessary details to enable IMS Service Continuity. The SCC AS and the UE analyze the included information and determine if and how a Session Transfer operation needs to be performed.\nThe ATCF may include into the Registration request the following:\n-\tallocated STN-SR pointing to the ATCF.\nThe above information is carried in SIP messages (specified in the information flows) providing the necessary details.\nWhen an ATCF is used, t the SCC AS provides the following information to the ATCF:\n-\tATU-STI; and\n-\tC-MSISDN.\nThe above information is carried in SIP messages (specified in the information flows) providing the necessary details.\nThe Access Transfer Update request from the ATCF to the SCC AS may contain the following:\n-\tindication that Access Transfer has taken place for a particular session.\nThe above information is carried in SIP messages (specified in the information flows) providing the necessary details.\nFor support of CS to PS SRVCC, a dynamic STI-rSR is provided to the UE from the ATCF.\nThe Session State Information sent by the SCC AS may contain the following about one active and zero or one inactive bi-directional speech session(s) for enablement of PS-CS service continuity of IMS multimedia-sessions:\n-\tcalling party;\n-\tcalled party;\n-\tneeded STI;\n-\tfurther session information (e.g. active, inactive, conference call initiator, conference URI, identifier of all participants) as required.\nThe above information is carried in SIP messages (specified in the information flows) providing the necessary details to enable MSC Server assisted mid-call feature.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.228"
      ]
    },
    {
      "chunk_id": "ts_23.237_5.1",
      "section_id": "5.1",
      "section_title": "Overview",
      "content": "IMS Service Continuity provides intra-UE transfers of one or more components of IMS multi media sessions across different Access Networks. When (5G-)SRVCC enhanced with ATCF is used, IMS Service Continuity may be executed in the serving network (visited if roaming) or in the home network. In addition, Service Continuity enables adding, deleting, and transferring media flows of IMS multi-media sessions or transferring whole IMS multi-media sessions across multiple UEs having IMS subscriptions under the same operator.\nNOTE:\tFor IMS emergency service, IMS Service Continuity is a serving network (visited if roaming) based IMS application.\nThe UE shall not invoke Inter-UE Transfer procedures while engaged in an emergency call.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_5.2.1",
      "section_id": "5.2.1",
      "section_title": "General",
      "content": "IMS Service Continuity requires a Service Centralization and Continuity (SCC) AS, which is an Application Server as described in TS 23.228 [4], and a UE with SC capabilities. When (5G-)SRVCC enhanced with ATCF is used, an Access Transfer Control Function (ATCF) and an Access Transfer Gateway (ATGW) may be used in the serving network (visited if roaming). For the support of IMS sessions with CS media, refer to the reference architecture in TS 23.292 [5], clause 5.2; the functions of ICS and SC are specified as optional functions co-located in the SCC AS in this release.\nOMA Device Management [7] is used between the SCC AS and the UE for provisioning of operator policy for Access Transfer.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.292_clause_5.2",
        "ts_23.228",
        "ts_23.292"
      ]
    },
    {
      "chunk_id": "ts_23.237_5.2.2",
      "section_id": "5.2.2",
      "section_title": "Architecture when using ATCF enhancements",
      "content": "Figure 5.2.2-1 provides the reference architecture for SRVCC using the ATCF enhancements (non-emergency session). The figure only depicts the specific reference points for the ATCF. For other reference points of the general architecture, refer to the reference architecture in TS 23.292 [5], clause 5.2.\nFigure 5.2.2-1: IMS Service Centralization and Continuity Reference Architecture when using ATCF enhancements\nIf the MSC Server is not enhanced for ICS, the interface between MSC Server and ATCF is Mw.\nIf the MSC Server is enhanced for ICS, the interface between MSC Server and ATCF is I2.\nIf the ATCF is co-located with P-CSCF, the interface between ATCF and ATGW is Iq, according to TS 23.334 [30].\nIf the ATCF is co-located with IBCF, the interface between ATCF and ATGW is Ix, according to TS 29.162 [31].\nFor CS to PS SRVCC scenarios, the interface between MSC Server and ATCF is I2.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.292_clause_5.2",
        "figure_5.2.2-1",
        "ts_23.292_figure_5.2.2-1",
        "ts_23.292",
        "ts_23.334",
        "ts_29.162"
      ]
    },
    {
      "chunk_id": "ts_23.237_5.3.1",
      "section_id": "5.3.1",
      "section_title": "SCC AS",
      "content": "The SCC AS provides IMS-based mechanisms for enabling service continuity of multimedia sessions.\nFor IMS Service Continuity, the SCC AS implements the following functionalities:\n-\tAccess Transfer: The SCC AS uses the ISC reference point towards the S-CSCF for execution of the Access Transfer. The SCC AS performs the following for enablement and execution of Access Transfers:\n-\tanalyzes the information required for Access Transfer as described in the procedure clauses and decides which Access Transfer scenario should be executed; it rejects the Access Transfer request if it is not aligned with the operator policy;\n-\tretrieves from the HSS after third party registration the C‑MSISDN bound to the IMS Private User Identity stored in the user profile in the HSS;\n-\tcorrelates the Access Transfer request with the anchored session, using information provided in the incoming SIP INVITE;\n-\tcorrelates the Access Leg created by Access Transfer Update message from the ATCF with the Remote Leg;\n-\twhen third-party register is received (as a result of a UE is registering) and this third-party register is related to a contact address for which SRVCC is provided, clears any existing STN-SR that has been set and provides to the HSS:\n-\thome-network configured STN-SR if a third-party register without a STN-SR is received; or\n-\tSTN-SR received in a third-party register different from the existing STN-SR that has been set into HSS;\n-\twhen an ATCF is used, provides after successful IMS registration procedure the C-MSISDN and a routable Access Transfer Update - Session Transfer Identifier (ATU-STI) to the ATCF;\n-\texecutes the transfer of the IMS session between different access networks;\n-\timplements 3rd party call control (3pcc) upon session establishment;\n-\tprovides Access Transfer specific charging data;\n-\tdecides based on analysis of the various service continuity related input factors, whether to update provisioned operator policy for Access Transfer;\n-\tgenerates and updates operator policy by sending operator policy to the UE via OMA DM [7] including the priority between the operator policy and user preferences that could be used also to initiate Access Transfer procedure for ongoing sessions.\n-\tin case it supports vSRVCC it provides information to the MSC related whether the most recently active bi-directional sessions is voice or voice + video to determine if it is should perform vSRVCC or SRVCC procedure.\n-\tif CS to PS SRVCC is supported and indicated by the MSC Server, the SCC AS provides to MSC Server:\n-\tupdated ATCF management URI for the UE's IMS registration when available.\n-\tupdated registration status of the UE's IMS registration.\n-\tInter-UE Transfer: The SCC AS performs the functions for enablement and execution of Inter-UE Transfer procedures:\n-\texecutes the IMS Inter-UE Transfer related procedures between different UEs having IMS subscriptions under the same operator connected via the same or different access networks;\n-\tauthorizes requests for IUT procedures;\n-\twhen UEs from different subscriptions are involved in a Collaborative Session, assures that UEs do not create subsequent Collaborative Sessions for media belonging to Access Legs of the original Collaborative Session, by adding an indication to the IUT request;\n-\twhen aware that a Hosting SCC AS already exists for a Collaborative Session, forwards received IUT requests to that SCC AS;\n-\tprovides Inter-UE Transfer specific charging data.\n-\tTerminating Access Domain Selection (T-ADS): In addition to T‑ADS specified in TS 23.292 [5].\nFor a terminating session, the SCC AS may select more than one contact amongst multiple registered contacts for each selected UE of the SC User and may split the session into sessions directed to the selected contacts.\nFor multiple contacts in the PS domain, the SCC AS shall be able to select one or more types of access networks through which the session shall be terminated. In this case, the SCC AS includes additional information within the session request(s) to ensure that the corresponding session is terminated via the selected access network type(s).\nFor Inter-UE Transfer procedures to a target UE, the SCC AS shall execute T-ADS to select one or more contacts to establish one or more access legs or to reuse one or more access legs belonging to the same Collaborative Session towards the target UE for the transferred media flow(s).\nT-ADS in SCC AS may be used in order to enforce user preferences between 3GPP and non-3GPP access networks.\nUE assisted T-ADS (UE T-ADS) may be used in order to enforce user preferences for CS bearer or PS bearer for voice/video on 3GPP accesses.\n-\tHandling of multiple media flows: The SCC AS provides functionality to combine and/or split media flows over one or more Access Networks as needed for Session Transfers, session termination, or upon request by the UE to add media flows over an additional Access Network during the setup of a session, or upon request by the UE to add and/or delete media flows over one or more Access Networks to existing sessions.\nWhen handling media flows of an IMS session, the SCC AS takes into account the services associated with the session.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.292"
      ]
    },
    {
      "chunk_id": "ts_23.237_5.3.2.1",
      "section_id": "5.3.2.1",
      "section_title": "Access Transfer Functions",
      "content": "For supporting Access Transfer, the UE provides the following functions:\n-\tStores and applies operator policy for Access Transfer.\n-\tInitiates Access Transfer procedure based on trigger criteria including the current operator policy, user preferences and the Local Operating Environment Information, providing the necessary details for conducting an Access Transfer operation to the SCC AS.\nWhen supporting CS to PS SRVCC, the UE provides the following functions:\n-\tRetrieves and stores STI-rSR in conjunction with the IMS registration.\n-\tProvide the network with information of pre-allocated ports and codec information to be used during CS to PS access transfer.\nWhen supporting PS to CS DRVCC for IMS emergency, the UE provides the following functions:\n-\tStores the E-STN-DR received from IMS (EATF); and\n-\tTriggers session DRVCC procedure as defined in clause 6d.\nNOTE:\tDecision to trigger DRVCC is based on UE internal implementation.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6"
      ]
    },
    {
      "chunk_id": "ts_23.237_5.3.2.2.1",
      "section_id": "5.3.2.2.1",
      "section_title": "Functions",
      "content": "For supporting Inter-UE Transfer, the UE may provide the following functions:\n-\tDiscovers the target UE(s) for Inter-UE Transfer;\n-\tInitiates Inter-UE Transfer procedures based on user input.\n-\tTakes the role of a Controller UE within a Collaborative Session.\nAny IMS UE can take the role of a Controllee UE.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_5.3.2.2.2",
      "section_id": "5.3.2.2.2",
      "section_title": "Controller UE Role",
      "content": "-\tThe Controller UE can initiate the addition of a media flow to a Collaborative Session, on any of the Controllee UEs already involved in the Collaborative Session.\n-\tThe Controller UE can initiate the modification of a media flow that is part of a Collaborative Session it controls.\n-\tThe Controller UE can initiate the release of a media flow that is part of a Collaborative Session it controls.\n-\tThe Controller UE keeps track of all the UEs and about the state of the media flows which are part of a Collaborative Session it controls. That means it remains aware about the media flows that are established, as well as about the media used for those.\n-\tThe Controller UE is the one to accept or refuse requests for media additions initiated by the remote party for a Collaborative Session it controls. In case it accepts a remote party initiated media addition, the controller decides on which terminal the media shall be added.\n-\tThe Controller UE for a Collaborative Session can initiate Inter-UE Transfer of one or more of the media flows of the Collaborative Session.\n-\tThe Controller UE can initiate the release of a Collaborative Session.\n-\tThe Controller UE can add into a Collaborative Session it controls a UE not yet involved in this Collaborative Session.\n-\tThe Controller UE can initiate the transfer of Collaborative Session Control.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_5.3.2.2.3",
      "section_id": "5.3.2.2.3",
      "section_title": "Controllee UE Role",
      "content": "Any IMS UE can take the role of a Controllee UE. In this role the Controllee UE can:\n-\tinitiate the modification of a media flow which terminates on it.\n-\tinitiate the release of a media flow which terminates on it.\n-\taccept or refuse:\n-\tmedia modifications initiated by the remote party or by the Controller UE or other Controllee UEs of the same Collaborative Session, for media flow(s) it terminates;\n-\tmedia additions initiated by the Controller UE or other Controllee UEs of the same Collaborative Session or by a remote party (in the last case, this assumes that the Controller UE has accepted the addition and selected the Controllee UE);\n-\tmedia transfers initiated by the Controller UE or other Controllee UEs of the same Collaborative Session, for which the Controllee UE is the target.\n-\tinitiate IUT Media Control Related Procedures if the Controllee UE is capable of IUT.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_5.3.3",
      "section_id": "5.3.3",
      "section_title": "Emergency Access Transfer Function (EATF)",
      "content": "The Emergency Access Transfer Function (EATF) provides IMS-based mechanisms for enabling service continuity of IMS emergency sessions and eCall over IMS. It is a function in the serving (visited if roaming) IMS network, providing the procedures for IMS emergency session anchoring and PS to CS Access Transfer. The EATF acts as a routing B2BUA which invokes third party call control (3pcc) for enablement of Access Transfer.\nWhen supporting PS to CS DRVCC for IMS emergency, the EATF provides the following functions:\n-\tGenerates and sends an E-STN-DR to UE for session continuity procedure toward the CS domain. The E-STN-DR is used by the EATF to correlate two access legs, and is unique for each access transfer function within an EATF.\nThe EATF performs the session continuity when the Access Transfer request indicated by the E-STN-SR is received.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_5.3.4.1",
      "section_id": "5.3.4.1",
      "section_title": "General",
      "content": "The Access Transfer Control Function (ATCF) is a function in the serving (visited if roaming) network. When (v)SRVCC enhanced with ATCF is used or when 5G-SRVCC is used, the ATCF is included in the session control plane for the duration of the call before and after Access Transfer.\nThe ATCF may be co-located with one of the existing functional entities within the serving network (i.e. P-CSCF or IBCF).\nNOTE 1:\tAnchoring in the ATCF for sessions that include audio and video media may not provide delay benefits given the additional delay required for audio and/or video codec negotiation when the UE moves to the CS domain.\nNOTE 2:\tAnchoring Support of CS to PS SRVCC in the serving network requires that there is no other media gateway on the media path between UE and ATGW.\nThe ATCF shall:\n-\tbased on operator policy, decide to:\n-\tallocate a STN-SR;\n-\tinclude itself for the SIP sessions; and\n-\tinstruct the ATGW to anchor the media path for originating and terminating sessions;\n-\tkeep track of sessions (either in pre-alerting state, alerting state, active or held) to be able to perform Access Transfer of the selected session;\n-\tperform the Access Transfer and update the ATGW with the new media path for the (CS) access leg, without requiring updating the remote leg;\n-\tafter Access Transfer, update the SCC AS that Access Transfer has taken place to ensure that T-ADS has the information on the currently used access;\n-\thandle failure cases during the Access Transfer.\nAfter access transfer, and based on local policy, the ATCF may remove the ATGW from the media path. This step requires remote end update.\nIf MSC Server assisted mid-call feature is used, then the SCC AS provides required session state information on pre-alerting, alerting, held and/or conference state for any transferred session.\nThe ATCF shall not modify the dynamic STI that is exchanged between the UE and SCC AS.\nWhen CS to PS SRVCC is supported, the ATCF shall:\n-\tProvide a STI-rSR (unique to the ATCF) to the UE.\n-\tHandle CS to PS Access Transfer notification and preparation requests from the MSC Server.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_5.3.4.2",
      "section_id": "5.3.4.2",
      "section_title": "ATCF inclusion",
      "content": "The following implementation methods could be used to determine if the ATCF should be including itself during registration:\n-\tIf UE is roaming, based on the roaming agreement (e.g., home operator also support (5G-)SRVCC enhanced with ATCF in SCC AS and UDM/HSS).\n-\tBased on local configuration (e.g. if operator always deploys IBCF, MGCF etc. with media anchor for inter-operator calls).\n-\tBased on registered communication service and media capabilities of the UE.\n-\tBased on the access type over which the registration request is sent.\nNOTE:\tIf the ATCF decides not to include itself during registration, it will not be possible to use the ATCF enhancements during and after the registration period.\nThe following implementation methods could be used to determine if the ATCF should anchor the media in the ATGW for an originating or terminating call:\n-\tBased on whether the UE is roaming or not.\n-\tBased on local configuration (e.g., if operator always deploys IBCF, MGCF etc. with media anchor for inter-operator calls).\n-\tBased on the communication service and media capabilities used for the session.\n-\tBased on knowledge of which network the remote party is in.\n-\tBased on the access type over which the request or response is sent.\n-\tBased on the SRVCC capability of the UE.\nThe decision to anchor media at the ATGW, during the session origination or termination, can occur either at receipt of SDP offer or after a round trip of SIP signalling with the remote party depending on the method(s) used for determining whether to anchor media or not.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_5.3.5",
      "section_id": "5.3.5",
      "section_title": "Access Transfer Gateway (ATGW)",
      "content": "The Access Transfer Gateway (ATGW) is controlled by the ATCF and, if (5G-)SRVCC enhanced with ATCF is used, stays in the session media path for the duration of the call and after Access Transfer, based on the local policy of the serving network.\nIt supports transcoding after SRVCC handover in case the media that was used prior to the handover is not supported by the MSC server.\nDepending on placement of the ATCF, different physical nodes may be considered for the ATGW, i.e. IMS-AGW or TrGW.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_5.3.6",
      "section_id": "5.3.6",
      "section_title": "HSS",
      "content": "The HSS shall allow the SCC AS to update the user profile with a new STN-SR. In the case the ATCF is involved, the STN-SR will address the ATCF, otherwise, it will address the SCC AS.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_5.3.7",
      "section_id": "5.3.7",
      "section_title": "MSC Server",
      "content": "The MSC Server enhanced for SRVCC shall not provide announcement or other in-band media for any calls that have been transferred or are in the process of being transferred (e.g. being in active, held or alerting state).",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_5.4.1",
      "section_id": "5.4.1",
      "section_title": "General",
      "content": "The SCC AS is inserted in the signalling path of all the IMS user's sessions; the SCC AS behaves as a SIP-AS as described in TS 23.228 [4] to set up a 3pcc to control the bearer path of the session for enablement and execution of Session Transfer.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.228"
      ]
    },
    {
      "chunk_id": "ts_23.237_5.4.2",
      "section_id": "5.4.2",
      "section_title": "Sessions with PS media flow(s)",
      "content": "Figure 5.4.2-1 shows 3pcc at the SCC AS, for enablement and execution of Session Transfers, when the media flow(s) for the Access Leg is established via IP‑CAN.\nThe figure is for illustration of the 3pcc at the SCC AS and its use for Session Transfer; hence it only shows the signalling and bearer components relevant to the enablement and execution of Session Transfers.\nFigure 5.4.2-1: Signalling and bearer paths for sessions with PS media\n5.4.2a\tSessions with PS media flow(s) using ATCF\nFigure 5.4.2a-1 shows 3pcc at the ATCF and SCC AS, for enablement and execution of Access Transfers, when the media flow(s) for the Access Leg is established via IP-CAN.\nThe figure is for illustration of the 3pcc at the ATCF and SCC AS and its use for Access Transfer; hence it only shows the signalling and bearer components relevant to the enablement and execution of Access Transfers.\nFigure 5.4.2a-1: Signalling and bearer paths for sessions with PS media using ATCF",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_5.4.2-1",
        "figure_5.4.2"
      ]
    },
    {
      "chunk_id": "ts_23.237_5.4.3",
      "section_id": "5.4.3",
      "section_title": "Sessions with CS media",
      "content": "For details of signalling and bearer paths when the media for the Access Leg is established via the CS access, see TS 23.292 [5], clause 7.1.1. For illustration of 3pcc at the SCC AS, for enablement and execution of Session Transfers, with use of the Gm reference point, the I1 reference point and when not using Gm or I1 for service control signalling respectively, refer to figures 7.1.1-1, 7.1.1-2 and 7.1.2-1, in TS 23.292 [5], clause 7.1.\n5.4.3a\tSessions with CS media flow(s) using ATCF\nFigure 5.4.3a-1 shows 3pcc at the ATCF and SCC AS, for enablement and execution of CS to PS Access Transfers, when the media flow(s) for the Access Leg is established via CS.\nThe figure is for illustration of the 3pcc at the ATCF and SCC AS and its use for Access Transfer; hence it only shows the signalling and bearer components relevant to the enablement and execution of Access Transfers.\nFigure 5.4.3a-1: Signaling and bearer paths for sessions with CS media using ATCF\nNOTE:\tIf the media path is not anchored in the ATGW, the media will go directly to the remote side.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.292_clause_7.1.1",
        "ts_23.292_clause_7.1",
        "figure_5.4.3",
        "ts_23.292"
      ]
    },
    {
      "chunk_id": "ts_23.237_5.5",
      "section_id": "5.5",
      "section_title": "IUT Collaborative Sessions",
      "content": "IUT for service continuity allows a multi media session to be split on the local end across two or more UEs that are part of a Collaborative Session. UEs that are part of a single Collaborative Session may belong to different IMS subscriptions under the same operator. Figure 5.5-1: provides signalling and bearer architecture for a Collaborative Session that involves three UEs belonging to two IMS subscriptions.\nFigure 5.5-1: Collaborative Session Signalling and Bearer architecture\nNOTE:\tThe media in Controller UE A1 is optional.\nThe Controller UE (UE A1) provides the control for a Collaborative Session using IMS signalling on an Access Leg between Controller UE A1 and SCC AS-A. The Controller UE may transfer one or more media flow(s) to one or more target UEs (including itself), by using Collaborative Session control (e.g. in the SDP).\nControllee UE A2 and Controllee UE B1 provide the control for the media established on each respective UE using IMS signalling on the Access Leg associated for the media.\nSCC AS-A in this figure is the Hosting SCC AS of the illustrated Collaborative Session. SCC AS-A combines the media descriptions and Collaborative Session Control on the Access Legs and presents one Remote Leg towards the remote end.\nSCC AS-B in this figure relays service requests associated with the illustrated Collaborative Session towards SCC AS-A using standard IMS signalling. In order for SCC AS-B to determine that it shall simply relay service requests towards the Hosting SCC AS rather than execute them, handling of requests is applied as follows:\n-\tif an SCC AS acts as the Hosting SCC AS of a Collaborative Session, it shall include a piece of service interaction information in the SIP signalling messages sent to other SCC-ASs, indicating that the Service Feature \"Collaborative Session\" has been performed;\n-\tif an SCC AS receives a SIP message containing indication that the Service Feature \"Collaborative Session\" has been performed, it shall relay all service requests associated with the Collaborative Session towards the SCC AS that has inserted this indication.",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.5-1"
      ]
    },
    {
      "chunk_id": "ts_23.237_5.6",
      "section_id": "5.6",
      "section_title": "Reference Architecture for SRVCC emergency session",
      "content": "To allow SRVCC or DRVCC for IMS emergency session with PS to CS Access Transfer procedures, an EATF is used for emergency sessions anchoring and transferring. For the overall IMS emergency reference architecture with EATF, refer to the reference architecture in TS 23.167 [23].",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.167"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.0",
      "section_id": "6.0",
      "section_title": "Introduction",
      "content": "Some of the following figures contain a box labelled CS/IMS Intermediate Nodes. This is abstraction for CS/IMS functional elements that exist between the UE and the SCC AS which could include amongst others MSC Server enhanced for ICS, MSC Server enhanced for SRVCC or an MGCF and an MSC Server not enhanced for ICS.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_6.1.1",
      "section_id": "6.1.1",
      "section_title": "General",
      "content": "Whenever the UE acquires IP connectivity via an IP‑CAN, the UE registers in the IMS as defined in TS 23.228 [4]. The user profile contains a C‑MSISDN which is bound to the IMS Private User Identity. The S-CSCF follows the procedures defined in TS 23.218 [13] for performing 3rd party registration towards the SCC AS.\nWhen using CS access for media, the UE may be registered in IMS as specified in TS 23.292 [5].\nWhen the SCC AS receives a 3rd party registration per procedures defined in TS 23.218 [13], the SCC AS shall obtain the C-MSISDN from the HSS. If the C-MSISDN is associated with any ongoing session(s), the SCC AS shall bind all the unique identities associated with the SIP Registration e.g. GRUUs, contact address, etc with the session identifier of the ongoing session.\nIf the SCC AS receives a third-party register without a STN-SR pointing to the ATCF and this third-party register is related to a contact address for which SRVCC is provided, the SCC AS shall clear any existing STN-SR that has been set in the HSS and provide a home network configured STN-SR. The SCC AS shall ensure that the home network configured STN-SR can be restored in case of SCC AS failure (e.g. by storing it separately in the HSS as transparent data).",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.228",
        "ts_23.218",
        "ts_23.292"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.1.2",
      "section_id": "6.1.2",
      "section_title": "Registration using ATCF enhancements",
      "content": "To ensure that the MSC Server selects the correct ATCF during SRVCC procedure, a routable STN-SR pointing to the ATCF shall be provided to the MME before SRVCC procedure is triggered.\nThe ATCF shall allocate the STN-SR when the user performs initial registration in the IMS. The STN-SR shall be provided through IMS and via third-party registration to the SCC AS. Depending on operator policy, the SCC AS may interrogate the UDM/HSS to know if the user is subscribed for SRVCC (via STN-SR) and if the UE is SRVCC capable. If both conditions are met, or based on operator policy, the SCC AS shall further provide the STN-SR to the UDM/HSS if the received STN-SR is different from the existing one that has been set, which in turn shall update the MME/SGSN. In 5GS, the UDM updates the AMF with received STN-SR.\nThe following figure shows an example of IMS registration flow where the ATCF provides the STN-SR to the home network. Existing IMS Registration procedures described in TS 23.228 [4] are used to register the user in IMS.\nFigure 6.1.2-1: IMS Registration using ATCF enhancements\n1.\tUE-1 sends an initial SIP REGISTER request to home network via ATCF (P-CSCF and I-CSCF not shown in flow).\nNOTE 2:\tIf the UE receives a new IP address, the UE will perform a new registration in the IMS according to TS 23.228 [4] and a new ATCF may be selected.\n2.\tATCF decides, based on operator policy and if the home network supports (5G-)SRVCC enhanced with ATCF, to allocate a STN-SR. The ATCF includes itself in the signalling path for subsequent messages during the registration period. Additionally to the STN-SR, the ATCF allocates an ATCF management URI that can be used by SCC AS to address the ATCF directly.\n3.\tIf allocated, the STN-SR and ATCF management URI are included in the request forwarded to the S-CSCF.\nNOTE 3:\tService level agreements are used to understand whether the home network supports (5G-)SRVCC enhanced with ATCF. In addition, as fall back, the ATCF will as well understand whether (5G-)SRVCC enhanced with ATCF is activated in the SCC AS by the reception of C-MSISDN/ATU-STI.\n4.\tThe S-CSCF sends the SIP REGISTER request to the SCC AS according to the third-party registration procedure.\nNOTE 4:\tIn case of multiple registrations from the UE from multiple accesses, the SCC AS will only receive and use one STN-SR, from an ATCF in the mobile network.\n5.\tDepending on the operator policy, the SCC AS sends Sh-Pull message to the UDM/HSS in order to know whether the UE is SRVCC capable, and to retrieve the STN-SR stored in the UDM/HSS.\n6.\tThe UDM/HSS replies to the SCC AS with a Sh-Pull Response message including the UE SRVCC capability if available, and the STN-SR if available.\n7.\tThe SCC-AS determines, based on operator policy or based on the outcome of Sh-pull procedure, that the user is subscribed for SRVCC via the presence of STN-SR and that the UE is SRVCC capable. If the STN-SR from the UDM/HSS is different from the STN-SR received from the ATCF, the SCC AS sends a Sh-Update to provide the STN-SR received from the ATCF to the UDM/HSS from the ATCF in order to replace the STN-SR pointing to the SCC AS or the previously stored STN-SR pointing to other ATCF.\nNOTE 5:\tIf an ATCF does not exist or the ATCF decided not to be included in step 2, the SCC AS allocates a STN-SR that can be used to route to this SCC AS and provides it to the UDM/HSS, thereby replacing any previously stored STN-SR if the user is subscribed for SRVCC. If the user is not subscribed for SRVCC, no STN-SR is set or provided to the MME/SGSN. If a user changes to not being subscribed for SRVCC by the UDM/HSS, the UDM/HSS deletes the STN-SR from the AMF/MME/SGSN.\nNOTE 6:\tSCC AS only needs to update the STN-SR in the UDM/HSS at initial registration. If the STN-SR has not changed since previous initial registration, there no update is performed towards MME or AMF.\n8.\tThe UDM/HSS responds by sending Sh-Update Response message to the SCC AS.\n9.\tIf for a user subscribed for SRVCC, the UDM/HSS received a STN-SR in step7 that is different from the stored STN-SR, it updates the stored STN SR and provides the updated STN-SR to the MME/SGSN. Otherwise this procedure is skipped. In the 5GS, the UDM provides the updated STN-SR to the AMF using Nudm_SDM_Notification service operation as specified in TS 23.502 [36].\n10.\tThe MME/SGSN stores the updated STN-SR and responds to the UDM/HSS with Insert Subscriber Data Answer message.\n11.\tThe SCC AS returns 200 OK to the S-CSCF.\nThe SCC AS informs the UE SRVCC capability to ATCF during IMS registration by addressing the ATCF using the ATCF management URI. The SCC AS is able to retrieve the updated UE SRVCC capability status by sending Sh-Pull message to the UDM/HSS at any point. If SCC AS detects the UE SRVCC capability change, SCC AS then informs the ATCF about the updated SRVCC capability of the UE and the ATCF stores this information for deciding whether anchoring IMS voice originating sessions at the ATGW or not.\nNOTE 7:\tThe trigger for SCC AS to poll the UDM/HSS for the updated UE SRVCC capability status is not specified in this release of the specification.\nNOTE 8:\tIf the UE switches on/off its SRVCC capability during the lifetime of IMS registration, and the SCC AS has not polled the UDM/HSS in the meantime, the SCC AS and ATCF will not have the updated value of SRVCC capability.",
      "chunk_type": "requirement",
      "cross_references": [
        "figure_6.1.2-1",
        "ts_23.228",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.1.3.1",
      "section_id": "6.1.3.1",
      "section_title": "IMS Registration by UE",
      "content": "As a prerequisite for CS to PS SRVCC to be applied, the UE shall be IMS registered over PS. The IMS Registration procedures of clause 6.1.2 apply. The UE shall include a pre-defined port and codec for the voice media that can be used during the access transfer to send downlink media to. The UE shall also include its CS to PS SRVCC capability in the registration request.\nAdditionally, a dynamic STI-rSR shall be provided to the UE from the ATCF in conjunction to the IMS Registration.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1.2"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.1.3.2",
      "section_id": "6.1.3.2",
      "section_title": "UE IMS Registration change update",
      "content": "As a prerequisite for CS to PS SRVCC to be applied, the UE shall be attached to an MSC Server enhanced for ICS and IMS-registered via CS access by this MSC Server using I2 reference point, as specified in TS 23.292 [5] clause 7.2.1. In addition, as part of this registration procedure, the MSC Server enhanced for ICS shall indicate to the SCC AS that it needs to be updated with the UE's IMS registration status and/or changes to the ATCF management URI, as described below.\nFigure 6.1.3.2-1 provides the procedures of how the MSC Server indicates to the SCC AS to retrieve the UE's IMS registration status and updates to ATCF management URI, and how it is updated with changes.\nFigure 6.1.3.2-1: Subscription to UE's IMS registration status\n1.\tAs part of the IMS registration from the MSC Server, the MSC Server may indicate to the SCC AS the wish to be updated with the UE's IMS registration status and/or changes to the ATCF management URI.\n2-3.\tIf the UE's IMS registration status changes or the ATCF management URI changes for the UE's IMS registration, the SCC AS provides the information to the MSC Server. The UE CS to PS SRVCC capability is also provided in this message and is not updated further.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.292_clause_7.2.1",
        "figure_6.1.3.2-1",
        "ts_23.292"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.2.1.1",
      "section_id": "6.2.1.1",
      "section_title": "Origination Procedures",
      "content": "UE initiated multimedia sessions are anchored at the SCC AS in order to enable IMS Service Continuity. Originating iFC for the SC subscriber results in routing of the session to the SCC AS in the home IMS network, where the SCC AS uses 3rd party call control as per TS 23.228 [4] to initiate a session to the remote party on behalf of the subscriber.\nThe SCC AS shall be the first Application Server of any Application Servers that need to remain in the path of the call after Session Origination.",
      "chunk_type": "procedure",
      "cross_references": [
        "ts_23.228"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.2.1.2",
      "section_id": "6.2.1.2",
      "section_title": "Originating sessions that use CS media",
      "content": "The UE originates sessions that use CS media by following the procedures specified in TS 23.292 [5], clause 7.3.2 Originating sessions that use CS media.\nFigure 6.2.1.2-1: Originating session that uses CS media\n1.\tUE‑1 initiates a multimedia session to UE‑2 and makes use of CS media. UE‑1 sends the request to the SCC AS following the procedures specified in TS 23.292 [5], clause 7.3.2 Originating sessions that use CS media, for setting up CS bearer, anchoring the session at the SCC AS, merging multiples legs if necessary, and forwarding the combined session request to UE‑2.\n2.\tThe SCC AS anchors the session. A dynamic STI is assigned for the anchored session.\n3.\tThe SCC AS completes session setup to UE‑2 and sends a response to UE‑1 based on the procedures specified in TS 23.292 [5]. The dynamic STI is communicated between the SCC AS and UE-1 if possible.\nThe session is set up with CS media. The session may also include PS media flow(s).",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.292_clause_7.3.2",
        "figure_6.2.1.2-1",
        "ts_23.292"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.2.1.3",
      "section_id": "6.2.1.3",
      "section_title": "Originating sessions that use only PS media flow(s)",
      "content": "Existing Mobile Origination procedures described in TS 23.228 [4] are used to establish a session.\nFigure 6.2.1.3-1: Originating session that uses only PS media\n1.\tUE-1 initiates an IMS multimedia session to UE-2 and uses only PS media flow(s). The request is forwarded to S-CSCF following normal IMS session set up procedures.\n2~3.\tThe service logic with iFC causes the request to be forwarded to the SCC AS for anchoring the sessions to enable Session Transfer.\n4.\tThe SCC AS anchors the session. An STI is assigned for the anchored session.\n5.\tThe SCC AS completes the session setup to UE-2 and sends a response to UE-1. For Dual Radio scenario, the SCC AS may provide an update STN to the UE as part of the response.\n6.2.1.3a\tOriginating sessions that use only PS media flow(s) - fallback to CS domain in pre-alerting phase\nThe procedure is to be used if SRVCC in pre-alerting state or alerting phase for originating sessions is not supported.\nFigure 6.2.1.3a-1: Originating session that uses only PS media - fallback to CS domain in pre-alerting phase\n1~6.\tUE-1 initiates an IMS multimedia session to UE-2 and uses only PS media flow(s). The request is forwarded to S-CSCF, SCC AS, UE-2 and a response is sent back following normal IMS session set up procedures, wherein 180 (Ringing) response has not been received yet and originating session is in pre-alerting phase.\n7.\tThe multimedia PS bearer setup fails.\nNOTE 1:\tWhen and how many times (only once or twice) the PCRF is invoked by the P-CSCF is specified in TS 29.213 [33], Annex B, clause B.2.\n8~9.\tThe P-CSCF sends a response to UE and sends a Cancel message to SCC AS to release the mobile originating session.\nNOTE 2:\tThe response should uniquely indentify a QoS Resources Authorization failure.\nNOTE 3: The UE can trigger the establishment of voice call on the CS domain as defined in TS 24.229 [26] clause L.5.\n10.\tThe UE initiates CS call.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_6.2.1.3-1",
        "figure_6.2.1.3",
        "ts_23.228",
        "ts_29.213",
        "ts_24.229"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.2.1.4",
      "section_id": "6.2.1.4",
      "section_title": "Originating sessions for (v)SRVCC that use ATCF enhancements",
      "content": "Figure 6.2.1.4-1 shows an originating session when the ATCF has previously been included in the signalling path (see clause 6.1.2). If the ATCF was not included in the signalling path then existing Mobile Origination procedures described in previous clauses and TS 23.228 [4] are used.\nFigure 6.2.1.4-1: Originating session that uses only PS media (ATCF in signalling path).\n1.\tUE-1 initiates an IMS multimedia session to UE-2 and uses only PS media flow(s). The initial SIP INVITE request goes through the ATCF in the serving network. The ATCF may decide whether to anchor the session and allocate if needed ATGW resources to it.\n2~5.\tATCF forwards the initial SIP INVITE request, which is routed towards the UE-2.\n6.\tCompletion of originating session setup. As part of this step, the following is done:\n-\tIf not already done, the ATCF may decide, based on information not available earlier in the procedure, to anchor the session and allocate ATGW resources for voice media or voice and video media and anchor the voice media or voice and video media in the ATGW. The ATCF will in such case update the far end with the media information of the ATGW in another offer/answer exchange (this may be done as part of other required session update).\nNOTE 1:\tThe ATCF is not modifying the dynamic STI that is exchanged between the UE and SCC AS.\nNOTE 2:\tThe Access Leg for the control has now been established between the UE and the SCC AS.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.1.2",
        "figure_6.2.1.4-1",
        "ts_23.228_figure_6.2.1.4-1",
        "ts_23.228"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.2.1.5",
      "section_id": "6.2.1.5",
      "section_title": "Originating sessions for CS to PS - Single Radio",
      "content": "The CS origination is done according to TS 23.292 [5], clause 7.3, with the addition that the call is routed through the ATCF.\nOnce the session is established, the ATCF will act as the access transfer function in the call.\nFigure 6.3.3.5.3-1: Originating call setup over CS through ATCF\n1.\tThe MSC Server receives the CS setup message.\n2.\tThe MSC Server initiates an INVITE origination according to TS 23.292 [5] clause 7.3, with the addition that it includes the ATCF in the path during the origination (based on the retrieved ATCF management URI). The INVITE shall include the C-MSISDN to the ATCF for further correlation purposes.\n3.\tThe ATCF may decide whether to anchor the media session and allocate if needed ATGW resources to it. Media anchoring criteria used for ATCF enhancements apply.\n4-5.\tThe call setup proceeds and is routed to the remote UE-2.\n6.\tThe call setup is completed.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.292_clause_7.3",
        "figure_6.3.3.5.3-1",
        "ts_23.292"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.2.2.1",
      "section_id": "6.2.2.1",
      "section_title": "Termination Procedures",
      "content": "IMS multimedia sessions towards SC subscribers in the PS or in the CS domain are anchored at the SCC AS to enable IMS Service Continuity. The execution of terminating iFC results in routing of the sessions to the SCC AS in the home IMS network, where the SCC AS uses 3rd party call control as per TS 23.228 [4] to terminate the session to the SC subscriber. The sessions may be delivered to the UE via the PS or CS access.\nThe SCC AS shall be the last Application Server of any Application Servers that need to remain in the path of the call after Session Termination.",
      "chunk_type": "procedure",
      "cross_references": [
        "ts_23.228"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.2.2.2",
      "section_id": "6.2.2.2",
      "section_title": "Terminating sessions that use CS media",
      "content": "The procedures specified in TS 23.292 [5], clause 7.4.2 Terminating sessions that use CS media shall be followed to terminate sessions that use CS media to the SC subscriber.\nFigure 6.2.2.2-1: Terminating session that uses CS media\n1.\tA request is received at S‑CSCF serving UE‑1 following standard IMS session set up procedures.\n2 ~ 3.\tThe service logic with iFC causes the request to be forwarded to the SCC AS so that the session is anchored for enabling Session Transfer.\n4.\tThe SCC AS anchors the incoming session. A dynamic STI is assigned for the anchored session.\n5.\tThe SCC AS forwards the request to UE-1 based on the procedures specified in TS 23.292 [5] for setting up CS bearer and splitting the media flow(s) if necessary. The dynamic STI is communicated between the SCC AS and the UE if possible. If the SCC AS decided to split the non‑speech media and speech media for a certain UE, the T‑ADS in the SCC AS delivers the split session only to this particular UE. The SCC AS uses the C‑MSISDN for correlation.\nThe session is set up with CS media. The session may also include PS media flow(s).",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.292_clause_7.4.2",
        "figure_6.2.2.2-1",
        "ts_23.292"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.2.2.3",
      "section_id": "6.2.2.3",
      "section_title": "Terminating sessions that use only PS media flow(s)",
      "content": "Existing Mobile Termination procedures described in TS 23.228 [4] are used to establish a session towards a SC subscriber.\nFigure 6.2.2.3-1: Terminating session that uses only PS media\n1.\tThe request is received at S‑CSCF following normal IMS session set up procedures.\n2 ~ 3.\tThe service logic with iFC causes the request to be forwarded to the SCC AS so that the session can be anchored for potential session transfer.\n4.\tThe SCC AS anchors the session. An STI is assigned for the anchored session.\n5.\tThe SCC AS determines that the session is terminated to UE‑1 with PS media flow(s) only and routes the request to UE‑1. For Dual Radio scenario, the SCC AS may provide an update STN to the UE as part of the INVITE sent to the UE.\n6.2.2.3a\tTerminating sessions that use only PS media flow(s) - fallback to CS domain in pre-alerting phase\nThe procedure is to be used if SRVCC in alerting phase for terminating sessions is not supported.\nFigure 6.2.2.3a-1: Terminating session that uses only PS media - fallback to 2/3G in pre-alerting phase\n1~ 5.\tThe request is received from UE-2 following normal IMS session set up procedures and UE-1 sends a 183 response.\n6.\tThe multimedia PS bearer setup fails.\nNOTE:\tWhen and how many times (only once or twice) the PCRF is invoked by the P-CSCF is specified in TS 29.213 [33], Annex B, clause B.2.\n7~8.\tThe P-CSCF sends a response to S-CSCF indicating the failure of the delivery of the terminating call on the PS domain.\n9~13.\tThe S-CSCF forwards the response to SCC AS that attempts to deliver the terminating call on the CS domain if possible, according to clause 7.4.3 (steps 8 through 12) in TS 23.292 [5].",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_7.4.3",
        "figure_6.2.2.3-1",
        "figure_6.2.2.3",
        "ts_23.228",
        "ts_29.213",
        "ts_23.292"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.2.2.4",
      "section_id": "6.2.2.4",
      "section_title": "Terminating sessions over Gm where speech media is not accepted by the UE",
      "content": "If the SCC AS includes only bi-directional speech media, the procedures specified in TS 23.292 [5], clause 7.4.3 shall be followed.\nIf the SCC AS includes non-speech media in the request, in addition to bi-directional speech or CS media and if the UE decides to only accept the non-speech media, the UE returns a response to IMS that only bi-directional speech or CS media is rejected. The SCC AS, upon reception of the response, splits the non speech media from the bi-directional speech or CS media for this UE. The T‑ADS in the SCC AS re-attempts the terminating call setup directly towards the same UE over CS domain if possible. The SCC AS uses the C‑MSISDN for correlation.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.292_clause_7.4.3",
        "ts_23.292"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.2.2.5",
      "section_id": "6.2.2.5",
      "section_title": "Terminating sessions for (v)SRVCC that use ATCF enhancements",
      "content": "Figure 6.2.2.5-1 shows a terminating session when the ATCF has previously been included in the signalling path (see clause 6.1.2). If the ATCF was not included in the signalling path then existing Mobile Termination procedures described in previous clauses and TS 23.228 [4] are used.\nFigure 6.2.2.5-1: Terminating session that uses only PS media (ATCF in signalling path)\n1-2.\tA Terminating session is sent towards UE-1 from UE-2. The initial SIP INVITE request is routed via the I/S-CSCF to the SCC AS.\n3.\tThe SCC AS performs necessary T-ADS procedures according to clause 5.3.1, and routes the request towards the UE-1.\n4.\tThe INVITE is routed towards the ATCF. When receiving the INVITE, the ATCF may decide whether to anchor the media for the session and allocate ATGW resources for it if needed.\n5.\tThe SIP INVITE is forwarded to UE-1 (P-CSCF not shown in flow).\nNOTE 1:\tIn case the UE-1 returns a response to IMS that bi-directional speech is rejected as specified in clause 6.2.2.4, the ATCF will release the ATGW resources allocated if any. The ATCF can then remove itself from the session path.\n6.\tSession setup is completed. As part of this step, if not already done, the ATCF may decide, based on information not available earlier in the procedure, to anchor the session and allocate ATGW resources for voice media or voice and video media and anchor the voice media or voice and video media in the ATGW. The ATCF will in such case update the remote end with the media information of the ATGW in another offer/answer exchange (this may be done as part of other required session update).\nNOTE 2:\tThe ATCF is not modifying the dynamic STI that is exchanged between the UE and SCC AS.\nNOTE 3:\tThe Access Leg for the control has now been established between the UE and the SCC AS.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.1.2",
        "clause_5.3.1",
        "clause_6.2.2.4",
        "figure_6.2.2.5-1",
        "ts_23.228_figure_6.2.2.5-1",
        "ts_23.228"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.2.2.6",
      "section_id": "6.2.2.6",
      "section_title": "Terminating sessions for CS to PS - Single Radio",
      "content": "The CS termination is done according to TS 23.292 [5] clause 7.4, with the addition that the call is routed through the ATCF.\nOnce the session is established, the ATCF will act as the access transfer function in the call.\nFigure 6.2.2.6-1: Terminating call setup over CS through ATCF\n1-2.\tUE-2 sends an INVITE towards UE-1. The call is routed towards MSC Server using procedure according to TS 23.292 [5], clause 7.4.\n3.\tThe MSC Server routes the INVITE via ATCF using the ATCF management URI that it has received from SCC AS (see clause 6.1.3.2). The INVITE shall include the C-MSISDN to the ATCF for further correlation purposes.\n4.\tThe ATCF may decide whether to anchor the media session and allocate if needed ATGW resources to it. Media anchoring criteria used for ATCF enhancements apply.\n5-6.\tThe call setup proceeds and is routed toward UE-1.\n7.\tThe call setup is completed.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.292_clause_7.4",
        "clause_6.1.3.2",
        "figure_6.2.2.6-1",
        "ts_23.292"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.1.1",
      "section_id": "6.3.1.1",
      "section_title": "Introduction",
      "content": "Access Transfer procedures enable service continuity between Access Networks. All Access Transfer procedures associated with a session, including initial and subsequent transfers, are executed and controlled in the user's home IMS network by the SCC AS upon the UE's request, except when using (v)SRVCC enhanced with ATCF or when using 5G-SRVCC. When (v)SRVCC enhanced with ATCF is used or when 5G-SRVCC is used, Access Transfer procedures are executed and controlled in the serving network. SCC AS and ATCF may handle the access transfer procedure with priority if the transfer request is initiated with priority indication.\nNOTE:\tIn order to support Access Transfer and Media Adding/Deleting procedures that involve the use of the Gm reference point on two IP-CANs, the UE and IMS network both have to support multiple simultaneous registrations of the UE and the UE has to be able to establish and maintain simultaneous connections to both IP-CANs at least for the duration of the Access Transfers or Media Adding/Deleting procedures.\nThe STN and STI are used during the execution of Access Transfers. The STN and STI are stored in the UE. The STN for DRVCC can be provided dynamically to the UE during session setup to provide the current updated address to the SCC AS.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_6.3.1.2",
      "section_id": "6.3.1.2",
      "section_title": "Access Transfer Procedures",
      "content": "When the UE determines that Access Transfer is desirable and possible, a registration in IMS is performed by the UE via the transferring-in Access Network if the user is not already registered via that network.\nIf the UE does not have or is unable to use its ICS capabilities, then prior to dual-radio Access Transfer:\n-\tIf the MSC Server assisted mid-call feature is not used then the UE releases all but the most recently active bi-directional sessions.\n-\tIf the MSC Server assisted mid-call feature is used then:\n-\tif the UE has more than one active bi-directional session, selects the second most recently active bidirectional session and it releases all remaining sessions except for the two most recently active bi-directional sessions;\n-\tif the UE has one active bi-directional session and more than one inactive bi-directional session, it releases all sessions except for the active session and the inactive session which became inactive most recently.\nNOTE:\tFor the single-radio case the above applies but the UE locally releases the sessions based on the aforementioned priority.\nFor vSRVCC procedure, MSC server enhanced for vSRVCC negotiates with the SCC AS to determine whether the most recently active bi-directional sessions is voice or voice + video.\nA new Access Leg is established by the UE toward the SCC AS, if needed. Signalling and bearer resources are allocated in the transferring-in Access Network and the user's sessions are transferred from the transferring-out Access Network. The SCC AS executes Access Transfer procedures. Resources in the transferring-out Access Network are subsequently released.\nWhen the UE wants to perform Access Transfer and determines that there is a PS Access Leg in the transferring-in Access Network for the same session, the UE can use the existing PS Access Leg in the transferring-in Access Network, instead of establishing a new Target Access Leg, to execute Access Transfer. No new signalling resources need to be allocated in the transferring-in Access Network.\nBased on UE and Access Network capabilities, the UE may also maintain some of the media flows in the transferring-out Access Network while transferring the other media flows to the transferring-in Access Network.\n6.3.1.2a\tAccess Transfer Procedures using ATCF enhancements\nA new Access Leg is established by the MSC Server toward the ATCF and then to SCC AS when performing a PS to CS access transfer. When performing a CS to PS access transfer, a new Access Leg is established by the UE toward the ATCF and then to SCC AS. The ATCF subdivides the new Access Leg into a Serving Leg and a Home Leg. Signalling and bearer resources are allocated in the transferring-in Access Network and the user's sessions are transferred from the transferring-out Access Network. The ATCF executes Access Transfer procedures in co-operation with the SCC AS. Resources in the transferring-out Access Network are subsequently released by the SCC AS.",
      "chunk_type": "procedure",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_6.3.1.3",
      "section_id": "6.3.1.3",
      "section_title": "Enablement of Access Transfer procedures",
      "content": "A 3pcc (3rd party call control) function is employed to anchor IMS sessions at the SCC AS upon session establishment for enablement of Access Transfer. The SCC AS is invoked as part of originating or terminating iFC execution at the subscriber's S-CSCF. The SCC AS inserts itself in the signalling path of the SC subscriber's IMS sessions by implementing a 3pcc (3rd party call control) function. For an originating IMS session, the SCC AS terminates an Access Leg from the user and establishes a Remote Leg toward the remote end. For a terminating IMS session, the SCC AS terminates a Remote Leg from the remote end and establishes an Access Leg toward the user. The SCC AS subsequently coordinates the session control signalling exchange between the Access Leg and the Remote Leg associated with the anchored IMS session.\nFor 3pcc at the SCC AS when the Access Leg is established with CS media, refer to clause 5.4.3. For 3pcc at the SCC AS when the Access Leg is established with media flow over IP-CAN to illustrate its use as preparation for Access Transfer procedures, refer to clause 5.4.2.\nAn STI and STN for Access Transfer between CS and PS access shall be statically configured on the UE regardless of its ICS capabilities.\nIf the Gm or I1 reference point is used for the originating or terminating session, an STI is dynamically assigned for the Access Leg. An STI shall also be dynamically assigned for each new Access Leg established during Access Transfer.\nNOTE:\tThe dynamically assigned STI needs to be different from the STI and STN that are statically configured on the UE.\nThe statically configured STI shall be used for Dual Radio CS to PS Access Transfers only when no dynamically assigned STI was provided to the UE.\nThe STN is used for PS to CS Access Transfers when no Gm or I1 reference point is available.\nThe STN-SR as specified in TS 23.216 [10] is used for PS to CS Access Transfer using Single Radio VCC.\n6.3.1.3a\tEnablement of Access Transfer procedures using ATCF enhancements\nIMS sessions and media flows are anchored by the ATCF upon session establishment for enablement of Access Transfer using ATCF enhancements. For both originating and terminating IMS sessions, the ATCF subdivides the Access Leg into a Serving Leg and a Home Leg. During registration procedure, the ATCF allocates an STN-SR addressing itself and provides it to the SCC AS. The SCC AS provides the received STN-SR to the HSS and the HSS provides the STN-SR to the serving node(s), i.e. to SGSN and / or MME.\nWhen CS to PS SRVCC is supported, a dynamic STI-rSR for Access Transfer shall be provided to the UE by the ATCF.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_5.4.3",
        "clause_5.4.2",
        "ts_23.216"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.1.4",
      "section_id": "6.3.1.4",
      "section_title": "Execution of Access Transfer procedures",
      "content": "Upon detection of conditions requiring Access Transfer, the UE establishes a Target Access Leg with the SCC AS via the transferred-in Access Network to request Access Transfer to the transferred-in Access Network. When the UE initiates a Access Transfer request, it includes the STI and/or the STN.\nThe SCC AS executes the Access Transfer procedure by replacing the Source Access Leg currently communicating to the Remote Leg with the Target Access Leg. If no media flow is retained in the transferred-out access, the Source Access Leg is released as specified in clause 6.3.1.6. If the UE chooses to retain some media flow(s) in the transferred-out access, the Source Access Leg is updated to indicate which media flow(s) is retained in the transferred-out access. If such update is not done, the SCC AS releases the Source Access Leg as specified in clause 6.3.1.6 and updates the Remote Leg if necessary. When the switch of the Source Access Leg to the Target Access Leg is executed, the Remote Leg is also updated in order to forward the media flow(s) to the transferred-in Access Network.\n6.3.1.4a\tExecution of Access Transfer procedures using ATCF enhancements\nThe ATCF executes the Access Transfer procedure by replacing the Source Access Leg currently communicating to the Remote Leg with the Target Access Leg. If no media flow is retained in the transferred-out access, the Source Access Leg is released as specified in clause 6.3.1.6 by the SCC AS. If the UE chooses to retain some media flow(s) in the transferred-out access, the Source Access Leg is updated to indicate which media flow(s) is retained in the transferred-out access. If such update is not done, the SCC AS releases the Source Access Leg as specified in clause 6.3.1.6 and updates the Remote Leg. When the switch of the Source Access Leg to the Target Access Leg is executed and the ATCF did not anchor the media in the ATGW, the Remote Leg is also updated in order to forward the media flow(s) to the transferred-in Access Network.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_6.3.1.6"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.1.5",
      "section_id": "6.3.1.5",
      "section_title": "Remote Leg Update",
      "content": "Upon receiving a request for execution of Access Transfer, the SCC AS performs the Remote Leg Update by switching the Access Leg communicating with the Remote Leg from Source Access Leg to Target Access Leg.\nFigure 6.3.1.5-1: Remote Leg Update\nThe remote end in figure 6.3.1.5-1 represents a UE supporting terminations per TS 23.228 [4] (i.e. including NI-T).\n1-2.\tThe SCC AS updates the Remote Leg by communicating the SDP of the Target Access Leg established to the remote end via the user's S-CSCF. Remote Leg Update happens according to SIP session modification procedures (see RFC 3261 [8]). The priority indication from the Target Access leg (i.e., from the access transfer request) does not change the existing priority setting toward the remote leg between the SCC AS and remote end.\nThe remote end in figure 6.3.1.5-2 represents an MGCF for CS/PSTN Remote Party.\nFigure 6.3.1.5-2: Remote Leg Update\n1-2.\tThese steps are the same procedures described in figure 6.3.1.5-1.\n3.\tMGCF instructs MGW to update a termination towards the Target Access Leg to the context, and to release the termination for the Source Access Leg from the context.",
      "chunk_type": "general",
      "cross_references": [
        "figure_6.3.1.5-1",
        "figure_6.3.1.5-2",
        "ts_23.228"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.1.6",
      "section_id": "6.3.1.6",
      "section_title": "Source Access Leg Release",
      "content": "When the session modification procedures are complete, the Source Access Leg Release is executed by initiating a session release. This is done for the Source Access Leg using the AS/UE session release procedures per TS 23.228 [4]. For non-emergency sessions, the UE and the SCC AS shall initiate the Session Release procedure when the switch to the Target Access Leg is complete. For emergency sessions, the UE and the EATF shall initiate the Session Release procedure when the switch to the Target Access Leg is complete. For (v)SRVCC, the source access leg release is only performed if the UE retains Gm after the PS-CS access transfer is completed; otherwise, the UE release the source access leg locally.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.228"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.1.7",
      "section_id": "6.3.1.7",
      "section_title": "Access Transfer Information for ATCF",
      "content": "When SRVCC with ATCF enhancements are used, a prerequisite for the access transfer to take place, is that the ATCF have received the Access Transfer Information from the SCC AS. The Access Transfer Information includes the ATU-STI and the C-MSISDN.\nThe SCC AS initiates the Access Transfer Information information exchange\n-\tafter the registration, if ATCF is included in the path, and the UE is SRVCC capable, and\n-\tin the event the UE changes SRVCC capability provided that ATCF is included in the registration.\nFigure 6.3.1.7-1: Access Transfer Information provided to ATCF from SCC AS\n1.\tThe UE performs an IMS registration that is sent through the ATCF according to the procedures of clause 6.1.2.\n2-3.\tAfter the registration, at least prior any access transfer takes place, the SCC AS provides the Access Transfer Information towards the ATCF, by sending a message including the ATU-STI and C-MSISDN.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.1.2",
        "figure_6.3.1.7-1"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.2.0",
      "section_id": "6.3.2.0",
      "section_title": "General",
      "content": "This clause details the procedures and flows for Access Transfers. In the flows that pertain to I1, the assumptions specified in clause 7.0 of TS 23.292 [5] apply.\nFor PS - CS Access Transfer, both Single Radio and Dual Radio procedures are specified in the following clauses. Dual Radio is not supported between two different 3GPP RATs (i.e. 3GPP specifications do not provide the possibility for a UE to transmit/receive on two 3GPP RATs simultaneously). Single Radio PS - CS Access Transfer require the use of SRVCC (specified in TS 23.216 [10]) in the access networks.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.292_clause_7.0",
        "ts_23.292",
        "ts_23.216"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.2.1.1",
      "section_id": "6.3.2.1.1",
      "section_title": "PS – CS Access Transfer: PS to CS - Dual Radio",
      "content": "Figure 6.3.2.1.1-1 PS – CS Access Transfer: PS to CS - Dual Radio, provides an information flow for Access Transfer of an IMS session in PS to CS direction. The flow requires that the user has an IMS originating or terminating session using PS media flow(s) at the time of initiation of Access Transfer to CS.\nNOTE 1:\tThis flow assumes the PS domain does not have any non real time media flow(s). If the PS domain has other non real time media flow(s), then the call flow in clause 6.3.2.3.1 applies.\nFigure 6.3.2.1.1-1: PS – CS Access Transfer: PS to CS - Dual Radio\n1.\tIf the user is not attached to the CS domain at the time when the UE determines a need for Access Transfer to CS, the UE performs a CS Attach as specified in TS 23.292 [5], clause 7.2.1. It subsequently originates a session that uses CS media using the STN to establish an Access Leg via the CS access and requests Access Transfer of the IMS session to CS access using the procedures described in TS 23.292 [5], clause 7.3.2 Originating Sessions that use CS media.\n2.\tStandard procedures as specified in TS 23.292 [5], clause 7.3.2 Originating Sessions that use CS media are used in CS and IMS intermediate nodes which results in routing of the INVITE with the STN or an IMRN to the I/S‑CSCF. The MSC Server enhanced for ICS includes the GRUU into the Access Transfer request if the user is registered in the IMS by the MSC Server enhanced for ICS as specified in TS 23.292 [5]. If the user is not registered in IMS then CS/IMS Interworking Nodes includes the C‑MSISDN as calling party number into the Access Transfer request.\n3.\tStandard procedures are used at I/S-CSCF for routing of the INVITE to the SCC AS.\n4.\tThe SCC AS completes the establishment of the Access Leg via the CS access. The SCC AS is able to identify the correct anchored session using either the C‑MSISDN or the GRUU for session identification. The SCC AS determines if the state of the session to be transferred is active or inactive based on the session state information in the source Access Leg. The SCC AS performs the Access Transfer by updating the Remote Leg with the connection information of the newly established Access Leg using the Remote Leg Update procedure as specified in clause 6.3.1.5. The SCC AS completes the session setup towards UE according to procedures defined in TS 23.228 [4].\n5.\tThe Source Access Leg (which is the Access Leg previously established over PS access) is released as specified in clause 6.3.1.6\nNOTE 2:\tSteps 4 and 5 consist of a sequence of messages, some of which may occur in parallel.\n6.3.2.1.1a\tPS – CS Access Transfer: PS to CS – Dual Radio with Session State Information\nFigure 6.3.2.1.1a-1 PS – CS Access Transfer: PS to CS – Dual Radio with Session State Information, provides an information flow for Access Transfer of an IMS session in PS to CS direction. The flow requires that the user has an active IMS originating or terminating session, together with at least one more IMS originating or terminating session (active and/or inactive), using PS media at the time of initiation of Access Transfer to CS and that the use of network capabilities to support MSC Server assisted mid-call feature during Access Transfer is supported by the UE and the network.\nNOTE 0:\tWhen the UE is using a conference service, the procedures specified in clause 6.3.2.1.8 need to be performed in conjunction with this flow, for the conference service to be supported after the Access Transfer.\nFigure 6.3.2.1.1a-1: PS – CS Access Transfer: PS to CS – Dual Radio with Session State Information\n1.\tIf the user is not attached to the CS domain at the time when the UE determines a need for Access Transfer to CS, the UE performs a CS Attach as specified in TS 23.292 [5], clause 7.2.1. It subsequently originates a session that uses CS media using the STN to establish an Access Leg via the CS access and requests Access Transfer of the IMS session to CS access using the procedures described in TS 23.292 [5], clause 7.3.2.\n2.\tThe procedures specified in TS 23.292 [5], clause 7.3.2, are used by the MSC Server, which results in routing of the INVITE with the STN to the I/S CSCF. The MSC Server includes the GRUU into the Access Transfer request, which can be used for session (and UE) correlation.\nNOTE 1:\tThe MSC Server enhanced for ICS obtains the GRUU during registration; the GRUU can be used for session (and UE) correlation.\nNOTE 2:\tThe MSC Server has indicated its capability to support MSC Server assisted mid-call feature during Access Transfer in the registration.\n3.\tStandard procedures are used at I/S-CSCF for routing of the INVITE to the SCC AS.\n4.\tThe SCC AS completes the establishment of the Access Leg via the CS access. The SCC AS is able to identify the correct anchored session using the GRUU for session identification. The SCC AS performs the Access Transfer of the recently added active session or, if there is no active session, the inactive session which was active most recently, with bi-directional speech for the UE by updating the Remote Leg with the connection information of the newly established Access Leg using the Remote Leg Update procedure as specified in clause 6.3.1.5. The SCC AS completes the session setup towards the UE according to procedures defined in TS 23.228 [4].\n5.\tThe SCC AS provides Session State Information on the transferring-in leg. If there are more than two sessions with speech media before session transfer in the source Access Leg, the SCC AS performs the following:\nIf there are no active sessions, the SCC AS performs the following:\n-\tbesides the inactive session already handled in step 4, releases all other remaining inactive sessions;\n-\tincludes the information that the session is inactive in the transfer response sent to the MSC Server;\n-\tskips following handling of step 5, 6 and 7, directly goes to step 8 in the information flow.\nIf there are at least one active session, the SCC AS performs the following:\n-\tif there are two or more active speech sessions, selects the second-most recently active speech session, puts it on hold and releases all remaining active sessions;\n-\tselects the held session that has been most recently made inactive. Any other in-active sessions are released.\nthe Session State Information of the selected inactive session is sent to the MSC Server.\n6.\tThe S-CSCF forwards the Session State Information to the MSC Server.\n7.\tIf the MSC Server receives the Session State Information on more than one active or inactive speech sessions, it initiates Access Transfer towards the SCC AS for the additional session.\n8.\tThe Source Access Leg (which is the Access Leg previously established over PS access) is released as specified in clause 6.3.1.6.\nNOTE 3:\tSteps 4 and 8 consist of a sequence of messages, some of which may occur in parallel.\nAfter completion of this procedure, the UE uses procedures as defined in TS 24.008 [24] to perform service control.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3.2.3.1",
        "ts_23.292_clause_7.2.1",
        "ts_23.292_clause_7.3.2",
        "clause_6.3.1.5",
        "clause_6.3.1.6",
        "clause_6.3.2.1.8",
        "figure_6.3.2.1.1-1",
        "figure_6.3.2.1.1",
        "ts_23.292",
        "ts_23.228",
        "ts_24.008"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.2.1.2",
      "section_id": "6.3.2.1.2",
      "section_title": "PS – CS Access Transfer: CS to PS - Dual Radio",
      "content": "Figure 6.3.2.1.2-1 PS – CS Access Transfer: CS to PS - Dual Radio, provides an information flow for Access Transfer of an IMS session in the CS to PS direction. The flow requires that the user has an IMS originating or terminating session that uses CS media at the time of initiation of Access Transfer to PS.\nFigure 6.3.2.1.2-1: PS – CS Access Transfer: CS to PS - Dual Radio\n1.\tWhen the UE determines a need for Access Transfer, the UE initiates registration with IMS (if not already registered in IMS) as specified in clause 6.1. It subsequently initiates an IMS originated session toward the SCC AS using a STI to establish an Access Leg via PS access and requests Access Transfer of the IMS session that is using CS media to PS access. The statically configured STI is used if no dynamically assigned STI has been provided to the UE during session establishment. Please refer to clause 6.2.1 - IMS Originating Sessions for details on IMS origination procedure.\n2.\tStandard procedures are used at S‑CSCF for routing of the INVITE to the SCC AS.\n3.\tThe SCC AS performs the Access Transfer by updating the Remote Leg with the session information, including session state and connection information, of the newly established Access Leg (see the Remote Leg Update procedure, clause 6.3.1.5). The SCC AS completes the establishment of the Access Leg according to procedures defined in TS 23.228 [4].\n4.\tThe source Access Leg which is the Access leg previously established over CS is subsequently released (see clause 6.3.1.6).\nNOTE:\tSteps 3 and 4 consist of a sequence of messages, some of which may occur in parallel.\n6.3.2.1.2a\tPS – CS Access Transfer: CS to PS – Dual Radio with Session State Information\nFigure 6.3.2.1.2a-1 PS – CS Access Transfer: CS to PS – Dual Radio with Session State Information, provides an example flow for dual radio CS to PS Access Transfer with Held and Active sessions.\nFigure 6.3.2.1.2a-1: CS to PS Access Transfer - Dual Radio with Session State Information\n1.\tWhen the UE determines a need for Access Transfer, the UE initiates registration with IMS (if not already registered in IMS) as specified in TS 23.228 [4]. It subsequently initiates an IMS originated session towards the SCC AS using a static STI to establish an Access Leg via PS access and requests Access Transfer of the active session to PS access.\n2.\tStandard procedures are used at the S CSCF for routing of the INVITE to the SCC AS.\nNOTE 1:\tDuring session establishment, the UE has indicated its capability to support MSC Server assisted mid-call feature during Access Transfer.\n3.\tThe SCC AS performs the Access Transfer by updating the Remote Leg with connection information of the newly established Access Leg (see the Remote Leg Update procedure, described in clause 6.3.1.5). The SCC AS completes the establishment of the Access Leg according to procedures defined in TS 23.228 [4].\n4.\tThe SCC AS provides Session State Information when both an active session and an inactive session are transferred. The Session State Information includes the additional held session with speech or speech and video media including dynamic STI needed for the held session on the transferring-in leg.\n5.\tThe S-CSCF forwards the Session State Information to the UE.\n6.\tIf the UE receives the Session State Information of the held session, it initiates a Access Transfer request towards the SCC AS using the dynamic STI for the held session.\n7.\tThe Source Access Leg, which is the Access Leg previously established over CS access, is released as specified in clause 6.3.1.6.\nNOTE 2:\tSteps 3 and 7 consist of a sequence of messages, some of which may occur in parallel.\n6.3.2.1.2b\tCS - PS Access Transfer: CS to PS - Dual Radio, incoming voice call in alerting phase\nThis procedure done according to the procedure in clause 6.3.2.2.3, with the following amendment for steps 1-4: An MSC server has started a CS session towards the UE which is centralized in IMS according to in TS 23.292 [5]. The UE is awaiting answer from the User.\nBefore the user answers, the UE decides to move to PS. The procedure follows as from step 5 in clause 6.3.2.2.3. IP‑CAN 2 represents the new PS leg. The UE uses the statically configured STI for the transfer.\n6.3.2.1.2c\tCS - PS Access Transfer: CS to PS - Dual Radio, outgoing voice call in pre-alerting state or in alerting phase\nThis procedure done according to the procedure in clause 6.3.2.2.4, with the following amendment for steps 1-4: The UE has started a CS session that is centralized in IMS according to in TS 23.292 [5]. The UE is awaiting answer from the remote end.\nBefore the remote end answers, the UE decides to move to PS. The procedure follows as from step 5 in clause 6.3.2.2.3. IP‑CAN 2 represents the new PS leg. The UE uses the statically configured STI for the transfer.\n6.3.2.1.2d\tPS - CS Access Transfer: PS to CS - Dual Radio, outgoing voice or video call in pre-alerting state or in alerting phase\nFigure 6.3.2.1.2d-1 PS-CS: PS to CS - Dual Radio, outgoing voice or video call in early dialogue phase (alerting or pre-alerting), provides an information flow for Dual Radio Access Transfer of media of an IMS session in early dialogue state for the PS to CS direction.\nThe flow requires that the user is active in a terminating IMS session and that the SIP session is in early dialogue state, there is no other ongoing session and the UE has not responded over the access leg.\nFigure 6.3.2.1.2d-1: PS-CS: PS to CS - Dual Radio, outgoing voice or video call in alerting phase\n1-4.\tStandard procedures are used to initiate a SIP session towards the UE. The originating UE is either in alerting or pre-alerting state.\n5.\tUE determines a need for Access Transfer to CS. If the user is not attached to the CS access at this, the UE performs a CS Attach as specified in clause 7.2.1 of TS 23.292 [5].\n6.\tUE starts the Dual Radio Access Transfer procedure by sending a CS setup message destined to STN according to TS 24.008 [24].\n7.\tMSC Server routes the call towards the STN received in 5. If the MSC is not enhanced SC signalling will be used and the call setup message will be routed through an MGCF.\n8.\tStandard procedures are used at I/S-CSCF for routeing of the INVITE to the SCC AS.\n9.\tThe SCC AS uses the STN to determine that Access Transfer using Dual Radio VCC is requested. The SCC AS may retrieve the C-MSISDN from the HSS. The SCC AS identifies the correct anchored session. The SCC AS proceeds with the Access Transfer of the recently added active session with bi-directional speech or bi-directional speech and synchronised video for the UE by updating the Remote Leg with the media description and other information using the Remote Leg Update procedure as specified in clause 6.3.1.5.\nNOTE:\tIt is assumed the initial SDP negotiation has been completed prior to triggering the (v)SRVCC, thus the SCC AS can update the remote leg.\n10.\tThe SCC AS sends a Ringing or provisional response message towards the UE.\n11.\tThe S-CSCF forwards the Ringing or provisional response message to the MSC Server.\n12.\tThe MSC server responds to the UE according to TS 24.008 [24] (depending on whether Ringing or provisional response is received).\n12a.\tThe MSC moves to the correct call state, see TS 24.008 [24], e.g. Call Delivered in case of alerting, or Mobile Originating Call Proceeding in case of pre-alerting.\n12b.\tThe UE moves to the corresponding call state, which also ensures that the same ring back tone is played to the end user.\n13.\tThe remote end answers to the call.\n14.\tThe SCC AS sends an Answer message towards the MSC.\n13.\tStandard procedures are used at S-CSCF for routeing Answer message to the MSC.\n14.\tThe MSC uses the standard procedure to send the CS connect message to UE as described in TS 24.008 [24].\n14a.\tThe MSC moves to Active state.\n14b.\tThe UE moves to Active state.\n6.3.2.1.2e\tPS - CS Access Transfer: PS to CS - Dual Radio, incoming voice call in alerting phase\nFigure 6.3.2.1.2e-1 PS-CS: PS to CS - Dual Radio, incoming voice or video call in alerting phase, provides an information flow for Dual Radio Access Transfer of media of an IMS session in alerting state for the PS to CS direction.\nThe flow requires that the user is active in a terminating IMS session and that the SIP session is in alerting state, there is no other ongoing session and the UE has not responded over the access leg.\nFigure 6.3.2.1.2e-1: PS-CS: PS to CS - Dual Radio, incoming voice or video call in alerting phase\n1-4.\tStandard procedures are used to initiate a SIP session towards the UE. The UE is alerting the user for the incoming voice or video-call session.\n5.\tUE determines a need for Access Transfer to CS. If the user is not attached to the CS domain at this time, the UE performs a CS Attach as specified in TS 23.292 [5], clause 7.2.1.\n6.\tIn the ongoing SIP session, the UE sends a SIP message towards SCC AS which includes a request to initiate session transfer from PS to CS.\nNOTE 1:\tThe alerting towards the end user continues during the transfer.\n7.\tStandard procedures are used at I/S-CSCF for routeing of the SIP message to the SCC AS.\n8.\tThe SCC AS starts the Session transfer procedure by sending a SIP INVITE towards the UE via the CS access. SCC AS uses STN as the calling party so that the UE can do a correlation to ongoing session.\nNOTE 2:\tThe SCC AS can direct the session to the CS access over Mg or I2, see TS 23.292 [5].\n9.\tStandard procedures are used at I/S-CSCF for routeing of the INVITE to the MSC Server. If MSC Server is not enhanced, CS signalling will be used via a MGCF.\n10.\tMSC server sends a CS Setup to the UE. The UE determines that Access Transfer using Dual Radio VCC is requested when the calling party received is STN.\n10a.\tAt sending of the CS Setup the MSC puts itself in a state ready receive answer.\n10b.\tAt receipt of the CS Setup the UE puts itself in a state ready to receive answer by the user.\n11.\tThe UE acknowledge the CS Setup and the MSC Server responds with provisional response / ringing toward the remote side.\n12.\tBased on the response from the UE, the SCC AS performs a remote end update according to clause 6.3.1.5.\n13.\tThe source access leg is released according to clause 6.3.1.6 as a consequence of the transfer to the new access leg.\n14.\tUser answers.\n15.\tThe UE uses the standard procedure to send the CS connect message to MSC Server as e.g. described in TS 24.008 [24].\n15a.\tUE moves to active state.\n15b.\tMSC Server moves to active state.\n16.\tMSC sends an answer message in the SIP session started in Step 8.\n17.\tStandard procedures are used at I/S-CSCF for routeing of the answer toward the SCC AS.\n18.\tThe call setup is completed.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.1",
        "clause_6.2.1",
        "clause_6.3.1.5",
        "clause_6.3.1.6",
        "clause_6.3.2.2.3",
        "clause_6.3.2.2.4",
        "ts_23.292_clause_7.2.1",
        "figure_6.3.2.1.2-1",
        "figure_6.3.2.1.2",
        "ts_23.228",
        "ts_23.292",
        "ts_24.008"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.2.1.3",
      "section_id": "6.3.2.1.3",
      "section_title": "Subsequent Access Transfers",
      "content": "Procedures for subsequent Access Transfers to CS and PS access are the same as procedures for initial Access Transfers specified in clause 6.3.2.1.1 for PS to CS access and clause 6.3.2.1.2 for CS to PS access.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3.2.1.1",
        "clause_6.3.2.1.2"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.2.1.4",
      "section_id": "6.3.2.1.4",
      "section_title": "PS – CS Access Transfer: PS to CS – Single Radio",
      "content": "Figure 6.3.2.1.4-1 PS-CS: PS to CS – Single Radio, provides an information flow for Access Transfer of media flow(s) of an IMS session in PS to CS direction for Access Transfers within 3GPP access networks as specified in TS 23.216 [10].\nThe flow requires that the user is active or inactive in an IMS originating or terminating session; procedures and capabilities specified in TS 23.216 [10] are used for the switching of access networks at the transport layer. It further requires that the MSC Server assisted mid-call feature as described in clause 6.3.2.1.4a is not used.\nNOTE 1:\tSee TS 23.216 [10] for initiation of handover of only one voice PS bearer at EPC.\nNOTE 2:\tThe UE capable of procedures as specified in TS 23.216 [10] does not need to support session and access transfer procedures as specified in clauses 6.3.2.1.1 and 6.3.2.3 to support PS to CS Access Transfer.\nFigure 6.3.2.1.4-1: PS-CS: PS to CS – Single Radio\n1.\tProcedures specified in TS 23.216 [10] result in an INVITE to be sent with an STN-SR indicating use of SRVCC procedures for Access Transfer to CS access. The MSC Server enhanced for SRVCC includes the C‑MSISDN as calling party number. If SRVCC with priority is supported, MSC Server enhanced for SRVCC also includes a priority indication if received.\n2.\tStandard procedures are used at I/S-CSCF for routing of the INVITE to the SCC AS.\n3.\tThe SCC AS uses the STN-SR to determine that Access Transfer using SRVCC is requested. The SCC AS may retrieve the C‑MSISDN from the HSS. The SCC AS is able to identify the correct anchored session. The SCC AS determines if the state of the session to be transferred is active or inactive based on the session state information in the source Access Leg. The SCC AS proceeds with the Access Transfer of the session with bi-directional speech for the UE by updating the Remote Leg with the media description and other information using the Remote Leg Update procedure as specified in clause 6.3.1.5.\nNOTE 3:\tPlease refer to clause 4.3.1.2.2 for the behaviour of the SCC AS when the SCC AS finds multiple active sessions with bi-directional speech anchored for the UE.\n4a.\tIf the Gm reference point is retained upon PS handover procedure then\n4a-1.\tThe UE sends a Re-INVITE via the PS access to update the remaining non-voice media flow(s) associated with the recently added active session. If the UE is using ICS capabilities, this Re-INVITE also adds Gm service control to the active session and the UE subsequently sends Re-INVITEs for any remaining inactive bi-directional speech sessions that are to be transferred.\n4a-2.\tStandard procedures are used at S-CSCF for routing of the Re-INVITE(s) to the SCC AS.\n4a-3.\tThe SCC AS processes the Re-INVITE(s) and updates the Remote Leg if needed.\n4b.\tIf the Gm reference point is not retained upon PS handover procedure, e.g. because there was no other media flow(s) in the IMS session than the voice which was transferred to the target access, then the Source Access Leg is released as specified in clause 6.3.1.6.\nNOTE 4:\tSome or all of the steps between steps 3 and 4b may consist of a sequence of messages, some of which may occur in parallel.\nIf the MSC Server above (located in the box labelled \"CS/IMS Intermediate Nodes\") is enhanced for ICS as defined in TS 23.292 [5], then it performs IMS registration after the transfer of the session is completed successfully i.e. after step 3. Registration is performed only if the ICS flag is received via the Sv reference point as specified in TS 23.216 [10] or as determined to by the procedure specified in clause 7.2.1.1 in TS 23.292 [5].\n6.3.2.1.4a\tPS – CS Access Transfer: PS to CS – Single Radio with Session State Information\nFigure 6.3.2.1.4a-1 PS-CS: PS to CS – Single Radio with Session State Information, provides an information flow for Access Transfer of media of an IMS session in PS to CS direction for Access Transfers within 3GPP access networks as specified in TS 23.216 [10].\nThe flow requires that the user has an active IMS originating or terminating session, together with at least one more IMS originating or terminating session (active and/or inactive), and that the use of network capabilities to support MSC Server assisted mid-call feature during Access Transfer is possible; procedures and capabilities specified in TS 23.216 [10] are used for the switching of access networks at the transport layer.\nNOTE 0:\tWhen the UE is using a conference service, the procedures specified in clause 6.3.2.1.8 need to be performed in conjunction with this flow, for the conference service to be supported after the Access Transfer.\nThe flow is not applicable in case ICS UE capabilities can be used.\nNOTE 1:\tSee TS 23.216 [10] for initiation of hand-over of only one voice PS bearer in EPC.\nNOTE 2:\tThe UE capable of procedures as specified in TS 23.216 [10] does not need to support session and access transfer procedures as specified in clauses 6.3.2.1.1 and 6.3.2.3 to support PS to CS Access Transfer.\nFigure 6.3.2.1.4a-1: PS-CS: PS to CS – Single Radio with Session State Information\n1.\tProcedures specified in TS 23.216 [10], result in an INVITE to be sent with an STN-SR indicating use of Single Radio VCC procedures for Access Transfer to CS access. If the user is not IMS registered by the MSC Server, the MSC Server enhanced for SRVCC includes the C-MSISDN as calling party number. If the user is registered in the IMS by the MSC Server, then the MSC Server includes the GRUU into the Access Transfer request. The MSC Server indicates its capability to support MSC Server assisted mid-call feature during Access Transfer.\n2.\tStandard procedures are used at I/S-CSCF for routing of the INVITE to the SCC AS.\n3.\tThe SCC AS uses the STN-SR to determine that Access Transfer using Single Radio VCC is requested. The SCC AS may retrieve the C‑MSISDN from the HSS. The SCC AS identifies the correct anchored session and proceeds with the Access Transfer of the recently added active session or, if there is no active session, the inactive session which was active most recently, with bi-directional speech for the UE by updating the Remote Leg with the media description and other information using the Remote Leg Update procedure as specified in clause 6.3.1.5.\n4.\tThe SCC AS provides Session State Information on the transferring-in leg. If there are more than two sessions with speech media before session transfer in the source Access Leg, the SCC AS performs the following:\nIf there are no active sessions, the SCC AS performs the following:\n-\tincludes the information that the session is inactive in the transfer response sent to the MSC Server;\n-\tbesides the inactive session already handled in step 3, releases all other remaining inactive sessions;\n-\tskips following handling of step 4, 5 and 6 in the information flow.\nIf there are at least one active session, the SCC AS performs the following:\n-\tif there are two or more active sessions, selects the second-most recently active session, puts it on hold and releases all remaining active sessions;\nNOTE 3:\tIf the first-most recently active session is speech session and the second-most recently active session is a speech and video session, the SCC AS removes the video parts of second-most recently active session and places it on hold. If the second-most recently active session needs to be released according to the operator's policy, the SCC AS releases this session after transfer. All the other remaining active sessions, if any, will be released and not be transferred.\n-\tselects the held session that has been most recently made inactive. Any other inactive sessions are released;\n-\tthe Session State Information of the selected inactive session is sent to the MSC Server.\n5.\tThe S-CSCF forwards the Session State Information to the MSC Server.\n6.\tIf the MSC Server receives the Session State Information of more than one active or inactive speech sessions, it initiates Access Transfer towards SCC AS for the additional session.\nNOTE 4:\tThe SCC AS uses the C-MSISDN or GRUU to correlate the Access Transfer request, and additionally the Session State Information to select the correct session.\n7a.\tIf the Gm reference point is retained after PS handover procedure completion for non-voice media flows, then:\n7a-1.\tThe UE sends a Re-INVITE via the PS access to update the remaining non-voice media flow associated with the recently added active session.\n7a-2.\tStandard procedures are used at S-CSCF for routing of the INVITE to the SCC AS.\n7a-3.\tThe SCC AS processes the Re-INVITE and updates the Remote Leg if needed.\n7b.\tIf the Gm reference point is not retained after PS handover procedure completion, e.g. because there was no other media in the IMS session than the voice that was transferred to the target access, then the Source Access Leg is released as specified in clause 6.3.1.6.\nNOTE 5:\tSome or all of the steps between steps 3 and 4b consist of a sequence of messages, some of which may occur in parallel.\nIf the MSC Server above is enhanced for ICS as defined in TS 23.292 [5], then it performs IMS registration after the transfer of all sessions is completed successfully i.e. after step 6. Registration is performed only if the ICS flag is received via the Sv reference point as specified in TS 23.216 [10] or as determined to by the procedure specified in clause 7.2.1.1 in TS 23.292 [5].\nAfter completion of this procedure, the UE uses procedures as defined in TS 24.008 [24] to perform service control.\n6.3.2.1.4b\tPS to CS Access Transfer: PS to CS – Single Radio; using I1 reference point\nFigure 6.3.2.1.4b PS-CS: PS to CS – Single Radio; using I1 reference point, provides an information flow for Access Transfer of media flow(s) of an IMS session in the PS to CS direction for Access Transfers within 3GPP access networks as specified in TS 23.216 [10], and with the use of I1 reference point for service control post transfer to CS.\nThe flow requires that the UE has indicated ICS capabilities and that the user is active in an IMS originating or terminating session; procedures specified in TS 23.216 [10] are used for the switching of access networks at the transport layer. The I1 reference point of ICS is used for control of IMS sessions established using CS media and a dynamically assigned STI is associated with each session.\nNOTE 1:\tSee TS 23.216 [10] for initiation of handover of only one voice PS bearer at EPC.\nNOTE 2:\tThe UE capable of procedures as specified in TS 23.216 [10] does not need to support session and access transfer procedures as specified in clauses 6.3.2.1.1 and 6.3.2.3 to support PS to CS Access Transfer.\nFigure 6.3.2.1.4b-1: PS-CS: PS to CS – Single Radio; using I1 reference point\n1.\tAccess Transfer of the active session with bi-directional speech is performed as defined in clause 6.3.2.1.4, steps 1-3.\n2.\tThe UE sends an I1: ICS Call Initiation via the CS access as specified in TS 23.292 [5] including an STI for continuation of establishment of the Access Leg using Single Radio VCC for the active session.\n3.\tThe SCC AS uses the STI to correlate the Access Transfer request received via the PS access with the Access Transfer request for the active session received via the CS access.\n4.\tIf there are any held sessions present at the time of Access Transfer, the UE proceeds with the Access Transfer of the first held session by sending an I1: ICS Call Initiation via the CS access (as described in TS 23.292 [5]) including an STI that identifies the held session.\nNOTE 3:\tIf the first-most recently active session is speech session and the selected held session is a speech and video session, the SCC AS removes the video parts of selected held session. If the held speech and video session needs to be released according to the operator's policy, the SCC AS releases this session after transfer. All the other remaining sessions, if any, will be released and not be transferred.\n5.\tThe SCC AS uses the STI to identify the held session and updates the session information on the Access Leg.\nNOTE 4:\tCS media is not established for the held session. The media established upon the transfer of the currently active session is reused for the held session when it is resumed.\nSteps 4 and 5 are repeated for the remaining held sessions.\n6.\tThe Source Access Leg is released as specified in clause 6.3.1.6.\n6.3.2.1.4c\tPS - CS Access Transfer: PS to CS - Single Radio, incoming voice or video call in pre-alerting or alerting phase\nFigure 6.3.2.1.4c-1 PS-CS: PS to CS - Single Radio, incoming call in pre-alerting or alerting phase, provides an information flow for Access Transfer of media of an IMS session in PS to CS direction for Access Transfers as specified in TS 23.216 [10].\nThe flow requires that the user is active in a terminating IMS session in pre-alerting or alerting state which the UE has not responded over the access leg and there is no other session (or there is one or more held sessions but mid-call service is not supported); procedures and capabilities specified in TS 23.216 [10] are used for the switching of access networks at the transport layer.\nFigure 6.3.2.1.4c-1: PS-CS: PS to CS - Single Radio, incoming voice or video call in pre-alerting or alerting phase\n1-4.\tStandard procedures are used to initiate a SIP session towards the UE. The UE is either in pre-alerting state or alerting the user for the incoming voice or video-call session. Precondition procedure can be executed in this phase but is not shown in the flow.\n5.\tProcedures specified in TS 23.216 [10] result in an INVITE to be sent with an STN-SR indicating use of Single Radio VCC procedures for Access Transfer to CS access. The MSC Server enhanced for (v)SRVCC includes the C-MSISDN as calling party number. The MSC Server indicates its capability to support mid-call services during session transfer. For PS-CS transfer for vSRVCC the video Codecs are also included in the session transfer request.\nNOTE 1:\tThis step is only triggered after QCI=1 bearer was established in step 1-4 for pre-alerting state.\n6.\tStandard procedures are used at I/S-CSCF for routeing of the INVITE to the SCC AS.\n7.\tThe SCC AS uses the STN-SR to determine that Access Transfer using Single Radio VCC is requested. The SCC AS may retrieve the C-MSISDN from the HSS. The SCC AS uses the C-MSISDN to identify the correct anchored session. The SCC AS proceeds with the Access Transfer of the recently added active session with bi-directional speech or bi-directional speech and synchronised video media for the UE by updating the Remote Leg with the media description and other information using the Remote Leg Update procedure as specified in clause 6.3.1.5.\nNOTE 2:\tIt is assumed the initial SDP negotiation has been completed prior to triggering the (v)SRVCC, thus the SCC AS can update the remote leg.\n8.\tThe SCC AS provides Session State Information on the incoming speech call in pre-alerting state or alerting state.\n9.\tThe S-CSCF forwards the Session State Information to the MSC Server.\n10.\tThe MSC moves to the corresponding CS call state, e.g. Call Received in TS 24.008 [24].\nNOTE 3:\tIn call received state the MSC does not generate an in-band ring tone to the calling party.\n10b.\tIn parallel to step 10, the UE has received the HO command as described in TS 23.216 [10]. The UE determines the local call state in the SIP session, and creates the corresponding CS call state, e.g. Call Received in TS 24.008 [24]. The UE continues to alert the user for incoming call if it is already in alerting state.\n11.\tThe user answers to the call. For video call the UE may initiate at this stage the H.245 Codec negotiation.\n11a.\tUE moves to Active state.\n12.\tThe UE uses the standard procedure to send the CS connect message to MSC as e.g. described in TS 24.008 [24].\nNOTE 4:\tSolution for possible race conditions (e.g. MSC server receives the CS connect before the SCC AS responds) will be defined in Stage 3.\n12b.\tThe MSC moves to Active state.\n13.\tThe MSC notifies the SCC AS the user has answered the call.\n14.\tStandard procedures are used at S-CSCF for routeing of the notification to the SCC AS.\n15.\tThe SCC AS creates the corresponding SIP request to the remote end, updates the remote leg.\n6.3.2.1.4d\tPS - CS Access Transfer: PS to CS - Single Radio, outgoing voice or video call in pre-alerting state or in alerting phase\nFigure 6.3.2.1.4d-1 PS-CS: PS to CS - Single Radio, outgoing call in early dialogue phase (i.e. pre-alerting or alerting), provides an information flow for Access Transfer of media of an IMS session in PS to CS direction for Access Transfers as specified in TS 23.216 [10].\nThe flow requires that the user is active in an outgoing IMS session in early dialogue phase and there is no other session (or there is one or more held sessions but mid-call service is not supported); procedures and capabilities specified in TS 23.216 [10] are used for the switching of access networks at the transport layer.\nFigure 6.3.2.1.4d-1: PS-CS: PS to CS – Single Radio, outgoing voice or video call in pre-alerting or in alerting phase\n1-4.\tStandard procedures are used to initiate a SIP session from the UE towards the remote end. The remote end is either alerting the user for the incoming voice or video-call session or the call is in pre-alerting state and announcements may be played to the UE. Access bearer for voice or video is setup for the UE during this step.\n5.\tProcedures specified in TS 23.216 [10] result in an INVITE to be sent with an STN-SR indicating use of Single Radio VCC procedures for Access Transfer to CS access. If the user is not IMS registered by the MSC Server, the MSC Server enhanced for (v)SRVCC includes the C-MSISDN as calling party number. If the user is registered in the IMS by the MSC Server, then the MSC Server includes the GRUU into the session transfer request. The MSC Server indicates its capability to support mid-call services during session transfer. For PS-CS transfer for vSRVCC the video Codecs are also included in the session transfer request.\n6.\tStandard procedures are used at I/S-CSCF for routeing of the INVITE to the SCC AS.\n7.\tThe SCC AS uses the STN-SR to determine that Access Transfer using Single Radio VCC is requested. The SCC AS may retrieve the C-MSISDN from the HSS. The SCC AS identifies the correct anchored session. The SCC AS proceeds with the Access Transfer of the recently added active session with bi-directional speech or bi-directional speech and synchronised video for the UE by updating the Remote Leg with the media description and other information using the Remote Leg Update procedure as specified in clause 6.3.1.5.\nNOTE 1:\tIt is assumed the initial SDP negotiation has been completed prior to triggering the (v)SRVCC, thus the SCC AS can update the remote leg.\nNOTE 2:\tThe SCC AS uses the C-MSISDN or GRUU to correlate the Access Transfer request.\n8.\tThe SCC AS provides Session State Information on the outgoing speech call in early dialogue phase (e.g., pre-alerting or alerting state).\n9.\tThe S-CSCF forwards the Session State Information to the MSC Server.\n10.\tThe MSC moves to the corresponding CS call state, e.g. Call Delivered or Mobile Originating Call Proceeding state as specified in TS 24.008 [24].\n10b.\tIn parallel to step 10, the UE has received the HO command as described in TS 23.216 [10]. The UE determines the local call state in the SIP session, and creates the corresponding CS call state, e.g. Call Delivered in TS 24.008 [24] for the alerting state, or Mobile Originating Call Proceeding for the pre-alerting state. The UE ensures that the same ring back tone or announcement if any is played to the end user. If the voice+video media is played to the UE in PS domain, and the CS domain does not support video media, only the voice media shall be played to the UE after the call is transferred to CS domain from PS domain, regardless of whether the media is locally generated by the UE or is network-generated to the UE.\n11.\tThe remote end answers to the call.\n12.\tThe SCC AS notifies the MSC the remote end has answered the call.\n13.\tStandard procedures are used at S-CSCF for routeing of the notification to the MSC.\n14.\tThe MSC uses the standard procedure to send the CS connect message to UE as e.g. described in TS 24.008 [24]. For video call the UE may initiate at this stage the H.245 Codec negotiation.\n15. The MSC moves to Active state.\n16.\tThe UE moves to Active state.\n6.3.2.1.4e\tPS - CS Access Transfer: PS to CS - Single Radio, voice and video\nFigure 6.3.2.1.4e-1 describes the information flows for transferring voice and video from PS to CS access single radio.\nThe flow requires that the user is active in an IMS originating or terminating session with voice and synchronised video media; procedures and capabilities specified in TS 23.216 [10], clause 6.2.2.3 are used for the switching of access networks at the transport layer.\nNOTE 1:\tThe UE capable of procedures as specified in TS 23.216 [10] does not need to support session and access transfer procedures as specified in clauses 6.3.2.1.5 and 6.3.2.3 to support PS to CS Access Transfer.\nIn this flow, the SCC AS waits for the H.245 negotiation completion before updating Remote Leg.\nFigure 6.3.2.1.4e-1: Information flow for voice and video transfer from PS to CS- single radio\n1-2.\tSee clause 6.3.2.1.4 steps 1 and 2. MSC Server includes the SDP of the voice and video SDP of the predefined Codecs. If vSRVCC with priority is supported, MSC Server enhanced for vSRVCC also includes a priority indication if received. The SCC AS performs the Access Transfer of the most recently added active session for bidirectional voice and synchronised video media. The transfer of the alerting session or during pre-alerting state is described 6.3.2.1.4c and 6.3.2.1.4d.\n3.\tSee clause 6.3.2.1.4 step 3. The SCC AS performs a remote leg update with the media type of the CS access leg for the voice and video session as specified in clause 6.3.1.5.\nNOTE 2:\tIf the remote end does not support the predefined Codecs, the MGW performs the appropriate transcoding.\n4.\tThe MSC Server completes the CS leg establishment with UE-1.\n5.\tPredefined Codecs for voice and video with specific characteristics are initially used by the UE‑1 after it establishes the circuit bearer to the target MSC. The predefined Codecs for voice and video are the default Codecs specified in TS 26.111 [32]. If needed, UE-1 and MSC Server may start in band H.245 negotiation right after the UE‑1 establishes a circuit bearer to the MSC Server. 3G-324M codec negotiation for the video is executed (refer to TR 26.911 [29] for H.245 signalling optimizations) right after the UE‑1 establishes a circuit bearer to the Target MSC.\n6a.\tIf the Gm reference point is retained upon PS handover procedure then:\n6a-1.\tThe UE‑1 sends a Re-INVITE via the PS access to update the remaining non-voice and non-voice/non-video media flow(s) associated with the recently added active session. If the UE‑1 is using ICS capabilities, this Re-INVITE also adds Gm service control to the active session and the UE‑1 subsequently sends Re-INVITEs for any remaining inactive bi-directional speech sessions that are to be transferred.\n6a-2.\tStandard procedures are used at S-CSCF for routing of the Re-INVITE(s) to the SCC AS.\n6a-3.\tThe SCC AS processes the Re-INVITE(s) and updates the Remote Leg if needed.\n6b.\tIf the Gm reference point is not retained upon PS handover procedure, or if there was no other non-voice and non-voice/non-video media flow(s) in the IMS session than the voice+video which was transferred to the target access, then the Source Access Leg is released as specified in clause 6.3.1.6.\nNOTE 3:\tSome or all of the steps between steps 3 and 6b may consist of a sequence of messages, some of which may occur in parallel.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3.2.1.4",
        "clause_6.3.1.5",
        "clause_4.3.1.2.2",
        "clause_6.3.1.6",
        "ts_23.292_clause_7.2.1.1",
        "clause_6.3.2.1.8",
        "ts_23.216_clause_6.2.2.3",
        "figure_6.3.2.1.4-1",
        "figure_6.3.2.1.4",
        "ts_23.216",
        "ts_23.292",
        "ts_24.008",
        "ts_26.111",
        "ts_26.911"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.2.1.5",
      "section_id": "6.3.2.1.5",
      "section_title": "PS – CS Access Transfer for voice and video, Dual Radio",
      "content": "Figure 6.3.2.1.5-1 describes the information flows for transferring voice and video from PS to CS access.\nIn this flow, the SCC AS waits for the H245 negotiation completion before updating Remote Leg.\nFigure 6.3.2.1.5-1: Information flow for voice and video transfer from PS to CS\n1-3.\tUE-1 starts Access Transfer of multimedia session from PS to CS as specified in steps 1-3 of clause 6.3.2.1.1. The media types of voice and video, included in the INVITE message with STN in step 3, instruct the SCC AS to wait for H.245 negotiation complete to perform the Remote Leg update in step 8.\n4.\tThe SCC AS completes the CS leg establishment with UE-1.\n5.\tUE-1 and CS/IMS intermediate node starts in band H.245 negotiation.\n6-7.\tAfter the H.245 negotiation is done, CS/IMS intermediate node sends H.245 negotiation completion indication towards SCC AS.\n8.\tOn receipt of the H.245 negotiation complete indication, the SCC AS updates the Remote Leg as specified in step 4 of clause 6.3.2.1.1\n9.\tThe SCC AS may release the Source Access Leg as specified in step 5 of clause 6.3.2.1.1.\nNOTE 1:\tIf the non voice and video media flow is retained, the Source Access Leg may be updated by session re-negotiation.\nNOTE 2:\tWhen using the MSC server enhanced for ICS, the H.245 negotiation with UE-1 shall be executed by the MSC server enhanced for ICS, and the H.245 negotiation complete indication shall be sent by the MSC server enhanced for ICS towards SCC AS.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3.2.1.1",
        "figure_6.3.2.1.5-1"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.2.1.6",
      "section_id": "6.3.2.1.6",
      "section_title": "PS – CS Access Transfer: PS to CS – Dual Radio, mid-call service with an active speech and video session",
      "content": "Figure 6.3.2.1.6-1 PS to CS with one active speech and video session, using SCUDIF, provides an information flow for Access Transfer of multiple IMS sessions in PS to CS direction. The flow requires that the user is active in an IMS originating or terminating speech and video session using PS media at the time of initiation of Access Transfer to CS and that the use of network capabilities to support mid-call services during session transfer is possible. It also requires that SCUDIF feature is supported by the UE and the CS network.\nNOTE:\tWhen the UE is using a conference service, the procedures specified in clause 6.3.2.1.8 need to be performed in conjunction with this flow, for the conference service to be supported after the Access Transfer.\nFigure 6.3.2.1.6-1: PS to CS with one active speech and video session, using SCUDIF\n1.\tStandard procedure as specified in clause 6.3.2.1.5 PS – CS Access Transfer for voice and video is used for transferring the active speech and video session. The UE indicates SCUDIF support and provides two bearer capabilities (voice and multimedia) with multimedia preferred when initiating the transfer. Also, the SCC AS provides session state information on the inactive voice session including needed STI on the transferring-in leg to the MSC Server.\n2.\tThe MSC Server initiates session transfer towards SCC AS for the additional inactive voice session on behalf the UE.\n3.\tThe Source Access Leg associated with the inactive voice session is released as specified in clause 6.3.1.6.\nSubsequently, the UE can switch between the speech and video session and the voice session with different bearer capabilities activated using SCUDIF feature as specified in TS 23.292 [5].\nIf SCUDIF is not supported, the transfer can be performed as Figure 6.3.2.1.6-1 with the differences that in step 1 the UE initiates Access Transfer not using SCUDIF, and after the transfer video channel is closed via H.245 negotiation if the voice session is to be activated.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3.2.1.8",
        "clause_6.3.2.1.5",
        "clause_6.3.1.6",
        "figure_6.3.2.1.6-1",
        "ts_23.292"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.2.1.7",
      "section_id": "6.3.2.1.7",
      "section_title": "PS – CS Access Transfer: PS to CS – Dual Radio, mid-call service with one inactive speech and video session",
      "content": "Figure 6.3.2.1.7-1 PS to CS with one inactive speech and video session, using SCUDIF, provides an information flow for Access Transfer of multiple IMS sessions in PS to CS direction. The flow requires that the user is inactive in an IMS originating or terminating speech and video session using PS media at the time of initiation of Access Transfer to CS and that the use of network capabilities to support mid-call services during session transfer is possible. It also requires that SCUDIF feature is supported by the UE and the CS network.\nFigure 6.3.2.1.7-1: PS to CS with one inactive speech and video session, using SCUDIF\n1.\tStandard procedure as specified in clause 6.3.2.1.1 PS – CS Access Transfer: PS to CS is used for transferring the active voice session. The UE indicates SCUDIF support and provides two bearer capabilities (voice and multimedia) with voice preferred when initiating the transfer. Also, the SCC AS provides session state information on the inactive speech and video session including needed STI on the transferring-in leg to the MSC Server.\n2.\tThe MSC Server initiates session transfer towards SCC AS for the additional inactive speech and video session on behalf the UE.\n3.\tThe Source Access Leg associated with the inactive speech and video session is released as specified in clause 6.3.1.6.\nSubsequently, the UE can switch between the speech and video session and the voice session with different bearer capabilities activated using SCUDIF feature as specified in TS 23.292 [5].\nIf SCUDIF is not supported, the transfer can be performed as Figure 6.3.2.1.7-1 with the differences that in step 1 the UE initiates Access Transfer not using SCUDIF, and after the transfer redial mechanism can be used to switch between the speech and video call and the voice call as specified in TS 23.292 [5].\n6.3.2.1.7a\tPS - CS Access Transfer: PS to CS - Single Radio, mid-call service with an incoming waiting call in alerting phase\nFigure 6.3.2.1.7a-1 provides an information flow for Access Transfer of media of an IMS session in PS to CS direction for Access Transfers as specified in TS 23.216 [10].\nThe flow requires that the user is active in an IMS originating or terminating session and an incoming waiting call is indicated to the user which is in call waiting state; procedures and capabilities specified in TS 23.216 [10] are used for the switching of access networks at the transport layer.\nFigure 6.3.2.1.7a-1: PS-CS: PS to CS - Single Radio, mid-call service with an incoming waiting call in alerting phase\n1-4.\tStandard procedures are used to initiate a SIP session towards the UE, which has already an ongoing session. The UE is notifying the user for the incoming waiting session.\n5.\tProcedures specified in TS 23.216 [10] result in an INVITE to be sent with an STN-SR indicating use of Single Radio VCC procedures for Access Transfer to CS access. If the user is not IMS registered by the MSC Server, the MSC Server enhanced for SRVCC includes the C-MSISDN as calling party number. If the user is registered in the IMS by the MSC Server, then the MSC Server includes the GRUU into the session transfer request. The MSC Server indicates its capability to support mid-call services during session transfer.\n6.\tStandard procedures are used at I/S-CSCF for routeing of the INVITE to the SCC AS.\n7.\tThe SCC AS uses the STN-SR to determine that Access Transfer using Single Radio VCC is requested. The SCC AS may retrieve the C-MSISDN from the HSS. The SCC AS identifies the correct anchored session. The SCC AS proceeds with the Access Transfer of the recently added active session with bi-directional speech for the UE by updating the Remote Leg with the media description and other information using the Remote Leg Update procedure as specified in clause 6.3.1.5.\nNOTE 1:\tIt is assumed the initial SDP negotiation has been completed prior to triggering the SRVCC, thus the SCC AS can update the remote leg.\nNOTE 2:\tThe SCC AS uses the C-MSISDN or GRUU to correlate the Access Transfer request.\n8.\tThe SCC AS provides session state information on the incoming waiting call in alerting state.\n9.\tThe S-CSCF forwards the session state information to the MSC Server.\n10.\tThe MSC Server receives the Session State Information which indicates one active and one session in alerting state. The MSC Server initiates Access Transfer towards SCC AS for the alerting session.\n11.\tThe MSC moves to the corresponding CS call state for the alerting session, e.g. Call Received in TS 24.008 [24].\nNOTE 3:\tIn call received state the MSC does not generate an in-band ring tone to the calling party.\n11b.\tIn parallel to step 11, the UE has received the HO command as described in TS 23.216 [10]. The UE determines the local call states in the SIP sessions, and creates the corresponding CS call states. The UE continues to indicate the user about for the incoming waiting call.\n12.\tThe user answers the waiting call and the UE locally swaps the active call with the waiting call.\n12b.\tUE has one active and one held call.\n13.\tThe UE uses the standard procedure to send the CS set call hold for the previously active call to MSC. The UE uses the standard procedure to send the CS connect message for the alerting call to MSC as e.g. described in TS 24.008 [24].\nNOTE 4:\tSolution for possible race conditions (e.g. MSC server receives the CS set call hold before the SCC AS responds) will be defined in Stage 3.\n13b.\tThe MSC has one active and one held call for the UE.\n14.\tThe MSC notifies the SCC AS the user has swapped the two sessions, i.e. the user has answered the previously alerting call, and put the previously active call on hold.\n15.\tStandard procedures are used at S-CSCF for routeing of the notification to the SCC AS.\n16.\tThe SCC AS creates the corresponding SIP request to the remote end and updates the remote leg.\n6.3.2.1.7b\tPS - CS Access Transfer: PS to CS - Single Radio, mid-call service with an outgoing call in pre-alerting state or in alerting phase\nFigure 6.3.2.1.7b-1 provides an information flow for Access Transfer of media of an IMS session in PS to CS direction for Access Transfers as specified in TS 23.216 [10].\nThe flow requires that the user has a held IMS originating or terminating session and an outgoing IMS session in early dialogue phase (i.e. pre-alerting or alerting); procedures and capabilities specified in TS 23.216 [10] are used for the switching of access networks at the transport layer. The Held session is being transferred (step 5-7) first by the network prior to the alerting session (step 10).\nFigure 6.3.2.1.7b-1: PS-CS: PS to CS - Single Radio, mid-call service with an outgoing call in pre-alerting or in alerting phase\n1-4.\tStandard procedures are used to initiate a SIP session from the UE, which has already an IMS session (held). The remote end is either alerting the user for the incoming voice session or the call is in pre-alerting state and announcements may be played the UE. Access bearer for voice or video is setup during this step for the UE.\n5.\tProcedures specified in TS 23.216 [10] result in an INVITE to be sent with an STN-SR indicating use of Single Radio VCC procedures for Access Transfer to CS access. If the user is not IMS registered by the MSC Server, the MSC Server enhanced for SRVCC includes the C-MSISDN as calling party number. If the user is registered in the IMS by the MSC Server, then the MSC Server includes the GRUU into the session transfer request. The MSC Server indicates its capability to support mid-call services during session transfer.\n6.\tStandard procedures are used at I/S-CSCF for routeing of the INVITE to the SCC AS.\n7.\tThe SCC AS uses the STN-SR to determine that Access Transfer using Single Radio VCC is requested. The SCC AS may retrieve the C-MSISDN from the HSS. The SCC AS identifies the correct anchored session (i.e. the held session). The SCC AS proceeds with the Access Transfer of the held session for the UE by updating the Remote Leg with the media description and other information using the Remote Leg Update procedure as specified in clause 6.3.1.5.\nNOTE 1:\tIt is assumed the initial SDP negotiation has been completed prior to triggering the SRVCC, thus the SCC AS can update the remote leg.\nNOTE 2:\tThe SCC AS uses the C-MSISDN or GRUU to correlate the Access Transfer request.\n8.\tThe SCC AS provides Session State Information that the outgoing speech call in early dialog state (e.g. pre-alerting state or alerting state) and other session information as specified in clause 6.3.2.1.4a.\n9.\tThe S-CSCF forwards the Session State Information to the MSC Server.\n10.\tThe MSC Server receives the Session State Information which indicates one held session and one session in early dialog state. The MSC Server initiates Access Transfer towards SCC AS for the alerting or pre-alerting session.\n11.\tThe MSC moves to the corresponding CS call state, e.g. Call Delivered or Mobile Originating Call Proceeding state specified in TS 24.008 [24].\n11b.\tIn parallel to step 11, the UE has received the HO command as described in TS 23.216 [10]. The UE determines the local call state in the SIP session, and creates the corresponding CS call state, e.g. Call Delivered in TS 24.008 [24] for the alerting state, or Mobile Originating Call Proceeding for the pre-alerting state. The UE ensures that the same ring back tone or announcement if any is played to the end user.\n12.\tThe remote end answers to the call.\n13.\tThe SCC AS notifies the MSC the remote end has answered the call.\n14.\tStandard procedures are used at S-CSCF for routeing of the notification to the MSC.\n15.\tThe MSC uses the standard procedure to send the CS connect message to UE as e.g. described in TS 24.008 [24].\n16.\tThe MSC has one active and one held call for the UE.\n17.\tThe UE has one active and one held call.\n6.3.2.1.7c\tPS - CS Access Transfer: PS to CS - Single Radio, mid-call service with an incoming call in alerting phase and a held session\nFigure 6.3.2.1.7c-1 provides an information flow for Access Transfer of media of an IMS session in PS to CS direction for Access Transfers as specified in TS 23.216 [10].\nThe flow requires that the user has a held IMS originating or terminating session and an incoming call in alerting state; procedures and capabilities specified in TS 23.216 [10] are used for the switching of access networks at the transport layer. The Held session is being transferred (step 5-7) first by the network prior to the alerting session (step 10).\nFigure 6.3.2.1.7c-1: PS-CS: PS to CS - Single Radio, mid-call service with an incoming call in alerting phase\n1-4.\tStandard procedures are used to initiate a SIP session towards the UE, which has already an IMS session (held). The UE is notifying the user for the incoming session.\n5.\tProcedures specified in TS 23.216 [10] result in an INVITE to be sent with an STN-SR indicating use of Single Radio VCC procedures for Access Transfer to CS access. If the user is not IMS registered by the MSC Server, the MSC Server enhanced for SRVCC includes the C-MSISDN as calling party number. If the user is registered in the IMS by the MSC Server, then the MSC Server includes the GRUU into the session transfer request. The MSC Server indicates its capability to support mid-call services during session transfer.\n6.\tStandard procedures are used at I/S-CSCF for routeing of the INVITE to the SCC AS.\n7.\tThe SCC AS uses the STN-SR to determine that Access Transfer using Single Radio VCC is requested. The SCC AS may retrieve the C-MSISDN from the HSS. The SCC AS identifies the correct anchored session (i.e. the held session). The SCC AS proceeds with the Access Transfer of the held session for the UE by updating the Remote Leg with the media description and other information using the Remote Leg Update procedure as specified in clause 6.3.1.5.\nNOTE 1:\tIt is assumed the initial SDP negotiation has been completed prior to triggering the SRVCC, thus the SCC AS can update the remote leg.\nNOTE 2:\tThe SCC AS uses the C-MSISDN or GRUU to correlate the Access Transfer request.\n8.\tThe SCC AS provides session state information that the incoming speech call in alerting state and other session information as specified in clause 6.3.2.1.4a.\n9.\tThe S-CSCF forwards the session state information to the MSC Server.\n10.\tThe MSC Server receives the Session State Information which indicates one held and one session in alerting state. The MSC Server initiates Access Transfer towards SCC AS for the alerting session.\n11.\tThe MSC moves to the corresponding CS call state for the alerting session, e.g. Call Received in TS 24.008 [24].\nNOTE 3:\tIn call received state the MSC does not generate an in-band ring tone to the calling party.\n11b.\tIn parallel to step 11, the UE has received the HO command as described in TS 23.216 [10]. The UE determines the local call states in the SIP sessions, and creates the corresponding CS call states. The UE continues to indicate the user about for the incoming call.\n12.\tThe user answers the incoming call and the UE locally swaps the active call with the incoming call.\n12b.\tUE has one active and one held call.\n13.\tThe UE uses the standard procedure to send the CS connect message for the alerting call to MSC as e.g. described in TS 24.008 [24].\nNOTE 4:\tSolution for possible race conditions (e.g. MSC server receives the CS set call hold before the SCC AS responds) will be defined in Stage 3.\n13b.\tThe MSC has one active and one held call for the UE.\n14.\tThe MSC notifies the SCC AS the user has answered the call.\n15.\tStandard procedures are used at S-CSCF for routeing of the notification to the SCC AS.\n16.\tThe SCC AS creates the corresponding SIP request to the remote end and updates the remote leg.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3.2.1.1",
        "clause_6.3.1.6",
        "clause_6.3.1.5",
        "clause_6.3.2.1.4",
        "figure_6.3.2.1.7-1",
        "figure_6.3.2.1.7",
        "ts_23.292",
        "ts_23.216",
        "ts_24.008"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.2.1.8",
      "section_id": "6.3.2.1.8",
      "section_title": "PS - CS Access Transfer: Conferencing - for UEs not using ICS capabilities",
      "content": "When the UE is using a conference service and Access Transfer between PS and CS access networks happens, the conference information should be provided by the SCC AS.\nThe following procedures require that the use of network capabilities to support MSC Server assisted mid-call feature during Access Transfer is supported by the UE and the network according to clause 6.3.2.1.1a, clause 6.3.2.1.4a or clause 6.3.2.1.6 for PS to CS Access Transfer, and according to clause 6.3.2.1.2a for CS to PS Access Transfer. They further require that the MSC Server is enhanced for ICS as specified in TS 23.292 [5].\nWhen the UE in an on-going conference performs Access Transfer from PS to CS, the SCC AS shall provide the conference information (i.e. conference URI, identifier of all participants, etc.) to the MSC Server on the Target Access Leg. When the MSC Server receives the conference information, it shall create a conference state in CS access network (i.e. call in MPTY). When multiple multi-media sessions including a conference exist, if the active session being transferred or the selected additional session to be transferred is a conference call, the conference information shall also be included in the session state information to be sent by the SCC AS to the MSC Server. The MSC Server enhanced for ICS using the conference information then performs conference control on behalf of the UE as specified in clause 7.6.2.8 of TS 23.292 [5]. The MSC Server not enhanced for ICS performs conference control as specified in clause 7.6.3.6 of TS 23.292 [5] after the Access Transfer from PS to CS.\nMSC Server enhanced for ICS or the MSC Server not enhanced for ICS may subscribe the conference related events in IMS after the access transfer from PS to CS and when the MSC server receives the conference related events, it should inform the UE of the events.\nWhen the UE in an on-going conference performs Access Transfer from CS to PS, the SCC AS shall provide the conference information (i.e. conference URI, etc.) to the UE on the Target Access Leg. When multiple sessions including a conference exist, if the active session being transferred or the additional held session is a conference call, the conference information shall also be included in the Session State Information to be sent by the SCC AS to the UE. The UE then uses the conference information to control the conference in PS domain as specified in TS 24.147 [25].",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3.2.1.1",
        "clause_6.3.2.1.4",
        "clause_6.3.2.1.6",
        "clause_6.3.2.1.2",
        "ts_23.292_clause_7.6.2.8",
        "ts_23.292_clause_7.6.3.6",
        "ts_23.292",
        "ts_24.147"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.2.1.9",
      "section_id": "6.3.2.1.9",
      "section_title": "PS – CS Access Transfer: PS to CS – Single Radio using ATCF enhancements",
      "content": "6.3.2.1.9.1\tATCF with media anchored in ATGW\nThis clause describes the main differences with the (v)SRVCC procedures specified in clauses 6.3.2.1.4 and 6.3.2.1.4a for the case when the media is anchored in the ATGW and the ATCF enhancements are used. A pre-requisite for this scenario is that the ATCF has been included during the IMS registration according to clause 6.1.2. Some of the procedures that are not impacted have been left out for clarity of the flow.\nFigure 6.3.2.1.9.1-1: PS to CS Access Transfer when using ATCF enhancements and media anchored.\n1.\tInteraction between UE, RAN, MME/SGSN and MSC Server as specified in TS 23.216 [10]. The following step is triggered after the MSC Server has received the PS to CS request from the MME / SGSN and has allocated resources in the RAN.\nNOTE 1:\tIn case of PS HO taking place in parallel, and according to TS 23.216 [10] clauses 6.2.2.2 and 6.3.2.2, both the MSC Server and the target SGSN send independently the Reloc / HO Req to the target RAN. The target RAN synchronizes the PS and CS resource allocation based on information (received in transparent containers provided by the source RAN) before responding to both MSC Server and SGSN, which in turn respond to the source MME/SGSN. The source MME/SGSN will instruct the UE to move to the target RAN when having received responses from both SGSN and MSC Server.\n2.\tThe MSC Server initiates Access Transfer message, and if supported, the MSC Server indicates its capability to support MSC Server assisted mid-call feature. The MSC Server provides all the supported Codecs for voice or voice and video in the Access Transfer message.\nNOTE 2:\tIt is expected that the CS MGW will support the Codecs used for the PS session, and thereby the likelihood is minimized that ATCF has to instruct the ATGW to insert Codecs (i.e. for transcoding).\n3.\tThe ATCF receives the Access Transfer message and correlates the transferred session using the C-MSISDN. The ATCF identifies the correct anchored session and proceeds with the Access Transfer of the most recently active speech session. The ATCF updates the ATGW by replacing the existing PS access leg media path information with the new CS access leg media path information, by sending a Configure ATGW message to ATGW. ATCF may provide priority handling if the Access Transfer message contains priority indication.\nNOTE 3:\tThe ATCF could instruct the ATGW to keep using the local port of the PS access leg media path for the new CS access leg media path.\n4.\tThe ATGW sends Configure ATGW Acknowledgment message back to ATCF.\n5.\tThe ATCF sends an Access Transfer response to the MSC Server. The media path is switched to CS when receiving SDP information.\nNOTE 4:\tIf the ATCF instructs the ATGW to use the local port of the PS access leg media path for the new CS access leg media path, the Access Transfer response can be sent right after step 3.\nNOTE 5:\tSince step 2 to 5 are in parallel to step 1, the voice interruption starts when either the media is switched to the CS MGW controlled by the MSC Server enhanced for (v)SRVCC or when the UE starts to relocate to the target (whatever comes first). The media interruption ends when the UE has tuned to the target and media has switched to CS MGW (whatever comes last). It is assumed that the media is switched to CS MGW during the time the UE tunes to target.\n6.\tAfter receiving the Access Transfer message, the ATCF re-establishes the communication with the SCC AS and updates the SCC AS that the transfer has taken place by sending an Access Transfer Update message to the SCC AS using the stored ATU-STI. If the MSC server indicated it supported mid-call feature, it also indicates this in the message to the SCC AS. The Access Transfer Update creates a new dialogue between the ATCF and SCC AS. The SCC AS correlates the new dialog with the remote dialog (e.g., using the C-MSISDN). As there is no update in the session description, no remote end update will be performed.\nNOTE 6:\tThe new dialog between ATCF and SCC AS is needed to replace the old dialog that has been setup over the PS access leg (and registration). This is to ensure that if the PS registration for the user expires, the new home leg will not be released / affected.\n7.\tThe SCC AS sends confirmation response to the ATCF. If the SCC AS and MSC Server supports mid call feature, the SCC AS provides the SSI according to clause 6.3.2.1.4a.\n8.\tIf the ATCF receives the SSI, it forwards the SSI to the MSC server.\n9.\tIf the MSC Server receives the Session State Information of more than one active or inactive speech sessions, it initiates Access Transfer towards SCC AS for the additional session.\nNOTE 7:\tThe Access Leg for the control has moved over to the CS access.\n10.\tProcedures according to clause 6.3.2.1.4, steps 4a and 4b are used to handle the cases where the Gm reference point is either retained upon PS handover procedure, not retained upon PS handover, or if there was no other media flow(s) in the IMS session.\n6.3.2.1.9.2\tATCF without media anchored in ATGW\nThis clause describes the main differences with the (v)SRVCC procedures specified in clauses 6.3.2.1.4 and 6.3.2.1.4a for the case when the ATCF is included in the session path, but media has not been anchored in ATGW. Some of the procedures that are not impacted have been left out for clarity of the flow.\nFigure 6.3.2.1.9.2-1: PS to CS access transfer\n1.\tInteraction between UE, RAN, MME/SGSN and MSC Server as specified in TS 23.216 [10]. The following step is triggered after the MSC Server has received the PS to CS request from the MME / SGSN and has allocated resources in the RAN.\nNOTE 1:\tIn case of PS HO taking place in parallel, and according to TS 23.216 [10] clause 6.2.2.2 and clause 6.3.2.2, both the MSC Server and the target SGSN send independently the Reloc / HO Req to the target RAN. The target RAN synchronizes the PS and CS resource allocation based on information (received in transparent containers provided by the source RAN) before responding to both MSC Server and SGSN, which in turn respond to the source MME/SGSN. The source MME/SGSN will instruct the UE to move to the target RAN when having received responses from both SGSN and MSC Server.\n2.\tThe MSC Server initiates Access Transfer message and if supported, the MSC Server indicates its capability to support MSC Server assisted mid-call feature. The MSC Server provides all the supported Codecs for voice or voice and video in the Access Transfer message.\n3.\tThe ATCF receives the Access Transfer message and correlates the transferred session using the C-MSISDN. As the media flow has not been anchored in the ATGW, the ATCF forwards the Access Transfer message along with priority indication if received to the SCC AS using the stored ATU-STI. If the MSC server indicated it supported mid-call feature, it also indicates this in the message to the SCC AS.\n4.\tThe SCC AS correlates the incoming Access Transfer message. As the Session Description has changed, a remote end update is initiated according to clause 6.3.1.5.\n5.\tThe SCC AS sends an Access Transfer response to the MSC Server, and in the case MSC Server assisted mid-call feature is supported and used, the SCC AS provides Session State Information (SSI) according to clause 6.3.2.1.4a.\n6.\tThe ATCF forwards the response to the MSC server.\n7.\tIf the MSC Server receives the Session State Information of more than one active or inactive speech sessions, it initiates Access Transfer towards SCC AS for the additional session according to clause 6.3.2.1.4a.\n8.\tProcedures according to clause 6.3.2.1.4, steps 4a and 4b are used to handle the cases where the Gm reference point is either retained upon PS handover procedure, not retained upon PS handover, or if there was no other media flow(s) in the IMS session.\n6.3.2.1.9.3\tATCF not included during registration\nIf the decision by the ATCF during registration was not to be included at all, the SRVCC procedures will fall back to procedures according to clauses 6.3.2.1.4 and 6.3.2.1.4a.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.1.2",
        "clause_6.3.2.1.4",
        "ts_23.216_clause_6.2.2.2",
        "clause_6.3.2.2",
        "clause_6.3.1.5",
        "figure_6.3.2.1.9.1-1",
        "figure_6.3.2.1.9.2-1",
        "ts_23.216"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.2.1.10",
      "section_id": "6.3.2.1.10",
      "section_title": "PS - CS Access Transfer: CS to PS - Single Radio",
      "content": "6.3.2.1.10.1\tCS to PS - Single Radio procedures with CS media anchored in ATGW\nFigure 6.3.2.1.10.1-1 PS-CS: CS to PS - Single Radio, provides an information flow for Access Transfer of a CS speech media flow in CS to PS direction for Access Transfers within 3GPP access networks as specified in TS 23.216 [10].\nThe flow requires that the user is active or inactive in a CS originating or terminating speech session; procedures and capabilities specified in TS 23.216 [10] are used for the switching of access networks at the transport layer. It further requires that the UE has an active IMS registration prior the transfer take place.\nFigure 6.3.2.1.10-1: CS to PS - Single Radio procedures with CS media anchored in ATGW\n1.\tProcedures specified in TS 23.216 [10] result in that the MSC Server receives a CS to PS HO request.\n2.\tThe MSC Server initiates a Session Transfer Notification towards the ATCF, which indicates to the ATCF that it should prepare for the transfer of media to PS. The ATCF responds with information required for the transfer, including allocated media IP/ports for UL direction and UE's port for DL direction and voice codec information allocated in the ATGW.\nNOTE 1:\tThe ATCF retrieves the ports/codec information from the UE during the IMS registration.\n3.\tThe MSC Server performs the CS to PS HO preparation procedures by interacting with target MME/SGSN to initiate the handover according to TS 23.216 [10].\n4.\tWhen the target MME/SGSN have reserved appropriate resources in the target network, the MSC Server sends a Session Transfer Preparation request to the ATCF to instruct the ATCF that media should be switched to the target access and also triggers the UE to hand over to the target according to TS 23.216 [10].\n5.\tThe ATCF switches the media path in the ATGW from the source access to target access.\nNOTE 2:\tThe voice media will be sent on the target access on the pre-negotiated ports between UE and ATGW.\n6.\tThe UE initiates a Session Transfer Complete request to the ATCF to move the session control to the PS access. If mid-call and alerting is supported, the UE will include this in the request.\n7.\tThe ATCF sends a Session Transfer Complete response to the UE and releases the Source Access Leg toward the MSC Server.\nNOTE 3:\tPCC interactions will be performed by the P-CSCF according to standard procedures of TS 23.228 [4] during step 6 and step 7. This will create the dedicated voice bearer for the session.\n8.\tAfter receiving the Session Transfer Complete message, the ATCF re-establishes the communication with the SCC AS and updates the SCC AS that the transfer has taken place by sending an Access Transfer Update message to the SCC AS using the stored ATU-STI and C-MSISDN. If the UE indicated it supported mid-call feature and/or alerting, it also indicates this in the message to the SCC AS. The Access Transfer Update creates a new dialogue between the ATCF and SCC AS. The SCC AS correlates the new dialog with the remote dialog (e.g., using the C-MSISDN). As there is no update in the session description, no remote end update will be performed.\n9.\tThe SCC AS sends confirmation response to the ATCF. If the SCC AS and UE supports mid-call feature and/or alerting, the SCC AS provides the Session State Information (SSI) according to clause 6.3.2.1.2a. The Session State Information includes the additional held session with speech media including dynamic STI needed for the held session on the transferring-in leg.\n10-11.\tIf the ATCF receives the SSI, it forwards the SSI to the UE.\n12.\tIf the UE receives the Session State Information of the held session, it initiates a Access Transfer request towards the SCC AS using the dynamic STI for the held session.\n6.3.2.1.10.2\tCS to PS - Single Radio procedures without CS media anchored in ATGW\nFigure 6.3.2.1.10.1-2 PS-CS: CS to PS - Single Radio, provides an information flow for Access Transfer of a CS speech media flow in CS to PS direction for Access Transfers within 3GPP access networks as specified in TS 23.216 [10].\nThe flow requires that the user is active or inactive in a CS originating or terminating speech session; procedures and capabilities specified in TS 23.216 [10] are used for the switching of access networks at the transport layer. It further requires that the UE has an active IMS registration prior the transfer take place.\nFigure 6.3.2.1.10-2: CS to PS - Single Radio procedures without CS media anchored in ATGW\n1.\tProcedures specified in TS 23.216 [10] result in that the MSC Server receives an CS to PS HO request.\n2.\tThe MSC Server initiates a Session Transfer Notification towards the ATCF, which indicates to the ATCF that it should prepare for the transfer of media to PS. The ATCF responds with information required for the transfer, including allocated media IP/ports for UL direction and UE's port for DL direction and voice codec information allocated in the ATGW.\nNOTE 1:\tThe ATCF retrieves the ports/codec information from the UE during the IMS registration.\n3.\tThe MSC Server performs the CS to PS HO preparation procedures by interacting with target MME/SGSN to initiate the handover according to TS 23.216 [10].\n4.\tWhen the target MME/SGSN have reserved appropriate resources in the target network, the MSC Server sends a Session Transfer Preparation request to the ATCF.\n5.\tWhen receiving the Session Transfer Preparation request from the MSC Server, the ATCF reserves ATGW resources for the media path connected to MGW and then sends a Session Transfer Preparation response to the MSC Server. Upon receipt of the Session Transfer Preparation response, the MSC Server instructs the MGW to switch the media path from the source access (CS RAN) to the target access (ATGW), and also triggers the UE to hand over to the target according to TS 23.216 [10].\nNOTE 2:\tThe voice media will be sent on the target access on the designated ports between UE and ATGW.\n6.\tThe UE initiates a Session Transfer Complete request to the ATCF to move the session control to the PS access. If mid-call and alerting is supported, the UE will include this in the request.\n7.\tThe ATCF sends an Session Transfer Complete response to the UE.\nNOTE 3:\tPCC interactions will be performed by the P-CSCF according to standard procedures of TS 23.228 [4] during step 6 and step 7. This will create the dedicated voice bearer for the session.\n8.\tAfter receiving the Session Transfer Complete message, the ATCF re-establishes the communication with the SCC AS and updates the SCC AS that the transfer has taken place by sending an Access Transfer Update message to the SCC AS using the stored ATU-STI and C-MSISDN. If the UE indicated it supported mid-call feature and/or alerting, it also indicates this in the message to the SCC AS. The Access Transfer Update creates a new dialogue between the ATCF and SCC AS. The SCC AS correlates the new dialog with the remote dialog (e.g., using the C-MSISDN). As there is update in the session description, Remote Leg Update and Source Access Leg procedures (to release unused resources at the CS MGW) will be performed as specified in 6.3.1.5 and 6.3.1.6 respectively.\n9.\tThe SCC AS sends confirmation response to the ATCF. If the SCC AS and UE supports mid-call feature and/or alerting, the SCC AS provides the Session State Information (SSI) according to clause 6.3.2.1.2a. The Session State Information includes the additional held session with speech media including dynamic STI needed for the held session on the transferring-in leg.\n10-11.\tIf the ATCF receives the SSI, it forwards the SSI to the UE.\n12.\tIf the UE receives the Session State Information of the held session, it initiates an Access Transfer request towards the SCC AS using the dynamic STI for the held session.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3.2.1.2",
        "figure_6.3.2.1.10.1-1",
        "figure_6.3.2.1.10-1",
        "figure_6.3.2.1.10.1-2",
        "figure_6.3.2.1.10-2",
        "ts_23.216",
        "ts_23.228"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.2.2",
      "section_id": "6.3.2.2",
      "section_title": "PS - PS Access Transfer",
      "content": "NOTE:\tIf a PS-PS session transfer occurs and there is a change in IP address, TCP-based media flow(s) using transferring-out access will break. Recovery procedures from broken TCP connections are application specific.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_6.3.2.2.1",
      "section_id": "6.3.2.2.1",
      "section_title": "PS-PS Access Transfer with full media transfer",
      "content": "UE‑1 is attached to one IP-CAN and it registers to the S-CSCF. UE-1 establishes an active multimedia session with UE-2 via this IP‑CAN. After changing to a new IP‑CAN, obtaining new signalling and media addresses, and completing the Access Transfer procedures, UE‑1 continues the multimedia session with UE‑2 via the new IP‑CAN.\nFigure 6.3.2.2.1-1: Information flow for PS-PS Access Transfer\n1.\tUE‑1 connects to a new IP‑CAN and receives new IP address(es). UE‑1 decides to perform PS to PS Access Transfer based on SC policy information.\n2.\tUE‑1 registers to the S‑CSCF via the new IP‑CAN. This registration may go through the same P‑CSCF or a different P‑CSCF.\n3 ~ 5.\tUE‑1 sends an INVITE message on the new IP-CAN towards the SCC AS. The INVITE message includes the STI identifying the session to be transferred. The INVITE message also indicates to the SCC AS that it performs Access Transfer with full media transfer.\n6.\tThe SCC AS identifies the session based on STI and updates the session over the remote access leg (see clause 6.3.1.5).\n7.\tThe SCC AS completes session setup with UE-1 on the new access leg and releases old session based on the standard IMS procedures.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3.1.5",
        "figure_6.3.2.2.1-1"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.2.2.2",
      "section_id": "6.3.2.2.2",
      "section_title": "PS-PS Access Transfer with partial media transfer",
      "content": "UE‑1 is on an active multimedia session with UE‑2 via one IP‑CAN. After changing to a new IP‑CAN and obtaining new signalling and media addresses, UE‑1 transfers part of the multimedia session with UE‑2 to the new IP‑CAN and keeps the remaining part on the original IP‑CAN. UE‑1 is attached to both the new and old IP‑CANs after the Access Transfer procedures. The call flow is the same as shown in clause 6.3.2.2.1. The only difference is that in Step 3, the INVITE needs to indicate that the request is for a partial transfer and instead of releasing the old session in step 7, the UE updates session information over the old access leg. In this case, the INVITE message sent in step 3 shall indicate the media flow(s) which need to be transferred to the new IP‑CAN.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3.2.2.1"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.2.2.3",
      "section_id": "6.3.2.2.3",
      "section_title": "PS-PS Access Transfer with full media transfer for an incoming call in early dialog phase",
      "content": "UE‑1 is attached to IP‑CAN 1 and registered to IMS over that IP‑CAN. UE-1 and is in the process of establishing an incoming multimedia session with UE‑2 via this IP CAN. While an early dialog has been established over IP‑CAN 1, UE‑1 detects that an Access Transfer to IP‑CAN 2 is required.\nFigure 6.3.2.2.3-1: PS-PS Access Transfer with full media transfer incoming call in early dialog phase\n1-4.\tStandard procedures are used to initiate a SIP session over IP CAN 1 from the remote end towards UE‑1. An early dialog has been established and UE‑1 might be alerting the user.\n5-6.\tIf it has not done it yet, UE‑1 connects to a new IP‑CAN, IP‑CAN 2, and receives new IP address(es). It then registers to the S‑CSCF via IP‑CAN 2. This registration may go through the same P‑CSCF or a different P‑CSCF. UE 1 decides to perform PS to PS Access Transfer based on SC policy information.\n7-8.\tUE 1 sends an INVITE message on IP‑CAN2 towards the SCC AS. The INVITE message includes the STI identifying the session to be transferred. The INVITE message also indicates to the SCC AS that it performs Access Transfer with full media transfer.\n9.\tThe SCC AS identifies the early dialog, and updates the session over the remote access leg (see clause 6.3.1.5).\nNOTE 1:\tIt is assumed the initial SDP negotiation has been completed prior to triggering the PS-PS access transfer, thus the SCC AS can update the remote leg.\n10-11.\tThe SCC AS answers to UE‑1 over IP‑CAN 2 with the appropriate message to have the new session moved to the same state as the session on the transferred out access.\n12. The UE determines that the session has been transferred to IP‑CAN 2, and continues to alert the user for incoming call if appropriate.\n13-15.\tUE‑1 sends the final response. The remote end is notified, and the session starts over IP‑CAN 2.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3.1.5",
        "figure_6.3.2.2.3-1"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.2.2.4",
      "section_id": "6.3.2.2.4",
      "section_title": "PS-PS Access Transfer with full media transfer for an outgoing call in early dialog phase",
      "content": "UE‑1 is attached to IP‑CAN 1 and registered to IMS over that IP‑CAN. UE‑1 and is in the process of establishing an outgoing multimedia session with UE‑2 via this IP‑CAN. While an early dialog has been established over IP‑CAN 1, UE‑1 detects that an Access Transfer to IP‑CAN 2 is required.\nFigure 6.3.2.2.4-1: PS-PS Access Transfer with full media transfer outgoing call in early dialog phase\n1-4.\tStandard procedures are used to initiate a SIP session over IP‑CAN 1 from the UE towards the remote end. An early dialog has been established and the remote end might be alerting the user.\n5-6.\tIf the UE has not done it yet, UE‑1 connects to a new IP‑CAN, IP‑CAN 2, and receives new IP address(es). It then registers to the S‑CSCF via IP‑CAN 2. This registration may go through the same P‑CSCF or a different P‑CSCF. UE‑1 decides to perform PS to PS Access Transfer based on SC policy information.\n7-8.\tUE‑1 sends an INVITE message on IP‑CAN2 towards the SCC AS. The INVITE message includes the STI identifying the session. The INVITE message also indicates to the SCC AS that it performs Access Transfer with full media transfer.\n9.\tThe SCC AS identifies the early dialog, and updates the session over the remote access leg (see clause 6.3.1.5).\nNOTE 1:\tIt is assumed the initial SDP negotiation has been completed prior to triggering the PS-PS access transfer, thus the SCC AS can update the remote leg.\n10-11.\tThe SCC AS answers to UE‑1 over IP‑CAN 2 with the appropriate message to have the new session moved to the same state as the session on the transferred out access.\n12. The UE determines that the session has been transferred to IP‑CAN 2. The UE ensures that the same ringback tone is played to the end user if appropriate.\n13-14.\tThe remote end sends the final response. UE‑1 is notified, and the session starts over IP‑CAN 2.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3.1.5",
        "figure_6.3.2.2.4-1"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.2.3.1",
      "section_id": "6.3.2.3.1",
      "section_title": "PS - PS in conjunction with PS - CS Access Transfer: PS to CS for UEs not using ICS capabilities",
      "content": "It is required that the UE has a single ongoing IMS session containing speech or speech and video and other media with the remote end. After the Access Transfer, the two sessions are treated as independent sessions on the transferring-in Access Legs for mid-call service (e.g. hold of PS or CS media).\nFigure 6.3.2.3.1-1: PS-PS in conjunction with PS-CS Access Transfer: PS to CS\n1.\tWhen the UE determines a need for Access Transfer, the UE attaches to CS (if not already attached). It subsequently initiates the PS–CS Access Transfer by sending a CS call setup including the STN to establish the Access Leg via the CS access. A static STN preconfigured to the UE is used.\n2.\tAn INVITE is routed to the I/S-CSCF.\n3.\tAn INVITE is routed to the SCC AS.\n4.\tThe SCC AS performs the Remote Leg update by using procedures defined in clause 6.3.1.5. The SCC AS updates the speech or speech and video media being transferred in the session towards the Remote Leg.\n5.\tThe SCC AS completes the session setup towards UE according to procedures defined in TS 23.228 [4].\n6.\tThe UE initiates registration with IMS via the new PS access (if not already registered) as specified in clause 6.1. It subsequently initiates the PS–PS Access Transfer by sending an INVITE including the SDP for the non-real-time media flow(s) and STI to establish the Access Leg via the PS access. A dynamic STI allocated at the time of IMS session creation is used.\n7.\tAn INVITE is routed to the SCC AS.\n8.\tThe SCC AS identifies the session to be transferred using the STI. The SCC AS performs the Remote Leg update by using procedures defined in clause 6.3.1.5. The SCC AS updates the non-real-time media flow(s) in the session towards the Remote Leg.\n9.\tThe SCC AS completes the session setup towards UE according to procedures defined in TS 23.228 [4].\n10.\tSource Access Leg Release is performed according to the procedures defined in clause 6.3.1.6.\nNOTE:\tSteps 1-5 can be performed in reversed order with steps 6‑8.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3.1.5",
        "clause_6.1",
        "clause_6.3.1.6",
        "figure_6.3.2.3.1-1",
        "ts_23.228"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.2.3.2",
      "section_id": "6.3.2.3.2",
      "section_title": "PS - PS in conjunction with PS - CS Access Transfer: CS to PS for UEs not using ICS capabilities",
      "content": "It is required that the UE has an ongoing CS call and a related IMS session with the remote end.\nFigure 6.3.2.3.2-1: PS-PS in conjunction with PS-CS Access transfer: CS to PS\n1.\tWhen the UE determines a need for Access Transfer, the UE initiates registration with IMS via the new PS access (if not already registered) as specified in clause 6.1. It subsequently initiates the Access Transfer by sending an INVITE to establish the Access Leg via the PS access. The INVITE includes the SDP for speech or speech and video and non-real-time media flow(s) and STI-1 and STI-2 respectively for the IMS session using CS and the IMS session using PS to be transferred. For STI-1 a static STI preconfigured to the UE is used. For STI-2 a dynamic STI allocated at the time of IMS session creation is used. STI-1 and STI-2 are never the same.\n2.\tStandard procedures are used at S-CSCF for routing of the INVITE to the SCC AS.\n3.\tThe SCC AS identifies the session to be transferred using the STI-1 and STI-2. The SCC AS performs the Remote Leg Update by using procedures defined in clause 6.3.1.5. The SCC AS updates the combined session towards the Remote Leg.\n4.\tThe SCC AS completes the session setup towards UE-1 according to procedures defined in TS 23.228 [4].\n5.\tSource Access Leg Release is performed according to the procedures defined in clause 6.3.1.6.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.1",
        "clause_6.3.1.5",
        "clause_6.3.1.6",
        "figure_6.3.2.3.2-1",
        "ts_23.228"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.2.3.3",
      "section_id": "6.3.2.3.3",
      "section_title": "PS – PS in conjunction with PS - CS Access Transfer: PS to CS for UEs with ICS capabilities - Using Gm reference point",
      "content": "Figure 6.3.2.3.3-1 PS-PS in conjunction with PS–CS Access Transfer: PS to CS for UEs with ICS capabilities, provides an information flow for Access Transfer of real time media flow(s) of an IMS session in PS to CS direction and zero or more non real time media flow(s) in PS to PS direction. The UE may choose to retain some of the non real time media flow(s) in the original PS access.\nThe flow requires that the user is in an active or inactive IMS originating or terminating session; the Gm reference point of ICS is used for control of IMS sessions that use CS media.\nFigure 6.3.2.3.3-1: PS-PS in conjunction with PS-CS Access transfer: PS to CS for UEs with ICS capabilities\n1.\tWhen the UE determines a need for Access Transfer, the UE initiates registration with IMS via the new PS access (if not already registered) as specified in clause 6.1. It subsequently initiates the \"Originations with CS media using the Gm reference point\" procedure as specified in TS 23.292 [5], clause 7.3.2.2.4 by sending an INVITE including the STI to establish the Access Leg via the PS access. The INVITE also includes an indication to use a CS bearer for the real time media and a description of non real time media flow(s) that are to be transferred to the new PS access if any non real time media is present at the time of initiation of Access Transfer.\n2.\tStandard procedures are used at S-CSCF for routing of the INVITE to the SCC AS.\n3.\tThe SCC AS identifies the session to be transferred using the STI and the media flow(s), and continues the \"Originations with CS media using the Gm reference point\" procedure for completion of the setup of CS media for the Access Leg by allocating a SCC AS PSI DN and sending it in a reliable provisional response to the S-CSCF (see TS 23.292 [5] for SCC AS PSI DN).\n4.\tThe S-CSCF forwards the provisional response (containing the SCC AS PSI DN) to the UE.\n5.\tThe UE continues the \"Originations with CS media using the Gm reference point\" procedure by sending a Setup message including the SCC AS PSI DN to establish the CS media for the Access Leg.\n6.\tThe \"Originations with CS media using Gm reference point procedure\" is used at the CS and IMS intermediate nodes, resulting in routing of an INVITE to the I/S-CSCF.\n7.\tThe I/S-CSCF extends the INVITE with the SCC AS PSI and SDP of the MGW as part of the \"Originations with CS media using the Gm reference point\" procedure.\n8.\tThe SCC AS uses the SCC AS PSI to correlate the incoming session via the CS access with the Access Transfer request previously received via the PS access.\nThe SCC AS completes the establishment of the Access Leg by combining the description of the media established via the CS access with the description of the media flow(s) established via the PS access for the signalling associated with the Access Leg.\nThe SCC AS performs the Access Transfer by updating the Remote Leg with the media description and other information of the newly established Access Leg using the Remote Leg Update procedure as specified in clause 6.3.1.5.\n9a.\tIf the UE transfers all the non real time media flow(s) to the new PS access, the Source Access Leg (which is the Access Leg previously established over PS access) is released as specified in clause 6.3.1.6.\n9b. If the UE chooses to retain some media flow(s) in the original PS access, then:\n9b1.\tthe UE sends an INVITE to the SCC AS (as part of the existing dialog) to update the session information over the Source Access Leg; and\n9b2.\tthe SCC AS performs the Remote Leg update (if necessary) by using procedures defined in clause 6.3.1.5. The Source Access Leg is not released in this case.\nNOTE:\tSteps 8 and 9 consist of a sequence of messages, some of which may occur in parallel.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.1",
        "ts_23.292_clause_7.3.2.2.4",
        "clause_6.3.1.5",
        "clause_6.3.1.6",
        "figure_6.3.2.3.3-1",
        "ts_23.292"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.2.3.4",
      "section_id": "6.3.2.3.4",
      "section_title": "PS - PS in conjunction with PS - CS Access Transfer: CS to PS for UEs with ICS capabilities - Using Gm reference point",
      "content": "The information flow for Access Transfer of real time media of an IMS session in CS to PS direction, and zero or more non real time media flow(s) in PS to PS direction is the same as the information flow for PS–CS Access Transfer: CS to PS access, as specified in clause 6.3.2.1.2.\nThe flow requires that the user is in an active or inactive IMS originating or terminating session; the Gm reference point of ICS is used for control of IMS sessions that use CS media; and a dynamic STI is associated with each session.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3.2.1.2"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.2.3.5",
      "section_id": "6.3.2.3.5",
      "section_title": "PS – PS in conjunction with PS – CS Access Transfer: Active/Held sessions - Using Gm reference point",
      "content": "Figure 6.3.2.3.5-1 PS–PS in conjunction with PS–CS Access Transfer: Active/Held sessions, provides an information flow for Access Transfer of real time media flow(s) of one active and one or more held sessions between PS and CS, any of which may have zero or more non real time media flow(s) which is transferred within the PS access.\nThe flow requires that the user is in an active IMS originating and/or terminating sessions; the Gm reference point of ICS is used for control of IMS sessions that use CS media; and a dynamic STI is associated with each session.\nFigure 6.3.2.3.5-1: PS-PS in conjunction with PS-CS Access transfer: Active/Held sessions\n1a, 1b.\tWhen the UE determines a need for Access Transfer, the UE initiates the Access Transfer of the active session as specified in clause 6.3.2.3.3 PS–PS in conjunction with PS–CS Access Transfer: PS to CS for UEs with ICS capabilities, or clause 6.3.2.3.4 PS–PS in conjunction with PS-CS Access Transfer: CS to PS for UEs with ICS capabilities, based on the direction of the Access Transfer of the real time media. The STI of the active session is used by SCC AS to identify the active session.\n1c.\tThe UE and the SCC AS complete the Access Transfer of the active session.\n2a, 2b.\tThe UE initiates the Access Transfer of the first held session using the same procedures as identified in steps 1a and 1b with a difference that for transfer to CS access, the CS media is not established for the held session; the media established upon the transfer of the currently active session is reused for the held session when it is resumed. The STI of the held session is used by SCC AS to identify the held session.\n2c.\tThe UE and the SCC AS complete the Access Transfer of the held session.\nSteps 2a, 2b and 2c are repeated for the remaining held sessions.\nNOTE 1:\tSteps 1c and 2c consist of a sequence of messages, which may occur in parallel.\nNOTE 2:\tAnother supported scenario is when there are no active sessions, i.e. the session in 1a and 1b may also be a held session.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3.2.3.3",
        "clause_6.3.2.3.4",
        "figure_6.3.2.3.5-1"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.2.3.6",
      "section_id": "6.3.2.3.6",
      "section_title": "PS – PS in conjunction with PS – CS Access Transfer: Explicit Communication Transfer - Using Gm reference point",
      "content": "Prior to consultative transfer, the transferor UE may have one session with the transferee UE and one session with the transfer target UE. If the transferor UE performs Access Transfer in this case, the information flow for PS–PS in conjunction with PS–CS Access Transfer: Explicit Communication Transfer is the same as the information flow in clause 6.3.2.3.5 PS–PS in conjunction with PS–CS Access Transfer: Active/held sessions.\nFor all other cases in ECT service, there is only one session at the UE. Depending on the direction of the Access transfer, the following information flows apply:\n-\tthe information flow in clause 6.3.2.3.3 for PS-PS in conjunction with PS-CS Access Transfer: PS to CS; or,\n-\tthe information flow in clause 6.3.2.3.4 for PS-PS in conjunction with PS-CS Access Transfer: CS to PS.\nThe flow requires that the user is active in IMS originating and/or terminating sessions with the Explicit Communication Transfer service; the Gm reference point of ICS is used for control of IMS sessions that use CS media; and a dynamic STI is associated with each session.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3.2.3.5",
        "clause_6.3.2.3.3",
        "clause_6.3.2.3.4"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.2.3.7",
      "section_id": "6.3.2.3.7",
      "section_title": "PS – PS in conjunction with PS – CS Access Transfer: Conferencing - Using Gm reference point",
      "content": "The information flows for PS–PS in conjunction with PS–CS Access Transfer: Conferencing in PS to CS and CS to PS directions, are the same as the information flows in clause 6.3.2.3.3 PS–PS in conjunction with PS–CS Access Transfer: PS to CS for UEs with ICS capabilities, and clause 6.3.2.3.4 PS–PS in conjunction with PS–CS Access Transfer: CS to PS for UEs with ICS capabilities respectively.\nThe flow requires that the user is in an active or inactive IMS originating and/or terminating sessions with the Conferencing service; the Gm reference point of ICS is used for control of IMS sessions that use CS media.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3.2.3.3",
        "clause_6.3.2.3.4"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.2.3.8",
      "section_id": "6.3.2.3.8",
      "section_title": "PS – PS in conjunction with PS – CS Access Transfer: PS to CS – using I1 reference point",
      "content": "Figure 6.3.2.3.8-1 PS‑CS in conjunction with PS‑CS Access Transfer: PS to CS access - using I1 reference point, provides an information flow for Access Transfer of real time media flow(s) of an IMS session in PS to CS direction.\nThe flow requires that the user is in an active or inactive IMS originating or terminating session; the I1 reference point of ICS is used for control of IMS sessions that use CS media; and a unique STI is associated with each session.\nFigure 6.3.2.3.8-1: PS–CS in conjunction with PS–CS Access Transfer: PS to CS access - using I1 reference point\n1.\tWhen the UE determines a need for Access Transfer, the UE initiates registration with IMS via the new PS access (if not already registered) as specified in clause 6.1. It subsequently initiates the \"Originations to a SIP URI\" procedure as specified in TS 23.292 [5], clause 7.3.2.2.2.1 by sending an I1, ICS Call Initiation including the STI to establish the Access Leg via the PS access.\n2.\tThe SCC AS identifies the session to be transferred using the STI, and continues the \"Originations to a SIP URI\" procedure for completion of the setup of CS media for the Access Leg by allocating a SCC AS PSI DN and sending it in an I1, ICS Call Initiation Result; see TS 23.292 [5] for SCC AS PSI DN.\n3.\tThe UE continues the \"Originations to a SIP URI\" procedure by sending a Setup message including the SCC AS PSI DN to establish the CS media for the Access Leg.\n4.\tThe \"Originations to a SIP URI\" procedure is used at the CS and IMS intermediate nodes, resulting in routeing of an INVITE with the SCC AS PSI to the I/S-CSCF.\n5.\tThe I/S-CSCF forwards the INVITE with the SCC AS PSI and SDP of the MGW as part of the \"Originations with CS media using the Gm reference point\" procedure.\n6.\tThe SCC AS uses the SCC AS PSI to correlate the CS bearer control signalling request received via the CS access with the Access Transfer request previously received via the PS access.\nThe SCC AS completes the establishment of the Access Leg by combining the description of the media established via the CS access with the description of the media flow(s) established via the PS access for the signalling associated with the Access Leg.\nThe SCC AS performs the Access Transfer by updating the Remote Leg with the media description and other information of the newly established Access Leg using the Remote Leg Update procedure as specified in clause 6.3.5.\n7.\tThe Source Access Leg (which is the Access Leg previously established over PS access) is released as specified in clause 6.3.6.\nNOTE:\tSteps 6 and 7 consist of a sequence of messages, some of which may occur in parallel.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.1",
        "ts_23.292_clause_7.3.2.2.2.1",
        "clause_6.3.5",
        "clause_6.3.6",
        "figure_6.3.2.3.8-1",
        "ts_23.292"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.2.3.9",
      "section_id": "6.3.2.3.9",
      "section_title": "PS - PS in conjunction with PS - CS Access Transfer: CS to PS - using I1 reference point",
      "content": "The information flow for Access Transfer of real time media of an IMS session in CS to PS direction when the I1 reference point is used for service control of sessions that use CS media, is the same as the information flow PS–CS Access Transfer: CS to PS access, as specified in clause 6.3.2.1.2.\nThe flow requires that the user is in an active or inactive IMS originating or terminating session; the I1 reference point of ICS is used for control of IMS sessions that use CS media; and a unique STI is associated with each session.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3.2.1.2"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.2.3.10",
      "section_id": "6.3.2.3.10",
      "section_title": "PS - PS in conjunction with PS - CS Access Transfer: PS to CS for Active/Held sessions - using I1 reference point",
      "content": "Figure 6.3.2.3.10-1 PS – PS in conjunction with PS – CS Access Transfer: PS to CS for Active/Held sessions – using I1 reference point, provides an information flow for Access Transfer of real time media of one active and one or more held sessions from PS to CS when the I1 reference point is used for service control of sessions that use CS media.\nThe flow requires that the user is active in IMS originating and/or terminating sessions; the I1 reference point of ICS is used for control of IMS sessions that use CS media; and a unique STI is associated with each session.\nFigure 6.3.2.3.10-1: PS – PS in conjunction with PS – CS Access Transfer: PS to CS for Active/Held sessions – using I1 reference point\n1a.\tWhen the UE determines a need for Access Transfer, the UE initiates the Access Transfer of the active session as specified in clause 6.3.2.3.8 PS – PS in conjunction with PS – CS Access Transfer: PS to CS – using I1 reference point The STI of the active session is used by SCC AS to identify the active session.\n1b.\tThe UE and the SCC AS complete the Access Transfer of the active session.\n2a.\tThe UE initiates the Access Transfer of the first held session using the same procedures as identified in steps 1a and 1b with a difference that the CS media is not established for the held session; the media path established upon transfer of the currently active session is reused for the held session when it is resumed. The STI of the held session is used by SCC AS to identify the held session.\n2b.\tThe UE and the SCC AS complete the Access Transfer of the held session.\nSteps 2a and 2b are repeated for the remaining held sessions.\nNOTE 1:\tSteps 1b and 2b consist of a sequence of messages, which may occur in parallel.\nNOTE 2:\tAnother supported scenario is when there are no active sessions, i.e. the session in 1a and 1b may also be a held session.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3.2.3.8",
        "figure_6.3.2.3.10-1"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.2.3.11",
      "section_id": "6.3.2.3.11",
      "section_title": "PS - PS in conjunction with PS - CS Access Transfer: CS to PS for Active/Held sessions - using I1 reference point",
      "content": "Figure 6.3.2.3.11-1 PS – PS in conjunction with PS – CS Access Transfer: CS to PS for Active/Held sessions – using I1 reference point, provides an information flow for Access Transfer of real time media of one active and one or more held sessions from CS to PS when the I1 reference point is used for service control of sessions that use CS media.\nThe flow requires that the user is active in IMS originating and/or terminating sessions; the I1 reference point of ICS is used for control of IMS sessions that use CS media; and a unique STI is associated with each session.\nFigure 6.3.2.3.11-1: PS – PS in conjunction with PS – CS Access Transfer: CS to PS for Active/Held sessions - using I1 reference point\n1a, 1b.\tWhen the UE determines a need for Access Transfer, the UE initiates the Access Transfer of the active session as specified in clause 6.3.2.3.9 PS – PS in conjunction with PS – CS Access Transfer: CS to PS - using I1 reference point. The STI of the active session is used by SCC AS to identify the active session.\n1c.\tThe UE and the SCC AS complete the Access Transfer of the active session.\n2a, 2b.\tThe UE initiates the Access Transfer of the first held session using the same procedures as identified in steps 1a, 1b and 1c. The STI of the held session is used by SCC AS to identify the held session.\n2c.\tThe UE and the SCC AS complete the Access Transfer of the held session.\nSteps 2a, 2b and 2c are repeated for the remaining held sessions.\nNOTE:\tSteps 1c and 2c consist of a sequence of messages, which may occur in parallel.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3.2.3.9",
        "figure_6.3.2.3.11-1"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.3.1",
      "section_id": "6.3.3.1",
      "section_title": "Local End Initiation case: Adding new PS media to existing CS session",
      "content": "The call flow in figure 6.3.3.1-1 presents a scenario where UE‑1 adds PS media flow(s) (e.g. video) to an existing multimedia session that only contains CS media. As a post condition the UE‑1 has an ongoing CS call and a related IMS session with the remote end.\nFigure 6.3.3.1-1: Local End Initiation case: Adding new PS media to existing CS session\n1.\tA multimedia session between UE‑1 and UE‑2 is established as either originated or terminated session with CS media as described in TS 23.292 [5] clauses 7.3.2.1 and 7.4.2.1, respectively i.e. UE‑1 is not using the ICS capability and therefore not using the Gm reference point during the session establishment.\n2.\tUE-1 requests to add one or more PS media component(s) to the existing CS Call by sending an INVITE containing description of the new PS media towards SCC AS to establish a new Access Leg. UE‑1 provides description of the new media and the information necessary for the SCC AS to identify the existing session.\n3.\tThe S-CSCF executes any service logic as appropriate.\n4.\tThe S-CSCF sends the INVITE to the SCC AS.\n5.\tThe SCC AS determines that the INVITE is related to an existing session using the information provided by UE-1 and decides to add the new media flow to the session.\nNOTE:\tIf SCC AS decides that the request is not related to an existing session, it handles the INVITE as a new session as described in clause 6.2.1.3 Session origination using PS media flow(s) only.\n6.\tThe SCC AS performs the Remote Leg Update using procedures defined in clause 6.3.1.5.\n7.\tThe SCC AS completes the session setup towards UE-1 according to procedures defined in TS 23.228 [4].",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.2.1.3",
        "clause_6.3.1.5",
        "figure_6.3.3.1-1",
        "ts_23.292",
        "ts_23.228"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.3.2",
      "section_id": "6.3.3.2",
      "section_title": "Local End Initiation case: Incorporating existing CS media in new IMS Session and Gm Service Control",
      "content": "The call flow in figure 6.3.3.2-1 presents a scenario where UE‑1 adds PS media component(s) (e.g. video) and Gm Service Control Signalling Path to an existing multimedia session that only contains CS media. Following this scenario the session is controlled using ICS capability.\nFigure 6.3.3.2-1: Local End Initiation case: Incorporating existing CS media in new IMS Session and Gm Service Control Signalling Path\n1.\tA multimedia session between UE‑1 and UE‑2 is established as either originated or terminated session with CS media as described in TS 23.292 [5] clauses 7.3.2.1 and 7.4.2.1, respectively i.e. UE‑1 is not using the ICS capability and therefore not using the Gm reference point during the session establishment.\n2.\tUE-1 requests to add one or more PS media component(s) and to control the CS media using ICS capabilities by an INVITE towards SCC AS to establish a new session. The request contains the description of the new PS media and indicates that control of the existing CS media is transferred to the new session. UE‑1 provides information necessary for the SCC AS to identify the existing session and to request addition of the media flow to the existing session.\n3.\tThe S-CSCF executes any service logic as appropriate.\n4.\tThe S-CSCF sends the INVITE to the SCC AS.\n5.\tThe SCC AS determines that the INVITE is related to an existing session using the information provided by UE‑1 and adds the new media flow to the session.\n6.\tThe SCC AS performs the Remote Leg update using procedures defined in clause 6.3.1.5.\n7.\tThe SCC AS completes the session setup towards UE-1 according to procedures defined in TS 23.228 [4].",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3.1.5",
        "figure_6.3.3.2-1",
        "ts_23.292",
        "ts_23.228"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.3.3",
      "section_id": "6.3.3.3",
      "section_title": "Local End Initiation case: Adding PS media to IMS session with CS media",
      "content": "The call flow in figure 6.3.3.3-1 presents a scenario where UE-1 adds PS media component(s) (e.g. video) to an existing multimedia session that contains CS media and is controlled using ICS capability.\nFigure 6.3.3.3-1: Local End Initiation case: Adding PS media to IMS session with CS media\n1.\tAn IMS session between UE-1 and UE-2 is established as either originated or terminated session with CS media as described in TS 23.292 [5] clauses 7.3.2.2.4 and 7.4.2.2.2.2, respectively i.e. UE-1 is using the ICS capability and therefore the Gm reference point during the session establishment.\n2.\tUE-1 initiates a request to add the PS media flow(s) to the existing IMS session.\n3.\tThe S-CSCF executes any service logic as appropriate.\n4.\tThe S-CSCF sends the INVITE to the SCC AS.\n5.\tThe SCC AS performs the Remote Leg Update using procedures defined in clause 6.3.1.5.\n6.\tThe SCC AS completes the session setup towards UE-1 according to procedures defined in TS 23.228 [4].",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3.1.5",
        "figure_6.3.3.3-1",
        "ts_23.292",
        "ts_23.228"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.3.4",
      "section_id": "6.3.3.4",
      "section_title": "Remote End Initiation case: Adding new PS media to existing CS session",
      "content": "The call flow in figure 6.3.3.4-1 presents a scenario where UE‑1 has an existing CS session with UE‑2 and UE‑2 adds new media flow(s) to the session and the new media flow is delivered via PS access towards UE‑1.\nFigure 6.3.3.4-1: Remote End Initiation case: Adding new PS media to existing CS session\n1.\tA CS session between UE‑1 and UE‑2 is established as either originated or terminated session with CS media as described in TS 23.292 [5] clauses 7.3.2.1 and 7.4.2.1, respectively, i.e. UE‑1 is not using the ICS capability and therefore not using the Gm reference point during the session establishment.\n2.\tS‑CSCF receives a request from UE‑2 to add new PS media flow(s) (e.g. video) to the existing session.\n3.\tS‑CSCF forwards the request to SCC AS, which is anchored on the session path.\n4.\tThe T‑ADS function in the SCC AS decides that the new media flow is delivered to UE‑1 via PS access and therefore splits the session. T‑ADS in the SCC AS uses the C‑MSISDN for correlation, and then ensures the split session is delivered only to UE‑1, and not delivered to other UEs of the user.\n5-6.\tSCC AS initiates a new session towards UE‑1. The request includes the new PS media flow. The SCC AS includes enough information within the session request to allow UE-1 to correlate this new session with the existing CS session.\n7.\tUE‑1 accepts the new session and completes the session setup via PS access.\n8.\tThe SCC AS completes the Remote Leg towards UE‑2 according to procedures defined in TS 23.228 [4].",
      "chunk_type": "general",
      "cross_references": [
        "figure_6.3.3.4-1",
        "ts_23.292",
        "ts_23.228"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.3.5",
      "section_id": "6.3.3.5",
      "section_title": "Remote End Initiation case: Incorporating existing CS media in new IMS Session and Gm Service Control",
      "content": "The call flow in figure 6.3.3.5-1 presents a scenario where UE‑1 has an existing CS session with UE‑2 and UE‑2 adds new media flow(s) to the session. The new media flow(s) is delivered via PS access towards UE‑1 and Gm Service Control Signalling Path is added. Following this scenario the session is controlled using ICS capability.\nFigure 6.3.3.5-1: Remote End Initiation case: Incorporating existing CS media in new IMS Session and Gm Service Control Signalling Path\n1.\tA CS session between UE‑1 and UE‑2 is established as either originated or terminated session with CS media as described in TS 23.292 [5] clauses 7.3.2.1 and 7.4.2.1, respectively i.e. UE‑1 is not using the ICS capability and therefore not using the Gm reference point during the session establishment.\n2.\tS‑CSCF receives a request from UE‑2 to add new PS media flow (e.g. video) to the existing session.\n3.\tS‑CSCF forwards the request to SCC AS, which is anchored on the session path.\n4.\tThe T‑ADS function in the SCC AS decides that the new media flow is delivered to UE‑1 via PS access and therefore initiates a new session using the Gm reference point using ICS capabilities as specified in TS 23.292 [5]. SCC AS decides to establish the Gm Service Control Signalling Path together with the media addition using the ICS capability. T‑ADS in the SCC AS uses the C‑MSISDN for correlation, and then ensures the new session is delivered only to UE‑1, and not delivered to other UEs of the user.\n5‑6.\tSCC AS initiates a new session towards UE‑1. The request includes the new PS media and indicates that the existing CS media is moved to and controlled over this session.\n7.\tUE‑1 accepts the new session and completes the session setup via PS access.\n8.\tThe SCC AS completes the Remote Leg towards UE‑2 according to procedures defined in TS 23.228 [4].",
      "chunk_type": "general",
      "cross_references": [
        "figure_6.3.3.5-1",
        "ts_23.292",
        "ts_23.228"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.3.6",
      "section_id": "6.3.3.6",
      "section_title": "Remote End Initiation case: Adding PS media to IMS session with CS media",
      "content": "The call flow in figure 6.3.3.6-1 presents a scenario where UE‑1 has an existing session that contains CS media and Gm Service Control Signalling Path with UE‑2 and UE‑2 adds new media to the session. The new media is delivered together with the Gm Service Control Signalling Path towards UE‑1.\nFigure 6.3.3.6-1: Remote End Initiation case: adding PS media to IMS session with CS media\n1.\tA CS session between UE‑1 and UE‑2 is established as either originated or terminated session with CS media as described in TS 23.292 [5] clauses 7.3.2.2.4 and 7.4.2.2.2.2, respectively i.e. UE‑1 is using the ICS capability and therefore the Gm reference point during the session establishment.\n2.\tS-CSCF receives a request from UE-2 to add new PS media flow(s) (e.g. video) to the existing session.\n3.\tS-CSCF forwards the request to SCC AS, which is anchored on the session path.\n4.\tThe T-ADS function in the SCC AS decides that the new media flow is delivered to UE-1 via PS access. The SCC decides to add the PS media to the existing Service Control Signalling Path that is established via Gm.\n5-6.\tSCC AS initiates a request to add the PS media to the existing Service Control Signalling Path towards UE-2.\n7.\tUE-1 accepts the new session and completes the session setup via PS access.\n8.\tThe SCC AS completes the Remote Leg towards UE-2 according to procedures defined in TS 23.228 [4].",
      "chunk_type": "general",
      "cross_references": [
        "figure_6.3.3.6-1",
        "ts_23.292",
        "ts_23.228"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.3.7",
      "section_id": "6.3.3.7",
      "section_title": "Local End Initiation case – Removing media from split CS and PS sessions",
      "content": "The call flow in figure 6.3.3.7-1 presents a scenario where UE-1 has a CS call and an IMS multimedia session with the remote end in a manner that they are presented to UE-2 as one IMS session by the SCC AS and then removes PS media flow(s) by releasing the PS Access Leg.\nFigure 6.3.3.7-1: Local End Initiation case – Removing media from split CS and PS sessions\n1.\tUE-1 uses standard IMS procedures defined in TS 23.228 [4] to remove one or more PS media flows from the session.\n2.\tSCC AS sends a re-INVITE to UE-2 to remove the associated PS media flow(s) from the session. The SCC AS terminates the Source Access Leg as defined in 6.3.1.6.",
      "chunk_type": "general",
      "cross_references": [
        "figure_6.3.3.7-1",
        "ts_23.228"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.3.8",
      "section_id": "6.3.3.8",
      "section_title": "Remote End Initiation case – Removing media from split CS and PS sessions",
      "content": "The call flow in figure 6.3.3.8-1 presents a scenario where UE-1 has a CS call and an IMS multimedia session with the remote end in a manner that they are presented to UE-2 as one IMS session by the SCC AS and where as a result of UE-2 requesting to remove PS media flow(s), the SCC AS terminates the Access Leg associated with the PS media flow(s).\nFigure 6.3.3.8-1: Remote End Initiation case – Removing media from split CS and PS sessions\n1.\tUE-2 uses standard IMS procedures defined in TS 23.228 [4] to remove one or more PS media flow(s) from the session.\n2.\tSCC AS identifies the session from UE-2 as being split into two legs to UE-1. It determines the appropriate Access Leg over which to send the updated session information from UE-2. Since there is only a single PS media flow associated with the session, the SCC AS terminates the Access Leg associated with the PS media flow.",
      "chunk_type": "general",
      "cross_references": [
        "figure_6.3.3.8-1",
        "ts_23.228"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.3.9",
      "section_id": "6.3.3.9",
      "section_title": "Local End Initiation case: Adding new PS media to existing PS session",
      "content": "This clause covers the scenario where UE 1 adds PS media flow(s) (e.g. video) over a new IP-CAN, IP-CAN2, to an existing multimedia session that uses PS media over IP-CAN1. As a post condition the UE 1 has an ongoing multimedia session with the remote end.\nThe call flow is the same as in figure 6.3.3.3-1 except that both the original media and the added media are on PS accesses and no CS intermediate nodes are involved.",
      "chunk_type": "general",
      "cross_references": [
        "figure_6.3.3.3-1"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.3.10",
      "section_id": "6.3.3.10",
      "section_title": "Remote End Initiation case: Adding new PS media to existing PS session",
      "content": "This clause covers the scenario where UE 1 has an existing PS session with UE 2 using PS media over IP-CAN1 and UE 2 adds new media to the session and the new media flow is delivered using PS media over IP-CAN2 towards UE-1.\nThe call flow is the same as in clause 6.3.3.4 Remote End Initiation case: Adding new PS media to existing CS session, except that both the original media flow and the added media flows are on PS accesses and no CS intermediate nodes are involved. Consequently:\n‑\tin step 4. of the call flow, the T‑ADS function in the SCC AS decides that the new media is delivered to UE 1 via PS through the access networks type corresponding to IP‑CAN2;\n‑\tin step 5. of the call flow, the SCC AS includes enough information within the session request to ensure that the S‑CSCF establishes the new session via the selected access networks type.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3.3.4"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.3.11",
      "section_id": "6.3.3.11",
      "section_title": "Local End Initiation case: Removing media from split PS sessions",
      "content": "This clause covers the scenario where local end UE-1 removes media flows from split PS sessions. As a precondition, UE-1 has an IMS multimedia session with the remote end. As a post-condition, UE-1 removes the PS session over one IP‑CAN and continues IMS multimedia session with the remote end over the other IP-CAN.\nThe call flow is the same as in figure 6.3.3.7-1 except that all the media components are on PS accesses and no CS intermediate nodes are involved.",
      "chunk_type": "general",
      "cross_references": [
        "figure_6.3.3.7-1"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.3.12",
      "section_id": "6.3.3.12",
      "section_title": "Remote End Initiation case: Removing media from split PS sessions",
      "content": "This clause covers the scenario where remote end UE-2 removes media flow(s) from split PS sessions. As a precondition, UE‑1 has an IMS multimedia session with the remote end. As a post-condition, the PS session over one IP-CAN is removed and UE-1 continues IMS multimedia session with the remote end over the other IP-CAN.\nThe call flow is the same as in figure 6.3.3.8-1 except that all the media components are on PS accesses and no CS intermediate nodes are involved.",
      "chunk_type": "general",
      "cross_references": [
        "figure_6.3.3.8-1"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.3.5",
      "section_id": "6.3.5",
      "section_title": "Service continuity for ICS UE using MSC Server assisted mid-call feature while maintaining CS media",
      "content": "If the SCC AS detects that the ICS UE is not reachable over Service Control Signalling Path and if the UE and the network support the MSC Server assisted mid-call feature and the CS Bearer Control Signalling Path was established using the MSC Server enhanced for ICS, the same procedure as in clause 6.3.2.1.4a steps 4-6 are performed.\nAfter completion of this procedure, the UE uses procedures as defined in TS 24.008 [24] to perform service control.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3.2.1.4",
        "ts_24.008"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.4",
      "section_id": "6.4",
      "section_title": "Operator Policy and User Preferences",
      "content": "Operator Policy is provisioned in the network by the operator, and should be communicated to the UE during initial provisioning or via OMA Device Management [7]. Operator policy should be communicated to the UE, via OMA Device Management, whenever the policy is updated by the operator.\nOperator policy shall indicate, for each supported type of media or group of media:\n-\ta list of access networks that are restricted for originating sessions and Access Transfer;\n-\ta list of preferred access networks (in order of priority) to be used by the UE with SC capabilities for originating sessions and Access Transfer, when those access networks become available and Access Transfer is possible;\n-\twhether the UE with SC capabilities \"shall\"/\"should\"/\"may\" start transferring media flow(s) to target access networks with higher priorities than the current access network, when the target access networks become available and Access Transfer is possible;\n-\tby indicating \"shall\" the operator mandates the UE to start Access Transfer according to the home operator's list of preferred access networks as soon as possible;\n-\tby indicating \"should\" the operator recommends the UE to start Access Transfer according to the home operator's list of preferred access networks, if Access Transfer is possible and desirable after having taken into account the Local Operating Environment Information;\n-\tby indicating \"may\" the operator leaves the UE free to decide whether or not to start Access Transfer in accordance with user preferences (when configured), if Access Transfer is possible and desirable after having taken into account the Local Operating Environment Information. Whenever user preferences are not configured, the UE shall to take into account the home operator's list of preferred access networks;\n-\twhether to keep or drop non transferable media flow(s) in the case of partial Access Transfer.\nNOTE 1:\tOperator policy for Access Transfer needs to be consistent with operator policy for T-ADS.\nUser preferences may indicate for example:\n-\tpreferred access/domain, i.e. CS preferred or IMS preferred, and which IP-CAN within IMS.\nThe Local Operating Environment Information is implementation specific and may comprise of such items as, radio environment information, quality of IP connection (jitter, delay and packet loss), application specific requirements, memory considerations, power considerations, etc.\nThe UE shall take in account operator policy, user preferences and the Local Operating Environment Information when deciding which access to use for outgoing sessions, performing UE assisted T-ADS, or before considering initiating Access Transfer.\nNOTE 2:\tIf the \"IMS voice over PS Session Supported Indication\" indicator, see TS 23.060 [27] and TS 23.401 [28], is not set for a specific 3GPP IP‑CAN and if there is no ongoing IMS voice over PS session, this IP‑CAN cannot be used for voice, even if set to preferred by the user preferences.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.060",
        "ts_23.401"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.5.1",
      "section_id": "6.5.1",
      "section_title": "General",
      "content": "This clause describes the SCC AS and UE procedures for execution of supplementary service as described in TS 22.173 [15].\nThe related interactions apply to scenarios when the media components for the UE are split into multiple Access Legs due to IMS Service Continuity procedures. The Remote Leg is presented with one session including all the media components.\nFor Access Leg where CS media is used, the interaction described in the following clauses still applies and the service request should be sent via PS Access Leg. The operations on the CS media flows shall be handled based on the service request and shall follow the procedures as described in TS 23.292 [5].\nWhen service invocation fails on one Access Leg, the UE and the SCC AS may retry on a different Access Leg.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_22.173",
        "ts_23.292"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.5.2",
      "section_id": "6.5.2",
      "section_title": "Originating Identification Presentation (OIP)",
      "content": "The OIP service is not impacted.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_6.5.3",
      "section_id": "6.5.3",
      "section_title": "Originating Identification Restriction (OIR)",
      "content": "The OIR service is not impacted.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_6.5.4",
      "section_id": "6.5.4",
      "section_title": "Terminating Identification Presentation (TIP)",
      "content": "The TIP service is not impacted.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_6.5.5",
      "section_id": "6.5.5",
      "section_title": "Terminating Identification Restriction (TIR)",
      "content": "The TIR service is not impacted.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_6.5.6",
      "section_id": "6.5.6",
      "section_title": "Communication Diversion (CDIV)",
      "content": "Upon receiving an incoming session split across multiple Access Legs, if an UE wants to invoke the CDIV service, the UE may use any of the Access Legs to invoke the CDIV service following the procedures defined in TS 24.604 [21].\nWhen the SCC AS splits an incoming session into multiple Access Legs and receives a CDIV request from the UE on any of the Access Legs, the SCC AS shall terminate the other Access Leg(s) and shall invoke the CDIV service following the procedures defined in TS 24.604 [21].",
      "chunk_type": "general",
      "cross_references": [
        "ts_24.604"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.5.7",
      "section_id": "6.5.7",
      "section_title": "Communication Hold (HOLD)",
      "content": "If the UE wants to invoke the HOLD service on one or more media component(s) and the UE has multiple Access Legs, the UE shall invoke the HOLD procedures, as defined in TS 24.610 [16] on all the Access Legs which contain the affected media component(s). The SCC AS shall update the remote Access Leg using the procedures defined in TS 24.610 [16].\nIf the remote end initiates the HOLD service on one or more media component(s) and the UE has multiple Access Legs, the SCC AS shall forward the HOLD request on all the Access Legs which contain the affected media component(s).",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_24.610"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.5.8",
      "section_id": "6.5.8",
      "section_title": "Communication Barring (CB)",
      "content": "The CB service is not impacted.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_6.5.9",
      "section_id": "6.5.9",
      "section_title": "Message Waiting Indication (MWI)",
      "content": "The MWI service is not impacted.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_6.5.10",
      "section_id": "6.5.10",
      "section_title": "Conference (CONF)",
      "content": "When the UE wants to invoke the CONF services and has multiple Access Legs, the UE may send any CONF related requests, e.g. subscribe request for conference package or refer request to the conference, as defined in TS 24.605 [17], on any of the Access Legs.\nWhen the UE has multiple Access Legs and the remote end sends a request for the CONF service to replace an existing session within the same dialog, the SCC AS may deliver the request for CONF service on any of the Access Legs.\nWhen the UE has multiple Access Legs and receives a request on one of the Access Legs for a CONF service to replace an existing session, the UE shall follow the procedures specified in TS 24.605 [17] to establish a new session to the conference focus.\nWhen the UE has multiple Access Legs and receives a request for a CONF service to replace an existing session outside the dialog, the UE shall follow the procedures specified in TS 24.605 [17] to establish a new session to the conference focus.",
      "chunk_type": "general",
      "cross_references": [
        "ts_24.605"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.5.11",
      "section_id": "6.5.11",
      "section_title": "Explicit Communication Transfer (ECT)",
      "content": "When the UE acts as the transferor UE and has multiple Access Legs, the UE may send the request for ECT service, as specified in TS 24.629 [18], on any of the Access Legs.\nWhen the UE acts as the transferee UE and has multiple Access Legs, the SCC AS may deliver the request for ECT service on any of the Access Legs.\nWhen the UE has multiple Access Legs and receives an ECT request on one of the Access Legs, the UE shall follow the procedures specified in TS 24.629 [18] to establish a new session to the Transfer Target.",
      "chunk_type": "general",
      "cross_references": [
        "ts_24.629"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.5.12",
      "section_id": "6.5.12",
      "section_title": "Advice of Charge (AOC)",
      "content": "When the AOC service specified in TS 24.647 [19] is active and the UE has multiple Access Legs, the SCC AS may deliver charging information during the communication to the UE over any of the Access Legs.",
      "chunk_type": "general",
      "cross_references": [
        "ts_24.647"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.5.13",
      "section_id": "6.5.13",
      "section_title": "Closed User Groups (CUG)",
      "content": "The CUG service is not impacted.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_6.5.14",
      "section_id": "6.5.14",
      "section_title": "Three-Party (3PTY)",
      "content": "The 3PTY service in TS 24.605 [17] is considered as a special case of CONF service and the interaction with Session Transfer is the same as that specified in clause 6.5.10 for CONF service.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.5.10",
        "ts_24.605"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.5.15",
      "section_id": "6.5.15",
      "section_title": "Flexible Alerting (FA)",
      "content": "The FA service is not impacted.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_6.5.16",
      "section_id": "6.5.16",
      "section_title": "Communication Waiting (CW)",
      "content": "Upon receiving an incoming session split across multiple Access Legs, if an UE wants to invoke the CW service, the UE may use any of the Access Legs to invoke the CW service following the procedures defined in TS 24.615 [22].\nWhen the SCC AS splits an incoming session into multiple Access Legs and receives a CW request from the UE on any of the Access Legs, the SCC AS shall invoke the CW service following the procedures defined in TS 24.615 [22].",
      "chunk_type": "general",
      "cross_references": [
        "ts_24.615"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.5.17",
      "section_id": "6.5.17",
      "section_title": "Completion of Communications to Busy Subscriber (CCBS)/Completion of Communications by No Reply (CCNR)",
      "content": "The CCBS/CCNR service is not impacted.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_6.5.18",
      "section_id": "6.5.18",
      "section_title": "Customized Alerting Tones (CAT)",
      "content": "The CAT service is not impacted.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_6.5.19",
      "section_id": "6.5.19",
      "section_title": "Malicious Communication IDentification (MCID)",
      "content": "When invoking the MCID service in temporary subscription mode and there are multiple active Access Legs for the session, the UE may send the re-INVITE request for invoking MCID service as defined in TS 24.616 [20] on any of the Access Legs.",
      "chunk_type": "general",
      "cross_references": [
        "ts_24.616"
      ]
    },
    {
      "chunk_id": "ts_23.237_6.5.20",
      "section_id": "6.5.20",
      "section_title": "Reverse Charging",
      "content": "The Reverse Charging service is not specified.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_6.5.21",
      "section_id": "6.5.21",
      "section_title": "Personal Network Management (PNM)",
      "content": "The PNM service is not specified.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_6.5.22",
      "section_id": "6.5.22",
      "section_title": "Customized Ringing Signal (CRS)",
      "content": "The CRS service is not specified.\n6a\tProcedures and flows for Inter‑UE Transfer\n6a.0\tIntroduction\nIn the following procedures and flows the UEs involved in IUT are labelled as UE-1, UE-2, etc. while the remote endpoint of the session is labelled as Remote Party. Flows are shown for IUT procedures establishing Collaborative Sessions as well as IUT procedures without establishing a Collaborative Session.\nIn the following information flows, when initiating IUT Media Control Related Procedures, the Controller UE can be replaced by the Controllee UE with IUT capabilities, with the difference that the Hosting SCC AS receiving a media control request from a Controllee UE with IUT capabilities shall send it to the Controller UE for authorization, or authorize it on behalf of the Controller UE (e.g. based on the user preferences associated with the Controller UE).\nThese information flows exemplify IUT procedures initiated by a UE sending a request received by the SCC AS. Scenarios pertaining to the SCC AS initiating IUT procedures based on different stimuli such as user preferences, other IMS signalling or service layer triggers are not precluded, but illustrative information flows are not included in this document except for the case of loss of Controller UE.\nFor the enablement of Inter-UE Transfer, originating and terminating sessions (without Collaborative Session establishment) are handled as specified in clause 6.2.\n6a.0.1\tVoid\n6a.1\tIUT general procedures\n6a.1.1\tGeneral\nIn all general IUT procedures the sessions are anchored in an SCC AS. These procedures do not apply for emergency sessions.\n6a.1.2\tRemote Leg Update\nRemote Leg Update for IUT procedures are executed as shown in figures 6.3.1.5-1 and 6.3.1.5-2, in which the media descriptions applicable after the IUT procedure are communicated to the remote end. For an IUT procedure without establishing a Collaborative Session, the information of the new local end which continues the session with the remote end is also included.\n6a.2\tInformation flows for Collaborative Session establishment\n6a.2.1\tEstablish Collaborative Session by transferring media\nThere is an ongoing session between UE-1 and a remote party, which is anchored at the SCC AS. UE-1 transfers the media flow from UE-1 to UE-2 to establish a Collaborative Session. Following is an information flow for the Collaborative Session establishment procedure when UE-1 initiates media transfer from UE-1 to UE-2. After the transfer, the UE-1 becomes Controller UE, and UE-2 becomes Controllee UE.\nFigure 6a.2.1-1: Establish Collaborative Session by transferring media\n1.\tUE-1 sends an IUT media transfer request to the SCC AS to transfer Media Flow-A from UE-1 to UE-2. The IUT media transfer request shall include the enough information for the SCC AS to:\n-\tidentify that the transferred media flow is Media Flow-A;\n-\tidentify that the target of the transferred media flow is UE-2;\n-\tkeep the control of the Collaborative Session in UE-1.\n2.\tThe SCC AS performs authorization as specified in clause 6a.12, then sends request to establish Access Leg at UE-2 for Media Flow-A. The SCC AS removes Media Flow-A from UE-1, and updates the Remote Leg using the Remote Leg Update procedure as specified in clause 6a.1.2.\n3.\tThe SCC AS sends an IUT media transfer response to UE-1. A Collaborative Session is established, for which UE-1 becomes the Controller UE and UE-2 becomes a Controllee UE.\nWhen the above transfer is completed the SCC AS retains the service state (e.g. media flows status) of UE-1 and UE-2, and UE-1 retains the control of the Collaborative Session.\nNOTE 1:\tUE-1 can transfer other media flows from UE-1 by repeating the above steps 1-3.\nNOTE 2:\tIf, besides Media Flow-A, there are other media flows between UE-1 and the remote party, these other media flows shall not be impacted by the above Inter‑UE Transfer operation, i.e. these other media flows remain on UE‑1.\n6a.2.2\tEstablish Collaborative Session with new media\nThe following information flow shows the Collaborative Session establishment procedure. There is an ongoing IMS session with Media Flow-A between UE-1 and a remote party, which is anchored at the SCC AS. UE-1 wants to add a new Media Flow-B on another UE-2 to the current ongoing IMS session to establish a Collaborative Session.\nFigure 6a.2.2-1: Flow for Collaborative Session establishment with new media flow on another UE\n1.\tUE-1 decides to add a new Media Flow-B to UE-2. It sends an IUT add media request to the SCC AS, indicating that a new Media Flow-B will be added to UE-2. The request shall include enough information for the SCC AS to:\n-\tidentify that the added media flow is Media Flow-B;\n-\tidentify that the target of the added media flow is UE-2;\n-\tkeep the control of the Collaborative Session in UE-1;\n2.\tThe SCC AS performs authorization as specified in clause 6a.12, then sends the IUT add media request to UE-2, indicating that a new Media Flow-B will be created on UE-2. Media Flow-B between UE-2 and remote party is established. The Remote Leg is updated accordingly.\n3.\tAfter the successful establishment of the Media Flow-B on UE-2, the SCC AS sends an IUT add media response back to UE-1. A Collaborative Session is established, for which UE-1 becomes the Controller UE and UE-2 becomes a Controllee UE and Media Flow-A and Media Flow-B become part of the Collaborative Session under the control of UE‑1..\n6a.2.3\tEstablish Collaborative Session at originating IMS session setup\nThe following information flow shows the Collaborative Session establishment procedure when there is no ongoing IMS session. Concurrent with a normal session set-up towards a remote party, UE-1 wants to establish a Collaborative Session, which is anchored at the SCC AS, with a new Media Flow-A on itself and a new Media Flow-B on another UE-2.\nFigure 6a.2.3-1: Establishment of Collaborative Session upon Originating IMS Session Setup\n1.\tUE-1 sends an IUT request to the SCC AS in order to set up a Collaborative Session to remote party with Media‑A in UE-1, and with Media-B in UE-2. The session setup request shall include enough information for the SCC AS to:\n-\tidentify the remote party of the session setup request;\n-\tidentify that Media-A shall be established in UE-1;\n-\tidentify that Media-B shall be established in UE-2 and the requested media type associated with Media-B (e.g. video);\n-\tkeep the control of the Collaborative Session in UE-1.\n2.\tThe SCC AS performs authorization as specified in clause 6a.12, then sends a request to establish an Access Leg at UE-2 for Media-B.\nNOTE:\tIn order to obtain the full media description of Media-B, it is necessary to establish the Access Leg at UE‑2 prior to engaging the remote party so that the SCC AS can send a proper (complete) SDP offer towards the remote party in step 3.\n3.\tThe SCC AS sends a session setup request to the remote party.\n4.\tThe remote party sends a response with the SDP answer of Media-A and Media-B to the SCC AS.\n5.\tThe SCC AS sends a response with the SDP answer of Media-A to UE-1 to establish Media-A in UE‑1.\n6.\tThe SCC AS sends a response with the SDP answer of Media-B to UE-2 to establish Media-B in UE‑2.\nAfter the above operation, a Collaborative Session is established, for which UE-1 becomes the Controller UE and UE‑2 becomes a Controllee UE. Media-A is established between Controller UE-1 and the remote party, and Media-B is established between Controllee UE-2 and the remote party.\n6a.2.4\tEstablish Collaborative Session at terminating IMS session setup\nThe following information flow shows the Collaborative Session establishment procedure when there is no ongoing IMS session. Concurrent with the response to a normal session invitation received from a remote party, UE-1 wants to establish a Collaborative Session, which is anchored at the SCC AS, with the requested Media Flow-A on itself and the requested Media Flow-B on another UE-2.\nFigure 6a.2.4-1: Establishment of Collaborative Session upon Terminating IMS Session Setup\n1.\tThe remote party sends a session setup request to the SCC AS to set up Media-A and Media-B with UE‑1.\n2.\tThe SCC AS forwards the session setup request to UE‑1.\n3.\tUE-1 sends a Collaborative Session request to the SCC AS to setup Media-B in UE-2. The session setup request includes enough information for the network to:\n-\tidentify that Media-B shall be established in UE-2 and the requested media type associated with Media‑B (e.g. video);\n-\tkeep the control of the Collaborative Session in UE‑1.\n4.\tThe SCC AS performs authorization as specified in clause 6a.12, then sends a request to establish an Access Leg at UE-2 for Media‑B.\n5.\tThe SCC AS sends a response to the remote party. The response carries the SDP answer of Media-A in UE‑1 and Media‑B in UE-2.\nAfter the above operation, a Collaborative Session is established, for which UE-1 becomes the Controller UE and UE‑2 becomes a Controllee UE. Media-A is established between Controller UE-1 and the remote party, and Media‑B is established between Controllee UE-2 and the remote party.\n6a.3\tMedia Transfer within Collaborative Session\n6a.3.1\tController UE initiated media transfer from Controller UE to Controllee UE\n6a.3.1.1\tController UE and Controllee UE belong to the same subscription\nA Collaborative Session is already established using procedures shown in clause 6a.2. Following is an information flow for UE-1 performing media transfer to UE-2; after the transfer, the UE-1 keeps the role of the Controller UE, and UE-2 is Controllee UE. If UE-2 is not involved in the Collaborative Session controlled by UE-1 before the media transfer, there is at least another Controllee UE involved in the Collaborative Session before the media transfer, which is not shown in the information flow.\nFigure 6a.3.1.1-1: Controller UE initiated media transfer from Controller UE to Controllee UE belonging to the same IMS subscription\n1.\tUE-1 sends IUT media transfer request to the S-CSCF to transfer the Media-A from UE-1 to UE-2. The IUT media transfer request shall include the enough information for the SCC AS to:\n-\tidentify that the transferred media flow is Media Flow-A;\n-\tidentify that the source of the transferred media flow is UE-1;\n-\tidentify that the target of the transferred media flow is UE-2;\n-\tkeep the control of the Collaborative Session in UE-1.\n2.\tThe SCC AS performs authorization as specified in clause 6a.12, then sends transfer request to establish a session with UE-2 for the Media Flow-A, removes Media Flow-A from UE-1, and updates the Remote Leg using the Remote Leg Update procedure as specified in clause 6a.1.2.\n3.\tThe SCC AS sends media transfer response to UE-1.\nWhen the above transfer is completed the SCC AS retains the service state (e.g. media flows status) of UE-1 and UE-2, and the UE-1 retains the control of the Collaborative Session.\nNOTE 1:\tUE-1 can transfer other media flows from UE-1 by repeating the above steps 1-3.\nNOTE 2:\tIf, besides the Media Flow-A, there are other media flows in the Collaborative Session, these other media flows shall not be impacted by the above Inter‑UE Transfer operation.\n6a.3.1.2\tController UE and Controllee UE belong to different subscriptions\nThe information flow below illustrates a transfer of media flow scenario in which the Controller UE transfers a flow to a UE that belongs to another user.\nFigure 6a.3.1.2-1: Transferring media from Controller UE to Controllee UE belonging to different IMS subscriptions\nThere are Media-A and Media-B between Controller UE-1 and remote party.\n1.\tUE-1 sends a request towards SCC AS-1 to transfer Media-B to UE-2. The request includes enough information for the network to:\n-\tidentify that the media flow to be transferred is Media-B;\n-\tidentify that the source of the media flow to be transferred is UE-1;\n-\tidentify that the target of the transferred media flow is UE-2.\n2.\tS-CSCF-1 forwards the request to SCC AS-1.\n3.\tSCC AS-1 authorizes the request from UE-1 as specified in clause 6a.12.\n4.\tSCC AS-1 sends a request towards UE-2 to setup Media-B on UE-2. The request includes enough information for the network to:\n-\tidentify the source of the transfer request as UE-1;\n-\tidentify the remote party;\n-\tidentify that the media flow to be transferred is Media-B;\n-\tidentify that the source of the media flow to be transferred is Controller UE-1;\n-\tidentify that the target of the media flow to be transferred is Controllee UE-2.\n4a.\tS-CSCF-1 forwards the request towards UE-2.\n5.\tIf UE-2 is an IUT subscriber, the request is routed via SCC AS-2 which checks that UE-2 is authorized to receive the request. If so, SCC AS-2 notes that this request relates to the establishment of a Collaborative Session so that any requests by UE-2 related to this Collaborative Session will be forwarded back towards SCC AS-1. A Session Setup request is then routed on towards UE-2. If UE-2 is not an IUT subscriber, S-CSCF-2 routes the request according to normal procedures.\n6.\tS-CSCF-2 forwards the Session Setup request to Controllee UE-2.\n7.\tUE-2 sends a Session Setup response towards SCC AS-1.\n8 - 9.\tS-CSCF-2 routes the response back towards SCC AS-1 – via SCC AS-2 if UE-2 is an IUT subscriber.\n10.\tS-CSCF-1 forwards the session setup response to SCC AS-1.\n11.\tSCC AS-1 removes Media-B from UE-1, updates Remote Leg and finishes Access Leg establishment for setting up Media-B between remote party and UE-2.\nAfter the above operation, Media-B has been transferred from Controller UE-1 to Controllee UE-2.\n6a.3.2\tController UE initiated media transfer from Controllee UE to Controller UE\nA Collaborative Session is already established using procedures shown in clause 6a.2, the UE-1 keeps the role of the Controller UE, and UE-2 is Controllee UE. Following is an information flow for UE-1 initiating media transfer from UE-2 to UE-1.\nFigure 6a.3.2-1: Controller UE initiated media transfer from Controllee UE to Controller UE\n1.\tUE-1 sends IUT media transfer request to the SCC-AS to transfer the Media-A from UE-2 to UE-1. The IUT media transfer request shall include the enough information for the SCC AS to:\n-\tidentify that the transferred media flow is Media-A;\n-\tidentify the source of the media flow is UE-2;\n-\tidentify that the target of the transferred media flow is UE-1;\n2.\tThe SCC AS performs authorization as specified in clause 6a.12, then initiates the transfer by setting up Media-A towards Controller UE-1, removing Media-A from Controllee UE-2, and updates the Remote Leg using the Remote Leg Update procedure as specified in clause 6a.1.2. After the transfer, Media-A will be between Controller UE-1 and remote party.\nNOTE 1:\tIf no more media flow remains on the access leg between SCC AS and Controllee UE-2, the Access Leg between UE-2 and the SCC AS is released and Controllee UE-2 will no longer be part of the Collaborative Session.\n3.\tThe SCC AS sends media transfer response to UE-1.\nWhen the above transfer is completed the SCC AS retains the service state (e.g. media flows status) of UE-1 and UE-2, and the UE-1 retains the control of the Collaborative Session.\nNOTE 2:\tUE-1 can transfer other media flows from UE-2 by repeating the above steps 1-3.\nNOTE 3:\tIf, besides Media-A, there are other media flows in the Collaborative Session, these other media flows shall not be impacted by the above Inter‑UE Transfer operation.\n6a.3.3\tController UE initiated media transfer from Controllee UE to another Controllee UE\n6a.3.3.1\tController UE and Controllee UEs belong to the same subscription\nUE-1 and UE-2 are engaged in a Collaborative Session established using procedures shown in clause 6a.2 for which UE-1 is the Controller UE and UE-2 is a Controllee UE. UE-3 might or might not be part of the Collaborative Session before the media transfer. There is media flow, Media-A, between UE-2 and Remote Party. The following figure presents an information flow of UE-1 performing IUT media transfer from UE-2 to UE-3 after which UE-1 retains the role of the Controller UE and UE-3 becomes Controllee UE.\nFigure 6a.3.3.1-1: Controller UE initiated media transfer from Controllee UE to another Controllee UE (Controller and Controllee UEs belong to the same IMS subscription)\n1.\tUE-1 sends IUT media transfer request to the SCC AS to transfer the Media Flow-A from UE-2 to UE-3. The IUT media transfer request shall include the enough information for the SCC AS to:\n-\tidentify that the transferred media flow is Media Flow-A;\n-\tidentify that the target of the transferred media flow is UE-3;\n-\tkeep the control of the Collaborative Session in UE-1.\n2.\tThe SCC AS performs authorization as specified in clause 6a.12, then sends request to establish Access Leg on UE-3 for Media Flow-A, removes Media Flow-A from UE-2, and updates the Remote Leg using the Remote Leg Update procedure as specified in clause 6a.1.2.\nNOTE 1:\tIf no more media flows remain on UE-2, then the Access Leg from UE-2 is released and UE-2 will no longer be part of the Collaborative Session.\n3.\tThe SCC AS sends media transfer response to UE-1.\nWhen the Inter‑UE Transfer is completed, UE-1 keeps the Collaborative Session Control.\nNOTE 2:\tUE-1 can transfer other media flows from UE-2 by repeating the above steps 1-3.\nNOTE 3:\tIf, there are other media flows in the Collaborative Session besides the Media Flow-A, these other media flows are not impacted by the above Inter‑UE Transfer operation.\n6a.3.3.2\tController UE and Controllee UEs belong to different subscriptions\nFor Controller and Controllee UEs belonging to different subscriptions, the following information flow shows the flow of media transferring from a Controllee (UE-2) to another Controllee (UE-3) initiated by Controller (UE-1). As a pre-requisite, there exists a Collaborative Session with two media flows, Media–A on the Controller UE (UE-1) and Media–B on the Controllee UE (UE-2). UE-3 might or might not be part of Collaborative Session before the media transfer. Furthermore, UE-1, UE-2 and UE-3 profiles are served by different S-CSCFs, S-CSCF-1, S-CSCF-2 and S-CSCF-3, respectively. For simplicity, S-CSCF-1 is not shown in the following figure.\nFigure 6a.3.3.2-1: Controller UE initiated media transfer from Controllee UE to another Controllee UE (Controller and Controllee UEs belong to different IMS subscriptions)\n1.\tUE-1 sends a Collaboration session request to SCC AS-1 to transfer Media-B from UE-2 to UE-3. The Collaborative Session request includes enough information for the network to:\n-\tidentify that the media to be transferred is Media-B;\n-\tidentify that the media to be transferred is currently on UE-2;\n-\tidentify that the media to be transferred to is UE-3;\n-\tidentify the session that contains of the transferred media flow to be transferred;\n-\tkeep the control of the Collaborative Session in UE-1.\n2.\tSCC AS-1 verifies that UE-1 is the Controller UE and therefore is authorized to release the media from a Controllee UE-2 with a user belonging to another subscription and performs authorization as specified in clause 6a.12.\n3.\tSCC AS-1 sends Session request to add Media-B to UE-3 via S-CSCF-3. Media-B in UE-3 is kept inactive until the remote end is updated. The Session request includes enough information for the network to:\n-\tidentify the source of the transfer request as UE-1;\n-\tidentify the remote party;\n-\tidentify that the media flow to be added is Media-B;\n-\tidentify that the source of the media flow to be transferred is Controllee UE-2;\n-\tidentify that the target of the media flow to be transferred is Controllee UE-3;\n4a.\tS-CSCF-3 forwards the Session request to UE-3.\n4b.\tUE-3 sends a Session response to S-CSCF-3.\n5.\tS-CSCF-3 forwards Session response to SCC AS-1.\n6.\tSCC AS-1 updates remote leg with Remote Leg Update Procedure.\n7.\tSCC AS-1 establishes the access leg at UE-3 and removes Media-B from UE-2.\nNOTE 1:\tIf no more media flows remain on UE-2, then the Access Leg from UE-2 is released and UE-2 will no longer be part of the Collaborative Session.\n8.\tSCC AS-1 sends the Collaboration Session Response message to UE-1 confirming the successful transfer of Media-B from UE-2 to UE-3.\nWhen the Inter-UE Transfer is completed, UE-1 keeps the Collaborative Session Control.\nNOTE 2:\tUE-1 can transfer other media flows from UE-2 by repeating the above steps 1-8.\nNOTE 3:\tIf there are other media flows in the Collaborative Session besides the Media-B, then these other media flows are not impacted by the above Inter UE Transfer operation.\n6a.3.3a\tControllee UE Initiated Transfer Media from one Controllee UE to another Controllee UE\nThis information flow shows the Controllee UE-2 transferring a media flow from the Controllee (UE-2) to another Controllee (UE-2). As a pre-requisite, there exists a Collaborative Session with a media flow, Media–B, on the Controllee UE (UE-2). Furthermore, Controller UE 1 and Controllee UE 2 profiles are served by different IUT SCC AS, SCC AS‑1, SCC AS‑2 which are in turn attached to S-CSCF 1, S-CSCF 2 respectively. For simplicity, the S-CSCFs are not shown in the following figure.\nFigure 6a.3.4-1: Controllee initiated Transfer of media from Controllee UE to another Controllee (Controller and Controllee belong to different IMS subscriptions)\n1.\tControllee UE-2 sends a Collaborative session request to SCC AS-2 to transfer Media-B from UE-2 to Controllee UE-3. The Collaborative Session request includes enough information for the network to:\n-\tidentify that the media to be transferred is Media-B;\n-\tidentify that the source for the media to be transferred is Controllee UE-2;\n-\tidentify that the target for the media to be transferred is Controllee UE-3;\n-\tidentify the session that contains of the media flow to be transferred;\n-\tController of the Collaborative Session is Controller UE-1.\n2.\tSCC AS-2 authorizes the request from UE-2 as specified in clause 6a.12 and identifies that the session is a collaborative session anchored at SCC AS‑1 and so forwards the \"Collaborative session request to transfer Media-B\" to SCC AS-1 which is the SCC AS for the Controller UE.\n3a-3c.\tThe SCC AS-1 sends a Collaborative session request to the Controller UE-1, and the Controller UE-1 authorizes the media transfer request.\nNOTE 1:\tSCC AS-1 may be configured to authorize the request on behalf of UE-1.\n4.\tSCC AS-1 sends the Session request to add media-B to UE-3 via S-CSCF-3. Media-B in UE-3 is kept inactive until the remote end is updated. The Collaborative Session request includes enough information for the network to:\n-\tidentify the source of the transfer request as UE-1;\n-\tidentify the remote party;\n-\tidentify that the media flow to be transferred is Media-B;\n-\tidentify that the source of the media flow to be transferred is Controllee UE-2;\n-\tidentify that the target of the media flow to be transferred is Controllee UE-3;\n5a.\tS-CSCF-3 forwards the Session request to UE-3.\n5b.\tUE-3 sends a Session response to S-CSCF-3.\n6.\tS-CSCF-3 forwards Session response to SCC AS-1.\n7.\tSCC AS-1 updates remote leg with Remote Leg Update Procedure.\n8.\tSCC AS-1 activates media-B at UE-2 and releases media-B UE-3.\nWhen the Inter UE Transfer is completed UE-1 keeps the Collaborative Session control.\n6a.3.4\tVoid\n6a.3.4.1\tVoid\n6a.3.4.2\tVoid\n6a.4\tMedia adding/deleting/modifying within Collaborative Session\n6a.4.1\tController UE initiated add new media on Controller UE\nUE-1, UE-2 are engaged in a Collaborative Session established using procedures shown in clause 6a.2 for which UE-1 is the Controller UE and UE-2 is a Controllee UE, which has a media flow-A with the remote party. The following flows shows how the Controller UE-1 adds a media flow-B to itself, which may result in a new Access Leg, or it could be an additional media flow for an already existing session for the Controller UE-1.\nFigure 6a.4.1-1: Controller UE initiated add new media On Controller UE\n1.\tController UE-1 decides to add a new media flow-B to itself, and performs an IUT add media request for the particular media requested. The IUT media transfer request shall include enough information for the SCC AS to:\n-\tidentify that the added media flow is media flow-B;\n-\tidentify that the target of the added media flow is the Controller UE-1 itself;\n2.\tThe SCC AS performs authorization as specified in clause 6a.12. Then, the new media flow-B is setup for Controller UE-1, and the Remote Leg is updated as well with the newly added media flow-B using the Remote Leg Update procedure as specified in clause 6a.1.2. After this, the new media flow-B will be established between the Controller UE-1 and the Remote Party.\n3.\tThe IUT addition of media is completed.\n6a.4.2\tController UE initiated add new media on Controllee UE\n6a.4.2.1\tController UE and Controllee UE belong to the same subscription\nUE-1, UE-2 are engaged in a Collaborative Session established using procedures shown in clause 6a.2 for which UE-1 is the Controller UE and UE-2 is a Controllee UE, the following flows shows how the Controller UE-1 adds a media flow to Controllee UE-2 which could result in a new Access Leg for the Controllee UE-2, or it could be an additional media flow for an already existing session for the Controllee UE-2. The following information flow also applies to case in which UE-2 may not be part of Collaborative Session before the media addition. In this case, there is at least another Controllee UE involved in the Collaborative Session before the media addition, which is not shown in the information flow.\nFigure 6a.4.2.1-1: Controller UE initiated add new media on Controllee UE belonging to the same IMS subscription\n1\tController UE-1 decides to add a new media flow to Controllee UE-2, and performs an IUT add media request for the particular media requested. The IUT add media request shall include enough information for the SCC AS to:\n-\tidentify that the added media flow is Media Flow-A;\n-\tidentify that the target of the added media flow is Controllee UE-2.\n2\tThe SCC AS performs authorization as specified in clause 6a.12. Then, the new Media Flow-A is setup for Controllee UE-2. The Remote Leg is updated as well with the newly added media flow using the Remote Leg Update procedure as specified in clause 6a.1.2. After this, the new media flow will be established between Controllee UE-2 and the Remote Party.\n3.\tThe IUT addition of media is completed.\n6a.4.2.2\tController UE and Controllee UE belong to different subscriptions\nThe information flow below illustrates a scenario in which UE-1, the Controller UE of a Collaborative Session, invites a UE that belongs to a second user to participate in the Collaborative Session by adding a new media flow towards it; control of the Collaborative Session remains with UE-1.\nFigure 6a.4.2.2-1: Adding media by Controller UE to Controllee UE belonging to different IMS subscription\nThere is Media-A between Controller UE-1 and remote party.\n1.\tController UE-1 sends a request towards SCC AS-1 to add Media-B on UE-2, as part of the same Collaborative Session of Media-A. The request includes enough information for the network to:\n-\tidentify that the added media flow is Media-B and the requested media type associated with Media-B (e.g. video);\n-\tidentify that the target of the added media flow is UE-2.\n2.\tS-CSCF-1 forwards the request to SCC AS-1.\n3.\tSCC AS-1 authorizes the request from UE-1 as specified in clause 6a.12.\n4.\tSCC AS-1 sends a request towards UE-2 for adding Media-B to Controllee UE-2. The request includes enough information for the network to:\n-\tidentify the source of the request as UE-1;\n-\tidentify the remote party;\n-\tidentify that the added media flow is Media-B and the media type associated with Media-B (e.g., video);\n-\tidentify that the source of the added media flow is Controller UE-1;\n-\tidentify that the target of the added media flow is Controllee UE-2.\n4a.\tS-CSCF-1 forwards the request towards UE-2.\n5.\tIf UE-2 is an IUT subscriber, the request is routed via SCC AS-2 which authorizes the request. SCC AS-2 notes that this request relates to the establishment of a Collaborative Session so that any requests by UE-2 related to this Collaborative Session will be forwarded back towards SCC AS-1. A Session Setup Request is then routed on towards UE-2. If UE-2 is not an IUT subscriber, S-CSCF-2 routes the request according to normal procedures.\n6.\tS-CSCF-2 forwards the Session Setup request towards UE-2.\n7.\tUE-2 sends a Session Setup response towards SCC AS-1. This request contains the full media description of Media-B.\n8 - 9.\tS-CSCF-2 routes the response back towards SCC AS-1 via SCC AS-2 if UE-2 is an IUT subscriber.\n10.\tS-CSCF-1 forwards the Session Setup response to SCC AS-1.\n11.\tSCC AS-1 updates Remote Leg and finishes Access Leg establishment for adding Media-B to UE-2, and updates the media information in Controller UE-1.\nAfter the above operation, Media-B is established between Controllee UE-2 and remote party.\n6a.4.3\tController UE Initiated Release Media (media flow on the Controller UE)\nThe information flow shows the Controller UE releasing a media flow that is originated from the Controller UE. As a pre-requisite, there exists a Collaborative Session with two media flows, flow–A on the Controller UE (UE-1) and Flow–B on the Controllee UE (UE-2).\nFigure 6a.4.3-1: Controller UE Initiated Media release – media on Controller UE\n1.\tUE-1 sends a Release Media request to the SCC AS to remove Media-A from the Collaborative Session. The IUT media release request shall include enough information for the SCC AS to:\n-\tidentify that the media is Media Flow-A;\n-\tidentify that the released media is on UE-1;\n-\tkeep the control of Collaborative Session in UE-1.\n2.\tThe SCC AS updates the Remote Leg with media flow –A removed.\n3.\tThe SCC AS sends release media response to UE-1. UE-1 releases media flow – A at its end.\nThe Collaborative Session continues to exist after the procedure is complete.\n6a.4.4\tController UE Initiated Release Media (media flow on the Controllee UE)\n6a.4.4.1\tController UE and Controllee UE belong to the same subscription\nThe information flow shows the Controller UE releasing a media flow from a Controllee UE. As a pre-requisite, there exists a Collaborative Session with two media flows, flow–A on the Controller UE (UE-1) and Flow–B on the Controllee UE (UE-2).\nFigure 6a.4.4.1-1: Controller UE Initiated Media release – media flow on Controllee UE (Controller and Controllee belong to the same IMS subscription)\n1.\tUE-1 sends a Release Media request to the SCC AS to remove Media-A from the Collaborative Session. The request includes the information pertaining to media flow -B:\n-\tidentify that the released media is Media Flow-B;\n-\tidentify that the released media is on UE-2;\n-\tkeep the control of Collaborative Session in UE-1.\n2.\tThe SCC identifies media flow B as associated with UE-2 (controllee UE) and sends the Release Media Request to UE-2. The request identifies the media flow–B that needs to be removed and the media flow is removed. If no more media flows remain on UE-2 that are participating in the Collaborative Session, the SCC AS releases the access leg from UE-2.\n3.\tUE-2 sends back Release Media response back to SCC AS.\n4.\tThe SCC AS updates the Remote Leg with media flow–B removed.\nStep 2 and step 4 may be executed in any order.\n5.\tThe SCC AS sends release media response to UE-1.\nIf UE-2 has left the Collaborative Session at step 2 and no other Controllee UE remain in this Collaborative Session, this Collaborative Session becomes a normal IMS session.\n6a.4.4.2\tController UE and Controllee UE belong to different subscriptions\nThe following information flow shows the Controller UE releasing a media flow from the Controllee UE that belongs to different subscriptions. As a pre-requisite, there exists a Collaborative Session with two media flows, Media–A on the Controller UE (UE-1) and Media–B on the Controllee UE (UE-2). Furthermore, Controller UE and Controllee UE profiles are stored on different S-CSCFs, S‑CSCF-1 and S-CSCF-2, respectively.\nFigure 6a.4.4.2-1: Controller initiated Release of media from Controllee UE (Controller and Controllee belong to different IMS subscriptions)\n1.\tController UE-1 sends a Release media request to SCC AS-1 to release Media-B on Controllee UE-2. The Collaborative Session request includes enough information for the network to:\n-\tidentify that the media to be released is Media-B;\n-\tidentify that the media to be held is on Controllee UE-2;\n-\tidentify the session that contains of the media flow to be released;\n-\tkeep the control of the Collaborative Session in Controller UE-1.\n2a.\tS-CSCF-1 forwards the Release Media request to SCC AS-1.\n2b.\tSCC AS-1 verifies that UE-1 is a Controller and therefore is authorized to release the media from a Controllee UE with a user belonging to another subscription.\n2c.\tSCC AS-1 sends a Release Media request towards UE-2 to release Media-B on UE-2. The Collaborative Session request includes enough information for the network to:\n-\tidentify the source of the release media request as UE-1;\n-\tidentify that the media flow to be released is Media-B;\n-\tidentify that the source of the media flow to be released is Controllee UE-2.\n3.\tS-CSCF-1 forwards the Release Media request towards S-CSCF-2.\n4.\tS-CSCF-2 forwards the Release Media Request towards the Controllee.\n5.\tControllee UE-2 provides the Release Media Response to the S-CSCF-2.\n6-7.\tS-CSCF-2 forwards the Release Media Response to SCC-AS-1.\n8.\tThe SCC AS-1 updates the remote leg of the collaborative session with Media-B released.\n9-10.\tThe SCC AS-1 informs the Controller UE-1 via the S-CSCF-1 of successfully releasing Media-B from Controllee UE 2. Steps 9-10 could be performed in parallel to Step 10.\n6a.4.4a\tController UE initiated modify media (media flow on the Controllee UE)\n6a.4.4a.1\tController UE and Controllee UE belong to the same IMS subscription\nThe information flow shows a Controller UE modifying a Media Flow that is originated from or terminated at the Controllee UE belonging to the same IMS subscription. As a pre-requisite, there exists a Collaborative Session with two media flows, Media Flow–A on the Controller UE (UE‑1) and Media Flow–B on the Controllee UE (UE‑2). Controller UE‑1 can initiate re-negotiation of media information of Controllee UE‑2 with remote party.\nFigure 6a.4.4a.1-1: Controller UE initiated media modify on a Controllee UE belonging to the same IMS subscription\n1.\tUE-1 sends a Modify Media Request to modify Media Flow-B on UE-2. The request includes media modification information pertaining to Media Flow-B. The IUT media modification request shall include enough information for the SCC AS to:\n-\tidentify that the modified media is Media Flow-B;\n-\tidentify that the modified media is on UE-2;\n-\tidentify the modification requested to Media Flow-B;\n-\tkeep the control of Collaborative Session in UE-1.\n2.\tThe SCC identifies Media Flow-B as associated with UE-2 and sends the Modify Media Request to UE-2. The request identifies the Media Flow–B that needs to be modified.UE-2 modifies the Media Flow–B. The SCC AS updates the Remote Leg with Media Flow–B modified.\n3.\tThe SCC AS sends Modify Media Response to UE-1.\n6a.4.4a.2\tController UE and Controllee UE belong to different IMS subscriptions under the same operator\nThe information flow shows a Controller UE modifying a Media Flow that is originated from or terminated at the Controllee UE belonging to different subscription. It is assumed that UE-1 and UE-2 belong to User-1 and User-2, respectively. As a pre-requisite, there exists a Collaborative Session with two media flows, Media Flow–A on the Controller UE (UE-1) and Media Flow–B on the Controllee UE (UE-2). Controller UE-1 can initiate re-negotiation of media information of Controllee UE-2 with remote party.\nFigure 6a.4.4a.2-1: Controller UE initiated media modify on a Controllee UE belonging to different IMS subscription\n1.\tUE-1 sends a Modify Media Request to SCC AS-1 serving UE-1 to modify Media Flow-B on UE-2. The request includes media modification information pertaining to Media Flow-B. The IUT media modification request shall include enough information for the SCC AS-1 to:\n-\tidentify that the modified media is Media Flow-B;\n-\tidentify that the modified media is on UE-2;\n-\tidentify the modification requested to Media Flow-B;\n-\tkeep the control of Collaborative Session in UE-1.\n2.\tThe SCC AS-1 authorizes the request from UE-1 as specified in clause 6a.12.\n3.\tThe SCC AS-1 sends the Modify Media Request to SCC AS-2 that serves UE-2 via S-CSCF-1 and S-CSCF-2.\n4.\tIf UE-2 is an IUT subscriber, the request is routed via SCC AS-2 which authorizes the request. The Modify Media Request is then routed on towards UE-2. If UE-2 is not an IUT subscriber, S-CSCF-2 routes the request according to normal procedures.\n5.\tS-CSCF-2 forwards the Modify Media Request to UE-2. UE-2 modifies Media Flow-B.\n6.\tThe UE-2 sends a Modify Media Response towards SCC AS-1.\n7 - 8.\tS-CSCF-2 routes the Modify Media Response back towards SCC AS-1 – via SCC AS-2 if UE-2 is an IUT subscriber.\n9.\tThe SCC AS-1 updates the Remote Leg with Media Flow–B modified upon receiving the Modify Media Response from UE-2.\n10.\tThe SCC AS-1 sends Modify Media Response to UE-1.\n6a.4.5\tControllee UE initiated release media on itself\nAs per standard IMS UE behaviour, a Controllee UE may initiate a release of a media flow that it terminates. In this case, this media release on the access leg is notified to the Controller UE, which may decide to transfer this media flow to another UE under the same subscription, or to remove it from the Collaborative Session (i.e. remove it on the remote leg).\nThe following information flow shows a Controllee UE initiating the release of a media flow that it terminates, and Controller UE being informed of this release by the SCC AS. As a pre-requisite, there exists a Collaborative Session of which UE-1 is the Controller UE and UE-2 is a Controllee UE terminating a media flow, Media Flow A. There may be other media flows (on UE 1, UE-2 or other UEs) within the Collaborative Session; such media flows and UEs are not shown on this information flow; they shall not be impacted by this operation.\nFigure 6a.4.5-1: Controllee UE initiated release media flow on itself\n1.\tControllee UE-2 sends a request to release Media Flow A (that it terminates), using standard IMS procedure.\n2.\tThe SCC AS identifies that Media Flow A is under Collaborative Session control of UE-1. The SCC AS indicates to Controller UE-1 that Controllee UE-2 has released Media Flow A.\n3.\tController UE-1 initiates one of the following procedures, in order to transfer Media Flow A to another UE under the same subscription, or to remove it from the Collaborative Session:\n-\tController UE initiated media transfer from Controllee UE to Controller UE, specified in clause 6a.3.2;\n-\tController UE initiated media transfer from Controllee UE to another Controllee UE, specified in clause 6a.3.3;\n-\tController UE initiated release media (media flow on the Controllee UE), specified in clause 6a.4.3;\n-\tController UE initiated release Collaborative Session, specified in clause 6a.5.1.\n4.\tThe SCC AS updates the Remote Leg while executing the procedure initiated by Controller UE-1 at step 3.\n6a.4.6\tControllee UE initiated modify media on itself\n6a.4.6.0\tGeneral\nAs per standard IMS UE behaviour, a Controllee UE may initiate a modification of a media flow that it terminates.\n6a.4.6.1\tController UE and Controllee UE belong to the same IMS subscription\nThe following information flow shows a Controllee UE initiating the modification of a media flow that it terminates. As a pre-requisite, there exists a Collaborative Session of which UE-1 is the Controller UE and UE-2 is a Controllee UE terminating a media flow, Media Flow A. There may be other media flows (on UE-1, UE-2 or other UEs) within the Collaborative Session; such media flows and UEs are not shown on this information flow; they shall not be impacted by this operation.\nFigure 6a.4.6.1-1: Controllee UE initiated modify media flow on itself (same IMS subscription)\n1.\tControllee UE-2 sends a request to modify the characteristics of Media Flow-A (that it terminates), using standard IMS procedure.\n2.\tThe SCC AS updates the Remote Leg for allowed media changes, providing the new media flow characteristics from UE-2.\n3.\tThe SCC AS sends a successful response to the request sent by UE-2 at step 1.\n6a.4.6.2\tController UE and Controllee UE belong different IMS subscriptions under the same operator\nThe information flow shows a Controllee UE modifying a Media Flow that is originated from or terminated at the same Controllee UE. As a pre-requisite, there exists a Collaborative Session with two media flows, Media Flow–A on the Controller UE (UE-1) and Media Flow–B on the Controllee UE (UE-2).\nFigure 6a.4.6.2-1: Controllee UE initiated media modify on itself (different IMS subscriptions under the same operator)\n1.\tUE-2 sends a Modify media request to modify Media Flow-B on itself. The request includes media modification information pertaining to Media Flow-B. The IUT media modification request shall include enough information for the SCC AS to:\n-\tidentify that the modified media is Media Flow-B;\n-\tidentify that the modified media is on UE-2; and\n-\tidentify the modification requested to Media Flow-B.\n2.\tThe SCC AS-2 forwards the Media Modification Request to SCC AS-1 that serves the controller via S-CSCF-2 and S-CSCF-1.\n3.\tThe SCC AS-1 authorizes the Media Modification Request as specified in clause 6a.12.\n3a~3b.\tIf SCC AS-1 cannot authorize Media Modification Request, it queries controller UE-1 for authorization.\nNOTE:\tSteps 3 (including 3a~3b) is optional depending on operator's configuration.\n4.\tSCC AS-1 identifies Media Flow-B as associated with UE-2 and sends Modify Media Request to UE-2 via S-CSCF-1 and S-CSCF-2. UE-2 modifies the Media Flow. The SCC AS-1 updates the Remote Leg with Media Flow–B modified.\n5.\tThe SCC AS-1 sends result of modify media request to UE-2.\n6a.4.6a\tControllee UE initiated add new media on another Controllee UE\nThis information flow shows the Controllee UE-2 adding a media flow to another Controllee (UE-3). As a pre-requisite, there exists a Collaborative Session with a media flow, Media–A, on the Controllee UE (UE-2). UE-3 might or might not be part of the Collaborative Session before the media addition. Furthermore, Controller UE 1 and Controllee UE-2 profiles are served by different IUT SCC AS: SCC AS-1 and SCC AS-2, which are in turn attached to S-CSCF-1 and S-CSCF-2 respectively. For simplicity, these S-CSCFs are not shown in the following figure.\nFigure 6a.4.6a-1: Controllee initiated addition of media to another Controllee UE (Controller and Controllees belong to different IMS subscriptions)\n1.\tUE-2 sends a Collaborative session request to SCC AS-2 to add Media-B to UE-3. The Collaborative Session request includes enough information for the network to:\n-\tidentify that the media to be added is Media-B;\n-\tidentify that the target for the media to be added to is UE-3;\n-\tidentify the session that contains of the media flow to be added;\n-\tController of the Collaborative Session is UE-1.\n2.\tSCC AS-2 authorizes the request from UE-2 as specified in clause 6a.12 and identifies that the session is a Collaborative Session anchored at SCC AS-1.\n3.\tSCC AS-2 then forwards the Collaborative session request to SCC AS-1 which is the SCC AS for the Controller UE in order to add Media-B to UE-3.\n4-6.\tSCC AS-1 sends a Collaborative session request to the Controller UE-1, and the Controller UE-1 authorizes the media addition request.\nNOTE 1:\tSCC AS-1 may be configured to authorize the request on behalf of UE-1.\n7.\tSCC AS-1 sends Session request to add Media-B to UE-3 via S-CSCF‑3. The Session request includes enough information for the network to:\n-\tidentify the source of the addition request as UE-1;\n-\tidentify the remote party;\n-\tidentify that the media flow to be added is Media-B;\n-\tidentify that the target of the media flow to be added is UE-3;\n8.\tS-CSCF-3 forwards the Session request to UE-3.\n9.\tUE-3 sends a Session response to S-CSCF-3.\n10.\tS-CSCF-3 forwards Session response to SCC AS-1.\n11.\tSCC AS-1 updates remote leg with Remote Leg Update Procedure.\n12.\tSCC AS-2 sends the Collaborative session response to UE-2.\nWhen the Inter-UE Transfer is completed, UE-1 keeps the Collaborative Session Control.\n6a.4.7\tRemote party initiated add new media\nThe following is an example of an information flow where remote party wants to modify an existing session with UE-1 to add Media Flow-B. In this information flow, UE-1 and UE-2 belong to the same user subscription. UE-1 is the Controller UE and UE-2 is a Controllee UE. If UE-2 is not involved in the Collaborative Session controlled by UE-1 before the media addition, there is at least another Controllee UE involved in the Collaborative Session before the media addition which is not shown in the information flow.\nFigure 6a.4.7-1: Remote party initiated add new media\n1.\tRemote party sends an Add Media request to add Media Flow-B to an existing session between UE-1 and remote party as per TS 23.228 [4].\n2.\tSCC AS forwards the Add Media request to UE-1 according to the procedures defined in TS 23.228 [4].\nStep 3a is for the case Controller UE wants to add Media Flow-B to itself.\n3a.\tThe session setup is completed. The new Media Flow-B will after this be established between UE-1 and remote party, and be involved in the Collaborative Session controlled by UE-1.\nSteps 3b and 5b are for the case Controller UE wants to add Media Flow-B to a different UE while retaining control for the added media.\n3b.\tController UE-1 sends an IUT-Redirect-Media request to SCC AS. The IUT-Redirect-Media request needs to include at least the following information:\n-\tidentify that Media Flow-B needs to be redirected to UE-2.\n4b.\tSCC AS performs authorization as specified in clause 6a.12, then sends an Add Media Flow-B to UE-2.\n5b.\tThe session setup is completed. When the add media operation is completed, there is Media Flow-B between UE-2 and remote party. There is a Collaborative Session established between UE-1 and UE-2. The Media-B is controlled by UE-1.\nNOTE 1:\tIf UE-2 was not involved in the Collaborative Session controlled by UE-1 before the media addition, UE‑2 becomes a Controllee UE when the media addition is completed.\nNOTE 2:\tIf remote party wants to add more than one media flows to an existing session, these media flows can be distributed to several different UEs by repeating the above steps 3b-5b.\n6a.4.8\tRemote party initiated release media\nThe following is an example of an information flow where remote party wants to remove one of media flows, Media Flow-B from an ongoing session. In this information flow, UE-1 and UE-2 belong to the same user subscription. UE-1 is a Controller UE and UE-2 is a Controllee UE.\nFigure 6a.4.8-1: Remote party initiated release media\n1.\tRemote party uses standard IMS procedures defined in TS 23.228 [4] to remove Media Flow-B from the session.\nStep 2a is for the case the released media is bound to Controller UE.\n2a.\tThe removal of Media Flow-B between Controller UE-1 and remote party is completed.\nSteps 2b and 3b are for the case the released media is bound to Controllee UE.\n2b.\tThe removal of Media Flow-B between Controllee UE-2 and remote party is completed.\nNOTE 1:\tIf no more media remains on the Access Leg between SCC AS and Controllee UE-2, this Access Leg is released and Controllee UE-2 will no longer be part of the Collaborative Session.\n3b.\tSCC AS informs Controller UE-1 that the Media Flow-B on UE-2 was removed.\nNOTE 2:\tIf no more Controllee UE remains after the media removal, the Collaborative Session is terminated and there will be a general IMS session between UE-1 and remote party.\n6a.4.9\tRemote party initiated media modification\nA Collaborative Session is already established using procedures shown in clause 6a.2. The following is an example of an information flow where remote party wants to modify one of media flows, Media Flow-B from an ongoing session. In this information flow, UE-1 and UE-2 belong to the same user subscription. UE-1 is a Controller UE and UE-2 is a Controllee UE.\nFigure 6a.4.9-1: Remote party initiated media modification\n1.\tRemote party uses standard IMS procedures defined in TS 23.228 [4] to modify Media Flow-B from the session.\nStep 2a is for the case the modified media is bound to Controller UE.\n2a.\tThe modification of Media Flow-B between Controller UE-1 and remote party is completed.\nSteps 2b – 3b are for the case the modified media is bound to Controllee UE.\n2b.\tThe modification of Media Flow-B between Controllee UE-2 and remote party is completed.\n3b.\tIf the media modification is hold or resume, SCC AS informs Controller UE-1 that the Media Flow-B on UE-2 was modified.\n6a.4a\tTransfer of Collaborative Session Control\n6a.4a.1\tController UE transfers Collaborative Session Control to a Controllee UE without Media Transfer\nUE-1 and UE-2 are involved in a Collaborative Session with a remote party. The Collaborative Session is anchored at the SCC AS. UE-1 is the Controller UE of the Collaborative Session. UE-1 wishes to transfer the Collaborative Session Control to UE-2. The media flows to UE-1 and UE-2 from the remote party remain unaffected. The following information flow shows this procedure.\nFigure 6a.4a.1 -1: Controller UE initiated transfer of Collaborative Session Control\n1.\tA Collaborative Session is established between UE-1 and UE-2 and a remote party with UE-1 acting as the Controller UE and UE-2 acting as a Controllee UE. Each UE has a media flow with the remote party.\n2.\tUE-1 wishes to transfer the Collaborative Session Control to UE-2. However, none of the existing media flows are affected. UE-1 sends a Collaborative Session Control transfer request to the SCC AS to relinquish Collaborative Session Control. This request includes a registered Public User Identity or public GRUU of UE-2.\n3.\tIf the SCC AS does not have the list of Public User Identities that share the service profile with the Public User Identity used by UE-1 for the Collaborative Session, the SCC AS retrieves this information. If the Collaborative Session Control transfer request indicates that UE-2 has the same Public User Identity (but different public GRUU) as UE-1, this step is skipped.\n4.\tThe SCC AS performs authorization as specified in clause 6a.12, ensures that UE-2 can act as the Controller UE for this Collaborative Session, and that the Public User Identity used by UE-2 shares the service profile with the Public User Identity used by UE-1 for the Collaborative Session. The SCC AS then sends a message to UE-2 requesting UE-2 to assume the role of Controller UE for this on-going Collaborative Session. Included in the request to UE-2 is session information associated with the Collaborative Session that UE-2 is requested to assume the role of Controller UE for.\n5.\tUE-2 accepts the role of Controller UE for this Collaborative Session and indicates its acceptance to the SCC AS.\n6.\tThe SCC AS in turn provides an acknowledgement to UE-1 confirming that UE-2 is the new Controller UE for the Collaborative Session, and removes Collaborative Session Control from UE-1.\n7.\tUE-2 has become the Controller UE and UE-1 has become a Controllee UE.\n6a.4a.2\tController UE transfers Collaborative Session Control to another UE with Media Transfer\nUE-1 and UE-3 are involved in a Collaborative Session with a remote party. The Collaborative Session is anchored at the SCC AS. UE-1 is the Controller UE of the Collaborative Session. UE-1 wishes to transfer the Collaborative Session Control to UE-2 along with the media flow on UE-1. The media flow to UE-3 from the remote party remains unaffected. Following is an information flow for this procedure.\nFigure 6a.4a.2-1: Controller UE initiated transfer of Collaborative Session Control with transfer of media flow\n1.\tA Collaborative Session is established between UE-1 and UE-3 and a remote party with UE-1 acting as the Controller UE and the UE-3 acting as a Controllee UE. Each UE has a media flow with the remote party.\n2.\tUE-1 wishes to transfer the Collaborative Session Control along with media flow A to UE-2. UE-1 sends a request to SCC AS to transfer media flow A and relinquish Collaborative Session Control. This request includes a registered Public User Identity or public GRUU of UE-2.\n3.\tIf the SCC AS does not have the list of Public User Identities that share the service profile with the Public User Identity used by UE-1 for the Collaborative Session, the SCC AS retrieves this information. If the Collaborative Session Control transfer request indicates that UE-2 has the same Public User Identity (but different public GRUU) with UE-1, this step is skipped.\n4.\tThe SCC AS performs authorization as specified in clause 6a.12, ensures that UE-2 can act as the Controller UE for this Collaborative Session, and that the Public User Identity used by UE-2 shares the service profile with the Public User Identity used by UE-1 for the Collaborative Session. The SCC-AS then sends a message to UE-2 requesting UE-2 to transfer media flow A and assume the role of Controller UE for this on-going Collaborative Session. Included in the request to UE-2 is session information associated with the Collaborative Session that UE-2 is requested to assume the role of Controller UE for.\n5.\tUE-2 accepts transfer of media flow A and accepts the role of Controller UE for this Collaborative Session and indicates its acceptance to the SCC AS.\n6.\tThe SCC AS removes media flow A from UE-1, and updates the Remote Leg using the Remote Leg Update procedure as specified in clause 6a.1.2.\n7.\tSCC AS in turn provides an acknowledgement to UE-1 confirming that UE-2 has accepted the media transfer and is the new Controller UE for the Collaborative Session.\n8.\tUE-2 has become the Controller UE and UE-1 has become the Controllee UE and media flow A is now transferred to UE-2. If there is no media flow remaining on UE-1, UE-1 is released from the Collaborative Session.\n6a.4a.3\tTransfer of Collaborative Session Control upon loss of Controller UE\nThe Controller UE can lose the Collaborative Session Control as a result of, for example, losing underlying network connectivity. The figure below shows an information flow where the SCC AS has pre-configured Collaborative Session Control loss preferences, and acts upon the loss of Collaborative Session Control based on these preferences. There is no media on UE-1.\nFigure 6a.4a.3-1: Collaborative Session handling upon loss of Collaborative Session Control\n1.\tA Collaborative Session is established between UE-1, UE-2, UE-3 and a remote party. UE-1 is the Controller UE, and UE-2 and UE-3 are Controllee UEs. Collaborative Session Control loss preference is sent/updated to SCC AS at any time before or during the Collaborative Session, including:\n-\tthe Public User Identity/ies or public GRUUs of the UE(s) which may be the successive Controller UE (in priority order), or\n-\tcriteria on how to select the successive Controller UE.\nNOTE 1:\tWhen the successive Controller UE is selected, the SCC AS ensures that this UE can act as the Controller UE for this Collaborative Session, and that the Public User Identity it uses shares the service profile with the Public User Identity used by UE-1 for the Collaborative Session, by performing step 3 of Figure 6a.4a.2-1 if necessary.\n2.\tThe SCC AS detects that the Collaborative Session Control has been lost during the session.\nNOTE 2:\tHow the SCC AS detects the loss of Collaborative Session Control is not within the scope of this document.\n3.\tThe loss of Collaborative Session Control triggers the activation of Collaborative Session Control loss preference. SCC AS performs authorization as specified in clause 6a.12, then selects a Controllee UE as the new Controller UE based on Collaborative Session Control loss preference.\nNOTE 3:\tIf no Collaborative Session Control loss preference is provided, SCC AS releases the Collaborative Session.\n4.\tSCC AS offers Collaborative Session Control to the selected Controllee UE, UE-3. Included in the request to UE-3 is session information associated with the Collaborative Session that UE-3 is requested to assume the role of Controller UE for.\nStep 5a is for the case where UE-3 accepts to become Controller UE.\n5a.\tThe Controllee UE-3 accepts the offer to become the new Controller UE.\nSteps 5b-5d are for the case that the Controllee UE refuses to be a new Controller UE.\n5b.\tControl transfer is not accepted by the Controllee UE.\nNOTE 4:\tThe Controllee UE may reject the offer because its user does not want to take over control, or the UE may not understand the transfer request; or the UE may not respond.\n5c.\tIf there is other candidate Controller UEs to which Collaborative Session control could be but has not yet been offered, the SCC AS offers them control of the collaborative session (repeat step 4) according to their priority order in user preference.\n5d.\tIf no candidate Controller UE accepts to take over the control of the collaborative session, SCC AS releases the Collaborative Session associated with lost Controller UE as specified in steps 2 to 4 of clause 6a.5.1.\n6a.4a.4\tTransfer of Collaborative Session Control with media flows upon loss of Controller UE\nIf the Collaborative Session Control is lost in the Controller UE and there was/were media flow(s) as part of the Collaborative Session in the old Controller UE, the media flow(s) may be transferred together with the Collaborative Session Control to the new Controller UE based on user preferences.\nFigure 6a.4a.3a-1 shows an information flow of transferring the Collaborative Session Control with the media flows upon loss of the Controller UE. A Collaborative Session is established between UE-1, UE-2, UE-3 and the remote party. UE-1 is the Controller UE, and UE-2 and UE-3 are Controllee UEs. Media Flow-A, Media Flow-B and Media Flow-C are established respectively between UE-1, UE-2, UE-3 and the Remote Party.\nFigure 6a.4a.3a-1: Transfer of Collaborative Session Control with media flow(s) upon loss of Collaborative Session control\n1.\tThe SCC AS detects the loss of Controller UE-1.\n2.\tBased on user preferences, the SCC AS performs authorization as specified in clause 6a.12, then sends a Collaborative Session Control transfer with media transfer request to Controllee UE-2, which is capable of being a Controller UE and has a Public User Identity sharing the same service profile with UE-1. The request indicates the Collaborative Session Control and Media Flow-A are to be transferred to UE-2 due to loss of Controller UE-1. Included in the request to UE-2 is session information associated with the Collaborative Session that UE-2 is requested to assume the role of Controller UE for.\nSteps 3a - 4a are for the case of UE-2 accepting both the Collaborative Session Control and media transfer:\n3a.\tUE-2 accepts the role of Collaborative Session Controller UE as well as the transfer of Media Flow-A, and sends a Collaborative Session Control transfer and media transfer confirmation to the SCC AS.\n4a.\tThe SCC AS performs Remote Leg Update procedure towards the remote party as specified in clause 6a.1.2.\nSteps 3b - 5b are for the case of UE-2 accepting only the Collaborative Session Control transfer:\n3b.\tUE-2 only accepts the role of Collaborative Session Controller UE, and sends a Collaborative Session Control transfer confirmation to the SCC AS.\n4b.\tUE-2, the new Controller UE, initiates one of the following procedures, in order to transfer Media Flow-A to another UE, or to remove it from the Collaborative Session:\n-\tController UE initiated media transfer from Controllee UE to another Controllee UE, specified in clause 6a.3.3;\n-\tController UE initiated release media (media flow on the Controllee UE), specified in clause 6a.4.4;\n-\tController UE initiated release Collaborative Session, specified in clause 6a.5.1.\n5b.\tThe SCC AS performs Remote Leg Update procedure towards the remote party as specified in clause 6a.1.2.\n6a.4a.5\tTransfer of Collaborative Session Control initiated by the target UE\nUE‑1 and UE‑2 are involved in a Collaborative Session with a remote party. The Collaborative Session is anchored at the SCC AS. UE‑1 is the Controller UE of the Collaborative Session. UE‑2 wishes to transfer the Collaborative Session Control from UE‑1 to itself. The media flows to UE‑1 and UE‑2 from the remote party remain unaffected. The following information flow shows this procedure. If UE‑2 is not involved in the Collaborative Session controlled by UE‑1 before the transfer of Collaborative Session Control, there is at least another Controllee UE involved in the Collaborative Session before the transfer of Collaborative Session Control, which is not shown in the information flow.\nFigure 6a.4a.5-1: Transfer of Collaborative Session Control initiated by the target UE\n1.\tA Collaborative Session is established between UE‑1 and UE‑2 and a remote party with UE‑1 acting as the Controller UE and UE‑2 acting as a Controllee UE. Each UE has a media flow with the remote party.\n2.\tUE‑2 obtains information about the existing sessions and UE‑1's control of Collaborative Session which UE‑2 is participating in according to procedure defined in clause 6a.8.3.2.\n3.\tUE‑2 wishes to transfer the Collaborative Session Control from UE‑1 to itself. However, none of the existing media flows are affected. UE‑2 sends a Collaborative Session Control transfer request to the SCC AS to obtain Collaborative Session Control. This request includes a registered Public User Identity or public GRUU of UE‑1.\n4.\tIf the SCC AS does not have the list of Public User Identities that share the service profile with the Public User Identity used by UE‑2 for the Collaborative Session, the SCC AS retrieves this information. If the Collaborative Session Control transfer request indicates that UE‑1 has the same Public User Identity (but different public GRUU) as UE‑2, this step is skipped.\n5.\tThe SCC AS performs authorization as specified in clause 6a.12, ensures that UE‑2 can act as the Controller UE for this Collaborative Session, and that the Public User Identity used by UE‑1 shares the service profile with the Public User Identity used by UE‑2 for the Collaborative Session. The SCC AS requests the Controller UE-1 to authorize the pull request or the SCC AS authorizes the request on behalf of UE‑1 (e.g. pre-configured). If the request is authorized, SCC AS continues to transfer Collaborative Session Control to UE-2, and removes Collaborative Session Control from UE‑1.\n6.\tUE-2 has become the Controller UE and UE‑1 has become a Controllee UE.\n7.\tThe SCC AS sends Collaborative Session Control transfer response to UE‑2.\n6a.5\tCollaborative Session release\n6a.5.1\tController UE Initiated Release Collaborative Session\nThe following information flow shows the Controller UE releasing a Collaborative Session to release all the media flows with remote party. As a pre-requisite, there exists a Collaborative Session with two media flows, Media Flow–A on the Controller UE (UE-1) and Media Flow–B on the Controllee UE (UE-2).\nFigure 6a.5.1-1: Controller UE initiated Collaborative Session release\n1.\tUE-1 sends a Release Collaborative Session request to the SCC AS to release the Collaborative Session and to release the Media Flow-B on UE-2: UE-1 removes Media Flow-A that is participating in the Collaborative Session.\n2.\tThe SCC AS identifies the Collaborative Session and the participating Access Leg from Controllee UE. SCC AS sends the Release Access Leg request to UE-2. The request identifies the Access Leg that needs to be released.\n3.\tUE-2 releases the Access Leg and sends back Release Access Leg response to SCC AS.\n4.\tThe SCC AS releases the Remote Leg using IMS session release procedure as specified in TS 23.228 [4].\n5.\tThe SCC AS sends Release Collaborative Session response to UE-1.\n6a.5.2\tRemote Party Initiated Release Collaborative Session\nThe following shows the information flow where the remote party initiates the release of the session, which causes the SCC-AS to release the Collaborative Session.\nUE-1 is a Controller UE and the other UEs are Controllee UEs.\nFigure 6a.5.2-1: Remote Party Initiated Release Collaborative Session\n1.\tThe Remote Party decides to release the session, and therefore a Session Release Request is sent by the remote party to the SCC-AS.\n2.\tThe SCC-AS releases the Access Leg(s) towards the Controller UE-1.\n3.\tThe SCC-AS releases the Access Leg(s) towards the different Controllee UEs. This occurs in parallel with step 2.\n4.\tWhen all Access Legs that belonged to the Collaborative Session have been released, the SCC-AS responds to the remote party.\n6a.6\tInter‑UE Transfer without establishing a Collaborative Session\n6a.6.1\tInter-UE Transfer initiated by the source UE\nUE-1 and UE-2 are under the same user subscription. UE-1 is involved in IMS session with remote party. The information flow in Figure 6a.6.1-1 shows transfer of the session from UE-1 to UE-2. Since the entire session is transferred simultaneously, the roles of the Controller UE and Controllee UE are not applicable.\nNOTE 1:\tThis signalling flow does not require the UE-2 to have IUT capabilities.\nFigure 6a.6.1-1: Inter‑UE transfer without establishing Collaborative Session - initiated by the source UE\n1.\tUE-1 sends IUT media and service control transfer request to the SCC AS to transfer the session that includes Media-A from UE-1 to UE-2. The IUT media and service control transfer request shall include enough information for the network to:\n-\tidentify the transferred session;\n-\tidentify that the target of the transferred session is UE-2;\n-\tidentify the access leg of UE-1 to be transferred to UE-2.\n2.\tIf the SCC AS does not have the list of Public User Identities that share the service profile with the Public User Identity used by UE-1 for the Collaborative Session, the SCC AS retrieves this information. If the Collaborative Session Control transfer request indicates that UE-2 has the same Public User Identity (but different public GRUU) as UE-1, this step is skipped.\n3.\tThe SCC AS ensures that the Public User Identity used by UE-2 shares the service profile with the Public User Identity used by UE-1 for the Collaborative Session. The SCC AS performs authorization as specified in clause 6a.12, then initiates the media session setup procedure with UE-2 for the Media-A, and updates the Remote Party.\n4.\tThe SCC AS releases the session with UE-1.\nWhen the above transfer is completed the SCC AS retains the service state (e.g. media flows status) of UE-2, and the UE-2 has the control of the IMS session.\nNOTE 2:\tIf, besides the Media-A, there are other media flows in an unrelated session between UE-1 and Remote Party, the other media flows are not impacted by the above session transfer operation.\n6a.6.2\tInter-UE Transfer initiated by the target UE\nUE-1 and UE-2 are under the same IMS subscription. UE-1 is involved in IMS session with remote party. Figure 6a.6.2-1 shows session transfer from UE-1 to UE-2 requested by UE-2. Since all the media flow(s) are transferred from UE-1 to UE-2 simultaneously, the roles of the Controller UE and the Controllee UE are not applicable.\nFigure 6a.6.2-1: Inter UE Transfer initiated by UE not participating in the session – no Collaborative Session established\n1.\tUE-2 obtains information about the existing sessions and their media flows.\n2.\tUE-2 sends IUT media and service control transfer request. The request shall include enough information for the network to:\n-\tidentify the transferred session;\n-\tidentify that the target of the transferred session is UE-2;\n-\tidentify the access leg of UE-1 to be transferred to UE-2.\n3.\tIf the SCC AS does not have the list of Public User Identities that share the service profile with the Public User Identity used by UE-1 for the Collaborative Session, the SCC AS retrieves this information. If the Collaborative Session Control transfer request indicates that UE-2 has the same Public User Identity (but different public GRUU) as UE-1, this step is skipped.\n4.\tThe SCC AS ensures that the Public User Identity used by UE-1 shares the service profile with the Public User Identity used by UE-2 for the Collaborative Session. The SCC AS performs authorization as specified in clause 6a.12; in particular, the SCC AS requests the UE-1 to authorize the pull request or the SCC AS authorizes the request on behalf of UE-1 (e.g. pre-configured). The SCC AS will also authorize that the target UE is of the same subscription. If the request is authorized, SCC AS continues in accordance with step 2 of clause 6a.6.1, i.e. SCC AS establishes a session with UE-2 for the Media-A, removes Media-A from UE-1, and updates Remote Leg using the Remote Leg Update procedure.\n5.\tThe SCC AS sends IUT media and service control transfer response to UE-2.\n6a.7\tExecution of supplementary services\n6a.7.1\tGeneral\nEven though the media components for the Collaborative Session are split onto multiple Access Legs of different UEs, the remote end is presented with one session including all the media components. This clause describes the SCC AS and IUT UE procedures for handling supplementary services as described in TS 22.173 [15].\nWhether or not the UEs involved in a Collaborative Session pertain to multiple IMS subscriptions, the Controllee UEs can be under a different service profile than the Controller UE. The service profile of the Controller UE shall determine the set of Application Servers and services that are invoked for the overall session with the remote end.\nFor a Controllee UE's Access Leg where CS media is used, the interaction described in the following clauses still apply. However, the operations on the CS media follow the procedures as described in TS 23.292 [5].\nWith respect to identification presentation services (e.g. Originating Identification Presentation), the identifying information provided to the remote end is that of the Controller UE.\n6a.7.2\tOriginating Identification Presentation (OIP)\nThe OIP service is not impacted by IUT.\n6a.7.3\tOriginating Identification Restriction (OIR)\nThe OIR service is not impacted by IUT.\n6a.7.4\tTerminating Identification Presentation (TIP)\nThe TIP service is not impacted by IUT.\n6a.7.5\tTerminating Identification Restriction (TIR)\nThe TIR service is not impacted by IUT.\n6a.7.6\tCommunication Diversion (CDIV)\nThe CDIV service is not impacted by IUT.\n6a.7.7\tCommunication Hold (HOLD)\nIf the Controller UE wants to invoke the HOLD service on one or more media component(s), the Controller UE shall invoke the HOLD procedures, as defined in TS 24.610 [16]. The Hosting SCC AS shall act on the HOLD requests by updating all the Controllee UEs whose media status are changed and shall update the Remote Leg using the procedures defined in TS 24.610 [16].\nIf a Controllee UE wants to invoke the HOLD service on one or more media component(s) that it hosts, the request to do so must be authorized by the Controller UE (or by the network on behalf of the Controller UE). If the request is authorized, the Controllee UE shall invoke the HOLD procedures, as defined in TS 24.610 [16].\n6a.7.7.1\tController UE invoking the HOLD service on the media flow on a Controllee UE\nThe information flow shows a Controller UE invoking the HOLD service on the media flow that is originated from the Controllee UE. As a pre-requisite, there exists a Collaborative Session with two media flows, Media Flow–A on the Controller UE (UE-1) and Media Flow–B on the Controllee UE (UE-2).\nFigure 6a.7.7.1-1: Controller UE invoking the HOLD service on the media flow on a Controllee UE\n1.\tUE-1 sends a Supplementary Service Execution request to invoke the HOLD service on Media Flow-B on UE-2. The IUT supplementary service execution request shall include enough information for the SCC AS to:\n-\tidentify that the media to be held is Media Flow-B;\n-\tidentify that the media to be held is on UE-2;\n-\tidentify that the supplementary service to be executed on Media Flow-B is the HOLD service.\n2.\tThe SCC identifies Media Flow-B as associated with UE-2 and sends the Supplementary Service Execution request to UE-2. The request identifies the Media Flow–B that needs to be held.UE-2 holds the Media Flow-B. The SCC AS updates the Remote Leg with Media Flow–B held.\n3.\tThe SCC AS sends a Supplementary Service Execution response to UE-1.\n6a.7.8\tCommunication Barring (CB)\nThe CB service is not impacted by IUT.\n6a.7.9\tMessage Waiting Indication (MWI)\nThe MWI service is not impacted by IUT.\n6a.7.10\tConference (CONF)\nOnly the Controller UE can invoke the CONF service for the Collaborative Session and it shall follow the procedures as defined in TS 24.605 [17] for any CONF service related operations. The SCC AS associated with a Controllee UE shall reject a request from the Controllee UE to invoke the CONF service.\nWhen the remote end sends a request for the CONF service to replace an existing session which is locally a Collaborative Session, the SCC AS shall deliver the request for CONF service to the Controller UE, which then sets up a new session following the procedures defined in TS 24.605 [17]. If the user intends to invoke the CONF service for an ongoing Collaborative Session, the Controller UE shall establish a new Collaborative Session towards the conferencing AS using the procedure of Establish Collaborative Session at originating IMS session setup as specified in clause 6a.2.3, while the existing Access Legs between the SCC AS and the Controllee UE(s) can be reused (i.e. updated to be bound to the new Collaborative Session between the Controller UE and the conferencing AS).\n6a.7.11\tExplicit Communication Transfer (ECT)\nOnly the Controller UE can invoke the ECT service on behalf of the Collaborative Session and it shall follow the procedures as specified in TS 24.629 [18]. Upon receiving notification that ECT has been performed successfully, the Controller UE shall terminate the previous active session with the transferee UE by terminating all related media control sessions on the Controllee UEs. The SCC AS associated with a Controllee UE shall reject a request from the Controllee UE to invoke the ECT service.\nUpon receiving an ECT transfer request from the remote end to transfer the Collaborative Session, the SCC AS shall deliver the request to the Controller UE.\nUpon receiving an ECT transfer request to transfer the Collaborative Session, the Controller UE shall establish a new session towards the transfer target following the procedures defined in TS 24.629 [18]. If the communication to be transferred is a Collaborative Session (i.e. the transferee intends to use the Collaborative Session to communicate with the transfer target), the Controller UE shall establish a new Collaborative Session towards the transfer target using the procedure of Establish Collaborative Session at originating IMS session setup as specified in clause 6a.2.3, while the existing Access Legs between the SCC AS and the Controllee UE(s) can be reused (i.e. updated to be bound to the new Collaborative Session between the Controller UE and the transfer target).\n6a.7.12\tAdvice of Charge (AOC)\nWhen the AOC service specified in TS 24.647 [19] is active, the SCC AS shall deliver charging information during the communication to the Controller UE.\n6a.7.13\tClosed User Groups (CUG)\nThe CUG service is not impacted by IUT.\n6a.7.14\tThree-Party (3PTY)\nThe 3PTY service in TS 24.605 [17] is considered as a special case of CONF service and the interaction with IUT is the same as that specified in clause 4.8.10 for CONF service.\n6a.7.15\tFlexible Alerting (FA)\nThe FA service is not impacted by IUT.\n6a.7.16\tCommunication Waiting (CW)\nThe CW service is not impacted.\n6a.7.17\tCompletion of Communications to Busy Subscriber (CCBS)/Completion of Communications by No Reply (CCNR)\nThe CCBS/CCNR service is not impacted.\n6a.7.18\tCustomized Alerting Tones (CAT)\nFor Collaborative Sessions established concurrently with terminating IMS session setup, the CAT provided by the network (under the control of the SCC AS associated with the Controller UE) to the remote party is the CAT associated with the Controller UE.\n6a.7.19\tMalicious Communication IDentification (MCID)\nThe MCID service is not impacted by IUT.\n6a.7.20\tReverse Charging\nThe Reverse Charging service is not impacted by IUT.\n6a.7.21\tPersonal Network Management (PNM)\nThe PNM service is not impacted by IUT.\n6a.7.22\tCustomized Ringing Signal (CRS)\nFor Collaborative Sessions established concurrently with terminating IMS session setup, the Customized Ringing Signal (CRS) provided to the Controller UE is the CRS associated with the remote party. For Collaborative Sessions established concurrently with originating IMS session setup, the CRS provided to the remote party is the CRS associated with the Controller UE.\n6a.8\tIUT target discovery\n6a.8.1\tGeneral\nWhen initiating Inter-UE Transfer procedures, the UE may use the following information:\n-\tother UEs belonging to the same IMS subscription;\n-\tthe availability (e.g. online, offline etc) of the UEs;\n-\tthe capabilities (e.g. support of audio/video formats, Controller UE capability, etc) of the UEs.\nDetermination of UEs belonging to the same IMS subscription is based on either or both of static list stored in the UE and based on IMS registration. When based on IMS registration, the UE gets notified when other UEs under the same Implicit Registration Set become available and their capabilities and contact details. The static list, which contains a list of eligible UEs for Inter-UE Transfer, can be created manually by the user.\nThe availability and capabilities of the target UE(s) can be determined by the information flow described in the subsequent clause.\n6a.8.2\tInformation flow for IUT target availability and capabilities discovery\nFigure 6a.8.2-1 Inter-UE Transfer target discovery based on IMS registration\n1.\tUE-2 is IMS registered following the procedures defined in TS 23.228 [4].\n2.\tUE-1 performs IMS registration following the procedures defined in TS 23.228 [4].\n3 ~ 4.\tUE-1 is interested to discover the status and capabilities of other devices under the same subscription. It subscribes to an event package (e.g., reg-event, presence) for registration information and the capabilities information.\n5 ~ 6.\tThe IMS CN subsystem or presence AS notifies UE-1 of other devices (e.g. UE-2) status and, if available, capabilities information.\n7.\tUE-3 performs IMS registration.\n8 ~ 9.\tThe IMS CN subsystem notifies UE-1 of UE-3's availability and, if available, capabilities information.\nOptionally, if sufficient UE capabilities information is not included in step 8, then the following steps can be performed:\n10 ~ 13.\tAmong all the available devices, UE 1 is interested in performing Inter-UE transfer to UE-3. UE-1 performs capability query towards UE-3.\n6a.8.3\tSession Discovery\n6a.8.3.1\tGeneral\nIn order to solicit the IUT of media flows or control of an ongoing session from other UE(s) under the same or different subscriptions of the same operator, it shall be possible for a UE capable of IUT to discover ongoing session information on other UE(s) as follows:\n-\tSession information for the other UE(s), including session identifier, source UE identifier (e.g. GRUU or IMPU), remote end identifier, identity of the Controller UE for the related Collaborative Session;\n-\tMedia flow information for the ongoing session(s) in other UE(s), including: type (voice, video, etc.), status (held, active, etc.), media flow identifier;\n-\tService Identifier for the service the session is related to.\nThe UE may use the above information for IUT in addition to the availability and capabilities of other UE(s) as specified in clause 6a.8.1.\nThe SCC AS which serves target UE(s) of session discovery shall filter information on some or all of the sessions or media flows composing the session on the target UE(s) based on user service configuration or operator policy before providing ongoing session information to the UE which has requested session discovery.\n6a.8.3.2\tDiscovery of ongoing session information on other UE(s) belonging to same IMS subscription\nThe figure below shows an information flow of UE-1 requesting ongoing session information for the other UEs, assuming that UE-1, UE-2 and UE-3 belong to the same IMS subscription and there is a session with Media Flow-A between UE-2 and the remote party and another session with Media Flow-B between UE-3 and the remote party.\nFigure 6a.8.3.2-1 Discovery of ongoing session information on other UE(s) belonging to the same IMS subscription\n1.\tUE-1 sends the SCC AS a Session Discovery request for ongoing session information for the UEs belonging to the same IMS subscription. The Session Discovery request indicates the information requested to be provided in the response.\n2.\tThe SCC AS retrieves the requested information for all ongoing sessions for the user's UEs.\n3.\tThe SCC AS, if required, authorizes that UE-1 is allowed to receive the requested information, and sends the UE-1 a Session Discovery response containing the requested session related information for UE-2 and UE-3. The SCC AS performs filtering as specified in clause 6a.8.3.1 before sending a Session Discovery response to the UE-1.\n6a.8.3.3\tDiscovery of ongoing session information on other UE(s) belonging to different IMS subscription\nThe figure below shows an information flow of UE-1 requesting ongoing session information for the other UEs, assuming that UE-1 belongs to User-1 while UE-2 and UE-3 belong to User-2. It is also assumed that there is a session with Media Flow-A between UE-2 and the remote party, and another session with Media Flow-B between UE-3 and the remote party.\nFigure 6a.8.3.3-1 Discovery of ongoing session information on other UE(s) belonging to different IMS subscription\n1.\tUE-1 sends SCC AS-1 a Session Discovery request for ongoing session information for User-2's UEs. The Session Discovery request indicates the information requested to be provided in the response.\n2.\tSCC AS-1 sends a Session Information request for ongoing session information for User-2's UEs to S-CSCF-2 which serves User-2.\n3.\tS-CSCF-2 forwards the Session Information request to SCC AS-2 which serves User-2.\n4.\tSCC AS-2, if required, authorizes that UE-1 is allowed to receive ongoing session information for User-2's UEs, and sends a Session Information response containing ongoing session information for UE-2 and UE-3. The SCC AS-2 performs filtering as specified in clause 6a.8.3.1 before sending a Session Information response.\n5.\tS-CSCF-2 forwards the Session Information response to SCC AS-1.\n6.\tSCC AS-1 sends UE-1 a Session Discovery response containing ongoing session information for UE-2 and UE‑3.\n6a.9\tInter-UE Transfer Initiated by Target UE\n6a.9.1\tController UE and Controllee UE belong to same IMS subscription\n6a.9.1.1\tInitiated by UE not participating in ongoing Collaborative Session\nUE-1, UE-2 and UE-3 are under the same IMS subscription. UE-1 and UE-2 are involved in Collaborative Session with remote party. The figure below shows media flow transfer from UE-1 to UE-3 requested by UE-3.\nFigure 6a.9.1.1-1: Inter-UE Transfer initiated by UE not participating in the Collaborative Session\n1.\tUE-3 obtains information about the existing sessions and their media flows.\n2.\tUE-3 sends IUT media transfer request to transfer the Media-A from UE-1 to UE-3. The request shall include the enough information for the network to:\n-\tidentify the targeted Collaborative Session;\n-\tidentify that the transferred media flow is Media-A;\n-\tidentify that the target of the transferred media flow is UE-3;\n-\tkeep the control of the Collaborative Session in UE-1;\n-\tother information.\n3.\tThe SCC AS performs authorization as specified in clause 6a.12; in particular, the SCC AS requests the Controller UE-1 to authorize the pull request or the SCC AS authorizes the request on behalf of UE-1 (e.g. pre-configured). The SCC AS will also authorize that the target UE is of the same subscription. If the request is authorized, SCC AS continues in accordance with step 2 of clause 6a.3.1.1, i.e. SCC AS establishes a session with UE-3 for the Media-A, removes Media-A from UE-1, and updates the Remote Leg using the Remote Leg Update procedure. The UE-1 remains the Controller UE and UE-3 becomes a new Controllee UE.\nNOTE:\tIf no more media flows remain on UE-2, then the Access Leg from UE-2 is released and UE-2 will no longer be part of the Collaborative Session.\n4.\tThe SCC AS sends IUT media transfer response to UE-3.\n6a.9.1.2\tInitiated by Controllee UE in ongoing Collaborative Session\nUE-1 and UE-2 are under the same IMS subscription. UE-1 and UE-2 are involved in a Collaborative Session with remote party, in which UE-1 is the Controller UE and UE-2 is the Controllee UE. The figure below shows media flow transfer from UE-1 to UE-2 requested by UE-2.\nFigure 6a.9.1.2-1: Inter-UE Transfer initiated by Controllee UE in ongoing Collaborative Session\n1.\tUE-2 obtains the information about the media flows in its current participating Collaborative Session.\n2.\tUE-2 sends IUT media transfer request to transfer the Media-A from UE-1 to UE-2. The request shall include enough information for the network to:\n-\tidentify that the transferred media flow is Media-A;\n-\tidentify that the target of the transferred media flow is UE-2;\n-\tkeep the control of the Collaborative Session in UE-1;\n-\tother information.\n3.\tThe SCC AS performs authorization as specified in clause 6a.12; in particular, the SCC AS requests the Controller UE-1 to authorize the pull request or the SCC AS authorizes the request on behalf of UE-1 (e.g. pre-configured). If the request is authorized, SCC AS continues in accordance with step 2 of clause 6a.3.1.1 to transfer Media-A to UE-2, removes Media-A from UE-1, and updates the Remote Leg using the Remote Leg Update procedure. The UE-1 remains the Controller UE and UE-2 remains a Controllee UE.\n4\tThe SCC AS sends IUT media transfer response to UE-2.\n6a.9.1.3\tIUT solicited by a target UE without prior information about the existing sessions\nThis realization of pull mode is particularly applicable to the cases where the UE to be target of an IUT operation does not have information about ongoing sessions, e.g. because of privacy restrictions.\nIt is based on extending the information provided in the event package used for the discovery of status and capabilities of potential target UEs, with information on the wish to be the target of an IUT operation.\nThe following information flow shows a UE in control of an IMS session or Collaborative Session, subscribing to a device info event to be notified of availability and capabilities of potential target UEs, this event package being extended with additional information on the wish to be the target of an IUT operation. The end user subsequently requests the transfer of a video to UE-2 by interacting with UE-2. UE-2 then updates its status to inform the network that it solicits an IUT to be performed to itself. In this example, the notification includes the type of media that UE-2 expects to be transferred. Alternatively, any other kind of IUT could be requested the same way, e.g. transfer of Collaborative Session Control.\nFigure 6a.9.1.3-1: IUT solicited by a target UE without prior information about existing sessions\n1.\tAn IMS session or a Collaborative Session is set-up, involving at least UE-1 and a remote party. In case of a Collaborative Session, UE-1 is the Controller UE. Two media are established: audio (Media Flow-A) and video (Media Flow-B).\n2.\tUE-1 performs IUT target discovery and discovers UE-2 as specified in clause 6a.8.\n3.\tBy interacting with UE-2, the user requests the transfer of a video media to UE-2.\n4.\tUE-2 updates its status, indicating that it solicits an IUT of a video media.\n5 - 6.\tThis status update is notified to UE-1.\n7.\tUE-1 identifies that it controls Media Flow-B which corresponds to the solicitation (video) and decides whether to initiate the IUT solicited by UE-2 or not.\n8.\tUE-1 uses the relevant IUT procedure to transfer Media Flow-B to UE-2.\n6a.9.2\tController UE and Controllee UE belong to different IMS subscriptions\n6a.9.2.1\tInitiated by UE not participating in the session - Collaborative Session established\nThe information flow below illustrates a transfer of media flow scenario in which a UE belonging to one subscription (UE-2) requests a media flow from a UE that belongs to another subscription (UE-1). At this time, the control of the transferred media flow remains at UE-1. After the transfer, a Collaborative Session is established, in which the UE-1 is Controller UE, and UE-2 is Controllee UE. It is assumed that, prior to the scenario, User-2 has discovered that there is an ongoing session between UE-1 and the remote party.\nNOTE:\tIf UE-1 does not support IUT media related procedures or is not an IUT subscriber, SCC AS-1 or UE-1 will return an error.\nFigure 6a.9.2.1-1: Establish Collaborative Session by target UE initiated transferring media\nThere are Media-A and Media-B between UE-1 and remote party.\n1.\tUE-2 sends a request towards UE-1 to transfer Media-B from UE-1 to UE-2. The request includes enough information for the network to:\n-\tidentify that the media flow to be transferred is Media-B;\n-\tidentify that the source of the media flow to be transferred is UE-1;\n-\tidentify the session that contains the media flow to be transferred;\n-\tidentify that the target of the transferred media flow is UE-2;\n-\tgive control of the Collaborative Session to UE-1.\n2.\tS-CSCF-2 forwards the request to SCC AS-2.\n3.\tSCC AS-2 authorizes the request from UE-2.as specified in clause 6a.12\n4.\tSCC AS-2 sends a request to S-CSCF-2 towards UE-1 to transfer Media-B from UE-1 to UE-2. The Collaborative Session request includes enough information for the network to:\n-\tidentify the source of the transfer request as UE-2;\n-\tidentify that the media flow to be transferred is Media-B;\n-\tidentify that the target of the transferred media flow is UE-2;\n-\tgive control of the Collaborative Session to Controller UE-1.\n4a.\tS-CSCF-2 forwards the request towards UE-1.\n4b.\tS-CSCF-1 forwards the request to SCC AS-1.\n5.\tSCC AS-1 authorizes the request from UE-2.\n6.\tSCC AS-1 removes Media-B from UE-1, updates Remote Leg and finishes Access Leg establishment for setting up Media-B between remote party and UE-2, and updates the media information in Controller UE-1.\nAfter the above operation, a Collaborative Session is established, for which UE-1 becomes the Controller UE and UE-2 becomes a Controllee UE and Media Flow-A and Media Flow-B become part of the Collaborative Session under the control of UE 1.\nThis information flow is also applicable to the cases where a UE not participating in an ongoing Collaborative Session joins the Collaborative Session by initiating the transfer of media flow(s) from Controller UE which belongs to the different IMS subscription to itself.\n6a.9.2.2\tInitiated by UE not participating in ongoing Collaborative Session - media on Controllee UE\nUE-1 and UE-2 are involved in Collaborative Session with remote party. UE-1 and UE-2 belong to different subscriptions and SCC AS-1 serves the user of UE-1, SCC AS-2 serves the user of UE-2. UE-3 which is not in the Collaborative Session can belong to the same subscription as UE-1 or UE-2 or neither. The figure below shows the media flow transfer procedure from UE-2 to UE-3 requested by UE-3. For simplification, in the flow UE-3 belongs to the same subscription with UE-2.\nFigure 6a.9.2.2-1: Inter UE Transfer initiated by target UE not participating in the Collaborative Session – media on the Controllee UE\n1.\tUE-3 obtains information about the existing sessions and their media flows of UE-2.\n2.\tUE-3 sends an IUT media transfer request towards UE-2 to transfer the Media-B from UE-2 to UE-3. The request shall include the enough information for the network to:\n-\tidentify the targeted Collaborative Session;\n-\tidentify that the transferred media flow is Media-B;\n-\tidentify that the target of the transferred media flow is UE-3;\n-\tother information.\n3.\tBased on the identifier of the targeted Collaborative Session, SCC AS-2 knows itself to be the SCC AS serving the Controllee UE of the collaborative session, and relays the media transfer request via S-CSCF2/1 to the SCC AS-1 which serves the Controller UE of the collaborative session.\n4-6.\tSCC AS-1 sends a media transfer request to the Controller UE-1, and the Controller UE-1 authorizes the media transfer request. If SCC AS-1 is configured to authorize the request on behalf of UE-1, steps 4-6 are skipped.\n7.\tAfter obtaining authorization as specified in clause 6a.12, SCC AS-1 establishes a session with UE-3 for the Media-B, removes Media-B from UE-2, and updates the Remote Leg using the Remote Leg Update procedure as specified in clause 6a.1.2. The UE-3 becomes a new Controllee UE.\nNOTE 1:\tIf no media flow as part of the Collaborative Session remains in UE-2 after the transfer, UE-2 shall be removed from the Collaborative Session.\n8.\tSCC AS-1 sends the media transfer response via S-CSCF1/2 towards UE-3.\n9.\tSCC AS-2 sends the media transfer response towards UE-3.\n10.\tSCC AS-1 sends the Collaborative Session information to the Controller UE-1 to inform UE-1 of the change of the Collaborative Session.\nNOTE 2:\tIf the Controller UE-1 and the Controllee UE-2 belong to the same subscription, SCC AS-1 and SCC AS‑2 are the same SCC AS.\n6a.10\tMedia Flow Replication by network\n6a.10.1\tReplicating media in network from Controller UE to another UE belonging to same IMS subscription\nThe information flow in Figure 6a.10.1-1 illustrates a scenario in which the Controller UE of a Collaborative Session requests that the network replicate a media flow towards another UE that belongs to the same subscription. In this scenario, UE-2 is currently not involved in the Collaborative Session until after Media-A is replicated towards it.\nFigure 6a.10.1-1: Replicating media in network from Controller UE to another UE belonging to same IMS subscription\nThere is Media-A between Controller UE-1 and remote party.\n1.\tController UE-1 sends a request towards SCC AS-1 to replicate Media-A to UE-2. The session setup request includes enough information for the network to:\n-\tidentify that the media flow to be replicated is Media-A;\n-\tidentify that the source of the media flow to be replicated is the remote party;\n-\tidentify that the target of the media flow to be replicated is Controllee UE-2.\n2.\tS-CSCF-1 forwards the request to SCC AS-1.\n3.\tSCC AS-1 authorizes the request from UE-1 as specified in clause 6a.12.\n4.\tSCC AS-1 allocates media resource in MRF for the Media-A to be replicated.\n5.\tSCC AS-1 sends a request to establish an Access Leg at UE-2 for Media-A.\n6.\tSCC AS-1 updates the Access Leg on Controller UE-1 for the replicated media flow (Media-A) with MRF.\n7.\tSCC AS-1 updates the Remote Leg to communicate Media-A with MRF.\nAfter the above operation, Media-A is established between Controller UE-1 and MRF, from MRF to Controllee UE-2, and between remote party and MRF.\n6a.10.2\tReplicating media in network from Controller UE to another UE belonging to different IMS subscription\nThe information flow in Figure 6a.10.2-1 illustrates a scenario in which a Collaborative Session is established in the context of an ongoing IMS session and as a result of UE-1 requesting to replicate media to another UE. The Controller UE requests that the network replicate a media flow towards a UE that belongs to a different subscription.\nFigure 6a.10.2-1: Replicating media in network from Controller UE to another UE belonging to different IMS subscription\nThere is Media-A between UE-1 and remote party.\n1.\tUE-1 sends a request towards SCC AS-1 to replicate Media-A to UE-2. The Collaborative Session request includes enough information for the network to:\n-\tidentify that the media flow to be replicated is Media-A;\n-\tidentify that the source of the media flow to be replicated is the remote party;\n-\tidentify that the target of the media flow to be replicated is UE-2.\n2.\tS-CSCF-1 forwards the request to SCC AS-1.\n3.\tSCC AS-1 authorizes the request from UE-1 as specified in clause 6a.12.\n4.\tSCC AS-1 allocates media resource for the replicated Media-A in MRF.\n5.\tSCC AS-1 sends a request towards UE-2 to set up the replicated Media-A between UE-2 and the MRF. The request includes enough information for the network to:\n-\tidentify the source of the request as UE-1;\n-\tidentify the remote party;\n-\tidentify that the replicated media flow is Media-A;\n-\tidentify the media resource information of SCC AS-1;\n-\tidentify that the target of the replicated media flow is UE-2.\n5a.\tS-CSCF-1 routes the request towards UE-2.\n6.\tIf UE-2 is an IUT subscriber, the request is routed via SCC AS-2. SCC AS-2 notes that this request relates to the establishment of a Collaborative Session so that any requests by UE-2 related to this Collaborative Session will be forwarded back toward SCC AS-1. A Session Setup request is then routed on towards UE-2. If UE-2 is not an IUT subscriber, S-CSCF-2 routes the request according to normal procedures.\n7.\tS-CSCF-2 forwards the Session Setup request towards UE-2.\n8.\tUE-2 sends the Session Setup response towards SCC AS-1.\n9 - 10.\tS-CSCF-2 routes the response back toward SCC AS-1 via SCC AS-2 if UE-2 is an IUT subscriber.\n11.\tS-CSCF-1 forwards the response to SCC AS-1.\n12.\tSCC AS-1 updates Access Leg in UE-1, finishes Access Leg establishment in UE-2, and updates Remote Leg to communicate Media-A with MRF.\nAfter the above operation, a Collaborative Session is established where UE-1 is the Controller UE and UE-2 is a Controllee UE. Media-A is established between Controller UE-1 and MRF, from MRF to Controllee UE-2 and MRF, and between remote party and MRF.\n6a.10.3\tReplicating media in network from Controller UE to another UE belonging to same IMS subscription - pull mode\nThe information flow in Figure 6a.10.3-1 illustrates a Collaborative Session scenario in which a UE not participating in the session requests that the network replicate towards itself a media flow that pertains to a UE belonging to the same subscription. It is assumed that, prior to the scenario, UE-2 has discovered that there is an ongoing session between UE-1 and the remote party and that UE-1 is capable of supporting IUT related media procedures. If UE-1 does not support IUT related media procedures, SCC AS-1 or UE-1 will return an error. In the illustrated scenario, UE-2 is currently not involved in the Collaborative Session until after Media-A is replicated towards it.\nFigure 6a.10.3-1: Replicating media in network from Controller UE to another UE belonging to same IMS subscription - pull mode\nThere is Media-A between Controller UE-1 and remote party.\n1.\tUE-2 sends a request towards SCC AS-1 to replicate Media-A of an existing session to UE-2. The session setup request includes enough information for the network to:\n-\tidentify the session that contains the media flow to be replicated;\n-\tidentify that the media flow to be replicated is Media-A;\n-\tidentify that the source of the media flow to be replicated is the remote party;\n-\tidentify that the target of the replicated media flow is UE-2.\n2.\tS-CSCF-1 forwards the request to SCC AS-1.\n3.\tSCC AS-1 authorizes the request from UE-2 as specified in clause 6a.12.\n4.\tSCC AS-1 allocates media resource for the replicated Media-A.\n5.\tSCC AS-1 sends response towards UE-2.\n6.\tS-CSCF-1 forwards the response to UE-2.\n7.\tSCC AS-1 updates the Access Leg on Controller UE-1 for the replicated media flow (Media-A) with MRF.\n8.\tSCC AS-1 updates the Remote Leg to communicate Media-A with MRF.\nAfter the above operation, Media-A is established between Controller UE-1 and MRF, from MRF to Controllee UE-2 and MRF, and between remote party and MRF.\n6a.10.4\tReplicating media in network from Controller UE to another UE belonging to different IMS subscription - pull mode\nThe information flow in Figure 6a.10.4-1 illustrates a Collaborative Session scenario in which a UE not participating in the session requests that the network replicate towards itself a media flow that pertains to a UE belonging to different subscription (User-1). It is assumed that User-1 is an IUT subscriber. It is also assumed that, prior to the scenario, the user that requests the media replication (User-2) has discovered that there is an ongoing session between UE-1 and the remote party. If UE-1 does not support IUT related media procedures or the user is not an IUT subscriber, SCC AS-1 or UE-1 will return an error. In the illustrated scenario, UE-2 is currently not involved in the Collaborative Session until after Media-A is replicated towards it.\nFigure 6a.10.4-1: Replicating media in network from Controller UE to another UE belonging to different IMS subscription – pull mode\nThere is Media-A between Controller UE-1 and remote party.\n1.\tUE-2 sends a request towards UE-1 to replicate Media-A to UE-2. The request includes enough information for the network to:\n-\tidentify the session that contains the media flow to be replicated;\n-\tidentify that the media flow to be replicated is Media-A;\n-\tidentify that the source of the media flow to be replicated is the remote party;\n-\tidentify that the target of the replicated media flow is UE-2.\n2.\tS-CSCF-2 forwards the request to SCC AS-2.\n3.\tSCC AS-2 authorizes the request from UE-2 as specified in clause 6a.12.\n4.\tSCC AS-2 sends a request towards UE-1 to replicate Media-A from the remote party to UE-2. The request includes enough information for the network to:\n-\tidentify the session that contains the media flow to be replicated;\n-\tidentify the source of the request as UE-2;\n-\tidentify that the replicated media flow is Media-A;\n-\tidentify that the source of the media flow to be replicated is the remote party;\n-\tidentify that the target of the replicated media flow is UE-2.\n4a.\tS-CSCF-2 forwards the request towards UE-1.\n4b.\tS-CSCF-1 forwards the request to SCC AS-1.\n5.\tSCC AS-1 or UE-1 authorizes the request from UE-2.\n6.\tSCC AS-1 allocates media resource for the replicated Media-A.\n7.\tSCC AS-1 updates Access Leg in UE-1, finishes Access Leg establishment in UE-2, and updates Remote Leg to communicate Media-A with MRF.\nAfter the above operation, Media-A is established between Controller UE-1 and MRF, from MRF to Controllee UE-2 and MRF, and between remote party and MRF.\n6a.11\tSession Replication by remote party\n6a.11.1\tSession replication initiated by target UE\nThe call flow in the figure below shows the scenario where UE-2 requests replication of a session ongoing between UE-1 and a remote UE. After the replication procedure is complete, the sessions are independent.\nFigure 6a.11.1-1: Session replication initiated by target UE\n1.\tUE-2 obtains information about the existing sessions and their media flows.\n2.\tUE-2 uses the session information obtained and to send a session replication request towards the SCC AS. The request indicates that this request is for a session replication request.\n3.\tThe SCC AS performs authorization as specified in clause 6a.12; in particular, the SCC AS requests UE-1 to authorize the replication request or the SCC AS authorizes the request on behalf of UE-1 (e.g. pre-configured).\n4.\tIf the request is authorized, UE-2 creates a new session with the remote UE. When the new session is established, the state of the original media is replicated e.g. same playback state; same used media etc. is replicated. If the remote party does not support setting up a replicated session, the flow will fail.\nNOTE:\tThe session replication data and how it is conveyed from the source UE is not specified in this document.\n5.\tA new session, where the media is a replica of Media-A, is established between UE-2 and the remote UE.\n6a.11.2\tSession replication initiated by source UE\nThe call flow in the figure below shows the scenario where UE-1 requests replication of a session ongoing between UE 1 and a remote UE to UE-2. After the replication procedure is complete, the sessions are independent. As a pre-requisite, there exists a Session with Media–A on UE-1.\nFigure 6a.11.2-1: Session replication initiated by source UE\n1.\tUE-1 requests to replicate current session to UE-2 by sending Session Replication Request to SCC AS. The Session Replication Request should contain enough information for the SCC AS to:\n-\tidentify that the session replication source is UE-1;\n-\tidentify that the session replication target is UE-2;\n-\tidentify the remote party.\n2.\tSCC AS performs authorization as specified in clause 6a.12; in particular, the SCC AS checks UE-1 is eligible to request session replication for UE under the same subscription.\n3.\tSCC AS sends Session Replication request to controllee UE-2.\n4.\tUE-2 responses to the Session Replication request.\n5.\tUE-2 initiates a new session with the remote UE. When the new session is established, the state of the original media is replicated, e.g. same playback state, same used media, etc. is replicated. If the remote party does not support setting up a replicated session, the flow will fail.\nNOTE:\tThe session replication data and how it is conveyed from the source UE is not specified in this document.\n6.\tA new session, where the media are replica of Media-A, is established between UE-2 and the remote UE.\n6a.11.3\tSession replication initiated by source UE (different subscription)\nThe call flow in the figure below shows the scenario where UE-1 requests replication of a session ongoing between UE 1 and a remote UE to UE-2. After the replication procedure is complete, the sessions are independent. As a pre-requisite, there exists a Session Media–A on UE-1.\nFigure 6a.11.3-1: Session replication initiated by source UE, different subscriptions\n1.\tUE-1 requests to replicate current session to UE-2 by sending Session Replication Request to SCC AS-1. The Session Replication Request should contain enough information for the SCC AS to:\n-\tidentify that the session replication source is UE-1;\n-\tidentify that the session replication target is UE-2;\n-\tidentify the remote party.\n2.\tSCC AS-1 identify UE-2 is not under the same subscription as UE-1. It forwards the request to S-CSCF-2 that serves UE-2 together with the information of session on UE-1. S-CSCF-2 further forwards the request to SCC AS-2 that serves UE-2.\n3.\tSCC AS-2 performs authorization as specified in clause 6a.12, then sends Session Replication request together with UE-1 session information to UE-2.\n4.\tUE-2 decides to accept or reject the Session Replication request.\n5.\tIf the request is accepted by UE-2, UE-2 initiates a new session with the remote UE. When the new session is established, the state of the original media is replicated, e.g., same playback state, same used media, etc. is replicated.\nNOTE 1:\tIf either UE-2 or the remote party does not support setting up a replicated session, the flow will fail.\nNOTE 2:\tThe session replication data and how it is conveyed from the source UE is not specified in this document.\n6.\tSCC AS-2 sends Media Replication result to UE-1. A new session, where the media are replica of Media-A, is established between UE-2 and the remote UE.\n6a.11.4\tSession replication initiated by target UE (different subscription)\nThe call flow in the figure below shows the scenario where UE-2 requests replication of a session ongoing between UE-1 and a remote UE. UE-1 and UE-2 belongs to different subscriptions. After the replication procedure is complete, the sessions are independent.\nFigure 6a.11.4-1: Session replication initiated by target UE, different subscriptions\n1.\tUE-2 obtains information about the existing sessions and their media flows. This information will be sent by the AS serving UE-1 i.e. SSC AS-1 and relayed to UE-1 by SCC AS-2.\n2.\tUE-2 uses the session information obtained and to send a session replication request towards the SCC AS-2, which relays the request to SCC AS-1. The request indicates that this request is for a session replication request.\n3.\tThe SCC AS-1 performs authorization as specified in clause 6a.12; in particular, the SCC AS-1 requests UE-1 to authorize the replication request or the SCC AS-1 authorizes the request on behalf of UE-1 (e.g. pre-configured).\n4.\tIf the request is authorized, UE-2 creates a new session with the remote UE. When the new session is established, the state of the original media is replicated e.g. same playback state; same used media etc. is replicated. If the remote party does not support setting up a replicated session, the flow will fail.\nNOTE:\tThe session replication data and how it is conveyed from the source UE is not specified in this document.\n5.\tA new session, where the media is a replica of Media-A, is established between UE-2 and the remote UE.\n6a.12\tUser authorisation and preferences\nThere are two different kinds of authorization in the IUT architecture:\nAuthorization by the SCC AS. The SCC AS responsibilities includes:\n-\tchecking that the subscription allows the requested operation\n-\tenforcing network based user preferences, e.g. check whether other UEs shall be allowed to retrieve session information related to the UE.\n-\tenforcing restrictions provided by the remote party network. The SCC AS shall reject requests for Inter-UE Transfer operations on sessions where the remote party is served by a network that has expressed preferences to restrict Inter-UE transfer actions on on-going sessions between the remote party and an IUT user served by the SCC AS.\nNOTE:\tThe remote party network, through service agreements with the network operator serving the IUT user, can restrict IUT actions to be performed on sessions that users served by the remote party network are involved in. Such restrictions are expected to be applied on all sessions the remote party users are involved in. In the absence of privacy preferences indicated by the remote party network, the default behaviour of the SCC AS serving the IUT user is to carry out any requested IUT actions subject to other successful authorization checks.\nAuthorization of incoming request by the UE. The UE based authorization includes:\n-\tauthorization through end-user interaction, e.g. the end user authorizes requests for IUT Media Control Related Procedures by pressing a button on the device.\n-\tautomatic authorization by UE configuration, e.g. the UE automatically authorizes requests for IUT Media Control Related Procedures from a specific device.\nThe UE based authorization is considered to be a local implementation of the UE.\nIf the user requires configuring IUT authorisation and preference settings to the SCC AS, this shall be possible via the Ut interface. The information that can be configured includes:\n-\tUEs authorised by the user to perform the IUT Media Control Related Procedures; and\n-\tauthorisation for the SCC AS to preferentially route incoming session invitations from the remote party towards Controller capable UE(s). The user may additionally define criteria to determine whether to preferentially route incoming session invitations from the remote party towards Controller capable UE(s). It shall be possible to apply, for example, the following criteria and combinations of the following criteria to the incoming request:\n-\tCalling party identity (Public User Identity);\n-\tCalled party identity used;\n-\tIdentification of the Service (Service Identifier); and\n-\tMedia types being offered in the incoming request.\nThe SCC AS shall take in account operator policy and the above user preferences when determining:\n-\twhether the UE is authorised to perform the Controller UE functions, and\n-\twhether to preferentially route incoming session requests from a remote party towards Controller capable UE(s).\n6b\tVoid\n6c\tProcedures and flows for SRVCC Emergency Session\n6c.1\tIMS Emergency origination flow for PS to CS SRVCC\nFigure 6c.1-1 provides flow for an emergency session established in IMS, illustrating how the emergency session is anchored in the EATF.\nFigure 6c.1-1: UE initiating an emergency session in IMS\n1.\tThe UE initiates an IMS emergency session over NG-RAN (see TS 23.501 [37]), EPS or GPRS and the procedures defined in TS 23.167 [23]. This involves the UE generating a SIP INVITE containing the UE's location information and the equipment identifier.\nFor IMS emergency call over EPS (e.g. after transfer from NG-RAN, see TS 23.501 [37]) or GPRS, if the UE supports the UE procedures for the SRVCC session transfer of an IMS emergency session in early dialogue phase for PS to CS as described in the clause 6c.2.2, the UE includes in the SIP INVITE an indication of support of the UE procedures for the SRVCC session transfer of an IMS emergency session in early dialogue phase for PS to CS.\n2.\tThe P-CSCF selects an E-CSCF and forwards the INVITE to the E-CSCF.\n3.\tThe E-CSCF sends the INVITE to the EATF.\n4.\tThe EATF (acting as a routing B2BUA) anchors the emergency session, i.e. the EATF is inserted in the signalling path which invokes a 3pcc for enablement of Access Transfers for the call as specified in clause 6.3.1.3.\n5.\tThe EATF creates a new INVITE and sends it back to E-CSCF.\n6.\tFor this optional procedure, refer to TS 23.167 [23].\n7.\tThe E-CSCF uses the routing information to format the INVITE message, and it sends it directly to the PSAP, or to the PSAP via the MGCF.\n8.\tThe E-CSCF receives a response to the INVITE.\n9.\tThe E-CSCF forwards to the EATF the response to the INVITE.\n10.\tThe EATF forwards to the E-CSCF the response to the INVITE. If the network supports the network procedures for the SRVCC session transfer of an IMS emergency session in early dialogue phase for PS to CS as described in the clause 6c.2.2, and the INVITE request received in step 3 included an indication of support of the UE procedures for the SRVCC session transfer of an IMS emergency session in early dialogue phase for PS to CS, then the EATF includes in the response to the INVITE an indication of support of the network procedures for the SRVCC session transfer of an IMS emergency session in early dialogue phase for PS to CS.\n11.\tThe E-CSCF forwards to the P-CSCF the response to the INVITE.\n12.\tThe P-CSCF forwards to the UE the response to the INVITE.\n6c.2\tSRVCC session transfer of IMS emergency session for PS to CS\n6c.2.1\tSRVCC session transfer of an active IMS emergency session for PS to CS (single EATF instance)\nFigure 6c.2.1-1 provides flow for SRVCC for IMS emergency session, when the IMS emergency session is active session. This applies when a single EATF instance is deployed (see clause 6c.2.3 for multiple EATF instances).\nFigure 6c.2.1-1: IMS level Call flow for SRVCC for IMS emergency session with E-STN-SR with a single EATF instance\n1.\tMSC Server initiates the session transfer with the E-STN-SR and it includes the equipment identifier.\n2.\tThe I-CSCF routes the INVITE directly to the EATF via I5 by using similar procedures to that defined in TS 23.228 [4] for PSI based Application Server termination.\nNOTE 1:\tThe use of indirect routeing for PSI based Application Server Termination as described in TS 23.228 [4] in clause 5.7.6 cannot be used for routing the INVITE to the EATF.\n3 - 4.\tThe EATF uses the E-STN-SR to determine that Access Transfer is requested. The EATF proceeds with the Access Transfer of the active session with bi-directional speech for the UE by updating the Remote Leg with the media description and other information using the Remote Leg Update procedure as specified in clause 6.3.1.5. For SRVCC session transfer of an eCall over IMS, the EATF indicates in the reINVITE that the EATF shall exclude INFO requests for any Info Packages related to eCall over IMS as defined in RFC 6086 [34] clause 5.2.2.\nNOTE:\tIndicating an unwillingness to receive INFO requests will prevent an emergency centre/PSAP from sending an INFO message to request an updated MSD from the UE.\n5.\tThe E-CSCF forwards the Re-INVITE to the MGCF associated with the PSAP if the PSAP is located in the PSTN or CS Domain (the u-plane path is switched between the UE and the MGW) or the Re-INVITE is sent directly to an IP-capable PSAP (the u-plane path between the UE and the PSAP is switched end-to-end).\n6.\tWhen session modification procedures complete, the source access leg (i.e. the access leg previously established over IMS) is released as specified in clause 6.3.1.6.\nNOTE 2:\tIf non-voice media was part of the original Multimedia emergency call session, the non-voice media will be released.\n6c.2.2\tSRVCC session transfer of an IMS emergency session in early dialogue phase for PS to CS (single EATF instance)\nFigure 6c.2.2-1 provides flow for SRVCC for IMS emergency session, when the IMS emergency session is in early dialogue phase. This applies when a single EATF instance is deployed (see clause 6c.2.4 for multiple EATF instances).\nThis flow assumes that the UE indicated to the EATF the support of the UE procedures for the SRVCC session transfer of an IMS emergency session in early dialogue phase for PS to CS and that the EATF indicated to the UE the support of the network procedures for the SRVCC session transfer of an IMS emergency session in early dialogue phase for PS to CS, as described in clause 6c.1.\nFigure 6c.2.2-1: IMS level Call flow for SRVCC for IMS emergency session in early dialogue phase (i.e. pre-alerting or alerting) with E-STN-SR with a single EATF instance\n1.\tMSC Server initiates the session transfer with the E-STN-SR and it includes the equipment identifier.\n2.\tThe I-CSCF routes the INVITE directly to the EATF via I5 by using similar procedures to that defined in TS 23.228 [4] for PSI based Application Server termination.\nNOTE 1:\tThe use of indirect routeing for PSI based Application Server Termination as described in TS 23.228 [4] in clause 5.7.6 cannot be used for routing the INVITE to the EATF.\n3.\tThe EATF uses the E-STN-SR to determine that Access Transfer is requested. The EATF proceeds with the Access Transfer of the session in early dialogue phase (i.e. pre-alerting or alerting) with bi-directional speech for the UE by updating the Remote Leg with the media description and other information using the Remote Leg Update procedure as specified in clause 6.3.1.5.\n4.\tThe E-CSCF forwards the UPDATE to the MGCF associated with the PSAP if the PSAP is located in the PSTN or CS Domain (the u-plane path is switched between the UE and the MGW) or the UPDATE is sent directly to an IP-capable PSAP (the u-plane path between the UE and the PSAP is switched end-to-end).\n5.\tThe EATF provides Session State Information on the outgoing speech call in early dialogue phase (e.g., pre-alerting or alerting state).\n6.\tThe E-CSCF forwards the Session State Information to the MSC Server.\n7.\tThe MSC moves to the corresponding CS call state, e.g. Call Delivered or Mobile Originating Call Proceeding state as specified in TS 24.008 [24].\n8.\tThe UE has received the HO command as described in TS 23.216 [10]. The UE determines the local call state in the SIP session, and creates the corresponding CS call state, e.g. Call Delivered in TS 24.008 [24] for the alerting state, or Mobile Originating Call Proceeding for the pre-alerting state. The UE ensures that the same ring back tone or announcement if any is played to the end user. If the voice+video media is played to the UE in PS domain, and the CS domain does not support video media, only the voice media shall be played to the UE after the call is transferred to CS domain from PS domain, regardless of whether the media is locally generated by the UE or is network-generated to the UE.\n9.\tWhen session modification procedures complete and after delivering the Session State Information, the source access leg (i.e. the access leg previously established over IMS) is released as specified in clause 6.3.1.6.\nNOTE 2:\tIf non-voice media was part of the original Multimedia emergency call session, the non-voice media will be released.\n6c.2.3\tSRVCC session transfer of an active IMS emergency session for PS to CS when multiple EATF instances are deployed\n6c.2.3.1\tAlternative procedure based on forking\nFigure 6c.2.3.1-1 provides flow for SRVCC for IMS emergency session, when the IMS emergency session is active session and multiple EATF instances are deployed.\nFigure 6c.2.3.1-1: IMS level Call flow for SRVCC for IMS emergency session with E-STN-SR with support of multiple EATF instances by forking\n1.\tSame as step 1 of Figure 6c.2.1-1: the MSC Server initiates the session transfer with the E-STN-SR and it includes the equipment identifier.\n2.\tThe I-CSCF creates multiple INVITE transactions: one INVITE per configured EATF instance.\n3.\tEach EATF instance checks whether the equipment identifier matches with any transferable session:\n3a:\tif no dialog was associated with the domain transfer request, the EATF rejects it (step 3a).\n3b, 3c:\tif there is a match, the EATF proceeds with the Access Transfer (steps 3 to 5 of Figure 6c.2.1-1) and sends a 200 OK response to the I-CSCF.\n4.\tThe I-CSCF forwards the 200 OK response towards the MSC Server.\n6.\tSame as step 6 of Figure 6c.2.1-1.\n6c.2.3.2\tAlternative procedure based on redirection\nThe solution is based on the I-CSCF using existing procedures defined in TS 24.229 [26] related to SIP response results to redirect a session to a backup EATF when an EATF has failed.\nFigure 6c.2.3.2-1 provides flow for SRVCC for IMS emergency session, when the IMS emergency session is active session and multiple EATF instances are deployed.\nFigure 6c.2.3.2-1: IMS level Call flow for SRVCC for IMS emergency session with E-STN-SR with support of multiple EATF instances by redirection\n1.\tMSC Server initiates the session transfer with the E-STN-SR and it includes the equipment identifier.\n2.\tThe I-CSCF forwards te SIP INVITE to the target EATF instance EATF-1.\n3.\tThe target instance EATF-1 returns a 3xx response and incudes the contact address(es) for redundant instance(s) of EATF(s) that may have anchored the IMS session.\n4.\tThe I-CSCF forwards the SIP INVITE to (one of) the contact(s) in the returned 3xx, EATF-2.\n5.\tThe EATF returns a SIP 200 OK to the I-CSCF.\n6.\tI-CSCF returns SIP 200 OK response towards the MSC Server.\n7.\tMSC server returns SIP 200 OK to the UE.\n8.\tSame as step 6 of Figure 6c.2.1-1.\nNOTE 1:\tThe contact(s) to be returned by an EATF depends on operator configuration for number of geo-redundant EATFs.\nNOTE 2:\tTimeouts in the I-CSCF need to be set to ensure that in case of a complete EATF node failure, SRVCC procedure can successfully conclude.\n6c.2.4\tSRVCC session transfer of an IMS emergency session in early dialogue phase for PS to CS when multiple EATF instances are deployed\n6c.2.4.1\tAlternative procedure based on forking\nFigure 6c.2.4.1-1 provides flow for SRVCC for IMS emergency session, when the IMS emergency session is in early dialogue phase.\nFigure 6c.2.4.1-1: IMS level Call flow for SRVCC for IMS emergency session in early dialogue phase (i.e. pre-alerting or alerting) with support of multiple EATF instances by forking\n1.\tSame as step 1 of Figure 6c.2.2-1: the MSC Server initiates the session transfer with the E-STN-SR and it includes the equipment identifier.\n2.\tThe I-CSCF creates multiple INVITE transactions: one INVITE per configured EATF instance.\n2.2.\tIf no dialog is associated with the domain transfer request, the EATF rejects it.\n3 - 9.\tSame as corresponding steps in Figure 6c.2.2-1.\n6c.2.4.2\tAlternative procedure based on redirection\nFigure 6c.2.4.2-1 provides flow for SRVCC for IMS emergency session, when the IMS emergency session is in early dialogue phase.\nFigure 6c.2.4.2-1: IMS level Call flow for SRVCC for IMS emergency session in early dialogue phase (i.e. pre-alerting or alerting) with support of multiple EATF instances by redirection\n1.\tMSC Server initiates the session transfer with the E-STN-SR and it includes the equipment identifier.\n2.1.\tThe I-CSCF forwards the SIP INVITE to target instance EATF-1.\n2.2\tThe target instance EATF-1 returns a 3xx response and incudes the contact address(es) for a redundant instance(s) EATF(s) that may have anchored the IMS session.\n2.3\tThe I-CSCF forwards the SIP INVITE to (one of) the contact(s) in the returned 3xx, EATF-2.\n3 - 9.\tSame as corresponding steps in Figure 6c.2.2-1.\nNOTE 1:\tThe contact(s) to be returned by an EATF depends on operator configuration for number of geo-redundant EATFs.\nNOTE 2:\tTimeouts in the I-CSCF need to be set to ensure that in case of a complete EATF node failure, SRVCC procedure can successfully conclude.\n6c.3\tSRVCC Support for UEs in Normal Mode\nIf the MSC enhanced for PS to CS SRVCC has a SIP interface, it shall use the mechanism specified in TS 24.229 [26] additionally to carry the equipment identifier to the EATF.\nIf the MSC Server is enhanced for ICS as defined in TS 23.292 [5], then it performs IMS registration after the transfer of the session is completed successfully.\nIf the MSC enhanced for PS to CS SRVCC does not have a SIP interface, it shall convey the equipment identifier by using the IAM message to the MGCF. The MGCF shall use the mechanism specified in TS 24.229 [26] additionally to carry the equipment identifier to the EATF.\nThe EATF can then correlate the call legs according to the equipment identifier.\nNOTE:\tThe method for correlation of the call legs at the EATF if SIP or ISUP does not provide this information is implementation and configuration dependant.\n6c.4\tSRVCC Support for UEs in Limited Service Mode\nTo support SRVCC procedure for UEs in Limited Service Mode for PS to CS, the MSC enhanced for SRVCC will setup the call leg towards the EATF with the UE's equipment identifier.\nIf the MSC enhanced for PS to CS SRVCC has a SIP interface, it shall use the mechanism specified in TS 24.229 [26] to carry equipment identifier to the EATF.\nIf the MSC enhanced for PS to CS SRVCC does not have a SIP interface, it shall convey the equipment identifier by using the IAM message to the MGCF. The MGCF shall use the mechanism specified in TS 24.229 [26] to carry equipment identifier to the EATF.\nNOTE:\tThe method for correlation of the call legs at the EATF if SIP or ISUP does not provide this information is implementation dependant.\n6d\tProcedures and flows for DRVCC Emergency Session for WLAN\n6d.1\tIMS Emergency origination flow for PS to CS DRVCC\nThis procedure is only applicable if UE uses WLAN access to EPC via s2a or s2b, see TS 23.167 [23].\nFigure 6d.1-1 provides flow for an emergency session established in IMS, illustrating how the emergency session is anchored in the EATF.\nFigure 6d.1-1: UE initiating an emergency session in IMS\n1.\tThe UE initiates an IMS emergency session over WLAN access to EPC as defined in TS 23.167 [23]. This involves the UE generating a SIP INVITE containing the UE's location information and the equipment identifier.\n2.\tThe P-CSCF selects an E-CSCF and forwards the INVITE to the E-CSCF.\n3.\tThe E-CSCF sends the INVITE to the EATF.\n4.\tThe EATF (acting as a routing B2BUA) anchors the emergency session, i.e. the EATF is inserted in the signalling path which invokes a 3pcc for enablement of Access Transfers for the call as specified in clause 6.3.1.3. EATF allocates an E-STN-DR for this session. The INVITE contains information (network provided PANI header) that this call is via WLAN access and this can be used to trigger the E-STN-DR allocation. This E-STN-DR is return back to the UE in the SIP response message to #3.\n5.\tThe EATF creates a new INVITE and sends it back to E-CSCF.\n6.\tFor this optional procedure, refer to TS 23.167 [23].\n7.\tThe E-CSCF uses the routing information to format the INVITE message, and it sends it directly to the PSAP, or to the PSAP via the MGCF.\n6d.2\tDRVCC session transfer of IMS emergency session for PS to CS\nFigure 6d.2-1 provides flow for DRVCC for IMS emergency session.\nFigure 6d.2-1: IMS level Call flow for DRVCC for IMS emergency session with E-STN-DR\n1.\tUE has an active emergency session over WLAN and have received E-STN-DR from IMS (EATF) for this session. UE determines that handover to CS RAT is needed (based on UE implementation).\n2.\tUE performs normal CS location update if it has not yet attached to the CS domain.\n3.\tWhile the IMS emergency call is on-going/active, UE starts a normal CS call setup using the E-STN-DR.\nNOTE 1:\tIt is known that this solution does not support the higher RRC level priority for CS emergency setup using CS emergency setup procedure as defined in TS 24.008 [24]. However, this is a \"make before break\" procedure so UE can retry on the CS domain if call fails while emergency call is maintained on the WLAN side.\nEditor's note:\tIt is for further study if there is a need for and how to optimize the CS Setup procedure handling in the MSC.\n4-5\tMSC Server initiates the session transfer with the E-STN-DR and follow the same procedure as defined in clause 6c.2 with the following updates:\n-\tBased on configuration, MSC Sever is aware the E-STN-DR is within a range of numbers that are defined for dual radio emergency session continuity procedure and can trigger priority call handling if needed.\n-\tThe EATF uses the E-STN-DR to determine that Access Transfer is requested and for correlating with the source access leg for which the Access Transfer is needed.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.2",
        "clause_6",
        "clause_4.8.10",
        "clause_6.3.1.3",
        "ts_23.228_clause_5.7.6",
        "clause_6.3.1.5",
        "clause_5.2.2",
        "clause_6.3.1.6",
        "figure_6",
        "ts_23.167_figure_6",
        "ts_23.228",
        "ts_22.173",
        "ts_23.292",
        "ts_24.610",
        "ts_24.605",
        "ts_24.629",
        "ts_24.647",
        "ts_23.501",
        "ts_23.167",
        "ts_24.008",
        "ts_23.216",
        "ts_24.229"
      ]
    },
    {
      "chunk_id": "ts_23.237_7.1",
      "section_id": "7.1",
      "section_title": "General",
      "content": "There are no impacts on existing security mechanisms for the CS Domain or for IMS as a result of Session Transfers.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_7.2",
      "section_id": "7.2",
      "section_title": "Access security for CS Domain",
      "content": "TS 33.102 [11] describes the Security Architecture for GSM and UMTS subscribers, SC places no additional requirements upon the CS domain security than those already in the detailed access specific specification e.g., above those described in TS 33.102 [11].",
      "chunk_type": "general",
      "cross_references": [
        "ts_33.102"
      ]
    },
    {
      "chunk_id": "ts_23.237_7.3",
      "section_id": "7.3",
      "section_title": "Access security for IMS",
      "content": "TS 33.203 [12] specifies the security features and mechanisms for secure access to the IM subsystem (IMS). SC places no additional requirements upon the IMS above those described in TS 33.203 [12].",
      "chunk_type": "general",
      "cross_references": [
        "ts_33.203"
      ]
    },
    {
      "chunk_id": "ts_23.237_8.1",
      "section_id": "8.1",
      "section_title": "Charging strategy",
      "content": "To ensure the completeness and correctness of charging during Session Transfer procedure, and to avoid possible double billing in IMS and CS, the following strategy should be applied:\n-\tProvide cohesive charging records with a complete service continuity history for the whole duration of a SC subscriber multimedia session by the SCC AS.\n-\tFor cases of CS origination and CS termination, correlate the charging records generated in CS and IMS for the subscriber multimedia session, to avoid double billing to the subscriber.\n-\tTreat the charging records generated in the transferring-in access network for the call(s)/session(s) established during the Session Transfer as subsequent Access Legs, and therefore do not impact the direction of the initial call(s)/session(s) for the purpose of charging.\n-\tKeep the start of charging in the transferring-in access network align with the stop of charging in the transferring-out access network, to avoid double billing to the subscriber during the Session Transfer.\nTo avoid online charging correlation in IMS and CS domain, the SC online charging should be performed only in IMS, i.e. prepaid service logic in CS domain should not be invoked for anchored CS origination/termination call and subsequent CS origination call established for performing Session Transfer. In addition, the SCC AS should report information related to the initial multimedia session establishment as well as the information related to the Session Transfer procedure to OCS for correct credit control purpose.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.237_8.2",
      "section_id": "8.2",
      "section_title": "Accounting strategy",
      "content": "To assist in performing the settlement between operators, the following strategy shall be applied:\n-\tProvide cohesive charging records with a complete service continuity history for the whole duration of a SC subscriber multimedia session by the SCC AS.\n-\tUse the charging records for subsequent Access Legs generated in CS/IMS domain and the charging records generated in MGCF performing CS-IMS interworking, taking the complete service continuity history described above as reference, to perform the settlement between the providers of CS domain and IMS.\n-\tUse the access network information in IMS charging records, taking the complete service continuity history described above as reference, to perform the settlement between the providers of IP‑CAN and IMS Core.\n-\tAdditional reconciliation for I1 flows can also be applied, due to such flows being uniquely identifiable from other flows over the same bearer (see clause 5.4.1 of TS 23.292 [5] for more information).\n-\tAt least in roaming scenarios, the SCC-AS returns the ICID of the original access leg to the MSC-Server for the MSC-Server to include in charging records.\nAnnex A (informative):Controller UE and Controllee UE operations\nA.1\tGeneral\nTable A.1-1 provides an overview of Controller UE and Controllee UE operations. The operations of the Controllee UE without IUT capabilities are the same as those of the Controllee UE in Release 9\nTable A.1-1: Controller UE and Controllee UE operations\nOperations\nController UE\nController UE Comment\nControllee UE with IUT Capabilities\nControllee UE with IUT Capabilities Comment\nControllee UE without IUT Capabilities\nControllee UE without IUT Capabilities Comment\nAdd media flow (local end initiating case)\nAdd media flow by creating a new Access Leg on the same UE\nYes\nStandard SC procedures.\nYes\nStandard SC procedures.\nNo\nAdd media flow by creating a new Access Leg on a different UE\nYes\nRel-9 capability of IUT.\nYes\nRel-10 New capability of IUT.\nNo\nAdd media flow to an existing Access Leg on the same UE\nYes\nStandard IMS procedures.\nYes\nStandard IMS procedures.\nNo\nAdd media flow to an existing Access Leg on a different UE\nYes\nRel-9 capability of IUT.\nYes\nRel-10 New capability of IUT.\nNo\nRemove media flow (local end initiating case)\nRemove media flow from an Access Leg on the same UE\nYes\nStandard IMS procedures.\nYes\nStandard IMS procedures.\nYes\nStandard IMS procedures.\nRemove media flow from an Access Leg on a different UE\nYes\nRel-9 capability of IUT.\nYes\nRel-10 New capability of IUT.\nNo\nInvoke\nSupp\nServices\nMMTEL service control with media on the same UE (TS 22.173 [15])\nYes\nStandard IMS procedures.\nYes\nRel-10 New capability of IUT.\nNo\nMMTEL service control with media on a different UE (TS 22.173 [15])\nYes\nRel-9 capability of IUT.\nNo\nNo\nCollaborative Session Release\nYes\nRel-9 capability of IUT.\nNo\nNo\nRenegotiate media characteristics\n(local end initiating side)\nUpdate of media characteristics on the same UE\nYes\nStandard IMS procedures.\nYes\nStandard IMS procedures.\nYes\nStandard IMS procedures.\nUpdate of media characteristics on a different UE\nYes\nRel-10 New capability of IUT.\nYes\nRel-10 New capability of IUT.\nNo\nTransfer of media flow\nTransfer media flow from the same UE to a different UE\nYes\nRel-9 capability of IUT.\nYes\nRel-10 New capability of IUT.\nNo\nTransfer media flow from a different UE to another different UE\nYes\nRel-9 capability of IUT.\nYes\nRel-10 New capability of IUT.\nNo\nTransfer media flow from a different UE to the same UE\nYes\nRel-9 capability of IUT.\nYes\nRel-10 New capability of IUT.\nNo\nTransfer of Collaborative Session control\nTransfer Collaborative Session control from the same UE to a different UE\nYes\nRel-10 New capability of IUT. Only transfer to a different UE of the same service profile and same subscription is supported.\nNo\nNo\nTransfer Collaborative Session control from a different UE to the same UE\nNo\nYes\nRel-10 New capability of IUT. Only transfer from a different UE of the same service profile and same subscription is supported.\nNo\nReplication of media flow\nReplicate media flow from the same UE to a different UE\nYes\nRel-10 New capability of IUT.\nYes\nRel-10 New capability of IUT.\nNo\nReplicate media flow from a different UE to another different UE\nYes\nRel-10 New capability of IUT.\nYes\nRel-10 New capability of IUT.\nNo\nReplicate media flow from a different UE to the same UE\nYes\nRel-10 New capability of IUT.\nYes\nRel-10 New capability of IUT.\nNo\nAnnex B (Normative):Additional enhancements for SRVCC\nB.1\tGeneral\nThis annex describes optional procedure that MSC server may perform to enhance SRVCC. Clauses B.2.1 and B.2.2 describes procedure to minimize the transcoding points for SRVCC. In clause B.2.1, the procedure is triggered after performing SRVCC, while in clause B.2.2; it is triggered prior to performing SRVCC. For minimizing transcoding feature, if enabled, at least one of these options shall be supported and deployed by MSC server and IMS within one network. Clause B.3 describes the procedure to enables the MSC server to reject SRVCC due to UE call state incompatibility.\nB.2\tMinimize the transcoding for SRVCC\nB.2.1\tCodec re-negotiation after session transfer (SRVCC)\nAfter SRVCC has been successfully performed (see clauses 6.3.2.1.9.1 and 6.3.2.1.9.2), MSC Sever may initiates a SIP REINVITE to modify the Selected Codec towards the remote end in order to minimize the transcoding points in the voice path.\nFigure B.2-1 below illustrates this procedure with the assumption that the remote end supports the selected target RAN codec (B) in the Re-INVITE.\nFigure B.2.1-1: Re-negotiation method towards the remote end\n1.\tSRVCC is performed. MSC Server has included all supported codecs into the session transfer request to the ATCF. In this flow the codec list may include the codec that is currently used in the ongoing IMS session and ATCF has selected this codec, therefore there is no transcoding in ATGW but there may be transcoding in CS-MGW. The session between UE and CS-MGW uses the codec-B. The session between CS-MGW, ATGW and remote end uses the codec-A.\nNOTE 1:\tIf the codec list from MSC Server does not include the codec that is currently used in the ongoing session, ATCF initiates transcoding.\n2.\tThe MSC server sends a Re-INVITE to remote end with list of supported codecs in MSC server to ATCF, codec B is the most preferred codec in the list.\nNOTE 2:\tIt may be that the CS MGW or ATGW supports the audio Codec that is compatible or equal to the audio Codec used for the PS session but a change of the codec mode (such as bitrate, audio bandwidth, EVS Primary/AMR-WB IO modes) of the audio Codec used for the PS session is required. In this case the MSC server or ATCF may initiates a signalling towards to remote end to modify the codec mode of the audio Codec used for the PS session. The signalling to modify the codec mode is specific to the audio Codec used for the PS session as discussed in TS 26.114 [35], i.e. this procedure may be taken place by SIP invite, but may also be taken place by RTCP-APP or CMR (Codec Mode Request).\n3.\tATCF passes the Re-INVITE towards the SCC AS with the codec list.\n4.\tSCC AS performs a remote leg update towards the remote end.\n5-7.\tThe remote end accepts the offer and selects the most preferred codec it can support, in this case codec B was selected. From now on the codec B is used e2e in TrFO manner.\nB.2.2\tCodec inquiry prior to session transfer (SRVCC)\nB.2.2.1\tProcedure for codec inquiry prior to session transfer\nDuring SRVCC with ATCF procedure and prior to the session transfer and CS radio reservation procedure, MSC Server request from ATCF for the codec choice to be used for CS Codec on the target RAN.\nFigure B.2.2.1-1 below illustrates this procedure.\nFigure B.2.2.1-1: codec inquiry prior to session transfer\n1.\tPS-CS handover procedure is triggered from MME with SRVCC PS to CS Request (see TS 23.216 [10]).\n2a.\tMSC Server, optionally prior to executing the normal SRVCC procedure as defined in TS 23.216 [10], MSC Sever sends a PS-to-CS-Preparation-Request message (STN-SR, C-MSISDN, and MSC Supported Codec List) to the ATCF. The call-specific MSC Supported Codec List contains all Codecs (Codec Types plus Codec Configurations) that are supported and offered commonly by the UE, the target RAN and the target MGW.\n2b.\tThe ATCF compares the IMS Selected Codec with the Codecs of the MSC Supported Codec List and generates the call-specific IMS Preferred Codec List for the PS-to-CS-Preparation-Response message. The Payload Type Number of the IMS Selected Codec (Codec Type plus Codec Configuration) is included.\n3.\tMSC Server takes the information of the PS-to-CS-Preparation-Response message into account when continuing the SRVCC procedure.\nDuring the Session Transfer procedure, ATCF takes the MSC Preferred Codec List (indicated by MSC Server in the Initiation of Session Transfer as defined in TS 23.216 [10]) into account to determine the optimal Codec for the MSC-IMS interface. The downlink flow of VoIP packets is switched towards the CS access leg at this point. The ATCF responds to the Initiation of Session Transfer with the chosen Codec for the MSC-IMS interface back to the MSC Server.\nNOTE 1:\tIn case the CS Codec (used in target RAN) is still not compatible to the IMS Selected Codec and Transcoding is required, it is up to the ATCF to initiate a SIP REINVITE to modify the IMS Selected Codec towards the remote end. This modification may take place any time and is independent of the rest of the SRVCC procedure. Typically it is performed after the SRVCC was successful.\nNOTE 2:\tIt may be that the target RAN Codec is compatible or equal to the IMS Selected Codec, but a change of the codec mode (such as bitrate, audio bandwidth, EVS Primary/AMR-WB IO modes) of the IMS Selected Codec is required. In this case the ATCF initiates a signalling towards the remote end to modify the codec mode of IMS Selected Codec for the direction from the remote end towards the target RAN The signalling to modify the codec mode is specific to the IMS Selected Codec. This modification may take place any time and is independent of the rest of the SRVCC procedure. This procedure may be out-of-band, i.e. by SIP invite, but may also be in-band by RTCP-APP or CMR (Codec Mode Request). In many cases, it is beneficial and possible to start this signalling as soon as the ATCF got the MSC Supported Codec List as discussed in TS 26.114 [35].\nB.3\tReject SRVCC due to UE call state incompatibility\nAdditional enhancement may be applied to avoid unsuccessful SRVCC. If supported, this procedure enables the MSC server to decide whether to proceed or not proceed with SRVCC.\nIn order to enable the MSC server to decide whether to proceed with SRVCC or not for the current session, IMS needs to indicate to the MSC server if IMS supports SRVCC in pre-Alerting or Alerting state and the actual state of the call. If SRVCC at this stage of the call is not possible (e.g. due to the call being in Pre-Alerting or Alerting), then the MSC server shall not proceed with SRVCC.\nNOTE:\tStage 3 may specify different solutions; one that can be part of the codec inquiry and is used with that option while the other one can be within other procedure for SRVCC.\nAnnex C (Normative):ATCF in Architectures without IMS-level roaming interfaces\nC.1\tGeneral\nThis annex provides implementation guidelines for the deployment of ATCF in architectures without IMS-level roaming agreement, and where the P-CSCF and ATCF are located in the HPLMN and MSC is in the VPLMN. Support for architectures without IMS-level roaming interfaces is optional.\nC.2\tATCF enhancements SRVCC Architecture\nFigure C.2-1 provides the reference architecture for SRVCC using the ATCF enhancements. The figure only depicts the specific reference points for the ATCF. For other reference points of the general architecture, refer to the reference architecture in TS 23.292 [5], clause 5.2.\nFigure C.2-1: IMS Service Centralization and Continuity Reference Architecture when using ATCF enhancements in the HPLMN\nIf the ATCF is co-located with P-CSCF, the interface between ATCF and ATGW is Iq, according to TS 23.334 [30].\nIf the ATCF is co-located with IBCF, the interface between ATCF and ATGW is Ix, according to TS 29.162 [31].\nFor CS to PS SRVCC scenarios, the interface between MSC Server and ATCF is Mx. This interface does not require roaming level agreements.\nSIP signalling related to session transfer is transported from the MSC server in the VLPMN via the Mx reference point and via the IBCF in both VPLMN and the HPLMN to the ATCF in HPLMN. Since Mx is used a s a roaming interface in this case, the support of mid-call features depends on the ability to successfully transport the SIP headers associated with these features between the VPLMN, and the HPLMN and the support in the MSC server and the ATCF.\nC.3\tATCF in architectures with Mx as a roaming interface without media anchored in ATGW\nThis clause describes the case when the P-CSCF and the ATCF are in the HPLMN in architectures without IMS-level roaming interfaces. In this clause there is no media anchoring in the ATGW. It can be seen that SIP signalling is transported from the MSC server in the VPLMN to the IBCF in the VPLMN via the Mx reference point and in the HPLMN from the IBCF to the ATCF via the Mx reference point as well.\nFigure C.3-1: PS to CS access transfer\n1.\tInteraction between UE, RAN, MME/SGSN and MSC Server as specified in TS 23.216 [10]. The following step is triggered after the MSC Server has received the PS to CS request from the MME / SGSN and has allocated resources in the RAN.\n2.\tThe MSC Server initiates Access Transfer message and if supported, the MSC Server indicates its capability to support MSC Server assisted mid-call feature. The MSC Server provides all the supported Codecs for voice or voice and video in the Access Transfer message. The Access Transfer message is sent to the IBCF in the VPLMN towards the IBCF in the HPLMN.\nNOTE 1:\tThe STN-SR received by the MSC server, in conjunction with the routing tables in the MSC server ensures the proper routing of SIP signalling from the VPLMN to the HPLMN towards the ATCF via the IBCF.\n3.\tThe IBCF in the HPLMN sends the Access transfer message via the Mx reference point to the ATCF. The ATCF receives the Access Transfer message and correlates the transferred session using the C-MSISDN. As the media flow has not been anchored in the ATGW, the ATCF forwards the Access Transfer message along with priority indication if received to the SCC AS using the stored ATU-STI. If the MSC Server indicated it supported mid-call feature, it also indicates this in the message to the SCC AS.\n4.\tThe SCC AS correlates the incoming Access Transfer message. As the Session Description has changed, a remote end update is initiated according to clause 6.3.1.5.\n5.\tThe SCC AS sends an Access Transfer response to the ATCF in the HPLMN. In the case MSC Server assisted mid-call feature is supported and used, the SCC AS provides Session State Information (SSI) according to clause 6.3.2.1.4a.\n6.\tThe ATCF forwards the response to the IBCF in the HPLMN and from there to the IBCF in the visited network.\n7.\tThe IBCF in the VPLMN forwards the response to the MSC Server. If the MSC Server receives the Session State Information of more than one active or inactive speech sessions, it initiates Access Transfer towards SCC AS for the additional session according to clause 6.3.2.1.4a.\nNOTE 2:\tThe success of mid-call features depends upon the proper transport of the SIP signalling towards the ATCF and the support in ATCF.\n8.\tProcedures according to clause 6.3.2.1.4, steps 4a and 4b are used to handle the cases where the Gm reference point is either retained upon PS handover procedure, not retained upon PS handover, or if there was no other media flow(s) in the IMS session.\nAnnex D (informative):Change history\nChange history\nDate\nMeeting\nTDoc\nCR\nRev\nCat\nSubject/Comment\nNew version\n2011-03\nSP-51\nSP-110075\n0347\n4\nF\nUE SRVCC capability support with ATCF enhancements\n10.5.0\n2011-03\nSP-51\nSP-110075\n0348\n1\nF\nReference correction in clause 6.3.2.1.4\n10.5.0\n2011-03\nSP-51\nSP-110075\n0352\n1\nF\nCorrecting the IP address change behaviour\n10.5.0\n2011-03\nSP-51\nSP-110075\n0353\n-\nF\nEditor's note cleanup\n10.5.0\n2011-03\nSP-51\nSP-110075\n0354\n-\nF\nATGW transcoding support clarification\n10.5.0\n2011-03\nSP-51\nSP-110069\n0358\n1\nF\nIUT authorization by the SCC AS\n10.5.0\n2011-03\nSP-51\nSP-110069\n0359\n1\nF\nCheck of service profile during IUT without establishing a Collaborative Session\n10.5.0\n2011-03\nSP-51\nSP-110063\n0363\n2\nA\nCorrection to correlation of charging information collected at the MSC for SRVCC in roaming scenarios\n10.5.0\n2011-03\nSP-51\nSP-110081\n0361\n3\nB\nPS-CS Single Radio Access transfer for vSRVCC\n11.0.0\n2011-06\nSP-52\nSP-110342\n0366\n1\nF\nRemove editor's note for alerting in case of vSRVCC\n11.1.0\n2011-06\nSP-52\nSP-110342\n0367\n2\nF\nRemove editor's note on end-to-end video codec negotiation in case of vSRVCC\n11.1.0\n2011-06\nSP-52\nSP-110337\n0370\n1\nA\nCorrection of Access Transfer Information handling for ATCF\n11.1.0\n2011-06\nSP-52\nSP-110329\n0376\n-\nA\nCorrection on Controllee UE Role\n11.1.0\n2011-06\nSP-52\nSP-110329\n0378\n-\nA\nCorrection on Remote Leg Update for IUT\n11.1.0\n2011-06\nSP-52\nSP-110329\n0380\n1\nA\nClarification on Controller UE initiated media transfer from Controllee UE to another Controllee UE\n11.1.0\n2011-06\nSP-52\nSP-110329\n0382\n1\nA\nCorrection and Clarification on Controllee UE initiated add new media on another Controllee UE\n11.1.0\n2011-06\nSP-52\nSP-110329\n0384\n-\nA\nCorrection and Clarification on pull mode media transfer (same IMS subscription)\n11.1.0\n2011-09\nSP-53\nSP-110461\n0391\n2\nA\nUpdate of retrieval of C-MSISDN\n11.2.0\n2011-09\nSP-53\nSP-110461\n0395\n1\nA\nUpdate of SIP message routeing due to AS PSI\n11.2.0\n2011-09\nSP-53\nSP-110461\n0399\n2\nA\nATGW co-location clarification\n11.2.0\n2011-09\nSP-53\nSP-110461\n0403\n-\nA\nClarification to SRVCC of the session in pre-alerting state\n11.2.0\n2011-09\nSP-53\nSP-110464\n0400\n1\nB\neMPS for SRVCC on IMS level\n11.2.0\n2011-12\nSP-54\nSP-110737\n0413\n1\nA\nSource access leg release for IMS emergency sessions\n11.3.0\n2011-12\nSP-54\nSP-110737\n0415\n2\nA\nUpdate on interface reference between ATCF and ATGW and reference index alignment\n11.3.0\n2011-12\nSP-54\nSP-110745\n0404\n1\nF\nClarification of predefined codecs and PS to CS transfer of speech and video\n11.3.0\n2011-12\nSP-54\nSP-110745\n0405\n-\nF\nClarification of PS to CS transfer of speech and video in case of vSRVCC\n11.3.0\n2011-12\nSP-54\nSP-110747\n0407\n2\nB\nIntroduction of SRVCC from CS to PS\n11.3.0\n2011-12\nSP-54\nSP-110740\n0411\n1\nB\nClarification of emergency for SRVCC when using non-voice media\n11.3.0\n2011-12\nSP-54\nSP-110748\n0417\n2\nB\nRequirements for IUT remote end privacy preferences\n11.3.0\n2011-12\nSP-54\nSP-110748\n0418\n1\nF\nClarification of the Source Access Leg Release procedure\n11.3.0\n2012-03\nSP-55\nSP-120075\n0424\n1\nA\nRemoval of Instance ID in Session Transfer INVITE for SRVCC in alerting state\n11.4.0\n2012-03\nSP-55\nSP-120088\n0420\n1\nF\nPS to CS Dual Radio Access Transfer\n11.4.0\n2012-03\nSP-55\nSP-120088\n0421\n1\nF\nUE using ICS Capabilities in case of PS-CS Access Transfer\n11.4.0\n2012-03\nSP-55\nSP-120084\n0422\n-\nF\nClarification on the media gateway between PGW/GGSN and ATGW.\n11.4.0\n2012-03\nSP-55\nSP-120084\n0425\n1\nC\nEmergency call handling in rSRVCC\n11.4.0\n2012-06\nSP-56\nSP-120242\n0416\n2\nC\nClarification on eMPS SRVCC\n11.5.0\n2012-06\nSP-56\nSP-120250\n0426\n2\nF\nSingle Radio and Dual Radio clarification\n11.5.0\n2012-06\nSP-56\nSP-120248\n0427\n3\nF\nProviding rSRVCC capability in IMS layer\n11.5.0\n2012-06\nSP-56\nSP-120245\n0428\n2\nF\nClarification on vSRVCC additional call transfer\n11.5.0\n2012-06\nSP-56\nSP-120248\n0429\n-\nF\nATU-STI alignments and corrections\n11.5.0\n2012-06\nSP-56\nSP-120250\n0432\n2\nF\nSingle Radio and Dual Radio applicability\n11.5.0\n2012-06\nSP-56\nSP-120253\n0431\n1\nB\nAlerting for DRVCC\n12.0.0\n2012-12\nSP-58\nSP-120714\n0439\n1\nA\nCorrection of the requirements for I2 interface and SRVCC corrections\n12.1.0\n2012-12\nSP-58\nSP-120728\n0440\n-\nC\nDynamic STN for DRVCC\n12.1.0\n2012-12\nSP-58\nSP-120728\n0441\n2\nB\nIncoming alerting for DRVCC\n12.1.0\n2012-12\nSP-58\nSP-120728\n0444\n4\nB\nSRVCC before ringing (brSRVCC)\n12.1.0\n2012-12\nSP-58\nSP-120714\n0448\n2\nA\nCorrection to avoid the ATCF's STN-SR to be overwritten when a registration over I2 or non-3GPP access occurs\n12.1.0\n2012-12\nSP-58\nSP-120715\n0450\n2\nA\nDefinition of the MSC Assisted Mid-call feature\n12.1.0\n2012-12\nSP-58\nSP-120728\n0453\n1\nC\nAlignment of pre-alerting between SRVCC and DRVCC\n12.1.0\n2012-12\nSP-58\nSP-120726\n0455\n1\nA\nSuppression of announcements by MSC Server\n12.1.0\n2013-03\nSP-59\nSP-130087\n0457\n-\nA\nI2 registration for rSRVCC\n12.2.0\n2013-06\nSP-60\nSP-130232\n0458\n-\nF\nCorrecting PS-CS Dual Radio flow\n12.3.0\n2013-06\nSP-60\nSP-130213\n0461\n-\nA\nClarification on aSRVCC mid-call\n12.3.0\n2013-06\nSP-60\nSP-130223\n0463\n1\nA\nClarification regarding conference call participants leaving the conference\n12.3.0\n2013-09\nSP-61\nSP-130378\n0467\n1\nA\nCorrection of IMEI encoding\n12.4.0\n2013-12\nSP-62\nSP-130533\n0468\n1\nF\nCorrection in the definition of Pre-alerting state\n12.5.0\n2014-03\nSP-63\nSP-140111\n0469\n-\nF\nVoice + video media fallback to voice media in case of SRVCC in pre-alerting state or alerting phase\n12.6.0\n2014-06\nSP-64\nSP-140249\n0472\n-\nA\nIP-CAN access when an existing IMS voice session\n12.7.0\n2014-06\nSP-64\nSP-140252\n0478\n1\nA\nSelect held session as the first transferred session for alerting + held session scenario with Mid-call feature\n12.7.0\n2014-12\nSP-66\nSP-140686\n0480\n1\nF\nSubscription for conference event package after SRVCC\n12.8.0\n2015-06\nSP-68\nSP-150230\n0483\n1\nF\nEnhanced MSC Server announcement during Session Transfer\n12.9.0\n2015-06\nSP-68\nSP-150239\n0481\n1\nF\nNotify UE conference event package after SRVCC\n13.0.0\n2015-12\nSP-70\nSP-150599\n0487\n1\nA\nHeld session is being transferred first for alerting + held sessions scenario\n13.1.0\n2016-06\nSP-72\nSP-160302\n0488\n3\nB\nWLAN to CS session continuity for Emergency call over WLAN\n14.0.0\n2016-09\nSP-73\nSP-160660\n0489\n2\nB\nRobust Call Setup for VoLTE subscriber in LTE\n14.1.0\n2016-09\nSP-73\nSP-160647\n0494\n2\nF\nSupport of SRVCC for eCall Over IMS\n14.1.0\n2016-09\nSP-73\nSP-160658\n0496\n2\nB\nSRVCC transcoding minimization\n14.1.0\n2016-09\nSP-73\nSP-160654\n0497\n1\nB\nAdding IMS emergency registration after SRVCC\n14.1.0\n2016-12\nSP-74\nSP-160824\n0498\n1\nF\nRobust Call Setup for VoLTE subscriber in LTE\n14.2.0\n2016-12\nSP-74\nSP-160817\n0499\n-\nF\nDRVCC for emergency call with S2a/S2b only\n14.2.0\n2017-09\nSP-77\nSP-170732\n0504\n1\nB\nPS to CS SRVCC for IMS emergency session in early dialogue phase\n15.0.0\n2017-12\nSP-78\nSP-170924\n0503\n4\nB\nSupport of bSRVCC on terminating side\n15.1.0\n2018-06\nSP-80\nSP-180499\n0506\n-\nB\nInclude support for eSRVCC in IMS architectures with no IMS-level roaming agreements\n16.0.0\n2019-03\nSP-83\nSP-190162\n0507\n2\nB\nAdding UDM update the STN-SR to AMF\n16.1.0\n2019-06\nSP-84\nSP-190406\n0509\n2\nB\nIntroduction of support of multiple EATF instances in Emergency SRVCC procedures\n16.2.0\n2019-06\nSP-84\nSP-190411\n0510\n2\nF\nCompleting introducing of 5G SRVCC\n16.2.0\n2019-09\nSP-85\nSP-190601\n0512\n2\nA\nEnabling SRVCC for emergency call transferred to EPS\n16.3.0\n2020-07\nSP-88E\nSP-200552\n0514\n1\nF\nCorrections on ATCF\n16.4.0\n2022-03\nSP-95E\n-\n-\n-\n-\nUpdate to Rel-17 version (MCC)\n17.0.0\n2024-03\n-\n-\n-\n-\n-\nUpdate to Rel-18 version (MCC)\n18.0.0",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.292_clause_5.4.1",
        "ts_23.292_clause_5.2",
        "clause_6.3.1.5",
        "clause_6.3.2.1.4",
        "ts_23.292",
        "ts_22.173",
        "ts_26.114",
        "ts_23.216",
        "ts_23.334",
        "ts_29.162",
        "ts_10.5",
        "ts_16.0"
      ]
    }
  ]
}