{
  "metadata": {
    "specification_id": "ts_29.541",
    "version": "18.3.0",
    "title": "3GPP TS 29.541",
    "file_path": "/content/drive/MyDrive/RAG_thesis/data/29_series/29541-i30/29541-i30.docx"
  },
  "export_info": {
    "export_date": "2025-07-26T08:52:44.088521",
    "total_chunks": 84
  },
  "chunks": [
    {
      "chunk_id": "ts_29.541_1",
      "section_id": "1",
      "section_title": "Scope",
      "content": "The present document specifies the stage 3 protocol and data model for the Nnef Service Based South-Bound Interfaces for NIDD. It provides stage 3 protocol definitions and message flows, and specifies the API for each service offered by the NEF.\nThe 5G System stage 2 architecture and procedures are specified in 3GPP TS 23.501 [2] and 3GPP TS 23.502 [3].\nThe Technical Realization of the Service Based Architecture and the Principles and Guidelines for Services Definition are specified in 3GPP TS 29.500 [4] and 3GPP TS 29.501 [5].",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.501",
        "ts_23.502",
        "ts_29.500",
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.541_2",
      "section_id": "2",
      "section_title": "References",
      "content": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non‑specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".\n[3]\t3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".\n[4]\t3GPP TS 29.500: \"5G System; Technical Realization of Service Based Architecture; Stage 3\".\n[5]\t3GPP TS 29.501: \"5G System; Principles and Guidelines for Services Definition; Stage 3\".\n[6]\tOpenAPI: \"OpenAPI Specification Version 3.0.0\", https://spec.openapis.org/oas/v3.0.0.\n[7]\t3GPP TR 21.900: \"Technical Specification Group working methods\".\n[8]\t3GPP TS 33.501: \"Security architecture and procedures for 5G system\".\n[9]\tIETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".\n[10]\t3GPP TS 29.510: \"5G System; Network Function Repository Services; Stage 3\".\n[11]\tIETF RFC 9113: \" HTTP/2\".\n[12]\tIETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange Format\".\n[13]\tIETF RFC 9457: \"Problem Details for HTTP APIs\".\n[14]\t3GPP TS 29.571: \"5G System; Common Data Types for Service Based Interfaces; Stage 3\".\n[15]\t3GPP TS 29.522: \"5G System; Network Exposure Function Northbound APIs; Stage 3\".\n[16]\t3GPP TS 29.503: \"5G System; Unified Data Management Services; Stage 3\".\n[17]\t3GPP TS 29.542: \"5G System; Session management services for Non-IP Data Delivery (NIDD); Stage 3\".\n[18]\t3GPP TS 23.540: \"5G System; Technical realization of Service Based Short Message Service Stage 2\".\n[19]\t3GPP TS 29.577: \"5G System; IP Short Message Gateway and SMS Router For Short Message Service; Stage 3\".\n[20]\t3GPP TS 23.040: \"Technical realization of the Short Message Service (SMS)\".\n[21]\t3GPP TS 24.011: \" Point-to-Point (PP) Short Message Service (SMS) support on mobile radio interface\".",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905",
        "ts_23.501",
        "ts_23.502",
        "ts_29.500",
        "ts_29.501",
        "ts_21.900",
        "ts_33.501",
        "ts_29.510",
        "ts_29.571",
        "ts_29.522",
        "ts_29.503",
        "ts_29.542",
        "ts_23.540",
        "ts_29.577",
        "ts_23.040",
        "ts_24.011"
      ]
    },
    {
      "chunk_id": "ts_29.541_3.1",
      "section_id": "3.1",
      "section_title": "Terms",
      "content": "Void.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.541_3.2",
      "section_id": "3.2",
      "section_title": "Symbols",
      "content": "Void.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.541_3.3",
      "section_id": "3.3",
      "section_title": "Abbreviations",
      "content": "For the purposes of the present document, the abbreviations given in 3GPP TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in 3GPP TR 21.905 [1].\nDNN\tData Network Name\nMO\tMobile Originated\nNEF\tNetwork Exposure Function\nNIDD\tNon-IP Data Delivery\nSM\tSession Management\nSMF\tSession Management Function\nNSSAI\tNetwork Slice Selection Assistance Information\nRDS\tReliable Data Service\nSUPI\tSubscription Permanent Identifier",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905"
      ]
    },
    {
      "chunk_id": "ts_29.541_4.1",
      "section_id": "4.1",
      "section_title": "Introduction",
      "content": "Within the 5GC, the NEF offers NIDD services to the NF (e.g. SMF) or the NEF offers MO SMS service to the NF (e.g. SMS-SC) via the Nnef service based southbound interface (see 3GPP TS 23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS 23.540 [18]).\nFigure 4.1-1 provides the reference model (in service based interface representation and in reference point representation), with focus on the NEF and the scope of the present specification.\nFigure 4.1-1: Reference model – NEF\nThe functionalities supported by the NEF are listed in clause 6.2.5 of 3GPP TS 23.501 [2].",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.501_clause_6.2.5",
        "ts_23.502_figure_4.1-1",
        "figure_4.1-1",
        "ts_23.501",
        "ts_23.502",
        "ts_23.540"
      ]
    },
    {
      "chunk_id": "ts_29.541_5.1",
      "section_id": "5.1",
      "section_title": "Introduction",
      "content": "The table 5.1-1 shows the NEF Services and Service Operations for NIDD and SMS:\nTable 5.1-1 List of NEF Services for NIDD and SMS\nService Name\nService Operations\nOperation Semantics\nExample Consumer(s)\nMapped Service Operation\nNnef_SMContext\nCreate\nRequest/Response\nSMF\nNnef_SMContext_Create\nDelete\nRequest/Response\nSMF\nNnef_SMContext_Delete\nStatus Notify\nSubscribe/Notify\nSMF\nNnef_SMContext_DeleteNotify (NOTE)\nUpdate\nRequest/Response\nSMF\nDelivery\nRequest/Response\nSMF\nNnef_SMContext_Delivery\nNnef_SMService\nMoForwardSm\nRequest/Response\nSMS-SC\nNnef_SMService_MoForwardSm\nNOTE:\tThe Status Notify service operation models the Nnef_SMContext_DeleteNotify service operation specified in 3GPP TS 23.502 [3] (see clause 5.2.2.4.2).\nTable 5.1-2 summarizes the corresponding APIs defined for this specification.\nTable 5.1-2: API Descriptions\nService Name\nClause\nDescription\nOpenAPI Specification File\napiName\nAnnex\nNnef_SMContext\n6.1\nNnef SMContext Service\nTS29541_Nnef_SMContext.yaml\nnnef-smcontext\nA.2\nNnef_SMService\n6.2\nNnef SMService Service\nTS29541_Nnef_SMService.yaml\nnnef-smservice\nA.3",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.502_clause_5.2.2.4.2",
        "table_5.1-1",
        "table_5.1-2",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.541_5.2.1",
      "section_id": "5.2.1",
      "section_title": "Service Description",
      "content": "The service allows a NF to manage the SM Contexts on NEF for NIDD. A NF as service consumer (e.g. SMF) can create, update or release SM Contexts for NIDD on NEF. A created SM Context for NIDD may also be released by NEF.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.541_5.2.2.1",
      "section_id": "5.2.2.1",
      "section_title": "Introduction",
      "content": "The Nnef_SMContext service supports following service operations:\n-\tCreate\n-\tDelete\n-\tStatusNotify\n-\tUpdate\n-\tDeliver",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.541_5.2.2.2.1",
      "section_id": "5.2.2.2.1",
      "section_title": "General",
      "content": "The Create service operation is used during the following procedure:\n-\tSMF-NEF Connection Establishment procedure (see 3GPP TS 23.502 [3], clause 4.25.2)\nThe Create service operation is invoked by a NF Service Consumer (e.g. a SMF) towards the NEF, when the SMF received a PDU Session establishment request from the UE with PDU Session type of \"Unstructured\", and the subscription information corresponding to the UE requested DNN includes the \"NEF Identity for NIDD\". There shall be only one individual SM context per PDU session.\nThe NF Service Consumer (e.g. the SMF) shall create the SM Context for NIDD on NEF by sending the HTTP POST request towards the SM Contexts Collection resource as shown in Figure 5.2.2.2.1-1.\nFigure 5.2.2.2.1-1: Create Service Operation\n1.\tThe NF Service Consumer shall send a POST request to the resource representing the SM Contexts Collection resource of the NEF with a \"SmContextCreateData\" object in request body, including:\n-\tSUPI of the UE;\n-\tPDU session ID;\n-\tS-NSSAI associated with the PDU session;\n-\tDNN of the PDU session;\n-\tNIDD information, such as GPSI, AF ID, etc.;\n-\tNEF ID, indicating the provisioned identity for NIDD service;\n-\tURI of the Individual PDU session resource for downlink data delivery (see clause 6.1.3.2 of 3GPP TS 29.542 [17]);\n-\tNotification URI to receive the SM Context notifications;\n-\toptionally the indication of UE capability to support Reliable Data Service (RDS);\n-\toptionally the configuration parameters, e.g. serving PLMN rate control, small data rate control, etc.;\n-\toptionally small data rate control status, if small data rate control is previously enabled and to be resumed\n2a.\tOn success, \"201 Created\" shall be returned and the \"Location\" header shall be present and shall contain the URI of the created Individual SM Context resource.\nThe content of the POST response shall contain a \"SmContextCreatedData\" object, including:\n-\tSUPI of the UE;\n-\tPDU session ID;\n-\tS-NSSAI associated with the PDU session;\n-\tDNN of the PDU session;\n-\tNEF ID, indicating the provisioned identity for NIDD service;\n-\toptionally the indication of NEF capability to support Reliable Data Service (RDS);\n-\toptionally the indication of NEF capability to support Extended Buffering;\n-\toptionally Maximum Packet Size in bytes for NIDD data packet.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.2.3.1-3 shall be returned, the response body should contain a \"ProblemDetails\" object with \"cause\" attribute set to one of the application errors listed in Table 6.1.3.2.3.1-3.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.502_clause_4.25.2",
        "ts_29.542_clause_6.1.3.2",
        "table_6.1.3.2.3.1-3",
        "figure_5.2.2.2.1-1",
        "ts_23.502",
        "ts_29.542"
      ]
    },
    {
      "chunk_id": "ts_29.541_5.2.2.3.1",
      "section_id": "5.2.2.3.1",
      "section_title": "General",
      "content": "The Delete service operation is used during the following procedure:\n-\tSMF Initiated SMF-NEF Connection Release procedure (see 3GPP TS 23.502 [3], clause 4.25.7)\nThe Delete service operation is invoked by a NF Service Consumer (e.g. a SMF) towards the NEF, when the PDU Session Release is initiated and a SM context for NIDD has been previously created on NEF for the PDU session.\nThe NF Service Consumer (e.g. the SMF) shall delete the SM Context for NIDD on NEF by invoking the \"release\" custom operation on the Individual SM Context resource as shown in Figure 5.2.2.3.1-1.\nFigure 5.2.2.3.1-1: Delete Service Operation\n1.\tThe NF Service Consumer shall send a HTTP POST request towards the URI of \"release\" custom operation on the Individual SM Context resource received from the \"Location\" header during a successful Create service operation invocation (See clause 5.2.2.2). The request body shall contain a \"SmContextReleaseData\" object.\n2a.\tOn success, \"204 No Content\" shall be returned if no information is to be returned to the NF service consumer; otherwise \"200 OK\" shall be returned with a \"SmContextReleasedData\" object in response body including necessary information to the NF service consumer, e.g.:\n-\tSmall Data Rate Control status, if Small Data Rate Control is enforced;\n-\tAPN Rate Status, if APN Rate Control is enforced\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.3.4.2-2 shall be returned, the response body should contain a \"ProblemDetails\" object with \"cause\" attribute set to one of the application errors listed in Table 6.1.3.3.4.2.2-2.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.502_clause_4.25.7",
        "clause_5.2.2.2",
        "table_6.1.3.3.4.2-2",
        "table_6.1.3.3.4.2.2-2",
        "figure_5.2.2.3.1-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.541_5.2.2.4.1",
      "section_id": "5.2.2.4.1",
      "section_title": "General",
      "content": "The Status Notify service operation is used during the following procedure:\n-\tNEF Initiated SMF-NEF Connection Release procedure (see 3GPP TS 23.502 [3], clause 4.25.8)\nThe Status Notify service operation is invoked by the NEF to inform a NF Service Consumer (e.g. a SMF), when the status of the Individual SM Context has changed.\nThe NEF shall inform the status change of the Individual SM Context resource by sending the HTTP POST method towards the Notification URI as shown in Figure 5.2.2.4.1-1.\nFigure 5.2.2.4.1-1: Status Notify Service Operation\n1.\tThe NEF shall send a POST request towards the Notification URI received in the Create service operation request (See clause 5.2.2.2). The request body shall contain a \"SmContextStatusNotification\" object indicating the changed status of the Individual SM Context resource. The \"smContextId\" attribute shall contain the URI of the SM Context resource that triggers the notification.\n2a.\tOn success, \"204 No content\" shall be returned without response body.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.5.2.3.1-2 shall be returned, the response body should contain a \"ProblemDetails\" object.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.502_clause_4.25.8",
        "clause_5.2.2.2",
        "table_6.1.5.2.3.1-2",
        "figure_5.2.2.4.1-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.541_5.2.2.4.2",
      "section_id": "5.2.2.4.2",
      "section_title": "Notify of Individual SM Context Release (Nnef_SMContext_DeleteNotify)",
      "content": "During NEF initiated SMF-NEF connection release procedure (see 3GPP TS 23.502 [3], clause 4.25.8), the NEF shall send Status Notification to inform the NF service consumer that the Individual SM Context is released.\nThe requirements in clause 5.2.2.4.1 shall be applied, with following additions:\n1.\tSame as step 1 of Figure 5.2.2.4.1-1, the NEF shall set the value of \"status\" attribute in the request body to \"RELEASED\".\n-\tIf Small Data Rate Control is enforced, the response body should include the Small Data Rate Control status.\n-\tIf APN Rate Control is enforced, the response body should include the APN Rate Status.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.502_clause_4.25.8",
        "clause_5.2.2.4.1",
        "figure_5.2.2.4.1-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.541_5.2.2.5.1",
      "section_id": "5.2.2.5.1",
      "section_title": "General",
      "content": "The Update service operation is invoked by a NF Service Consumer, e.g. a SMF, towards the NEF, when the SMF detects that some of the configurations of the PDU session has changed and the related SM Context for NIDD needs to be updated accordingly.\nThe NF Service Consumer (e.g. the SMF) shall update the SM Context for NIDD on NEF by invoking the \"update\" custom operation of the Individual SM Context resource as shown in Figure 5.2.2.5.1-1.\nFigure 5.2.2.5.1-1: Update Service Operation\n1.\tThe NF Service Consumer shall send a POST request to the URI of \"update\" custom operation on an Individual SM Context resource, with a \"SmContextUpdateData\" object in request body containing the attributes to be updated, e.g.:\n-\tURI of the resource to receive downlink data delivery for NIDD;\n-\tNotification URI to receive the SM Context notifications;\n-\tmodified configuration parameters, e.g. serving PLMN rate control, small data rate control, etc.\nNOTE:\tIf both the NEF and the NF service consumer (i.e. the SMF) supports \"BIUMR\" feature, the SMF can include the updated binding indication(s) for multiple PDU session resources (for NIDD downlink data delivery) and/or notification URIs (for SM Context notifications), as specified in clauses 6.12.1 and 5.2.3.2.6 of 3GPP TS 29.500 [4].\n2a.\tOn success, \"204 No Content\" shall be returned.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.3.4.3.2-2 shall be returned, the response body should contain a ProblemDetails object with \"cause\" attribute set to one of the application errors listed in Table 6.1.3.3.4.3.2-2.",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.1.3.3.4.3.2-2",
        "figure_5.2.2.5.1-1",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.541_5.2.2.6.1",
      "section_id": "5.2.2.6.1",
      "section_title": "General",
      "content": "The Deliver service operation is invoked by a NF Service Consumer, e.g. a SMF, to transport Mobile Originated data packet via NEF.\nThe NF Service Consumer (e.g. the SMF) shall deliver Mobile Originate data via NEF by invoking the \"deliver\" custom operation of the Individual SM Context resource as shown in Figure 5.2.2.6.1-1.\nFigure 5.2.2.5.6-1: Deliver Service Operation\n1.\tThe NF Service Consumer shall send a POST request to the URI of \"deliver\" custom operation on an Individual SM Context resource, with the request body containing:\n-\tthe MO data as binary body part with content type set as \"application/octet-stream\"; and\n-\ta \"DeliverReqData\" object as another body part with \"data\" attribute refer to the MO data binary part.\n2a.\tOn success, \"204 No Content\" shall be returned.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.3.4.4.2-2 shall be returned. The response body should contain a ProblemDetails object with \"cause\" attribute set to one of the application errors listed in Table 6.1.3.3.4.4.2-2.",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.1.3.3.4.4.2-2",
        "figure_5.2.2.6.1-1",
        "figure_5.2.2.5.6-1"
      ]
    },
    {
      "chunk_id": "ts_29.541_5.3.1",
      "section_id": "5.3.1",
      "section_title": "Service Description",
      "content": "See 3GPP TS 23.540 [18] clause 6.8.1",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.540_clause_6.8.1",
        "ts_23.540"
      ]
    },
    {
      "chunk_id": "ts_29.541_5.3.2.2.1",
      "section_id": "5.3.2.2.1",
      "section_title": "General",
      "content": "The MoForwardSm service operation shall be used to transmit MO SMS message via NEF.\nIt is used in the following procedures:\n-\tMSISDN-less MO SMS message transfer (see clause 5.2.4 of 3GPP TS 23.540 [18]).\nThe NF Service Consumer (e.g. SMS-SC) shall transmit MO SMS message to NEF by using the HTTP POST method as shown in Figure 5.3.2.2.1-1.\nFigure 5.3.2.2.1-1: SBI-based MO SM transfer\n1.\tThe NF Service Consumer shall send a POST request to the resource representing the UE's Mobile Originated Short Message Information resource (i.e. …/sm-contexts/{supi}/sendsms) of the NEF. The content of the POST request shall contain the SMS message to be sent.\n2a.\tOn success, \"200 OK\" shall be returned with \"SmsDeliveryData\" object contains the MO SMS Delivery Report in the response body.\n2b.\tOn failure, or redirection, one of the HTTP status code listed in Table 6.2.3.2.4.2.2-2 shall be returned.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.540_clause_5.2.4",
        "table_6.2.3.2.4.2.2-2",
        "figure_5.3.2.2.1-1",
        "ts_23.540"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.1",
      "section_id": "6.1.1",
      "section_title": "Introduction",
      "content": "The  Nnef_SMContext service shall use the Nnef_SMContext service API.\nThe request URI used in HTTP request from the NF service consumer towards the NF service producer shall have the structure defined in clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:\n{apiRoot}/<apiName>/<apiVersion>/<apiSpecificResourceUriPart>\nwith the following components:\n-\tThe {apiRoot} shall be set as described in 3GPP TS 29.501 [5].\n-\tThe <apiName> shall be \"nnef-smcontext\".\n-\tThe <apiVersion> shall be \"v1\".\n-\tThe <apiSpecificResourceUriPart> shall be set as described in clause 6.1.3.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.501_clause_4.4.1",
        "clause_6.1.3",
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.2.1",
      "section_id": "6.1.2.1",
      "section_title": "General",
      "content": "HTTP/2, IETF RFC 9113 [11], shall be used as specified in clause 5 of 3GPP TS 29.500 [4].\nHTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].\nThe OpenAPI [6] specification of HTTP messages and content bodies for the Nnef_SMContext API is contained in Annex A.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5",
        "ts_29.500_clause_5.3",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.2.2.1",
      "section_id": "6.1.2.2.1",
      "section_title": "General",
      "content": "See clause 5.2.2 of 3GPP TS 29.500 [4] for the usage of HTTP standard headers.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5.2.2",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.2.2.2",
      "section_id": "6.1.2.2.2",
      "section_title": "Content type",
      "content": "JSON, IETF RFC 8259 [12], shall be used as content type of the HTTP bodies specified in the present specification as specified in clause 5.4 of 3GPP TS 29.500 [4]. The use of the JSON format shall be signalled by the content type \"application/json\".\n\"Problem Details\" JSON object shall be used to indicate additional details of the error in a HTTP response body and shall be signalled by the content type \"application/problem+json\", as defined in IETF RFC 9457 [13].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_5.4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.2.3",
      "section_id": "6.1.2.3",
      "section_title": "HTTP custom headers",
      "content": "The mandatory HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS 29.500 [4] shall be applicable. In this release of the specification, no specific custom headers are defined for the Nnef_SMContext service.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_5.2.3.2",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.3.1",
      "section_id": "6.1.3.1",
      "section_title": "Overview",
      "content": "Figure 6.1.3.1-1 describes the resource URI structure of the Nnef_SMContext API.\nFigure 6.1.3.1-1: Resource URI structure of the Nnef_SMContext API\nTable 6.1.3.1-1 provides an overview of the resources and applicable HTTP methods.\nTable 6.1.3.1-1: Resources and methods overview\nResource name\nResource URI\nHTTP method or custom operation\nDescription\nSM Contexts Collection\n{apiRoot}/nnef-smcontext/<apiVersion>/sm-contexts\nPOST\nCreates an Individual SM Context resource.\nIndividual SM Context\n{apiRoot}/nnef-smcontext/<apiVersion>/sm-contexts/{smContextId}/release\nrelease (POST)\nDeletes an Individual SM Context resource.\n{apiRoot}/nnef-smcontext/<apiVersion>/sm-contexts/{smContextId}/update\nupdate (POST)\nUpdates an Individual SM Context resource.\n{apiRoot}/nnef-smcontext/<apiVersion>/sm-contexts/{smContextId}/deliver\ndeliver (POST)\nDelivers Mobile Originated data packet.",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.1.3.1-1",
        "figure_6.1.3.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.3.2.1",
      "section_id": "6.1.3.2.1",
      "section_title": "Description",
      "content": "This resource represents the collection of the Individual SM Context resources created in the NEF.\nThis resource is modelled with the Collection resource archetype (see clause C.2 of 3GPP TS 29.501 [5]).",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.3.2.2",
      "section_id": "6.1.3.2.2",
      "section_title": "Resource Definition",
      "content": "Resource URI: {apiRoot}/nnef-smcontext/<apiVersion>/sm-contexts\nThis resource shall support the resource URI variables defined in table 6.1.3.2.2-1.\nTable 6.1.3.2.2-1: Resource URI variables for this resource\nName\nDefinition\napiRoot\nSee clause 6.1.1\napiVersion\nSee clause 6.1.1",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6.1.1",
        "table_6.1.3.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.3.2.3",
      "section_id": "6.1.3.2.3",
      "section_title": "Resource Standard Methods",
      "content": "6.1.3.2.3.1\tPOST\nThis method creates an Individual SM Context resource in the SM Context Collection.\nThis method shall support the URI query parameters specified in table 6.1.3.2.3.1-1.\nTable 6.1.3.2.3.1-1: URI query parameters supported by the POST method on this resource\nName\nData type\nP\nCardinality\nDescription\nApplicability\nn/a\nThis method shall support the request data structures specified in table 6.1.3.2.3.1-2 and the response data structures and response codes specified in table 6.1.3.2.3.1-3.\nTable 6.1.3.2.3.1-2: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nSmContextCreateData\nM\n1\nRepresentation of the Individual SM context to be created.\nTable 6.1.3.2.3.1-3: Data structures supported by the <method 1> Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nSmContextCreatedData\nM\n1\n201 Created\nSuccessful creation of an Individual SM context.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\n(NOTE 2)\nProblemDetails\nO\n1\n403 Forbidden\nThe \"cause\" attribute may be used to indicate the following application errors:\n- USER_UNKNOWN\n- NIDD_CONFIGURATION_NOT_AVAILABLE\nSee table 6.1.7.3-1 for the description of these errors.\nNOTE 1:\tThe manadatory HTTP error status code for the POST method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] other than those specified in the table above also apply, with response body containing an object of ProblemDetails data type (see clause 5.2.7 of 3GPP TS 29.500 [4]).\nNOTE 2:\tRedirectResponse may be inserted by an SCP, see clause 6.10.9.1 of 3GPP TS 29.500 [4].\nTable 6.1.3.2.3.1-4: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same NEF or NEF (service) set.\nFor the case, when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected\nTable 6.1.3.2.3.1-5: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same NEF or NEF (service) set.\nFor the case, when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_5.2.7",
        "ts_29.500_clause_6.10.9.1",
        "table_6.1.3.2.3.1-1",
        "table_6.1.3.2.3.1-2",
        "table_6.1.3.2.3.1-3",
        "table_6.1.7.3-1",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.1.3.2.3.1-4",
        "table_6.1.3.2.3.1-5",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.3.2.4",
      "section_id": "6.1.3.2.4",
      "section_title": "Resource Custom Operations",
      "content": "None.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.541_6.1.3.3.1",
      "section_id": "6.1.3.3.1",
      "section_title": "Description",
      "content": "This resource represents an Individual SM Context resource in the NEF.\nThis resource is modelled with the Document resource archetype (see clause C.2 of 3GPP TS 29.501 [5]).",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.3.3.2",
      "section_id": "6.1.3.3.2",
      "section_title": "Resource Definition",
      "content": "Resource URI: {apiRoot}/nnef-smcontext/<apiVersion>/sm-contexts/{smContextId}\nThis resource shall support the resource URI variables defined in table 6.1.3.3.2-1.\nTable 6.1.3.3.2-1: Resource URI variables for this resource\nName\nDefinition\napiRoot\nSee clause 6.1.1\napiVersion\nSee clause 6.1.1\nsmContextId\nSM context identifier assigned by the NEF during the Create service operation.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6.1.1",
        "table_6.1.3.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.3.3.3",
      "section_id": "6.1.3.3.3",
      "section_title": "Resource Standard Methods",
      "content": "There is no standard HTTP method supported by this resource.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.541_6.1.3.3.4",
      "section_id": "6.1.3.3.4",
      "section_title": "Resource Custom Operations",
      "content": "6.1.3.3.4.1\tOverview\nThis resource supports custom operation(s) as specified in table 6.1.3.3.4.1-1.\nTable 6.1.3.3.4.1-1: Custom operations\nCustom operaration URI\nMapped HTTP method\nDescription\n{resourceUri}/release\nPOST\nDelete service operation.\n{resourceUri}/update\nPOST\nUpdate service operation.\n{resourceUri}/deliver\nPOST\nDeliver service operation\n6.1.3.3.4.2\tOperation: release\n6.1.3.3.4.2.1\tDescription\nThis custom operation releases an Individual SM Context resource previously created in the NEF.\n6.1.3.3.4.2.2\tOperation Definition\nThis operation shall support the request data structures specified in table 6.1.3.2.4.2.2-1 and the response data structure and response codes specified in table 6.1.3.2.4.2.2-2.\nTable 6.1.3.3.4.2.2-1: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nSmContextReleaseData\nM\n1\nRepresentation of the information to release the Individual SM context.\nTable 6.1.3.3.4.2.2-2: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nSmContextReleasedData\nM\n1\n200 OK\nSuccessful release of an Individual SM context with information sent to the NF service consumer.\nn/a\n204 No Content\nSuccessful release of an Individual SM context without information sent to the NF service consumer.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\n(NOTE 2)\nProblemDetails\nO\n1\n404 Not Found\nThe \"cause\" attribute may be used to indicate the following application errors:\n- CONTEXT_NOT_FOUND\nSee table 6.1.7.3-1 for the description of these errors.\nNOTE 1:\tThe manadatory HTTP error status code for the POST method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] other than those specified in the table above also apply, with response body containing an object of ProblemDetails data type (see clause 5.2.7 of 3GPP TS 29.500 [4]).\nNOTE 2:\tRedirectResponse may be inserted by an SCP, see clause 6.10.9.1 of 3GPP TS 29.500 [4].\nTable 6.1.3.3.4.2.2-3: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same NEF or NEF (service) set.\nFor the case, when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected\nTable 6.1.3.3.4.2.2-4: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same NEF or NEF (service) set.\nFor the case, when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected\n6.1.3.3.4.3\tOperation: update\n6.1.3.3.4.3.1\tDescription\nThis custom operation updates an individual SM Context resource.\n6.1.3.3.4.3.2\tOperation Definition\nThis operation shall support the request data structures specified in table 6.1.3.3.4.3.2-1 and the response data structure and response codes specified in table 6.1.3.3.4.3.2-2.\nTable 6.1.3.3.4.3.2-1: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nSmContextUpdateData\nM\n1\nRepresentation of the updates to apply to the Individual SM context.\nTable 6.1.3.3.4.3.2-2: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nn/a\n204 No Content\nSuccessful update of the Individual SM context, when the NEF does not need to return information in the response.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\n(NOTE 2)\nProblemDetails\nO\n1\n404 Not Found\nThe \"cause\" attribute may be used to indicate the following application errors:\n- CONTEXT_NOT_FOUND\nSee table 6.1.7.3-1 for the description of these errors.\nNOTE 1:\tThe manadatory HTTP error status code for the POST method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] other than those specified in the table above also apply, with response body containing an object of ProblemDetails data type (see clause 5.2.7 of 3GPP TS 29.500 [4]).\nNOTE 2:\tRedirectResponse may be inserted by an SCP, see clause 6.10.9.1 of 3GPP TS 29.500 [4].\nTable 6.1.3.3.4.3.2-3: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same NEF or NEF (service) set.\nFor the case, when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected\nTable 6.1.3.3.4.3.2-4: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same NEF or NEF (service) set.\nFor the case, when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected\n6.1.3.3.4.4\tOperation: deliver\n6.1.3.3.4.4.1\tDescription\nThis custom operation transports Mobile Originated data packet via NEF.\n6.1.3.3.4.4.2\tOperation Definition\nThis operation shall support the request data structures specified in table 6.1.3.3.4.4.2-1 and the response data structure and response codes specified in table 6.1.3.3.4.4.2-2.\nTable 6.1.3.3.4.4.2-1: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nDeliverReqData\nM\n1\nThe data for Deliver service request, including the Mobile Originated data to be delivered via NEF.\nTable 6.1.3.3.4.4.2-2: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nn/a\n204 No Content\nSuccessful delivery of Mobile Originate data via NEF.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\n(NOTE 2)\nProblemDetails\nO\n1\n404 Not Found\nThe \"cause\" attribute may be used to indicate the following application errors:\n- CONTEXT_NOT_FOUND\nSee table 6.1.7.3-1 for the description of these errors.\nNOTE 1:\tThe manadatory HTTP error status code for the POST method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] other than those specified in the table above also apply, with response body containing an object of ProblemDetails data type (see clause 5.2.7 of 3GPP TS 29.500 [4]).\nNOTE 2:\tRedirectResponse may be inserted by an SCP, see clause 6.10.9.1 of 3GPP TS 29.500 [4].\nTable 6.1.3.3.4.4.2-3: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same NEF or NEF (service) set.\nFor the case, when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected\nTable 6.1.3.3.4.4.2-4: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same NEF or NEF (service) set.\nFor the case, when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.500_clause_5.2.7",
        "ts_29.500_clause_6.10.9.1",
        "table_6.1.3.3.4.1-1",
        "table_6.1.3.2.4.2.2-1",
        "table_6.1.3.2.4.2.2-2",
        "table_6.1.3.3.4.2.2-1",
        "table_6.1.3.3.4.2.2-2",
        "table_6.1.7.3-1",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.1.3.3.4.2.2-3",
        "table_6.1.3.3.4.2.2-4",
        "table_6.1.3.3.4.3.2-1",
        "table_6.1.3.3.4.3.2-2",
        "ts_29.500_table_6.1.3.3.4.3.2-3",
        "table_6.1.3.3.4.3.2-4",
        "table_6.1.3.3.4.4.2-1",
        "table_6.1.3.3.4.4.2-2",
        "ts_29.500_table_6.1.3.3.4.4.2-3",
        "table_6.1.3.3.4.4.2-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.4",
      "section_id": "6.1.4",
      "section_title": "Custom Operations without associated resources",
      "content": "In this release of this specification, no custom operations without associated resources are defined.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.541_6.1.5.1",
      "section_id": "6.1.5.1",
      "section_title": "General",
      "content": "This clause specifies the notifications provided by the Nnef_SMContext service.\nNotifications shall comply to clause 6.2 of 3GPP TS 29.500 [4] and clause 4.6.2.3 of 3GPP TS 29.501 [5].",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_6.2",
        "ts_29.500_clause_4.6.2.3",
        "ts_29.501_clause_4.6.2.3",
        "ts_29.500",
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.5.2.1",
      "section_id": "6.1.5.2.1",
      "section_title": "Description",
      "content": "If the NF Service Consumer (e.g. the SMF) has provided the Notification URI for getting notified about change of SM Context status, the NEF shall notify the NF Service Consumer when the SM Context status is updated.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.541_6.1.5.2.2",
      "section_id": "6.1.5.2.2",
      "section_title": "Target URI",
      "content": "The Notification URI \"{notificationUri}\" shall be used with the resource URI variables defined in table 6.1.5.2.2-1.\nTable 6.1.5.2.2-1: Resource URI variables for this resource\nName\nDefinition\nnotificationUri\nString formatted as URI with the Notification Uri",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.5.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.5.2.3",
      "section_id": "6.1.5.2.3",
      "section_title": "Standard Methods",
      "content": "6.1.5.2.3.1\tPOST\nThis method shall support the request data structures specified in table 6.1.5.2.3.1-1 and the response data structures and response codes specified in table 6.1.5.2.3.1-2.\nTable 6.1.5.2.3.1-1: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nSmContextStatusNotification\nM\n1\nRepresentation of the SM Context status notification.\nTable 6.1.5.2.3.1-2: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse codes\nDescription\nn/a\n204 No Content\nSuccessful notification of the SM context status change\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\n(NOTE 2)\nNOTE 1:\tThe mandatory HTTP error status codes for the POST method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] also apply, with response body containing an object of ProblemDetails data type (see clause 5.2.7 of 3GPP TS 29.500 [4]).\nNOTE 2:\tRedirectResponse may be inserted by an SCP, see clause 6.10.9.1 of 3GPP TS 29.500 [4].\nTable 6.1.5.2.3.1-3: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nA URI pointing to the endpoint of the NF service consumer to which the notification should be sent. For the case, when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the notification is redirected\nTable 6.1.5.2.3.1-4: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nA URI pointing to the endpoint of the NF service consumer to which the notification should be sent. For the case, when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the notification is redirected",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_5.2.7",
        "ts_29.500_clause_6.10.9.1",
        "table_6.1.5.2.3.1-1",
        "table_6.1.5.2.3.1-2",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.1.5.2.3.1-3",
        "table_6.1.5.2.3.1-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.6.1",
      "section_id": "6.1.6.1",
      "section_title": "General",
      "content": "This clause specifies the application data model supported by the API.\nTable 6.1.6.1-1 specifies the data types defined for the Nnef_SMContext service based interface protocol.\nTable 6.1.6.1-1: Nnef_SMContext specific Data Types\nData type\nClause defined\nDescription\nApplicability\nSmContextCreateData\n6.1.6.2.2\nInformation within Create SM Context Request\nSmContextCreatedData\n6.1.6.2.3\nInformation within Create SM Context Response\nSmContextReleaseData\n6.1.6.2.4\nSmContextReleasedData\n6.1.6.2.5\nSmContextStatusNotification\n6.1.6.2.6\nInformation within Notify SM Context Status Request\nNiddInformation\n6.1.6.2.7\nNIDD information associated to the SM Context\nSmContextConfiguration\n6.1.6.2.8\nNIDD related configurations that should be applied for the SM Context on NEF\nSmallDataRateControl\n6.1.6.2.9\nData rate control information\nSmContextUpdateData\n6.1.6.2.10\nInformation within Update SM Context Request\nDeliverReqData\n6.1.6.2.11\nInformation within Deliver Service Operation Request\nSmContextStatus\n6.1.6.3.3\nEnumeration of the status for an Individual SM Context\nSmallDataRateControlTimeUnit\n6.1.6.3.4\nEnumeration of the time units that are applied to data rate control\nReleaseCause\n6.1.6.3.5\nEnumeration of causes for SM Context release\nTable 6.1.6.1-2 specifies data types re-used by the Nnef_SMContext service based interface protocol from other specifications, including a reference to their respective specifications and when needed, a short description of their use within the N<NF> service based interface.\nTable 6.1.6.1-2: Nnef_SMContext re-used Data Types\nData type\nReference\nComments\nApplicability\nUri\n3GPP TS 29.571 [14]\nUniform Resource Identifier\nSupi\n3GPP TS 29.571 [14]\nSubscription Permanent Identifier\nGpsi\n3GPP TS 29.571 [14]\nGeneral Public Subscription Identifier\nSupportedFeatures\n3GPP TS 29.571 [14]\nSupported features\nPduSessionId\n3GPP TS 29.571 [14]\nPDU Session Identifier\nDnn\n3GPP TS 29.571 [14]\nData Network Name\nSnssai\n3GPP TS 29.571 [14]\nSingle Network Slice Selection Assistance Information\nProblemDetails\n3GPP TS 29.571 [14]\nError description\nSmallDataRateStatus\n3GPP TS 29.571 [14]\nSmall Data Rate Control Status\nExternalGroupId\n3GPP TS 29.571 [14]\nExternal Group Identifier\nRefToBinaryData\n3GPP TS 29.571 [14]\nReference to binary data part\nRedirectResponse\n3GPP TS 29.571 [14]\nRedirect Response",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.1.6.1-1",
        "table_6.1.6.1-2",
        "ts_29.571"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.6.2.1",
      "section_id": "6.1.6.2.1",
      "section_title": "Introduction",
      "content": "This clause defines the structures to be used in resource representations.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.541_6.1.6.2.2",
      "section_id": "6.1.6.2.2",
      "section_title": "Type: SmContextCreateData",
      "content": "Table 6.1.6.2.2-1: Definition of type SmContextCreateData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nsupi\nSupi\nM\n1\nThis IE shall contain the subscriber permanent identify of the UE.\npduSessionId\nPduSessionId\nM\n1\nThis IE shall contain the PDU Session ID indicating the PDU session associated with the SM Context for NIDD to be created.\ndnn\nDnn\nM\n1\nThis IE shall contain the requested DNN.\nsnssai\nSnssai\nM\n1\nThis IE shall contain the requested S-NSSAI for the home PLMN.\nnefId\nstring\nM\n1\nThis IE shall contain the NEF ID of the target NEF (see clause 6.1.6.2.48 of 3GPP TS 29.510 [10]).\ndlNiddEndPoint\nUri\nM\n1\nThis IE shall contain the URI of the Individual PDU session resource (see clause 6.1.3.2 of 3GPP TS 29.542 [17]) provided by the NF service consumer to handle downlink NIDD data delivery.\nnotificationUri\nUri\nM\n1\nThis IE shall contain the URI to receive SM Context Status Notifications sent by the NEF.\nniddInfo\nNiddInformation\nO\n0..1\nWhen present, this IE shall contain the information used for the SM Context.\nrdsSupport\nboolean\nO\n0..1\nWhen present, this IE shall indicate the UE capability to support RDS.The value of this IE shall be set as following:- true: UE supports RDS- false (default): UE does not support RDS\nsmContextConfig\nSmContextConfiguration\nO\n0..1\nWhen present, this IE shall contain the configuration for the NIDD.\nsupportedFeatures\nSupportedFeatures\nC\n0..1\nThis IE shall be present if at least one optional feature defined in clause 6.1.8 is supported.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.510_clause_6.1.6.2.48",
        "ts_29.542_clause_6.1.3.2",
        "clause_6.1.8",
        "table_6.1.6.2.2-1",
        "ts_29.510",
        "ts_29.542"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.6.2.3",
      "section_id": "6.1.6.2.3",
      "section_title": "Type: SmContextCreatedData",
      "content": "Table 6.1.6.2.3-1: Definition of type SmContextCreatedData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nsupi\nSupi\nM\n1\nThis IE shall contain the subscriber permanent identify of the UE.\npduSessionId\nPduSessionId\nM\n1\nThis IE shall contain the PDU Session ID indicating the PDU session associated with the SM Context for NIDD to be created.\ndnn\nDnn\nM\n1\nThis IE shall contain the requested DNN.\nsnssai\nSnssai\nM\n1\nThis IE shall contain the requested S-NSSAI for the home PLMN.\nnefId\nstring\nM\n1\nThis IE shall contain the NEF ID of the target NEF (see clause 6.1.6.2.48 of 3GPP TS 29.510 [10]).\nrdsSupport\nboolean\nO\n0..1\nWhen present, this IE shall indicate the NEF capability to support RDS.\nThe value of this IE shall be set as following:- true: NEF supports RDS- false (default): NEF does not support RDS\nextBufSupport\nboolean\nO\n0..1\nWhen present, this IE shall indicate whether Extended Buffering applies or not.\nThe value of this IE shall be set as following:\n- true:\tExtended Buffering applies\n- false (default):  Extended Buffering does not apply\nsupportedFeatures\nSupportedFeatures\nC\n0..1\nThis IE shall be present if at least one optional feature defined in clause 6.1.8 is supported.\nmaxPacketSize\ninteger\nO\n0..1\nMaximum Packet Size in bytes for NIDD data packet.\nWhen received from the NEF, SMF shall inform the UE of the Maximum Packet Size in the PCO in the PDU Session Establishment Accept message.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.510_clause_6.1.6.2.48",
        "clause_6.1.8",
        "table_6.1.6.2.3-1",
        "ts_29.510"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.6.2.4",
      "section_id": "6.1.6.2.4",
      "section_title": "Type: SmContextReleaseData",
      "content": "Table 6.1.6.2.4-1: Definition of type SmContextReleaseData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\ncause\nReleaseCause\nM\n1\nThe cause to release the SM Context",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.2.4-1"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.6.2.5",
      "section_id": "6.1.6.2.5",
      "section_title": "Type: SmContextReleasedData",
      "content": "Table 6.1.6.2.5-1: Definition of type SmContextReleasedData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nsmallDataRateStatus\nSmallDataRateStatus\nC\n0..1\nThis IE shall be present if the Small Data Rate Control is enabled for the SM Context.\nWhen present, this IE shall contain the Small Data Rate Control Status, as specified in clause 5.31.14.3 of 3GPP TS 23.501 [2].\napnRateStatus\nApnRateStatus\nC\n0..1\nThis IE shall be present if the APN Rate Control is enabled for the SM Context.\nWhen present, this IE shall contain the APN Rate Status, as specified in clause 5.4.4.40 of 3GPP TS 29.571 [14].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.501_clause_5.31.14.3",
        "ts_29.571_clause_5.4.4.40",
        "table_6.1.6.2.5-1",
        "ts_23.501",
        "ts_29.571"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.6.2.6",
      "section_id": "6.1.6.2.6",
      "section_title": "Type: SmContextStatusNotification",
      "content": "Table 6.1.6.2.6-1: Definition of type SmContextStatusNotification\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nstatus\nSmContextStatus\nM\n1\nThis IE shall contain the current status of the SM Context\nsmContextId\nUri\nM\n1\nThis IE shall contain the URI of the SM Context resource that triggers the notification.\ncause\nReleaseCause\nM\n1\nThe cause to release the SM Context\nsmallDataRateStatus\nSmallDataRateStatus\nC\n0..1\nThis IE shall be present if the SM Context is released and Small Data Rate Control is enabled for the SM Context.\nWhen present, this IE shall contain the Small Data Rate Control Status, as specified in clause 5.31.14.3 of 3GPP TS 23.501 [2].\napnRateStatus\nApnRateStatus\nC\n0..1\nThis IE shall be present if the APN Rate Control is enabled for the SM Context.\nWhen present, this IE shall contain the APN Rate Status, as specified in clause 5.4.4.40 of 3GPP TS 29.571 [14].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.501_clause_5.31.14.3",
        "ts_29.571_clause_5.4.4.40",
        "table_6.1.6.2.6-1",
        "ts_23.501",
        "ts_29.571"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.6.2.7",
      "section_id": "6.1.6.2.7",
      "section_title": "Type: NiddInformation",
      "content": "Table 6.1.6.2.7-1: Definition of type NiddInformation\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nextGroupId\nExternalGroupId\nO\n0..1\nWhen present, this IE shall contain the External group Id of the UE.\ngpsi\nGpsi\nO\n0..1\nWhen present, this IE shall contain the GPSI of the UE.\nafId\nstring\nO\n0..1\nThe string identifying the AF as the owner of associated NIDD Configuration, which is received from Nidd Information in UDM (See clause 6.1.6.2.35 of 3GPP TS 29.503 [16]).\nNOTE:\tAt least one of the attributes in the table shall be present.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.503_clause_6.1.6.2.35",
        "table_6.1.6.2.7-1",
        "ts_29.503"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.6.2.8",
      "section_id": "6.1.6.2.8",
      "section_title": "Type: SmContextConfiguration",
      "content": "Table 6.1.6.2.8-1: Definition of type SmContextConfiguration\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nsmalDataRateControl\nSmallDataRateControl\nO\n0..1\nWhen present, this IE shall contain the configured Small Data Rate Control for downlink data, as specified in clause 5.31.14.3 of 3GPP TS 23.501 [2].\nsmallDataRateStatus\nSmallDataRateStatus\nC\n0..1\nThis IE shall contain the Small Data Rate Status if the Small Data Rate Status is available (see clause 5.31.14.3 of 3GPP TS 23.501 [2]).\nservPlmnDataRateCtl\ninteger\nO\n0..1\nWhen present, this IE shall contain the maximum allowed number of Downlink NAS Data PDUs per deci hour of the serving PLMN, as specified in clause 5.31.14.2 of 3GPP TS 23.501 [2].\nIn Update service operation, this IE may be set to null value indicating the Serving PLMN Rate Control is disabled.\nMinimum: 10\nNOTE:\tAt least one of the attributes in the table shall be present.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.501_clause_5.31.14.3",
        "ts_23.501_clause_5.31.14.2",
        "table_6.1.6.2.8-1",
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.6.2.9",
      "section_id": "6.1.6.2.9",
      "section_title": "Type: SmallDataRateControl",
      "content": "Table 6.1.6.2.8-1: Definition of type SmallDataRateControl\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\ntimeUnit\nSmallDataRateControlTimeUnit\nM\n1\nThis IE shall indicate the time unit for which the data rate control is applied.\nmaxPacketRateUl\ninteger\nO\n0..1\nIf present, this IE shall indicate the maximum number of uplink packets allowed to be sent within the time unit.\n(NOTE 1)\nmaxPacketRateDl\ninteger\nO\n0..1\nIf present, this IE shall indicate the maximum number of downlink packets allowed to be sent within the time unit.\n(NOTE 1)\nmaxAdditionalPacketRateUl\ninteger\nO\n0..1\nIf present, this IE shall indicate the additional maximum number of uplink packets allowed to be sent within the time unit.\n(NOTE 2)\nmaxAdditionalPacketRateDl\ninteger\nO\n0..1\nIf present, this IE shall indicate the additional maximum number of downlink packets allowed to be sent within the time unit.\n(NOTE 3)\nNOTE 1:\tAt least one of parameters maxPacketRateUl, or maxPacketRateDl should be included.\nNOTE 2:\tParameter maxAdditionalPacketRateUl should be absent if parameter maxPacketRateUl is absent.\nNOTE 3:\tParameter maxAdditionalPacketRateDl should be absent if parameter maxPacketRateDl is absent.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.2.8-1"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.6.2.10",
      "section_id": "6.1.6.2.10",
      "section_title": "Type: SmContextUpdateData",
      "content": "Table 6.1.6.2.10-1: Definition of type SmContextUpdateData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\ndlNiddEndPoint\nUri\nO\n0..1\nWhen present, this IE shall contain a new URI of Individual PDU session resource (see clause 6.1.3.2 of 3GPP TS 29.542 [17]) handling downlink NIDD data delivery.\nThe NEF shall send downlink data to the resource identified by the new URI after the update is completed.\nnotificationUri\nUri\nO\n0..1\nWhen present, this IE shall contain a new URI to receive SM Context Status Notifications sent by the NEF.\nThe NEF shall send SM Contact Status Notification to this new URI after the update is completed.\nsmContextConfig\nSmContextConfiguration\nO\n0..1\nWhen present, this IE shall contain the configuration for the NIDD.\nNOTE:\tAt least one of the attributes in the table shall be present.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.542_clause_6.1.3.2",
        "table_6.1.6.2.10-1",
        "ts_29.542"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.6.2.11",
      "section_id": "6.1.6.2.11",
      "section_title": "Type: DeliverReqData",
      "content": "Table 6.1.6.2.12-1: Definition of type DeliverReqData\nAttribute name\nData type\nP\nCardinality\nDescription\ndata\nRefToBinaryData\nM\n1\nThis IE shall contain the reference to Mobile Originated data to be delivered via NEF.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.2.12-1"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.6.3.1",
      "section_id": "6.1.6.3.1",
      "section_title": "Introduction",
      "content": "This clause defines simple data types and enumerations that can be referenced from data structures defined in the previous clauses.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.541_6.1.6.3.2",
      "section_id": "6.1.6.3.2",
      "section_title": "Simple data types",
      "content": "The simple data types defined in table 6.1.6.3.2-1 shall be supported.\nTable 6.1.6.3.2-1: Simple data types\nType Name\nType Definition\nDescription\nApplicability",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.6.3.3",
      "section_id": "6.1.6.3.3",
      "section_title": "Enumeration: SmContextStatus",
      "content": "The enumeration SmContextStatus represents status of Individual SM Context in the NEF. It shall comply with the provisions defined in table 6.1.5.3.3-1.\nTable 6.1.6.3.3-1: Enumeration SmContextStatus\nEnumeration value\nDescription\nApplicability\n\"RELEASED\"\nIndicates that the Individual SM Context for NIDD is released.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.5.3.3-1",
        "table_6.1.6.3.3-1"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.6.3.4",
      "section_id": "6.1.6.3.4",
      "section_title": "Enumeration: SmallDataRateControlTimeUnit",
      "content": "The enumeration SmallDataRateControlTimeUnit represents the allowed time unit. It shall comply with the provisions defined in table 6.1.5.3.3-1.\nTable 6.1.6.3.4-1: Enumeration SmallDataRateControlTimeUnit\nEnumeration value\nDescription\nApplicability\n\"MINUTE\"\nIndicates the rate control is applied per minute.\n\"HOUR\"\nIndicates the rate control is applied per hour.\n\"DAY\"\nIndicates the rate control is applied per day.\n\"WEEK\"\nIndicates the rate control is applied per week.\n\"6MINUTES\"\nIndicates the rate control is applied per 6 minutes.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.5.3.3-1",
        "table_6.1.6.3.4-1"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.6.3.5",
      "section_id": "6.1.6.3.5",
      "section_title": "Enumeration: ReleaseCause",
      "content": "The enumeration ReleaseCause represents cause for release of the SM Context in the NEF. It shall comply with the provisions defined in table 6.1.6.3.5-1.\nTable 6.1.6.3.5-1: Enumeration ReleaseCause\nEnumeration value\nDescription\nApplicability\n\"PDU_SESSION_RELEASED\"\nIndicates the SM Context is to be released due to corresponding PDU Session is released.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.3.5-1"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.7.1",
      "section_id": "6.1.7.1",
      "section_title": "General",
      "content": "For the Nnef_SMContext API, HTTP error responses shall be supported as specified in clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors and application errors specified in table 5.2.7.2-1 of 3GPP TS 29.500 [4] shall be supported for an HTTP method if the corresponding HTTP status codes are specified as mandatory for that HTTP method in table 5.2.7.1-1 of 3GPP TS 29.500 [4].\nIn addition, the requirements in the following clauses are applicable for the Nnef_SMContext API.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.501_clause_4.8",
        "ts_29.500_table_5.2.7.2-1",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.501",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.7.2",
      "section_id": "6.1.7.2",
      "section_title": "Protocol Errors",
      "content": "Protocol errors handling shall be supported as specified in clause 5.2.7 of 3GPP TS 29.500 [4]. No specific procedures for the Nnef_SMContext service are specified.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_5.2.7",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.7.3",
      "section_id": "6.1.7.3",
      "section_title": "Application Errors",
      "content": "The application errors defined for the Nnef_SMContext service are listed in Table 6.1.7.3-1.\nTable 6.1.7.3-1: Application errors\nApplication Error\nHTTP status code\nDescription\n\"USER_UNKNOWN\"\n403\nThis application error indicates that the User Identity does not exist in the NEF.\n\"NIDD_CONFIGURATION_NOT_AVAILABLE\"\n403\nThis application error indicates that there is no valid NIDD configuration exists for the requested SM Context in the NEF, and NIDD configuration triggered by the NEF (see clause 4.4.12.2 of 3GPP TS 29.522 [15]) is not supported or has failed.\n\"CONTEXT_NOT_FOUND\"\n404\nThis application error indicates that the SM Context referred by the requested resource URI does not exist in the NEF.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.522_clause_4.4.12.2",
        "table_6.1.7.3-1",
        "ts_29.522"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.8",
      "section_id": "6.1.8",
      "section_title": "Feature negotiation",
      "content": "The optional features in table 6.1.8-1 are defined for the Nnef_SMContext API. They shall be negotiated using the extensibility mechanism defined in clause 6.6 of 3GPP TS 29.500 [4].\nTable 6.1.8-1: Supported Features\nFeature number\nFeature Name\nDescription\n1\nBIUMR\nBinding Indication Update for Multiple Resources\nThis feature bit indicates whether the NF Service Consumer (i.e. SMF) and NEF supports Binding Indication Update for multiple resources and/or contexts, as specified in clauses 6.12.1 and 5.2.3.2.6 of 3GPP TS 29.500 [4].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.6",
        "table_6.1.8-1",
        "ts_29.500_table_6.1.8-1",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.9",
      "section_id": "6.1.9",
      "section_title": "Security",
      "content": "As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the Nnef_SMContext API may be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [9]), based on local configuration, using the \"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [10]) plays the role of the authorization server.\nIf OAuth2 is used, an NF Service Consumer, prior to consuming services offered by the Nnef_SMContext API, shall obtain a \"token\" from the authorization server, by invoking the Access Token Request service, as described in 3GPP TS 29.510 [10], clause 5.4.2.2.\nNOTE:\tWhen multiple NRFs are deployed in a network, the NRF used as authorization server is the same NRF that the NF Service Consumer used for discovering the Nnef_SMContext service.\nThe Nnef_SMContext API defines a single scope \"nnef-smcontext\" for the entire service, and it does not define any additional scopes at resource or operation level.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.510_clause_5.4.2.2",
        "ts_33.501",
        "ts_29.500",
        "ts_29.510"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.1.10",
      "section_id": "6.1.10",
      "section_title": "HTTP redirection",
      "content": "An HTTP request may be redirected to a different NEF service instance, within the same NEF or a different NEF of an NEF set, e.g. when an NEF service instance is part of an NEF (service) set or when using indirect communications (see 3GPP TS 29.500 [4]).\nAn SCP that reselects a different NEF producer instance will return the NF Instance ID of the new NEF producer instance in the 3gpp-Sbi-Producer-Id header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].\nIf an NEF within an NEF set redirects a service request to a different NEF of the set using an 307 Temporary Redirect or 308 Permanent Redirect status code, the identity of the new NEF towards which the service request is redirected shall be indicated in the 3gpp-Sbi-Target-Nf-Id header of the 307 Temporary Redirect or 308 Permanent Redirect response as specified in clause 6.10.9.1 of 3GPP TS 29.500 [4].",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.500_clause_6.10.3.4",
        "ts_29.500_clause_6.10.9.1",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.2.1",
      "section_id": "6.2.1",
      "section_title": "Introduction",
      "content": "The Nnef_SMService shall use the Nnef_SMService API.\nThe API URI of the Nnef_SMService API shall be:\n{apiRoot}/<apiName>/<apiVersion>\nThe request URIs used in HTTP requests from the NF service consumer towards the NF service producer shall have the Resource URI structure defined in clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:\n{apiRoot}/<apiName>/<apiVersion>/<apiSpecificResourceUriPart>\nwith the following components:\n-\tThe {apiRoot} shall be set as described in 3GPP TS 29.501 [5].\n-\tThe <apiName> shall be \"nnef-smservice\".\n-\tThe <apiVersion> shall be \"v1\".\n-\tThe <apiSpecificResourceUriPart> shall be set as described in clause 6.1.3.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.501_clause_4.4.1",
        "clause_6.1.3",
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.2.2.1",
      "section_id": "6.2.2.1",
      "section_title": "General",
      "content": "HTTP/2, IETF RFC 9113 [11], shall be used as specified in clause 5 of 3GPP TS 29.500 [4].\nHTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].\nThe OpenAPI [6] specification of HTTP messages and content bodies for the Nnef_SMService API is contained in Annex A.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5",
        "ts_29.500_clause_5.3",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.2.2.2.1",
      "section_id": "6.2.2.2.1",
      "section_title": "General",
      "content": "See clause 5.2.2 of 3GPP TS 29.500 [4] for the usage of HTTP standard headers.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5.2.2",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.2.2.2.2",
      "section_id": "6.2.2.2.2",
      "section_title": "Content type",
      "content": "JSON, IETF RFC 8259 [12], shall be used as content type of the HTTP bodies specified in the present specification as specified in clause 5.4 of 3GPP TS 29.500 [4]. The use of the JSON format shall be signalled by the content type \"application/json\".\n\"Problem Details\" JSON object shall be used to indicate additional details of the error in a HTTP response body and shall be signalled by the content type \"application/problem+json\", as defined in IETF RFC 9457 [13].\nMultipart messages shall also be supported (see clause 6.1.2.4) using the content type \"multipart/related\", comprising:\n-\tone JSON body part with the \"application/json\" content type; and\n-\tone binary body part with 3gpp vendor specific content subtypes.\nThe 3gpp vendor specific content subtypes defined in Table 6.2.2.2.2-1 shall be supported.\nTable 6.2.2.2.2-1: 3GPP vendor specific content subtypes\ncontent subtype\nDescription\nvnd.3gpp.sms\nBinary encoded payload, encoding SMS payload, as specified in 3GPP TS 23.040 [20] and 3GPP TS 24.011 [21].\nNOTE:\tUsing 3GPP vendor content subtypes allows to describe the nature of the opaque payload (e.g. SMS payload) without having to rely on metadata in the JSON payload.\nSee clause 6.1.2.4 for the binary payloads supported in the binary body part of multipart messages.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_5.4",
        "clause_6.1.2.4",
        "table_6.2.2.2.2-1",
        "ts_29.500",
        "ts_23.040",
        "ts_24.011"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.2.2.3",
      "section_id": "6.2.2.3",
      "section_title": "HTTP custom headers",
      "content": "The mandatory HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS 29.500 [4] shall be supported, and the optional HTTP custom header fields specified in clause 5.2.3.3 of 3GPP TS 29.500 [4] may be supported.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_5.2.3.2",
        "ts_29.500_clause_5.2.3.3",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.2.2.4",
      "section_id": "6.2.2.4",
      "section_title": "HTTP multipart messages",
      "content": "HTTP multipart messages shall be supported, to transfer opaque SMS payload (e.g. SMS message, CP Ack, etc.), in the following service operations (and HTTP messages):\n-\tMoForwardSm service operation;\nHTTP multipart messages shall include one JSON body part and one binary body part comprising content of SMS payload content (see clause 6.1.6.5).\nThe JSON body part shall be the \"root\" body part of the multipart message. It shall be encoded as the first body part of the multipart message. The \"Start\" parameter does not need to be included.\nThe multipart message shall include a \"type\" parameter (see IETF RFC 2387 [18]) specifying the media type of the root body part, i.e. \"application/json\".\nNOTE:\tThe \"root\" body part (or \"root\" object) is the first body part the application processes when receiving a multipart/related message, see IETF RFC 2387 [18]. The default root is the first body within the multipart/related message. The \"Start\" parameter indicates the root body part, e.g. when this is not the first body part in the message.\nA binary body part shall include a Content-ID header (see IETF RFC 2045 [19]), and the JSON body part shall make a reference to the binary body part using the Content-ID header field.\nExamples of multipart/related messages can be found in Annex B.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1.6.5"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.2.3.1",
      "section_id": "6.2.3.1",
      "section_title": "Overview",
      "content": "Figure 6.2.3.1-1 describes the resource URI structure of the Nnef_SMService API.\nFigure 6.2.3.1-1: Resource URI structure of the Nnef_SMService API\nTable 6.2.3.1-1 provides an overview of the resources and applicable HTTP methods.\nTable 6.2.3.1-1: Resources and methods overview\nResource name\nResource URI\nHTTP method or custom operation\nDescription\nMoSmInfo\n{apiRoot}/nnef-smservice/<apiVersion>/mo-sm-info/{supi}/sendsms\nsendsms\n(POST)\nMO short message transfer",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.2.3.1-1",
        "figure_6.2.3.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.2.3.2.1",
      "section_id": "6.2.3.2.1",
      "section_title": "Description",
      "content": "This resource represents the collection of Mobile Originated Short Message Information in NEF.\nThis resource is modelled with the Document resource archetype (see clause C.1 of 3GPP TS 29.501 [5]).",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.2.3.2.2",
      "section_id": "6.2.3.2.2",
      "section_title": "Resource Definition",
      "content": "Resource URI: {apiRoot}/nnef-smcontext/<apiVersion>/sm-contexts/{supi}/sendsms\nThis resource shall support the resource URI variables defined in table 6.2.3.2.2-1.\nTable 6.2.3.2.2-1: Resource URI variables for this resource\nName\nData type\nDefinition\napiRoot\nstring\nSee clause 6.1.1\nsupi\nSupi\nRepresents the Subscription Permanent Identifier (see 3GPP TS 23.501 [2] clause 5.9.2)\tpattern: See pattern of type Supi in 3GPP TS 29.571 [15]",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6.1.1",
        "ts_23.501_clause_5.9.2",
        "table_6.2.3.2.2-1",
        "ts_23.501",
        "ts_29.571"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.2.3.2.3",
      "section_id": "6.2.3.2.3",
      "section_title": "Resource Standard Methods",
      "content": "No HTTP method has been defined for the Mobile Originated Short Message Information collection resource.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.541_6.2.3.2.4",
      "section_id": "6.2.3.2.4",
      "section_title": "Resource Custom Operations",
      "content": "6.2.3.2.4.1\tOverview\nTable 6.2.3.2.4.1-1: Custom operations\nOperation name\nCustom operaration URI\nMapped HTTP method\nDescription\nsendsms\n/sm-contexts/{supi}/sendsms\nPOST\nSend MO SMS message or the related Delivery Report.\n6.2.3.2.4.2\tOperation: sendsms\n6.2.3.2.4.2.1\tDescription\nThis custom operation is used for NF Service Consumers to send SMS message in uplink direction.\n6.2.3.2.4.2.2\tOperation Definition\nThis custom operation is used to send a SMS payload to an UE's Mobile Originated Short Message Information resource in the NEF.\nThis operation shall support the request data structures specified in table 6.2.3.2.4.2.2-1 and the response data structure and response codes specified in table 6.2.3.2.4.2.2-2.\nTable 6.2.3.2.4.2.2-1: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nSmsData\nM\n1\nRepresentation of the MO SMS message to be sent.\nTable 6.2.3.2.4.2.2-2: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nSmsDeliveryData\nM\n1\n200 OK\nThis case represents the successful of sending SMS message in uplink direction, with necessary response data on the received delivery report.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection. The response shall include a Location header field containing a different URI, or the same URI if a request is redirected to the same target resource via a different SCP. In the former case, the URI shall be an alternative URI of the resource located on an alternative service instance within the same NEF or NEF (service) set.\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection. The response shall include a Location header field containing a different URI, or the same URI if a request is redirected to the same target resource via a different SCP. In the former case, the URI shall be an alternative URI of the resource located on an alternative service instance within the same NEF or NEF (service) set.\nProblemDetails\nO\n0..1\n400 Bad Request\nThis case represents an unsuccessful delivery of SMS message.\nThe \"cause\" attribute may be used to indicate one of the following application errors:\n-\tSMS_PAYLOAD_MISSING, if the expected SMS payload content is missing;\n-\tSMS_PAYLOAD_ERROR, if error exists in the SMS payload content.\nProblemDetails\nO\n0..1\n403 Forbidden\nThis case represents an unsuccessful delivery of SMS message.\nThe \"cause\" attribute may be used to indicate one of the following application errors:\n-\tUNKNOWN_SERVICE_CENTRE_ADDRESS, if the SMS-SC was unknown;\n-\tSERVICE_CENTRE_CONGESTION, if the SMS-SC was in congestion;\n-\tUSER_NOT_SERVICE_CENTER, if the user didn't belongs to the SMS-SC;\n-\tFACILITY_NOT_SUPPORTED, if the facility not supported;\n-\tINVALID_SME_ADDRESS, if the SME address is invalid..\nProblemDetails\nO\n0..1\n504 Gateway Timeout\nThis case represents an unsuccessful delivery of SMS message.\nThe \"cause\" attribute may be used to indicate one of the following application errors:\n-\tUNREACHABLE_SMS_SC, if the response is timeout.\nNOTE:\tThe manadatory HTTP error status code for the <e.g. POST> method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] also apply.\nTable 6.2.3.2.4.2.2-3: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same NEF or NEF (service) set.\nOr the same URI, if a request is redirected to the same target resource via a different SCP.\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected\nTable 6.2.3.2.4.2.2-4: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same NEF or NEF (service) set.\nOr the same URI, if a request is redirected to the same target resource via a different SCP.\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected",
      "chunk_type": "general",
      "cross_references": [
        "table_6.2.3.2.4.1-1",
        "table_6.2.3.2.4.2.2-1",
        "table_6.2.3.2.4.2.2-2",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.2.3.2.4.2.2-3",
        "table_6.2.3.2.4.2.2-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.2.4",
      "section_id": "6.2.4",
      "section_title": "Custom Operations without associated resources",
      "content": "In this release of this specification, no custom operations without associated resources are defined.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.541_6.2.5",
      "section_id": "6.2.5",
      "section_title": "Notifications",
      "content": "In this release of this specification, no notification procedures are defined.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.541_6.2.6.1",
      "section_id": "6.2.6.1",
      "section_title": "General",
      "content": "This clause specifies the application data model supported by the API.\nTable 6.2.6.1-1 specifies the data types defined for the Nnef_SMService service based interface protocol.\nTable 6.2.6.1-1: Nnef_SMService specific Data Types\nData type\nClause defined\nDescription\nApplicability\nN/A\nTable 6.2.6.1-2 specifies data types re-used by the Nnef_SMContext service based interface protocol from other specifications, including a reference to their respective specifications and when needed, a short description of their use within the N<NF> service based interface.\nTable 6.1.6.1-2: Nnef_SMService re-used Data Types\nData type\nReference\nComments\nApplicability\nProblemDetails\n3GPP TS 29.571 [15]\nCommon Data Type used in response bodies\nRedirectResponse\n3GPP TS 29.571 [15]\nRedirect Response\nSupi\n3GPP TS 29.571 [15]\nSubscription Permanent Identifier\nRefToBinaryData\n3GPP TS 29.571 [15]\nInformation for indicating the binary content of SMS payload.\nSupportedFeatures\n3GPP TS 29.571 [15]\nSupported Features\nSmsData\n3GPP TS 29.577 [19]\nInformation within request message invoking MoForwardSm service operation, for delivering MO SMS.\nSmsDeliveryData\n3GPP TS 29.577 [19]\nInformation within response message invoking MoForwardSm service operation, for delivering MO SMS Delivery Report.\nAppPortId\n3GPP TS 29.503 [16]\nApplication Port Id",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.2.6.1-1",
        "table_6.2.6.1-2",
        "table_6.1.6.1-2",
        "ts_29.571",
        "ts_29.577",
        "ts_29.503"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.2.6.2",
      "section_id": "6.2.6.2",
      "section_title": "Structured data types",
      "content": "In this release of this specification, no structure to be used in resource representations is defined.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.541_6.2.6.3.1",
      "section_id": "6.2.6.3.1",
      "section_title": "Introduction",
      "content": "This clause defines simple data types and enumerations that can be referenced from data structures defined in the previous clauses.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.541_6.2.6.3.2",
      "section_id": "6.2.6.3.2",
      "section_title": "Simple data types",
      "content": "The simple data types defined in table 6.2.6.3.2-1 shall be supported.\nTable 6.2.6.3.2-1: Simple data types\nType Name\nType Definition\nDescription\nApplicability\nN/A",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.2.6.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.2.6.4",
      "section_id": "6.2.6.4",
      "section_title": "Data types describing alternative data types or combinations of data types",
      "content": "None.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.541_6.1.6.5.1",
      "section_id": "6.1.6.5.1",
      "section_title": "Binary Data Types",
      "content": "Table 6.2.6.5.1-1: Binary Data Types\nName\nClause defined\nContent type\nSMS Payload Information\n6.2.6.5.2\nvnd.3gpp.sms",
      "chunk_type": "general",
      "cross_references": [
        "table_6.2.6.5.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.2.6.5.2",
      "section_id": "6.2.6.5.2",
      "section_title": "SMS Payload Information",
      "content": "SMS Payload Information shall encode a SMS payload as specified in 3GPP TS 23.040 [20] and 3GPP TS 24.011 [21], using the vnd.3gpp.sms content-type.\nSMS Payload Information may encode e.g. the following content:\n-\tCP-DATA, CP-ACK, CP-ERROR as specified in 3GPP TS 23.040 [20] and 3GPP TS 24.011 [21].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.040",
        "ts_24.011"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.2.7.1",
      "section_id": "6.2.7.1",
      "section_title": "General",
      "content": "For the Nnef_SMService API, HTTP error responses shall be supported as specified in clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors and application errors specified in table 5.2.7.2-1 of 3GPP TS 29.500 [4] shall be supported for an HTTP method if the corresponding HTTP status codes are specified as mandatory for that HTTP method in table 5.2.7.1-1 of 3GPP TS 29.500 [4].\nIn addition, the requirements in the following clauses are applicable for the Nnef_SMService API.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.501_clause_4.8",
        "ts_29.500_table_5.2.7.2-1",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.501",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.2.7.2",
      "section_id": "6.2.7.2",
      "section_title": "Protocol Errors",
      "content": "No specific procedures for the Nnef_SMService service are specified.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.541_6.2.7.3",
      "section_id": "6.2.7.3",
      "section_title": "Application Errors",
      "content": "The application errors defined for the Nnef_SMService service are listed in Table 6.2.7.3-1.\nTable 6.2.7.3-1: Application errors\nApplication Error\nHTTP status code\nDescription\nSMS_PAYLOAD_MISSING\n400 Bad Request\nThe expected SMS payload content is missing.\nSMS_PAYLOAD_ERROR\n400 Bad Request\nErrors exist in the format of SMS payload.\nSERVICE_CENTRE_CONGESTION\n403 Forbidden\nThe delivery of the MO short message failed because SMS-SC was in congestion.\nUSER_NOT_SERVICE_CENTER\n403 Forbidden\nThe delivery of the short message failed because the user didn't belongs to the SMS-SC.\nFACILITY_NOT_SUPPORTED\n403 Forbidden\nThe delivery of the MO short message failed because of facility not supported.\nINVALID_SME_ADDRESS\n403 Forbidden\nThe delivery of the MO short message failed because the SME address is invalid.\nUNREACHABLE_SMS_SC\n504 Gateway Timeout\nThe delivery of the MO short message failed because the response is timeout.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.2.7.3-1"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.2.8",
      "section_id": "6.2.8",
      "section_title": "Feature negotiation",
      "content": "The optional features in table 6.2.8-1 are defined for the Nnef_SMService API. They shall be negotiated using the extensibility mechanism defined in clause 6.6 of 3GPP TS 29.500 [4].\nTable 6.2.8-1: Supported Features\nFeature number\nFeature Name\nDescription\nN/A",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.6",
        "table_6.2.8-1",
        "ts_29.500_table_6.2.8-1",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.541_6.2.9",
      "section_id": "6.2.9",
      "section_title": "Security",
      "content": "As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the Nnef_SMService API may be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [9]), based on local configuration, using the \"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [10]) plays the role of the authorization server.\nIf OAuth2 is used, an NF Service Consumer, prior to consuming services offered by the Nnef_SMService API, shall obtain a \"token\" from the authorization server, by invoking the Access Token Request service, as described in 3GPP TS 29.510 [10], clause 5.4.2.2.\nNOTE:\tWhen multiple NRFs are deployed in a network, the NRF used as authorization server is the same NRF that the NF Service Consumer used for discovering the Nnef_SMService service.\nThe Nnef_SMService API defines a single scope \"nnef-smservice\" for the entire service, and it does not define any additional scopes at resource or operation level.\nAnnex A (normative):OpenAPI specification\nA.1\tGeneral\nThis Annex specifies the formal definition of the Nnef_SMContext API. It consists of OpenAPI 3.0.0 specifications in YAML format.\nThis Annex takes precedence when being discrepant to other parts of the specification with respect to the encoding of information elements and methods within the API(s).\nNOTE:\tThe semantics and procedures, as well as conditions, e.g. for the applicability and allowed combinations of attributes or values, not expressed in the OpenAPI definitions but defined in other parts of the specification also apply.\nInformative copies of the OpenAPI specification files contained in this 3GPP Technical Specification are available on a Git-based repository, that uses the GitLab software version control system (see 3GPP TS 29.501 [5] clause 5.3.1 and 3GPP TR 21.900 [7] clause 5B).\nA.2\tNnef_SMContext API\nopenapi: 3.0.0\ninfo:\ntitle: Nnef_SMContext\nversion: 1.2.0\ndescription: |\nNnef SMContext Service.\n© 2024, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\nAll rights reserved.\nexternalDocs:\ndescription: >\n3GPP TS 29.541 V18.3.0; 5G System; Session Management Services for Non-IP Data Delivery (NIDD)\nand Short Message Services (SMS); Stage 3.\nurl: https://www.3gpp.org/ftp/Specs/archive/29_series/29.541/\nservers:\n- url: '{apiRoot}/nnef-smcontext/v1'\nvariables:\napiRoot:\ndefault: https://example.com\ndescription: apiRoot as defined in clause 4.4 of 3GPP TS 29.501\nsecurity:\n- {}\n- oAuth2ClientCredentials:\n- nnef-smcontext\npaths:\n/sm-contexts:\npost:\nsummary: Create SM Context\noperationId: Create\ntags:\n- SM Contexts Collection (Collection)\nrequestBody:\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/SmContextCreateData'\nresponses:\n'201':\ndescription: Success\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/SmContextCreatedData'\nheaders:\nLocation:\ndescription: >\n'Contains the URI of the newly created Individual SM Context resource, according to\nthe structure:{apiRoot}/nnef-smcontext/<version>/sm-contexts/{smContextId}'\nrequired: true\nschema:\ntype: string\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ncallbacks:\nStatusNotify:\n'{$request.body#/notificationUri}':\npost:\nrequestBody:\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/SmContextStatusNotification'\nresponses:\n'204':\ndescription: No Content, Notification was succesfull\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n/sm-contexts/{smContextId}/release:\npost:\nsummary: Delete SM Context\noperationId: Delete\ntags:\n- Individual SM Context (Document)\nparameters:\n- name: smContextId\nin: path\ndescription: SM Context Resource ID\nrequired: true\nschema:\ntype: string\nrequestBody:\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/SmContextReleaseData'\nresponses:\n'200':\ndescription: OK. Resource representation is returned\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/SmContextReleasedData'\n'204':\ndescription: No Content.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'406':\n$ref: 'TS29571_CommonData.yaml#/components/responses/406'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n/sm-contexts/{smContextId}/update:\npost:\nsummary: Update SM Context\noperationId: Update\ntags:\n- Individual SM Context (Document)\nparameters:\n- name: smContextId\nin: path\ndescription: SM Context Resource ID\nrequired: true\nschema:\ntype: string\nrequestBody:\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/SmContextUpdateData'\nresponses:\n'204':\ndescription: No Content.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'406':\n$ref: 'TS29571_CommonData.yaml#/components/responses/406'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n/sm-contexts/{smContextId}/deliver:\npost:\nsummary: Deliver Uplink MO Data\noperationId: Deliver\ntags:\n- Individual SM Context (Document)\nparameters:\n- name: smContextId\nin: path\ndescription: SM Context Resource ID\nrequired: true\nschema:\ntype: string\nrequestBody:\nrequired: true\ncontent:\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/DeliverReqData'\nbinaryMoData:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryMoData:\ncontentType:  application/octet-stream\nheaders:\nContent-Id:\nschema:\ntype: string\nresponses:\n'204':\ndescription: No Content.\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'406':\n$ref: 'TS29571_CommonData.yaml#/components/responses/406'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ncomponents:\nsecuritySchemes:\noAuth2ClientCredentials:\ntype: oauth2\nflows:\nclientCredentials:\ntokenUrl: '{nrfApiRoot}/oauth2/token'\nscopes:\nnnef-smcontext: Access to the Nnef_SMContext API\nschemas:\n#\n#  Structured Data Types\n#\nSmContextCreateData:\ndescription: Representation of the Individual SM context to be created.\ntype: object\nproperties:\nsupi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\npduSessionId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionId'\ndnn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nsnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nnefId:\ntype: string\ndescription: This IE shall contain the NEF ID of the target NEF.\ndlNiddEndPoint:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nnotificationUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nniddInfo:\n$ref: '#/components/schemas/NiddInformation'\nrdsSupport:\ntype: boolean\ndescription: |\nWhen present, this IE shall indicate the UE capability to support RDS.\nThe value of this IE shall be set as following\n- true  UE supports RDS\n- false (default)  UE does not support RDS\nsmContextConfig:\n$ref: '#/components/schemas/SmContextConfiguration'\nsupportedFeatures:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nrequired:\n- supi\n- pduSessionId\n- dnn\n- snssai\n- nefId\n- dlNiddEndPoint\n- notificationUri\nSmContextCreatedData:\ndescription: Representation of an Individual SM context successfully created.\ntype: object\nproperties:\nsupi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\npduSessionId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionId'\ndnn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nsnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nnefId:\ntype: string\ndescription: This IE shall contain the NEF ID of the target NEF.\nrdsSupport:\ntype: boolean\ndefault: false\ndescription: |\nWhen present, this IE shall indicate the NEF capability to support RDS.\nThe value of this IE shall be set as following\n- true  NEF supports RDS\n- false (default)  NEF does not support RDS\nextBufSupport:\ntype: boolean\ndefault: false\ndescription: |\nWhen present, this IE shall indicate whether Extended Buffering applies or not.\nThe value of this IE shall be set as following\n- true  Extended Buffering applies\n- false (default)  Extended Buffering does not apply\nsupportedFeatures:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nmaxPacketSize:\ntype: integer\nrequired:\n- supi\n- pduSessionId\n- dnn\n- snssai\n- nefId\nSmContextReleaseData:\ndescription: Representation of the information to release the Individual SM context.\ntype: object\nproperties:\ncause:\n$ref: '#/components/schemas/ReleaseCause'\nrequired:\n- cause\nSmContextReleasedData:\ndescription: >\nSuccessful release of an Individual SM context with information sent to the\nNF service consumer.\ntype: object\nproperties:\nsmallDataRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SmallDataRateStatus'\napnRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ApnRateStatus'\nSmContextStatusNotification:\ndescription: Representation of the SM Context status notification.\ntype: object\nproperties:\nstatus:\n$ref: '#/components/schemas/SmContextStatus'\nsmContextId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\ncause:\n$ref: '#/components/schemas/ReleaseCause'\nsmallDataRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SmallDataRateStatus'\napnRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ApnRateStatus'\nrequired:\n- status\n- smContextId\nNiddInformation:\ndescription: Informaiton related to NIDD used for the SM Context.\ntype: object\nproperties:\nextGroupId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ExternalGroupId'\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nafId:\ntype: string\ndescription: When present, this IE shall contain the AF Id used for the SM Context.\nSmContextConfiguration:\ndescription: NIDD Configuration for the SM context.\ntype: object\nproperties:\nsmalDataRateControl:\n$ref: '#/components/schemas/SmallDataRateControl'\nsmallDataRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SmallDataRateStatus'\nservPlmnDataRateCtl:\ntype: integer\nminimum: 10\nnullable: true\ndescription: >\nWhen present, this IE shall contain the maximum allowed number of\nDownlink NAS Data PDUs per deci hour of the serving PLMN, as specified\nin subclause 5.31.14.2 of 3GPP TS 23.501 [2].\nMinimum  10\nSmallDataRateControl:\ndescription: Configuration of Small Data Rate Control for the SM Context.\ntype: object\nproperties:\ntimeUnit:\n$ref: '#/components/schemas/SmallDataRateControlTimeUnit'\nmaxPacketRateUl:\ntype: integer\nmaxPacketRateDl:\ntype: integer\nmaxAdditionalPacketRateUl:\ntype: integer\nmaxAdditionalPacketRateDl:\ntype: integer\nrequired:\n- timeUnit\nSmContextUpdateData:\ndescription: Representation of the updates to apply to the Individual SM context.\ntype: object\nproperties:\ndlNiddEndPoint:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nnotificationUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nsmContextConfig:\n$ref: '#/components/schemas/SmContextConfiguration'\nDeliverReqData:\ndescription: >\nThe data for Deliver service request, including the Mobile Originated data to be\ndelivered via NEF.\ntype: object\nproperties:\ndata:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nrequired:\n- data\n#\n#  Simple Data Types\n#\n#\n#  Enumeration Data Types\n#\nSmContextStatus:\nanyOf:\n- type: string\nenum:\n- RELEASED\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nPossible values are\n- RELEASED: Indicates that the Individual SM Context for NIDD is released.\nSmallDataRateControlTimeUnit:\nanyOf:\n- type: string\nenum:\n- MINUTE\n- HOUR\n- DAY\n- WEEK\n- 6MINUTES\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nPossible values are\n- MINUTE: Indicates the rate control is applied per minute.\n- HOUR: Indicates the rate control is applied per hour.\n- DAY: Indicates the rate control is applied per day.\n- WEEK: Indicates the rate control is applied per week.\n- 6MINUTES: Indicates the rate control is applied per 6 minutes.\nReleaseCause:\nanyOf:\n- type: string\nenum:\n- PDU_SESSION_RELEASED\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nThe cause to release the SM Context. Possible values are\n- PDU_SESSION_RELEASED: Indicates that the Individual SM Context for NIDD is released.\nA.3\tNnef_SMService API\nopenapi: 3.0.0\ninfo:\ntitle: Nnef_SMService\nversion: 1.1.0\ndescription: |\nNnef SMService Service.\n© 2024, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\nAll rights reserved.\nexternalDocs:\ndescription: >\n3GPP TS 29.541 V18.3.0; 5G System; Session Management Services for Non-IP Data Delivery (NIDD)\nand Short Message Services (SMS); Stage 3.\nurl: https://www.3gpp.org/ftp/Specs/archive/29_series/29.541/\nservers:\n- url: '{apiRoot}/nnef-smservice/v1'\nvariables:\napiRoot:\ndefault: https://example.com\ndescription: apiRoot as defined in clause 4.4 of 3GPP TS 29.501\nsecurity:\n- {}\n- oAuth2ClientCredentials:\n- nnef-smservice\npaths:\n/sm-contexts/{supi}/sendsms:\npost:\nsummary: Send SMS payload for a given UE\noperationId: SendSMS\ntags:\n- Send MO SMS message and the delivery report\nparameters:\n- name: supi\nin: path\nrequired: true\ndescription: Subscription Permanent Identifier (SUPI)\nschema:\ntype: string\nrequestBody:\ncontent:\nmultipart/related:  # message with a binary body part\nschema:\ntype: object\nproperties:\njsonData:\n$ref: 'TS29577_Nipsmgw_SMService.yaml#/components/schemas/SmsData'\nbinaryPayload:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType: application/json\nbinaryPayload:\ncontentType: application/vnd.3gpp.sms\nheaders:\nContent-Id:\nschema:\ntype: string\nrequired: true\nresponses:\n'200':\ndescription: sending delivery report\ncontent:\nmultipart/related:  # message with a binary body part\nschema:\ntype: object\nproperties:\njsonData:\n$ref: 'TS29577_Nipsmgw_SMService.yaml#/components/schemas/SmsDeliveryData'\nbinaryPayload:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType: application/json\nbinaryPayload:\ncontentType: application/vnd.3gpp.sms\nheaders:\nContent-Id:\nschema:\ntype: string\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/504'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ncomponents:\nsecuritySchemes:\noAuth2ClientCredentials:\ntype: oauth2\nflows:\nclientCredentials:\ntokenUrl: '{nrfApiRoot}/oauth2/token'\nscopes:\nnnef-smcontext: Access to the Nnef_SMContext API\n# schemas:\n# COMPLEX TYPES:\n# SIMPLE TYPES:\n# ENUMS:\nAnnex B (informative):Change history\nChange history\nDate\nMeeting\nTDoc\nCR\nRev\nCat\nSubject/Comment\nNew version\n2019-09\nCT4#93\nC4-193889\nInitial Draft.\n0.1.0\n2019-10\nCT4#94\nC4-194527\nIncorporated pCRs agreed on CT4#94, including: C4-194208, C4-194440, C4-194441, C4-194442, C4-194443.\n0.2.0\n2019-11\nCT4#95\nC4-195642\nIncorporated pCRs agreed on CT4#95, including: C4-195283, C4-195284, C4-195295.\n0.3.0\n2019-12\nCT#86\nCP-193072\nTS presented for information\n1.0.0\n2020-03\nCT4#96-e\nC4-201265\nIncorporated pCRs agreed on CT4#96-e, including:.C4-200588, C4-200589, C4-200744, C4-200944, C4-200985, C4-201156.\n1.1.0\n2020-03\nCT#87e\nCP-200061\nPresented for approval\n2.0.0\n2020-03\nCT#87e\nApproved at CT#87e\n16.0.0\n2020-06\nCT#88e\nCP-201046\n0001\n2\nB\nAdd Extended Buffering\n16.1.0\n2020-06\nCT#88e\nCP-201071\n0002\nF\nStorage of YAML files in ETSI Forge\n16.1.0\n2020-06\nCT#88e\nCP-201046\n0003\nF\nRevert MO Exception Data Indication\n16.1.0\n2020-06\nCT#88e\nCP-201046\n0004\n1\nF\nParameter supplement to Create Service\n16.1.0\n2020-06\nCT#88e\nCP-201046\n0005\n1\nF\nParameter supplement to Delete Service\n16.1.0\n2020-06\nCT#88e\nCP-201046\n0006\n1\nF\nParameter supplement to Status Notify Service\n16.1.0\n2020-06\nCT#88e\nCP-201046\n0008\n1\nF\nMiscellaneous Corrections\n16.1.0\n2020-06\nCT#88e\nCP-201073\n0009\nF\n29.541 Rel-16 API version and External doc update\n16.1.0\n2020-12\nCT#90e\nCP-203032\n0010\nF\nYAML files in 3GPP Forge\n16.2.0\n2021-03\nCT#91e\nCP-210037\n0011\n1\nF\nHTTP 3xx redirection\n16.3.0\n2021-03\nCT#91e\nCP-210078\n0012\nF\n29.541 Rel-16 API version and External doc update\n16.3.0\n2021-06\nCT#92e\nCP-210055\n0013\n1\nF\nResolving Warning in Nnef_SMContext API\n17.0.0\n2021-06\nCT#92e\nCP-210051\n0014\nF\nOpenAPI Reference\n17.0.0\n2021-06\nCT#92e\nCP-210059\n0016\n1\nF\nRedirect Response\n17.0.0\n2021-06\nCT#92e\nCP-210050\n0017\nF\n29.541 Rel-17 API version and External doc update\n17.0.0\n2021-09\nCT#93e\nCP-212060\n0020\n-\nA\n3xx description correction for SCP\n17.1.0\n2022-03\nCT#95e\nCP-220023\n0023\n-\nB\nUpdate Binding Indication for Multiple Resources\n17.2.0\n2022-06\nCT#96\nCP-221045\n0026\nF\nDescription Fields\n17.3.0\n2022-06\nCT#96\nCP-221051\n0027\nF\n29.541 Rel-17 API version and External doc update\n17.3.0\n2022-09\nCT#97\nCP-222201\n0028\n1\nB\nNnef_SMService_MoForwardSm service API\n17.4.0\n2022-09\nCT#97\nCP-222027\n0029\n1\nB\nNnef_SMService_MoForwardSm service operation\n17.4.0\n2022-09\nCT#97\nCP-222027\n0030\n1\nF\nUpdate Reference Model\n17.4.0\n2022-12\nCT#98\nCP-223028\n0032\n1\nF\nMissing Mandatory Status Codes in OpenAPI\n18.0.0\n2022-12\nCT#98\nCP-223033\n0033\nF\n29.541 Rel-18 API version and External doc update\n18.0.0\n2023-06\nCT#100\nCP-231028\n0034\n4\nF\nLocation header description\n18.1.0\n2023-12\nCT#102\nCP-233027\n0037\nF\nAdd clause 6.1.4\n18.2.0\n2023-12\nCT#102\nCP-233029\n0038\n1\nF\nHTTP RFCs obsoleted by IETF RFC 9110, 9111 and 9113\n18.2.0\n2023-12\nCT#102\nCP-233029\n0039\nF\nProblemDetails RFC 7807 obsoleted by 9457\n18.2.0\n2024-06\nCT#104\nCP-241050\n0040\nF\nStyle and externalDocs Corrections of Nnef API\n18.3.0\n2024-06\nCT#104\nCP-241052\n0041\nF\n29.541 Rel-18 API version and External doc update\n18.3.0",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.510_clause_5.4.2.2",
        "ts_29.501_clause_5.3.1",
        "ts_29.501_clause_5",
        "ts_29.501_clause_4.4",
        "ts_23.501_clause_5.31.14.2",
        "clause_6.1.4",
        "ts_33.501",
        "ts_29.500",
        "ts_29.510",
        "ts_29.501",
        "ts_21.900",
        "ts_29.541",
        "ts_23.501"
      ]
    }
  ]
}