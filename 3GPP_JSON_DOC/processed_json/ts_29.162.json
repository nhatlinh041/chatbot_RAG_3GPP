{
  "metadata": {
    "specification_id": "ts_29.162",
    "version": "18.1.0",
    "title": "3GPP TS 29.162",
    "file_path": "/content/drive/MyDrive/RAG_thesis/data/29_series/29162-i10/29162-i10.docx"
  },
  "export_info": {
    "export_date": "2025-07-26T09:07:48.778577",
    "total_chunks": 108
  },
  "chunks": [
    {
      "chunk_id": "ts_29.162_1",
      "section_id": "1",
      "section_title": "Scope",
      "content": "The IM CN subsystem interworks with the external IP networks through the Mb reference point.\nThis document details the interworking between the IM CN subsystem and external IP networks for IM service support. It addresses the issues of control plane interworking and, user plane interworking for specific interworking use cases. Clause 10 describes the IMS-Ix interface requirements in the form of Use Cases which require H.248 protocol procedures. Subclause 10.4 then details the additional Information Elements required to perform the specific procedures.\nThe IP version Interworking, between IP version 4 (IETF RFC 791 [9] ) and IP version 6 (IETF RFC 2460 [10] ) detailed in terms of the processes and protocol mappings required in order to support both IMS originated and terminated calls.",
      "chunk_type": "general",
      "cross_references": [
        "clause_10",
        "clause_10.4"
      ]
    },
    {
      "chunk_id": "ts_29.162_2",
      "section_id": "2",
      "section_title": "References",
      "content": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non‑specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TS 24.229: \"Internet Protocol (IP) multimedia call control protocol based on Session Initiation Protocol (SIP) and Session Description Protocol (SDP); Stage 3\".\n[2]\tIETF RFC 3261: \"SIP: Session Initiation Protocol\".\n[3]\t3GPP TS 23.221: \"Architectural requirements\".\n[4]\t3GPP TS 29.061: \"Interworking between the Public Land Mobile Network (PLMN) supporting packet based services and Packet Data Networks (PDN)\".\n[5]\t3GPP TS 23.002: \"Network architecture\".\n[6]\tVoid.\n[7]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[8]\t3GPP TS 23.228: \"IP Multimedia Subsystem (IMS); Stage 2\".\n[9]\tIETF RFC 791: \"Internet Protocol\".\n[10]\tIETF RFC 2460: \"Internet Protocol, Version 6 (IPv6) Specification\".\n[11]\tIETF RFC 2766: \"Network Address Translation - Protocol Translation (NAT-PT)\".\n[12]\tIETF RFC 2663: \"IP Network Address Translator (NAT) Terminology and Considerations\".\n[13]\t3GPP TR 29.962 version 6.1.0: \"Signalling interworking between the 3GPP profile of the Session Initiation Protocol (SIP) and non-3GPP SIP usage\".\n[14]\tVoid.\n[15]\tVoid.\n[16]\tVoid.\n[17]\tVoid.\n[18]\tIETF RFC 792: \"Internet Control Message Protocol\".\n[19]\tIETF RFC 2463: \"Internet Control Message Protocol (ICMPv6) for the Internet Protocol Version 6\".\n[20]\tVoid.\n[21]\tVoid.\n[22]\tVoid.\n[23]\tVoid.\n[24]\tVoid.\n[25]\t3GPP TS 29.238: \"Interconnection Border Control Functions – Transition Gateway; H.248 Profile; Stage 3\".\n[26]\tITU-T Recommendation H.248.1 (05): \"Gateway Control Protocol: Version 3\".\n[27]\tVoid.\n[28]\t3GPP TS 23.205: \"Bearer-independent circuit-switched core network; Stage 2\".\n[29]\t3GPP TS 29.235: \"Interworking between SIP-I based circuit-switched core network and other networks\".\n[30]\tVoid.\n[31]\tIETF RFC 2474: \"Definition of the Differentiated Services Field (DS Field) in the IPv4 and IPv6 Headers\".\n[32]\t3GPP TS 33.328: \"IMS Media Plane Security\".\n[33]\tIETF RFC 4568: \"Session Description Protocol (SDP) Security Descriptions for Media Streams\".\n[34]\tIETF RFC 3711: \"The Secure Real-time Transport Protocol (SRTP)\".\n[35]\tIETF RFC 5124: \"Extended Secure RTP Profile for Real-time Transport Control Protocol (RTCP)-Based Feedback (RTP/SAVPF)\".\n[36]\t3GPP TS 26.114: \"IP Multimedia Subsystem (IMS); Multimedia Telephony; Media handling and interaction\".\n[37]\tIETF RFC 3168: \"The Addition of Explicit Congestion Notification (ECN) to IP\".\n[38]\tIETF RFC 6679: \"Explicit Congestion Notification (ECN) for RTP over UDP\".\n[39]\t3GPP TS 29.079: \"Optimal Media Routeing within the IP Multimedia Subsystem; Stage 3\".\n[40]\t3GPP TS 29.165: \"Inter-IMS Network to Network Interface (NNI)\".\n[41]\t3GPP TS 23.237: \"IP Multimedia subsystem (IMS) Service Continuity; Stage 2\".\n[42]\t3GPP TS 24.237: \"IP Multimedia subsystem (IMS) Service Continuity; Stage 3\".\n[43]\t3GPP TS 23.334: \"IP Multimedia Subsystem (IMS) Application Level Gateway (IMS-ALG) – IMS Access Gateway (IMS-AGW) interface: Procedures descriptions\".\n[44]\t3GPP TS 22.153: \"Multimedia Priority Service\".\n[45]\tIETF RFC 5285: \"A General Mechanism for RTP Header Extensions\".\n[46]\tIETF RFC 6236: \"Negotiation of Generic Image Attributes in the Session Description Protocol (SDP)\".\n[47]\tIETF RFC 4975: \"The Message Session Relay Protocol (MSRP)\".\n[48]\tIETF RFC 6714: \"Connection Establishment for Media Anchoring (CEMA) for the Message Session Relay Protocol (MSRP)\".\n[49]\tIETF RFC 4583: \"Session Description Protocol (SDP) Format for Binary Floor Control Protocol (BFCP) Streams\".\n[50]\tVoid.\n[51]\tIETF RFC 6947: \"The Session Description Protocol (SDP) Alternate Connectivity (ALTC) Attribute\".\n[52]\t3GPP TS 26.441: \"Codec for Enhanced Voice Services (EVS); General Overview\".\n[53]\t3GPP TS 26.445: \"Codec for Enhanced Voice Services (EVS); Detailed Algorithmic Description\".\n[54]\tIETF RFC 4573: \"MIME Type Registration for RTP Payload Format for H.224\".\n[55]\tITU-T Recommendation H.224 (01/2005): \"A real time control protocol for simplex applications using the H.221 LSD/HSD/MLP channels\".\n[56]\tITU-T Recommendation H.281 (11/1994): \"A far end camera control protocol for videoconferences using H.224\".\n[57]\tIETF RFC 5939: \"Session Description Protocol (SDP) Capability Negotiation\".\n[58]\tIETF RFC 5009: \"Private Header (P-Header) Extension to the Session Initiation Protocol (SIP) for Authorization of Early Media\".\n[59]\tIETF RFC 7728: \"RTP Stream Pause and Resume\".\n[60]\tIETF RFC 4585: \"Extended RTP Profile for Real-time Transport Control Protocol (RTCP)-Based Feedback (RTP/AVPF)\".\n[61]\tIETF RFC 5104: \"Codec Control Messages in the RTP Audio-Visual Profile with Feedback (AVPF)\".\n[62]\tIETF RFC 8445: \"Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal\".\n[63]\tIETF RFC 8839: \"Session Description Protocol (SDP) Offer/Answer Procedures for Interactive Connectivity Establishment (ICE)\".\n[64]\t3GPP TS 26.250: \"Codec for Immersive Voice and Audio Services – General Overview\".\n[65]\t3GPP TS 26.253: \"Codec for Immersive Voice and Audio Services – Detailed Algorithmic Description incl. RTP payload format and SDP parameter definitions\".",
      "chunk_type": "general",
      "cross_references": [
        "ts_24.229",
        "ts_23.221",
        "ts_29.061",
        "ts_23.002",
        "ts_21.905",
        "ts_23.228",
        "ts_29.962",
        "ts_29.238",
        "ts_23.205",
        "ts_29.235",
        "ts_33.328",
        "ts_26.114",
        "ts_29.079",
        "ts_29.165",
        "ts_23.237",
        "ts_24.237",
        "ts_23.334",
        "ts_22.153",
        "ts_26.441",
        "ts_26.445",
        "ts_26.250",
        "ts_26.253"
      ]
    },
    {
      "chunk_id": "ts_29.162_3.1",
      "section_id": "3.1",
      "section_title": "Definitions",
      "content": "For the purposes of the present document, the terms and definitions given in 3GPP TR 21.905 [7] and the following apply:\nEnd-to-end security: media protection between two IMS UEs without being terminated by any intermediary node.\nICE lite: The lite implementation of the Interactive Connectivity Establishment (ICE) specified in IETF RFC 8445 [62].\nFull ICE: The full implementation of the Interactive Connectivity Establishment (ICE) specified in IETF RFC 8445 [62].\nIM CN subsystem: (IP Multimedia CN subsystem) comprises of all CN elements for the provision of IP multimedia applications over IP multimedia sessions\nIP multimedia session: set of multimedia senders and receivers and the data streams flowing from senders to receiversIP multimedia sessions are supported by the IP multimedia CN Subsystem and are enabled by IP connectivity bearers (e.g. GPRS as a bearer). A user may invoke concurrent IP multimedia sessions.\nMSC Server enhanced for ICS: An MSC Server that supports the network based ICS functionality.\nMSC Server enhanced for SRVCC: An MSC Server that supports the network based SRVCC functionality.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_21.905"
      ]
    },
    {
      "chunk_id": "ts_29.162_3.2",
      "section_id": "3.2",
      "section_title": "Symbols",
      "content": "For the purposes of the present document, the following symbols apply:\nMm\tReference Point between a CSCF/BGCF/IMS-ALG and an IP multimedia network.\nMx\tReference Point between a CSCF/BGCF/MSC Server enhanced for ICS/MSC Server enhanced for SRVCC and IBCF.\nMb\tReference Point defined in 3GPP TS 23.002 [5] and is IP based.\nIx\tReference Point between IBCF and TrGW or CS-IBCF and CS-TrGW.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.002"
      ]
    },
    {
      "chunk_id": "ts_29.162_3.3",
      "section_id": "3.3",
      "section_title": "Abbreviations",
      "content": "For the purposes of the present document, the abbreviations given in 3GPP TR 21.905 [7] and the following apply: An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in 3GPP TR 21.905 [7].\nALTC\tALTernative Connection\nAPP\tAPPlication-defined RTCP packet\nATCF\tAccess Transfer Control Function\nATGW\tAccess Transfer Gateway\nB2BUA\tBack-to-Back User Agent\nBFCP\tBinary Floor Control Protocol\nBGCF\tBreakout Gateway Control Function\nCCM\tCodec Control Messages\nCS-TrGW\tCS (domain) TrGW\nCVO\tCoordination of Video Orientation\nDBI\tDelay Budget Information\nDRVCC\tDual Radio Voice Call Continuity\nECN\tExplicit Congestion Notification\nECN-CE\tECN Congestion Experienced\nEVS\tEnhanced Voice Services\nFECC\tFar End Camera Control\nFIR\tFull Intra Request\nIBCF\tInterconnect Border Control Function\nICE\tInteractive Connectivity Establishment\nICS\tIMS Centralized Services\nI-CSCF\tInterrogating CSCF\nIMS-ALG\tIMS - Application Level Gateway\nITU-T\tInternational Telecommunication Union – Telecommunication Standardization Sector\nIVAS\tImmersive Voice and Audio Services\nMboIP\tMb over IP\nMPS\tMultimedia Priority Service\nMRFP\tMultimedia Resource Function Processor\nMSRP\tMessage Session Relay Protocol\nMTSI\tMultimedia Telephony Service for IMS\nNAT/NAPT\tNetwork Address Translation / Network Address and Port Translation\nNA (P) T-PT\tNetwork Address (and Port) Translation - Protocol Translation\nOMR\tOptimal Media Routeing\nP-CSCF\tProxy CSCF\nROI\tRegion of Interest\nRTCP\tReal Time Control Protocol\nSCTP\tStream Control Transmission Protocol\nSDPCapNeg\tSDP Capability Negotiation\nSIP UA\tSIP User Agent\nSTUN\tSession Traversal Utilities for NAT\nTHIG\tTopology Hiding Internetwork Gateway\nTLS\tTransport Layer Security\nTMMBN\tTemporary Maximum Media Stream Bit Rate Notification\nTMMBR\tTemporary Maximum Media Stream Bit Rate Request\nTRF\tTransit and Roaming Function\nTrGW\tTransition GateWay\nUAC\tUser Agent Client\nUAS\tUser Agent Server\nURN\tUniform Resource Name\nWAN\tWide Area Network",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905"
      ]
    },
    {
      "chunk_id": "ts_29.162_4.1",
      "section_id": "4.1",
      "section_title": "General interworking overview",
      "content": "The IM CN Subsystem interworks with SIP (IETF RFC 3261 [2]) based IP Multimedia networks. These IP Multimedia networks include:\n-\tSIP User Agents (SIP UAs); and\n-\tSIP Servers.\nAs such, the IM CN Subsystem has to be able to interwork to all of these above functional entities in the IP multimedia network, as there is a possibility that they all may be involved in an IM session. The general interworking model is shown in figure 1. The SIP based Multimedia networks may use IP version 4 (IETF RFC 791 [9]) or IP version 6 (IETF RFC 2460 [10]).\nFigure 1: Interworking Model for IM CN Subsystem to IP Multimedia Network\nThe PS UE uses the CSCF in order to communicate with the external IP multimedia network entities.\nThe CS UE uses a MSC Server to communicate with external IP multimedia network entities.\nIf no IP version interworking or no NAT/NAPT between different realms is required, the CSCF and the MSC Server can communicate with SIP UAs in an external IP multimedia network directly.\nIf no IP version interworking or no NAT/NAPT between different realms is required, the CSCF and the MSC Server can also communicate with SIP proxies in an external IP multimedia network directly, which in turn can then communicate with SIP UAs.\nTo provide the IP version interworking or NAT/NAPT between different realms the functions of an IMS-ALG and a TrGW may be inserted between the CSCF or the MSC Server and the external IP Multimedia Network by configuration. The IMS-ALG and the TrGW may be implemented as a part of other physical entities in the IMS.\nNOTE:\tOther methods to provide IP version interworking are outside the scope of this release.",
      "chunk_type": "definition",
      "cross_references": [
        "figure_1"
      ]
    },
    {
      "chunk_id": "ts_29.162_4.2",
      "section_id": "4.2",
      "section_title": "Interworking scenarios",
      "content": "3GPP specifications design the IM CN subsystem elements and interfaces to exclusively support IPv6. 3GPP TS 23.221 [3] details the interoperability scenarios that an UE may experience when interworking with an external PDN. All of these IP transport layer interworking scenarios can apply to the application layer interworking scenarios detailed in subclause 4.2.1.",
      "chunk_type": "general",
      "cross_references": [
        "clause_4.2.1",
        "ts_23.221"
      ]
    },
    {
      "chunk_id": "ts_29.162_4.2.1",
      "section_id": "4.2.1",
      "section_title": "UE with 3GPP SIP profile capability connecting to an external SIP device",
      "content": "The procedures used by an UE with 3GPP SIP profile to connect to an external SIP device, which may lack 3GPP SIP profile capabilities, have been analysed in Release 6 within 3GPP TR 29.962 [13] and are specified in 3GPP TS 24.229 [1].",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.962",
        "ts_24.229"
      ]
    },
    {
      "chunk_id": "ts_29.162_5.1",
      "section_id": "5.1",
      "section_title": "Key characteristics of IP Multimedia Networks",
      "content": "The Internet is a conglomeration of networks utilising a common set of protocols. IP protocols are defined in the relevant IETF RFCs. The networks topologies may be based on LANs (e.g. Ethernet), Point-to-Point leased lines, PSTN, ISDN, X.25 or WANs using switched technology (e.g. SMDS, ATM).\nIP multimedia networks provide the ability for users to invoke IP multimedia applications in order to send and receive (where applicable) voice and data communications. One protocol used to manage IP multimedia sessions is the Session Initiation Protocol (SIP) (IETF RFC 3261 [2]).",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.162_5.2",
      "section_id": "5.2",
      "section_title": "Key characteristics of UMTS IM CN Subsystem",
      "content": "The UMTS IM CN subsystem uses the SIP protocol to manage IP multimedia sessions, and uses IP as the transport mechanism for both SIP session signalling and media transport.\nThe UMTS IM CN subsystem shall support interworking with existing fixed and mobile voice and IP data networks, including PSTN, ISDN, Mobile and Internet.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.162_6.0",
      "section_id": "6.0",
      "section_title": "Reference Model",
      "content": "Figure 2 details the reference architecture required to support interworking between the IM CN subsystem and IP networks for IM services. Figure 3 details the reference architecture required to support interworking between the IMS and IP SIP networks supporting IP version 4.\nNOTE:\tMultimedia IP networks may be connected via the Mb interface to various network entities, such as an UE (via an GTP Tunnel reaching to the GGSN), an MRFP, or an application server.\nFigure 2: IM CN Subsystem to IP network interworking reference Architecture without IP version interworking\nFigure 3: Border Control Functions\nMm reference point: The call control protocol applied to the Mm interface between CSCF and external IP networks is SIP, IETF RFC 3261 [2], as detailed in 3GPP TS 24.229 [1]. SIP extension packages mandated by 3GPP are possibly not supported.\nMb reference point: This interface is defined in 3GPP TS 23.002 [5] and is IP based. Further information is provided in 3GPP TS 29.061 [4] and 3GPP TS 26.114 [36].\nMx reference point: The protocol applied at the Mx reference point is specified in 3GPP TS 24.229 [1].\nIx reference point: The protocol applied at the Ix reference point is specified in 3GPP TS 29.238 [25].",
      "chunk_type": "general",
      "cross_references": [
        "figure_2",
        "figure_3",
        "ts_24.229",
        "ts_23.002",
        "ts_29.061",
        "ts_26.114",
        "ts_29.238"
      ]
    },
    {
      "chunk_id": "ts_29.162_6.1.1",
      "section_id": "6.1.1",
      "section_title": "IBCF",
      "content": "This entity provides control plane functionality to connect entities following the 3GPP profile of SIP, 3GPP TS 24.229 [1], and external SIP entities following IETF RFC 3261 [2].",
      "chunk_type": "general",
      "cross_references": [
        "ts_24.229"
      ]
    },
    {
      "chunk_id": "ts_29.162_6.1.2",
      "section_id": "6.1.2",
      "section_title": "IMS-ALG",
      "content": "IMS-ALG functionality resides in IBCF. An IMS-ALG provides the application level translation function for SIP and SDP in order to communicate between IPv6 and IPv4 SIP applications or, based on operator policies between different realms using the same IP version. The IBCF acts as a SIP B2BUA when IBCF performs IMS-ALG functionality.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.162_6.1.3",
      "section_id": "6.1.3",
      "section_title": "TrGW",
      "content": "The TrGW is a NAT-PT/NAPT-PT, which uses a pool of globally unique IPv4 addresses for assignment to IPv6 nodes on a dynamic basis as sessions are initiated across the IP version boundaries. NAT-PT binds addresses in IPv6 network with addresses in IPv4 network and vice versa to provide transparent routing between the two IP domain without requiring any changes to end points. NAPT-PT provides additional translation of transport identifier (TCP, SCTP and UDP port numbers). More detailed information on the NAT-PT/NAPT-PT is given in IETF RFC 2766 [11] and IETF RFC 2663 [12].\nThe TrGW may provide the NAT/NAPT functionality between two disparate address realms.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.162_6.1.4",
      "section_id": "6.1.4",
      "section_title": "Acces Transfer Control Function",
      "content": "The ATCF may reside within the IBCF to support \"SRVCC enhanced with ATCF\" procedures as described in 3GPP TS 23.237 [41] and 3GPP TS 24.237 [42] . In this case, the Ix reference point is used for IMS sessions that the ATCF decides to anchor at the ATGW to provide the following functions:\n-\treservation and configuration of ATGW resources for media anchoring during PS session origination or termination;\n-\treconfiguration of ATGW resources during access transfer to the CS domain;\n-\trelease of ATGW resources upon completion of the access transfer or release of the session;\n-\tmedia transcoding if the media that was used prior to the access transfer is not supported by the MSC server;\n-\tIP version interworking if different IP versions are used between the access and the remote legs; and\n-\tindication of IP realm during allocation of transport addresses/resources (the PS and CS accesses may be reachable via different IP realms).",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.237",
        "ts_24.237"
      ]
    },
    {
      "chunk_id": "ts_29.162_6.1.5",
      "section_id": "6.1.5",
      "section_title": "Acces Transfer GateWay",
      "content": "The ATGW may reside within the TrGW to support \"SRVCC enhanced with ATCF\" procedures as described in 3GPP TS 23.237 [41] and 3GPP TS 24.237 [42]. If the IBCF supports the ATCF functionality (see subclause 6.1.4), the IBCF shall select a TRGW which supports the ATGW functionality.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.1.4",
        "ts_23.237",
        "ts_24.237"
      ]
    },
    {
      "chunk_id": "ts_29.162_7.1",
      "section_id": "7.1",
      "section_title": "SIP with 3GPP Profile to Standard SIP Interworking",
      "content": "3GPP TS 24.229 [1] defines the procedures, which allow a 3GPP-IMS UE to connect to a standard SIP terminal.",
      "chunk_type": "general",
      "cross_references": [
        "ts_24.229"
      ]
    },
    {
      "chunk_id": "ts_29.162_7.2",
      "section_id": "7.2",
      "section_title": "Additional interworking of protocols associated with services",
      "content": "There is no impact beyond that specified in subclause 7.1 provided the necessary SIP extensions are supported on both sides of the interworking point.\nBased on operator policy and/or service level agreements the interworking of services may be restricted.\nAdditional information related to interworking with services is provided in 3GPP TS 29.165 [40].",
      "chunk_type": "general",
      "cross_references": [
        "clause_7.1",
        "ts_29.165"
      ]
    },
    {
      "chunk_id": "ts_29.162_8.1",
      "section_id": "8.1",
      "section_title": "Overview",
      "content": "The present specification addresses user plane interworking between codec types used for either speech or video. Codecs used for conversational services in the PS domain are as defined in 3GPP TS 26.114 [36].",
      "chunk_type": "definition",
      "cross_references": [
        "ts_26.114"
      ]
    },
    {
      "chunk_id": "ts_29.162_9.1.1.0",
      "section_id": "9.1.1.0",
      "section_title": "General",
      "content": "The procedure described in subclause 9.1.1 applies both for an SDP offer received from the external network and received from the IMS.\nIf different IP versions are used in the external network and the IMS, the TrGW shall provide IP version interworking of the user plane. Otherwise, the TrGW provides NAPT functionality.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_9.1.1"
      ]
    },
    {
      "chunk_id": "ts_29.162_9.1.1.1",
      "section_id": "9.1.1.1",
      "section_title": "Receipt of the first SDP offer",
      "content": "At the receipt of the first SDP offer from an offering network A the IMS-ALG shall:\n-\tRequest the TrGW to allocate a termination towards an answering network B and provide IP address(es) and port number(s) from its pool for this termination.\nWhen the IMS-ALG has received the requested information from the TrGW, the IMS-ALG shall include the address(es) and port number(s) in a new offer, and sent this offer toward the network B. The IMS-ALG shall create a SIP message in accordance with the rules for the IMS-ALG described in subclause 9.1.4 with the following clarification:\n-\tThe IP address(es) and port number(s) received from the TrGW for the termination towards network B shall replace the IP address(es) and port number(s) in the SDP.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_9.1.4"
      ]
    },
    {
      "chunk_id": "ts_29.162_9.1.1.2",
      "section_id": "9.1.1.2",
      "section_title": "Receipt of the first SDP answer",
      "content": "At the receipt of the first SDP answer from network B the IMS-ALG shall:\n-\tProvide to the TrGW the address(es) and port number(s) as received in the c-line(s) and m-line(s) in the SDP answer as destinations for the termination towards answering network B;\n-\tRequest the TrGW to allocate a termination towards the offering network A and provide IP address(es) and port number(s) from its pool for this termination, and provide the IP address and port number received in the first SDP offer from network A as destination for this termination, unless this step has already been executed earlier, e.g. at the receipt of the SDP offer; and\n-\tRequests the TrGW to bind the termination towards network A and the the termination towards network B to enable the routing of user plane traffic towards the IPv4 SIP network through the TrGW.\nNOTE:\tThe binding request will be combined with the request to create terminations in the H.248 protocol\nWhen the IMS-ALG has received the requested information, the IMS-ALG shall send an SDP answer to the network A. The IMS-ALG shall create the SIP message in accordance with the rules for the IMS-ALG described in subclause 9.1.4 with the following clarification:\n-\tThe IP address(es) and port number(s) received from the TrGW for the termination towards network A shall replace the received IP address(es) and port number(s) in the SDP.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_9.1.4"
      ]
    },
    {
      "chunk_id": "ts_29.162_9.1.3",
      "section_id": "9.1.3",
      "section_title": "Change of connection information",
      "content": "After the dialog is established it is possible for both ends of the session to change the connection data for the session. When the IMS-ALG/TrGW receives a SDP offer/answer where port number(s) or IP address(es) is included., there are four different possibilities:\n1)\tIP address(es) or/and port number(s) have been added. In this case additional binding(s) shall be provided by the IMS-ALG/TrGW as detailed for the first SDP offer in the subclauses above;\n2)\tIP address(es) or/and port number(s) have been deleted. In this case binding(s) shall be made free by the IMS-ALG/TrGW;\n3)\tIP address(es) and port number(s) have been reassigned of the users. In this case the binding(s) shall reflect the reassignment; and\n4)\tNo change has been made to the IP address(es) and port number(s). In this case no change shall be made to the existing binding(s).",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.162_9.1.4",
      "section_id": "9.1.4",
      "section_title": "Interworking of SIP messages",
      "content": "The IMS-ALG behaves as a SIP B2BUA when interworking SIP messages. The IMS-ALG shall forward all SIP messages transparently with respect to all methods, result codes, headers and attachments except as follows:\n-\tThe IMS-ALG modifies SDP according to subclause 9.1.1, subclause 9.1.3, subclause 9.1.5 and clause 10.\nNOTE:\tSDP not described in subclause 9.1.1, subclause 9.1.3 or clause 10 can be handled according to 3GPP TS 24.229 [1] clause A.3.\n-\tWhen forwarding an incoming SIP request, the IMS-ALG should perform UAC procedures towards the intended target according to IETF RFC 3261 [2], by modifying those headers necessary to ensure that all transactions within the dialog pass through the IMS-ALG.\n-\tWhen forwarding an incoming SIP response, the IMS-ALG should perform UAS procedures towards the originator of the corresponding request according to IETF RFC 3261 [2], by modifying those headers necessary to ensure that all transactions within the dialog pass through the IMS-ALG.\n-\tThe IMS-ALG may perform any appropriate error recovery procedures in the event that an incoming message contains errors inconsistent with the forwarding procedures above.\n-\tThe IBCF can perform screening of SIP request and SIP responses based on local policy as described in subclause 5.10.6 of 3GPP TS 24.229 [1].\nAt the receipt of a SIP BYE request, SIP CANCEL request or non-200 SIP final response, the IMS-ALG shall release the session and request the TrGW to release the bindings established for the session.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_9.1.1",
        "clause_9.1.3",
        "clause_9.1.5",
        "clause_10",
        "ts_24.229_clause_5.10.6",
        "ts_24.229"
      ]
    },
    {
      "chunk_id": "ts_29.162_9.1.5",
      "section_id": "9.1.5",
      "section_title": "Modification of SDP bandwidth information for IP version interworking",
      "content": "When the IMS ALG performs IP version interworking and passes an SDP offer or answer, it should adjust any SDP b=AS bandwidth modifiers contained in the SDP.\nNOTE 1:\t3GPP TS 26.114 [36] annex K, annex Q and annex YY contain information about bandwidths for speech media transported over IPv4 and IPv6. 3GPP TS 26.114 [36] subclause 12.7.5 contains information how to convert b=AS for video media.\nNOTE 2:\tIf the b=AS bandwidth modifiers are not adjusted, this can negatively impact the end-to-end media negotiation (e.g. the selection of a speech codec mode) and lead to an inaccurate resource reservation.\nThe IMS-ALG may support the enhanced bandwidth negotiation mechanism defined in 3GPP TS 26.114 [36]. The enhanced bandwidth negotiation mechanism is based on the \"a=bw-info\" SDP attribute (defined in clause 19 of 3GPP TS 26.114 [36]) to negotiate the additional bandwidth properties end-to-end.\nIf the IMS-ALG receives an SDP body containing the \"a=bw-info\" SDP attribute(s) and if:\n-\tthe IMS-AGW interconnects call legs in IP domains where different IP versions (IPv4 or IPv6) are used; and\n-\tthe received \"a=bw-info\" SDP attribute lines related to the same payload type and the same direction do not contain bandwidth properties for both IPv4 and IPv6;\nthe IMS-ALG shall, before forwarding the SDP body:\n-\tre-calculate the received bandwidth properties (the maximum supported bandwidth, the maximum desired bandwidth, the minimum desired bandwidth and the minimum supported bandwidth for sending and/or receiving direction);\n-\tinclude in the modified \"a=bw-info\" SDP attribute lines the IP version used for the re-calculation of the bandwidth properties;\nNOTE 3:\tIf no IP version is included for any of the \"a=bw-info\" SDP attribute lines related to a certain payload type and direction then IPv6 is assumed for all bandwidth properties related to the same direction and payload type, on all of the related \"a=bw-info\" SDP attribute lines, see clause 19 of 3GPP TS 26.114 [36].\n-\tinclude the maximum packet rate assumed when re-calculating the maximum supported bandwidth, the maximum desired bandwidth and the minimum desired bandwidth properties; and\n-\tinclude the minimum packet rate assumed when re-calculating the minimum supported bandwidth.\nOtherwise, if the received SDP body contains bandwidth properties for both IPv4 and IPv6 and if the IMS-ALG does not support or does not apply the transcoding procedure defined in subclause 10.2.5, the IMS-ALG shall forward the SDP body with unmodified \"a=bw-info\" SDP attribute lines.",
      "chunk_type": "general",
      "cross_references": [
        "ts_26.114_clause_12.7.5",
        "ts_26.114_clause_19",
        "clause_10.2.5",
        "ts_26.114"
      ]
    },
    {
      "chunk_id": "ts_29.162_9.2.1",
      "section_id": "9.2.1",
      "section_title": "Payload transport",
      "content": "The TrGW shall use the established bindings described in subclause 9.1 to transport the messages between the network A and the network B in the following way.\nAt the receipt of a payload message the TrGW shall:\n-\treplace the received destination IP address(es) and port number(s) in the payload message with the corresponding IP address(es) and port number(s) that have been signalled by the IBCF; and\n-\treplace the received source IPaddress(es) and port number(s) in the payload message with the corresponding IPaddress(es) and port number(s) the TrGW allocated at its own terminations.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_9.1"
      ]
    },
    {
      "chunk_id": "ts_29.162_9.2.2.1",
      "section_id": "9.2.2.1",
      "section_title": "IPv4 to IPv6",
      "content": "When the TrGW receives an IPv4 message the following codings shall be set in the IPv6 headers of the message sent to the IPv6 network.\n-\tIf the DF bit is set and the packet is not a fragment (i.e., the MF flag is not set and the Fragment Offset is zero) The IPv6 headers shall be set as described in table 1;\n-\tIf the DF bit is not set or the packet is a fragment the IPv6 headers shall be set as described in table 2.\nTable 1: Derivation of IPv6 Header from IPv4 header (no fragmentation)\nIPv6 field\nValue\nVersion\n6\nTraffic Class:\nThe default behaviour is that the value of the IPv6 field Traffic Class field is the value of the IPv4 Type Of Service field (all 8 bits are copied). An im­plementation of a TrGW should also provide the ability to ignore the value of the IPv4 Type of Service and always set the IPv6 traffic class field to zero.\nFlow label\nThe Ipv6 Flow Label Field is set to 0 (all zero bits).\nPayload Length\nThe IPv6 Payload Length field value is the IPv4 Total length field value minus the size of the IPv4 header and IPv4 options field length, if present.\nNext Header\nThe Ipv6 Next Header value is copied from IPv4 Protocol field\nHopLimit:\nThe IPv6 Hop Limit value is The value of IPv4 field Time To Live minus 1.\nSource Address\nShall be handled as the addresses of the payload message as described in subclause 9.2.1.\nDestination Address\nShall be handled as the addresses of the payload message as described in subclause 9.2.1.\nTable 2: Derivation of IPv6 Header from IPv4 Header (fragmentation)\nIPv6 field\nValue\nVersion\n6\nTraffic Class:\nThe default behaviour is that the value of the IPv6 field Traffic Class field is the value of the IPv4 Type Of Service field (all 8 bits are copied). An im­plementation of a TrGW should also provide the ability to ignore the value of the IPv4 Type of Service and always set the IPv6 traffic class field to zero.\nFlow label\nThe Ipv6 Flow Label Field is set to 0 (all zero bits).\nPayload Length\nThe IPv6 Payload Length field value is the IPv4 Total length field value plus 8 for the fragment header minus the size of the IPv4 header and IPv4 options field length, if present.\nNext Header\nThe IPv6 Next header field is set to Fragment header (44).\nHop Limit:\nThe IPv6 Hop Limit value is The value of IPv4 field Time To Live minus 1.\nSource Address\nShall be handled as the addresses of the payload message as described in subclause 9.2.1.\nDestination Address\nShall be handled as the addresses of the payload message as described in subclause 9.2.1.\nFragments headers\na) next header\nCopied from IPv4 Protocol field.\nb) fragment Offset\nCopied from the IPv4 Fragment offset field.\nc) More fragment bit\nCopied from the value of the more fragment bit in the IPv4 flags field.\nd) Identification\nThe value of this field should be mapped from the triple of the source address, destination address and IPv4 identification field of the incoming packet/fragments to a unique value for the source and destination address of the outgoing IPv6 packet/fragments.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_9.2.1",
        "table_1",
        "table_2"
      ]
    },
    {
      "chunk_id": "ts_29.162_9.2.2.2",
      "section_id": "9.2.2.2",
      "section_title": "Abnormal cases",
      "content": "If IPv4 options are present in the IPv4 packet, they should be ignored i.e., there is no attempt to translate them. However, if an unexpired source route option is present then the packet shall instead be discarded, and an ICMPv4 \"destination unreachable/source route failed\" Type 3/Code 5 error message shall be returned to the sender as defined in IETF RFC 792 [18].\nWhen a translator receives the first fragment of a fragmented UDP IPv4 packet and the checksum field is zero the translator should drop the packet and generate a system management event specifying at least the IP addresses and port numbers in the packet. When the translator receives fragments other than the first it should silently drop the packet since there is no port information to log.\nWhen a translator receives an unfragmented UDP IPv4 packet and the checksum field is zero the translator shall compute the missing UDP checksum as part of translating the packet. Also, the translator should maintain a counter of how many UDP checksums are generated in this manner.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.162_9.2.2.3",
      "section_id": "9.2.2.3",
      "section_title": "IPv6 to IPv4",
      "content": "When the TrGW receives an IPv6 message the following codings shall be set in the IPv4 headers of the message sent to the IPv4 network.\n-\tIf there is no IPv6 fragment header, the IPv4 header fields shall be set as described in Table 3;\n-\tif there is an IPv6 fragment header, the IPv4 header fields shall be set as described in Table 4.\nTable 3: Derivation of IPv4 Header from IPv6 Header (no fragmentation)\nIPv4 field\nValue\nVersion\n4\nInternet header length\n5 (No IPv4 options)\nType of Service\nThe default behaviour is that the value of the IPv4 field Type of service field is the value of the IPv6 Traffic class field (all 8 bits are copied). An im­plementation of a TrGW should also provide the ability to ignore the value of the IPv6 Traffic Class and always set the IPv4 Type of Service field to zero.\nTotal length\nThe IPv4 Total Length field value is the IPv6 Payload length value plus the size of the IPv4 headers.\nIdentification\nAll bits are set to zero.\nFlags\nThe more fragment flag is set to zero. The Don’t fragment flag is set to one.\nFragment offset\nSet to zero.\nTime to live (TTL)\nThe value of the field shall be set to the received IPv6 Hop Limit field value minus 1.\nProtocol\nThe IPv4 field Protocol shall be set to the value of IPv6 field The next header value.\nHeader checksum\nComputed once the IPv4 header has been created.\nSource Address\nShall be handled as the addresses of the payload message as described in subclause 9.2.1.\nDestination Address\nShall be handled as the addresses of the payload message as described in subclause 9.2.1.\nTable 4: Derivation of IPv4 Header from IPv6 Header (fragmentation)\nIPv4 field\nValue\nVersion\n4\nInternet header length\n5 (No IPv4 options)\nType of Service and Precedence:\nThe default behaviour is that the value of the IPv4 field Type of service field is the value of the IPv6 Traffic class field (all 8 bits are copied). An im­plementation of a TrGW should also provide the ability to ignore the value of the IPv6 Traffic Class and always set the IPv4 Type of Service field to zero.\nTotal length\nThe IPv4 Total Length field value is the IPv6 Payload length value plus the size of the IPv4 headers minus 8 for the Fragment header.\nIdentification\nThe value of this field should be mapped from the triple of the source address, destination address and IPv6 fragmentation header field \"identification\" of the incoming packet/fragments to a unique value for the source and destination address of the outgoing IPv4 packet/fragments.\nFlags\nThe IPv4 More Fragments flag is copied from the IPv6 M flag in the IPv6 Fragment header the IPv4. The Don't Fragments flag is set to zero allowing this packet to be fragmented by IPv4 routers.\nTime to live (TTL)\nThe value of the field shall be set to the received IPv6 Hop Limit field value minus 1.\nProtocol\nThe IPv4 field Protocol shall be set to the value of IPv6 field The next header value.\nHeader checksum\nComputed once the IPv4 header has been created.\nSource Address\nShall be handled as the addresses of the payload message as described in subclause 9.2.1.\nDestination Address\nShall be handled as the addresses of the payload message as described in subclause 9.2.1.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_9.2.1",
        "table_3",
        "table_4"
      ]
    },
    {
      "chunk_id": "ts_29.162_9.2.2.4",
      "section_id": "9.2.2.4",
      "section_title": "Abnormal cases",
      "content": "If any of an IPv6 hop-by-hop options header, destination options header, or routing header with the Segments Left field equal to zero are present in the IPv6 packet, they are ignored i.e., there is no attempt to translate them. However, the Total Length field and the Protocol field shall be adjusted to \"skip\" these extension headers.\nIf a routing header with a non-zero Segments Left field is present then the packet shall be translated, and an ICMPv6 \"parameter problem/ erroneous header field encountered\" Type 4/Code 0 error message as defined in IETF RFC 2463 [19], with the Pointer field indicating the first byte of the Segments Left field should be returned to the sender.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.162_9.2.3",
      "section_id": "9.2.3",
      "section_title": "Fragmentation",
      "content": "If the DF flag is not set and the IPv4 packet will result in an IPv6 packet larger than 1280 bytes the TrGW shall prior to transferring it in the IPv6 network:\n-\tAdd the fragment header to the message; and\n-\tfragment the IPv4 packets so that their length, excluding the IPv4 header, is at most 1232 bytes (1280 minus 40 for the IPv6 header and 8 for the Fragment header).",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.162_9.2.4",
      "section_id": "9.2.4",
      "section_title": "Abnormal cases",
      "content": "As a part of decrementing the Time To Live /Hop Limit value and the TrGW discovers that the zero value is reached the TrGW shall send an ICMPv4/ICMPv6 message with the error \"time to live exceeded in transit\" type 11 code 0 as defined in IETF RFC 792 [18] and \"hop limit exceeded in transit\" type 3 code 0 as defined in IETF RFC 2463 [19].",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.162_10.1.1",
      "section_id": "10.1.1",
      "section_title": "General",
      "content": "The present specification describes Ix signalling procedures and their interaction with SIP signalling in the control plane, and with user plane procedures. Each scenario or \"use case\" is described in a separate subclause within subclause 10.2. 3GPP TS 29.238 [25] maps these signalling procedures to H.248 messages and defines the required H.248 profile (which provides details of used packages and parameters).",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.238_clause_10.2",
        "ts_29.238"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.1.2",
      "section_id": "10.1.2",
      "section_title": "Network model",
      "content": "Figure 10.1.2.1 shows the network model. The broken line represents the call control signalling. The dotted line represents the user plane. The IBCF uses one context with two terminations in the TrGW.\nFigure 10.1.2.1: Network model",
      "chunk_type": "general",
      "cross_references": [
        "figure_10.1.2.1"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.1.3.1.1",
      "section_id": "10.1.3.1.1",
      "section_title": "Call Establishment",
      "content": "Figure 10.1.3.1.1.1 depicts the signalling flow for a call setup either from or toward an external network.\n1.\tThe IBCF receives an SDP offer in SIP signalling.\n2.\tThe IBCF detects that one of the CS-TrGW functions is required, e.g. NAPT/NAT.\n3.\tThe IBCF sends a H.248 ADD command to create the outgoing termination and to request resources to execute TrGW function.\n4.\tThe TrGW creates the outgoing termination.\n5.\tThe TrGW replies to IBCF with a H.248 Add reply command and provides the local address and port of the outgoing termination.\n6.\tThe IBCF replaces the IP address inside the SDP using the information coming from TrGW.\n7.\tSDP offer is sent to the network at the outgoing side.\n8.\tSDP answer is received by IBCF.\n9.\tThe IBCF sends a H.248 MOD command to configure the outgoing termination with address and port information received in the SDP answer.\n10.\tThe TrGW configures the outgoing termination.\n11.\tThe TrGW replies to IBCF with a H.248 MOD reply command.\n12.\tThe IBCF sends a H.248 ADD command to create the incoming termination and to request resources to execute TrGW function.\n13.\tThe TrGW creates the incoming termination.\n14.\tThe TrGW replies to the IBCF with a H.248 Add reply command and provides the local address and port of the incoming termination.\nNOTE 1:\tSteps 12 to 14 may also be executed after step 2.\n15.\tThe IBCF replaces the IP address inside the SDP using the information coming from TrGW.\n16.\tSDP answer is sent to the network at the incoming side.\nFigure 10.1.3.1.1.1: IBCF and TrGW interaction at Call establishment.\nWhen creating the termination towards the IMS network or towards external networks, the IBCF may also indicate that the IP Interface Type is \"MboIP\".\nNOTE :\tOther values may be indicated by a CS-IBCF, as detailed in 3GPP TS 29.235 [29].\nThe IP Interface Type allows the TrGW to collect statistics per interface type associated with the RTP bearer termination. The provision of these statistics is outside of the scope of this specification.",
      "chunk_type": "general",
      "cross_references": [
        "figure_10.1.3.1.1.1",
        "ts_29.235"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.1.3.1.2",
      "section_id": "10.1.3.1.2",
      "section_title": "Call Release",
      "content": "Figure 10.1.3.1.2.1 depicts the signalling flow for a call release.\n1.\tThe IBCF identifies that the call is to be release. Typically this will be by the receipt of a SIP BYE request.\n2.\tThe IBCF sends a H.248 SUB command to release the outgoing termination.\n3.\tThe TrGW destroys the outgoing termination.\n4.\tThe TrGW replies to IBCF with a H.248 SUB reply command.\n5.\tThe IBCF sends a H.248 SUB command to release the incoming termination.\n6.\tThe TrGW destroys the incoming termination.\n7.\tThe TrGW replies to IBCF with a H.248 SUB reply command.\nNOTE 1:\tSteps 5 to 7 may also be executed before steps 2 to 4 or in parallel with steps 2 to 4.\nNOTE 2:\tRather than releasing the two terminations separately, the IBCF may request the TrGW to release both terminations in a single request.\nFigure 10.1.3.1.2.1: IBCF and TrGW interaction at Call release",
      "chunk_type": "general",
      "cross_references": [
        "figure_10.1.3.1.2.1"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.0",
      "section_id": "10.2.0",
      "section_title": "Introduction",
      "content": "The following functions shall be supported by the TrGW:\n-\tGate Management including:\n-\tOpening/closing of gates;\n-\tRemote source address filtering; and\n-\tRemote source port filtering;\n-\tQoS packet marking (differentiated services);\n-\tNAPT and IP Version Interworking;\n-\tBandwidth policing;\n-\tHanging termination detection;\n-\tIP Realm Indication;\n-\tMedia Control; and\n-\tThrough-Connection.\nAdditionally, the following functions may be supported by the TrGW:\n-\tResource allocation per flow;\n-\tMedia Inactivity Detection;\n-\tIP Realm Availability;\n-\tOptimal Media Routeing;\n-\tExplicit Congestion Notification support;\n-\tEmergency Call;\n-\tIMS end-to-end media plane security;\n-\tAccess Transfer procedures with media anchored in ATGW;\n-\tMultimedia Priority Service;\n-\tRTP Header extension to signal Coordination of Video Orientation;\n-\tGeneric image attribute;\n-\tInteractive Connectivity Establishment;\n-\tVideo Region of Interest (ROI) ;\n-\tRTP-level pause and resume functionality ; and\n-\t\"RTCP Codec Control Commands and Indications\"",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.162_10.2.1",
      "section_id": "10.2.1",
      "section_title": "NAPT and IP version interworking",
      "content": "NAPT and IP version interworking is documented in clause 9.\nThe IP Address and port conversion is configured by the standard Ix interactions at call setup depicted in figure 10.1.3.1.1.1.\nIP address and port conversion is mandatory every time a TrGW is inserted into the path for any reason to guarantee that all IP packets are routed through this entity.",
      "chunk_type": "general",
      "cross_references": [
        "clause_9",
        "figure_10.1.3.1.1.1"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.2",
      "section_id": "10.2.2",
      "section_title": "Gate Management",
      "content": "The procedures in subclause A.7.1.2.2.3 of 3GPP TS 29.235 [29] are applicable.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.235"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.3",
      "section_id": "10.2.3",
      "section_title": "RTCP Handling",
      "content": "The procedures in subclause A.7.1.2.2.7 of 3GPP TS 29.235 [29] are applicable.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.235"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.4",
      "section_id": "10.2.4",
      "section_title": "IP Realm Indication",
      "content": "Whenever requesting a new IP media-path (i.e. creation of IP bearer terminations), the TrGW may indicate the correspondent IP realm/domain to the TrGW. The TrGW shall assign the IP termination in the IP realm indicated. The same IP realm shall be applied to all media streams associated with the termination. The IP realm identifier shall not be changed after the initial assignment.\nA default IP realm may be configured such that if the TrGW has not received the IP realm identifier and the TrGW supports multiple IP realms then the default IP realm shall be used.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.162_10.2.5.1",
      "section_id": "10.2.5.1",
      "section_title": "General",
      "content": "The transcoding functionality, where the TrGW processes and possibly converts application / media data (like e.g. RTP payload) is optional for the TrGW and IBCF to support.\nThe IBCF shall determine the TrGW transcoding capability through provisioning and MGW selection, outside the scope of this specification.\nIBCF procedures to offer transcoding in SIP/SDP signalling are described in 3GPP TS 23.228 [8] and in 3GPP TS 24.229 [1]. The IBCF shall only apply those transcoding procedures if an attached TrGW supports transcoding. For media with \"RTP/SAVP\" (see IETF RFC 3711 [34]) or \"RTP/SAVPF\" (see IETF RFC 5124 [35]) as transport protocol, the IBCF shall not offer or apply transcoding.\nIf the IBCF and available TrGW support transcoding, the IBCF may add codecs to a SDP offer within a SIP request.\nIf the IBCF and available TrGW do not support transcoding, or if the IBCF chooses not to offer transcoding, the IBCF shall pass SDP offers without adding codecs to the SDP offer and the IBCF shall pass SDP answers without modification to the contained codecs.\nIf the IBCF does not offer or apply transcoding procedures (as described above) but inserts the TrGW for any other reason, the IBCF shall either not signal media related information to the TrGW, or it shall signal the same media related information for all interconnected terminations (i.e. identical media configurations for the two connected H.248 stream endpoints).\nIf the IBCF does not offer or apply transcoding but signals media attributes to a TrGW that does not support transcoding without having seized the peer termination (see figure 10.2.5.3, Step 3) the TrGW' shall accept this request even though it cannot reserve any transcoding resources related to this media. When the peer termination is seized and configured it shall be configured with the same media related sub-fields in the media descriptor as for the first termination. If the selected codec is not the same as the codec configured at the first termination then this termination shall be modified before the peer termination is seized.\nNOTE 1:\tThe signalling of such codec related information by an IBCF to a TrGW not supporting transcoding is an implementation decision.\nNOTE 2:\tA TrGW not supporting transcoding can use such codec related information to learn that RTCP ports need to be reserved, and to derive information about packet size and frequency useful for internal resource reservation.\nIf the IBCF and available TrGW support transcoding and the IBCF includes in a SDP offer additional codecs, the following procedures apply:\n-\tThe IBCF may seize a termination towards the terminating user, using the \"Reserve TrGW Connection Point\" procedure before sending an SDP offer with added codecs to the terminating user. The IBCF may signal media related information to the TrGW or omit media when adding the IP termination at this stage.\nNOTE 3: The signalling of media related information to a MGW requires that it reserve the indicated resources before returning a positive response to the H.248 command, by omitting media related information the TrGW does not need to reserve any associated resources at this stage.\n-\tWhen the IBCF receives the SDP answer from the terminating user, the IBCF shall check if any of the codecs offered by the originating side are contained in the answer.\n-\tIf only the codecs inserted by the IBCF are contained in the answer, the IBCF shall configure the TrGW to transcode. If it previously performed a \"Reserve TrGW Connection Point\" procedure it shall configure the TrGW using the \"Configure TrGW Connection Point\" procedure towards the termination on the terminating user side by supplying the media returned in the answer from the terminating user, otherwise it shall perform a \"Reserve and Configure TrGW Connection Point\" procedure. Within those procedures, the IBCF shall supply the media returned in the answer from the terminating user. If the IBCF seized the termination only at this point in time, it shall send the IP address and port information received from the TrGW in the acknowledment to the \"Reserve and Configure TrGW Connection Point\" procedure towards the terminating user in a new SDP offer. The IBCF shall perform the \"Reserve and Configure TrGW Connection Point\" procedure towards the termination on the originating user side, supplying the preferred media offered by the originating side.\n-\tIf the returned SDP contains media offered by the originating user no transcoding at the TrGW is required. If the IBCF previously performed the \"Reserve TrGW Connection Point\" procedure the IBCF shall configure the TrGW accordingly by either either supplying the same media related information for all interconnected terminations or by omitting the media related information.\nSome basic use cases are depicted in figures 10.2.5.1, 10.2.5.2, and 10.2.5.3.\n1.\tThe IBCF receives an SDP offer in SIP signalling.\n2.\tThe IBCF adds additional codecs to the subsequent SDP offer, giving priority to those offered by the preceding node/network.\n3.\tIn this example the IBCF seizes a TrGW prior to sending the new SDP offer; as this scenario is preparing for a possible transcoding in the TrGW then a TrGW supporting media shall be seized. The IBCF sends a H.248 ADD request command to create the outgoing termination and to request IP resources to execute TrGW function. As no media transcoding is yet known to be needed this may be indicated by omitting media related sub-fields in the media descriptor (i.e.signalling \"-\"). Alternatively the preferred codec (e.g. codec 1) may be signalled in order to reserve this resource in the event that transcoding was required.\n4.\tThe TrGW creates the outgoing termination.\n5.\tThe TrGW replies to IBCF with a H.248 ADD reply command and provides the local address and port of the outgoing termination.\n6.\tThe IBCF replaces the IP address inside the SDP offer using the information coming from TrGW\n7.\tThe IBCF forwards the new SDP offer to the succeeding node.\n8.\tThe SDP answer is received by IBCF. In this example the codec1 received in the original SDP offer in step1 has been selected by the succeeding network/terminating UE and the IBCF determines that transcoding is not required.\n9.\tThe IBCF sends a H.248 MOD request command to configure the outgoing termination with address and port information received in the SDP answer. As no media transcoding is needed this may be indicated by omitting media related sub-fields in the media descriptor (i.e. signalling \"-\"). Alternatively the selected codec (codec 1) may be signalled.\n10.\tThe TrGW configures the outgoing termination.\n11.\tThe TrGW replies to IBCF with a H.248 MOD reply command.\n12.\tThe IBCF sends a H.248 ADD request command to create the incoming termination to configure this termination with remote address and port information and to request resources to execute TrGW function. As no media transcoding is needed this may be indicated by omitting media related sub-fields in the media descriptor (i.e. signalling \"-\"). Alternatively the selected codec received in step 8 (Codec 1) may be signalled.\n13.\tThe TrGW creates the incoming termination.\n14.\tThe TrGW replies to the IBCF with a H.248 ADD reply command and provides the local address and port of the incoming termination.\n15.\tThe IBCF replaces the IP address inside the SDP using the information coming from TrGW.\n16.\tThe SDP answer is sent to the network at the incoming side.\nFigure 10.2.5.1: IBCF and TrGW interaction when the IBCF offers additional codecs but no transcoding is required, and the TrGW is seized in advance.\n1.\tThe IBCF receives an SDP offer in SIP signalling.\n2.\tThe IBCF adds additional codecs to the subsequent SDP offer, giving priority to those offered by the preceding node/network.\n3.\tIn this example the IBCF seizes a TrGW prior to sending the new SDP offer; as this scenario is preparing for a possible transcoding in the TrGW then a TrGW supporting media shall be seized. The IBCF sends a H.248 ADD request command to create the outgoing termination and to request IP resources to execute TrGW function. As no media transcoding is yet known to be needed this may be indicated by omitting media related sub-fields in the media descriptor (i.e.signalling \"-\"). Alternatively the preferred codec (e.g. Codec 1) may be signalled in order to reserve this resource in the event that transcoding was required.\n4.\tThe TrGW creates the outgoing termination.\n5.\tThe TrGW replies to IBCF with a H.248 ADD reply command and provides the local address and port of the outgoing termination.\n6.\tThe IBCF replaces the IP address inside the SDP offer using the information coming from TrGW.\n7.\tThe IBCF forwards the new SDP offer to the succeeding node.\n8.\tThe SDP answer is received by IBCF. In this example the codec 3 added by the IBCF to the SDP offer has been selected. Transcoding is therefore required.\n9.\tThe IBCF sends a H.248 MOD request command to configure the outgoing termination with address and port information received in the SDP answer and the selected media attibutes (codec 3).\n10.\tThe TrGW configures the outgoing termination.\n11.\tThe TrGW replies to IBCF with a H.248 MOD reply command.\n12.\tThe IBCF sends a H.248 ADD request command to create the incoming termination to configure this termination with remote address and port information and to request resources to execute TrGW function. As media transcoding is required it indicates this explicitly with a codec selected by the IBCF for the incoming termination from the offered codec(s) received in step1.\n13.\tThe TrGW creates the incoming termination.\n14.\tThe TrGW replies to the IBCF with a H.248 ADD reply command and provides the local address and port of the incoming termination.\n15.\tThe IBCF replaces the IP address inside the SDP using the information coming from TrGW and replaces the codec with the codec it selected for the incoming termination.\n16.\tThe SDP answer is sent to the network at the incoming side.\nFigure 10.2.5.2: IBCF and TrGW interaction when IBCF offers additional codecs and transcoding is required, and the TrGW is seized in advance.\n1.\tThe IBCF receives an SDP offer in SIP signalling.\n2.\tThe IBCF requires a TrGW for another use case but does not offer transcoding.\n3.\tThe IBCF sends a H.248 ADD request command to create the outgoing termination and to request IP resources to execute TrGW function. As no media transcoding is required this may be indicated by signalling \"-\". Alternatively any codec (e.g. codec 1) can be signalled. If the IBCF selects a TrGW that does not support transcoding, the IBCF may signal media related sub-fields in the media descriptor to the TrGW if the TrGW supports media encoding. The TrGW shall accept the ADD request even though it cannot reserve any transcoding resources for the indicated media.\n4.\tThe TrGW creates the outgoing termination.\n5.\tThe TrGW replies to IBCF with a H.248 ADD reply command and provides the local address and port of the outgoing termination.\n6.\tThe IBCF replaces the IP address inside the SDP using the information coming from TrGW.\n7.\tThe IBCF forwards the new offer to the succeeding node.\n8.\tThe SDP answer is received by IBCF. In this example the codec 1 received in the original SDP offer in step 1 has been selected.\n9.\tThe IBCF sends a H.248 MOD request command to configure the outgoing termination with address and port information. As no media transcoding is needed this may be indicated by signalling \"-\" .Alternatively the selected codec (codec 1) can be signalled.\n10.\tThe TrGW configures the outgoing termination.\n11.\tThe TrGW replies to IBCF with a H.248 MOD reply command.\n12.\tThe IBCF sends a H.248 ADD command to create the incoming termination to configure this termination with remote address and port information and to request resources to execute TrGW function. As no media transcoding is needed this may be indicated by signalling \"-\" .Alternatively media related sub-fields in the media descriptor for the codec indicated to the incoming termination may be signalled (e.g. the selected codec received in step 8 (codec 1).\n13.\tThe TrGW creates the incoming termination.\n14.\tThe TrGW replies to the IBCF with a H.248 ADD reply command and provides the local address and port of the incoming termination.\n15.\tThe IBCF replaces the IP address inside the SDP answer using the information coming from TrGW.\n16.\tThe SDP answer is sent to the network at the incoming side.\nFigure 10.2.5.3: IBCF and TrGW interaction when IBCF does not offer transcoding",
      "chunk_type": "definition",
      "cross_references": [
        "figure_10.2.5.3",
        "figure_10.2.5.1",
        "figure_10.2.5.2",
        "ts_23.228",
        "ts_24.229"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.5.2",
      "section_id": "10.2.5.2",
      "section_title": "Handling of common codec parameters",
      "content": "The requirements as described in subclause 5.13.2 of 3GPP TS 23.334 [43] for the IMS-ALG and the IMS-AGW, apply to the IBCF and the TrGW.",
      "chunk_type": "parameter",
      "cross_references": [
        "ts_23.334_clause_5.13.2",
        "ts_23.334"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.5.3",
      "section_id": "10.2.5.3",
      "section_title": "EVS speech codec parameters handling",
      "content": "The Enhanced Voice Services (EVS) speech codec is defined in 3GPP TS 26.441 [52]. Its RTP payload type is defined in 3GPP TS 26.445 [53], and procedures for its usage as IMS Multimedia Telephony speech codec are defined in 3GPP TS 26.114 [36].\nThe IBCF and the TrGW may support transcoding to and from the EVS speech codec. If they do so, the requirements as described in subclause 5.13.3 of 3GPP TS 23.334 [43] for the IMS-ALG and the IMS-AGW, apply to the IBCF and the TrGW.",
      "chunk_type": "parameter",
      "cross_references": [
        "ts_23.334_clause_5.13.3",
        "ts_26.441",
        "ts_26.445",
        "ts_26.114",
        "ts_23.334"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.5.4",
      "section_id": "10.2.5.4",
      "section_title": "Rate adaptation for media endpoints",
      "content": "If the IBCF and the TrGW support rate adaptation for media endpoints using the enhanced bandwidth negotiation mechanism defined in 3GPP TS 26.114 [36] the requirements and procedures in the present subclause apply.\nIf the IBCF receives an SDP offer and if the IBCF and the TrGW apply the transcoding procedure, defined in subclause 10.2.5.1, then the following additional actions may be performed:\n-\tif the received SDP offer (figure 10.2.5.2, step 1) contained the SDP \"a=bw-info\" attribute(s), defined in clause 19 of 3GPP TS 26.114 [36] for payload type(s) that the IBCF retains in the forwarded SDP offer, the IBCF:\na)\tif the IP version interworking is required and the received \"a=bw-info\" SDP attribute lines do not contain bandwidth properties for both IPv4 and IPv6, should adjust the bandwidth properties in accordance with subclause 9.1.5; or\nb)\totherwise (if the IP version interworking is not required or the received \"a=bw-info\" SDP attribute lines contain bandwidth properties for both IPv4 and IPv6), should forward the SDP offer with unmodified related SDP \"a=bw-info\" attribute(s); and\nNOTE 1:\tThe IBCF can modify the related SDP \"a=bw-info\" attribute(s) according to operator policies as specified in 3GPP TS 26.114 [36].\n-\tfor the each added codec in the SDP offer (figure 10.2.5.2, step 6) the IBCF shall include appropriate bandwidth information in new or existing \"a=bw-info\" attribute lines(s).\nIf the IBCF then receives an SDP answer (figure 10.2.5.2, step 8) and if only the codecs inserted by the IBCF with the corresponding SDP \"a=bw-info\" attribute(s) are contained in the SDP answer the IBCF:\n-\twhen requesting the TrGW to configure resources towards the succeeding node (figure 10.2.5.2, step 9), shall include for the selected codec the \"Additional Bandwidth Properties\" information element containing \"a=bw-info\" SDP attribute(s) providing information for the selected codec in the remote descriptor about bandwidths that will be used for the selected codec in the sending direction towards the succeeding node;\nNOTE 2:\tThe included information corresponds to \"a=bw-info\" SDP attribute(s) from the received SDP answer for the \"recv\" or \"sendrecv\" direction.\n-\tshall select a codec from the ones in the previously received SDP offer from the preceding node;\n-\tif the received SDP offer contained the SDP \"a=bw-info\" attribute(s) for the selected codec:\na)\tshall construct appropriate SDP \"a=bw-info\" attribute(s) for the selected codec according to the rules in 3GPP TS 26.114 [36]; and\nNOTE 3:\tThe offer/answer negotiation is performed for each \"a=bw-info\" SDP attribute line, payload type, direction and bandwidth property individually.\nb)\tshall include the \"Additional Bandwidth Properties\" information element containing \"a=bw-info\" SDP attribute(s) in the remote descriptor describing bandwidths that will be used for the selected codec in the sending direction towards the preceding node when requesting the TrGW to reserve resources towards the preceding node (figure 10.2.5.2, step 12); and\nNOTE 4:\tThe included information corresponds to \"a=bw-info\" SDP attribute(s) in the sent SDP answer for the \"send\" or \"sendrecv\" direction.\n-\tinclude the selected codec with the corresponding SDP \"a=bw-info\" attribute(s) in the modified SDP answer (figure 10.2.5.2, step 15) that will be sent towards the preceding node.\nIf the received SDP answer contains codecs received in the SDP offer no transcoding at the TrGW is required and the IBCF shall:\n-\tnot include the \"Additional Bandwidth Properties\" information element containing the \"a=bw-info\" SDP attribute(s) when requesting the TrGW to configure resources towards the succeeding node (figure 10.2.5.2, step 9);\n-\tnot include the \"Additional Bandwidth Properties\" information element containing the \"a=bw-info\" SDP attribute(s) when requesting the TrGW to configure resources towards the preceding node (figure 10.2.5.2, step 12); and\n-\tif the received SDP answer (figure 10.2.5.2, step 8) contained the SDP \"a=bw-info\" attribute(s), the IBCF shall check:\na)\tif the IP version interworking is required and the received \"a=bw-info\" SDP attribute lines do not contain bandwidth properties for both IPv4 and IPv6, the IBCF may adjust the bandwidth properties in accordance with subclause 9.1.5;\nb)\totherwise (if the IP version interworking is not required or the received \"a=bw-info\" SDP attribute lines contain bandwidth properties for both IPv4 and IPv6), the IBCF shall forward the SDP answer with unmodified SDP \"a=bw-info\" attribute(s).\nThe TrGW may use the \"Additional Bandwidth Properties\" information element indicating media bandwidth range for rate adaption (i.e. to select an appropriate encoding and redundancy) when transcoding media streams.",
      "chunk_type": "general",
      "cross_references": [
        "clause_10.2.5.1",
        "ts_26.114_clause_19",
        "clause_9.1.5",
        "figure_10.2.5.2",
        "ts_26.114"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.5.5",
      "section_id": "10.2.5.5",
      "section_title": "IVAS speech codec parameters handling",
      "content": "The Immersive Voice and Audio Services (IVAS) speech and audio codec is defined in 3GPP TS 26.250 [64]. Its RTP payload type is defined in 3GPP TS 26.253 [65], and procedures for its usage as IMS Multimedia Telephony speech codec are defined in 3GPP TS 26.114 [36].\nThe IBCF and the TrGW may support transcoding to and from the IVAS speech and audio codec. If they do so, the requirements as described in clause 5.13.5 of 3GPP TS 23.334 [43] for the IMS-ALG and the IMS-AGW, apply to the IBCF and the TrGW.",
      "chunk_type": "parameter",
      "cross_references": [
        "ts_23.334_clause_5.13.5",
        "ts_26.250",
        "ts_26.253",
        "ts_26.114",
        "ts_23.334"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.6",
      "section_id": "10.2.6",
      "section_title": "Media Inactivity Detection",
      "content": "The procedures in subclause A.7.1.2.2.6 of 3GPP TS 29.235 [29] are applicable.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.235"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.7",
      "section_id": "10.2.7",
      "section_title": "QoS Packet Marking (differentiated services)",
      "content": "The procedures in subclause A.7.1.2.2.4 of 3GPP TS 29.235 [29] are applicable.\nThose procedures relate to Diffserv code point marking as described in IETF RFC 2474 [31]",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.235"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.8",
      "section_id": "10.2.8",
      "section_title": "Hanging Termination Detection",
      "content": "The procedures in subclause A.7.1.2.2.2 of 3GPP TS 29.235 [29] are applicable.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.235"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.9",
      "section_id": "10.2.9",
      "section_title": "Bandwidth Policing",
      "content": "The procedures in subclause A.7.1.2.2.8 of 3GPP TS 29.235 [29] are applicable.\nNOTE 1:\tIn order to support services that generate media with variable bitrate (e.g. video), the policing function needs to provide sufficient buffer space. The derivation of the correspondent token bucket size can be based on the estimated traffic volume over the expected maximum burst length (supposed time interval of the burst). For example, for MTSI media, 3GPP TS 26.114 [36] subclause 7.5.5 recommends a default period of 2 seconds for the derivation of average bitrates and provides further considerations regarding suitable time periods for speech and video.\nNOTE 2:\tThe IBCF can derive the sustainable data rate from bandwidth parameters if it receives them within an SDP media description. The IBCF can:-\tuse the \"b=AS\" bandwidth modifier if received within an SDP body; or-\tif the IBCF supports the enhanced bandwidth negotiation mechanism, use the \"maximum supported bandwidth for the receiving direction\" property value from the \"a=bw-info\" SDP attribute received within an SDP answer.If the value of the \"maximum supported bandwidth for the receiving direction\" for the selected RTP payload type differs from the value of the \"b=AS\" bandwidth modifier, then the IBCF can use \"maximum supported bandwidth for the receiving direction\" property value from the \"a=bw-info\" SDP attribute to determine the sustainable data rate for the selected RTP payload.",
      "chunk_type": "general",
      "cross_references": [
        "ts_26.114_clause_7.5.5",
        "ts_29.235",
        "ts_26.114"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.10.1",
      "section_id": "10.2.10.1",
      "section_title": "End-to-end security for RTP based media",
      "content": "An IBCF and a TrGW may support the end-to-end IMS media plane security for RTP based media as specified in 3GPP TS 33.328 [32]. If supported, the IBCF shall use the following procedures.\nIf the IBCF receives SDP containing media lines with \"RTP/SAVP\" (see IETF RFC 3711 [34]) or \"RTP/SAVPF\" (see IETF RFC 5124 [35]) as transport protocol, the IBCF shall:\n-\tforward the SDP with unmodified transport protocol for those media lines;\n-\tapply the procedures to not offer or apply transcoding defined in subclause 10.2.5; and\n-\tprovide \"RTP/SAVP\" or \"RTP/SAVPF\", as received in the SDP, to the TrGW as transport protocol for all related terminations, and not provide media related information to these terminations, to configure the TrGW to pass media and possibly associated RTCP control flows and not to reserve any resources.\nNOTE:\tRTP/SAVP or SAVPF are provided to the TrGW even though it does not reserve any resources for this as such, but this is needed in order to allocate dual ports to support RTCP flows. These are also controlled as described in subclause 10.2.3. For \"RTP/SAVP\" or \"RTP/SAVPF\", RTCP will be encrypted and can not be interpreted by the TrGW. Media information is also meaningless as encryption will modify the properties of the media streams.\nIf the IBCF receives SDP containing SDES SDP attribute(s) according to IETF RFC 4568 [33], IBCF shall forward the SDP with unmodified SDES SDP attribute(s), but shall not provide the SDES SDP attribute(s) to the TrGW.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_10.2.5",
        "clause_10.2.3",
        "ts_33.328"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.10.2",
      "section_id": "10.2.10.2",
      "section_title": "End-to-end security for TCP based media using TLS",
      "content": "An IBCF may support the end-to-end IMS media plane security for TCP based media using TLS as specified in 3GPP TS 33.328 [32]. If supported, the IBCF shall use the following procedures.\nNOTE:\tEnd-to-end IMS media plane security for TCP based media using TLS does not impact the TrGW.\nEnd-to-end protection of MSRP (used in IMS session-based messaging) and BFCP (used in IMS conferencing) media is based on TLS, according to the TLS profile specified in Annex M of 3GPP TS 33.328 [32].\nIf the IBCF receives SDP containing media lines with \"TCP/TLS/MSRP\" (see IETF RFC 4975 [47] and IETF RFC 6714 [48]) and/or \"TCP/TLS/BFCP\" (see IETF RFC 4583 [49]) as transport protocol, the IBCF shall:\n-\tforward the SDP with unmodified transport protocol for those media lines and unmodified TLS related SDP attribute(s); and\n-\tindicate \"TCP\" to the TrGW as transport protocol for all related terminations, and provide no media related information to these terminations, to configure the TrGW to pass media transparently.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_33.328"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.11.1",
      "section_id": "10.2.11.1",
      "section_title": "General",
      "content": "The procedures in subclause A.7.1.2.2.9 of 3GPP TS 29.235 [29] are applicable.\nIn addition, prior to the completion of the SIP session set-up, i.e. until a 2xx response to the initial INVITE request is received, the IBCF may enable or disable media stream(s), thus allowing or forbidding early media in forward and/or backward direction.\nIf there is:\n1)\tno SIP early dialog and the IBCF receives an 18x provisional response including an SDP answer; or\n2)\tonly one SIP early dialog, and the IBCF receives a SIP message with an SDP answer on that SIP early dialog,\nthen;\n1)\tthe IBCF shall save the received SDP answer; and\n2)\tbased on the operator policy, the IBCF may:\n-\tset the value of the Through-Connection information element based on the value of the direction attribute in the received SDP answer; or\n-\tset the value of the Through-Connection information element considering the em-param(s) of the P-Early-Media header field (defined in IETF RFC 5009 [58]) according to subclause 10.2.11.2; or\n-\tset the value of the Through-Connection information element based on the value of the direction attribute in the received SDP answer downgraded according to the configuration provisioned in the IBCF.\nUpon reception of the 2xx response to the initial INVITE request, the IBCF shall enable the media stream by setting the value of the Through-Connection information element based on the value of the direction attribute in the last received SDP answer on the established SIP dialog, if the IBCF has not already set the value of the Through-Connection information element based on the same value of the direction attribute in the last received SDP answer on the corresponding SIP early dialog.\nNOTE:\tThe setting of StreamMode property by through-connection control does not impact a \"control flow\" component (i.e. an RTCP control component) as described in ITU-T Recommendation H.248.1 [26].\nAfter the session establishment (i.e. after the 2xx response to the INVITE request is received and media session is established), if the IBCF receives an SDP answer indicating a different media stream direction than the current setting of the StreamMode property of the termination(s), the IBCF shall set the value of the Through-Connection information element based on the received SDP answer.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_10.2.11.2",
        "ts_29.235"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.11.2",
      "section_id": "10.2.11.2",
      "section_title": "Through-connect control procedures considering the P-Early-Media header field",
      "content": "If the IBCF uses the em-param(s) of the P-Early-Media header field for the through-connect control of early media, the IBCF shall perform the procedures described in this subclause.\nWhen a SIP 18x provisional response to an initial INVITE request with the P-Early-Media header field is received from the functional entity within the trust domain, then:\n-\tthe IBCF may decide not to perform the through-connect control of early media if the P-Early-Media header field includes the \"gated\" parameter and the IBCF shall not block early media in both directions on both terminations; and\n-\tif the P-Early-Media header field includes the \"gated\" parameter and the IBCF decides to perform the through-connection control, or if the P-Early-Media header field does not include the \"gated\" parameter then the IBCF shall perform the procedures in the subsequent bullet 1), or the procedures in the subsequent bullet 2), or both of those procedures. If the IBCF does not perform the procedures in the bullets 1) or 2), the IBCF shall not block early media in both directions on the termination for which the IBCF does not perform the procedures in the bullet 1) or 2).\n1)\t\tFor the termination which resides on the side receiving the 18x provisional provisional response;\na)\tif the received em-param(s) in the P-Early-Media header field is set to \"sendrecv\", the IBCF shall set the Through-Connection information element to \"sendrecv\";\nb)\tif the received em-param(s) in the P-Early-Media header field is set to \"recvonly\", the IBCF shall set the Through-Connection information element to \"sendonly\";\nc)\tif the received em-param(s) in the P-Early-Media header field is set to \"sendonly\", the IBCF shall set the Through-Connection information element to \"recvonly\"; and\nd)\tif the received em-param(s) in the P-Early-Media header field is set to \"inactive\", the IBCF shall set the Through-Connection information element to \"inactive\".\n2)\t\tFor the termination which resides on the side forwarding the 18x provisional response;\na)\tif the received em-param(s) in the P-Early-Media header field is set to \"sendrecv\", the IBCF shall set the Through-Connection information element to \"sendrecv\";\nb)\tif the received em-param(s) in the P-Early-Media header field is set to \"sendonly\", the IBCF shall set the Through-Connection information element to \"sendonly\";\nc)\tif the received em-param(s) in the P-Early-Media header field is set to \"recvonly\", the IBCF shall set the Through-Connection information element to \"recvonly\"; and\nd)\tif the received em-param(s) in the P-Early-Media header field is set to \"inactive\", the IBCF shall set the Through-Connection information element to \"inactive\".\nNOTE 1:\tAccording to IETF RFC 5009 [58], the non-direction parameter \"gated\" can be included after the direction parameter (e.g. \"sendrecv\") in the parameter list. The proxy performing gating of early media can add the parameter before forwarding the response.\nNOTE 2:\tIt is regarded as an error case if the direction authorized by the P-Early-Media header field is not enabled in the received SDP direction attribute. As indicated in IETF RFC 5009 [58] the applicable preconditions need to be met in order to allow early media in a particular direction, but the related handlig is left to the implementation.\nWhen an 18x provisional response to an initial INVITE request without the P-Early-Media header field is received from the functional entity within the trust domain and no previous 18x provisional response to the initial INVITE request with the P-Early-Media header field has been received, then the IBCF may:\n1)\tset the Through-Connection information element to \"inactive\"; or\n2)\tset the Through-Connection information element to the value of the direction attribute in the last received SDP answer (received in the 18x provisional response or in a previous SIP message); or\n3)\tset the value of the Through-Connection information element based on the value of the direction attribute in the received SDP answer (received in the 18x provisional response or in a previous SIP message) downgraded according to the configuration provisioned in the IBCF.\nWhen an 18x provisional response to an initial INVITE request with the P-Early-Media header field is received from the functional entity other than the functional entity within the trust domain, then the IBCF shall not use the received em-param(s) in the P-Early-Media header field and the IBCF shall:\n1)\tset the Through-Connection information element to \"inactive\"; or\n2)\tset the Through-Connection information element based on the value of the direction attribute in the last received SDP answer(received in the 18x provisional response or in a previous SIP message); or\n3)\tset the value of the Through-Connection information element based on the value of the direction attribute in the received SDP answer (received in the 18x provisional response or in a previous SIP message) downgraded according to the configuration provisioned in the IBCF.\nNOTE 3:\tThe IBCF will remove or modify the P-Early-Media header field in the above case.",
      "chunk_type": "procedure",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.162_10.2.12",
      "section_id": "10.2.12",
      "section_title": "Emergency Call",
      "content": "The procedures in subclause A.7.1.2.2.10 of 3GPP TS 29.235 [29] are applicable.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.235"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.13.1",
      "section_id": "10.2.13.1",
      "section_title": "General",
      "content": "An IBCF and TrGW may support Multimedia Telephony using Explicit Congestion Notification (ECN) according to IETF RFC 3168 [37], and may act as an ECN endpoint to enable ECN with a local ECN-capable terminal within a local network that properly handles ECN-marked packets.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.162_10.2.13.2",
      "section_id": "10.2.13.2",
      "section_title": "Incoming SDP offer with ECN",
      "content": "If the IBCF receives an SDP offer containing the \"a=ecn-capable-rtp\" attribute (see IETF RFC 6679 [38]), then if all of the following statements are true:\na)\tthe IBCF supports ECN according to 3GPP TS 26.114 [36];\nb)\tthe TrGW supports ECN according to 3GPP TS 26.114 [36];\nc)\tthe IBCF knows (via configuration) that the succeeding network supports ECN according to 3GPP TS 26.114 [36]; and\nd)\tthe IBCF does not insert any transcoding;\nthen the IBCF shall:\n-\tif the \"ecn-capable-rtp\" attribute includes both the \"ice\" initiation method and other initiation methods, remove the \"ice\" initiation method from the \"ecn-capable-rtp\" attribute and forward the attribute with this modification in the outgoing SDP offer;\n-\tif the \"ecn-capable-rtp\" attribute only includes the \"ice\" initiation method, remove the \"ecn-capable-rtp\" attribute, any \"rtcp-fb\" attribute with the \"nack\" feedback parameter and the \"ecn\" feedback parameter value, and any \"ecn-sum\" parameter within a \"rtcp-xr\" attribute from the outgoing SDP offer;\n-\tif the \"ecn-capable-rtp\" attribute did not includes the \"ice\" initialisation method, forward the unmodified \"ecn-capable-rtp\" attribute within the outgoing SDP offer; and\n-\tif the IBCF includes the \"ecn-capable-rtp\" attribute within the outgoing SDP offer, forward the SDP offer containing ECN parameters to the succeeding network.\nOtherwise the IBCF shall remove the \"ecn-capable-rtp\" attribute, any \"rtcp-fb\" attribute with the \"nack\" feedback parameter and the \"ecn\" feedback parameter value, and any \"ecn-sum\" parameter within an \"rtcp-xr\" attribute from the outgoing SDP offer.\nIf the IBCF forwarded the SDP offer containing the \"a=ecn-capable-rtp\" attribute and receives an SDP answer also containing the \"a=ecn-capable-rtp\" attribute (the reception of the attribute indicates a successful ECN negotiation) then the IBCF shall forward the SDP answer to its preceding node and shall indicate to the TrGW that it shall transfer ECN bits in IP header transparently.\nIf the IBCF forwarded the SDP offer containing the \"a=ecn-capable-rtp\" attribute and receives an SDP answer without the \"a=ecn-capable-rtp\" attribute and the TrGW supports at least some of the initialisation methods within the \"a=ecn-capable-rtp\" attribute in the previously received SDP offer,\nNOTE 1: Only the \"leap\" initialisation method is supported over the Ix interface in this release.\nthe IBCF shall:\n-\tact as an end point for ECN;\n-\tselect an initialisation method supported by the TrGW;\n-\tdetermine if application specific feedback or ECN feedback messages shall be used, taking into account whether the TrGW supports ECN feedback messages, and the negotiation procedures in 3GPP TS 26.114 [36];\n-\tdetermine if ECN XR summary reports can be used, taking into account whether they are supported at the TrGW, and the negotiation procedures in 3GPP TS 26.114 [36];\n-\tsend the SDP answer according to 3GPP TS 26.114 [36] and the capabilities of the TrGW, containing the ECN attribute \"a=ecn-capable-rtp\"; and\n-\tindicate to the TrGW that it shall apply the ECN procedures (according to 3GPP TS 26.114 [36]) and act as an ECT endpoint.\nIf the IBCF receives an SDP offer containing the \"a=ecn-capable-rtp\" attribute and bullets a) and b) above are satisfied but if bullet c) or d) or both are not met then the IBCF shall remove ECN related attributes before forwarding the SDP offer. If the TrGW supports at least some of the initialisation methods offered within the \"a=ecn-capable-rtp\" attribute,\nNOTE 2: Only the \"leap\" initialisation method is supported over the Ix interface in this release.\nthe IBCF shall:\n-\tact as an end point for ECN;\n-\tselect an initialisation method supported by the TrGW;\n-\tdetermine if application specific feedback or ECN feedback messages shall be used, taking into account whether the TrGW supports ECN feedback messages, and the negotiation procedures in 3GPP TS 26.114 [36];\n-\tdetermine if ECN XR summary reports can be used, taking into account whether they are supported at the TrGW and the negotiation procedures in 3GPP TS 26.114 [36];\n-\tsend an SDP answer according to 3GPP TS 26.114 [36] and the capabilities of the TrGW, containing the \"a=ecn-capable-rtp\" attribute; and\n-\tindicate to the TrGW that it shall apply the ECN procedures (according to 3GPP TS 26.114 [36]) and act as an ECT endpoint.\nThe TrGW should not send RTCP XR ECN summary reports.",
      "chunk_type": "general",
      "cross_references": [
        "ts_26.114"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.13.3",
      "section_id": "10.2.13.3",
      "section_title": "Incoming SDP offer without ECN",
      "content": "If the IBCF receives an SDP offer without the \"a=ecn-capable-rtp\" attribute then if all of the following statements are true:\na)\tthe IBCF supports ECN according to 3GPP TS 26.114 [36];\nb)\tthe TrGW supports ECN according to 3GPP TS 26.114 [36]; and\nc)\tthe IBCF knows (via configuration) that the succeeding network supports ECN according to 3GPP TS 26.114 [36];\nthe IBCF may include the \"a=ecn-capable-rtp\" attribute in the SDP offer it forwards towards the succeeding node, indicating the related capabilities of the TrGW.\nNOTE:\tECN XR summary reports and RTCP AVPF ECN feedback message are not supported in this release towards IMS terminations.\nIf the IBCF inserted ECN attributes in the SDP offer and receives an SDP answer containing the \"a=ecn-capable-rtp\" attribute the IBCF shall act as an endpoint and shall return the SDP answer to the preceding node removing the \"a=ecn-capable-rtp\" attribute, any \"rtcp-fb\" attribute with the \"nack\" feedback parameter and the \"ecn\" feedback parameter value, and any \"ecn-sum\" parameter within a \"rtcp-xr\" attribute, and shall indicate to the TrGW that it shall apply the ECN procedures according to 3GPP TS 26.114 [36] and act as an ECT endpoint. The TrGW should not send RTCP XR ECN summary reports.\nIf the IBCF inserted the \"a=ecn-capable-rtp\" attribute in the SDP offer and receives an SDP answer without the \"a=ecn-capable-rtp\" attribute the IBCF shall continue the call without any ECN active.\n10.2.13.3a\tDetection of ECN failures by TrGW\nIf the TrGW acts as ECN endpoint and detects an ECN-related error case, for example non-ECT in the received packets when ECT(0) was expected or detecting a very high packet loss rate when ECN is used, the TrGW shall notify the IBCF. The IBCF should then initiate a session re-negotiation to disable ECN.",
      "chunk_type": "general",
      "cross_references": [
        "ts_26.114"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.13.4.1",
      "section_id": "10.2.13.4.1",
      "section_title": "Support for additional ECN parameters",
      "content": "An IBCF and TrGW may support additional ECN parameter settings than defined in subclause 10.2.13.2. The following sub-clauses describe the optional behaviour if the IBCF and TrGW support these additional values.",
      "chunk_type": "parameter",
      "cross_references": [
        "clause_10.2.13.2"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.13.4.2",
      "section_id": "10.2.13.4.2",
      "section_title": "Incoming SDP offer from external IP network with ECN",
      "content": "If the IBCF receives an incoming SDP offer from the external IP network containing values in the incoming SDP offer not supported by MTSI then it shall configure the SDP offer as defined in subclause 10.2.13.2 when forwarding the SDP offer to the IMS.\nWhen receiving the SDP answer from the IMS the IBCF may configure the SDP answer to the external IP network with alternative settings depending on what is received from the IMS and what was offered by the external IP network. The permitted alternatives are listed in table 10.2.13.4.1; the supported alternatives are implementation options which need to be derived through configuration or package auditing.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_10.2.13.2",
        "table_10.2.13.4.1"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.13.4.3",
      "section_id": "10.2.13.4.3",
      "section_title": "Incoming SDP offer from the IMS with ECN",
      "content": "If the IBCF receives an incoming SDP offer from the IMS and it supports additional ECN parameter settings than those defined in subclause 10.2.13.2 the IBCF may add these to the SDP offer forwarded to the external IP network.\nWhen receiving an SDP answer from the external IP network the IBCF shall respond to the IMS in accordance with subclause 10.2.13.2. If the IBCF modifies any ECN-related parameters in the forwarded SDP answer compared to the received SDP answer, the IBCF shall configure its TrGWas an ECN endpoint. The permitted alternatives are listed in table 10.2.13.4.1; the supported alternatives are implementation options which need to be derived through configuration or package auditing.\nTable 10.2.13.4.1: Possible configurations when interworking with non-3GPP ECN IP terminal\nECN SDP Attribute and required TrGW Action\nIMS side\nExternal IP Network\nTrGW Action\nInitiation\n\"leap\"\n\"rtp\"\nNOTE 3\nAct as an Endpoint and trigger explicit initiation using RTP and RTCP as described in IETF RFC 6679 [38] toward the external IP network. When initial ECT marked packets are received from the external IP network these are forwarded to the IMS (all packets shall be marked) and early feedback and XR Summary reports are sent back to the external IP network. If ECT marked packets are received from the IMS before any initiation is completed with the external IP network then ECT marking should be removed and only a fraction of the packets should be marked until feedfback is received from the external IP network.\n\"ice\"\nThis initiation method is not supported in the present release.\nMode\n\"setread\"\n\"readonly\"\nAct as ECN transparent unless required to act as an Endpoint for other reasons but mark packets toward the IMS with ECT(0). If ECN-CE is received from the IMS then this shall be handled by the IMS termination as currently specified for the non-interworking case and not forwarded to the external IP network.\n\"setonly\"\nAct as ECN transparent (unless required to act as ECN Endpoint for other reasons) - ECN-CE marked packets will not be received from external IP network, ECN-CE marked packets from the IMS will be passed to the external IP network.\nECT\n\"ect(0)\"\n\"ect(1)\"\nAct as ECN transparent unless required to act as an Endpoint for other reasons but mark packets toward the IMS with ECT(0) and mark packets toward external network with ECT(1).\n\"random\"\nAct as ECN transparent unless required to act as an Endpoint for other reasons but mark packets toward IMS with ECT(0). Packets received from the IMS are left as ECT(0).\nRTCP feedback\nno \"rtcp-fb:* nack ecn\"\n(received driven congestion control)\n\"rtcp-fb:* nack ecn \" (sender driven congestion control)\nFor AMR, the handling of an AVPF feedback message received from the external IP the handling is not defined.\nFor video related AVFP feedback messages received from the external IP network the TrGW shall generate the appropriate TMBR request towards the IMS. If a TMBR request is received from the IMS the TrGW shall generate an appropriate AVPF feedback message to the external IP network.\n\"rtcp-fb:* nack ecn\" (sender driven congestion control)\nrtcp-fb:* nack ecn\" (sender driven congestion control)\nAn AVPF feedback message received from the external IP network shall be forwarded via the IMS termination.\nRTCP XR ECN summary report\n-\n\"rtcp-xr:ecn-sum\"\nRTCP XR is not bi-directions and each end-point indicates whetever XR feedback it supports. Hence, if the SDP offer does not contain rtcp-xr with \"ecn-sum\" then it can still be added in the SDP answer.\nThe TrGW shall include XR ECN Summary reports towards the external IP network and receive reports from the external IP network. (NOTE 4)\nNOTE1:\tThe settings for IMS side may be supported on the External IP Network side in which case no interworking is specified.\nNOTE 2:\tEach parameter is described separately as each parameter may or may not need to be interworked. Unless stated otherwise the assumption is that each parameter can be treated independently.\nNOTE 3:\tRTCP feedback messages need to be supported and negotiated for the \"rtp\" initialisation method.\nNOTE 4:\t\tThe contents of the XR reports will be limited to data received from the external IP network.",
      "chunk_type": "general",
      "cross_references": [
        "clause_10.2.13.2",
        "table_10.2.13.4.1"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.13.5.1",
      "section_id": "10.2.13.5.1",
      "section_title": "ECN support requested (ECN endpoint)",
      "content": "Figure 10.2.13.5.1.1 shows the message sequence chart example for requesting ECN.\nFigure 10.2.13.5.1.1: Procedure to Request ECN\nUpon receipt of a request to apply ECN the TrGW shall set the ECN field of the IP header in accordance with 3GPP TS 26.114 [36] when sending any data packets.\nUpon receipt of any IP headers indicating ECN Congestion Experienced (ECN-CE) the TrGW shall trigger rate adaptation in accordance with 3GPP TS 26.114 [36].\nNOTE:\tECN requires the IBCF to configure the TrGW with all media attributes to allow rate adaptation even if no transcoding is required/supported in the TrGW.",
      "chunk_type": "requirement",
      "cross_references": [
        "figure_10.2.13.5.1.1",
        "ts_26.114"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.13.5.2",
      "section_id": "10.2.13.5.2",
      "section_title": "ECN Active Indicated (ECN transparent)",
      "content": "Figure 10.2.13.5.2.1 shows the message sequence chart example for indicating ECN transparent.\nFigure 10.2.13.5.2.1: Procedure to indicate ECN transparent negotiated\nUpon receipt of the indication that ECN transparent has been negotiated the TrGW shall forward IP packets with ECN bits set unmodified.",
      "chunk_type": "general",
      "cross_references": [
        "figure_10.2.13.5.2.1"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.13.5.3",
      "section_id": "10.2.13.5.3",
      "section_title": "ECN Failure Indication (ECN endpoint)",
      "content": "Figure 10.2.13.5.3.1 shows the message sequence chart example for an ECN Failure Event.\nFigure 10.2.13.5.3.1: Procedure to Report ECN Failure\nWhen the IBCF receives a Notification indicating that a failure has occurred, the MGCF may trigger a new SDP offer to disable ECN.",
      "chunk_type": "general",
      "cross_references": [
        "figure_10.2.13.5.3.1"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.14",
      "section_id": "10.2.14",
      "section_title": "Optimal Media Routeing",
      "content": "An IBCF may support optimal media routeing (OMR) procedures, as defined in 3GPP TS 29.079 [39].\n3GPP TS 29.079 [39] specifies that \"secondary media resources\" may be allocated in addition to \"primary media resources\". If cotrolled by an IBCF, such primary or secondary media resources are TrGWs controlled over the Ix interface with procedures specified in the present specification.\nIf the IBCF applies OMR procedures, the following modifications to the procedures within the present specification are applicable:\n-\tUnder conditions specified in 3GPP TS 29.079 [39], the IBCF uses information from OMR related SDP attributes as remote connection and port information that is provided towards the TrGW within the call establishment procedures in subclause 10.1.3.1.1.\n-\tUnder conditions specified in 3GPP TS 29.079 [39], the IBCF encapsulates local addess and port information, as received from the TrGW within the call establishment procedures in subclause 10.1.3.1.1, in OMR related SDP attributes.\n-\tUnder conditions specified in 3GPP TS 29.079 [39], the IBCF uses information from OMR related SDP attributes as codec information that is provided towards the TrGW within the media control procedures in clause 10.2.5.\n-\t3GPP TS 29.079 [39] specifies OMR-specific events that trigger the call release procedures in subclause 10.1.3.1.2.",
      "chunk_type": "general",
      "cross_references": [
        "clause_10.1.3.1.1",
        "ts_29.079_clause_10.2.5",
        "clause_10.1.3.1.2",
        "ts_29.079"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.15",
      "section_id": "10.2.15",
      "section_title": "IP Realm Availability",
      "content": "The procedures in subclause A.7.1.2.2.5 of 3GPP TS 29.235 [29] are applicable.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.235"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.16",
      "section_id": "10.2.16",
      "section_title": "Access Transfer procedures with media anchored in ATGW",
      "content": "The procedures in the present clause are optional to be supported for both IBCF and TrGW when supporting the ATCF and ATGW functionality (see subclause 6.1.4).\nThe procedures in subclause 6.2.14 of 3GPP TS 23.334 [43] are applicable, except that where the Iq interface is mentioned in those procedures, the Ix interface is applicable.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_6.1.4",
        "ts_23.334_clause_6.2.14",
        "ts_23.334"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.17.1",
      "section_id": "10.2.17.1",
      "section_title": "General",
      "content": "The Multimedia Priority Service (MPS) is specified in 3GPP TS 22.153 [44]. The IBCF/TrGW may support the priority treatment of a call/session identified as an MPS call/session. If MPS is supported then upon receipt of the MPS priority information in the call control signalling:\n-\tThe IBCF shall recognise the call/session as having priority.\n-\tThe IBCF shall send the Priority information for a context to the TrGW to enable the priority treatment described below related to the TrGW.\n-\tThe IBCF shall apply priority handling to H.248 transactions related to priority calls/sessions when network resources are congested, e.g., preferential treatment in any queues or buffers.\n-\tThe IBCF may send the updated priority information and, if DiffServ is used, provision a suitable DSCP marking for the updated MPS priority level to the TrGW if it needs to change the priority information previously communicated to the TrGW for an MPS call/session.\n-\tIf the H.248 control association utilises a transport with the possibility for prioritisation, the IBCF may apply priority using the appropriate prioritisation procedures.\n-\tIf the MPS Priority service requires a specific MPS DSCP setting, the IBCF shall configure the TrGW to apply a specific MPS DSCP marking to the user data transport packets to indicate that the packets are of a higher priority than those for normal calls.\n-\tIf the TrGW receives an indication to apply a specific MPS DSCP marking to the user data transport packets, it shall apply this DSCP marking to the IP headers.\nNOTE 1:\tSupport of Diffserv procedures by the TrGW assumes an operator uses Diffserv for prioritising user plane traffic related to an MPS call/session.\n-\tWhen the IBCF marks a Context with Priority information, the TrGW may use the Priority information for selecting resources for the media and signaling transport with priority. The following actions may be taken by the TrGW if it has reached a congested state:\ni)\tseize priority reserved resources; or\nii)\tif resources are completely congested, indicate that in a Command Response error code.\nNOTE 2:\tThe Priority information can be used to derive Layer 2 QoS marking and trigger priority identification and priority treatment for other QoS technologies than Diffserv.\nThis clause describes the Ix signalling procedures and their interactions with SIP signalling in the control plane and with user plane procedures to support the requirements for MPS. These Ix signalling procedures may or may not apply depending on the network configuration (e.g. whether the TrGW is shared by multiple IBCFs or whether the IBCF controls multiple TrGWs for a given route – Media Gateway Group).\nThe IBCF can receive a SIP INVITE with MPS priority information (see 3GPP TS 23.228 [8], subclause 5.21).",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.228_clause_5.21",
        "ts_22.153",
        "ts_23.228"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.17.2",
      "section_id": "10.2.17.2",
      "section_title": "TrGW Resource Congestion in ADD response, request is queued",
      "content": "If the IBCF requests a resource via the Reserve and Configure TrGW Connection Point procedure or Reserve TrGW Connection Point procedure and receives an error indicating that the requested resource could not be seized (e.g. H.248 error code #510 \"insufficient resources\") and the IBCF does not have an alternative TrGW through which it can route the call/session, the IBCF queues the priority call/session and gives it priority over any further Reserve and Configure TrGW Connection Point or Reserve TrGW Connection Point procedures for lower priority calls/sessions towards this TrGW until the requested resource for this queued call/session is successfully seized. The example sequence is shown in Figure 10.2.17.2.1.\nFigure 10.2.17.2.1: Request to Reserve MPS priority call resources when TrGW is congested",
      "chunk_type": "general",
      "cross_references": [
        "figure_10.2.17.2.1"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.17.3",
      "section_id": "10.2.17.3",
      "section_title": "TrGW Resource Congestion in ADD response, IBCF seizes new TrGW",
      "content": "If the IBCF requests a resource via the Reserve and Configure TrGW Connection Point procedure or Reserve TrGW Connection Point procedure and receives an error indicating that the requested resources could not be seized due to congestion (e.g. H.248 error code #510 \"insufficient resources\") and Media Gateway Groups are implemented the IBCF seizes a new TrGW from the same Media Gateway Group before resorting to any queuing of the priority call/session (as described in subclause 10.2.17.2) to enable the MPS call/session to proceed as early as possible.",
      "chunk_type": "general",
      "cross_references": [
        "clause_10.2.17.2"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.17.4",
      "section_id": "10.2.17.4",
      "section_title": "TrGW Priority Resource Allocation",
      "content": "If the TrGW supports the Priority information (e.g. determined through provisioning or package profile), the IBCF requests a resource via the Reserve and Configure TrGW Connection Point procedure or Reserve TrGW Connection Point procedure and includes the Priority information. The TrGW may then provide priority allocation of resources once a congestion threshold is reached. The example sequence is shown infigure 10.2.17.4.1. If the TrGW is completely congested it shall indicate this to the IBCF as described in subclause 10.2.17.2.\nFigure 10.2.17.4.1: Request to reserve MPS priority call resources when TrGW is congested, priority resources are allocated\nThe TrGW may also provide priority allocation for resources requested via a subsequent Configure TrGW Connection Point procedure not including Priority information if the related context has been marked with priority information during the Reserve TrGW Connection Point or Reserve and Configure TrGW Connection Point procedure.",
      "chunk_type": "general",
      "cross_references": [
        "clause_10.2.17.2",
        "figure_10.2.17.4.1"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.17.5",
      "section_id": "10.2.17.5",
      "section_title": "TrGW Priority User Data marking",
      "content": "The IBCF may request the streams associated to an MPS call/session to be marked with certain priority code point as described in subclause 10.2.7. The TrGW shall then mark each IP packet header accordingly. The example sequence is shown in figure 10.2.17.5.1.\nFigure 10.2.17.5.1: Request to reserve IMS resources and apply DSCP marking for MPS",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_10.2.7",
        "figure_10.2.17.5.1"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.17.6",
      "section_id": "10.2.17.6",
      "section_title": "TrGW Priority Modification",
      "content": "If the IBCF seized an IP termination for a priority call/session with a default priority and subsequently needs to modify the priority information previously communicated to the TrGW (e.g. subject to subsequent authorisation by an authorisation point, see 3GPP TS 24.229 [1] subclause 4.11), the IBCF may modify the existing IP termination for the MPS call/session with the actual priority and, if DiffServ is used, provision a suitable DSCP marking for the updated MPS priority level to the TrGW via the Configure TrGW Connection Point Procedure.\nNOTE:\tThe specific Ix related call sequence which details the handling to support the requirements defined in 3GPP TS 24.229 [1] subclause 4.11 and 3GPP TS 23.228 [8], subclause 5.21 is not specified and therefore implementations might exist which fulfil these requirements but do not require modification of the priority information across the Ix interface.",
      "chunk_type": "general",
      "cross_references": [
        "ts_24.229_clause_4.11",
        "ts_23.228_clause_5.21",
        "ts_24.229",
        "ts_23.228"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.18.1",
      "section_id": "10.2.18.1",
      "section_title": "General",
      "content": "The IBCF and the TrGW may support the Coordination of Video Orientation (CVO) as defined in 3GPP TS 26.114 [36].\nIf the IBCF receives an SDP body containing the RTP header extension attribute(s) \"a=extmap\", as defined in IETF RFC 5285 [45], and if \"a=extmap\" attribute indicates a CVO URN(s) (i.e. the CVO URN for a 2 bit granularity of rotation and/or the CVO URN for a higher granularity of rotation) as defined in 3GPP TS 26.114 [36], then:\na)\tif the IBCF and the TrGW support the CVO feature:\n-\tthe IBCF shall include an \"extended RTP header for CVO\" information element when seizing resources in the TrGW to indicate to the TrGW that it shall allow the RTP header extension for CVO to pass; and\n-\tthe IBCF shall forward within SIP signalling the SDP body received from the preceding node to the succeeding node with unmodified \"a=extmap\" attribute(s); or\nb)\tif the TrGW does not support the CVO feature the IBCF shall forward within SIP signalling, the SDP body received from the preceding node to the succeeding node without any \"a=extmap\" attributes.\nIf the TrGW supports the CVO feature and has been instructed as described above to pass on the extended RTP header for CVO for both incoming and outgoing terminations then:\n-\tif the TrGW does not apply video transcoding, it shall pass any received RTP CVO header extension to succeeding RTP streams; or\n-\tif the TrGW applies video transcoding, it shall keep the video orientation unchanged during the transcoding and copy the received RTP CVO header extension to the succeeding outgoing RTP stream(s) after transcoding the associated group of packets.\nNOTE 1:\tIETF RFC 5285 [45] provides a framework for header extensions and can also be used for non-CVO related purposes. It is an implementation decision of the TrGW if it only passes CVO related RTP header extensions, or if it passes any RTP header extension when being instructed with the \"extended RTP header for CVO\" information element.\nNOTE 2:\tThe behaviour of the TrGW when being instructed with the \"extended RTP header for CVO\" information element only at one termination is an implementation decision.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_26.114"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.18.2",
      "section_id": "10.2.18.2",
      "section_title": "Message sequence chart",
      "content": "Figure 10.2.18.2.1 shows the message sequence chart example for indicating extended RTP header for Coordination of Video Orientation.\nFigure 10.2.18.2.1: Procedure to indicate RTP extension header for CVO\nThe IBCF shall send the \"extended RTP header for CVO\" information element only with supported CVO URN(s) to the TrGW. If the TrGW does not support the CVO feature, the IBCF shall not send the \"extended RTP header for CVO\" information element to the TrGW.\nNOTE:\tIf the IBCF receives an SDP answer which includes the \"a=extmap\" attribute with a CVO URN with a granularity that the TrGW has not included in its response, or if the SDP answer does not include any \"a=extmap\" CVO related attribute, it is not necessary to modify the TrGW for this reason alone. Doing that would only add unnecessary signalling without requiring any action or changes in the TrGW. However if the IBCF needs to modify the media attributes for other purposes, in particular due to transcoding then the TrGW is updated in accordance with the received SDP answer, that is, either with the \"extended RTP header for CVO\" information element containing the received CVO URN if the CVO related \"a=extmap\" attribute has been included in the received SDP answer or without the \"extended RTP header for CVO\" information element if the CVO related \"a=extmap\" attribute has not been included in the received SDP answer (thus removing the requirement for sending the received RTP header extension with CVO bits for the transcoded stream.",
      "chunk_type": "general",
      "cross_references": [
        "figure_10.2.18.2.1"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.19.1",
      "section_id": "10.2.19.1",
      "section_title": "General",
      "content": "The IBCF and TrGW may support a media-level SDP image attribute \"a=imageattr\" defined in IETF RFC 6236 [46] to negotiate the image size for sending and receiving video as required by 3GPP TS 26.114 [36].\nNOTE 1:\tThe image attribute may be used within the SDP capability negotiation framework and its use is then specified using the \"a=acap\" parameter.\nIf the IBCF:\n-\tsupports the negotiation of the image size;\n-\treceives an SDP body containing the image attribute(s) \"imageattr\" defined in IETF RFC 6236 [46]; and\n-\tdoes not offer or does not apply transcoding procedures defined in subclause 10.2.5;\nthe IBCF shall forward the SDP body with unmodified image attribute(s).\nIf the IBCF applies transcoding procedures defined in subclause 10.2.5 then the following additional actions may be performed if the negotiation of the image size is supported by the IBCF and the TrGW.\na)\tUpon receipt of an SDP offer containing the image attribute(s) from the preceding node (figure 10.2.5.2, step 1) and if the received image sizes are supported by the TrGW:\n1)\tif the IBCF seizes an outgoing IP termination with the media related information before sending the SDP offer the IBCF may send the generic image attribute parameter to the TrGW (figure 10.2.5.2, step 3).\n2)\tthe IBCF shall include the SDP image attribute(s) \"a=imageattr\" indicating the supported image sizes in the modified SDP offer (figure 10.2.5.2, step 6).\nb)\tUpon receipt of an SDP answer from the succeeding node (figure 10.2.5.2, step 8) and if the returned SDP answer:\n1)\tdoes not contain the image attribute(s) and contains media offered by the preceding node (i.e. no transcoding at the TrGW is required) then the IBCF shall send to the preceding node the SDP answer without image attribute;\n2)\tdoes not contain the image attribute(s) and if the IBCF is an endpoint for the video stream (transcoding) then the IBCF:\n-\tmay send the generic image attribute parameter to the TrGW when seizing or modifying resources (figure 10.2.5.2, step 12); and\n-\tshall include the SDP image attribute(s) \"a=imageattr\" indicating the supported image sizes in the modified SDP answer (figure 10.2.5.2, step 15);\n3)\tcontains the image attribute(s) and the media offered by the preceding node (i.e. no transcoding at the TrGW is required) then the IBCF shall send to the preceding node the SDP answer containing the received image attribute(s); or\n4)\tcontains the image attribute(s) and if the IBCF is an endpoint for the video stream (transcoding) and if the received image sizes are supported by the TrGW then the IBCF:\n-\tmay send the generic image attribute parameters for the send and receive directions to the TrGW when seizing or modifying resources (figure 10.2.5.2, step 9 and step 12); and\n-\tshall include the SDP image attribute(s) \"a=imageattr\" indicating the supported image sizes in the modified SDP answer (figure 10.2.5.2, step 15)\nNOTE 2:\tThe IBCF not supporting the negotiation of generic image attributes will ignore the SDP image attribute received in the SDP offer and will return the SDP answer without any associated SDP image attribute.\nWhen sending the SDP body with image attribute(s) on the Mx interface the IBCF shall include in the \"a=imageattr\":\n-\t\"recv\" keyword and corresponding image sizes which the TrGW supports in the receiving direction; and\n-\t\"send\" keyword and corresponding image sizes which the TrGW supports in the sending direction.\nIf the TrGW is configured with different image sizes on the receive direction of one termination and the send direction of another interconnected termination, then it shall adjust the frame sizes accordingly when forwarding video media streams and use the image size as described in 3GPP TS 26.114 [36] when sending media.\nNOTE 3:\tThe relation between the negotiated image sizes and CVO are specified in 3GPP TS 26.114 [36].\nNOTE 4:\tThe generic image attribute includes information related to the send and receive capabilities of a single termination, and the adjustment of image sizes is typically based on the setting of two connected terminations in a single context.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_10.2.5",
        "figure_10.2.5.2",
        "ts_26.114"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.19.2",
      "section_id": "10.2.19.2",
      "section_title": "Indication of generic image attributes",
      "content": "The IBCF may include the generic image attributes to the TrGW. The example sequence is shown in figure 10.2.19.2.1.\nThe list of image sizes per payload type supported by the TrGW shall be preconfigured in the IBCF. If the image sizes received within an SDP body on the Mx interface are not all supported by the TrGW then the IBCF shall only send the list of corresponding TrGW supported image sizes to the TrGW. If no image size is supported by the TrGW, the IBCF shall not send the generic image attribute parameter to the TrGW.\nNOTE:\tshown sequence applies to the creation of the incoming termination T2 from the figure 10.2.5.2 and when both, the IBCF and the TrGW support the generic image attribute. The outgoing termination T1 may be created in advance (i.e. before sending SDP offer2) as shown in the figure 10.2.5.2 or upon receipt of the SDP answer2. Even if the IBCF reserves the resources in advance the media information may be omitted at this stage (as described in subclause 10.2.5) and thus the generic image attribute will not be sent to the TrGW if the media information is omitted.\nFigure 10.2.19.2.1: Request to reserve TrGW connection point with generic image attribute",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_10.2.5",
        "figure_10.2.19.2.1",
        "figure_10.2.5.2"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.20",
      "section_id": "10.2.20",
      "section_title": "Interactive Connectivity Establishment (ICE)",
      "content": "The IBCF and the TrGW may support ICE functionality as specified in IETF RFC 8445 [62] and IETF RFC 8839 [63], and 3GPP TS 24.229 [1] to support a UE residing behind a remote NAT.\nSupport of full ICE functionality is optional, but if ICE is supported, the IBCF and the TrGW shall at least support ICE lite as specified in IETF RFC 8445 [62].\nThe requirements for the IMS-ALG and the IMS-AGW as specified in subclause 5.17 of 3GPP TS 23.334 [43], apply to the IBCF and the TrGW when the ICE procedures are supported.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.334_clause_5.17",
        "ts_24.229",
        "ts_23.334"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.21",
      "section_id": "10.2.21",
      "section_title": "MSRP handling",
      "content": "The IBCF and TrGW may support the handling of the Message Session Relay Protocol (MSRP), IETF RFC 4975 [47]. If they support MSRP handling, they shall apply the procedures as specified in the subclause 5.19 and subclause 6.2.19 of 3GPP TS 23.334 [43].",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.19",
        "ts_23.334_clause_6.2.19",
        "ts_23.334"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.22",
      "section_id": "10.2.22",
      "section_title": "Alternative connection (ALTC) addresses management",
      "content": "An IBCF may support the ALTC functionality as specified in IETF RFC 6947 [51] and 3GPP TS 24.229 [1] to advertise alternative IP addresses (IPv4 and IPv6 address types) to the terminating side.\nThe requirements for the IMS-ALG as specified in subclause 5.21 of 3GPP TS 23.334 [43], apply to the IBCF when the procedures related to ALTC are supported.\nThe ALTC procedures as described specified in subclause 6.2.20 of 3GPP TS 23.334 [43] are then applicable, except that where the Iq interface is mentioned in those procedures, the Ix interface is applicable.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.334_clause_5.21",
        "ts_23.334_clause_6.2.20",
        "ts_24.229",
        "ts_23.334"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.23.1",
      "section_id": "10.2.23.1",
      "section_title": "General",
      "content": "The IBCF and the TrGW may support the video Region-of-Interest (ROI) as defined in 3GPP TS 26.114 [36]. Three modes are specified for supporting ROI, including \"Far End Camera Control (FECC)\", \"Arbitrary ROI\" and \"Pre-defined ROI\". The IBCF and the TrGW may independently support any of these modes.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_26.114"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.23.2.1",
      "section_id": "10.2.23.2.1",
      "section_title": "General",
      "content": "The procedures in subclause 5.22.2 of 3GPP TS 23.334 [43] are applicable.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.334_clause_5.22.2",
        "ts_23.334"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.23.2.2",
      "section_id": "10.2.23.2.2",
      "section_title": "Message sequence chart",
      "content": "Figure 10.2.23.2.2.1 shows the message sequence chart example for indicating Video Region-of-Interest (ROI) using FECC.\nFigure 10.2.23.2.2.1: Procedure to indicate Video ROI using FECC",
      "chunk_type": "general",
      "cross_references": [
        "figure_10.2.23.2.2.1"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.23.3.1",
      "section_id": "10.2.23.3.1",
      "section_title": "General",
      "content": "The procedures in subclause 5.22.3 of 3GPP TS 23.334 [43] are applicable.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.334_clause_5.22.3",
        "ts_23.334"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.23.3.2",
      "section_id": "10.2.23.3.2",
      "section_title": "Message sequence chart",
      "content": "Figure 10.2.23.3.2.1 shows the message sequence chart example for indicating Predefined ROI mode.\nFigure 10.2.23.3.2.1: Procedure to indicate Predefined ROI mode\nAccording to this procedure, the IBCF shall send to the TrGW the information element on the RTCP feedback message capability for \"Predefined ROI\" type expressed by the parameter \"3gpp-roi-predefined\" as described in 3GPP TS 26.114 [36], and the RTP Header Extension capability for carriage of predefined ROI information as defined in IETF RFC 5285 [45] and 3GPP TS 26.114 [36]. In addition, the IBCF shall send to the TrGW the media-level SDP predefined ROI attribute \"a=predefined_ROI\" defined in 3GPP TS 26.114 [36].",
      "chunk_type": "general",
      "cross_references": [
        "figure_10.2.23.3.2.1",
        "ts_26.114"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.23.4.1",
      "section_id": "10.2.23.4.1",
      "section_title": "General",
      "content": "The procedures in subclause 5.22.4 of 3GPP TS 23.334 [43] are applicable.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.334_clause_5.22.4",
        "ts_23.334"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.23.4.2",
      "section_id": "10.2.23.4.2",
      "section_title": "Message sequence chart",
      "content": "Figure 10.2.23.4.2.1 shows the message sequence chart example for indicating Arbitrary ROI mode.\nFigure 10.2.23.4.2.1: Procedure to indicate Arbitrary ROI mode\nAccording to this procedure, the IBCF shall send to the TrGW the information element on the RTCP feedback message capability for \"Arbitrary ROI\" type expressed by the parameter \"3gpp-roi-arbitrary\" as described in 3GPP TS 26.114 [36], and the RTP Header Extension capability for carriage of arbitrary ROI information as defined in IETF RFC 5285 [45] and 3GPP TS 26.114 [36].",
      "chunk_type": "general",
      "cross_references": [
        "figure_10.2.23.4.2.1",
        "ts_26.114"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.24.1",
      "section_id": "10.2.24.1",
      "section_title": "General",
      "content": "The SDP Capability Negotiation (SDPCapNeg) as specified in IETF RFC 5939 [57] is adopted as an optional functionality to negotiate capabilities and the associated configurations according to 3GPP TS 24.229 [1].\nUpon receipt of an incoming SDP offer containing the attributes of SDP capability negotiation, e.g. offer AVPF and AVP together for the RTP profile negotiation using the \"a=tcap\", \"a=pcfg\" and \"a=acfg\" attributes, the IBCF shall:\n-\trequest the TrGW to reserve resources only for the default configuration without SDPCapNeg, and make the decision on support of the alternative configurations based on the IBCF/TrGW capability as provisioned before forwarding the SDP offer, i.e. handling SDPCapNeg at the controller level; or\n-\trequest the TrGW to reserve resources for all of these configurations by signalling SDPCapNeg to the TrGW, and update the SDP offer based on the response from the TrGW before forwarding.\nNOTE:\tThe additional benefit of signalling SDPCapNeg between the IBCF and the TrGW is to check the resource availability for the corresponding configurations and to avoid the further session failure in case of inadequate resources for the configuration changes in the final confirmation. However, due to the extra resources reserved only during the call establishment phase, there is increased risk of call establishment failures.\nIn case the IBCF decides to request the TrGW to reserve resources for all of those configurations, the IBCF shall:\n-\tuse legacy SDP attributes as specified in IETF RFC 4566 [53] to do the mapping of actual and potential configurations with the H.248 ReserveGroup concept; or\n-\tuse SDP extensions for SDP capability negotiation as specified in IETF RFC 5939 [57], if supported by the TrGW.\nBefore using SDP extensions for SDP capability negotiation as specified in IETF RFC 5939 [57] towards the TrGW, the IBCF shall perform the necessary checks (i.e. through auditing or via prior provisioning) to ensure that the TrGW supports the syntax and capabilities requested. For an auditing the procedure in subclause 6.1.8.1 is used with the \"SDPCapNeg Supported Capabilities\" as the object.\nWhen receiving a request from the IBCF with information element \"SDPCapNeg configuration\" indicating the potential use of multiple configurations, the TrGW shall reserve resources for all of those configurations that it supports and shall send indicate the configurations for which it reserved resources in an \"SDPCapNeg configuration\" information element in the response. The IBCF shall update the SDP offer with SDPCapNeg configurations in the response from the TrGW and shall forward the SDP offer to the next hop.\nThe IBCF may also provide SDP configurations to the TrGW with no dependency on the incoming SDP offer, e.g. the IBCF may wildcard the supported configurations in order to construct or update an SDP offer with the addition of alternative configurations via SDPCapNeg attributes.\nOn receipt of an SDP answer with SDPCapNeg, the IBCF shall request the TrGW to configure the resources for the selected configuration. If the TrGW previously reserved any temporary resources for configurations that were not selected, the IBCF shall also request the TrGW to release those resources.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6.1.8.1",
        "ts_24.229"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.24.2.1",
      "section_id": "10.2.24.2.1",
      "section_title": "Audit SDPCapNeg Supported Capabilities",
      "content": "The IBCF may request the TrGW to report the current values assigned to distinct objects, here as the \"SDPCapNeg Supported Capabilities\" in the TrGW. This procedure may be used when the IBCF is unsure of the applicability for SDPCapNeg of the TrGW.\nFigure 10.2.24.2.1.1 shows the message sequence chart example for the auditing.\nFigure 10.2.24.2.1.1: Audit Value of the TrGW",
      "chunk_type": "general",
      "cross_references": [
        "figure_10.2.24.2.1.1"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.25.1",
      "section_id": "10.2.25.1",
      "section_title": "General",
      "content": "The IBCF and the TrGW may support the WebRTC media plane optimization as defined in 3GPP TS 23.228 [8], annex U.2.4, and 3GPP TS 24.229 [1], subclause 6.7.1.5.\nThe purpose of WebRTC media plane optimization procedures is to convey media between WebRTC clients without bearer level protocol conversion. When both ends are WebRTC IMS clients (WIC), the TrGW remain allocated but media plane interworking is disabled.\nThe SDP attributes associated with WebRTC media plane optimization procedures \"tra-contact\", \"tra-m-line\", \"tra-att\", \"tra-SCTP-association\", \"tra-media-line-number\" and \"tra-bw\" are defined in 3GPP TS 24.229 [1], subclause 7.5.4.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_24.229_clause_6.7.1.5",
        "ts_24.229_clause_7.5.4",
        "ts_23.228",
        "ts_24.229"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.25.2",
      "section_id": "10.2.25.2",
      "section_title": "SDP offer handling",
      "content": "If the IBCF receives an SDP offer that contains any \"tra-contact\" SDP attribute, and the IBCF decides to include a TrGW in the media path, the IBCF shall:\n1)\treserve resources at the TrGW that are suitable for the media described in the SDP offer outside the \"tra-m-line\", \"tra-att\" and \"tra-bw\" SDP attributes.\n2)\tinclude the address information as received from the TrGW in that contact line and also encapsulate the address information into each received \"tra-contact\" attribute, replacing previous information; and\n3)\ttransparently pass (in the forwarded SDP offer) all received \"tra-m-line\", \"tra-att\", \"tra-SCTP-association\", \"tra-media-line-number\" and \"tra-bw\" SDP attributes.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.162_10.2.25.3",
      "section_id": "10.2.25.3",
      "section_title": "SDP answer handling",
      "content": "If the IBCF receives an SDP answer and the SDP answer includes \"tra-m-line\" media level SDP attributes, the IBCF shall:\n1)\tconfigure the TrGW to transparently pass the media described in the received \"tra-m-line\", \"tra-att\", \"tra-SCTP-association\", and \"tra-bw\" SDP attributes; and\n2)\ttransparently pass all received \"tra-m-line\", \"tra-att\", \"tra-SCTP-association\" and \"tra-bw\" SDP attributes.\nNOTE:\tIf interconnected H.248 Stream endpoints or terminations at the TrGW are configured with transport \"UDP\", they will pass the payload within UDP without modifications, known as UDP transparent forwarding. For WebRTC media plane optimization, the UDP payload will be either DTLS encapsulating SCTP and data channel(s), DTLS-SRTP encapsulating key management information, or SRTP encapsulating audio or video media.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.162_10.2.26",
      "section_id": "10.2.26",
      "section_title": "RTP-level pause and resume",
      "content": "The IBCF and the TrGW may support the \"RTP-level pause and resume\" signalling as defined in 3GPP TS 26.114 [36] and IETF RFC 7728 [59].\nIf the IBCF and the TrGW support the \"RTP-level pause and resume\" signalling, they shall apply the requirements and procedures specified in 3GPP TS 23.334 [43] subclause 524 and subclause 6.223.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.334_clause_524",
        "clause_6.223",
        "ts_26.114",
        "ts_23.334"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.27",
      "section_id": "10.2.27",
      "section_title": "RTCP Codec Control Commands and Indications",
      "content": "The IBCF and the TrGW may support signalling of \"RTCP Codec Control Commands and Indications\", as defined in 3GPP TS 26.114 [36] and IETF RFC 5104 [60].\nNOTE 1:\t3GPP TS 26.114 [36] specifies support of the following RTCP feedback codec control messages (CCM): \"Full Intra Request (FIR)\", \"Temporary Maximum Media Stream Bit Rate Request (TMMBR)\" and \"Temporary Maximum Media Stream Bit Rate Notification (TMMBN)\".\nThe RTCP feedback FIR message can be used both by point-to-point video calls, and by conference participants supporting Multi-stream Multiparty Conferencing Media Handling feature, as specified in 3GPP TS 26.114 [36] annex S, to request the media sender to send a decoder refresh point.\nThe RTCP TMMBR and TMMBN feedback messages can also be used in reaction to the Explicit Congestion Notification, as specified in subclause 10.2.13.\nUsage of the RTCP feedback \"CCM\" messages is negotiated via SDP offer/answer exchange through an extension (defined in IETF RFC 5104 [60]) of the RTCP feedback capability attribute \"a=rtcp-fb\" (defined in IETF RFC 4585 [61]).\nNOTE 2:\tThe SDP offer/answer negotiation is performed with a separate \"a=rtcp-fb\" attribute line for each CCM message type.\nIf the IBCF and the TrGW support the \"RTCP Codec Control Commands and Indications\" signalling, they shall apply the requirements and procedures specified in 3GPP TS 23.334 [43] subclause 5.25 and subclause 6.2.24.",
      "chunk_type": "general",
      "cross_references": [
        "clause_10.2.13",
        "ts_23.334_clause_5.25",
        "clause_6.2.24",
        "ts_26.114",
        "ts_23.334"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.2.28",
      "section_id": "10.2.28",
      "section_title": "Delay Budget Information (DBI)",
      "content": "The IBCF and the TrGW may support the \"DBI\" signalling as defined in 3GPP TS 26.114 [36].\nRTCP feedback messages to report or request additional delay budget for voice and video media streams (as defined in 3GPP TS 26.114 [36] subclause 7.3.8) can be used both by participants in a point-to-point MTSI session, and by conference participants.\nUsage of the RTCP feedback messages for \"DBI\" signalling is negotiated via SDP offer/answer exchange through an extension defined in 3GPP TS 26.114 [36] of the RTCP feedback capability attribute \"a=rtcp-fb\" as defined in IETF RFC 4585 [61].\nIf the IBCF and the TrGW support the \"DBI\" signalling, they shall apply the requirements and procedures specified in 3GPP TS 23.334 [43] subclause 5.26 and subclause 6.2.25.",
      "chunk_type": "general",
      "cross_references": [
        "ts_26.114_clause_7.3.8",
        "ts_23.334_clause_5.26",
        "clause_6.2.25",
        "ts_26.114",
        "ts_23.334"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.4.1.1",
      "section_id": "10.4.1.1",
      "section_title": "Reserve TrGW Connection Point",
      "content": "This procedure is used to reserve an termination at the TrGW.\nTable 10.4.1.1.1: Reserve TrGW Connection Point Procedure\nProcedure\nInitiated\nInformation element name\nInformation element required\nInformation element description\nReserve TrGW Connection Point\nIBCF\nContext/Context Request\nM\nThis information element indicates the existing context or requests a new context for the bearer termination.\nEmergency Call Indicator\nO\nThis information element identifies the call as emergency call that requires a preferential handling.\nPriority information\nO\nThis information element requests the TrGW to apply priority treatment for the terminations and bearer connections in the specified context.\nTermination Request\nM\nThis information element requests a new termination for the bearer to be established.\nIP Interface\nO\nThis information element specifies the type of external interface to be used for the IP termination (e.g. MboIP).\nLocal IP Resources\nO\nThis information element indicates the resource(s) (e.g. codec, auxiliary payload types) for which the TrGW shall be prepared to receive user data. May be excluded (i.e. \"-\" is used in SDP m-line) if no transcoding or other media related functions are required.\nReserveValue\nC\nThis information element indicates if multiple local resources are to be reserved.\nThis information element shall be included if a speech codec and auxiliary payload types are configured.\nLocal Connection Address Request\nM\nThis information element requests an IP address and port number on the TrGW that the remote end can send user plane data to.\nRemote Source Address Filtering\nO\nThis information element indicates that remote source address filtering is required.\nRemote Source Address Mask\nC\nThis information element provides information on the valid remote source addresses. This may be included if remote source address filtering is included. It shall not be included if remote source address filtering is not included.\nRemote Source Port Filtering\nO\nThis information element indicates that remote source port filtering is required.\nRemote Source Port\nC\nThis information element identifies the valid remote source port. This may be included if remote source port filtering is included. It shall not be included if remote source port filtering is not included. (NOTE 1)\nRemote Source Port Range\nC\nThis information element identifies a range of valid remote source ports. This may be included if remote source port filtering is included. It shall not be included if remote source port filtering is not included. (NOTE 1)\nRTCP handling\nO\nIndicates whether or not the TrGW shall reserve a port for an RTCP flow.\nNotify termination heartbeat\nM\nThis information element requests termination heartbeat indications.\nNotify Released Bearer\nO\nThis information element requests a notification of a released bearer.\nDiffServ Code Point\nO\nThis information element indicates a specific DiffServ code point to be used in the IP header in packets sent on the IP termination.\nDiffServ Tagging Behaviour\nO\nThis information element indicates whether the Diffserv code point in theIP header in packets sent on the IP termination should be copied from the received value or set to a specific value.\nIP Realm Identifier\nO\nThis information element indicates the IP realm of the IP termination.\nTraffic Policing Required\nO\nThis information element indicates that policing of the media flow is required.\nPeak Data Rate\nO\nThis information element may be present if Policing is required and specifies the permissible peak data rate for a media stream. (NOTE 2)\nSustainable Data Rate\nO\nThis information element may be present if Policing is required and specifies the permissible sustainable data rate for a media stream. (NOTE 2)\nDelay Variation Tolerance\nO\nThis information element may be present if Policing on Peak Data Rate is required and specifies the maximum expected delay variation tolerance for the corresponding media stream.\nMaximum Burst Size\nC\nThis information element shall be present if Policing on Sustainable Data Rate is required and specifies the maximum expected burst size for the corresponding media stream.\nMedia Inactivity Detection Required\nO\nThis information element indicates that detection of inactive media flows is required.\nInactivity Detection Time\nC\nThis information element may be present if Inactive Media Detection is required and specifies the Inactivity Detection time.\nInactivity Detection Direction\nC\nThis information element may be present if Inactive Media Detection is required and specifies the Inactivity Detection direction.\nECN Enable\nO\nThis information element requests the TrGW to apply ECN procedures\nECN Initiation Method\nC\nThis information element specifies the ECN Initiation method and requests the TrGW to perform IP header settings as an ECN endpoint, or indicates that ECN bits shall be passed transparently. It may be included only if ECN is enabled.\nCongestion Response Method\nC\nThis information element specifies the ECN Congestion Response Method; receiver driven or sender driven. The default is \"received driven congestion control\". It may be included only if ECN is enabled and the TrGW acts as ECN endpoint. (NOTE 3)\nECN ECT Marking\nC\nThis information element specifies the ECN ECT Marking. It may be included only if ECN is enabled and the TrGW acts as ECN endpoint. (NOTE 3)\nECN Mode\nC\nThis information element specifies the ECN Mode. It may be included only if ECN is enabled and the TrGW acts as ECN endpoint. (NOTE 3)\nRTCP Feedback\nC\nThis information element specifies the RTCP Feedback support. (NOTE 3)\nXR Summary Report\nC\nThis information element specifies the support of XR Summary Reporting.\nNotify ECN Failure Event\nC\nThis information element requests a notification if a ECN failure occurs. It may only be supplied if ECN is enabled and the TrGW acts as ECN endpoint.\nExtended RTP Header for CVO\nO\nThis information element requests the TrGW to pass on the CVO extended RTP header as defined by IETF RFC 5285 [45].\nGeneric Image Attributes\nO\nThis information element indicates image attributes (e.g. image size) as defined by IETF RFC 6236 [46].\nICE password request\nO\nThis information element is present if IBCF requests an ICE password.\nICE Ufrag request\nO\nThis information element is present if IBCF requests an ICE ufrag.\nICE host candidate request\nO\nThis information element is present if IBCF requests an ICE host candidate.\nICE pacing request\nO\nThis information element is present if IBCF requests a pacing value for connectivity checks (Ta timer value). It is only applicable for full ICE.\nSTUN server request\nO\nThis information element is present if IBCF requests the TrGW to answer STUN connectivity checks for ICE.\nApplication-aware MSRP interworking request\nO\nThis information element is present if IBCF requests the TrGW to perform application-aware MSRP Interworking.\nExtended RTP Header for Sent ROI\nO\nThis information element requests the TrGW to pass on the ROI extended RTP header for carriage of predefined and/or arbitrary ROI information as defined by IETF RFC 5285 [45] and 3GPP TS 26.114 [36].\nPredefined ROI\nO\nThis information element requests the TrGW to support the RTCP feedback message capability for \"Predefined ROI\" type expressed by the parameter \"3gpp-roi-predefined\", as described in 3GPP TS 26.114 [36].\nArbitrary ROI\nO\nThis information element requests the TrGW to support the RTCP feedback message capability for \"Arbitrary ROI\" type expressed by the parameter \"3gpp-roi-arbitrary”, as described in 3GPP TS 26.114 [36].\nSDPCapNeg configuration\nO\nThis information element provides SDPCapNeg configuration(s) using as \"a=acap\", \"a=tcap\", \"a=pcfg\" and \"a=acfg\" SDP attributes.\nReserve TrGW Connection Point Ack\nTrGW\nContext\nM\nThis information element indicates the context where the command was executed.\nTermination\nM\nThis information element indicates the termination where the command was executed.\nLocal IP Resources\nC\nThis information element indicates the resources that the TrGW has reserved to receive the user plane data from the remote peer. This information element shall be present if it was contained in the request. If the information element was not contained in the request, it may be present in the reply.\nLocal Connection Address\nM\nThis information element indicates the IP address and port on the TrGW that shall receive user plane data from the remote peer.\nICE password\nC\nThis information element shall be present only if it was contained in the request. It indicates the ICE password assigned by the TrGW.\nICE Ufrag\nC\nThis information element shall be present only if it was contained in the request. It indicates the ICE Ufrag assigned by the TrGW.\nICE host candidate\nC\nThis information element shall be present only if it was contained in the request. It indicates the ICE host candidate assigned by the TrGW.\nICE pacing\nC\nThis information element shall be present only if it was contained in the request. It indicates a desired pacing value for connectivity checks (Ta timer value).\nICE lite indication\nC\nThis information element shall be present only if an ICE host candidate request was contained in the request, and the IBCF supports ICE lite, but not full ICE. It indicates that the TrGW only supports ICE lite.\nSDPCapNeg configuration\nC\nThis information element shall be present only if it was contained in the request. It provides SDPCapNeg configuration(s) using as \"a=acap\", \"a=tcap\", \"a=pcfg\" and \"a=acfg\" SDP attributes.\nNOTE 1:\tRemote Source Port and Remote Source Port Range are mutually exclusive.\nNOTE 2:\tAt least one of these information elementsshall be present when policing is required.\nNOTE 3:\tThis parameter does not need to be signalled if support is for 3GPP defined ECN only.",
      "chunk_type": "general",
      "cross_references": [
        "table_10.4.1.1.1",
        "ts_26.114"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.4.1.2",
      "section_id": "10.4.1.2",
      "section_title": "Configure TrGW Connection Point",
      "content": "This procedure is used to configure or reconfigure an termination at the TrGW.\nTable 10.4.1.2.1: Configure TrGW Connection Point Procedure\nProcedure\nInitiated\nInformation element name\nInformation element required\nInformation element description\nConfigure TrGW Connection Point\nIBCF\nContext\nM\nThis information element indicates the existing context.\nPriority information\nO\nThis information element shall be present if the priority information needs to be modified, it may be present otherwise.\nTermination\nM\nThis information element indicates the existing bearer termination.\nIP Interface\nO\nThis information element specifies the type of external interface to be used for the IP termination (e.g. MboIP).\nLocal IP Resources\nO\nThis information element indicates the resources (e.g. codec, auxiliary payload types) that the TrGW may use on the reception of user plane data.\nIf Local Connection Address is supplied may be excluded (i.e. \"-\" is used in SDP m-line) if no transcoding or other media related functions are required.\nRemote IP Resources\nO\nThis information element indicates the resources (e.g. codec, auxiliary payload types) that the TrGW may send user plane data to.\nIf Remote Connection Address is supplied may be excluded (i.e. \"-\" is used in SDP m-line) if no transcoding or other media related functions are required.\nLocal Connection Address\nO\nThis information element indicates the IP address and port on the TrGW that the remote peer can send user plane data to.\nRemote Connection Address\nO\nThis information element indicates the IP address and port that the TrGW can send user plane data to.\nReserve Value\nC\nThis information element indicates if multiple resources are to be reserved. This information element shall be included if a speech codec and auxiliary payload types are configured.\nRemote Source Address Filtering\nO\nThis information element indicates that remote source address filtering is required.\nRemote Source Address Mask\nC\nThis information element provides information on the valid remote source addresses. This may be included if remote source address filtering is included. It shall not be included if remote source address filtering is not included.\nRemote Source Port Filtering\nO\nThis information element indicates that remote source port filtering is required.\nRemote Source Port\nC\nThis information element identifies the valid remote source port. This may be included if remote source port filtering is included. It shall not be included if remote source port filtering is not included. (NOTE 1)\nRemote Source Port Range\nC\nThis information element identifies a range of valid remote source ports. This may be included if remote source port filtering is included. It shall not be included if remote source port filtering is not included. (NOTE 1)\nRTCP handling\nO\nIndicates whether or not the TrGW shall reserve a port for an RTCP flow\nTraffic Policing Required\nO\nThis information element indicates that policing of the media flow is required.\nPeak Data Rate\nO\nThis information element may be present if Policing is required and specifies the permissible peak data rate for a media stream. (NOTE 2)\nSustainable Data Rate\nO\nThis information element may be present if Policing is required and specifies the permissible sustainable data rate for a media stream. (NOTE 2)\nDelay Variation Tolerance\nO\nThis information element may be present if Policing on Peak Data Rate is required and specifies the maximum expected delay variation tolerance for the corresponding media stream.\nMaximum Burst Size\nC\nThis information element shall be present if Policing on Sustainable Data Rate is required and specifies the maximum expected burst size for the corresponding media stream.\nDiffServ Code Point\nO\nThis information element indicates a specific DiffServ code point to be used in the IP header in packets sent on the IP termination.\nDiffServ Tagging Behaviour\nO\nThis information element indicates whether the Diffserv code point in theIP header in packets sent on the IP termination should be copied from the received value or set to a specific value.\nMedia Inactivity Detection Required\nO\nThis information element indicates that detection of inactive media flows is required.\nInactivity Detection Time\nC\nThis information element may be present if Inactive Media Detection is required and specifies the Inactivity Detection time.\nInactivity Detection Direction\nC\nThis information element may be present if Inactive Media Detection is required and specifies the Inactivity Detection direction.\nECN Enable\nO\nThis information element requests the TrGW to apply ECN procedures.\nECN Initiation Method\nC\nThis information element specifies the ECN Initiation method and requests the TrGW to perform IP header settings as an ECN endpoint, or indicates that ECN bits shall be passed transparently. It may be included only if ECN is enabled.\nCongestion Response Method\nC\nThis information element specifies the ECN Congestion Response Method; receiver driven or sender driven. The default is \"received driven congestion control\". It may be included only if ECN is enabled and the TrGW acts as ECN endpoint. (NOTE 3)\nECN ECT Marking\nC\nThis information element specifies the ECN ECT Marking. It may be included only if ECN is enabled and the TrGW acts as ECN endpoint. (NOTE 3)\nECN Mode\nC\nThis information element specifies the ECN Mode. It may be included only if ECN is enabled and the TrGW acts as ECN endpoint. (NOTE 3)\nRTCP Feedback\nC\nThis information element specifies the RTCP Feedback support. (NOTE 3)\nXR Summary Report\nC\nThis information element specifies the support of XR Summary Reporting.\nNotify ECN Failure Event\nC\nThis information element requests a notification if a ECN failure occurs. It mayonly be supplied if ECN is enabled and the TrGW acts as ECN endpoint.\nExtended RTP Header for CVO\nO\nThis information element requests the TrGW to pass on the CVO extended RTP header as defined by IETF RFC 5285 [45].\nGeneric Image Attributes\nO\nThis information element indicates image attributes (e.g. image size) as defined by IETF RFC 6236 [46].\nICE Connectivity Check\nC\nThis information element requests the TrGW to perform ICE connectivity check as defined by IETF RFC 8445 [62]. It is only applicable for full ICE.\nNotify ICE Connectivity Check Result\nC\nThis information element requests a notification of ICE connectivity check result. It is only applicable for full ICE.\nNotify New Peer Reflexive Candidate\nC\nThis information element requests a notification of new peer reflexive candidate was discovered during a connectivity check. It is only applicable for full ICE.\nAdditional ICE Connectivity Check\nC\nThis information element requests the TrGW to perform additional ICE connectivity check as defined by IETF RFC 8445 [62]. It is only applicable for full ICE.\nICE received candidate\nO\nThis information element is present if IBCF indicates a received candidate for ICE.\nICE received password\nO\nThis information element is present if IBCF indicates a received password for ICE.\nICE received Ufrag\nO\nThis information element is present if IBCF indicates a received Ufrag for ICE.\nICE received pacing\nO\nThis information element is present if IBCF indicates a received pacing value for connectivity checks (Ta timer value). It is only applicable for full ICE.\nMSRP Path\nO\nThis information element is present for application-aware MSRP Interworking. It provides the path information that the TrGW shall insert in the MSRP layer \"To‑Path\" Information element.\nAllowed RTCP APP message types\nO\nThis information element is present if the IBCF allows the TrGW to send RTCP APP packets of the indicated types. The TrGW shall not send other RTCP APP packets. If the parameter is not supplied, the TrGW shall not send any RTCP APP packets.\nExtended RTP Header for Sent ROI\nO\nThis information element requests the TrGW to pass on the ROI extended RTP header for carriage of predefined and/or arbitrary ROI information as defined by IETF RFC 5285 [45] and 3GPP TS 26.114 [36].\nPredefined ROI\nO\nThis information requests the TrGW to support the RTCP feedback message capability for \"Predefined ROI\" type expressed by the parameter \"3gpp-roi-predefined\", as described in 3GPP TS 26.114 [36].\nArbitrary ROI\nO\nThis information element requests the TrGW to support the RTCP feedback message capability for \"Arbitrary ROI\" type expressed by the parameter \"3gpp-roi-arbitrary”, as described in 3GPP TS 26.114 [36].\nSDPCapNeg configuration\nO\nThis information element provides SDPCapNeg configuration(s) using as \"a=acap\", \"a=tcap\", \"a=pcfg\" and \"a=acfg\" SDP attributes.\nAdditional Bandwidth Properties\nO\nThis information element indicates additional bandwidth properties using \"a=bw-info\" SDP attribute(s) as defined by 3GPP TS 26.114 [36].\nCCM BASE\nO\nThis information element indicates that the TrGW shall be prepared to receive and is allowed to send, respectively, the RTCP feedback \"CCM FIR\" and/or \"CCM TMMBR\" messages (defined in IETF RFC 5104 [60]).\nCCM pause-resume\nO\nThis information element indicates to the TrGW that RTCP feedback \"CCM PAUSE-RESUME\" messages shall be passed transparently.\nDBI\nO\nThis information element indicates to the TrGW that RTCP feedback messages for \"DBI\" signalling (as defined in 3GPP TS 26.114 [36] subclause 7.3.8) shall be passed transparently.\nConfigure TrGW Connection Point\nAck\nTrGW\nContext\nM\nThis information element indicates the context where the command was executed.\nTermination\nM\nThis information element indicates the termination where the command was executed.\nLocal IP Resources\nO\nThis information element indicates the resources that the TrGW has reserved to receive the user plane data from the far end.\nRemote IP Resources\nO\nThis information element indicates the resource (i.e. codec) that the TrGW shall use to send user data to. May be present only if corresponding information elementis present in the request.\nLocal Connection Address\nO\nThis information element indicates the IP address and port on the TrGW that the remote end can send user plane data to.\nRemote Connection Address\nO\nThis information element indicates the IP address and port that the TrGW can send user plane data to. May be present only if corresponding information element is present in the request.\nNOTE 1:\tRemote Source Port and Remote Source Port Range are mutually exclusive.\nNOTE 2:\tAt least one of these information elementsshall be present when policing is required.\nNOTE 3:\tThis parameter does not need to be signalled if support is for 3GPP defined ECN only.",
      "chunk_type": "general",
      "cross_references": [
        "ts_26.114_clause_7.3.8",
        "table_10.4.1.2.1",
        "ts_26.114"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.4.1.3",
      "section_id": "10.4.1.3",
      "section_title": "Reserve and Configure TrGW Connection Point",
      "content": "This procedure is used to reserve and configure multimedia-processing resources for a termination at the TrGW.\nTable 10.4.1.3.1: Reserve and Configure TrGW Connection Point Procedure\nProcedure\nInitiated\nInformation element name\nInformation element required\nInformation element description\nReserve and Configure TrGW Connection Point\nIBCF\nContext/Context Request\nM\nThis information element indicates the existing context or requests a new context for the bearer termination.\nEmergency Call Indicator\nO\nThis information element identifies the call as emergency call that requires a preferential handling.\nPriority information\nO\nThis information element requests the TrGW to apply priority treatment for the terminations and bearer connections in the specified context.\nTermination/ Termination Request\nM\nThis information element indicates the existing bearer termination or requests a new termination for the bearer to be established.\nIP Interface\nO\nThis information element specifies the used interface type for the IP termination (e.g. MboIP).\nLocal IP Resources\nC\nThis information element indicates the resource(s) (e.g. codec, auxiliary payload types) for which the TrGW shall be prepared to receive user data May be excluded (i.e. \"-\" is used in SDP m-line) if no transcoding or other media related functions are required.\nRemote IP Resources\nC\nThis information element indicates the resources (e.g. codec, auxiliary payload types) that the TrGW shall use to send user data. May be excluded (i.e. \"-\" is used in SDP m-line) if no transcoding or other media related functions are required.\nReserve Value\nC\nThis information element indicates if multiple IP resources are to be reserved. This information element shall be included if a speech codec and auxiliary payload types are configured.\nLocal Connection Address request\nM\nThis information element requests an IP address and a port number on the TrGW that the remote end can send user plane data to.\nRemote Connection Address\nM\nThis information element indicates the IP address and ports of the remote party that the TrGW can send user plane data to.\nRemote Source Address Filtering\nO\nThis information element indicates that remote source address filtering is required.\nRemote Source Address Mask\nC\nThis information element provides information on the valid remote source addresses. This may be included if remote source address filtering is included. It shall not be included if remote source address filtering is not included.\nRemote Source Port Filtering\nO\nThis information element indicates that remote source port filtering is required.\nRemote Source Port\nC\nThis information element identifies the valid remote source port. This may be included if remote source port filtering is included. It shall not be included if remote source port filtering is not included. (NOTE 1)\nRemote Source Port Range\nC\nThis information element identifies a range of valid remote source ports. This may be included if remote source port filtering is included. It shall not be included if remote source port filtering is not included. (NOTE 1)\nRTCP handling\nO\nThis information element indicates whether or not the TrGW shall reserve a port for an RTCP flow.\nNotify termination heartbeat\nM\nThis information element requests termination heartbeat indications.\nNotify Released Bearer\nO\nThis information element requests a notification of a released bearer.\nIP Realm Identifier\nO\nThis information element indicates the IP realm of the IP termination.\nTraffic Policing Required\nO\nThis information element indicates that policing of the media flow is required.\nPeak Data Rate\nO\nThis information element may be present if Policing is required and specifies the permissible peak data rate for a media stream. (NOTE 2)\nSustainable Data Rate\nO\nThis information element may be present if Policing is required and specifies the permissible sustainable data rate for a media stream. (NOTE 2)\nDelay Variation Tolerance\nO\nThis information element may be present if Policing on Peak Data Rate is required and specifies the maximum expected delay variation tolerance for the corresponding media stream.\nMaximum Burst Size\nC\nThis information element shall be present if Policing on Sustainable Data Rate is required and specifies the maximum expected burst size for the corresponding media stream.\nDiffServ Code Point\nO\nThis information element indicates a specific DiffServ code point to be used in the IP header in packets sent on the IP termination.\nDiffServ Tagging Behaviour\nO\nThis information element indicates whether the Diffserv code point in theIP header in packets sent on the IP termination should be copied from the received value or set to a specific value.\nMedia Inactivity Detection Required\nO\nThis information element indicates that detection of inactive media flows is required.\nInactivity Detection Time\nC\nThis information element may be present if Inactive Media Detection is required and specifies the Inactivity Detection time.\nInactivity Detection Direction\nC\nThis information element may be present if Inactive Media Detection is required and specifies the Inactivity Detection direction.\nECN Enable\nO\nThis information element requests the TrGW to apply ECN procedures.\nECN Initiation Method\nC\nThis information element specifies the ECN Initiation method and requests the TrGW to perform IP header settings as an ECN endpoint, or indicates that ECN bits shall be passed transparently. It may be included only if ECN is enabled.\nCongestion Response Method\nC\nThis information element specifies the ECN Congestion Response Method; receiver driven or sender driven. The default is \"received driven congestion control\". It may be included only if ECN is enabled and the TrGW acts as ECN endpoint. (NOTE 3)\nECN ECT Marking\nC\nThis information element specifies the ECN ECT Marking. It may be included only if ECN is enabled and the TrGW acts as ECN endpoint. (NOTE 3)\nECN Mode\nC\nThis information element specifies the ECN Mode. It may be included only if ECN is enabled and the TrGW acts as ECN endpoint. (NOTE 3)\nRTCP Feedback\nC\nThis information element specifies the RTCP Feedback support. (NOTE 3)\nXR Summary Report\nC\nThis information element specifies the support of XR Summary Reporting.\nNotify ECN FailureEvent\nC\nThis information element requests a notification if a ECN failure occurs due to ECN. It mayonly be supplied if ECN is enabled and the TrGW acts as ECN endpoint.\nExtended RTP Header for CVO\nO\nThis information element requests the TrGW to pass on the CVO extended RTP header as defined by IETF RFC 5285 [45].\nGeneric Image Attributes\nO\nThis information element indicates image attributes (e.g. image size) as defined by IETF RFC 6236 [46].\nSTUN server request\nO\nThis information element is present if IBCF requests the TrGW to answer STUN connectivity checks for ICE.\nICE Connectivity Check\nC\nThis information element requests the TrGW to perform ICE connectivity check as defined by IETF RFC 8445 [62]. It is only applicable for full ICE.\nNotify ICE Connectivity Check Result\nC\nThis information element requests a notification of ICE connectivity check result. It is only applicable for full ICE.\nNotify New Peer Reflexive Candidate\nC\nThis information element requests a notification of new peer reflexive candidate was discovered during a connectivity check. It is only applicable for full ICE.\nICE password request\nO\nThis information element is present if IBCF requests an ICE password.\nICE Ufrag request\nO\nThis information element is present if IBCF requests an ICE ufrag.\nICE host candidate request\nO\nThis information element is present if IBCF requests an ICE host candidate.\nICE pacing request\nO\nThis information element is present if IBCF requests a pacing value for connectivity checks (Ta timer value). It is only applicable for full ICE.\nICE received candidate\nO\nThis information element is present if IBCF indicates a received candidate for ICE.\nICE received password\nO\nThis information element is present if IBCF indicates a received password for ICE.\nICE received Ufrag\nO\nThis information element is present if IBCF indicates a received Ufrag for ICE.\nICE received pacing\nO\nThis information element is present if IBCF indicates a received pacing value for connectivity checks (Ta timer value). It is only applicable for full ICE.\nMSRP Path\nO\nThis information element is present for application-aware MSRP Interworking. It provides the path information that the TrGW shall insert in the MSRP layer \"To‑Path\" Information element.\nApplication-aware MSRP interworking request\nO\nThis information element is present if IBCF requests the TrGW to perform application-aware MSRP Interworking.\nAllowed RTCP APP message types\nO\nThis information element is present if the IBCF allows the TrGW to send RTCP APP packets of the indicated types. The TrGW shall not send other RTCP APP packets. If the parameter is not supplied, the TrGW shall not send any RTCP APP packets.\nExtended RTP Header for Sent ROI\nO\nThis information element requests the TrGW to pass on the ROI extended RTP header for carriage of predefined and/or arbitrary ROI information as defined by IETF RFC 5285 [45] and 3GPP TS 26.114 [36].\nPredefined ROI\nO\nThis information element requests the TrGW to support the RTCP feedback message capability for \"Predefined ROI\" type expressed by the parameter \"3gpp-roi-predefined\", as described in 3GPP TS 26.114 [36].\nArbitrary ROI\nO\nThis information element requests the TrGW to support the RTCP feedback message capability for \"Arbitrary ROI\" type expressed by the parameter \"3gpp-roi-arbitrary”, as described in 3GPP TS 26.114 [36].\nSDPCapNeg configuration\nO\nThis information element provides SDPCapNeg configuration(s) using as \"a=acap\", \"a=tcap\", \"a=pcfg\" and \"a=acfg\" SDP attributes.\nAdditional Bandwidth Properties\nO\nThis information element indicates additional bandwidth properties using \"a=bw-info\" SDP attribute(s) as defined by 3GPP TS 26.114 [36].\nCCM BASE\nO\nThis information element indicates that the TrGW shall be prepared to receive and is allowed to send, respectively, the RTCP feedback \"CCM FIR\" and/or \"CCM TMMBR\" messages (defined in IETF RFC 5104 [60]).\nCCM pause-resume\nO\nThis information element indicates to the TrGW that RTCP feedback \"CCM PAUSE-RESUME\" messages shall be passed transparently.\nDBI\nO\nThis information element indicates to the TrGW that RTCP feedback messages for \"DBI\" signalling (as defined in 3GPP TS 26.114 [36] subclause 7.3.8) shall be passed transparently.\nReserve and Configure TrGW Connection Point\nAck\nTrGW\nContext\nM\nThis information element indicates the context where the command was executed.\nTermination\nM\nThis information element indicates the termination where the command was executed.\nLocal IP Resources\nC\nThis information element indicates the resources that the TrGW has reserved to receive the user plane data from the remote side. This information element shall be present if it was contained in the request.\nIf the information element was not contained in the request, it may be present in the reply.\nRemote IP Resources\nO\nThis information element indicates the resource (i.e. codec) that the TrGW shall use to send user data.\nLocal Connection Addresses\nM\nThis information element indicates the IP address and port on the TrGW that shall receive user plane data.\nRemote Connection Address\nO\nThis information element indicates the IP address and port that the TrGW can send user plane data to.\nICE password\nC\nThis information element shall be present only if it was contained in the request. It indicates the ICE password assigned by the TrGW.\nICE Ufrag\nC\nThis information element shall be present only if it was contained in the request. It indicates the ICE Ufrag assigned by the TrGW.\nICE host candidate\nC\nThis information element shall be present only if it was contained in the request. It indicates the ICE host candidate assigned by the TrGW.\nICE pacing\nC\nThis information element shall be present only if it was contained in the request. It indicates a desired pacing value for connectivity checks (Ta timer value).\nICE lite indication\nC\nThis information element shall be present only if an ICE host candidate request was contained in the request, and the TrGW supports ICE lite, but not full ICE. It indicates that the TrGW only supports ICE lite.\nSDPCapNeg configuration\nC\nThis information element shall be present only if it was contained in the request. It provides SDPCapNeg configuration(s) using as \"a=acap\", \"a=tcap\", \"a=pcfg\" and \"a=acfg\" SDP attributes.\nNOTE 1:\tRemote Source Port and Remote Source Port Range are mutually exclusive.\nNOTE 2:\tAt least one of these information elements shall be present when policing is required.\nNOTE 3:\tThis parameter does not need to be signalled if support is for 3GPP defined ECN only.",
      "chunk_type": "general",
      "cross_references": [
        "ts_26.114_clause_7.3.8",
        "table_10.4.1.3.1",
        "ts_26.114"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.4.1.4",
      "section_id": "10.4.1.4",
      "section_title": "Release TrGW Termination",
      "content": "This procedure is used to release multimedia-processing resources for a termination at the TrGW.\nTable 10.4.1.4.1: Release TrGW Termination\nProcedure\nInitiated\nInformation element name\nInformation element required\nInformation element description\nRelease TrGW Termination\nIBCF\nContext\nM\nThis information element indicates the existing context.\nTermination\nM\nThis information element indicates the existing bearer termination to be released.\nRelease TrGW Termination\nAck\nTrGW\nContext\nM\nThis information element indicates the context where the command was executed.\nTermination\nM\nThis information element indicates the termination where the command was executed.\nNOTE:\tNo requirement for statistics in the Release TrGW Termination Ack has been justified by a use case.",
      "chunk_type": "general",
      "cross_references": [
        "table_10.4.1.4.1"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.4.1.5",
      "section_id": "10.4.1.5",
      "section_title": "IP Bearer Released",
      "content": "Table 10.4.1.5.1: IP Bearer Released\nProcedure\nInitiated\nInformation element name\nInformation element required\nInformation element description\nIP Bearer Released\nTrGW\nContext\nM\nThis information element indicates the context for the bearer termination.\nTermination\nM\nThis information element indicates the bearer termination where the bearer was released.\nBearer Released\nM\nThis information element notifies a bearer release.\nRelease Cause\nM\nThis information element indicates the cause of a bearer release.\nIP Bearer Released Ack\nIBCF\nContext\nM\nThis information element indicates all context are where the command was executed.\nTermination\nM\nThis information element indicates that Bearer termination is where the command was executed.",
      "chunk_type": "general",
      "cross_references": [
        "table_10.4.1.5.1"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.4.1.6",
      "section_id": "10.4.1.6",
      "section_title": "Media Inactivity Detection",
      "content": "This command is used to notify the IBCF of media inactivity on the TrGW.\nTable 10.4.1.6.1: Media Inactivity Notification\nProcedure\nInitiated\nInformation element name\nInformation element required\nInformation element description\nMedia Inactivity Notification\nTrGW\nContext\nM\nThis information element indicates the existing context for the bearer termination.\nTermination\nM\nThis information element indicates that bearer termination is where the media inactivity detection was activated.\nMedia Inactivity\nM\nThis information element notifies the IBCF of Media inactivity detection on the bearer termination.\nMedia Inactivity Notification Ack\nIBCF\nContext\nM\nThis information element indicates the context where the command was executed.\nTermination\nM\nThis information element indicates the bearer termination where the command was executed.",
      "chunk_type": "general",
      "cross_references": [
        "table_10.4.1.6.1"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.4.1.7",
      "section_id": "10.4.1.7",
      "section_title": "Termination heartbeat indication",
      "content": "This command is used by the TrGW to periodically notify the IBCF of a termination heartbeat.\nTable 10.4.1.7.1: Termination heartbeat indication\nProcedure\nInitiated\nInformation element name\nInformation element required\nInformation element description\nTermination heartbeat indication\nTrGW\nContext\nM\nThis information element indicates the context for the bearer termination.\nBearer Termination\nM\nThis information element indicates the bearer termination for which the termination heartbeat is reported.\nTermination heartbeat\nM\nHanging Termination event.\nTermination heartbeat indication Ack\nIBCF\nContext\nM\nThis information element indicates the context where the command was executed.\nBearer Termination\nM\nThis information element indicates the bearer termination where the command was executed.",
      "chunk_type": "general",
      "cross_references": [
        "table_10.4.1.7.1"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.4.1.8",
      "section_id": "10.4.1.8",
      "section_title": "Change Through-Connection",
      "content": "This procedure is used to change the Through-connection in the bearer termination.\nTable 10.4.1.8.1: Change Through-Connection\nProcedure\nInitiated\nInformation element name\nInformation element required\nInformation element description\nChange Through-Connection\nIBCF\nContext/Context Request\nM\nThis information element indicates the existing context or requests a new context for the bearer termination.\nBearer Termination/Bearer Termination Request\nM\nThis information element indicates the existing bearer termination or requests a new Bearer termination where the through connection is changed.\nThrough-Connection\nM\nThis information element indicates the through-connection of the bearer termination.\nChange Through-Connection Ack\nTrGW\nContext\nM\nThis information element indicates the context where the command was executed.\nBearer Termination\nM\nThis information element indicates the bearer termination where the command was executed.\nNOTE:\tThis procedure may be combined with Reserve and Configure TrGW Connection Point, Reserve TrGW Connection Point or Configure TrGW Connection Point procedure. This list of procedures is not exhaustive.",
      "chunk_type": "general",
      "cross_references": [
        "table_10.4.1.8.1"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.4.1.9",
      "section_id": "10.4.1.9",
      "section_title": "ECN Failure Indication",
      "content": "This procedure is used to report ECN related failures (see clause 10.2.13.3a).\nTable 10.4.1.9.1: Procedures toward the IM Subsystem: ECN Failure Indication\nProcedure\nInitiated\nInformation element name\nInformation element required\nInformation element description\nECN Error Indication\nTrGW\nContext\nM\nThis information element indicates the context for the bearer termination.\nBearer Termination\nM\nThis information element indicates the bearer termination for which the ECN failure is reported.\nECN Error Indication\nM\nThis information element indicates an ECN failure event.\nECN Error Indication Ack\nIBCF\nContext\nM\nThis information element indicates the context where the command was executed.\nBearer Termination\nM\nThis information element indicates the bearer termination where the command was executed.",
      "chunk_type": "general",
      "cross_references": [
        "clause_10.2.13.3",
        "table_10.4.1.9.1"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.4.1.10",
      "section_id": "10.4.1.10",
      "section_title": "Change Flow Direction",
      "content": "This procedure may be used to change the flow direction between bearer terminations within a context for access transfer procedures (see subclause 10.2.15).\nTable 10.4.1.10.1: Procedures toward the IM Subsystem: Change Flow Direction\nProcedure\nInitiated\nInformation element name\nInformation element required\nInformation element description\nChange Flow Direction\nIBCF(ATCF)\nContext/Context Request\nM\nThis information element indicates the existing context or a new context where the flow direction is changed.\nBearer Termination 1/ Bearer Termination 1 Request\nM\nThis information element indicates the existing bearer termination or a new bearer termination from where the new flow direction is applied.\nBearer Termination 2/ Bearer Termination 2 Request\nM\nThis information element indicates the existing bearer termination or a new bearer termination where to the new flow direction is applied.\nFlow Direction\nM\nThis information element indicates the flow direction from the bearer termination 1 to bearer termination 2 within the context.\nChange Flow Direction Ack\nTrGW(ATGW)\nContext\nM\nThis information element indicates the context where the command was executed.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_10.2.15",
        "table_10.4.1.10.1"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.4.1.11",
      "section_id": "10.4.1.11",
      "section_title": "ICE Connectivity Check Result Notification",
      "content": "This procedure is used to report ICE connectivity check result for Full ICE.\nTable 10.4.1.11.1: Procedures toward the IM Subsystem: ICE Connectivity Check Result Notification\nProcedure\nInitiated\nInformation element name\nInformation element required\nInformation element description\nICE Connectivity Check Result Notification\nTrGW\nContext\nM\nThis information element indicates the context for the bearer termination.\nBearer Termination\nM\nThis information element indicates the bearer termination for which the ICE Connectivity Check Result is reported.\nICE Connectivity Check Result Indication\nM\nThis information element indicates an ICE Connectivity Check Result event.\nICE Connectivity Check Result Notification Ack\nIBCF\nContext\nM\nThis information element indicates the context where the command was executed.\nBearer Termination\nM\nThis information element indicates the bearer termination where the command was executed.",
      "chunk_type": "general",
      "cross_references": [
        "table_10.4.1.11.1"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.4.1.12",
      "section_id": "10.4.1.12",
      "section_title": "ICE New Peer Reflexive Candidate Notification",
      "content": "This procedure is used to report ICE New Peer Reflexive Candidate for Full ICE.\nTable 10.4.1.12.1: Procedures toward the IM Subsystem: ICE New Peer Reflexive Candidate Notification\nProcedure\nInitiated\nInformation element name\nInformation element required\nInformation element description\nICE New Peer Reflexive Candidate Notification\nTrGW\nContext\nM\nThis information element indicates the context for the bearer termination.\nBearer Termination\nM\nThis information element indicates the bearer termination for which the ICE New Peer Reflexive Candidate is reported.\nICE New Peer Reflexive Candidate Indication\nM\nThis information element indicates an ICE New Peer Reflexive Candidate event.\nICE New Peer Reflexive Candidate Notification Ack\nIBCF\nContext\nM\nThis information element indicates the context where the command was executed.\nBearer Termination\nM\nThis information element indicates the bearer termination where the command was executed.",
      "chunk_type": "general",
      "cross_references": [
        "table_10.4.1.12.1"
      ]
    },
    {
      "chunk_id": "ts_29.162_10.4.2",
      "section_id": "10.4.2",
      "section_title": "Non Call related Procedures",
      "content": "The procedures in table 10.4.2.1 shall be applied between the IBCF and TrGW.\nTable 10.4.2.1: Non-call related procedures\nStage 3 Procedure (for information) defined in\n3GPP TS 29.238 [25]\nCorresponding Stage 2 Procedure defined in\n3GPP TS 23.205 [28]\nRemarks\nTrGW Out of service\nMGW Out of Service\nTrGW Communication Up\nMGW Communication Up\nTrGW Restoration\nMGW Restoration\nTrGW Register\nMGW Register\nTrGW Re-register\nMGW Re-register\nCS-IBCF Ordered Re-register\n(G)MSC Server Ordered Re-register\nCS-IBCF Restoration\n(G)MSC Server Restoration\nCS-IBCF Out of Service\n(G)MSC Server Out of Service\nTermination Out-of-Service\nTermination Out-of-Service\nThe \"Termination Out-of-Service procedure\" is also used as a call-related H.248 command\nAudit Value\nAudit Value\nThe \"Audit Value\" procedure may be used to determine the support of SDPCapNeg in response to non-call-related H.248 commands.\nCommand Rejected\nCommand Rejected\nThe \"Command Rejected\" procedure may be used in response both to call-related and non-call-related H.248 commands.\nTrGW Capability Change\nCapability Update\nTrGW Resource Congestion Handling – Activate\nMGW Resource Congestion Handling – Activate\nTrGW Resource Congestion Handling – Indication\nMGW Resource Congestion Handling – Indication\nInactivity timeout activation\nInactivity timeout activation\nInactivity timeout indication\nInactivity timeout indication\nRealm Availability Change Activation\nSee 3GPP TS 29.235 [29] subclause A.7.2\nRealm Availability Change Indication\nSee 3GPP TS 29.235 [29] subclause A.7.2\nAnnex A (informative):Void.\nAnnex B (informative):Change history\nChange history\nDate\nTSG #\nTSG Doc.\nCR\nRev\nCat\nSubject/Comment\nOld\nNew\n06-2015\nCT-68\nCP-150351\n0139\n-\nBearer Termination in Acknowledgements\n12.6.0\n12.7.0\n09-2015\nCT-69\nCP-150483\n0141\n2\nB\nSupport for Video Enhancements by Region-of-Interest Information Signalling\n12.7.0\n13.0.0\n12-2015\nCT-70\nCP-150667\n0142\n11\nB\nSupport of SDP capability negotiation\n13.0.0\n13.1.0\n12-2015\nCT-70\nCP-150665\n0144\n4\nB\nSupport for Video Enhancements by Region-of-Interest Information Signalling\n13.0.0\n13.1.0\nChange history\nDate\nMeeting\nTDoc\nCR\nRev\nCat\nSubject/Comment\nNew version\n2016-03\nCT#71\nCP-160105\n0149\n-\nF\nBandwidth adjustment for EVS codec\n13.2.0\n2016-03\nCT#71\nCP-160102\n0150\n2\nB\nSupport of enhanced bandwidth negotiation mechanism for MTSI sessions\n13.2.0\n2016-03\nCT#71\nCP-160105\n0151\n-\nF\nRemoval of references to TS 26.235\n13.2.0\n2016-03\nCT#71\nCP-160097\n0152\n4\nB\nWebRTC media plane optimization procedure\n13.2.0\n2016-06\nCT#72\nCP-160269\n0153\n-\nF\nClarifications related to the enhanced bandwidth negotiation mechanism\n13.3.0\n2016-09\nCT#73\nCP-160451\n0154\n3\nB\nClarification of the gate control procedure between SIP and H.248 for early media over Ix interface\n14.0.0\n2016-12\nCT#74\nCP-160625\n0155\n1\nB\nSupport of RTP-level pause and resume functionality\n14.1.0\n2017-03\nCT#75\nCP-170082\n0156\n-\nF\nCorrecting references for \"RTP-level pause and resume\" signalling\n14.2.0\n2017-03\nCT#75\nCP-170082\n0157\n1\nB\nRTCP Codec Control Commands and Indications\n14.2.0\n2018-09\nCT#81\nAutomatic upgrade to Rel-15\n15.0.0\n2019-06\nCT#84\nCP-191107\n0159\n3\nB\nUpdate IBCF and TrGW interworking requirements for DBI support\n16.0.0\n2022-03\nCT#95e\nCP-220209\n0160\nC\nUpdate of IETF references for ICE\n17.0.0\n2024-03\nSA#103\n-\n-\n-\nUpdate to Rel-18 version (MCC)\n18.0.0\n2024-06\nCT#104\nCP-241120\n0161\n1\nB\nAdding support for IVAS codec\n18.1.0",
      "chunk_type": "procedure",
      "cross_references": [
        "table_10.4.2.1",
        "ts_29.238",
        "ts_23.205",
        "ts_29.235",
        "ts_12.6",
        "ts_26.235"
      ]
    }
  ]
}