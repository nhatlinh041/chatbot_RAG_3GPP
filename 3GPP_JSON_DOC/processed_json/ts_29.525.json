{
  "metadata": {
    "specification_id": "ts_29.525",
    "version": "18.9.0",
    "title": "3GPP TS 29.525",
    "file_path": "/content/drive/MyDrive/RAG_thesis/data/29_series/29525-i90/29525-i90.docx"
  },
  "export_info": {
    "export_date": "2025-07-26T08:59:55.895954",
    "total_chunks": 93
  },
  "chunks": [
    {
      "chunk_id": "ts_29.525_1",
      "section_id": "1",
      "section_title": "Scope",
      "content": "The present specification provides the stage 3 definition of the UE Policy Control Service (Npcf_UEPolicyControl) of the 5G System.\nThe stage 2 definition and procedures of UE Policy Control Service are contained in 3GPP TS 23.502 [3] and 3GPP TS 23.503 [4]. The 5G System Architecture is defined in 3GPP TS 23.501 [2].\nStage 3 call flows are provided in 3GPP TS 29.513 [7].\nThe Technical Realization of the Service Based Architecture and the Principles and Guidelines for Services Definition of the 5G System are specified in 3GPP TS 29.500 [5] and 3GPP TS 29.501 [6].\nThe UE Policy Control Service is provided by the Policy Control Function (PCF). This service provides UE policies and N2 PC5 policy.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.502",
        "ts_23.503",
        "ts_23.501",
        "ts_29.513",
        "ts_29.500",
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.525_2",
      "section_id": "2",
      "section_title": "References",
      "content": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non‑specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".\n[3]\t3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".\n[4]\t3GPP TS 23.503: \"Policy and Charging Control Framework for the 5G System; Stage 2\".\n[5]\t3GPP TS 29.500: \"5G System; Technical Realization of Service Based Architecture; Stage 3\".\n[6]\t3GPP TS 29.501: \"5G System; Principles and Guidelines for Services Definition; Stage 3\".\n[7]\t3GPP TS 29.513: \"5G System; Policy and Charging Control signalling flows and QoS parameter mapping; Stage 3\".\n[8]\tIETF RFC 9113: \"HTTP/2\".\n[9]\tIETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange Format\".\n[10]\tOpenAPI: \"OpenAPI Specification Version 3.0.0\", https://spec.openapis.org/oas/v3.0.0.\n[11]\t3GPP TS 29.571: \"5G System; Common Data Types for Service Based Interfaces; Stage 3\".\n[12]\t3GPP TS 23.402: \"Architecture enhancements for non-3GPP accesses\".\n[13]\t3GPP TS 29.510: \"5G System; Network Function Repository Services; Stage 3\".\n[14]\t3GPP TS 29.518: \"5G System; Access and Mobility Management Services; Stage 3\".\n[15]\t3GPP TS 24.501: \"Non-Access-Stratum (NAS) protocol for 5G System (5GS); Stage 3\".\n[16]\t3GPP TS 24.526: \"UE policies for 5G System (5GS); Stage 3\".\n[17]\t3GPP TS 29.519: \"5G System; Usage of the Unified Data Repository service for Policy Data, Application Data and Structured Data for Exposure; Stage 3\".\n[18]\t3GPP TS 32.422: \"Telecommunication management; Subscriber and equipment trace; Trace control and configuration management\".\n[19]\t3GPP TS 33.501: \"Security architecture and procedures for 5G system\".\n[20]\tIETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".\n[21]\tIETF RFC 9457: \"Problem Details for HTTP APIs\".\n[22]\t3GPP TR 21.900: \"Technical Specification Group working methods\".\n[23]\t3GPP TS 23.316: \"Wireless and wireline convergence access support for the 5G System (5GS)\".\n[24]\t3GPP TS 24.587: \"Vehicle-to-Everything (V2X) services in 5G System (5GS); Stage 3\".\n[25]\t3GPP TS 24.588: \"Vehicle-to-Everything (V2X) services in 5G System (5GS); User Equipment (UE) policies; Stage 3\".\n[26]\t3GPP TS 29.505: \"5G System; Usage of the Unified Data Repository service for Subscription Data; Stage 3\".\n[27]\t3GPP TS 29.504:\"5G System; Unified Data Repository Services; Stage 3\".\n[28]\t3GPP TS 24.554: \"Proximity based services (ProSe) in 5G system (5GS) protocol aspects; Stage 3\".\n[29]\t3GPP TS 24.555: \"Proximity based services (ProSe) in 5G system (5GS); User Equipment (UE) policies; Stage 3\".\n[30]\t3GPP TS 29.523: \"5G System; Policy Control Event Exposure Service; Stage 3\".\n[31]\t3GPP TS 29.512: \"5G System; Session Management Policy Control Service; Stage 3\".\n[32]\t3GPP TS 24.577: \"Aircraft-to-Everything (A2X) services in 5G System (5GS) protocol aspects; Stage 3\".\n[33]\t3GPP TS 24.588: \"Aircraft-to-Everything (A2X) services in 5G System (5GS); UE policies\".\n[34]\t3GPP TS 29.531: \"5G System; Network Slice Selection Services; Stage 3\"\n[35]\t3GPP TS 29.521: \"5G System; Binding Support Management Service; Stage 3\".\n[36]\t3GPP TS 24.301: \"Non-Access-Stratum (NAS) protocol for Evolved Packet System (EPS); Stage 3\".\n[37]\t3GPP TS 29.514: \"5G System; Policy Authorization Service; Stage 3\".\n[38]\t3GPP TS 29.520: \"5G System; Network Data Analytics Services; Stage 3\".\n[39]\t3GPP TS 29.594: \"5G System; Spending Limit Control Service; Stage 3\".\n[40]\t3GPP TS 29.502: \"5G System; Session Management Services; Stage 3\".\n[41]\t3GPP TS 29.522: \"5G System; Network Exposure Function Northbound APIs; Stage 3\".\n[42]\t3GPP TS 24.514: \"Ranging based services and sidelink positioning in 5G system(5GS); Stage 3\".",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905",
        "ts_23.501",
        "ts_23.502",
        "ts_23.503",
        "ts_29.500",
        "ts_29.501",
        "ts_29.513",
        "ts_29.571",
        "ts_23.402",
        "ts_29.510",
        "ts_29.518",
        "ts_24.501",
        "ts_24.526",
        "ts_29.519",
        "ts_32.422",
        "ts_33.501",
        "ts_21.900",
        "ts_23.316",
        "ts_24.587",
        "ts_24.588",
        "ts_29.505",
        "ts_29.504",
        "ts_24.554",
        "ts_24.555",
        "ts_29.523",
        "ts_29.512",
        "ts_24.577",
        "ts_29.531",
        "ts_29.521",
        "ts_24.301",
        "ts_29.514",
        "ts_29.520",
        "ts_29.594",
        "ts_29.502",
        "ts_29.522",
        "ts_24.514"
      ]
    },
    {
      "chunk_id": "ts_29.525_3.1",
      "section_id": "3.1",
      "section_title": "Definitions",
      "content": "For the purposes of the present document, the terms and definitions given in 3GPP TR 21.905 [1] and the following apply. A term defined in the present document takes precedence over the definition of the same term, if any, in 3GPP TR 21.905 [1].\nFor the purposes of the present document, the following terms and definitions given in 3GPP TS 23.503 [4], clause 3.1 and 3GPP TS 23.501 [2], clause 3.1 apply:\nVPLMN specific URSP rules\nConfigured NSSAI",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.503_clause_3.1",
        "ts_21.905",
        "ts_23.503",
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_29.525_3.2",
      "section_id": "3.2",
      "section_title": "Abbreviations",
      "content": "For the purposes of the present document, the abbreviations given in 3GPP TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in 3GPP TR 21.905 [1].\n5G-BRG\t5G Broadband Residential Gateway\n5G-CRG\t5G Cable Residential Gateway\n5G-RG\t5G Residential Gateway\n5G-VN\t5G Virtual Network\nA2X\tAircraft-to-Everything\nA2XP\tAircraft-to-Everything Policy\nAMF\tAccess and Mobility Management Function\nANDSP\tAccess Network Discovery and Selection Policy\nAPI\tApplication Programming Interface\nCHF\tCharging Function\nDNN\tData Network Name\nEPS\tEvolved Packet Core System\nFN-RG\tFixed Network Residential Gateway\nFN-BRG\tFixed Network Broadband Residential Gateway\nFN-CRG\tFixed Network Cable Residential Gateway\nFQDN\tFully Qualified Domain Name\nGPSI\tGeneric Public Subscription Identifier\nGUAMI\tGlobally Unique AMF Identifier\nHFC\tHybrid Fiber-Coaxial\nHTTP\tHypertext Transfer Protocol\nH-PCF\tHome Policy Control Function\nJSON\tJavaScript Object Notation\nN3AN\tNon-3GPP access network\nN3IWF\tNon-3GPP InterWorking Function\nNID\tNetwork Identifier\nNF\tNetwork Function\nNRF\tNetwork Repository Function\nNSWO\tNon-Seamless WLAN Offload\nOS\tOperating System\nOSId\tOperating System Identity\nPCF\tPolicy Control Function\nPDU\tPacket Data Unit\nPEI\tPermanent Equipment Identifier\nPIN\tPersonal IoT Network\nPRA\tPresence Reporting Area\nProSeP\t5G ProSe Policy\nPTI\tProcedure Transaction Identity\nRSLPP\tRanging and Sidelink Positioning Policy\nRSN\tRedundancy Sequence Number\nSL\tSidelink\nSMF\tSession Management Function\nSNPN\tStand-alone Non-Public Network\nSSC\tService and Session Continuity\nSUPI\tSubscription Permanent Identifier\nTNGF\tTrusted Non-3GPP Gateway Function\nUDR\tUnified Data Repository\nUPSC\tUE policy section code\nUPSI\tUE policy section identifier\nURSP\tUE Route Selection Policy\nV2X\tVehicle-to-Everything\nV2XP\tVehicle-to-Everything Policy\nV-PCF\tVisited Policy Control Function\nVPS\tVPLMN Specific\nW-5GAN\tWireline 5G Access Network\nW-5GCAN\tWireline 5G Cable Access Network\nW-AGF\tWireline Access Gateway Function",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.1.1",
      "section_id": "4.1.1",
      "section_title": "Overview",
      "content": "The UE Policy Control Service, as defined in 3GPP TS 23.502 [3] and 3GPP TS 23.503 [4], is provided by the Policy Control Function (PCF).\nThis service is used as part of the provisioning of UE policies (e.g. ANDSP, URSP, V2XP, A2XP, ProSeP, RSLPP) determined by the PCF to the UE via the AMF and as part of the provisioning of N2 PC5 policy for V2X communications and/or A2X communications and/or 5G ProSe and/or Ranging/SL determined by the PCF to the NG-RAN via the AMF. In case of URSP provisioning in EPS this service may be used as part of the provisioning of URSP determined by the PCF to the UE via a PCF for a PDU session. This service hence offers the following functionalities:\n-\tcreation of a UE Policy Association as requested by the NF service consumer (e.g. AMF);\n-\tprovisioning of policy control request trigger(s) to the NF service consumer (e.g. AMF);\n-\tprovisioning of the UE policy (e.g. ANDSP, URSP, V2XP, A2XP,ProSeP, RSLPP) to the V-PCF by the H-PCF in the roaming case;\n-\tprovisioning of the N2 PC5 policy for V2X communications and/or  A2X communications and/or 5G ProSe and/or Ranging/SL to the V-PCF by the H-PCF in the roaming case;\n-\tupdate of a UE Policy Association as requested by the NF service consumer (e.g. AMF);\n-\treporting of the met policy control request trigger(s) by the NF service consumer;\n-\tupdate of policy control request trigger(s) by the PCF to the NF service consumer (e.g. AMF);\n-\tdeletion of a UE Policy Association as requested by the NF service consumer (e.g. AMF);\n-\tenable the PCF to request the termination of a UE Policy Association to the NF service consumer (e.g. AMF);\n-\tprovisioning of the URSP to a PCF for a PDU session in case of URSP provisioning in EPS; and\n-\tprovisioning of slice-based N3IWF/TNGF selection policies based on the UE subscribed/configured S-NSSAI(s).",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.502",
        "ts_23.503"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.1.2",
      "section_id": "4.1.2",
      "section_title": "Service Architecture",
      "content": "The 5G System Architecture is defined in 3GPP TS 23.501 [2]. The Policy and Charging related 5G architecture is also described in 3GPP TS 29.513 [7].\nThe UE Policy Control Service (Npcf_UEPolicyControl) is part of the Npcf service-based interface exhibited by the Policy Control Function (PCF).\nThe known NF service consumers of the Npcf_UEPolicyControl service are the Access and Mobility Management Function (AMF) and the Visited Policy Control Function (V-PCF).\nThe AMF accesses the UE Policy Control Service at the PCF via the N15 reference point. In case of URSP delivery in EPS, when the PCF for the PDU session and the PCF for the UE are different, the PCF for the PDU session accesses the UE Policy Control Service at the PCF via the N43 reference point,\nIn the roaming scenario, the N15 reference point is located between the V-PCF in the visited network and the AMF. The V-PCF accesses the UE Policy Control Service at the Home Policy Control Function (H-PCF) via the N24 Reference point.\nFigure 4.1.2-1: Reference Architecture for the Npcf_UEPolicyControl Service; SBI representation\nFigure 4.1.2-2: Non-roaming Reference Architecture for the Npcf_UEPolicyControlService; reference point representation\nNOTE 1:\tWhen the N43 reference point exists, i.e. when the PCF is a NF service consumer of the Npcf_UEPolicyControl service, the PCF for the PDU session interacts with the PCF for the UE, and the non-roaming and home routed roaming architecture are the same.\nFigure 4.1.3-2: Roaming reference Architecture for the Npcf_UEPolicyControlService; reference point representation\nNOTE 2:\tIn LBO roaming scenarios, the V-PCF for the PDU session interacts with the V-PCF for the UE (i.e., the V-PCF for the PDU session is a NF service consumer of the Npcf_UEPolicyControl service offered by the V-PCF of the UE).",
      "chunk_type": "general",
      "cross_references": [
        "figure_4.1.2-1",
        "figure_4.1.2-2",
        "figure_4.1.3-2",
        "ts_23.501",
        "ts_29.513"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.1.3.1",
      "section_id": "4.1.3.1",
      "section_title": "Policy Control Function (PCF)",
      "content": "For non-roaming scenarios, the Policy Control Function (PCF):\n-\tsupports unified policy framework to govern network behaviour;\n-\tprovides UE policy, including Access Network Discovery and Selection Policy (ANDSP), UE Route Selection Policy (URSP), Vehicle-to-Everything Policy (V2XP), Aircraft-to-Everything Policy (A2XP), 5G ProSe Policy (ProSeP) and/or Ranging and Sidelink Positioning Policy (RSLPP) via the AMF transparently to the UE;\n-\tprovides policy control request trigger(s) to the AMF;\nNOTE 1:\tThe PCF invokes the Namf_Communication service specified in 3GPP TS 29.518 [14] to provide the UE Policy.\n-\tprovides N2 PC5 policy, containing the PC5 QoS parameters used by NG-RAN for V2X communications and/or A2X communications and/or 5G ProSe and/or Ranging/SL via the AMF to the NG-RAN;\nNOTE 2:\tThe PCF invokes the Namf_Communication service specified in 3GPP TS 29.518 [14] to provide the N2 PC5 Policy for V2X communications and/or A2X communications and/or 5G ProSe and/or Ranging/SL.\n-\tprovides URSP via a PCF for a PDU session transparently to the UE in case of URSP provisioning in EPS;\n-\tprovides policy control request trigger(s) to a PCF for a PDU session in case of URSP provisioning in EPS; and\n-\tprovides slice-based N3IWF/TNGF selection policies based on the UE subscribed S-NSSAI(s).\nFor roaming scenarios, the Visited Policy Control Function (V-PCF):\n-\tprovides policy control request trigger(s) to the AMF;\n-\tprovides the ANDSP of the VPLMN via the AMF transparently to the UE;\n-\tforwards the ANDSP, URSP, V2XP, A2XP, ProSeP and/or RSLPP received from the H-PCF via the AMF to the UE;\nNOTE 3:\tThe V-PCF invokes the Namf_Communication service specified in 3GPP TS 29.518 [14] to provide the UE Policy.\n-\tforwards the N2 PC5 policy for V2X communications and/or A2X communications and/or 5G ProSe and/or Ranging/SL received from the H-PCF via the AMF to the NG-RAN;\nNOTE 4:\tThe V-PCF invokes the Namf_Communication service specified in 3GPP TS 29.518 [14] to provide the N2 PC5 Policy for V2X communications and/or A2X communications and/or 5G ProSe and/or Ranging/SL.\n-\tin case of AF guidance of VPLMN-specific URSP rules for inbound roamers:\na.\tprovides the AF guidance for VPLMN-specific URSP rules to the H-PCF; and\nb.\tif requested by the AF, notifies the NEF in the VPLMN about the outcome of the delivery of VPLMN-specific URSP rules;\n-\tprovides slice-based N3IWF/TNGF selection policies based on the UE Configured NSSAI; and\n-\tfor the LBO roaming scenarios, and in case of URSP provisioning in EPS:\na.\tprovides policy control request trigger(s) received from the H-PCF to a V-PCF for a PDU session; and\nb.\tforwards to the UE the URSP received from the H-PCF using a V-PCF for a PDU session.\nFor roaming scenarios, the Home Policy Control Function (H-PCF):\n-\tprovides policy control request trigger(s) to the V-PCF;\n-\tprovides the UE policy (e.g. ANDSP, URSP, V2XP, A2XP, ProSeP or RSLPP) of the HPLMN to the V-PCF for forwarding to the UE via the the AMF;\n-\tprovides the N2 PC5 policy for V2X communications and/or A2X communications and/or 5G ProSe and/or Ranging/SL to the V-PCF for forwarding to the NG-RAN via the AMF;\n-\tin case of AF guidance of VPLMN-Specific URSP rules:\na.\tprovides VPLMN-specific URSP rules to capable UE(s) using AF guidance for VPLMN-specific URSP rules retrieved from the HPLMN UDR and/or received from the V-PCF; and\nb.\tnotifies the NEF in the HPLMN and the V-PCF about the outcome of the VPLMN-specific URSP rules delivery to the UE;\n-\tin case of URSP provisioning in EPS:\na.\tfor the LBO roaming scenarios, provides URSP to the V-PCF for forwarding to the UE via a V-PCF for a PDU session.\nb.\tfor the Home Routed scenarios, provides URSP to the PCF for the PDU session in the HPLMN, for forwarding to the UE via the H-SMF.\nThe policy decisions made by the PCF may also be based on one or more of the following:\n-\tInformation obtained from the UDR (e.g., UE Policy Subscription data and/or Service Parameter Data provided by the AF/NEF via the UDR);\n-\tInformation obtained from the AMF, e.g., UE related and access related information;\n-\tInformation obtained from the NWDAF;\n-\tInformation from the CHF about spending limits control, e.g., status of each relevant policy counter and optional pending policy counter statuses; and\nNOTE 5:\tIn this release of the specification, policy decisions based on spending limits control apply to URSP only.\n-\tPCF pre-configured policy context.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.518"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.1.3.2",
      "section_id": "4.1.3.2",
      "section_title": "NF Service Consumers",
      "content": "The known NF service consumers of the Npcf_UEPolicyControl are the AMF, the V-PCF in the roaming case, and a PCF for a PDU session in case of URSP provisioning in EPS.\nThe Access and Mobility Management function (AMF) performs:\n-\tregistration management;\n-\tconnection management;\n-\treachability management;\n-\tmobility Management;\n-\tforwarding of UE Policy towards the served UE;\n-\treporting of the UE state to the (V-)PCF;\n-\tforwarding of the UE policy enforcement result received from the UE to the (V-)PCF; and\nNOTE:\tThe AMF invokes the Namf_Communication service specified in 3GPP TS 29.518 [14] to report the UE policy enforcement result.\n-\tforwarding of the N2 PC5 policy for V2X communications and/or A2X communications and/or 5G ProSe and/or Ranging/SL towards the NG-RAN.\nThe Visited Policy Control Function (V-PCF) provides the functions described in clause 4.1.3.1 towards the visited network as NF service producer and acts as NF Service consumer toward the H-PCF, performing the following functions:\n-\treceiving policy control request trigger(s) and/or UE policy (e.g. ANDSP, URSP, V2XP, A2XP, ProSeP, RSLPP) from the H-PCF;\n-\treceiving the N2 PC5 policy for V2X communications and/or A2X communications and/or 5G ProSe and/or Ranging/SL from the H-PCF; and\n-\treporting of the UE state and UE policy enforcement result to the H-PCF.\n-\tproviding the URSP rule enforcement information received from the UE to the H-PCF, if requested by the H-PCF as described in clause 4.2.2.2.3.\nThe PCF for a PDU session in case of URSP provisioning in EPS performs:\n-\tforwarding of URSP towards the served UE and the URSP rule provisioning outcome from the UE; and\n-\tforwarding towards/from the selected PDN connection the provisioning/report of the policy control request trigger(s).",
      "chunk_type": "general",
      "cross_references": [
        "clause_4.1.3.1",
        "clause_4.2.2.2.3",
        "ts_29.518"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.1",
      "section_id": "4.2.1",
      "section_title": "Introduction",
      "content": "Table 4.2.1-1: Operations of the Npcf_UEPolicyControl Service\nService operation name\nDescription\nInitiated by\nNpcf_UEPolicyControl_Create\nCreates a UE Policy Association.\nNF service consumer (e.g. AMF, V-PCF in roaming case)\nNpcf_UEPolicyControl_Update\nUpdates a UE Policy Association and provides the corresponding policies to the NF service consumer when policy control request trigger(s) is/are met or the AMF is relocated due to the UE mobility and the old PCF is selected.\nNF service consumer (e.g. AMF, V-PCF in roaming case)\nNpcf_UEPolicyControl_UpdateNotify\n-\tProvides the updated policy control request trigger(s) and/or applicable indications to the AMF by the (V-)PCF in the non-roaming or roaming case;\n-\tProvides the updated UE policy, applicable indications, and/or policy control request trigger(s) to the V-PCF by the H-PCF; or\n-\tInitiates the UE Policy association termination towards the NF service consumer by the NF service producer.\nPCF (H-PCF and V-PCF in roaming case)\nNpcf_UEPolicyControl_Delete\nProvides means for the NF service consumer to delete a UE Policy Association.\nNF service consumer (e.g. AMF, V-PCF in roaming case)",
      "chunk_type": "general",
      "cross_references": [
        "table_4.2.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.2.1",
      "section_id": "4.2.2.1",
      "section_title": "General",
      "content": "The procedure in the present clause is applicable when the NF service consumer creates a UE policy association in the following cases:\n-\tUE performs initial registration to the network, as defined in clause 5.5.1.2.2 of 3GPP TS 24.501 [15];\n-\tUE performs a mobility registration, if the UE operating in single-registration mode performs inter-system change from S1 mode to N1 mode, as defined in clause 5.5.1.3.2 of 3GPP TS 24.501 [15], and there is no existing UE Policy Association between AMF and PCF for this UE; and\n-\tthe AMF is relocated (between the different AMF sets) and the new AMF selects a new PCF. The procedure for the case where the AMF is relocated and the new AMF selects the old PCF is defined in clause 4.2.3.1.\nTo support the delivery of URSP in EPS, the procedure in the present clause is also applicable when:\n-\tWhen the UE triggers a BEARER RESOURCE MODIFICATION REQUEST message with a UE policy container IE after the UE performs ePCO capability negotiation during PDN connection establishment procedure (during the Initial Attach with default PDN connection establishment or during the first PDN connection establishment or during PDN connection modification without QoS update or during new PDN connection establishment when no other existing PDN connection indicates support of URPS provisioning in EPS) as defined in 3GPP TS 24.301 [33], and both, the UE and the network support URSP provisioning in EPS PCO; and\n-\t5GS to EPS handover or 5GS to EPS Idle Mode mobility (both referred as 5GS to EPS mobility in the present document) as defined in 3GPP TS 24.501 [15] and if the UE and at least one of the PDN connection(s) supports URSP delivery in EPS as specified in 3GPP TS 29.512 [31].\nThe creation of a UE policy association only applies for normally registered UEs, i.e. it does not apply for emergency-registered UEs.\nFigure 4.2.2.1-1 illustrates the procedure used for the creation of a policy association.\nFigure 4.2.2.1-1: Creation of a UE policy association\nNOTE 1:\tFor the roaming scenario, the PCF represents the V-PCF, if the NF service consumer is an AMF, and the PCF represents the H-PCF, if the NF service consumer is a V-PCF.\nWhen a UE registers to the network and a UE context is being established, if the AMF obtains from the UE a UE policy delivery protocol message as defined in Annex D of 3GPP TS 24.501 [15] and/or the authorized PC5 capability for 5G ProSe, and/or the authorized PC5 capability for V2X communications and/or A2X communications, and/or the authorized PC5 capability for Ranging/SL, the AMF shall establish a UE policy association with the (V-)PCF, in case there is no existing UE policy association for the UE; otherwise, the AMF may establish a UE Policy Association with the (V-)PCF based on AMF local configuration.\nNOTE 2:\tIn the roaming scenario, the visited AMF's local configuration can indicate whether UE Policy delivery is needed based on the roaming agreement with the home PLMN of the UE.\nDuring UE Initial Attach with default PDN connection or the establishment of the first PDN connection in EPS or a new PDN connection when no other existing PDN connection indicates the support of URSP provisioning in EPS, if the UE and the SMF+PGW support URSP provisioning in EPS PCO, and the \"EpsUrsp\" feature is supported between the SMF+PGW-C and the PCF for the PDU session, the PCF for a PDU session associated with the SMF+PGW-C serving the PDN connection obtains from the UE a UE policy container in a Npcf_SMPolicyControl_Update procedure triggered by a bearer resource modification procedure as described in 3GPP TS 29.512 [31]. Then, if the \"EpsUrsp\" feature described in clause 5.8 is supported, the PCF for a PDU session shall establish a UE policy association with the (V-)PCF for the UE for the delivery of URSP only.\nDuring 5GS to EPS mobility with N26, and if the \"EpsUrsp\" feature described in clause 5.8 is supported, the PCF for the PDU session determines whether 5GS to EPS mobility applies based on the received RAT and/or Access-Type change event as described in 3GPP TS 29.512 [31]. Then, for non-roaming and Home Routed roaming scenarios, the PCF for a PDU session shall determine whether the UE supports URSP provisioning in EPS by checking the UE Policy Set information in UDR as specified in 3GPP TS 29.519 [17], and if supported, shall establish a UE policy association with the PCF for the UE that is handling the UE policy association with the source AMF. For LBO roaming scenarios, the V-PCF for the PDU session determines based on local configuration whether to establish a UE Policy Association towards the V-PCF for the UE.\nNOTE 3:\tThe PCF for the PDU session discovers the address of the PCF for the UE handling the UE policy association with the source AMF by querying the BSF as described in 3GPP TS 29.521 [22].\nNOTE 4:\tIf during the 5GS to EPS mobility there are more than one PCF for the PDU session maintaining PDN connections for the UE, every PCF for the PDU session establishes a UE Policy Association towards the PCF for the UE. In LBO scenarios, the V-PCF for the UE will handle only one UE Policy Association towards the H-PCF for the UE.\nTo establish a UE policy association with the PCF, the NF service consumer (e.g. AMF) shall send an HTTP POST request with \"{apiRoot}/npcf-ue-policy-control/v1/policies\" as Resource URI and the PolicyAssociationRequest data structure as request body, which shall include:\n-\tthe Notification URI encoded as \"notificationUri\" attribute;\n-\tthe SUPI encoded as \"supi\" attribute; and\n-\tthe features supported by the NF service consumer encoded as \"suppFeat\" attribute,\nshall also include, when available:\n-\tthe GPSI encoded as \"gpsi\" attribute;\n-\tthe Access type encoded as \"accessType\" attribute;\n-\tthe Permanent Equipment Identifier (PEI) encoded as \"pei\" attribute;\n-\tthe User Location Information encoded as \"userLoc\" attribute;\n-\tthe UE Time Zone encoded as \"timeZone\" attribute;\n-\tthe identifier of the serving network (the PLMN Identifier or the SNPN Identifier), encoded as \"servingPlmn\" attribute;\nNOTE 5:\tThe SNPN Identifier consists of the PLMN Identifier and the NID.\n-\tthe RAT type encoded as \"ratType\" attribute;\n-\tthe received UE policy delivery protocol message defined in Annex D of 3GPP TS 24.501 [15] encoded as \"uePolReq\" attribute;\n-\tfor the roaming scenario, if the NF service consumer is an AMF, the H-PCF ID encoded as \"hPcfId\" attribute, and if the \"EnhEstRoaming\" feature is supported, the H-PCF URI encoded as the \"hPcfUri\" attribute and the H-PCF Set ID encoded as \"hPcfSetId\" attribute;\n-\tthe Internal Group Identifier(s) encoded as \"groupIds\" attribute;\n-\tthe PC5 capability for V2X encoded as \"pc5Capab\" attribute if the \"V2X\" feature defined in clause 5.8 is supported;\n-\tthe 5G ProSe capability within the \"proSeCapab\" attribute, if the \"ProSe\" feature defined in clause 5.8 is supported;\n-\tthe Ranging/SL capability within the \"rangSlCapab\" attribute, if the \"Ranging_SL\" feature defined in clause 5.8 is supported;\n-\tif the NF service consumer is an AMF, the GUAMI encoded as \"guami\" attribute;\n-\tif the NF service consumer is an AMF, the serving AMF Id encoded as \"servingNfId\" attribute;\nNOTE 6:\tIf the PCF received the \"servingNfId\" attribute, the PCF can use the Nnrf_NFDiscovery Service specified in 3GPP TS 29.510 [13] to retrieve the NF profile of the Namf_Communication service available in the indicated AMF instance Id.\n-\tif the NF service consumer is an AMF and the \"SliceAwareANDSP\" feature is supported:\n-\tif the UE indicated the support of slice-based N3IWF and/or TNGF selection as specified in 3GPP TS 24.501 [15], the AMF may provide information about these UE indications within the \"sliceN3gNodeSelCap\" attribute;\n-\tif the AMF has determined that the UE has selected a non-3gpp access node (i.e. TNGF or N3IWF) that is not compatible with the allowed S-NSSAI(s), and the UE indicated the support of slice-based N3IWF and/or TNGF selection as specified in 3GPP TS 24.501 [15], the wrongly selected type of non-3gpp access node encoded as \"n3gNodeReSel\" attribute, and, in the roaming case, also the Configured NSSAI for the serving PLMN encoded as \"confSnssais\" attribute;\n-\tif the NF service consumer is an AMF, the Satellite Backhaul Category encoded as \"satBackhaulCategory\" attribute, if the \"EnSatBackhaulCategoryChg\" feature defined in clause 5.8 is supported;\n-\tif the NF service consumer is the PCF for the PDU session, and the \"EpsUrsp\" feature defined in clause 5.8 is supported, the indication that the trigger for the UE Policy Association Establishment is the 5GS to EPS mobility scenario encoded as the \"5gsToEpsMob\" attribute;\n-\tfor the roaming scenario, if the NF service consumer is an AMF and the \"NssaiChange\" feature is supported, the Configured NSSAI for the serving PLMN encoded as \"confSnssais\" attribute and optionally the mapped each S-NSSAI value of home network corresponding to the configured S-NSSAI values in the serving PLMN encoded as \"mappedHomeSnssai\" attribute within the \"confSnssais\" attribute;\n-\tthe A2X capability encoded as \"a2xCapab\" attribute if the \"A2X\" feature defined in clause 5.8 is supported;\n-\tif the feature \"AccessChange\" is supported, the NF service consumer shall include:\na)\tthe \"accessTypes\" attribute indicating registration in the 3GPP access, in the non-3GPP access, or in both 3GPP and non-3GPP access, if available; and\nb)\tthe RAT type entry corresponding to the 3GPP access and/or the RAT type entry corresponding to the non-3GPP access encoded in the \"ratTypes\" attribute, if available.\nNOTE 7:\tIf the feature \"AccessChange\" is not supported or it is not known yet whether it is supported in the PCF, the NF service consumer can also provide the \"accessType\" attribute and the \"ratType\" attribute, if available, with one available access type and RAT type.\nNOTE 8:\tWhen the UE is simultaneously connected to the 5G Core Network of a PLMN/SNPN over a 3GPP access and a non-3GPP access, the UE is served by the same AMF, as specified in 3GPP TS 23.501 [2]. In this case, the UE Policy Association contains both, 3GPP and non-3GPP accesses.When the UE is simultaneously connected to 5G Core Network over 3GPP access and non-3GPP access in different PLMN(s)/SNPN(s), the UE is served by different AMFs. In this case, there can be two UE Policy Associations, each with the corresponding access type.\n-\tfor the roaming scenario, if the NF service consumer is a V-PCF and the \"VPLMNSpecificURSP\" feature is supported, the AF guidance on VPLMN-specific URSP rules related information, if applicable, within the \"vpsUePolGuidance\" attribute, that shall contain for each related AF:\na.\tthe AF guidance on VPLMN-Specific URSP rules within the \"urspGuidance\" attribute; and\nb.\tif the AF requested to the VPLMN notifications about the delivery of UE Policies, the \"deliveryEvents\" attribute including the \"SUCCESS_UE_POL_DEL_SP\" and/or \"UNSUCCESS_UE_POL_DEL_SP\" events; and\n-\tfor the roaming scenario, if the NF service consumer is an AMF, and the \"VPLMNSpecificURSP\" feature is supported, LBO information within the \"lboRoamInfo\" attribute.\nand may include:\n-\tif the NF service consumer is an AMF, the name of a service produced by the AMF that expects to receive information via the Npcf_UEPolicyControl_UpdateNotify service operation encoded as \"serviceName\" attribute;\n-\tif the NF service consumer is an AMF, the alternate or backup IPv4 Address(es) where to send Notifications encoded as \"altNotifIpv4Addrs\" attribute;\n-\tif the NF service consumer is an AMF, the alternate or backup IPv6 Address(es) where to send Notifications encoded as \"altNotifIpv6Addrs\" attribute;\n-\tif the NF service consumer is an AMF, the alternate or backup FQDN(s) where to send Notifications encoded as \"altNotifFqdns\" attribute;\n-\tif the NF service consumer is an AMF, the alternate or backup FQDN(s) where to send Notifications encoded as \"altNotifFqdns\" attribute.\nUpon the reception of the HTTP POST request,\n-\tthe (V-)(H-)PCF shall assign a UE policy association ID;\n-\tfor the roaming scenario and based on operator policy, the V-PCF (as the NF service consumer) should send to the H-PCF a request for the Creation of a UE policy association as described in the present clause;\n-\tthe (V-)(H-)PCF shall determine the applicable UE policy as detailed in clause 4.2.2.2. For the V-PCF, any policy received from the H-PCF in the reply to the possible request for the Creation of a policy association should be taken into consideration;\n-\tif the (V-)PCF determines that UE policy needs to be provisioned, it shall use the Namf_Communication service specified in 3GPP TS 29.518 [14] to provision the UE policy according to clause 4.2.2.2 and as follows:\n(i)\tthe (V-)PCF shall subscribe to the AMF to notifications on N1 messages for UE Policy Delivery Results using the Namf_Communication_N1N2MessageSubscribe service operation;\n(ii)\tthe (V-)PCF shall send the determined UE policy (e.g. ANDSP, URSP, V2XP, A2XP, ProSeP, RSLPP) using Namf_Communication_N1N2MessageTransfer service operation(s); and\n(iii) the (V-)PCF shall be prepared to receive UE Policy Delivery Results from the AMF and/or subsequent UE policy requests (e.g. for V2XP and/or A2XP and/or ProSeP and/or RSLPP) within the Namf_Communication_N1MessageNotify service operation. For the V-PCF, if the received UE Policy Delivery results relate to UE policy sections provided by the H-PCF, the V-PCF shall use the Npcf_UEPolicyControl_Update Service Operation defined in clause 4.2.3 to send those UE Policy Delivery results to the H-PCF;\n-\tif the UE indicates the support of V2X communications over PC5 reference point and the \"V2X\" feature is supported, the (H-)PCF shall determine the applicable V2XP, as detailed in clause 4.2.2.2.1.2, and V2X N2 PC5 policy, as detailed in clause 4.2.2.3 and based on the operator's policy;\n-\tif the UE indicates the support of 5G ProSe and the \"ProSe\" feature is supported, the (H-)PCF shall determine the applicable ProSeP, as detailed in clause 4.2.2.2.1.3, and 5G ProSe N2 PC5 policy, as detailed in clause 4.2.2.4 and based on the operator's policy;\n-\tif the UE indicates the support of Ranging/SL and the \"Ranging_SL\" feature is supported, the (H-)PCF shall determine the applicable RSLPP, as detailed in clause 4.2.2.2.1.5, and Ranging/SL N2 PC5 policy, as detailed in clause 4.2.2.7, and based on the operator's policy;\n-\tif the PCF determines that N2 PC5 policy (e.g., for V2X communications, for 5G ProSe, for Ranging/SL) needs to be provisioned, including the case of the V-PCF when receiving the N2 PC5 policy from the H-PCF, the PCF shall use the Namf_Communication service specified in 3GPP TS 29.518 [14] to provision the N2 PC5 policy according to clause 4.2.2.3 and/or clause 4.2.2.4;\n-\tif the UE indicates support for URSP provisionng in EPS, the \"EpsUrsp\" feature is supported, and the (V-)PCF determines that UE policy needs to be provisioned via a PCF for a PDU session, the (V-)PCF shall select a UE Policy Association and shall provision the UE policy according to clause 4.2.2.2 and as follows:\n(i)\tthe (V-)PCF shall send a UE policy container with the determined URSP using Npcf_UEPolicyControl_Create response service operation(s); and\n(ii) the (V-)PCF shall be prepared to receive UE Policy Delivery Results from the PCF for a PDU session. The PCF for a PDU session shall use the Npcf_UEPolicyControl_Update service operation defined in clause 4.2.3 to send those UE Policy Delivery results to the (V-)PCF;\n-\tif the UE indicates the support of A2X communications over PC5 reference point and the \"A2X\" feature is supported, the (H-)PCF shall determine the applicable A2XP, as detailed in clause 4.2.2.2.1.4, and A2X N2 PC5 policy, as detailed in clause 4.2.2.5 and based on the operator's policy;\nfor the successful case, the (V-)(H-)PCF shall send a HTTP \"201 Created\" response with the URI for the created resource in the \"Location\" header field.\nNOTE 9:\tThe assigned policy association ID is part of the URI for the created resource and is thus associated with the SUPI.\nand the PolicyAssociation data type as response body, including:\n-\tmandatorily, the negotiated supported features encoded as \"suppFeat\" attribute;\n-\toptionally, the information provided by the NF service consumer when requesting the creation of this policy association encoded as \"request\" attribute;\n-\toptionally, for the H-PCF as service producer communicating with the V-PCF, UE policy (see clause 4.2.2.2) encoded as \"uePolicy\" attribute;\n-\toptionally, for the H-PCF as service producer communicating with the V-PCF, N2 PC5 policy (see clause 4.2.2.3 and/or clause 4.2.2.4 and/or clause 4.2.2.5 and/or clause 4.2.2.6) encoded as \"n2Pc5Pol\" attribute (for V2X communications) and/or \"n2Pc5PolA2x\" attribute (for A2X communications) and/or \"n2Pc5ProSePol\" attribute (for 5G ProSe) and/or \"n2Pc5RsppPol\" attribute (for Ranging/SL);\n-\toptionally, for the H-PCF as service producer communicating with the V-PCF, and when the feature \"UECapabilityIndication\" is supported, if the H-PCF did not receive from the UE information about ANDSP support and the information is available and reliable in the UDR (see clause 4.2.2.2.1.1), the ANDSP support indication retrieved from UDR encoded as \"andspInd\" attribute;\n-\toptionally, for the (V-)PCF communicating with the AMF, and if the \"URSPEnforcement\" feature is supported, the request to the AMF to be notified about the PDU session established/terminated events by providing the PCF for the UE callback information within the \"pcfUeInfo\" attribute, and the DNN and S-NSSAI combination of the concerned PDU session(s) within the \"matchPdus\" attribute.\n-\toptionally, one or several of the following Policy Control Request Trigger(s) encoded as \"triggers\" attribute (see clause 4.2.3.2):\na)\tLocation change (tracking area);\nb)\tChange of UE presence in PRA;\nc)\tChange of PLMN, if the \"PlmnChange\" feature is supported;\nd)\tChange of UE connectivity state, if the \"ConnectivityStateChange\" feature is supported;\ne)\tURSP rule enforcement information, if the \"URSPEnforcement\" feature is supported;\nf)\tChange of Satellite Backhaul Category, if the \"EnSatBackhaulCategoryChg\" feature is supported;\ng)\tChange of Access Type and RAT Type, if the \"AccessChange\" feature is supported;\nh)\tLBO information change, applicable to roaming scenarios, if the \"VPLMNSpecificURSP\" feature is supported and the NF service consumer is an AMF; and\ni)\tChange of Configured NSSAI, in roaming scenarios, if the \"NssaiChange\" feature is supported and the NF service consumer is the AMF;\n-\tif the Policy Control Request Trigger \"Change of UE presence in PRA\" is provided, the presence reporting areas for which reporting is required encoded as \"pras\" attribute;\n-\tif the Policy Control Request Trigger \"LBO information change\" is provided, optionally, the DNNs(s) and S-NSSAI(s) for which LBO information is required encoded as \"pduSessions\" attribute;\n-\tif the NF service consumer is an AMF and the \"SLAMUP\" feature is supported, based on the operator policies the H-PCF indicates that the AMF should select the same CHF that is selected by the H-PCF for a UE, the charging address(es) information encoded in the \"chfInfo\" attribute.\nNOTE 10:\t\tIf the PCF uses a Presence Reporting Area identifier referring to a Set of Core Network predefined Presence Reporting Areas as defined in 3GPP TS 23.501 [2], the PCF includes the identifier of this Presence Reporting Area set within the \"praId\" attribute.\n-\tif the \"SliceAwareANDSP\" feature is supported, the PCF received the \"n3gNodeReSel\" attribute and the PCF has successfully delivered to the UE the ANDSP/WLANSP with the slice selection information for the corresponding non-3gpp node, the indication of the successful UE configuration by providing the \"andspDelInd\" attribute with the value \"CONFIGURED\". The PCF may delay the indication of the configuration result to a subsequent Npcf_UEPolicyControl_UpdateNotify request, as described in clause 4.2.4.2.\n-\tif errors occur when processing the HTTP POST request, the (V-)(H-)PCF shall apply error handling procedures as specified in clause 5.7 and according to the following provisions:\n-\tif the user information received within the \"supi\" attribute is unknown, the (V-)(H-)PCF shall reject the request and include in an HTTP \"400 Bad Request\" response message the \"cause\" attribute of the ProblemDetails data structure set to \"USER_UNKNOWN\"; and\n-\tif the (V-)(H-)PCF is, due to incomplete, erroneous or missing information in the request, not able to provision a UE policy decision, the (V-)(H-)PCF may reject the request and include in an HTTP \"400 Bad Request\" response message the \"cause\" attribute of the ProblemDetails data structure set to \"ERROR_REQUEST_PARAMETERS\".\nIf the (V-)PCF received a GUAMI, the (V-)PCF may subscribe to GUAMI changes using the AMFStatusChange service operation of the Namf_Communication service specified in 3GPP TS 29.518 [14], and it may use the Nnrf_NFDiscovery Service specified in 3GPP TS 29.510 [13] (using the obtained GUAMI and possibly service name) to query the other AMFs within the AMF (service) set.\nWhen the \"SliceAwareANDSP\" feature is supported, and the AMF receives the \"andspDelInd\" attribute, the AMF, based on operator's policies, may reject the UE Registration request, and may provide a valid target N3IWF/TNGF within the Registration Reject message as specified in clause 5.5.1.3.5 of 3GPP TS 24.501 [15]. In this case, the AMF terminates the UE Policy Association as described in clause 4.2.5 (if the UE is not registered over 3GPP access).",
      "chunk_type": "definition",
      "cross_references": [
        "ts_24.501_clause_5.5.1.2.2",
        "ts_24.501_clause_5.5.1.3.2",
        "clause_4.2.3.1",
        "clause_5.8",
        "clause_4.2.2.2",
        "clause_4.2.3",
        "clause_4.2.2.2.1.2",
        "clause_4.2.2.3",
        "clause_4.2.2.2.1.3",
        "clause_4.2.2.4",
        "clause_4.2.2.2.1.5",
        "clause_4.2.2.7",
        "clause_4.2.2.2.1.4",
        "clause_4.2.2.5",
        "clause_4.2.2.6",
        "clause_4.2.2.2.1.1",
        "clause_4.2.3.2",
        "clause_4.2.4.2",
        "clause_5.7",
        "ts_24.501_clause_5.5.1.3.5",
        "clause_4.2.5",
        "figure_4.2.2.1-1",
        "ts_24.501",
        "ts_24.301",
        "ts_29.512",
        "ts_29.519",
        "ts_29.521",
        "ts_29.510",
        "ts_23.501",
        "ts_29.518"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.2.2.1.0",
      "section_id": "4.2.2.2.1.0",
      "section_title": "General",
      "content": "The UE policy consists of\n-\tUE Access Network discovery and selection policies (ANDSP). It is used by the UE for selecting non-3GPP accesses networks. The encoding of ANDSP is defined in 3GPP TS 24.526 [16];\n-\tUE Route Selection Policy (URSP). This UE policy is used by the UE to determine how to route outgoing traffic. Traffic can be routed to an established PDU Session, offloaded to non-3GPP access outside a PDU Session, can be routed via a ProSe Layer-3 UE-to-Network Relay outside a PDU session or trigger the establishment of a new PDU Session. The encoding of URSP is defined in 3GPP TS 24.526 [16];\n-\tUE Vehicle-to-Everything Policy (V2XP). This UE policy provides configuration information to the UE for V2X communications over PC5 reference point or over Uu reference point or both. The encoding of V2XP is defined in 3GPP TS 24.588 [25];\n-\tUE 5G Proximity based Services Policy (ProSeP). This UE policy provides configuration information to the UE for 5G ProSe direct discovery, 5G ProSe direct communications, 5G ProSe UE-to-network relay, 5G ProSe usage reporting configuration and rules and/or 5G ProSe UE-to-UE relay; and\n-\tUE Aircraft-to-Everything Policy (A2XP). This UE policy provides configuration information to the UE for A2X communications over PC5 reference point or A2X communications over Uu reference point or both. The encoding of A2XP is defined in 3GPP TS 24.578 [33];\n-\tUE Ranging and Sidelink Positioning Policy (RSLPP). The UE policy provides configuration information to the UE for Ranging/SL over PC5 reference point. The encoding of RSLPP is defined in 3GPP TS 24.514 [42];\nThe (V-)(H-)PCF determines the UE Policies that apply to the UE based on the received information from the UE about the list of UE Policies stored in the UE and UE policy classmark information as described in Annex D of 3GPP TS 24.501 [15], the information available in UDR as described in 3GPP TS 29.519 [17], inputs received from the NF service consumer and local policies as described in clause 4.2.2.2.\nNOTE 1:\tThere is a possibility of misalignment between the UE Policies determined by the PCF and the UE Policies stored at the UE (which can be caused e.g. in AMF relocation with PCF reselection scenario). When the PCF, based on configuration and implementation specific means, detects this possibility, the PCF can avoid it if the PCF first removes all the UE Policies in the UE as per the list of UPSI(s) stored in UDR/PCF and then provides to the UE all determined UE Policies as per currently specified procedures.\nThe UE Policy is transferred to the UE using the UE policy delivery protocol defined in Annex D of 3GPP TS 24.501 [15]. The (V-)(H-)PCF shall send UE policy using the \"MANAGE UE POLICY COMMAND\" message and will receive the \"MANAGE UE POLICY COMPLETE\"or the \"MANAGE UE POLICY COMMAND REJECT\" messages in the response. Those messages are transparently forwarded by the AMF.\nThe (V-)PCF shall use the Namf_Communication_N1N2MessageTransfer service operation defined in clause 5.2.2.3.1 of 3GPP TS 29.518 [14] to send \"MANAGE UE POLICY COMMAND\" messages to the UE and use the Namf_Communication_N1MessageNotify service operation defined in clause 5.2.2.3.5 of 3GPP TS 29.518 [14] to receive \"MANAGE UE POLICY COMPLETE\" and \"MANAGE UE POLICY COMMAND REJECT\" messages from the UE. The (V-)PCF shall only send \"MANAGE UE POLICY COMMAND\" messages below a predefined size limit.\nThe H-PCF shall use service operations as defined in the present specification to receive \"MANAGE UE POLICY COMPLETE\" and \"MANAGE UE POLICY COMMAND REJECT\" messages from the V-PCF and to send MANAGE UE POLICY COMMAND\" messages to the V-PCF. The H-PCF shall encode the \"MANAGE UE POLICY COMMAND\" message in a \"uePolicy\" attribute. The H-PCF shall only send \"MANAGE UE POLICY COMMAND\" messages below a predefined size limit.\nThe (V-)(H-)PCF may deliver the UE policy to the UE in several \"MANAGE UE POLICY COMMAND\" messages.\nFor the purpose of such fragmented delivery and subsequent partial updates of UE policies, the UE policy is divided into policy sections. Such policy sections may be predefined in the (V-)(H-)PCF, may be retrieved by the (V-)(H-)PCF from the UDR as specified in 3GPP TS 29.519 [17], or may be dynamically generated by the (V-)(H-)PCF, but shall comply to the rules detailed below. The (V-)(H-)PCF may combine several policy sections into one \"MANAGE UE POLICY COMMAND\" message, if the predefined size limit is observed.\nThe following rules apply to policy sections:\n-\tThe size shall be below the predefined size limit.\n-\tThe policy section shall only contain complete URSP rule(s), WLANSP rule(s), N3AN node configuration information, V2XP, A2XP, ProSeP and/or RSLPP info content, but no fractions of such rules, configuration information, or info contents.\n-\tTo ease a subsequent partial update of UE policies, policy sections should only contain a small number of policies, e.g. URSP rule(s), and/or WLANSP rule(s).\n-\tThe entire content of a policy section shall be provided by a single PLMN.\nA PCF shall only determine policy sections of its own PLMN(s). However, a V-PCF may forward UE policy sections received from the H-PCF to the UE.\nEach UE policy section is identified by a UE policy section identifier (UPSI). The UPSI is composed of two parts:\na)\ta PLMN ID part containing the PLMN ID of the PLMN or SNPN of the PCF which provides the UE policies (i.e, the PLMN ID derived from the SUPI); and\nb)\ta UE policy section code (UPSC) containing a unique value within the PLMN or SNPN selected by the PCF.\nNOTE 2:\tWhen the UE is operating in SNPN access operation mode, the UE associates the PLMN ID with the NID of the SNPN to differentiate between PLMN UPSI(s) and SNPN UPSI(s).\nThe (V-)(H-)PCF provides an UPSI when providing a new UE policy section and may then identify that policy section using that UPSI when requesting that that UE policy section is modified or deleted, as specified in Annex D of 3GPP TS 24.501 [15].\nIf the (V-)(H-)PCF determines that changes are required and/or the V-PCF receives possible new or modified policy sections determined by the H-PCF in the roaming case, it shall send the determined new, updated or deleted policy sections using one or several \"MANAGE UE POLICY COMMAND\" messages towards the NF service consumer. In the roaming case, the V-PCF may either combine policy sections received from the H-PCF and policy sections the V-PCF selected in the same \"MANAGE UE POLICY COMMAND\" (as long as the predefined size limit is observed), or use separate \"MANAGE UE POLICY COMMAND\" messages; however, the V-PCF shall not distribute the policy sections received in one \"MANAGE UE POLICY COMMAND\" from the H-PCF into several \"MANAGE UE POLICY COMMAND\" messages as long as the predefined size limit is observed for the policy sections received from the H-PCF. The V-PCF shall allocate a new PTI for the \"MANAGE UE POLICY COMMAND\" sent by the V-PCF and store the mapping between the new PTI and the PTI within the \"MANAGE UE POLICY COMMAND\" received from the H-PCF.\nAfter sending a \"MANAGE UE POLICY COMMAND\" messages, the (V-)(H-)PCF shall wait for a related confirmation in a \"MANAGE UE POLICY COMPLETE\" messages or failure indication in a \"MANAGE UE POLICY COMMAND REJECT\" message. When receiving no such message until the expiry of a supervision timer specified in Annex D of 3GPP TS 24.501 [15], or when receiving a failure indication, the PCF should re-send related instructions for the policy sections. In the roaming case, the H-PCF and the V-PCF shall each be responsible for resending those policy sections that it originally supplied. In the case that the V-PCF combined policy sections received from the H-PCF and policy sections the V-PCF selected in the same \"MANAGE UE POLICY COMMAND\" described below, the V-PCF shall wait for the H-PCF to resend the policy sections of HPLMN, and then resend the combined policy sections. The (V-)(H-)PCF shall always include the initially supplied policy sections when resending the UE policy.\nThe (V-)(H-)PCF shall determine that a received \"MANAGE UE POLICY COMPLETE\" message or \"MANAGE UE POLICY COMMAND REJECT\" message is related to the result of a \"MANAGE UE POLICY COMMAND\" based on the PTI within that message. In the roaming case, the V-PCF shall determine that the received message is related to the result of the UE policy provided by the H-PCF if the PTI within the message belongs to one of the stored PTI mapping(s).\nIf the V-PCF combined policy sections received from the H-PCF and policy sections the V-PCF selected in the same \"MANAGE UE POLICY COMMAND\", upon reception of a \"MANAGE UE POLICY COMPLETE\" message or \"MANAGE UE POLICY COMMAND REJECT\" message the V-PCF shall:\n-\tforward the corresponding \"MANAGE UE POLICY COMPLETE\" message to the H-PCF;\n-\tif a \"MANAGE UE POLICY COMMAND REJECT\" message with UPSI(s) of the HPLMN is received, forward the parts of the \"MANAGE UE POLICY COMMAND REJECT\" message that relate to the UPSI(s) of the HPLMN to the H-PCF;\n-\tif a \"MANAGE UE POLICY COMMAND REJECT\" message without UPSI(s) of the HPLMN is received, send a \"MANAGE UE POLICY COMPLETE\" message to the H-PCF; and\n-\tprovide the stored PTI received from the HPLMN in the corresponding \"MANAGE UE POLICY COMMAND\" within the \"MANAGE UE POLICY COMPLETE\" message or \"MANAGE UE POLICY COMMAND REJECT\" message towards the H-PCF.\nIf the V-PCF sent a separate \"MANAGE UE POLICY COMMAND\" containing only the policy sections received from the H-PCF, the V-PCF shall forward the corresponding \"MANAGE UE POLICY COMPLETE\" or \"MANAGE UE POLICY COMMAND REJECT\" message to the H-PCF and provide the stored PTI received from the HPLMN in the corresponding \"MANAGE UE POLICY COMMAND\" within the \"MANAGE UE POLICY COMPLETE\" message or \"MANAGE UE POLICY COMMAND REJECT\" message towards the H-PCF.If the V-PCF distributed the policy sections received in one \"MANAGE UE POLICY COMMAND\" from the H-PCF into several \"MANAGE UE POLICY COMMAND\" messages to the UE (because the predefined size limit of the VPLMN was exceeded), the V-PCF shall aggregate all corresponding \"MANAGE UE POLICY COMPLETE\" or \"MANAGE UE POLICY COMMAND REJECT\" messages received from the UE into one \"MANAGE UE POLICY COMPLETE\" or \"MANAGE UE POLICY COMMAND REJECT\" message towards the H-PCF.\nWhen the (V-)PCF receives an Namf_Communication_N1N2MessageTransfer failure response as defined in clause 5.2.2.3.1.2 of 3GPP TS 29.518 [14], or an N1N2 Transfer Failure Notification as defined in clause 5.2.2.3.2 of 3GPP TS 29.518 [14], the (V-)PCF shall stop the supervision timer specified in Annex D of 3GPP TS 24.501 [15] corresponding to the affected PTIs. If the \"retryAfter\" attribute is received, the (V-)PCF should not initiate new UE Policy Delivery request until the timer expires. For the N1N2 Transfer Failure Notification case, the (V-)PCF determines the affected PTIs allocated by the V-PCF based on the resource URI within the \"n1n2MsgDataUri\" attribute of the N1N2MsgTxfrFailureNotification data structure as defined in clause 6.1.6.2.30 of 3GPP TS 29.518 [14].\nNOTE 3:\tThe (V-)PCF correlates the Namf_Communication_N1N2MessageTransfer request and the corresponding N1N2 Transfer Failure Notification based on the resource URI within the \"Location\" header included in the response HTTP status code \"202 Accepted\" of the Namf_Communication_N1N2MessageTransfer response and the resource URI within the \"n1n2MsgDataUri\" attribute of and N1N2 Transfer Failure Notification. And then the V-PCF determines the affected PTIs related with the resource URI.\nFor the non-roaming case or the roaming case when the V-PCF determines that the affected UE Policy is related to the V-PLMN, the (V-)PCF may provision the policy control request trigger \"CON_STATE_CH\" if not provisioned yet. Upon receiving the notification of UE connectivity state change indicating that the UE enters the CM-Connected state, the (V-)PCF may retry to deliver the UE Policy.\nFor the roaming case and if the V-PCF determines that the affected UE policy is related with the UE policy delivered by the H-PCF, the V-PCF shall send a POST message as defined in clause 4.2.3.1 to notify the H-PCF of the failure of UE policy transfer by including the \"uePolTransFailNotif\" attribute within the PolicyAssociationUpdateRequest data structure. Within the UePolicyTransferFailureNotification data structure, the V-PCF shall include the cause of the UE Policy Transfer Failure within the \"cause\" attribute and the PTI(s) allocated by the H-PCF corresponding to the PTI(s) allocated by the V-PCF within the \"ptis\" attribute. The H-PCF shall stop the supervision timer corresponding to the affected PTIs. In this case, the H-PCF may provision the policy control request trigger \"CON_STATE_CH\" if not provisioned yet. Upon receiving the notification of UE connectivity state change indicating that the UE enters the CM-Connected state, the H-PCF may retry to deliver the UE Policy. If the feature \"EnErrorHandling\" is supported and the \"retryAfter\" attribute is received, the H-PCF should not initiate new UE Policy Delivery request until the timer expires.\nWhen the (H-)PCF receives the \"MANAGE UE POLICY COMPLETE\" or the \"MANAGE UE POLICY COMMAND REJECT\" message and determines that this message indicates a UE Policy Delivery outcome to which an NF service consumer has subscribed via a request for service specific parameters, the (H-)PCF shall invoke the Npcf_EventExposure_Notify service operation as defined in clause 4.2.4.2 of 3GPP TS 29.523 [30].",
      "chunk_type": "definition",
      "cross_references": [
        "clause_4.2.2.2",
        "ts_29.518_clause_5.2.2.3.1",
        "ts_29.518_clause_5.2.2.3.5",
        "ts_29.518_clause_5.2.2.3.1.2",
        "ts_29.518_clause_5.2.2.3.2",
        "ts_29.518_clause_6.1.6.2.30",
        "clause_4.2.3.1",
        "ts_29.523_clause_4.2.4.2",
        "ts_24.526",
        "ts_24.588",
        "ts_24.578",
        "ts_24.514",
        "ts_24.501",
        "ts_29.519",
        "ts_29.518",
        "ts_29.523"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.2.2.1.1",
      "section_id": "4.2.2.2.1.1",
      "section_title": "Provisioning of the UE Access Network discovery and selection policies and UE Route Selection Policy",
      "content": "During Initial Registration and 5GS Registration during UE mobility from EPS to 5GS, and when:\na)\tthe UE has one or more stored UE policy sections corresponding to the serving PLMN/SNPN or HPLMN;or\nb)\tthe UE does not have any stored UE policy section corresponding to the serving PLMN/SNPN or HPLMN and the UE needs to send a UE policy container to the network;\nThen the UE includes the \"UE STATE INDICATION\" message as defined in clause D.5.4.1 of 3GPP TS 24.501 [15], which is transferred transparently by the AMF within the \"uePolReq\" attribute during the creation of a policy association, as described in clause 4.2.2.1.\nThe (H-)PCF, or the PCF of the SNPN for the UEs subscribed to the SNPN, may store in the UDR, as specified in 3GPP TS 29.519 [17]:\na)\tUPSCs and related UE policy sections of the own PLMN or SNPN it provided to a UE;\nb)\tthe PEI received from the NF service consumer (e.g. AMF), if available;\nc)\tthe OSId(s) received from the UE within the \"UE STATE INDICATION\" message as described in the Annex D of 3GPP TS 24.501 [15], if available;\nd)\tthe indication of UE's support for ANDSP included in the \"UE STATE INDICATION\" message as described in the Annex D of 3GPP TS 24.501 [15], if available;\ne)\tif the \"EpsUrsp\" feature defined in 3GPP TS 29.519 [17] is supported, the indication of UE's support for URSP provisioning in EPS included in the \"UE STATE INDICATION\" message as described in the Annex D of 3GPP TS 24.501 [15], if available;\nf)\tif the \"URSPEnforcement\" feature defined in 3GPP TS 29.519 [17] is supported, the indication of UE's support for reporting URSP rule enforcement included in the \"UE STATE INDICATION\" message as described in the Annex D of 3GPP TS 24.501 [15], if available; and\ng)\tif the \"VPLMNSpecificURSP\" feature defined 3GPP TS 29.519 [17] is supported, the indication of UE's support for VPLMN-Specific URSP included in the \"UE STATE INDICATION\" message as described in the Annex D of 3GPP TS 24.501 [15], if available.\nThe PCF shall retrieve from UDR the information previously stored in UDR, if not locally available, for URSP/ANDSP rule determination as specified in 3GPP TS 29.519 [17].\nThe V-PCF may retrieve UPSCs and related UE policy sections applicable for all UEs from a HPLMN from the V-UDR, using the HPLMN ID as key as specified in 3GPP TS 29.519 [17]. The PCF of the serving SNPN has locally configured the UPSCs and related UE policy sections applicable for all UEs other than the UEs subscribed to the SNPN.\nWhen receiving the \"UE STATE INDICATION\" message, the (V-)(H-)PCF or the PCF of the serving SNPN, shall determine, based on the UPSIs indicated in that message, if available, the ANDSP support indication and the OSId(s) indicated in that message, if available, the reporting URSP rule enforcement support in that message, if available, the UE Policy Sections and UPSCs stored in the UDR, if available, the policy subscription data, if available, application data, if available, inputs received from the NF service consumer,and local policy, as specified in clauses 4.2.2.2.2 and 4.2.2.2.3, whether any new UE policy section(s) need to be installed and whether any existing UE policy section(s) need to be updated or deleted. Based on local configuration, the (H-)PCF or the PCF of the serving SNPN (for the SNPN-subscribed UEs), may indicate to the UE to accept/not accept URSP rules signalled by non-subscribed SNPNs within the UE policy network classmark IE in a MANAGE UE POLICY COMMAND message as described in Annex D of 3GPP TS 24.501 [15].\nNOTE 1:\tWhen an SNPN-enabled UE registers in a SNPN using credentials from a Credentials Holder (CH) but the UE is not subscribed in that SNPN, the PCF of the non-subscribed SNPN, based on local policies, can provision the UE with URSP rules and/or ANDSP rules for the SNPN. For the provisioned ANDSP rules, the UE gives priority to the valid ANDSP from the registered SNPN.\nWhen the received \"UE STATE INDICATION\" message indicated that the UE supports VPLMN-specific URSP rules as specified in Annex D of 3GPP TS 24.501 [15], the (H-)PCF may determine URSP rules specific per VPLMN as specified in clause 4.2.2.2.3.2. In this case, the (H-)PCF shall provide to the UE within the \"MANAGE UE POLICY COMMAND\" the URSP rules to be applied in VPLMN(s) in specific UE policy section(s) and the VPS URSP configuration IE as specified in clause D.6.8 of 3GPP TS 24.501 [15].\nNOTE 2:\tThe VPS URSP configuration IE includes zero or more tuples, each tuple containing a tuple Id, VPLMN ID(s) and a list of UPSC(s) (of HPLMN's UE policy sections) with UE policies with URSP rules applicable to the VPLMN(s) and its equivalent PLMN(s).\n4.2.2.2.1.1a\tProvisioning of URSP in EPS\nWhen the UE initially attaches in EPS and establishes the default PDN connection or establishes the first PDN connection in EPS or when the UE establishes a new PDN connection and no other existing PDN connection indicates the support of URSP provisioning in EPS, if the \"EpsUrsp\" feature is supported as described in 3GPP TS 29.512 [31], and both the UE and the network support URSP provisioning in EPS PCO, the UE includes the UE policy container IE with the \"UE STATE INDICATION\" message as defined in clause D.5.4.1 of 3GPP TS 24.501 [15] in the BEARER RESOURCE MODIFICATION REQUEST message as defined in 3GPP TS 24.301 [36]. The UE policy container is then transferred transparently by the PCF for the PDU session within the \"uePolReq\" attribute during the creation of a UE policy association, as described in clause 4.2.2.1.\nThe (H-)PCF for the UE, may store in the UDR, as specified in 3GPP TS 29.519 [17]:\na)\tUPSCs and related URSP sections of the own PLMN it provided to a UE;\nb)\tthe PEI received from the NF service consumer, if available;\nc)\tthe OSId(s) received from the UE within the \"UE STATE INDICATION\" message as described in the Annex D of 3GPP TS 24.501 [15], if available;\nd)\tif the \"EpsUrsp\" feature defined in 3GPP TS 29.519 [17] is supported, the indication of UE's support for URSP provisioning in EPS included in the \"UE STATE INDICATION\" message as described in the Annex D of 3GPP TS 24.501 [15], if available; and\nf)\tif the \"URSPEnforcement\" feature defined in 3GPP TS 29.519 [17] is supported, the indication of UE's support for reporting URSP rule enforcement included in the \"UE STATE INDICATION\" message as described in the Annex D of 3GPP TS 24.501 [15], if available.\nThe (H-)PCF shall retrieve from UDR the information previously stored in UDR, if not locally available, for URSP rule determination as specified in 3GPP TS 29.519 [17].\nNOTE 1:\tURSP provisioning in EPS is supported in Home Routed roaming scenarios as it is supported in non-roaming scenarios. In Home Routed roaming scenarios the H-PCF corresponds with the PCF.\nWhen receiving the \"UE STATE INDICATION\" message, the (H-)PCF, shall determine, based on the UPSIs indicated in that message, if available, the OSId(s) indicated in that message, if available, the reporting URSP rule enforcement support in that message, if available, the UE Policy Sections and UPSCs stored in the UDR, if available, the policy subscription data, if available, application data, if available, and local policy, as specified in clauses 4.2.2.2.2 and 4.2.2.2.3, whether any new URSP section(s) need to be installed and whether any existing URSP section(s) need to be updated or deleted.\nDuring 5GS to EPS mobility with N26, when the \"EpsUrsp\" feature is supported and PCF for the PDU session establishes a UE Policy Association with the PCF for the UE as described in clause 4.2.2.1, the PCF for the UE shall determine whether the 5GS to EPS mobility with N26 scenario applies based on the \"5gsToEpsMob\" attribute. If it applies, the PCF for the UE shall recover from the UE Policy Association previously established with the AMF:\n-\tUE Policy Section related information, i.e.:\na)\tUPSCs and related URSP sections of the own PLMN it provided to the UE;\nb)\tif the \"URSPEnforcement\" feature defined in 3GPP TS 29.519 [17] is supported, the indication of UE's support for reporting URSP rule enforcement received from the UE within the \"UE STATE INDICATION\" message as described in the Annex D of 3GPP TS 24.501 [15], if available; and\nc)\tthe OSId(s) received from the UE within the \"UE STATE INDICATION\" message as described in the Annex D of 3GPP TS 24.501 [15], if available; and\n-\tthe subscribed Policy Control Triggers with the AMF, if available.\nNOTE 2:\tAt 5GS to EPS mobility with N26, the guard timer in the AMF (as specified in clause 4.11.1.2.1 and clause 4.11.1.3.2 of TS 23.502 [3]) ensures that the UE Policy Association remains until the PCF for the UE detects that a UE Policy Association establishment is received from a PCF for the PDU Session indicating 5GS to EPS mobility.\nWhen receiving the 5GS to EPS mobility indication, the PCF for the UE, shall determine, based on the UE Policy Sections and the OSId(s) recovered from the former UE Policy Association in 5GS, if available, the policy subscription data, if available, application data, if available, and local policy, as specified in clauses 4.2.2.2.2 and 4.2.2.2.3, whether any new UE Policy section(s) with URSP need to be installed and whether any existing UE Policy section(s) with URSP need to be updated or deleted.\nIn the scenarios above, initial attach and/or first PDN connection establishment in EPS and/or new PDN connection establishment in EPS when no other existing PDN connection indicates the support of URSP provisioning in EPS scenarios, and 5GS to EPS mobility scenario, the determined URSP is transferred to the UE as specified in 4.2.2.2.1.0 with the following differences:\n-\tthe messages of the UE policy delivery protocol defined in Annex D of 3GPP TS 24.501 [15] are transparently forwarded to the UE by a PCF for a PDU session;\n-\tthe (V-)(H-)PCF shall use the Npcf_UEPolicyControl_Create/Update response and the Npcf_UEPolicyControl_UpdateNotify request to send \"MANAGE UE POLICY COMMAND\" messages to the UE in a \"uePolicy\" attribute and use the Npcf_UEPolicyControl_Update service operation to receive \"MANAGE UE POLICY COMPLETE\" and \"MANAGE UE POLICY COMMAND REJECT\" messages from the UE via a PCF for a PDU session in a \"uePolDelResult\" attribute; and\n-\tin the 5GS to EPS mobility scenario, the (V-)PCF selects one of the UE Policy Association(s) with the (V-)PCF for the PDU session to send \"MANAGE UE POLICY COMMAND\" message (and receive the \"MANAGE UE POLICY COMPLETE\" and \"MANAGE UE POLICY COMMAND REJECT\" messages from the UE) and to provision the applicable policy control request triggers.",
      "chunk_type": "general",
      "cross_references": [
        "clause_4.2.2.1",
        "clause_4.2.2.2.3.2",
        "clause_4.11.1.2.1",
        "ts_23.502_clause_4.11.1.3.2",
        "ts_24.501",
        "ts_29.519",
        "ts_29.512",
        "ts_24.301",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.2.2.1.2",
      "section_id": "4.2.2.2.1.2",
      "section_title": "Provisioning of Vehicle-to-Everything Policy",
      "content": "When the UE registers to the network, if the AMF receives from the UE the PC5 capability for V2X communications in the Registration Request message, the UE is authorized to use V2X service based on the UE's subscription information and the \"V2X\" feature is supported, the AMF further reports to the PCF the PC5 capability for V2X communications within the \"pc5Capab\" attribute as defined in clause 4.2.2.1. The PCF may determine the V2XP over PC5 interface based on the received UE's PC5 capability for V2X, the Service specific parameter information retrieved from UE's Application Data in the UDR as defined in clause 6.2.15 of 3GPP TS 29.519 [17] and the operator's policy.\nAfter UE registration, if the UE supports V2X communication and it does not have valid V2XP, the UE includes the \"UE POLICY PROVISIONING REQUEST\" message as defined in 3GPP TS 24.587 [24] during the NAS transport procedure. The PCF may reject the request by sending back a \"UE POLICY PROVISIONING REJECT\" message as defined in clause 7.2.2 of 3GPP TS 24.587 [24] or provision the policy, as defined in clause 4.2.2.2.1, based on the service specific parameter information retrieved from UE's Application Data in the UDR as defined in clause 6.2.15 of 3GPP TS 29.519 [17] and the operator's policy.\nFor both scenarios mentioned above, in the roaming case, the H-PCF may include the V2XP within the \"uePolicy\" attribute in the policy association create or update response to the V-PCF and in the policy association update request initiated by the H-PCF.\nIn the roaming or non-roaming case, the (V-)PCF shall use the Namf_Communication_N1N2MessageTransfer service operation defined in clause 5.2.2.3.1 of 3GPP TS 29.518 [14] to send the V2XP to the UE.",
      "chunk_type": "general",
      "cross_references": [
        "clause_4.2.2.1",
        "ts_29.519_clause_6.2.15",
        "ts_24.587_clause_7.2.2",
        "clause_4.2.2.2.1",
        "ts_29.518_clause_5.2.2.3.1",
        "ts_29.519",
        "ts_24.587",
        "ts_29.518"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.2.2.1.3",
      "section_id": "4.2.2.2.1.3",
      "section_title": "Provisioning of ProSe Policy",
      "content": "When the UE registers to the network and the UE supports 5G ProSe, if the AMF receives from the UE the 5G ProSe Capability in the Registration Request message, the UE is authorized to use 5G ProSe service based on the UE's subscription information and the \"ProSe\" feature defined in clause 5.8 is supported, the AMF further reports to the PCF this 5G ProSe Capability of the UE within the \"proSeCapab\" attribute, as per the procedures defined in clause 4.2.2.1. When the UE disables/enables a 5G ProSe capability, the AMF further reports to the PCF the updated 5G ProSe capabilities of the UE within the \"proSeCapab\" attribute, as per the procedures defined in clause 4.2.3.1. The PCF may determine the support of 5G ProSe based on the received UE's 5G ProSe Capability, the service specific parameter information retrieved from the UE's Application Data in the UDR as defined in clause 6.2.15 of 3GPP TS 29.519 [17] and the operator's policy.\nAfter UE registration, if the UE does not have valid ProSeP, the UE includes a \"UE POLICY PROVISIONING REQUEST\" message defined in clause 7.2.1.1 of 3GPP TS 24.554 [28] during theNAS transport procedure. The PCF may either reject the request by sending back a \"UE POLICY PROVISIONING REJECT\" message defined in clause 7.2.2.1 of 3GPP TS 24.587 [24] or provision the policy, as defined in clause 4.2.2.2.1, based on the service specific parameter information retrieved from the UE's Application Data in the UDR as defined in clause 6.2.15 of 3GPP TS 29.519 [17] and the operator's policy.\nFor both scenarios mentioned above, in the roaming case, the H-PCF may include the ProSeP within the \"uePolicy\" attribute in the policy association create and update response to the V-PCF and in the policy association update request initiated by the H-PCF.\nIn the roaming or non-roaming case, the (V-)PCF shall use the Namf_Communication_N1N2MessageTransfer service operation defined in clause 5.2.2.3.1 of 3GPP TS 29.518 [14] to send the ProSeP to the UE.",
      "chunk_type": "general",
      "cross_references": [
        "clause_5.8",
        "clause_4.2.2.1",
        "clause_4.2.3.1",
        "ts_29.519_clause_6.2.15",
        "ts_24.554_clause_7.2.1.1",
        "ts_24.587_clause_7.2.2.1",
        "clause_4.2.2.2.1",
        "ts_29.518_clause_5.2.2.3.1",
        "ts_29.519",
        "ts_24.554",
        "ts_24.587",
        "ts_29.518"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.2.2.1.4",
      "section_id": "4.2.2.2.1.4",
      "section_title": "Provisioning of Aircraft-to-Everything Policy",
      "content": "When the UE registers to the network, if the AMF receives from the UE the capability for A2X communications in the Registration Request message, the UE is authorized to use A2X service based on the UE's subscription information and the \"A2X\" feature is supported, the AMF further reports to the PCF the UEcapability for A2X communications within the \"a2xCapab\" attribute as defined in clause 4.2.2.1. The PCF may determine the A2XP based on the received UE's capability for A2X, the Service specific parameter information retrieved from UE's Application Data in the UDR as defined in clause 6.2.15 of 3GPP TS 29.519 [17] and the operator's policy.\nAfter UE registration, if the UE supports A2X communication and it does not have valid A2XP, the UE includes the \"UE POLICY PROVISIONING REQUEST\" message as defined in 3GPP TS 24.577 [32] during the NAS transport procedure. The PCF may reject the request by sending back a \"UE POLICY PROVISIONING REJECT\" message as defined in 3GPP TS 24.577 [32] or provision the policy, as defined in clause 4.2.2.2.1, based on the service specific parameter information retrieved from UE's Application Data in the UDR as defined in clause 6.2.15 of 3GPP TS 29.519 [17] and the operator's policy.\nFor both scenarios mentioned above, in the roaming case, the H-PCF may include the A2XP within the \"uePolicy\" attribute in the policy association create or update response to the V-PCF and in the policy association update request initiated by the H-PCF.\nIn the roaming or non-roaming case, the (V-)PCF shall use the Namf_Communication_N1N2MessageTransfer service operation defined in clause 5.2.2.3.1 of 3GPP TS 29.518 [14] to send the A2XP to the UE.",
      "chunk_type": "general",
      "cross_references": [
        "clause_4.2.2.1",
        "ts_29.519_clause_6.2.15",
        "clause_4.2.2.2.1",
        "ts_29.518_clause_5.2.2.3.1",
        "ts_29.519",
        "ts_24.577",
        "ts_29.518"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.2.2.1.5",
      "section_id": "4.2.2.2.1.5",
      "section_title": "Provisioning of Ranging and Sidelink Positioning Policy",
      "content": "When the UE registers to the network and the UE supports Ranging/SL, if the AMF receives from the UE the Ranging/SL Capability in the Registration Request message, the UE is authorized to use Ranging/SL service based on the UE's subscription information and the \"Ranging_SL\" feature defined in clause 5.8 is supported, the AMF further reports to the PCF this Ranging/SL Capability of the UE within the \"rangSlCapab\" attribute, as per the procedures defined in clause 4.2.2.1. The PCF may determine the RSLPP over PC5 interface based on the received UE's PC5 capability for Ranging/SL, the service specific parameter information retrieved from UE's Application Data in the UDR as defined in clause 6.2.15 of 3GPP TS 29.519 [17] and the operator's policy.\nAfter UE registration, if the UE does not have valid RSLPP, the UE includes a \"UE POLICY PROVISIONING REQUEST\" message defined in 3GPP TS 24.514 [42] during the NAS transport procedure. The PCF may either reject the request by sending back a \"UE POLICY PROVISIONING REJECT\" message defined in 3GPP TS 24.514 [42] or provision the policy, as defined in clause 4.2.2.2.1, based on the service specific parameter information retrieved from the UE's Application Data in the UDR as defined in clause 6.2.15 of 3GPP TS 29.519 [17] and the operator's policy.\nFor both scenarios mentioned above, in the roaming case, the H-PCF may include the RSLPP within the \"uePolicy\" attribute in the policy association create and update response to the V-PCF and in the policy association update request initiated by the H-PCF.\nIn the roaming or non-roaming case, the (V-)PCF shall use the Namf_Communication_N1N2MessageTransfer service operation defined in clause 5.2.2.3.1 of 3GPP TS 29.518 [14] to send the RSLPP to the UE.",
      "chunk_type": "general",
      "cross_references": [
        "clause_5.8",
        "clause_4.2.2.1",
        "ts_29.519_clause_6.2.15",
        "clause_4.2.2.2.1",
        "ts_29.518_clause_5.2.2.3.1",
        "ts_29.519",
        "ts_24.514",
        "ts_29.518"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.2.2.2",
      "section_id": "4.2.2.2.2",
      "section_title": "UE Access Network discovery and selection policies (ANDSP)",
      "content": "UE Access Network discovery and selection policies are used by the UE to select non-3GPP accesses and to decide how to route traffic between the selected 3GPP and non 3GPP accesses.\nIn this release of the specification, the Access Network Discovery & Selection policy shall contain only rules that aid the UE in selecting a WLAN access network. Rules for selecting other types of non-3GPP access networks are not specified.\nThe WLAN access network selected by the UE with the use of Access Network Discovery & Selection policy may be used for direct traffic offload (i.e. sending traffic to the WLAN outside of a PDU Session) and for registering to 5GC using the non-3GPP access network selection information.\nThe Access Network Discovery & Selection policy shall contain one or more WLAN Selection Policy (WLANSP) rules and and may contain Non-3GPP access network (N3AN) node selection information and configuration information.\nN3AN node selection information and configuration information is used to control UE behaviour related to selection of N3IWF, or ePDG for accessing 5GC via untrusted non-3GPP access.\nTo support N3IWF selection based on the S-NSSAI(s) allowed for the UE, the ANDSP contains the S-NSSAIs supported by the N3IWF(s) and slice-specific configuration, as described in 3GPP TS 24.526 [16]. To support TNGF selection based on the S-NSSAI(s) allowed for the UE, the extended WLANSP information contains the association of the S-NNSAI(s) and SSID(s) supported by the TNGF(s) as described in TS 3GPP TS 24.526 [16]. The (H-)PCF takes into account the UE's subscribed S-NSSAIs and the V-PCF the UE's Configured NSSAI, in both cases together with the UE indication of support of slice-based N3IWF and/or TNGF selection, to provide the ANDSP/WLANSP with slice specific information.\nUE Access Network discovery and selection policies are encoded as defined in 3GPP TS 24.526 [16].\nUE Access Network discovery and selection policies may be provided by a V-PCF and/or a H-PCF.\nIf the UE has indicated in the \"UE STATE INDICATION\" message it does not support ANDSP, or, when the feature \"UECapabilityIndication\" is supported, the V-PCF receives from the H-PCF the \"andspInd\" attribute to false, i.e. the UE does not support non-3GPP access, the (V-)(H-)PCF shall not send any Access Network discovery and selection policies to the UE.",
      "chunk_type": "general",
      "cross_references": [
        "ts_24.526"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.2.2.3.1",
      "section_id": "4.2.2.2.3.1",
      "section_title": "General",
      "content": "The UE Route Selection Policy is used by the UE to determine how to route outgoing traffic.\nThe UE Route Selection Policy shall consist of one or several URSP rules. The PCF determines whether URSP rule(s) have to be provisioned based on input parameters received from the NF service consumer, the received list of UPSIs from the UE, if available, the UE Policy Sections stored in the UDR, if available, other received UE parameters, if available, the policy subscription and application data retrieved from UDR, if available, analytics information received from NWDAF, if available, and local policies.\nURSP rules are encoded as defined in 3GPP TS 24.526 [16].\nUE Route Selection Policy may only be provided by a H-PCF or the PCF of the SNPN, but shall not be provided by a V-PCF. However, UE Route Selection Policy determined and provided by the H-PCF may be retrieved by a V-PCF from the H-PCF and forwarded to a UE.\nThe (H-)PCF shall use the UE policy subscription data stored in UDR as specified in 3GPP TS 29.519 [17] to ensure the values included in the Route Selection Descriptor of the generated URSP rules are always supported by subscription.\nFor the received list of internal group Ids, the (H-)PCF retrieves the corresponding 5G VN group configuration data stored from the UDR as specified in 3GPP TS 29.504[27] and 3GPP TS 29.505 [26], if available. For each available 5G VN group, the (H-)PCF may use the retrieved 5G VN group configuration values to encode the values for the Route Selection Descriptor and the values for the Traffic Descriptor of the generated URSP rules.\nIf the \"EnhancedBackgroundDataTransfer\" feature is supported, the (H-)PCF may retrieve the Background Data Transfer Reference ID(s) by retrieving the UE's Application Data from the UDR as defined in clause 6.2.9 of 3GPP TS 29.519 [17]. In this case, the PCF shall retrieve the transfer policy corresponding to the Background Data Transfer Reference ID(s) as defined in clause 5.2.8 of 3GPP TS 29.519 [17] and then may create the URSP rules including the Route Selection Validation Criteria for the UE as defined in clause 6.6.2.1 of 3GPP TS 23.503 [4]. If the (H-)PCF provisions the URSP rules including the Route Selection Validation Criteria for the UE, it shall use the associated S-NSSAI and DNN to store in the UDR the Background Data Transfer Reference ID(s) in the UE's session management policy data as specified in 3GPP TS 29.519 [17].\nIf the (H-)PCF retrieves the BDT policy and corresponding related information (e.g. network area information, the volume of data to be transferred per UE, etc.) within the BdtData data type, and the \"bdtpStatus\" attribute within the BdtData data type is set to value \"INVALID\", the (H-)PCF shall not provision the URSP rules based on the invalid BDT policy. When the BDT policy re-negotiation is completed the PCF may:\n-\tif the new BDT Policy is determined, create or update the applicable URSP rules based on the new BDT policy; or\n-\tif the invalid BDT policy is removed, remove applicable URSP rules.\nIf the \"AfGuideURSP\" feature is supported by the Nudr_DataRepository service, the (H-)PCF may receive Service specific parameter information that contains data for AF guidance information on the URSP determination as defined in clause 6.4.2.15 of 3GPP TS 29.519 [17]. In this case, the (H-)PCF may also use this AF guidance information as input to determine the URSP that will be provisioned to the UE. If the received AF guidance information is not consistent with the UE subscription data, or the local operator policy does not allow the specific S-NSSAI and DNN provided by the AF guidance information, the corresponding AF guidance information shall not be used to determine the URSP rules. The PCF may also determine not to use AF guidance based on the analytics info received from the NWDAF.\nWhen the (H-)PCF decides to provide URSP rules based on the AF guidance information, it shall derive the information as follows:\n-\tApplication traffic descriptor within the \"trafficDesc\" attribute is used to set the Traffic Descriptor of URSP rule (defined in Figure 5.2.2 of 3GPP TS 24.526 [16]).\n-\tEach route selection parameter set within the \"routeSelParamSets\" attribute of the UrspRuleRequest data type is used to determine a Route selection descriptor (defined in Figure 5.2.2 of 3GPP TS 24.526 [16]) as follows:\n-\tDNN (within the \"dnn\" attribute of the RouteSelectionParameterSet data type) and S-NSSAI (within the \"snssai\" attribute of the RouteSelectionParameterSet data type) from the route selection parameter set are used to set the Route selection descriptor contents (defined in Figure 5.2.4 of 3GPP TS 24.526 [16]);\n-\tRoute selection precedence (within the \"precedence\" attribute of the RouteSelectionParameterSet data type) is used to set the Precedence value of route selection descriptor (defined in Figure 5.2.4 of 3GPP TS 24.526 [16]); and\n-\tthe spatial validity condition (within the \"spatialValidityTais\" attribute of the RouteSelectionParameterSet data type) is used to set the Location criteria of the route selection descriptor (defined in Figure 5.2.5 of 3GPP TS 24.526 [16]).\n-\tThe PCF may use the requested PDU Session type provided within the \"pduSessType\" attribute of the RouteSelectionParameterSet data structure to derive the PDU Session type of the route selection descriptors of the URSP rule.\n-\tThe precedence for the generated URSP rule is determined by the (H-)PCF. The (H-)PCF may use the \"relatPrecedence\" attribute within the \"UrspRuleRequest\" data type to derive the relative precedence of the URSP rule for a request coming from the same AF.\nURSP rules based on AF guidance should not be set as the URSP rules with the \"match all\" application traffic descriptor.\nThe (H-)PCF may obtain the information about the UE's OS from the UE as described in the Annex D of 3GPP TS 24.501 [15] or it may derive the information about the UE's OS from the PEI provided by the NF service consumer (e.g. AMF).\nIf the (H-)PCF is required to provide UE policies to the UE that includes application descriptors then:\na)\tIf the (H-)PCF has been provided with one UE's OS Id by the UE, the (H-)PCF shall use either the traffic descriptor \"OS App Id type\" or the traffic descriptor \"OS Id + OS App Id type\" as defined in 3GPP TS 24.526 [16].\nNOTE 1:\tThe (H-)PCF uses the traffic descriptor \"OS Id + OS App Id type\" when the (H-)PCF does not take the received UE's OS Id into account.\nb)\tIf the (H-)PCF has been provided with more than one UE's OS Id by the UE,\n-\tthe (H-)PCF shall use the traffic descriptor \"OS Id + OS App Id type\" for the UE's OS Id provided by the UE as defined in 3GPP TS 24.526 [16]; and\n-\tthe (H-)PCF shall not use the traffic descriptor \"OS App Id type\" as defined in 3GPP TS 24.526 [16].\nc)\tIf the (H-)PCF has not been provided with the UE's OS Id by the UE,\n-\tthe (H-)PCF shall use the traffic descriptor \"OS Id + OS App Id type\" as defined in 3GPP TS 24.526 [16]; and\n-\tthe (H-)PCF shall not use the traffic descriptor \"OS App Id type\" as defined in 3GPP TS 24.526 [16].\nd)\tIf the (H-)PCF has been provided with the UE's OS Id by the UE and the (H-)PCF has derived the UE's OS Id from the PEI and if there is an inconsistency between the OS Id provided by the UE and the OS Id derived from the PEI, the (H-)PCF shall use the OS Id provided by the UE for providing UE policies to the UE that include application descriptors.\nURSP rules may be used to support end to end redundant user plane paths by establishing two redundant PDU sessions. PCF configuration based on e.g. deployment, terminal implementation or policies per group of UE(s) may be used by the PCF to determine whether the URSP Rules shall include PDU Session Pair ID and RSN to indicate that they refer to redundant PDU sessions or whether the UE will determine these values instead.\nNOTE 2:\tWhen the \"EnSatBackhaulCategoryChg\" feature defined in clause 5.8 is supported, the received satellite or non-satellite backhaul category can be used as input to provision or update URSP rules to enable appropriate PDU session capabilities. E.g., when satellite backhaul category is indicated by the AMF, the (H-)PCF can take it into account to determine, based on operator policies, an appropriate Route Selection Descriptor for the URSP rule and the services deployed on the satellite, (e.g., the provisioning or update of URSP rules to indicate the specific DNN for services deployed on-board satellites).\nIf the AF provided the (H-)PCF with Personal IoT Network identifier (PIN ID) associated with a DNN and S-NSSAI, and the received DNN and S-NSSAI corresponds to a subscribed DNN and S-NSSAI combination in the UE Policy Context as described in 3GPP TS 29.519 [17], the (H-)PCF shall include the PIN ID within the traffic descriptor of the URSP Rule attribute as defined in 3GPP TS 24.526 [16] for UE to choose an appropriate PIN to establish the PDU session.\nNOTE 3:\tThe PCF can provide two distinct URSP rules to support end to end redundant user plane paths using Dual Connectivity for the duplicated traffic of an application. Duplicated traffic from the UE application is differentiated by two distinct traffic descriptors (different DNNs, and for IP traffic, different IP descriptors or non-IP descriptors), each one defined in a different URSP rule, so that the two redundant PDU sessions are matched to the specific Route Selection Descriptors of distinct URSP rules. These Route Selection Descriptors of distinct URSP rules may include corresponding RSNs and PDU Session Pair IDs as defined in 3GPP TS 24.526 [16]. The Route Selection Descriptors share the same PDU Session Pair ID, if included, to denote the two traffic are redundant with each other.\nNOTE 4:\tFor backward compatibility, PCF can provide a Route Selection Descriptor with PDU Session Pair ID and RSN and a Route Selection Descriptor without PDU Session Pair ID and RSN in the URSP rule. In this case, the Route Selection Descriptor with PDU Session Pair ID and RSN has a lower precedence value (i.e. higher prioritised) than the one without PDU Session Pair ID. It allows that if a non-supporting UE receives the Route Selection Descriptor containing PDU Session Pair ID, it ignores this Route Selection Descriptor.\nNOTE 5:\tPIN ID and other traffic descriptor components are mutually exclusive, i.e., if PIN ID is included in a URSP rule, then no other traffic descriptor components are supported in the same URSP rule.\nThe PCF may adjust the URSP rules when needed, based on awareness of URSP rule enforcement for an application by using the following mechanisms:\nA.\tAwareness of URSP rule enforcement with UE assistance:\n-\tBased on operator policies, and if the UE included in the UE STATE INDICATION message the indication of UE's support of reporting URSP rule enforcement as specified in the Annex D of 3GPP TS 24.501 [15], the PCF may indicate in a URSP rule sent to the UE to send reporting of URSP rule enforcement, as specified in 3GPP TS 24.526 [16]. For this URSP rule, the UE reports URSP rule enforcement information to the SMF if Connection Capabilities are included in the traffic descriptor, as specified in the Annex D of 3GPP TS 24.501 [15] and in 3GPP TS 24.526 [16]. When several URSP rules for multiple applications associated to a PDU session are enforced, several URSP rule enforcement reports are included within the URSP rule enforcement information. The SMF reports URSP rule enforcement information received from the UE and its PDU session parameters (e.g. requested DNN, SSC mode, S-NSSAI of the HPLMN, PDU Session Type) to the PCF for the PDU session as specifed in 3GPP TS 29.512 [31].\n-\tFor LBO roaming session case, if the feature \"URSPEnforcement\" is supported, the H-PCF for the UE may send the \"URSP_ENF_INFO\" Policy Control Request Trigger to the V-PCF for the UE during the UE Policy Association Establishment or Modification procedures. When the V-PCF receives URSP rule enforcement information and the PDU session parameters as described above, the V-PCF shall invoke the UE Policy Association Update Modification procedure as described in clause 4.2.3.1.\n-\tIf the (V-)(H-)PCF for a UE and the PCF for a PDU session are different, then the (V-)(H-)PCF for a UE may subscribe to the PCF for a PDU session to receive the reporting of URSP rule enforcement information as defined in 3GPP TS 29.514 [37] and the (V-)(H-)PCF for a UE may obtain UE reporting of URSP rule enforcement information and the PDU session parameters from the PCF for a PDU session as defined in 3GPP TS 29.514 [37], where the V-PCF for a UE interacts with the PCF for a PDU session in the VPLMN and the H-PCF for a UE interacts with the PCF for a PDU session in the HPLMN. The (V-)(H-)PCF for the UE discovers the PCF for the PDU session via subscription with the BSF as specified in 3GPP TS 29.521 [22] or, when the feature \"URSPEnforcement\" is supported, via the request to the AMF to be notified about whether the PCF for the PDU session is available as specified in clauses 4.2.2.1, 4.2.3.1 and 4.2.4.2.\n-\tBased on the received URSP rule enforcement information and the PDU session parameters, the (H-)PCF may adjust the URSP rules e.g. when the (H-)PCF determines that the UE does not have up-to-date URSP rules. To identify the enforced URSP rule, the PCF may compare the reported Connection Capabilities with the Connection Capabilities of the URSP rules with the indication of \"reporting of URSP rule enforcement\" and, to identify the Route Selection Descriptor of the enforced URSP rule, the PCF may compare the received PDU session parameters with the parameters in the Route Selection Descriptor components. If there are more than one URSP rule(s) that match the reported Connection Capabilities, the PCF may identify the enforced URSP rule(s) based on implementation specific means. If there are inconsistencies between the received PDU session parameters and the parameters in the Route Selection Descriptor components of the enforced URSP rule, the PCF may perform appropriate actions (e.g. if the S-NSSAI does not match, the PCF may initiate slice replacement procedure).\n-\tIn this release of the specification, the received URSP rule enforcement information shall contain for each URSP rule enforcement report, the one or more Connection Capabilities contained in the traffic descriptor of the concerned URSP rule. If the URSP rule enforcement report does not include connection capabilities, based on local policies, the (H-)PCF for the UE may ignore the received URSP rule enforcement report.\nNOTE 6:\tA UE supporting the report of URSP rule enforcement reports URSP rule enforcement when the UE (based on the application information matching the traffic descriptor of the URSP rule) associates a newly detected application to a new PDU session or to an existing PDU session and when based on URSP re-evaluation the UE changes the association of an existing application to a PDU session. The UE does not report URSP rule enforcement while the UE is in EPS, delaying the report to when the UE moves from EPS to 5GS.\nB.\tAwareness of URSP rule enforcement without UE assistance: The PCF may subscribe to or request the PDU Session Traffic analytics statistics using the Nnwdaf_EventsSubscription_Subscribe service operation or Nnwdaf_AnalyticsInfo_Request service operation including the \"PDU_SESSION_TRAFFIC\" event for traffic monitoring of known traffic according to provisioned PDU Session Traffic requirements of corresponding URSP rule(s) at the NWDAF as defined in 3GPP TS 29.520 [38]. If the PCF is notified or responded with traffic that does not match Traffic Descriptor provided that is the traffic which is not expected according to a URSP rule, the PCF may adjust the URSP rules when unexpected application traffic is detected.\nNOTE 7:\tThe PCF can combine the UE reporting of URSP rule enforcement with the analytics information together to adjust the URSP rules.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.519_clause_6.2.9",
        "ts_29.519_clause_5.2.8",
        "ts_23.503_clause_6.6.2.1",
        "ts_29.519_clause_6.4.2.15",
        "clause_5.8",
        "clause_4.2.3.1",
        "ts_24.526_figure_5.2.2",
        "ts_24.526_figure_5.2.4",
        "ts_24.526_figure_5.2.5",
        "ts_24.526",
        "ts_29.519",
        "ts_29.504",
        "ts_29.505",
        "ts_23.503",
        "ts_24.501",
        "ts_29.512",
        "ts_29.514",
        "ts_29.521",
        "ts_29.520"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.2.2.3.2",
      "section_id": "4.2.2.2.3.2",
      "section_title": "Provisioning of VPLMN-specific URSP Rules",
      "content": "When the UE supports VPLMN-specific URSP rules, the H-PCF may provision VPLMN-specific URSP rules to the UE as described in clause 4.2.2.2.1.1 for the purpose to route traffic to the VPLMN or to route traffic to the Home PLMN based on the VPLMN. The H-PCF provides VPLMN specific URSP rules that contains HPLMN values; but the RSD(s) may contain values based on agreements with the VPLMN or parameters received from the VPLMN (e.g., Location Criteria).\nNOTE 1:\t For network slice information, the VPLMN-specific URSP rule contains HPLMN NSSAI values. For DNN information, the VPLMN-specific URSP rule contains DNN values according to the subscribed DNNs for which LBO roaming is allowed, as specified in 3GPP TS 29.519 [17].\nThe (H-)PCF may use AF guidance on URSP determination as input for VPLMN-specific URSP rule determination as specified in clause 4.2.2.2.3.1. The (H-)PCF retrieves from the UDR at the HPLMN the AF guidance for the VPLMN-specific URSP rules for a UE, group of UEs or any UE as specified in 3GPP TS 29.519 [17]. The H-PCF may provide the VPLMN-specific URSP rules to the UE before the UE roams into the VPLMN.\nIn case of roaming and if the feature \"VPLMNSpecificURSP\" is supported, the H-PCF may receive from the V-PCF the AF-guidance on VPLMN specific URSP rules within the \"vpsUePolGuidance\" attribute as specified in clauses 4.2.2.1, and 4.2.3.1. The V-PCF receives from the UDR at the VPLMN the V-AF guidance for the VPLMN specific URSP rules for all roaming UEs of a HPLMN as specified in 3GPP TS 29.519 [17]. The V-PCF determines based on LBO information received from the AMF whether the received V-AF-guidance on VPLMN specific URSP rules may apply for this UE, and if it is so, the V-PCF forwards the related information to the H-PCF within the \"vpsUePolGuidance\" attribute as specified in clause 4.2.2.1.\nFor a UE for which AF guidance on VPLMN specific URSP rules is forwarded to the H-PCF within the \"vpsUePolGuidance\" attribute, the V-PCF:\n-\tmaps the S-NSSAI of the VPLMN (indicated by the AF and retrieved from the UDR, if available) into the S-NSSAI of the HPLMN. The V-PCF uses the Configured NSSAI for the Serving PLMN and mapping of each S-NSSAI of the Configured NSSAI to corresponding HPLMN S-NSSAI values provided by the AMF within the \"confSnssais\" attribute as specified in clauses 4.2.2.1, and 4.2.3.1. The V-PCF shall subscribe to the \"CONF_NSSAI_CH\" policy control request trigger. Then, for each URSP rule included within the \"urspGuidance\" attribute, the V-PCF sends the mapped application guidance on URSP determination including the HPLMN S-NSSAI values to the H-PCF within the \"snssai\" attribute included within the corresponding \"routeSelParamSets\" entry; and\n-\tindicates to the H-PCF to notify about the result of the delivery of UE policies (if it was requested by the AF to the VPLMN) using the \"deliveryEvents\" attribute as specified in clauses 4.2.2.1, and 4.2.3.1. The H-PCF notifies about the result of the delivery of UE policies using the \"delivReport\" attribute as specified in clauses 4.2.4.2 and 4.2.4.7.\nThe H-PCF generates new or updated VPLMN-specific URSP rules using the received application guidance on the URSP rule determination, where the VPLMN ID(s) included in the (H-)AF and/or V-PCF request is used to indicate to the UE that this URSP rule applies when the UE is registered in the VPLMN ID. The H-PCF provides URSP rules for the received AF-guidance parameter values that are within the subscribed values defined in the UE Policy Data Set, as specified in 3GPP TS 29.519 [17]. The VPLMN ID(s) received in the (H-)(V-)AF request, as specified in 3GPP TS 29.522[39], and/or received in the V-PCF request, and provided by the H-PCF within the VPLMN-specific URSP rule, as specified in 3GPP TS 24.501 [15], may contain one or more specific values for the MCC and MNC and/or may indicate any MNC for a MCC.\nThe H-PCF, based on operator policies, may set the precedence in the URSP Rules to ensure that the UE checks the VPLMN ID(s) that contain one or more specific values for the MCC and MNC before any URSP Rule related the VPLMN ID(s) that contain non-specific values for MCC and/or MNC. The H-PCF should also set the precedence in the URSP rules to ensure that the UE checks any VPLMN-specific URSP rule related to the serving PLMN before any non-VPLMN specific URSP rules.\nIf the UE does not indicate the support for VPLMN specific URSP rules, the H-PCF generates new or updated URSP rules using the VPLMN ID related information retrieved from the UDR and/or received from the V-PCF, upon receiving a notification that the UE has registered in the VPLMN.\nIf the UE does not indicate the support for VPLMN specific URSP rules, the H-PCF generates new or updated URSP rules using the VPLMN ID related information retrieved from the UDR and/or received from the V-PCF.\nNOTE 2:\tTo avoid the UE stores obsolete information about VPLMN-specific URSP rules, the H-PCF could delete those determined based on V-AF guidance and once the UE has left the VPLMN.",
      "chunk_type": "general",
      "cross_references": [
        "clause_4.2.2.2.1.1",
        "clause_4.2.2.2.3.1",
        "clause_4.2.2.1",
        "ts_29.519",
        "ts_29.522",
        "ts_24.501"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.2.2.4",
      "section_id": "4.2.2.2.4",
      "section_title": "Vehicle-to-Everything Policy (V2XP)",
      "content": "V2XP includes the V2XP over PC5 and over Uu interfaces.\nThe V2XP over PC5 are defined in clause 5.2.3 of 3GPP TS 24.587 [24] and the corresponding encoding is defined in clause 5.3.1 of 3GPP TS 24.588 [25].\nThe V2XP over Uu are defined in clause 5.2.4 of 3GPP TS 24.587 [24] and the corresponding encoding is defined in clause 5.3.2 of 3GPP TS 24.588 [25].",
      "chunk_type": "general",
      "cross_references": [
        "ts_24.587_clause_5.2.3",
        "ts_24.588_clause_5.3.1",
        "ts_24.588_clause_5.2.4",
        "ts_24.588_clause_5.3.2",
        "ts_24.587_clause_5.2.4",
        "ts_24.587",
        "ts_24.588"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.2.2.5",
      "section_id": "4.2.2.2.5",
      "section_title": "Proximity based Services Policy (ProSeP)",
      "content": "The ProSeP includes:\n-\tProSeP for 5G ProSe direct discovery defined in clause 5.3 of 3GPP TS 24.555 [29];\n-\tProSeP for 5G ProSe direct communications defined in clause 5.4 of 3GPP TS 24.555 [29];\n-\tProSeP for 5G ProSe UE-to-network relay, including:\n-\tProSeP for 5G ProSe UE-to-network relay UE defined in clause 5.5 of 3GPP TS 24.555 [29]; and/or\n-\tProSeP for 5G ProSe Remote UE defined in clause 5.6 of 3GPP TS 24.555 [29];\n-\tProSeP for 5G ProSe usage reporting configuration and rules defined in clause 5.7 of 3GPP TS 24.555 [29] ;\nand/or\n-\tProSeP for 5G ProSe UE-to-UE relay, including:\n-\tProSeP for 5G ProSe UE-to-UE relay UE defined in clause 5.8 of 3GPP TS 24.555 [29]; and/or\n-\tProSeP for 5G ProSe End UE defined in clause 5.9 of 3GPP TS 24.555 [29].",
      "chunk_type": "general",
      "cross_references": [
        "ts_24.555_clause_5.3",
        "ts_24.555_clause_5.4",
        "ts_24.555_clause_5.5",
        "ts_24.555_clause_5.6",
        "ts_24.555_clause_5.7",
        "ts_24.555_clause_5.8",
        "ts_24.555_clause_5.9",
        "ts_24.555"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.2.2.6",
      "section_id": "4.2.2.2.6",
      "section_title": "Aircraft-to-Everything Policy (A2XP)",
      "content": "A2XP includes the A2X Policy over PC5 interface or A2X Policy over Uu reference point or both.\nThe A2XP over PC5 or A2XP over Uu reference point or both are defined in 3GPP TS 24.577 [32] and the corresponding encoding is defined in 3GPP TS 24.578 [33].",
      "chunk_type": "general",
      "cross_references": [
        "ts_24.577",
        "ts_24.578"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.2.2.7",
      "section_id": "4.2.2.2.7",
      "section_title": "Ranging and Sidelink Positioning Policy (RSLPP)",
      "content": "RSLPP includes the Ranging/SL Policy over the PC5 interface. The RSLPP over the PC5 interface is defined in clause 12 of 3GPP TS 24.514 [42].",
      "chunk_type": "general",
      "cross_references": [
        "ts_24.514_clause_12",
        "ts_24.514"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.2.3",
      "section_id": "4.2.2.3",
      "section_title": "V2X N2 PC5 Policy",
      "content": "The V2X N2 PC5 policy consists of V2X PC5 QoS parameters used by the NG-RAN.\nWhen the (H-)PCF derives the UE policy for V2X communications over PC5 reference point as defined in clause 4.2.2.2.4, the (H-)PCF shall derive the corresponding V2X PC5 QoS parameters used by the NG-RAN.\nIn the roaming case, the H-PCF:\n-\tif PC5 UE capabilities and UE Policy Provisioning request messages are received, and V2X policies are derived, shall include the V2X N2 PC5 Policy within the \"n2Pc5Pol\" attribute in the policy association creation response  towards the V-PCF; or\n-\tshall include the V2X N2 PC5 Policy within the \"n2Pc5Pol\" attribute, if changes apply, in the policy association update response towards the V-PCF; or\n-\tmay include the V2X N2 PC5 Policy within the \"n2Pc5Pol\" attribute in the the policy association update request initiated by the H-PCF.\nIn the roaming or non-roaming case, the (V-)PCF shall use the Namf_Communication_N1N2MessageTransfer service operation defined in clause 5.2.2.3.1 of 3GPP TS 29.518 [14] to send V2X N2 PC5 policy to the NG-RAN.",
      "chunk_type": "general",
      "cross_references": [
        "clause_4.2.2.2.4",
        "ts_29.518_clause_5.2.2.3.1",
        "ts_29.518"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.2.4",
      "section_id": "4.2.2.4",
      "section_title": "5G ProSe N2 PC5 Policy",
      "content": "The 5G ProSe N2 PC5 policy consists of 5G ProSe PC5 QoS parameters used by the NG-RAN.\nWhen the (H-)PCF derives the UE policy for 5G ProSe as defined in clause 4.2.2.2.5, the (H-)PCF shall derive the corresponding 5G ProSe N2 PC5 QoS parameters used by the NG-RAN.\nIn the roaming case, the H-PCF:\n-\tif the 5G ProSe capabilities and the UE Policy Provisioning request message are received, and 5G ProSe policies are derived, shall include the N2 PC5 Policy for 5G ProSe within the \"n2Pc5ProSePol\" attribute in the of policy association creation response towards the V-PCF; or\n-\tshall include the N2 PC5 Policy for 5G ProSe within the \"n2Pc5ProSePol\" attribute, if changes apply, in the response of the policy association update response towards the V-PCF; or\n-\tmay include the N2 PC5 Policy for 5G ProSe within the \"n2Pc5ProSePol\" attribute in the policy association update request initiated by the H-PCF.\nIn the roaming or non-roaming case, the (V-)PCF shall use the Namf_Communication_N1N2MessageTransfer service operation defined in clause 5.2.2.3.1 of 3GPP TS 29.518 [14] to send 5G ProSe N2 PC5 policy to the NG-RAN.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_4.2.2.2.5",
        "ts_29.518_clause_5.2.2.3.1",
        "ts_29.518"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.2.5",
      "section_id": "4.2.2.5",
      "section_title": "A2X N2 PC5 Policy",
      "content": "The A2X N2 PC5 policy consists of A2X PC5 QoS parameters used by the NG-RAN.\nWhen the (H-)PCF derives the UE policy for A2X communications over PC5 reference point as defined in clause 4.2.2.2.6, the (H-)PCF shall derive the corresponding A2X PC5 QoS parameters used by the NG-RAN.\nIn the roaming case, the H-PCF:\n-\tif PC5 UE capabilities and UE Policy Provisioning request messages are received, and A2X policies are derived, shall include the A2X N2 PC5 Policy within the \"n2Pc5PolA2x\" attribute in the policy association creation response towards the V-PCF; or\n-\tshall include the A2X N2 PC5 Policy within the \"n2Pc5PolA2x\" attribute, if changes apply, in the policy association update response towards the V-PCF; or\n-\tmay include the A2X N2 PC5 Policy within the \"n2Pc5PolA2x\" attribute in the the policy association update request initiated by the H-PCF.\nIn the roaming or non-roaming case, the (V-)PCF shall use the Namf_Communication_N1N2MessageTransfer service operation defined in clause 5.2.2.3.1 of 3GPP TS 29.518 [14] to send A2X N2 PC5 policy to the NG-RAN.",
      "chunk_type": "general",
      "cross_references": [
        "clause_4.2.2.2.6",
        "ts_29.518_clause_5.2.2.3.1",
        "ts_29.518"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.2.6",
      "section_id": "4.2.2.6",
      "section_title": "Ranging/SL N2 PC5 Policy",
      "content": "The Ranging/SL N2 PC5 policy consists of Ranging/SL PC5 QoS parameters used by the NG-RAN.\nWhen the (H-)PCF derives the UE policy for Ranging/SL over the PC5 reference point as defined in clause 4.2.2.2.7, the (H-)PCF shall derive the corresponding Ranging/SL PC5 QoS parameters used by the NG-RAN.\nIn the roaming case, the H-PCF:\n-\tif the PC5 UE capabilities and UE Policy Provisioning request messages are received, and Ranging/SL policies are derived, shall include the Ranging/SL N2 PC5 Policy within the \"n2Pc5RsppPol\" attribute in the policy association creation response towards the V-PCF;\n-\tshall include the Ranging/SL N2 PC5 Policy within the \"n2Pc5RsppPol\" attribute, if changes apply, in the policy association update response towards the V-PCF; or\n-\tmay include the Ranging/SL N2 PC5 Policy within the \"n2Pc5RsppPol\" attribute in the the policy association update request initiated by the H-PCF.\nIn the roaming or non-roaming case, the (V-)PCF shall use the Namf_Communication_N1N2MessageTransfer service operation defined in clause 5.2.2.3.1 of 3GPP TS 29.518 [14] to send Ranging/SL N2 PC5 policy to the NG-RAN.",
      "chunk_type": "general",
      "cross_references": [
        "clause_4.2.2.2.7",
        "ts_29.518_clause_5.2.2.3.1",
        "ts_29.518"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.3.1",
      "section_id": "4.2.3.1",
      "section_title": "General",
      "content": "The procedure in the present clause is applicable when the NF service consumer modifies an existing UE policy association (including the case where the AMF is relocated and the new AMF selects to maintain the policy association with the old PCF and to update the Notification URI).\nFigure 4.2.3.1-1 illustrates the update of a policy association.\nFigure 4.2.3.1-1: Update of a UE policy association\nNOTE 1:\tFor the roaming case, the PCF represents the V-PCF if the NF service consumer is an AMF and the PCF represents the H-PCF if the NF service consumer is a V-PCF.\nThe AMF, as NF service consumer, invokes this procedure when a subscribed policy control request trigger (see clause 4.2.3.2) occurs. When a policy control request trigger that requires the subscription as defined in table 5.6.3.3-1 (e.g. LOC_CH trigger) occurs, the NF service consumer (AMF) shall only invoke this procedure if the PCF has explicitly subscribed to that event trigger. When a policy control request trigger that does not require the subscription as defined in table 5.6.3.3-1 (e.g. GROUP_ID_LIST_CHG trigger) occurs, the NF service consumer (AMF) shall always invoke the procedure.\nNOTE 2:\tThe AMF uses the Namf_Communication_N1MessageNotify service operation specified in 3GPP TS 29.518 [14] to send to the V-PCF a \"MANAGE UE POLICY COMPLETE\" message or a \"MANAGE UE POLICY COMMAND REJECT\" message, as defined in Annex D.5 of 3GPP TS 24.501 [15] or a \"UE POLICY PROVISIONING REQUEST\" message as defined in clause 7.2.1.1 of 3GPP TS 24.587 [24].\nIf an AMF as NF service consumer knows by implementation specific means that the UE context has been transferred to an AMF with another GUAMI within the AMF set, it may also invoke this procedure to update the Notification URI.\nNOTE 3:\tEither the old or the new AMF can invoke this procedure.\nDuring the AMF relocation, if the new AMF received the resource URI of the individual UE Policy from the old AMF and selects the old PCF, the new AMF shall also invoke this procedure to update the Notification URI. The new AMF may also update the alternate or backup IP addresses, and if service discovery via NRF applies, the AMF Id. If the feature \"FeatureRenegotiation\" is supported, the new AMF may perform feature renegotiation, as described in clause 4.2.3.4.\nNOTE 4:\tDuring inter-AMF mobility, the N1N2 Individual Subscription context is transferred from the source AMF to the target AMF as specified in 3GPP TS 29.518 [14]. When the target AMF determines to reuse the UE Policy Association indicated by the source AMF, the PCF can keep the N1N2 Individual Subscription context and, for subsequent interactions, replace in the request URI the {apiRoot} of the N1N2 Individual Subscription resource with the one of the target AMF.\nThe V-PCF, as NF service consumer, invokes this procedure when a policy control request trigger (see clause 4.2.3.2) occurs. When a policy control request trigger that does not require the subscription as defined in table 5.6.3.3-1 (e.g. UE_POLICY trigger) occurs, the V-PCF shall always invoke the procedure. When a policy control request trigger that requires the subscription as defined in table 5.6.3.3-1 (e.g. LOC_CH trigger) occurs, the V-PCF shall only invoke this procedure if the H‑PCF has subscribed to that event trigger.\nTo request policies (e.g. policy control request trigger(s) is/are met) from the PCF, to update the Notification URI, to renegotiate features, to update the trace control configuration or to request the termination of trace, the NF Service Consumer shall request the update of the associated UE Policy Association by providing the relevant parameters about the UE context in an HTTP POST request with \"{apiRoot}/npcf-ue-policy-control/v1/policies/{polAssoId}/update\" as Resource URI and the PolicyAssociationUpdateRequest data structure as request body that shall include:\n-\tat least one of the following:\n1.\ta new Notification URI encoded in the \"notificationUri\" attribute;\n2.\tobserved Policy Control Request Trigger(s) (see clause 4.2.3.2) encoded as \"triggers\" attribute;\n3.\tif a UE location change occurred, the UE location encoded as \"userLoc\" attribute;\n4.\tif a \"MANAGE UE POLICY COMPLETE\" message or a \"MANAGE UE POLICY COMMAND REJECT\" message of the UE policy delivery protocol defined in Annex D of 3GPP TS 24.501 [15] has been received by the V-PCF as NF service consumer, and at least parts of the contents relate to UPSIs of the HPLMN, the parts of that message that relate to UPSIs of the HPLMN encoded as \"uePolDelResult\" attribute;\n5.\tif the Policy Control Request Trigger \"Change of UE presence in PRA\" is provided, the current presence status of the UE for the presence reporting areas for which reporting was requested, if not previously provided, or the presence reporting areas for which reporting was requested and the status has changed encoded as \"praStatuses\" attribute;\nNOTE 5:\t\tIf the PCF included the identifer of a Core Network predefined Presence Reporting Area Set within the \"praId\" attribute during the subscription to changes of UE presence in PRA, the AMF only provides the presence reporting area information corresponding to the concerned individual Presence Reporting Area Identifier(s) within the Set. The \"praId\" attribute within each returned \"PresenceInfo\" data type hence includes the identifier of the concerned individual Presence Reporting Area.\n6.\tif the NF service consumer is an AMF, for AMF relocation scenarios, if available, alternate or backup IPv4 Address(es) where to send Notifications encoded as \"altNotifIpv4Addrs\" attribute;\n7.\tif the NF service consumer is an AMF, for AMF relocation scenarios, if available, alternate or backup IPv6 Address(es) where to send Notifications encoded as \"altNotifIpv6Addrs\" attribute;\n8.\t\tif the NF service consumer is an AMF, for AMF relocation scenarios, if available, alternate or backup FQDN(s) where to send Notifications encoded as \"altNotifFqdns\" attribute;\n9.  for AMF relocation scenarios, the GUAMI encoded as \"guami\" attribute;\nNOTE 6:\tAn alternate NF service consumer than the one that requested the generation of the subscription resource can send the request. For instance, an AMF as service consumer can change;\n10.\tif the NF service consumer is an AMF, for AMF relocation scenarios, the new serving AMF Id encoded in the \"servingNfId\" attribute;\nNOTE 7:\tIf the PCF received the \"servingNfId\" attribute, the PCF can use the Nnrf_NFDiscovery Service specified in 3GPP TS 29.510 [13] to retrieve the NF profile of the Namf_Communication service available in the indicated AMF instance Id.\n11.\tif a UE PLMN change occurred and the \"PlmnChange\" feature defined in clause 5.8 is supported, the PLMN Identifier or the SNPN Identifier of the new serving network encoded as \"plmnId\" attribute;\nNOTE 8:\tThe SNPN Identifier consists of the PLMN Identifier and the NID.\nNOTE 9:\tWhen the UE moves between PLMNs, the trigger reports changes of equivalent PLMNs.\nNOTE 10:\tMobility between non-equivalent SNPNs, and between SNPN and PLMN is not supported. When the UE is operating in SNPN access mode, the trigger reports changes of equivalent SNPNs.\n12. if a \"UE POLICY PROVISIONING REQUEST\" message defined in clause 7.2.1.1 of 3GPP TS 24.587 [24] has been received by the V-PCF as NF service consumer and respectively the \"V2X\" feature and/or the \"A2X\" feature and/or the \"ProSe\" feature and/or the \"Ranging_SL\" feature defined in clause 5.8 is/are supported, the message encoded as \"uePolReq\" attribute;\n13.\tif a UE Internal Group Identifier(s) change occurred and the \"GroupIdListChange\" feature defined in clause 5.8 is supported, the Internal Group Identifier(s) of the served UE encoded as \"groupIds\" attribute;\n14.\tif a change of PC5 capablity for 5G ProSe occurred and the \"ProSe\" feature defined in clause 5.8 is supported, the PC5 capability for 5G ProSe encoded as \"proSeCapab\" attribute;\n14a.\tif a change of the Ranging/SL Capability occurred and the \"Ranging_SL\" feature defined in clause 5.8 is supported, the Ranging/SL Capability encoded as \"rangSlCapab\" attribute; and/or\n15.\tif a change of the connectivity state of the UE occurred and the \"ConnectivityStateChange\" feature defined in clause 5.8 is supported, the connectivity state of the served UE encoded as \"connectState\" attribute;\n16.\twhen a response with HTTP status code 4xx or 5xx as defined in clause 5.2.2.3.1.2 of 3GPP TS 29.518 [14] or a N1N2 Transfer Failure Notification as defined in clause 5.2.2.3.2 of 3GPP TS 29.518 [14] is received by the V-PCF after provisioning the UE policy by invoking the Namf_Communication_N1N2MessageTransfer service operation to the AMF, this UE policy transfer failure notification encoded as \"uePolTransFailNotif\" attribute;\n17.\t\tif the NF service consumer is an AMF, the \"SliceAwareANDSP\" feature is supported, and the \"NON_3GPP_NODE_RESELECTION\" trigger is reported within the \"triggers\" attribute, the wrongly selected type of non-3gpp access node encoded as \"n3gNodeReSel\" attribute, and, in the roaming case, also the Configured NSSAI for the serving PLMN encoded as \"confSnssais\" attribute;\n18.\t\tif satellite backhaul category change occurred and the \"EnSatBackhaulCategoryChg\" feature defined in clause 5.8 is supported, the satellite backhaul category or non-satellite backhaul encoded as \"satBackhaulCategory\" attribute;\n19.\tfor the roaming scenario, if the NF service consumer is an AMF, Configured NSSAI change occurred and the \"NssaiChange\" feature is supported, the Configured NSSAI for the serving PLMN encoded as \"confSnssais\" attribute and optionally the mapped each S-NSSAI value of home network corresponding to the configured S-NSSAI values in the serving PLMN encoded as \"mappedHomeSnssai\" attribute within the \"confSnssais\" attribute;\n20\tfor the roaming scenario, if the NF service consumer is a V-PCF, the \"URSPEnforcement\" feature is supported, and the \"URSP_ENF_INFO\" policy control request trigger is met, the URSP rule enforcement information within the \"urspEnfRep\" attribute;\n21.\tfor the roaming scenario, if the NF service consumer is a V-PCF the \"VPLMNSpecificURSP\" feature is supported, the new/modified/deleted AF guidance on VPLMN-specific URSP rules related information within the \"vpsUePolGuidance\" attribute, that shall contain for each related AF:\na.\tthe AF guidance on VPLMN-Specific URSP rules within the \"urspGuidance\" attribute, if the AF updated/provided this information; and/or\nb.\tif the AF requested to the VPLMN notifications about the delivery of UE Policies or the update of the subscription to notification information previously provided, the \"deliveryEvents\" attribute including the\"SUCCESS_UE_POL_DEL_SP\" and/or \"UNSUCCESS_UE_POL_DEL_SP\" events;\n22.\tfor the roaming scenario, if the NF service consumer is an AMF, the \"VPLMNSpecificURSP\" feature is supported and the \"LBO_INFO_CH\" policy control request trigger is met, the LBO roaming information within the \"lboRoamInfo\" attribute; and/or\n23.\t\tif an access type change occurred and the \"AccessChange\" feature defined in clause 5.8 is supported, the access type(s) where the UE is registered encoded within the \"accessTypes\" attribute and the corresponding RAT Type(s), if available, in the \"ratTypes\" attribute.\nUpon the reception of the HTTP POST request:\n-\tif the PCF is a V-PCF and the V-PCF has an established policy association with the H-PCF, the V-PCF shall determine based on the contents of a potentially received \"uePolDelResult\" attribute to be sent to the H-PCF (see above) and requested event triggers of the H-PCF whether to send as the NF service consumer towards the H-PCF a request for the update of the policy association as described in the present clause;\n-\tthe (V-)(H-)PCF shall determine the applicable UE policy based on the contents of the received HTTP POST request, the UE Policy Sections stored in UDR, local policy and, for the H-PCF, taking into consideration the information received within the UE policy delivery protocol encoded in the \"uePolReq\" attribute, if available, and for the V-PCF, taking into consideration any policy received from the H-PCF encoded in the \"uePolicy\" attribute in the reply to the possible request for the update of the associated policy association. When the \"ProSe\" feature is supported, the H-PCF shall determine the applicable ProSeP based on the received PC5 capability for 5G ProSe. When the UE disables a 5G ProSe capability the PCF may stop updating the corresponding ProSeP, and when the UE enables a 5G ProSe capability the PCF may update the corresponding ProSeP;\n-\tif the UE indicated the support of A2X communications over PC5 reference point, \"A2X\" feature is supported, and for the H-PCF, if the UE POLICY PROVISIONING REQUEST message was included in the \"uePolReq\" attribute, the (H-)PCF shall determine the applicable A2XP and A2X N2 PC5 policy as detailed in clauses 4.2.2.2.1.4 and 4.2.2.5, based on the operator's policy;\n-\tif the UE indicates the support of 5G ProSe communications over PC5 reference point, the \"ProSe\" feature is supported, and for the H-PCF, if the UE POLICY PROVISIONING REQUEST message with the requested 5G ProSe policies was included in the \"uePolReq\" attribute, the (H-)PCF shall determine the applicable ProSeP and 5G ProSe N2 PC5 policy, as detailed in clauses 4.2.2.2.1.3 and 4.2.2.4, based on the operator's policy;\n-\tif the UE indicated the support of V2X communications over PC5 reference point, \"V2X\" feature is supported, and for the H-PCF, if the UE POLICY PROVISIONING REQUEST message was included in the \"uePolReq\" attribute, the (H-)PCF shall determine the applicable V2XP and V2X N2 PC5 policy as detailed in clauses 4.2.2.2.1.2 and 4.2.2.3, based on the operator's policy;\n-\tif the UE indicated the support of Ranging/SL over the PC5 reference point, the \"Ranging_SL\" feature is supported, and for the H-PCF, if the UE POLICY PROVISIONING REQUEST message was included in the \"uePolReq\" attribute, the (H-)PCF shall determine the applicable RSLPP and Ranging/SL N2 PC5 policy as detailed in clauses 4.2.2.2.1.5 and 4.2.2.6 based on the operator's policy;\n-\tfor the succesfull case, the (V-)(H-)PCF shall send a HTTP \"200 OK\" response with the PolicyUpdate data type as response body with the possibly updated of UE policy (for the H-PCF), and/or ProSe N2 PC5 policy (for the H-PCF) as specified in clause 4.2.2.4, N2 PC5 policy for V2X communications and/or A2X communications and/or 5G ProSe (for the H-PCF), as specified in clause 4.2.2.3, and/or the Ranging/SL N2 PC5 policy (for the H-PCF), as specified in clause 4.2.2.6, and/or Policy Control Request Trigger(s) encoded as described in clause 4.2.3.3;\n-\tif the (V-)PCF determines that UE policy needs to be updated, it shall use the Namf_Communication service specified in 3GPP TS 29.518 [14] to provision the UE policy according to clause 4.2.2.2 and as follows:\n(i)\tthe (V-)PCF shall send the determined UE policy using Namf_Communication_N1N2MessageTransfer service operation(s); and\n(ii)\tthe (V-)PCF shall be prepared to receive UE Policy Delivery Results from the AMF within the Namf_Communication_N1MessageNotify service operation, and for the V-PCF, if the received UE Policy Delivery results relate to UE policy sections provided by the H-PCF, the V-PCF shall use the Npcf_UEPolicyControl_Update Service Operation to send those UE Policy Delivery results to the H-PCF; and\nNOTE 11:\tA PolicyUpdate data structure with only mandatory attribute(s) is included in the \"200 OK\" response when the PCF decides not to update the policies.\n-\tif the PCF determines that the V2XP and N2 PC5 policy (e.g. for V2X communications, for 5G ProSe) for V2X communications need to be updated, and for the V-PCF when receiving the updated V2XP and N2 PC5 policy for V2X communications from the H-PCF, it shall use the Namf_Communication service specified in 3GPP TS 29.518 [14] to provision the V2XP to the UE and the V2X N2 PC5 policy to NG-RAN according to clauses 4.2.2.2.1.2 and 4.2.2.3;\n-\tif the PCF determines that the A2XP (e.g. for A2X communications) for A2X communications need to be updated, and for the V-PCF when receiving the updated A2XP and N2 PC5 policy for A2X communications from the H-PCF, it shall use the Namf_Communication service specified in 3GPP TS 29.518 [14] to provision the A2XP to the UE and the A2X N2 PC5 policy to NG-RAN according to clauses 4.2.2.2.1.4 and 4.2.2.5;\n-\tif the PCF determines that ProSeP and 5G ProSe N2 PC5 policy needs to be updated, and for the V-PCF when receiving the updated ProSeP and 5G ProSe N2 PC5 policy from the H-PCF, it shall use the Namf_Communication service specified in 3GPP TS 29.518 [14] to provision the ProSeP to the UE and 5G ProSe N2 PC5 policy to NG-RAN according to clauses 4.2.2.2.1.3 and 4.2.2.4;\n-\tif the PCF determines that RSLPP and Ranging/SL N2 PC5 policy needs to be updated, and for the V-PCF when receiving the updated RSLPP and Ranging/SL N2 PC5 policy from the H-PCF, it shall use the Namf_Communication service specified in 3GPP TS 29.518 [14] to provision the RSLPP to the UE and Ranging/SL N2 PC5 policy to NG-RAN according to clauses 4.2.2.2.1.5 and 4.2.2.6;\n-\tif the \"SliceAwareANDSP\" feature is supported, the PCF received the \"NON_3GPP_NODE_RESELECTION\" trigger, and the PCF has successfully delivered to the UE the ANDSP/WLANSP with the slice selection information for the corresponding non-3gpp node, the indication of the successful UE configuration by providing the \"andspDelInd\" attribute with the value \"CONFIGURED\". The PCF may delay the indication of the configuration result to a subsequent Npcf_UEPolicyControl_UpdateNotify request as described in clause 4.2.4.2; and\n-\toptionally, for the (V-)PCF communicating with the AMF, if the \"URSPEnforcement\" feature is supported, and if not previously provided, the request to the AMF to be notified about the PDU session established/terminated events by providing the PCF for the UE callback information within the \"pcfUeInfo\" attribute, and the DNN and S-NSSAI of the concerned PDU session(s) within the \"matchPdus\" attribute. If previously provided, the (V-)PCF may update the complete list of DNN and S-NSSAI combination(s) of the concerned PDU session(s) within the \"matchPdus\" attribute and/or update the PCF for the UE callback information within the \"pcfUeInfo\" attribute.\n-\tif errors occur when processing the HTTP POST request, the (V-)(H-)PCF shall:\n-\tsend an HTTP error response as specified in clause 5.7; or\n-\tif the feature \"ES3XX\" is supported, and the (V-)(H-)PCF determines the received HTTP POST request needs to be redirected, send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [5];\naccording to the following provisions:\n-\tif the (V-)(H-)PCF is, due to incomplete, erroneous or missing information in the request not able to provision a UE policy decision, the PCF may reject the request and include in an HTTP \"400 Bad Request\" response message the \"cause\" attribute of the ProblemDetails data structure set to \"ERROR_REQUEST_PARAMETERS\".\nIf the PCF received a new GUAMI, the PCF may subscribe to GUAMI changes using the AMFStatusChange service operation of the Namf_Communication service specified in 3GPP TS 29.518 [14], and it may use the Nnrf_NFDiscovery Service specified in 3GPP TS 29.510 [13] (using the obtained GUAMI and possibly service name) to query the other AMFs within the AMF set.\nWhen the \"SliceAwareANDSP\" feature is supported, and the AMF receives the \"andspDelInd\" attribute with the outcome of the UE configuration with slice aware ANDSP/WLANSP, the AMF proceeds as described in clause 4.2.2.1.\nWhen the \"URSPEnforcement\" feature is supported and the AMF receives the \"matchPdus\" attribute, the AMF shall update the affected established PDU session(s), by forwarding the received PCF for the UE callback information for the PDU session(s) matching the new S-NSSAI and DNN combination(s) to the SMF, and removing the previously provided PCF for the UE information for the PDU session(s) matching the removed S-NSSAI and DNN combination(s) from the SMF as defined in 3GPP TS 29.502 [31]. When the AMF receives the \"pcfUeInfo\" attribute with updated SBA binding indication, the AMF shall apply the updated PCF for the UE callback information to the new PDU sessions only, i.e., already established PDU sessions are not affected.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_4.2.3.2",
        "ts_24.587_clause_7.2.1.1",
        "clause_4.2.3.4",
        "clause_5.8",
        "ts_29.518_clause_5.2.2.3.1.2",
        "ts_29.518_clause_5.2.2.3.2",
        "clause_4.2.2.4",
        "clause_4.2.2.3",
        "clause_4.2.2.6",
        "clause_4.2.3.3",
        "clause_4.2.2.2",
        "clause_4.2.4.2",
        "clause_5.7",
        "ts_29.500_clause_6.10.9",
        "clause_4.2.2.1",
        "table_5.6.3.3-1",
        "figure_4.2.3.1-1",
        "ts_29.518",
        "ts_24.501",
        "ts_24.587",
        "ts_29.510",
        "ts_29.500",
        "ts_29.502"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.3.2",
      "section_id": "4.2.3.2",
      "section_title": "Policy Control Request Triggers",
      "content": "The following Policy Control Request Triggers are defined:\n-\t\"LOC_CH\", i.e. location change (tracking area): the tracking area of the UE has changed;\n-\t\"PRA_CH\", i.e. change of UE presence in PRA: the UE is entering/leaving a Presence Reporting Area. This includes reporting the initial status at the time the request for this reporting is initiated;\n-\t\"UE_POLICY\", i.e. a \"MANAGE UE POLICY COMPLETE\" message or a \"MANAGE UE POLICY COMMAND REJECT\" message, as defined in Annex D.5 of 3GPP TS 24.501 [15] has been received by the V-PCF and is being forwarded to the H-PCF, or has been received by a PCF for a PDU session (in case for URSP provisioning in EPS) and is being forwarded to the (V-)PCF, or a \"UE POLICY PROVISIONING REQUEST\" message, as defined in clause 7.2.1.1 of 3GPP TS 24.587 [24] has been received by the V-PCF and is being forwarded to the H-PCF;\n-\t\"PLMN_CH\", i.e. PLMN change: the serving network (PLMN or SNPN) of the UE has changed;\nNOTE 1:\tThe \"PLMN_CH\" trigger only applies if the \"PlmnChange\" feature is supported.\nNOTE 2:\tWhen the UE is moving between PLMNs, the trigger reports changes of equivalent PLMNs.\nNOTE 3:\tMobility between non-equivalent SNPNs, and between SNPN and PLMN is not supported. When the UE is operating in SNPN access mode, the trigger reports changes of equivalent SNPNs.\n-\t\"CON_STATE_CH\", i.e. connectivity state change: the connectivity state of the UE has changed;\nNOTE 4:\tThe \"CON_STATE_CH\" trigger only applies if the \"ConnectivityStateChange\" feature is supported.\n-\t\"GROUP_ID_LIST_CHG\", i.e. UE Internal Group Identifier(s) change: the UDM provided list of group Ids has changed;\nNOTE 5:\tThe \"GROUP_ID_LIST_CHG\" trigger only applies if the \"GroupIdListChange\" feature is supported. This Policy Control Request Trigger does not require an explicit subscription from the PCF.\n-\t\"UE_CAP_CH\", i.e. UE Capabilities change: the UE provided 5G ProSe capabilities have changed;\nNOTE 6:\tThe \"UE_CAP_CH\" trigger only applies if the \"ProSe\" feature is supported. This Policy Control Request Trigger does not require a subscription.\n-\t\"SAT_CATEGORY_CHG\", i.e. Satellite Backhaul Category change: the AMF has detected a change between different satellite category, or non-satellite backhaul;\nNOTE 7:\tThe \"SAT_CATEGORY_CHG\" trigger only applies if the \"EnSatBackhaulCategoryChg\" feature is supported.\n-\t\"NON_3GPP_NODE_RESELECTION\", i.e. wrong TNGF or N3IWF: the UE indicated to the AMF the support of slice-based N3IWF and/or TNGF selection as specified in 3GPP TS 24.501 [15] and the AMF determined that the UE has connected to a non-3GPP access node that is not compatible with the allowed S-NSSAI(s);\nNOTE 8:\tThe \"NON_3GPP_NODE_RESELECTION\" trigger only applies if the \"SliceAwareANDSP\" feature is supported. This Policy Control Request Trigger does not require expilict subscription by the PCF.\n-\t\"CONF_NSSAI_CH\", i.e. Configured NSSAI change: the Configured NSSAI has changed;\nNOTE 9:\tThe \"CONF_NSSAI_CH\" trigger only applies if the \"NssaiChange\" feature is supported.\n-\t\"URSP_ENF_INFO\", i.e. URSP rule enforcement Information: The V-PCF has received URSP rule enforcement information about the enforced URSP rule(s) in one or more PDU sessions;\nNOTE 10:\tThe \"URSP_ENF_INFO\" trigger only applies to the V-PCF in LBO roaming scenarios and if the \"URSPEnforcement\" feature is supported.\n-\t\"LBO_INFO_CH\", i.e. LBO information change: The AMF reports LBO roaming allowed or not allowed for the requested DNN(s) and S-NSSAI(s);\nNOTE 11:\tThe \"LBO_INFO_CH\" trigger only applies to the AMF and when the \"VPLMNSpecificURSP\" feature is supported.\n-\t\"ACCESS_TYPE_CH\", i.e. access type change: The registered access type and RAT type has changed, an access type and RAT type is added or removed; and\nNOTE 12:\tThe \"ACCESS_TYPE_CH\" trigger only applies when the \"AccessChange\" feature is supported.\n-\t\"FEAT_RENEG\", i.e. the target AMF determines feature re-negotiation is required.\nNOTE 13:\tThe \"FEAT_RENEG\" trigger only applies if the \"FeatureRenegotiation\" feature is supported during AMF relocation.",
      "chunk_type": "general",
      "cross_references": [
        "ts_24.587_clause_7.2.1.1",
        "ts_24.501",
        "ts_24.587"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.3.3",
      "section_id": "4.2.3.3",
      "section_title": "Encoding of updated policy",
      "content": "Updated policies shall be encoded within the PolicyUpdate data type that may include:\n-\tonly when the updated policy is supplied by the H-PCF in the roaming scenario, UE policy (see clause 4.2.2.2) encoded as \"uePolicy\" attribute, and N2 PC5 policy for V2X communications (see clause 4.2.2.3) encoded as \"n2Pc5Pol\" attribute and/or the N2 PC5 policy for A2X communications (see clause 4.2.2.5) encoded as \"n2Pc5PolA2x\" attribute and/or the N2 PC5 policy for 5G ProSe (see clause 4.2.2.4) encoded as \"n2Pc5ProSePo\" attribute and/or the N2 PC5 policy for Ranging/SL (see clause 4.2.2.6) encoded using the \"n2Pc5RsppPol\" attribute;\n-\twhen the updated policy is supplied via PCF of a PDU session by the (V-)PCF in case of URSP provisioning in EPS, UE policy (see clause 4.2.2.2) encoded as \"uePolicy\" attribute;\n-\tupdated Policy Control Request Trigger(s) (see clause 4.2.3.2) encoded as \"triggers\" attribute, i.e.:\n1)\teither a new complete list of applicable Policy Control Request Trigger(s) including one or several of the following:\na)\tLocation change (tracking area);\nb)\tChange of UE presence in PRA;\nc)\tChange of PLMN, if the \"PlmnChange\" feature is supported;\nd)\tChange of UE connectivity state, if the \"ConnectivityStateChange\" feature is supported;\ne)\tChange of Satellite Backhaul Category, if the \"EnSatBackhaulCategoryChg\" feature is supported;\nf)\tChange of Configured NSSAI, in roaming scenarios, if the \"NssaiChange\" feature is supported and the NF service consumer is the AMF;\ng)\tLBO information change, applicable to roaming scenarios, if the \"VPLMNSpecificURSP\" feature is supported and the NF service consumer is an AMF; or\nh)\tChange of Access type and RAT type, if the \"AccessChange\" feature is supported;\n2)\ta \"NULL\" value to request the removal of all previously installed Policy Control Request Trigger(s); and\n-\tif the Policy Control Request Trigger \"Change of UE presence in PRA\" is provided or if that trigger was already set but the requested presence reporting areas need to be changed, the presence reporting areas for which reporting is required encoded as \"pras\" attribute encoded as follows:\na)\tA new entry shall be added by supplying a new identifier as key and the corresponding PresenceInfo data type instance with complete contents as value as an entry within the map.\nb)\tAn existing entry shall be modified by supplying the existing identifier as key and the PresenceInfo data type instance with complete contents as value as an entry within the map.\nc)\tAn existing entry shall be deleted by supplying the existing identifier as key and \"NULL\" as value as an entry within the map.\nd)\tFor an unmodified entry, no entry needs to be provided within the map.\n-\tif the Policy Control Request Trigger \"LBO information change\" is provided or if that trigger was already set but the requested LBO information needs to be changed, the requested LBO information encoded in the \"pduSessions\" attribute, a list of DNN and S-NSSAI combinations previously provided is updated by providing either a new complete list within the\"pduSessions\" attribute or by setting it to \"NULL\". If the \"pduSessions\" attribute is not provided or the previously provided \"pduSessions\" attribute is deleted, the LBO information change policy control request trigger applies to any S-NSSAI and DNN combination.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_4.2.2.2",
        "clause_4.2.2.3",
        "clause_4.2.2.5",
        "clause_4.2.2.4",
        "clause_4.2.2.6",
        "clause_4.2.3.2"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.3.4",
      "section_id": "4.2.3.4",
      "section_title": "Feature renegotiation during AMF relocation",
      "content": "During the AMF relocation, if the new AMF received the resource URI of the individual UE Policy from the old AMF and selects the old (V-)PCF, and the feature \"FeatureRenegotiation\" is supported, the new AMF shall invoke the update of the UE policy association as described in clause 4.2.3.1 with the following differences:\n-\tThe new AMF shall include in the PolicyAssociationUpdateRequest data structure sent in the HTTP POST request:\na.\tthe \"FEAT_RENEG\" policy control request trigger within the \"triggers\" attribute;\nb.\tthe \"suppFeat\" attribute with the AMF supported features; and\nc.\tfor each supported feature, the required feature information elements as specified in clauses 4.2.2.1 and 4.2.3.1, if applicable.\nNOTE 1:\tWhen the new AMF received from the old AMF the subscribedpolicy control request trigger(s) that depend on feature control, and a policy control request trigger is met, the required feature information included in the update request contains the report of the met policy control request trigger within the \"triggers\" attribute and the associated information in the corresponding attribute as described in clause 4.2.3.1, when applicable. If the new AMF supports features not previously supported by the old AMF, the new AMF will include the available information associated to the supported features, if applicable, as described in clause 4.2.2.1.\n-\tUpon reception of the HTTP POST request, the (V-)PCF shall update the \"Individual UE Policy Association\" resource, determine the applicable policy and include in the PolicyUpdate data structure sent in the HTTP POST response:\nNOTE 2:\tThe determination of the applicable policy can consider the features supported by the new AMF.\na.\tthe \"suppFeat\" attribute with the negotiated supported features; and\nb.\tthe complete \"Individual UE Policy Association\" resource representation, as specified in clause 4.2.2.1.",
      "chunk_type": "general",
      "cross_references": [
        "clause_4.2.3.1",
        "clause_4.2.2.1"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.4.1",
      "section_id": "4.2.4.1",
      "section_title": "General",
      "content": "The (V-)(H)-PCF may decide to update policy control request triggers, and in the roaming case, the H-PCF may decide to update the UE Policy, the V2X N2 PC5 policy, if the \"V2X\" feature is supported, and/or the A2X N2 PC5 policy, if the \"A2X\" feature is supported, and/or the 5G ProSe N2 PC5 policy, if the \"ProSe\" feature is supported, and/or the Ranging/SL N2 PC5 policy, if the \"Ranging_SL\" feature is supported. The PCF (H-PCF in the roaming case) may decide to request the termination of the policy association.\nIf the \"EpsUrsp\" feature is supported, and the NF consumer is a PCF for a PDU session the PCF (H-PCF in the LBO roaming scenario) may decide to update policy control request triggers and/or to update the URSP. The PCF (H-PCF in the LBO roaming scenario) may decide to request the termination of the policy association.\nThe(V-)(H-)PCF shall then use an Npcf_UEPolicyControl_UpdateNotify service operation.\nThe following procedures using the Npcf_UEPolicyControl_UpdateNotify service operation are supported:\n-\tPolicy update notification.\n-\tRequest the termination of the UE policy association.\n-\tURSP provisioning for background Data Transfer policy.\n-\tUE policy provisioning for V2X communications over PC5 and Uu reference points.\n-\tUE policy provisioning for 5G ProSe.\n-\tUE policy provisioning for Ranging/SL.\n-\tN2 PC5 Policy (e.g. for V2X communications, for A2X communications, for 5G ProSe, for Ranging/SL) provisioning.\n-\tUE policy provisioning for A2X communications over PC5 reference point or A2X communications over Uu reference point or both.\nNOTE:\tThe PCF derives the UE policy information and invokes the Namf_Communication_N1N2MessageTransfer service operation to provision it to the UE.\n-\tURSP provisioning in EPS.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.525_4.2.4.2",
      "section_id": "4.2.4.2",
      "section_title": "Policy update notification",
      "content": "Figure 4.2.4.2-1 illustrates the policy update notification.\nFigure 4.2.4.2-1: policy update notification\nNOTE:\tFor the roaming case, the PCF represents the V-PCF if the NF service consumer is an AMF and the PCF represents the H-PCF if the NF service consumer is a V-PCF.\nThe (V-)(H)-PCF may decide to update, based on external triggers (e.g. notifications received from UDR about new or updated service parameter data as described in 3GPP TS 29.519 [17]) or internal triggers (e.g., the activation of a pending policy counter provided via the Nchf_SpendingLimitControl Service as described in 3GPP TS 29.594 [33]) policy control request trigger(s) and in the roaming case, the H-PCF may also decide to update the UE Policy, the N2 PC5 policy for V2X communications if the \"V2X\" feature is supported and/or the N2 PC5 policy for A2X communications if the \"A2X\" feature is supported and/or the N2 PC5 policy for 5G ProSe if the \"ProSe\" feature is supported and/or the N2 PC5 policy for Ranging/SL if the \"Ranging_SL\" feature is supported.\nNOTE:\tIn this release of the specification, policy decisions based on policy counters provided via Nchf_SpendingLimitControl service apply only for non-roaming cases and UE policies refer to URSP only.\nIf the \"EpsUrsp\" feature is supported and the NF consumer is a PCF for a PDU session the PCF (H-PCF in the LBO roaming scenario) may decide to update policy control request triggers and/or to update the URSP.\nIf the \"SliceAwareANDSP\" feature is supported, the PCF received the indication of wrong NI3WF or TNGF selection during UE Policy Association creation as described in clause 4.2.2.1 or during UE Policy Association modification as described in clause 4.2.3.1, and the PCF determines that the UE needs to be configured with ANDSP/WLANSP with slice selection information and the configuration result is to be indicated within a Npcf_UEPolicyControl_UpdateNotify request then:\n-\twhen the PCF has successfully delivered to the UE the updated ANDSP/WLANSP with the slice selection information for the corresponding type of non-3gpp node, the PCF notifies to the NF service consumer about the successful delivery providing the \"andspDelInd\" attribute set to value \"CONFIGURED\".\n-\tif the UE update with the ANDSP/WLANSP with the slice selection information for the corresponding type of non-3GPP node fails, the PCF provides the \"andspDelInd\" attribute set to value \"NOT_CONFIGURED\".\nIf the \"VPLMNSpecificURSP\" feature is supported, the NF consumer is the V-PCF and the H-PCF received the subscription to notification about the delivery outcome of VPLMN-specific URSP rules within the \"deliveryEvents\" attribute as specified in clauses 4.2.2.1, and 4.2.3.1, the H-PCF notifies about the result of the delivery of UE policies using the \"delivReport\" attribute as described in clause 4.2.4.7.\nFor the (V-)PCF communicating with the AMF, if the \"URSPEnforcement\" feature is supported, and if not previously provided, the (V-)PCF may decide to request to the AMF to be notified about the PDU session established/terminated events by providing the PCF for the UE callback information within the \"pcfUeInfo\" attribute, and the DNN and S-NSSAI of the concerned PDU session(s) within the \"matchPdus\" attribute. Alternatively, the (V-)PCF may provide the updated complete list of DNN and S-NSSAI combination(s) of the concerned PDU sessions within the \"matchPdus\" attribute and/or updated PCF for the UE callback information within the \"pcfUeInfo\" attribute.\nThe (V-)(H-)PCF shall then send an HTTP POST request with \"{notificationUri}/update\" as URI (where the Notification URI was previously supplied by the NF service consumer) to the NF service consumer and the PolicyUpdate data structure as request body encoded as described in clause 4.2.3.3.\nUpon the reception of the HTTP POST request, the NF service consumer:\n-\tif the V-PCF is the NF service consumer, shall use the Namf_Communication Service defined in 3GPP TS 29.518 [14] to send \"MANAGE UE POLICY COMMAND\" message(s) with the received UE policy to the UE via the AMF and/or with the received N2 PC5 policy for V2X communications and/or A2X communications and/or 5G ProSe to the NG-RAN via the AMF;\n-\tif the V-PCF is the NF service consumer, shall provision the received policy control requested trigger(s) to the AMF, if applicable, using the Npcf_UEPolicyControl_UpdateNotify service operation according to the present clause;\n-\tif the AMF is the NF service consumer, shall enforce the received policy control request trigger(s);\n-\tif the \"EpsUrsp\" feature is supported and a PCF for a PDU session is the NF service consumer, shall behave as specified in clause 4.2.4.9;\n-\tif the \"VPLMNSpecificURSP\" feature is supported, and the V-PCF is the NF service consumer, may trigger the notification(s) about the result of the delivery of UE policies as specified in clause 4.2.4.7;\n-\tshall either send a successful response indicating the success of the enforcement or an appropriate failure response, for the V-PCF as the NF service consumer taking into consideration a reply received from the possible Namf_Communication Service service operation and from the possible Npcf_UEPolicyControl_UpdateNotify service operation according to the previous bullets. In case of a successful response:\na.\tif the feature \"ImmediateReport\" is supported and the PCF provisioned policy control request triggers (applicable triggers are as defined in Table 5.6.2.8-1), a \"200 OK\" response code and a response body with the corresponding available information in the \"UeRequestedValueRep\" data structure shall be returned in the response;\nb.-\totherwise, a \"204 No Content\" response code shall be returned in the response; and\n-\tif errors occur when processing the HTTP POST request, shall send an HTTP error response as specified in clause 5.7; or\n-\tif the feature \"ES3XX\" is supported, and the NF service consumer determines the received HTTP POST request needs to be redirected, the NF service consumer shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [5].\nWhen the \"URSPEnforcement\" feature is supported and the AMF receives the \"matchPdus\" attribute, the AMF shall update the affected established PDU sesssion(s), by forwarding the received PCF for the UE callback information for the PDU session(s) matching the new S-NSSAI and DNN combination(s) to the SMF, and removing the previously provided PCF for the UE callback information for the PDU session(s) matching the removed S-NSSAI and DNN combination(s) from the SMF as defined in 3GPP TS 29.502 [31]. When the AMF receives \"pcfUeInfo\" attribute with updated SBA binding indication, the AMF shall apply the updated PCF for the UE callback information to the new PDU sessions only, i.e., already established PDU sessions are not affected.\nIf the feature \"ErrorResponse\" is supported and if the AMF as NF service consumer is not able to handle the notification but another unknown AMF could possibly handle the notification, it shall reply with an HTTP \"404 Not found\" error response.\nIf the (V-)PCF receives a \"307 Temporary Redirect\" response, the (V-)PCF shall resend the failed policy update notification request using the received URI in the Location header field as Notification URI. Subsequent policy update notifications, triggered after the failed one, shall be sent to the Notification URI provided by the NF service consumer during the corresponding policy association creation/update.\nIf the (V-)PCF becomes aware that a new AMF is requiring notifications (e.g. via the \"404 Not found\" response or via Namf_Communication service AMFStatusChange Notifications, see 3GPP TS 29.518 [14], or via link level failures), and the (V-)PCF knows alternate or backup IPv4,  Ipv6 Addess(es) or FQDN(s) where to send Notifications (e.g. via \"altNotifIpv4Addrs\",  \"altNotifIpv6Addrs\" or \"altNotifFqdns\" attributes received when the policy association was created or via AMFStatusChange Notifications, or via the Nnrf_NFDiscovery Service specified in 3GPP TS 29.510 [13] (using the service name and GUAMI obtained during the creation of the subscription) to query the other AMFs within the AMF set), the (V-)PCF shall exchange the authority part of the corresponding Notification URI with one of those addresses and shall use that URI in any subsequent communication.\nIf the (V-)PCF received a \"404 Not found\" response, the (V-)PCF should resend the failed policy update notification request to that URI.",
      "chunk_type": "general",
      "cross_references": [
        "clause_4.2.2.1",
        "clause_4.2.3.1",
        "clause_4.2.4.7",
        "clause_4.2.3.3",
        "clause_4.2.4.9",
        "clause_5.7",
        "ts_29.500_clause_6.10.9",
        "table_5.6.2.8-1",
        "figure_4.2.4.2-1",
        "ts_29.519",
        "ts_29.594",
        "ts_29.518",
        "ts_29.500",
        "ts_29.502",
        "ts_29.510"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.4.3",
      "section_id": "4.2.4.3",
      "section_title": "Request for termination of the policy association",
      "content": "Figure 4.2.4.3-1 illustrates the request for a termination of the policy association.\nFigure 4.2.4.3-1: request for a termination of the UE policy association\nNOTE:\tFor the roaming case, the PCF represents the V-PCF if the NF service consumer is an AMF and the PCF represents the H-PCF if the NF service consumer is a V-PCF.\nThe (V-)(H-)PCF may request the termination of the UE policy association and shall then send an HTTP POST request with \"{notificationUri}/terminate\" as URI (where the Notification URI was previously supplied by the NF service consumer) and the TerminationNotification data structure as request body that shall include:\n-\tthe resource URI of the concerned individual UE policy association (including the policy association ID) encoded as \"resourceUri\" attribute; and\n-\tthe cause why the (V-)(H-)PCF requests the termination of the policy association encoded as \"cause\" attribute.\nUpon the reception of the HTTP POST request, the NF service consumer:\n-\tif the V-PCF is the NF service consumer, shall send as NF service producer for the corresponding policy association (towards the AMF as NF service consumer) a request for a termination of the policy association according to the present clause;\n-\tshall either send an HTTP \"204 No Content\" response for the succesfull processing of the HTTP POST request or an appropriate failure response, for the V-PCF as the NF service consumer taking into consideration a reply received for the possible corresponding policy association termination request according to the previous bullet; and\n-\tif errors occur when processing the HTTP POST request, shall send an HTTP error response as specified in clause 5.7; or\n-\tif the feature \"ES3XX\" is supported, and the NF service consumer determines that the received HTTP POST request needs to be redirected, the NF service consumer shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [5].\nAfter the succesfull processing of the HTTP POST request, any NF service consumer except for the V-PCF shall invoke the Npcf_UEPolicyControl_Delete Service Operation defined in clause 4.2.5 to terminate the policy association.\nIf the AMF as NF service consumer is not able to handle the notification but knows by implementation specific means that another AMF is able to handle the notification, it shall reply with an HTTP \"307 Temporary Redirect\" response pointing to the URI of the new AMF. If the AMF as NF service consumer is not able to handle the notification but another unknown AMF could possibly handle the notification, it shall reply with an HTTP \"404 Not found\" error response.\nIf the (V-)PCF receives a \"307 Temporary Redirect\" response, the PCF shall resend the failed request for termination of the policy association using the received URI in the Location header field as Notification URI.\nIf the (V-)PCF becomes aware that a new NF service consumer (AMF) is requiring notifications (e.g. via the \"404 Not found\" response or via Namf_Communication service AMFStatusChange Notifications, see 3GPP TS TS 29.518 [14], or via link level failures), and the (V-)PCF knows alternate or backup Ipv4, Ipv6 Addess(es) or FQDN(s) where to send Notifications (e.g. via \"altNotifIpv4Addrs\", \"altNotifIpv6Addrs\" or \"altNotifFqdns\" attributes received when the policy association was created or via AMFStatusChange Notifications, or via the Nnrf_NFDiscovery Service specified in 3GPP TS 29.510 [13] (using the service name and GUAMI obtained during the creation of the subscription) to query the other AMFs within the AMF set), the (V-)PCF shall exchange the authority part of the corresponding Notification URI with one of those addresses and shall resend the failed request for termination of the policy association to that URI.\nIf the (V-)PCF received a \"404 Not found\" response, the (V-)PCF should resend the failed request for termination of the policy association to that URI.",
      "chunk_type": "general",
      "cross_references": [
        "clause_5.7",
        "ts_29.500_clause_6.10.9",
        "clause_4.2.5",
        "figure_4.2.4.3-1",
        "ts_29.500",
        "ts_29.518",
        "ts_29.510"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.4.4",
      "section_id": "4.2.4.4",
      "section_title": "URSP provisioning for Background Data Transfer policy",
      "content": "If the \"EnhancedBackgroundDataTransfer\" feature is supported, after the UE policy association establishment, the (H‑)PCF may receive the Background Data Transfer Reference ID(s) notified by the UDR for the change of UE's Application Data as defined in clause 6.3.4 of 3GPP TS 29.519 [17]. In this case, the (H-)PCF shall retrieve the transfer policy corresponding to the Background Data Transfer Reference ID(s) as defined in clause 5.2.8 of 3GPP TS 29.519 [17] and derive the URSP including the Route Selection Validation Criteria for the UE as defined in clause 6.2.2.1 of 3GPP TS 23.503 [4]. The H-PCF shall provision the URSP to the V-PCF as defined in clause 4.2.4.2 and then the V-PCF shall invoke the Namf_Communication_N1N2MessageTransfer service operation to provision it to the UE. The (H-)PCF shall use the associated S-NSSAI and DNN to store in the UDR the Background Data Transfer Reference ID(s) in the UE's session management policy data as specified in 3GPP TS 29.519 [17].",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.519_clause_6.3.4",
        "ts_29.519_clause_5.2.8",
        "ts_23.503_clause_6.2.2.1",
        "clause_4.2.4.2",
        "ts_29.519",
        "ts_23.503"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.4.5",
      "section_id": "4.2.4.5",
      "section_title": "UE policy provisioning for V2X communication over PC5 and Uu reference points",
      "content": "After the UE policy association establishment and if the \"V2X\" feature is supported, the (H-)PCF may receive the service specific parameter information notified by the UDR for the change of UE's Application Data as defined in clause 6.3.4 of 3GPP TS 29.519 [17]. In this case:\n-\tfor the roaming case, the H-PCF shall derive the V2XP and provision it to the V-PCF as defined in clause 4.2.4.2; and/or\n-\tfor the roaming and non-roaming case, the (V-)PCF shall use the Namf_Communication Service defined in 3GPP TS 29.518 [14] to send \"MANAGE UE POLICY COMMAND\" message(s) with the V2XP to the UE via the AMF.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.519_clause_6.3.4",
        "clause_4.2.4.2",
        "ts_29.519",
        "ts_29.518"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.4.6",
      "section_id": "4.2.4.6",
      "section_title": "UE policy provisioning for 5G ProSe",
      "content": "After the UE policy association establishment and if the \"ProSe\" feature is supported, the (H-)PCF may receive the service specific parameter information via a notification on the change of UE's Application Data from the UDR, as defined in clause 6.3.4 of 3GPP TS 29.519 [17]. In this case:\n-\tfor the roaming case, the H-PCF shall derive the ProSeP and provision it to the V-PCF as defined in clause 4.2.4.2; and/or\n-\tfor the roaming and non-roaming case, the (H-)PCF shall derive the ProSeP and the (V-)PCF shall use the Namf_Communication Service defined in 3GPP TS 29.518 [14] to convey it to the UE via the AMF by sending \"MANAGE UE POLICY COMMAND\" message(s) as defined in 3GPP TS 24.554 [28].",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.519_clause_6.3.4",
        "clause_4.2.4.2",
        "ts_29.519",
        "ts_29.518",
        "ts_24.554"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.4.7",
      "section_id": "4.2.4.7",
      "section_title": "UE policy provisioning for AF-influenced URSP",
      "content": "If the \"AfGuideURSP\" feature is supported by the Nudr_DataRepository service, after the UE policy association establishment, the (H-)PCF may be informed that service specific parameter information that contains data for AF guidance on the URSP determination has been created, modified or removed via a notification by the UDR for the change or removal of UE's Application Data as defined in clause 6.3.4 of 3GPP TS 29.519 [17]. In this case, the H-PCF may derive new URSP(s), modify existing URSP(s) or remove existing URSP(s) by using the information received from the UDR (see clause 4.2.2.2.1.1 and 4.2.2.2.3 for the description of how the (H-)PCF may use this information, stored UPSC(s), policy subscription information, analytics information received from NWDAF and local operator policy to determine the URSP that will be provisioned to the UE).\nIf the \"VPLMNSpecificURSP\" feature is supported by the Nudr_DataRepository service, the (H-)PCF may be informed about changes on service parameter data in the HPLMN that contain AF guidance on VPLMN-specific URSP rule determination as defined in 3GPP TS 29.519 [17]. For the roaming case and when the feature \"VPLMNSpecificURSP\" is supported, the H-PCF may be informed about changes on VPLMN-specific URSP from the V-PCF as defined in clause 4.2.3.1. Based on the received information, the (H-)PCF determines the VPLMN-specific URSP rules as specified in clause 4.2.2.2.3.2 and the new UE Policy Sections and VPS Configuration as defined in clause 4.2.2.2.1.1.\nThe (H-)PCF shall:\n-\tfor the roaming case, provision the derived new UE Policy Sections, and/or update and/or remove existing UE Policy Sections to the V-PCF as defined in clause 4.2.4.2 and then the V-PCF shall invoke the Namf_Communication_N1N2MessageTransfer service operation to provision the received UE Policy Sections  to the UE; or\n-\tfor the non-roaming case, use the Namf_Communication Service defined in 3GPP TS 29.518 [14] to convey the derived new UE Policy Sections and/or to update and/or remove existing UE Policy Sections to the UE via the AMF within \"MANAGE UE POLICY COMMAND\" message(s).\nIn the roaming case, when the AMF informs the V-PCF that the UE is temporarily unreachable (see 3GPP TS 29.518 [18]), the V-PCF notifies the H-PCF accordingly (including the \"uePolTransFailNotif\" attribute within the PolicyAssociationUpdateRequest data structure, as described in clause 4.2.2.2.1.0).\nWhen the (H-)PCF receives the \"MANAGE UE POLICY COMPLETE\" or the \"MANAGE UE POLICY COMMAND REJECT\" message and/or the PCF deducts that the UE is temporarily unreachable, and the PCF determines that the received message or the internal deduction indicates a UE Policy Delivery outcome event is matched:\n-\tif an NF service consumer has subscribed via a request for service specific parameters to the HPLMN, the (H-)PCF shall invoke the Npcf_EventExposure_Notify service operation as defined in clause 4.2.4.2 of 3GPP TS 29.523 [30]; or\n-\tif the \"VPLMNSpecificURSP\" is supported and the V-PCF has subscribed with the H-PCF as specified in clauses 4.2.2.1 and/or 4.2.3.1 because an AF has subscribed via a request for service parameters to the VPLMN, the H-PCF shall invoke the Npcf_UEPolicyControl_UpdateNotify as specified in this clause to notify about the result of the delivery of UE policies using the \"delivReport\" attribute. The \"delivReport\" attribute is a map of \"eventNotifs\" attributes, where:\na.\tthe key of the map represents the related AF; and\nb.\teach \"eventNotifs\" entry shall contain the reported event(s) (\"SUCCESS_UE_POL_DEL_SP\" or \"UNSUCCESS_UE_POL_DEL_SP\") within the \"event\" attribute and in case of delivery failure, the \"delivFailure\" attribute with the corresponding failure reason;\nthe V-PCF, based on the information received in the \"delivReport\" attribute and the notification information retrieved from the UDR in the VPLMN, shall invoke the Npcf_EventExposure_Notify service operation as defined in clause 4.2.4.2 of 3GPP TS 29.523 [30].\nWhen the AMF (non roaming case) or the V-PCF (roaming case) informs the (H-)PCF that the UE is temporarily unreachable (see 3GPP TS 29.518 [18]), the (H-) PCF may subscribe to \"CON_STATE_CH\" trigger if not done before and reattempt the provisioning of URSP(s) when the UE becomes reachable.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.519_clause_6.3.4",
        "clause_4.2.2.2.1.1",
        "clause_4.2.3.1",
        "clause_4.2.2.2.3.2",
        "clause_4.2.4.2",
        "clause_4.2.2.2.1.0",
        "ts_29.523_clause_4.2.4.2",
        "ts_29.519",
        "ts_29.518",
        "ts_29.523"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.4.8",
      "section_id": "4.2.4.8",
      "section_title": "UE policy provisioning for A2X communication over PC5 and A2X communication over Uu reference point",
      "content": "After the UE policy association establishment and if the \"A2X\" feature is supported, the (H-)PCF may receive the service specific parameter information notified by the UDR for the change of UE's Application Data as defined in clause 6.3.4 of 3GPP TS 29.519 [17]. In this case:\n-\tfor the roaming case, the H-PCF shall derive the A2XP and provision it to the V-PCF as defined in clause 4.2.4.2; and/or\n-\tfor the roaming and non-roaming case, the (V-)PCF shall use the Namf_Communication Service defined in 3GPP TS 29.518 [14] to send \"MANAGE UE POLICY COMMAND\" message(s) with the A2XP to the UE via the AMF.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.519_clause_6.3.4",
        "clause_4.2.4.2",
        "ts_29.519",
        "ts_29.518"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.4.9",
      "section_id": "4.2.4.9",
      "section_title": "URSP provisioning in EPS",
      "content": "When the \"EpsUrsp\" feature is supported and a PCF for a PDU session is the NF service consumer, the PCF for the UE may provide a UE Policy Container (with a \"MANAGE UE POLICY COMMAND\" message(s) with the UE policy to send to the UE via the PCF for the PDU session) and/or an update in the Policy Control Request Triggers applicable to the UE as described in clause 4.2.4.2 using the selected UE Policy Association.\n1)\tWhen the PCF for the PDU session receives a UE Policy Container from the PCF for the UE, the PCF for the PDU session first shall select one of the ongoing PDN connections for the related UE in EPC and forward the UE Policy Container to the UE as follows:\n-\tif the PCF for the PDU session has previously received a UE Policy Container from the UE over an ongoing PDN connection, the PCF for the PDU session shall select that PDN connection; or\n-\totherwise when 5GS to EPS mobility applies, the PCF for the PDU session shall select an ongoing PDN connection that supports URSP provisioning in EPS (i.e. a PDN connection served by the associated SMF+PGW-C supporting the transfer of UE Policy Container using ePCO, where the URSP provisioning in EPS support indicator was provided during PDN connection establishment or PDU session establishment as described in 3GPP TS 29.512 [31]). If there are multiple ongoing PDN connections that support URSP provisioning in EPS the PCF for the PDU session shall select one of those based on operator policy or implementation specific means; and\n-\tthe PCF for the PDU session shall use the Npcf_SMPolicyControl_UpdateNotify service operation defined in 3GPP TS 29.512 [31] to forward to the UE via SMF+PGW-C the UE Policy Container with the \"MANAGE UE POLICY COMMAND\" message(s) with the received UE policy.\n2)\tWhen the PCF for the PDU session receives an update in the Policy Control Request Triggers applicable to the UE, the PCF for the PDU session shall determine whether an update on the current Policy Control Triggers need to be sent to the SMF+PGW-C. In that case, the PCF for the PDU session shall select one of the ongoing PDN connection(s) for the related UE in EPC, and shall provision the received policy control requested trigger(s) to the SMF+PGW-C as follows:\n-\tif the PCF for the PDU session has previously received a UE Policy Container from the UE over an ongoing PDN connection, the PCF for the PDU session shall select that PDN connection; or\n-\totherwise when 5GS to EPS mobility applies, the PCF for the PDU session shall select the PDN connection that supports URSP provisioning in EPS as described in bullet 1) if there is no PDN connection selected yet; otherwise, it uses the PDN connection selected to transfer UE Policy Containers to the UE; and\n-\tthe PCF for the PDU session shall use the Npcf_SMPolicyControl_UpdateNotify service operation to provision the received policy control requested trigger(s) according to 3GPP TS 29.512 [31].\nWhen there are multiple ongoing UE Policy Associations that enable the URSP provisioning in EPS, the PCF for the UE shall select one of those for both, URSP and/or Policy Control Request Trigger provisioning, based on operator policy or implementation specific means.",
      "chunk_type": "general",
      "cross_references": [
        "clause_4.2.4.2",
        "ts_29.512"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.4.10",
      "section_id": "4.2.4.10",
      "section_title": "UE policy provisioning for Ranging/SL",
      "content": "After the UE policy association establishment and if the \"Ranging_SL\" feature is supported, the (H-)PCF may receive the service specific parameter information via a notification on the change of UE's Application Data from the UDR, as defined in clause 6.3.4 of 3GPP TS 29.519 [17]. In this case:\n-\tfor the roaming case, the H-PCF shall derive the RSLPP and provision it to the V-PCF as defined in clause 4.2.4.2; and/or\n-\tfor the roaming and non-roaming case, the (H-)PCF shall derive the RSLPP and the (V-)PCF shall use the Namf_Communication Service defined in 3GPP TS 29.518 [14] to convey it to the UE via the AMF by sending \"MANAGE UE POLICY COMMAND\" message(s).",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.519_clause_6.3.4",
        "clause_4.2.4.2",
        "ts_29.519",
        "ts_29.518"
      ]
    },
    {
      "chunk_id": "ts_29.525_4.2.5",
      "section_id": "4.2.5",
      "section_title": "Npcf_UEPolicyControl_Delete Service Operation",
      "content": "Figure 4.2.5-1 illustrates the deletion of a policy association.\nFigure 4.2.5-1: Deletion of a policy association\nNOTE:\tFor the roaming case, the PCF represents the V-PCF if the NF service consumer is an AMF and the PCF represents the H-PCF if the NF service consumer is a V-PCF.\nThe AMF as NF service consumer requests that the policy association is deleted when the corresponding UE context is terminated, e.g. during UE de-registration from the network. In roaming scenarios, the V-PCF requests to the H-PCF the deletion of the UE policy association when the V-PCF determines that the UE context is terminated in the AMF, e.g., with the reception of the policy association deletion request or the reception of UE context not found reply to the UE Policy delivery request.\nDuring the AMF relocation, the old AMF shall invoke this procedure when:\n-\tthe resource URI of the individual UE Policy Association resource is not transferred to the new AMF; or\n-\tthe new AMF informs the old AMF that the individual UE Policy Association resource is not being reused.\nThe PCF for the PDU session as NF service consumer requests that the UE policy association is deleted when:\n-\tall the PDU sessions related with the UE policy association are terminated; or\n-\tthe PCF for the PDU session receives an indication of RAT type change from the SMF+PGW-C (from any of the related PDU sessions) and determines the EPS to 5GS mobility scenario applies.\nTo request that the UE policy association is deleted, the NF service consumer (e.g. AMF) shall send an HTTP DELETE request with \"{apiRoot}/npcf-ue-policy-control/v1/policies/{polAssoId}\" as Resource URI.\nUpon the reception of the HTTP DELETE request,\n-\tthe (V-)(H-)PCF shall delete the policy association;\n-\tif the PCF is a V-PCF and has an established corresponding policy association towards the H-PCF, the V-PCF shall send as the NF service consumer towards the H-PCF a request for the deletion of that policy association as described in the present clause;\n-\tthe (V-)(H-)PCF shall send either an HTTP \"204 No Content\" response indicating the success of the deletion or an appropriate failure response, for the V-PCF as PCF taking into consideration a reply received for the possible policy association deletion request according to the previous bullet; and\n-\tthe (V-)(H-)PCF shall if errors occur when processing the HTTP DELETE request, send an HTTP error response as specified in clause 5.7; or\n-\tif the feature ES3XX is supported, and the (V-)(H-)PCF determines the received HTTP DELETE request needs to be redirected, the (V-)(H-)PCF shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [5].\nOnce the UE policy association is deleted, to unsubscribe to notifications of N1 message for UE Policy Delivery Result, the (V-)PCF shall trigger the Namf_Communication_N1N2MessageUnsubscribe service operation towards the N1N2 Individual Subscription resource as specified in 3GPP TS 29.518 [14].",
      "chunk_type": "general",
      "cross_references": [
        "clause_5.7",
        "ts_29.500_clause_6.10.9",
        "figure_4.2.5-1",
        "ts_29.500",
        "ts_29.518"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.1",
      "section_id": "5.1",
      "section_title": "Introduction",
      "content": "The Access and Mobility Policy Control Service shall use the Npcf_UEPolicyControl API.\nThe API URI of the Npcf_UEPolicyControl API shall be:\n{apiRoot}/<apiName>/<apiVersion>\nThe request URIs used in HTTP requests from the NF service consumer towards the PCF shall have the Resource URI structure defined in clause 4.4.1 of 3GPP TS 29.501 [6], i.e.:\n{apiRoot}/<apiName>/<apiVersion>/<apiSpecificResourceUriPart>\nwith the following components:\n-\tThe {apiRoot} shall be set as described in 3GPP TS 29.501 [6].\n-\tThe <apiName> shall be \"npcf-ue-policy-control\".\n-\tThe <apiVersion> shall be \"v1\".\n-\tThe <apiSpecificResourceUriPart> shall be set as described in clause 5.3.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.501_clause_4.4.1",
        "clause_5.3",
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.2.1",
      "section_id": "5.2.1",
      "section_title": "General",
      "content": "HTTP/2, IETF RFC 9113 [8], shall be used as specified in clause 5 of 3GPP TS 29.500 [5].\nHTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [5].\nThe OpenAPI [10] specification of HTTP messages and content bodies for the Npcf_UEPolicyControl is contained in Annex A.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5",
        "ts_29.500_clause_5.3",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.2.2.1",
      "section_id": "5.2.2.1",
      "section_title": "General",
      "content": "See clause 5.2.2 of 3GPP TS 29.500 [5] for the usage of HTTP standard headers.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5.2.2",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.2.2.2",
      "section_id": "5.2.2.2",
      "section_title": "Content type",
      "content": "JSON, IETF RFC 8259 [9], shall be used as content type of the HTTP bodies specified in the present specification as specified in clause 5.4 of 3GPP TS 29.500 [5]. The use of the JSON format shall be signalled by the content type \"application/json\".\n\"Problem Details\" JSON object shall be used to indicate additional details of the error in a HTTP response body and shall be signalled by the content type \"application/problem+json\", as defined in IETF RFC 9457 [21].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_5.4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.2.3",
      "section_id": "5.2.3",
      "section_title": "HTTP custom headers",
      "content": "The Npcf_UEPolicyControl API shall support HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS 29.500 [5] and may support HTTP custom header fields specified in clause 5.2.3.3 of 3GPP TS 29.500 [5].\nIn this Release of the specification, no specific custom headers are defined for the Npcf_UEPolicyControl API.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_5.2.3.2",
        "ts_29.500_clause_5.2.3.3",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.3.1",
      "section_id": "5.3.1",
      "section_title": "Resource Structure",
      "content": "This clause describes the structure for the Resource URIs and the resources and methods used for the service.\nFigure 5.3.1-1 depicts the resource URIs structure for the Npcf_UEPolicyControl API.\nFigure 5.3.1-1: Resource URI structure of the Npcf_UEPolicyControl API\nTable 5.3.1-1 provides an overview of the resources and applicable HTTP methods.\nTable 5.3.1-1: Resources and methods overview\nResource name\nResource URI\nHTTP method or custom operation\nDescription\nUE Policy Associations\n/policies\nPOST\nCreate a new Individual UE policy association resource.\nIndividual UE Policy Association\n/policies/{polAssoId}\nGET\nRead an Individual UE Policy Association resource.\nDELETE\nDelete an Individual UE Policy Association resource.\n/policies/{polAssoId}/update\nupdate (POST)\nReport observed event trigger and obtain updated UE policies.",
      "chunk_type": "general",
      "cross_references": [
        "table_5.3.1-1",
        "figure_5.3.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.3.2.1",
      "section_id": "5.3.2.1",
      "section_title": "Description",
      "content": "This resource represents a collection of UE policy associations.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.525_5.3.2.2",
      "section_id": "5.3.2.2",
      "section_title": "Resource definition",
      "content": "Resource URI: {apiRoot}/npcf-ue-policy-control/v1/policies\nThis resource shall support the resource URI variables defined in table 5.3.2.2-1.\nTable 5.3.2.2-1: Resource URI variables for this resource\nName\nData type\nDefinition\napiRoot\nstring\nSee clause 5.1",
      "chunk_type": "definition",
      "cross_references": [
        "clause_5.1",
        "table_5.3.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.3.2.3.1",
      "section_id": "5.3.2.3.1",
      "section_title": "POST",
      "content": "This method shall support the URI query parameters specified in table 5.3.2.3.1-1.\nTable 5.3.2.3.1-1: URI query parameters supported by the POST method on this resource\nName\nData type\nP\nCardinality\nDescription\nn/a\nThis method shall support the request data structures specified in table 5.3.2.3.1-2 and the response data structures and response codes specified in table 5.3.2.3.1-3.\nTable 5.3.2.3.1-2: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nPolicyAssociationRequest\nM\n1\nInput parameters for the creation of a policy association.\nTable 5.3.2.3.1-3: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse codes\nDescription\nPolicyAssociation\nM\n1\n201 Created\nPolicy association was created and policies are being provided.\nProblemDetails\nO\n0..1\n400 Bad Request\n(NOTE 2)\nNOTE 1:\tThe mandatory HTTP error status codes for the POST method listed in table 5.2.7.1-1 of 3GPP TS 29.500 [5] also apply.\nNOTE 2:\tFailure cases are described in clause 5.7.\nTable 5.3.2.3.1-4: Headers supported by the 201 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains the URI of the newly created resource, according to the structure: {apiRoot}/npcf-ue-policy-control/v1/policies/{polAssoId}",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.7",
        "table_5.3.2.3.1-1",
        "table_5.3.2.3.1-2",
        "table_5.3.2.3.1-3",
        "ts_29.500_table_5.2.7.1-1",
        "table_5.3.2.3.1-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.3.3.1",
      "section_id": "5.3.3.1",
      "section_title": "Description",
      "content": "This resource represents an individual UE policy association.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.525_5.3.3.2",
      "section_id": "5.3.3.2",
      "section_title": "Resource definition",
      "content": "Resource URI: {apiRoot}/npcf-ue-policy-control/v1/policies/{polAssoId}\nThis resource shall support the resource URI variables defined in table 5.3.2.2-1.\nTable 5.3.2.2-1: Resource URI variables for this resource\nName\nData type\nDefinition\napiRoot\nstring\nSee clause 5.1.\npolAssoId\nstring\nIdentifier of a policy association.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_5.1",
        "table_5.3.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.3.3.3.1",
      "section_id": "5.3.3.3.1",
      "section_title": "GET",
      "content": "This method shall support the URI query parameters specified in table 5.3.2.3.1-1.\nTable 5.3.3.3.1-1: URI query parameters supported by the GET method on this resource\nName\nData type\nP\nCardinality\nDescription\nn/a\nThis method shall support the request data structures specified in table 5.3.2.3.1-2 and the response data structures and response codes specified in table 5.3.2.3.1-3.\nTable 5.3.3.3.1-2: Data structures supported by the GET Request Body on this resource\nData type\nP\nCardinality\nDescription\nn/a\nTable 5.3.3.3.1-3: Data structures supported by the GET Response Body on this resource\nData type\nP\nCardinality\nResponse codes\nDescription\nPolicyAssociation\nM\n1\n200 OK\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection, during Individual UE policy retrieval.\nApplicable if the feature \"ES3XX\" is supported.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection, during Individual UE policy retrieval.\nApplicable if the feature \"ES3XX\" is supported.\n(NOTE 2)\nNOTE 1:\tThe mandatory HTTP error status codes for the GET method listed in table 5.2.7.1-1 of 3GPP TS 29.500 [5] also apply.\nNOTE 2:\tThe RedirectResponse data structure may be provided by an SCP/SEPP (refer to clause 6.10.9.1 of 3GPP TS 29.500 [5]).\nTable 5.3.3.3.1-4: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative PCF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP/SEPP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [5].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target PCF (service) instance towards which the request is redirected.\nTable 5.3.3.3.1-5: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative PCF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP/SEPP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [5].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target PCF (service) instance towards which the request is redirected.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "table_5.3.2.3.1-1",
        "table_5.3.3.3.1-1",
        "table_5.3.2.3.1-2",
        "table_5.3.2.3.1-3",
        "table_5.3.3.3.1-2",
        "table_5.3.3.3.1-3",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_5.3.3.3.1-4",
        "table_5.3.3.3.1-5",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.3.3.3.2",
      "section_id": "5.3.3.3.2",
      "section_title": "DELETE",
      "content": "This method shall support the URI query parameters specified in table 5.3.3.3.2-1.\nTable 5.3.3.3.2-1: URI query parameters supported by the DELETE method on this resource\nName\nData type\nP\nCardinality\nDescription\nn/a\nThis method shall support the request data structures specified in table 5.3.3.3.2-2 and the response data structures and response codes specified in table 5.3.3.3.2-3.\nTable 5.3.3.3.2-2: Data structures supported by the DELETE Request Body on this resource\nData type\nP\nCardinality\nDescription\nn/a\nTable 5.3.3.3.2-3: Data structures supported by the DELETE Response Body on this resource\nData type\nP\nCardinality\nResponse codes\nDescription\nn/a\n204 No Content\nThe policy association was successfully deleted.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection, during Individual UE policy deletion.\nApplicable if the feature \"ES3XX\" is supported.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection, during Individual UE policy deletion.\nApplicable if the feature \"ES3XX\" is supported.\n(NOTE 2)\nNOTE 1:\tThe mandatory HTTP error status codes for the DELETE method listed in table 5.2.7.1-1 of 3GPP TS 29.500 [5] also apply.\nNOTE 2:\tThe RedirectResponse data structure may be provided by an SCP/SEPP (refer to clause 6.10.9.1 of 3GPP TS 29.500 [5]).\nTable 5.3.3.3.2-4: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative PCF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP/SEPP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [5].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target PCF (service) instance towards which the request is redirected.\nTable 5.3.3.3.2-5: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative PCF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP/SEPP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [5].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target PCF (service) instance towards which the request is redirected.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "table_5.3.3.3.2-1",
        "table_5.3.3.3.2-2",
        "table_5.3.3.3.2-3",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_5.3.3.3.2-4",
        "table_5.3.3.3.2-5",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.3.3.4.1",
      "section_id": "5.3.3.4.1",
      "section_title": "Overview",
      "content": "Table 5.3.3.4.1-1: Custom operations\nOperation name\nCustom operation URI\nMapped HTTP method\nDescription\nUpdate\n/policies/{polAssoId}/update\nPOST\nReport observed event trigger and obtain updated policies.",
      "chunk_type": "definition",
      "cross_references": [
        "table_5.3.3.4.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.3.3.4.2.1",
      "section_id": "5.3.3.4.2.1",
      "section_title": "Description",
      "content": "The update custom operation allows an NF service consumer to report the occurrence on one or more policy request trigger(s) and to obtain related updated policies.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.525_5.3.3.4.2.2",
      "section_id": "5.3.3.4.2.2",
      "section_title": "Operation Definition",
      "content": "This operation shall support the request data structures specified in table 5.3.3.4.2.2-1 and the response data structure and response codes specified in table 5.3.3.4.2.2-2.\nTable 5.3.3.4.2.2-1: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nPolicyAssociationUpdateRequest\nM\n1\nDescribes the observed policy control request trigger(s).\nTable 5.3.3.4.2.2-2: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse codes\nDescription\nPolicyUpdate\nM\n1\n200 OK\nDescribes updated policies.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection, during Individual UE policy modification.\nApplicable if the feature \"ES3XX\" is supported.\n(NOTE 3)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection, during Individual UE policy modification.\nApplicable if the feature \"ES3XX\" is supported.\n(NOTE 3)\nProblemDetails\nO\n0..1\n400 Bad Request\n(NOTE 2)\nProblemDetails\nO\n0..1\n404 Not Found\n(NOTE 2)\nNOTE 1:\tThe mandatory HTTP error status codes for the POST method listed in table 5.2.7.1-1 of 3GPP TS 29.500 [5] also apply.\nNOTE 2:\tFailure cases are described in clause 5.7.\nNOTE 3:\tThe RedirectResponse data structure may be provided by an SCP/SEPP (refer to clause 6.10.9.1 of 3GPP TS 29.500 [5]).\nTable 5.3.3.4.2.2-3: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative PCF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP/SEPP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [5].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target PCF (service) instance towards which the request is redirected.\nTable 5.3.3.4.2.2-4: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative PCF (service) instance towards which the request is redirected.\nFor the case where the request is redirected to the same target via a different SCP/SEPP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [5].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target PCF (service) instance towards which the request is redirected.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_5.7",
        "ts_29.500_clause_6.10.9.1",
        "table_5.3.3.4.2.2-1",
        "table_5.3.3.4.2.2-2",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_5.3.3.4.2.2-3",
        "table_5.3.3.4.2.2-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.4",
      "section_id": "5.4",
      "section_title": "Custom Operations without associated resources",
      "content": "None.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.525_5.5.1",
      "section_id": "5.5.1",
      "section_title": "General",
      "content": "Table 5.5.1-1: Notifications overview\nNotification\nCallback URI\nHTTP method or custom operation\nDescription (service operation)\nPolicy Update Notification\n{notificationUri}/update\nupdate (POST)\nPolicy Update Notification.\nRequest for termination of the UE policy association\n{notificationUri}/terminate\ntermminate (POST)\nRequest for termination of the policy association.",
      "chunk_type": "definition",
      "cross_references": [
        "table_5.5.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.5.2.1",
      "section_id": "5.5.2.1",
      "section_title": "Description",
      "content": "This notification is used by the H-PCF to provide updates of UE policies to the V-PCF as NF service consumer, and used by the V-PCF to provide updates of policy control request triggers to the AMF as NF service consumer.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.525_5.5.2.2",
      "section_id": "5.5.2.2",
      "section_title": "Operation Definition",
      "content": "This operation shall support the request data structures specified in table 5.5.2.2-1 and the response data structure and response codes specified in table 5.5.2.2-2.\nTable 5.5.2.2-1: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nPolicyUpdate\nM\n1\nUpdated policies.\nTable 5.5.2.2-2: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse codes\nDescription\nUeRequestedValueRep\nM\n1\n200 OK\nThe current applicable values corresponding to the policy control request trigger are reported.\nn/a\n204 No Content\nThe policies were successfully updated.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection, during UE policy notification.\nApplicable if the feature \"ES3XX\" is supported.\n(NOTE 3)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection, during UE policy notification.\nApplicable if the feature \"ES3XX\" is supported.\n(NOTE 3)\nProblemDetails\nO\n0..1\n404 Not Found\nThe NF service consumer can use this response when the notification can be sent to another unknown host.\nApplicable if the feature \"ErrorResponse\" is supported.\nProblemDetails\nO\n0..1\n400 Bad Request\n(NOTE 2)\nNOTE 1:\tThe mandatory HTTP error status codes for the POST method listed in table 5.2.7.1-1 of 3GPP TS 29.500 [5] also apply.\nNOTE 2:\tFailure cases are described in clause 5.7.\nNOTE 3:\tThe RedirectResponse data structure may be provided by an SCP/SEPP (refer to clause 6.10.9.1 of 3GPP TS 29.500 [5]).\nTable 5.5.2.2-3: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative NF service consumer (service) instance towards which the notification should be redirected.\nFor the case where the request is redirected to the same target via a different SCP/SEPP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [5].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance towards which the notification request is redirected. May be included if the feature \"ES3XX\" is supported.\nTable 5.5.2.2-4: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in representing the end point of an alternative NF consumer (service) instance towards which the notification should be redirected.\nFor the case where the request is redirected to the same target via a different SCP/SEPP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [5].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance towards which the notification request is redirected.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_5.7",
        "ts_29.500_clause_6.10.9.1",
        "table_5.5.2.2-1",
        "table_5.5.2.2-2",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_5.5.2.2-3",
        "table_5.5.2.2-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.5.3.1",
      "section_id": "5.5.3.1",
      "section_title": "Description",
      "content": "This notification is used by the PCF to request the termination of a UE policy association.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.525_5.5.3.2",
      "section_id": "5.5.3.2",
      "section_title": "Operation Definition",
      "content": "This operation shall support the request data structures specified in table 5.5.3.2-1 and the response data structure and response codes specified in table 5.5.3.2-2.\nTable 5.5.3.2-1: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nTerminationNotification\nM\n1\nRequest to terminate the policy association.\nTable 5.5.3.2-2: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse codes\nDescription\nn/a\n204 No Content\nThe request for policy association termination was received.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection, during UE policy notification.\nApplicable if the feature \"ES3XX\" is supported.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection, during UE policy notification.\nApplicable if the feature \"ES3XX\" is supported.\n(NOTE 2)\nProblemDetails\nO\n0..1\n404 Not Found\nThe NF service consumer can use this response when the notification can be sent to another unknown host.\nNOTE 1:\tThe mandatory HTTP error status codes for the POST method listed in table 5.2.7.1-1 of 3GPP TS 29.500 [5] also apply.\nNOTE 2:\tThe RedirectResponse data structure may be provided by an SCP/SEPP (refer to clause 6.10.9.1 of 3GPP TS 29.500 [5]).\nTable 5.5.3.2-3: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resource located in an alternative NF consumer (service) instance towards which the notification should be redirected.\nFor the case where the request is redirected to the same target via a different SCP/SEPP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [5].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance towards which the notification request is redirected. It may be included if the feature \"ES3XX\" is supported.\nTable 5.5.3.2-4: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains an alternative URI of the resources located in an alternative NF consumer (service) instance towards which the notification should be redirected.\nFor the case where the request is redirected to the same target via a different SCP/SEPP, refer to clause 6.10.9.1 of 3GPP TS 29.500 [5].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance towards which the notification request is redirected.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_6.10.9.1",
        "table_5.5.3.2-1",
        "table_5.5.3.2-2",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_5.5.3.2-3",
        "table_5.5.3.2-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.6.1",
      "section_id": "5.6.1",
      "section_title": "General",
      "content": "This clause specifies the application data model supported by the API.\nTable 5.6.1-1 specifies the data types defined for the Npcf_UEPolicyControl service based interface protocol.\nTable 5.6.1-1: Npcf_UEPolicyControl specific Data Types\nData type\nSection defined\nDescription\nApplicability\nA2xCapability\n5.6.3.12\nIndicates the A2X capabilities\nA2X\nLboRoamingInformation\n5.6.2.10\nLBO roaming information for a DNN and S-NSSAI\nVPLMNSpecificURSP\nN1N2MessTransferErrorReply\n5.6.3.8\nError the V-PCF may send to the H-PCF when the V-PCF receives from the AMF an error to the N1N2MessageTransfer request.\nEnErrorHandling\nNon3gppAccess\n5.6.3.7\nRepresents a Non-3gpp access node.\nSliceAwareANDSP\nPc5Capability\n5.6.3.5\nIndicates the specific PC5 RAT(s) which the UE supports for V2X communications and/or A2X communications over PC5 reference point.\nV2X\nProSeCapability\n5.6.3.6\nIndicates the 5G ProSe capabilities.\nProSe\nPolicyAssociation\n5.6.2.2\nDescription of a policy association that is returned by the PCF when a policy Association is created, or read.\nPolicyAssociationReleaseCause\n5.6.3.4\nThe cause why the PCF requests the termination of the policy association.\nPolicyAssociationRequest\n5.6.2.3\nInformation that NF service consumer provides when requesting the creation of a policy association.\nPolicyAssociationUpdateRequest\n5.6.2.4\nInformation that NF service consumer provides when requesting the update of a policy association.\nPolicyStatus\n5.6.3.10\nRepresents the configuration status of a UE Policy in the UE.\nSliceAwareANDSP\nPolicyUpdate\n5.6.2.5\nUpdated policies that the PCF provides in a notification or in the reply to an Update Request.\nRangSLCapability\n5.6.3.10\nRepresents the Ranging/SL capabilities.\nRanging_SL\nRequestTrigger\n5.6.3.3\nEnumeration of possible Request Triggers.\nSliceSpecificN3gNodeSelectionCapability\n5.6.3.13\nRepresents the UE capabilities with regard to slice-specific non-3gpp node selection.\nSliceAwareANDSP\nTerminationNotification\n5.6.2.6\nRequest to terminate a policy Association that the PCF provides in a notification.\nUeRequestedValueRep\n5.6.2.8\nContains the current applicable values corresponding to the policy control request triggers.\nImmediateReport\nUePolicy\n5.6.3.2\nUE Policies\nUePolicyDeliveryResult\n5.6.3.2\nUE Policy delivery Result\nUePolicyNotification\n5.6.2.12\nContains the delivery outcome of VPLMN-Specific URSP rules\nVPLMNSpecificURSP\nUePolicyParameters\n5.6.2.9\nContains the service parameters used to guide the VPLMN-specific URSP rule determination.\nVPLMNSpecificURSP\nUePolicyRequest\n5.6.3.2\nRequest for UE Policies\nUePolicyTransferFailureCause\n5.6.4.1\nUE Policy Transfer Failure Cause\nEnErrorHandling\nUePolicyTransferFailureNotification\n5.6.2.7\nInformation that the UE policy is failure to be transferred to the UE.\nUrspEnforcementPduSession\n5.6.2.11\nRepresents URSP rule enforcement information for a PDU session.\nURSPEnforcement\nTable 5.6.1-2 specifies data types re-used by the Npcf_UEPolicyControl service based interface protocol from other specifications, including a reference to their respective specifications and when needed, a short description of their use within the Npcf_UEPolicyControl service based interface.\nTable 5.6.1-2: Npcf_UEPolicyControl re-used Data Types\nData type\nReference\nComments\nApplicability\nAccessType\n3GPP TS 29.571 [11]\nRepresents an Access Type.\nBytes\n3GPP TS 29.571 [11]\nString with format \"byte\".\nChargingInformation\n3GPP TS 29.512 [31]\nContains the addresses, and if available, the instance ID and set ID, of the charging functions.\nSLAMUP\nConfiguredSnssai\n3GPP TS 29.531 [34]\nContains the configured S-NSSAI and optionally mapped home S-NSSA.\nSliceAwareANDSP,\nNssaiChange\nCmState\n3GPP TS 29.518 [14]\nConnectivity state of UE\nConnectivityStateChange\nDnn\n3GPP TS 29.571 [11]\nRepresents a DNN.\nVPLMNSpecificURSP\nURSPEnforcement\nEvent\n3GPP TS 29.522 [41]\nSubscription to notification about delivery of VPLMN specific URSP rule.\nVPLMNSpecificURSP\nFqdn\n3GPP TS 29.571 [11]\nFQDN\nGpsi\n3GPP TS 29.571 [11]\nGeneric Public Subscription Identifier\nGroupId\n3GPP TS 29.571 [11]\nRepresents a UE Group Identifier\nGuami\n3GPP TS 29.571 [11]\nGlobally Unique AMF Identifier\nIpv4Addr\n3GPP TS 29.571 [11]\nRepresents an Ipv4 address.\nIpv6Addr\n3GPP TS 29.571 [11]\nRepresents an Ipv6 address.\nN1N2MessageTransferCause\n3GPP TS 29.518 [14]\nContains an error cause for an N1 or N2 message transfer.\nN2InfoContent\n3GPP TS 29.518 [14]\nRepresents a transparent N2 information content to be relayed by AMF.\nV2X, A2X, ProSe, Ranging_SL\nNfInstanceId\n3GPP TS 29.571 [11]\nRepresents an NF instance identifier\nNfSetId\n3GPP TS 29.571 [11]\nRepresents an NF set identifier\nEnhEstRoaming\nPcEventNotification\n3GPP TS 29.523 [30]\nRepresents notification about UE Policy Delivery outcome\nVPLMNSpecificURSP\nPcfUeCallbackInfo\n3GPP TS 29.571 [11]\nContains the PCF for the UE callback information necessary for the PCF for the PDU session to send Establishment and Termination event.\nURSPEnforcement\nPduSessionInfo\n3GPP TS 29.571 [11]\nContains a DNN and SNSSAI combination\nVPLMNSpecificURSP\nURSPEnforcement\nPduSessionType\n3GPP TS 29.571 [13]\nContains the PDU Session Type\nURSPEnforcement\nPei\n3GPP TS 29.571 [11]\nPermanent Equipment Identifier\nPlmnId\n3GPP TS 29.571 [11]\nRepresents a PLMN identifier.\nPlmnIdNid\n3GPP TS 29.571 [11]\nIdentifies the network: PLMN Identifier or the SNPN Identifier (the PLMN Identifier and the NID).\nPresenceInfo\n3GPP TS 29.571 [11]\nPresence reporting area information\nPresenceInfoRm\n3GPP TS 29.571 [11]\nThis data type is defined in the same way as the \"PresenceInfo\" data type, but with the OpenAPI \"nullable: true\" property.\nPresenceInfo\nProblemDetails\n3GPP TS 29.571 [11]\nContains detailed information about an error response.\nRatType\n3GPP TS 29.571 [11]\nRepresents a RAT type.\nRedirectResponse\n3GPP TS 29.571 [11]\nContains redirection related information.\nES3XX\nServiceName\n3GPP TS 29.510 [13]\nName of the service instance.\nSatelliteBackhaulCategory\n3GPP TS 29.571 [11]\nIndicates the satellite backhaul category or non-satellite backhaul.\nEnSatBackhaulCategoryChg\nSnssai\n3GPP TS 29.571 [11]\nRepresents an S-NSSAI\nSliceAwareANDSP\nSscMode\n3GPP TS 29.571 [11]\nService and session continuity mode.\nURSPEnforcement\nSupi\n3GPP TS 29.571 [11]\nSubscription Permanent Identifier\nSupportedFeatures\n3GPP TS 29.571 [11]\nUsed to negotiate the applicability of the optional features defined in table 5.8-1.\nTimeZone\n3GPP TS 29.571 [11]\nRepresents a time zone.\nUinteger\n3GPP TS 29.571 [11]\nUnsigned integer.\nUri\n3GPP TS 29.571 [11]\nRepresents a URI.\nUrspEnforcementInfo\n3GPP TS 29.512 [31]\nURSP rule enforcement information as received from the UE.\nURSPEnforcement\nUrspRuleRequest\n3GPP TS 29.522 [41]\nURSP rule guidance information\nVPLMNSpecificURSP\nUserLocation\n3GPP TS 29.571 [11]\nContains User Location information.",
      "chunk_type": "definition",
      "cross_references": [
        "table_5.6.1-1",
        "table_5.6.1-2",
        "ts_29.571_table_5.8-1",
        "ts_29.571",
        "ts_29.512",
        "ts_29.531",
        "ts_29.518",
        "ts_29.522",
        "ts_29.523",
        "ts_29.510"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.6.2.1",
      "section_id": "5.6.2.1",
      "section_title": "Introduction",
      "content": "This clause defines the structures to be used in resource representations.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.525_5.6.2.2",
      "section_id": "5.6.2.2",
      "section_title": "Type PolicyAssociation",
      "content": "Table 5.6.2.2-1: Definition of type PolicyAssociation\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nrequest\nPolicyAssociationRequest\nO\n0..1\nThe information provided by the NF service consumer when requesting the creation of a policy association\nuePolicy\nUePolicy\nO\n0..1\nThe UE policy as determined by the H-PCF (for the H-PCF as NF service producer).\nn2Pc5Pol\nN2InfoContent\nO\n0..1\nThe N2 PC5 policy for V2X communications as determined by the H-PCF.\nV2X\nn2Pc5PolA2x\nN2InfoContent\nO\n0..1\nThe N2 PC5 policy for A2X communications as determined by the H-PCF.\nA2X\nn2Pc5ProSePol\nN2InfoContent\nO\n0..1\nThe N2 PC5 policy for 5G ProSe as determined by the PCF.\nProSe\ntriggers\narray(RequestTrigger)\nO\n1..N\nRequest Triggers to which the PCF subscribes.\n(NOTE 1)\npras\nmap(PresenceInfo)\nC\n1..N\nIf the Request Trigger \"PRA_CH\" is provided, the presence reporting area(s) for which reporting is requested shall be provided. The \"praId\" attribute within the PresenceInfo data type shall also be the key of the map. The \"presenceState\" and the \"additionalPraId\" attributes within the PresenceInfo data type shall not be supplied. The \"praId\" attribute within the PresenceInfo data type shall include the identifier of either a presence reporting area or a presence reporting area set.\nandspDelInd\nPolicyStatus\nO\n0..1\nInformation about whether the updated ANDSP/WLANSP has been successfully delivered to the UE.\nSliceAwareANDSP\nandspInd\nboolean\nO\n0..1\nIndication of UE support of ANDSP.\nTrue: The UE supports ANDSP;\nFalse: The UE does not support ANDSP.\nUECapabilityIndication\npduSessions\narray(PduSessionInfo)\nO\n1..N\nContains the DNNs and S-NSSAIs for which LBO information is being requested. It may be provided when the \"LBO_INFO_CH\" request trigger is provided.\nVPLMNSpecificURSP\nchfInfo\nChargingInformation\nO\n0..1\nContains the CHF address(es), and if available, the associated CHF instance ID(s) and CHF set ID(s). (NOTE 3)\nSLAMUP\nsuppFeat\nSupportedFeatures\nM\n1\nIndicates the negotiated supported features.\nn2Pc5RsppPol\nN2InfoContent\nO\n0..1\nThe N2 PC5 policy for Ranging/SL as determined by the H-PCF.\nRanging_SL\npcfUeInfo\nPcfUeCallbackInfo\nO\n0..1\nContains the PCF for the UE information necessary for the PCF for the PDU session to send established/terminated events notifications to the PCF for the UE.\nURSPEnforcement\nmatchPdus\narray(PduSessionInfo)\nC\n1..N\nIndicates the matched PDU session(s) for which the AMF shall forward the PCF for the UE callback information in the \"pcfUeInfo\" attribute to the SMF. It shall be present when the \"pcfUeInfo\" attribute is present.\n(NOTE 2)\nURSPEnforcement\nNOTE 1:\tOnly the RequestTrigger enumeration values corresponding to PCRTs that require explicit subscription as defined in clause 5.6.3.3 shall be applicable within the \"triggers\" attribute.\nNOTE 2:\tThe DNN encoded within the PduSessionInfo element(s) of the \"matchPdus\" array may contain a full DNN or only the DNN Network Identifier. When the DNN contains the Network Identifier only, the AMF shall match a PDU session for the received Network Identifier and for any value of the Operator Identifier.\nNOTE 3:\tThis attribute may only be supplied by the PCF in the response to the initial POST request that requested the creation of an individual UE policy resource.",
      "chunk_type": "general",
      "cross_references": [
        "clause_5.6.3.3",
        "table_5.6.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.6.2.3",
      "section_id": "5.6.2.3",
      "section_title": "Type PolicyAssociationRequest",
      "content": "Table 5.6.2.3-1: Definition of type PolicyAssociationRequest\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nnotificationUri\nUri\nM\n1\nIdentifies the recipient of Notifications sent by the PCF.\naltNotifIpv4Addrs\narray(Ipv4Addr)\nO\n1..N\nAlternate or backup IPv4 Addess(es) where to send Notifications.\naltNotifIpv6Addrs\narray(Ipv6Addr)\nO\n1..N\nAlternate or backup IPv6 Addess(es) where to send Notifications.\naltNotifFqdns\narray(Fqdn)\nO\n1..N\nAlternate or backup FQDN(s) where to send Notifications.\nsupi\nSupi\nM\n1\nSubscription Permanent Identifier.\ngpsi\nGpsi\nC\n0..1\nGeneric Public Subscription Identifier. Shall be provided when available.\naccessType\nAccessType\nC\n0..1\nThe Access Type where the served UE is camping. Shall be provided when available.\naccessTypes\narray(AccessType)\nC\n1..N\nThe Access Type(s) where the served UE is camping. Shall be provided when available.\nAccessChange\npei\nPei\nC\n0..1\nThe Permanent Equipment Identifier of the served UE. Shall be provided when available.\nuserLoc\nUserLocation\nC\n0..1\nThe location of the served UE. Shall be provided when available.\ntimeZone\nTimeZone\nC\n0..1\nThe time zone of the network where the served UE is camping. Shall be provided when available.\nservingPlmn\nPlmnIdNid\nC\n0..1\nThe serving network (a PLMN or an SNPN) where the served UE is camping. For the SNPN the NID together with the PLMN ID identifies the SNPN. Shall be provided when available.\nratType\nRatType\nC\n0..1\nThe RAT Type where the served UE is camping. Shall be provided when available.\nratTypes\narray(RatType)\nC\n1..N\nThe RAT Type(s) where the served UE is camping. Shall be provided when available.\nAccessChange\ngroupIds\narray(GroupId)\nC\n1..N\nInternal Group Identifier(s) of the served UE. Shall be provided when available.\nhPcfId\nNfInstanceId\nC\n0..1\nH-PCF Identifier. Shall be provided by the AMF in roaming scenarios when available.\nhPcfUri\nUri\nC\n0..1\nH-PCF URI. It shall be provided by the AMF in roaming scenarios, if available.\nWhen present, it shall contain the API URI of the Npcf_UEPolicyControl service of the H-PCF ID indicated in the \"hPcfId\" attribute. The API URI shall take the form specified in clause 5.1.\nEnhEstRoaming\nhPcfSetId\nNfSetId\nC\n0..1\nH-PCF Set Identifier of the H-PCF instance indicated in the \"hPcfId\" attribute. It shall be provided by the AMF in roaming scenarios, if available.\nEnhEstRoaming\nuePolReq\nUePolicyRequest\nC\n0..1\nA request for UE Policies. Shall be provided when the AMF receives an \"UE STATE INDICATION\" message, as defined in Annex D.5.4 of 3GPP TS 24.501 [15].\nguami\nGuami\nC\n0..1\nThe Globally Unique AMF Identifier (GUAMI) shall be provided by an AMF as NF service consumer.\nserviceName\nServiceName\nO\n0..1\nIf the NF service consumer is an AMF, it should provide the name of a service produced by the AMF that makes use of information received within the Npcf_UEPolicyControl_UpdateNotify service operation.\nservingNfId\nNfInstanceId\nC\n0..1\nIf the NF service consumer is an AMF, it shall contain the identifier of the serving AMF.\npc5Capab\nPc5Capability\nC\n0..1\nIndicates the PC5 Capability for V2X communications supported by the UE. It shall be provided when available at the NF service consumer.\nV2X\na2xCapab\narray(A2xCapability)\nC\n1..N\nIndicates the A2X Capabilities for A2X communications supported by the UE. It shall be provided when available at the NF service consumer.\nA2X\nproSeCapab\narray(ProSeCapability)\nC\n1..N\nIndicates whether the UE is capable of one or more of the the following 5G ProSe Capabilities: 5G ProSe Direct Discovery, 5G ProSe Direct Communication, Layer-2 and/or Layer 3 5G ProSe UE-to-Network Relay and Layer-2 and/or Layer 3 5G ProSe Remote UE, and when the \"ProSe_Ph2\" feature is supported, Layer-2 and/or Layer-3 5G ProSe UE-to-UE Relay and Layer-2 and/or Layer-3 5G ProSe End UE.\nIt shall be provided when available at the NF service consumer.\nProSe\nconfSnssais\narray(ConfiguredSnssai)\nC\n1..N\nThe Configured NSSAI for the serving PLMN, and optionally the mapped S-NSSAI value of home network corresponding to the configured S-NSSAI in the serving PLMN.\nWhen the feature SliceAwareANDSP is supported, it shall be provided in the roaming case when available at the NF service consumer and the \"n3gNodeReSel\" attribute is present.\nIf the feature NssaiChange is supported, it shall be provided in the roaming case. (NOTE 1)\nSliceAwareANDSP, NssaiChange\nn3gNodeReSel\nNon3gppAccess\nO\n0..1\nA wrongly selected non-3gpp access node. It shall be provided when the UE has selected a non-3gpp access node that is not compatible with the Allowed NSSAI.\nSliceAwareANDSP\nsliceN3gNodeSelCap\nSliceSpecificN3gNodeSelectionCapability\nO\n0..1\nIndicates whether the UE supports N3IWF/TNGF selection based on the slices the UE wishes to use over untrusted/trusted non-3GPP access.\nSliceAwareANDSP\nsatBackhaulCategory\nSatelliteBackhaulCategory\nC\n0..1\nIndicates types of the satellite backhaul based on satellite types (when satellite backhaul is used) or non-satellite backhaul (when satellite backhaul is not used).\nThe default value \"NON_SATELLITE\" shall apply if the attribute is not present.\nEnSatBackhaulCategoryChg\nvpsUePolGuidance\nmap(UePolicyParameters)\nO\n1..N\nContains the service parameter used to guide the VPLMN-specific URSP and may contain the subscription to VPLMN-specific URSP delivery outcome. The key of the map represents the AF request to guide the VPLMN-specific URSP rules.\nThis attribute only applies in roaming and when the V-PCF is the NF service consumer.\nVPLMNSpecificURSP\nlboRoamInfo\narray(LboRoamingInformation)\nO\n1..N\nContains LBO roaming information for DNN and S-NSSAI combination(s).\nThis attribute only applies in roaming and when the AMF is the NF service consumer.\nVPLMNSpecificURSP\n5gsToEpsMob\nboolean\nO\n0..1\nWhen it is set to true, it indicates the UE Policy Association creation is triggered by a 5GS to EPS mobility scenario.\nDefault value is false.\nEpsUrsp\ns   uppFeat\nSupportedFeatures\nM\n1\nIndicates the features supported by the service consumer.\nrangSlCapab\narray(RangSLCapability)\nC\n1..N\nContains the Ranging/SL related UE capabilities.\nIt shall be provided when available at the NF service consumer.\nRanging_SL\nNOTE 1:\tThe \"mappedHomeSnssai\" attribute within the ConfiguredSnssai data type may only be provided if the \"NssaiChange\" feature is supported.",
      "chunk_type": "general",
      "cross_references": [
        "clause_5.1",
        "table_5.6.2.3-1",
        "ts_24.501"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.6.2.4",
      "section_id": "5.6.2.4",
      "section_title": "Type PolicyAssociationUpdateRequest",
      "content": "Table 5.6.2.4-1: Definition of type PolicyAssociationUpdateRequest\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nnotificationUri\nUri\nO\n0..1\nIdentifies the recipient of Notifications sent by the PCF.\naltNotifIpv4Addrs\narray(Ipv4Addr)\nO\n1..N\nAlternate or backup IPv4 Address(es) where to send Notifications.\naltNotifIpv6Addrs\narray(Ipv6Addr)\nO\n1..N\nAlternate or backup IPv6 Address(es) where to send Notifications.\naltNotifFqdns\narray(Fqdn)\nO\n1..N\nAlternate or backup FQDN(s) where to send Notifications.\ntriggers\narray(RequestTrigger)\nC\n1..N\nRequest Triggers that the NF service consumer observes.\npraStatuses\nmap(PresenceInfo)\nC\n1..N\nIf the Trigger \"PRA_CH\" is reported, the UE presence status for tracking area for which changes of the UE presence occurred shall be provided. The \"praId\" attribute within the PresenceInfo data type shall also be the key of the map. The \"presenceState\" attribute within the PresenceInfo data type shall be supplied. The \"additionalPraId\" attribute within the PresenceInfo data type shall not be supplied. The \"praId\" attribute within the PresenceInfo data type shall include the identifier of an individual presence reporting area.\nuserLoc\nUserLocation\nC\n0..1\nThe location of the served UE shall be provided for trigger \"LOC_CH\".\nuePolDelResult\nUePolicyDeliveryResult\nC\n0..1\nUE Policy Delivery Result. Shall be provided together with trigger \"UE_POLICY\" when a \"MANAGE UE POLICY COMPLETE\" message or a \"MANAGE UE POLICY COMMAND REJECT\" message, as defined in Annex D.5 of 3GPP TS 24.501 [15], has been received by the V-PCF and is being forwarded to the H-PCF.\nuePolTransFailNotif\nUePolicyTransferFailureNotification\nC\n0..1\nThe UE policy transfer failure notification. Shall be the provided together with trigger \"UE_POLICY\" when a response with HTTP status code 4xx or 5xx as defined in clause 5.2.2.3.1.2 of 3GPP TS 29.518 [14] or a N1N2 Transfer Failure Notification as defined in clause 5.2.2.3.2 of 3GPP TS 29.518 [14] is received after the V-PCF provisioned the UE policy by invoking the Namf_Communication_N1N2MessageTransfer service operation to the AMF and is notifying the H-PCF.\nuePolReq\nUePolicyRequest\nC\n0..1\nA request for UE Policies. Shall be provided together with trigger \"UE_POLICY\" when the V-PCF receives an \"UE POLICY PROVISIONING REQUEST\" message, as defined in clause 7.2.1.1 of 3GPP TS 24.587 [24], if the \"V2X\" feature is supported, and/or when the V-PCF receives an \"UE POLICY PROVISIONING REQUEST\" message for 5G ProSe, as defined in clause 10.4.1 of 3GPP TS 24.554 [28], if the \"ProSe\" feature is supported and/or when the V-PCF receives an \"UE POLICY PROVISIONING REQUEST\" message for A2X, as defined 3GPP TS 24.577 [32], if the \"A2X\" feature is supported and/or when the V-PCF receives an \"UE POLICY PROVISIONING REQUEST\" message for Ranging/SL, as defined 3GPP TS 24.514 [42], if the \"Ranging_SL\" feature is supported..\nV2X, A2X, ProSe, Ranging_SL\nguami\nGuami\nC\n0..1\nThe Globally Unique AMF Identifier (GUAMI) shall be provided by an AMF as NF service consumer during the AMF relocation.\nservingNfId\nNfInstanceId\nC\n0..1\nIt shall contain the identifier of the new AMF during the AMF relocation.\nplmnId\nPlmnIdNid\nC\n0..1\nThe serving network identity (a PLMN or an SNPN) of the served UE shall be provided for trigger \"PLMN_CH\".\nPlmnChange\nconnectState\nCmState\nC\n0..1\nThe connectivity state of the served UE shall be provided for trigger \"CON_STATE_CH\".\nConnectivityStateChange\ngroupIds\narray(GroupId)\nC\n1..N\nInternal Group Identifier(s) of the served UE. Shall be provided for trigger \"GROUP_ID_LIST_CHG\".\nGroupIdListChange\npc5Capab\nPc5Capability\nC\n0..1\nIndicates the PC5 Capability for V2X communications supported by the UE. It shall be provided when available at the NF service consumer.\nIt shall be included by the target AMF only in inter-AMF mobility scenarios and for trigger \"FEAT_RENEG\". It requires that the \"V2X\" feature is supported.\nFeatureRenegotiation\na2xCapab\narray(A2xCapability)\nC\n1..N\nIndicates the A2X capabilities supported by the UE. It shall be provided when available at the NF service consumer.\nIt shall be included by the target AMF only in inter-AMF mobility scenarios and for trigger \"FEAT_RENEG\". It requires that the \"A2X\" feature is supported.\nFeatureRenegotiation\nproSeCapab\narray(ProSeCapability)\nO\n1..N\nIndicates whether the UE is capable of one or more of the the following 5G ProSe Capabilities: 5G ProSe Direct Discovery, 5G ProSe Direct Communication, Layer-2 and/or Layer 3 5G ProSe UE-to-Network Relay and Layer-2 and/or Layer 3 5G ProSe Remote UE, and when the \"ProSe_Ph2\" feature is supported, Layer-2 and/or Layer-3 5G ProSe UE-to-UE Relay and Layer-2 and/or Layer-3 5G ProSe End UE.\nProSe\nconfSnssais\narray(ConfiguredSnssai)\nC\n1..N\nThe Configured NSSAI for the serving PLMN, and optionally the mapped S-NSSAI value of home network corresponding to the configured S-NSSAI in the serving PLMN. It shall be provided in case of roaming for trigger \"CONF_NSSAI_CH\" or for trigger \"NON_3GPP_NODE_RESELECTION\". (NOTE)\nSliceAwareANDSP, NssaiChange\nn3gNodeReSel\nNon3gppAccess\nO\n0..1\nA wrongly selected non-3gpp access node. It shall be provided when available at the NF service consumer and the \"NON_3GPP_NODE_RESELECTION\" trigger is reported within the \"triggers\" attribute.\nSliceAwareANDSP\nsliceN3gNodeSelCap\nSliceSpecificN3gNodeSelectionCapability\nO\n0..1\nIndicates whether the UE supports N3IWF/TNGF selection based on the slices the UE wishes to use over untrusted/trusted non-3GPP access.\nIt may be included by the target AMF only in inter-AMF mobility scenarios and for trigger \"FEAT_RENEG\". It requires that the \"SliceAwareANDSP\" feature is supported.\nFeatureRenegotiation\nsatBackhaulCategory\nSatelliteBackhaulCategory\nC\n0..1\nIndicates types of the satellite backhaul based on satellite types (when satellite backhaul is used) or non-satellite backhaul (when satellite backhaul is not used).\nIt shall be provided for trigger \"SAT_CATEGORY_CHG\".\nEnSatBackhaulCategoryChg\nurspEnfRep\nmap(UrspEnforcementPduSession)\nO\n1..N\nRepresents information about the enforced URSP rule(s) in one or more PDU sessions for the affected UE.\nThe key of the map is a character string that represents an integer value (it may correspond with a PDU session identifier).\nIt shall be present when the notified policy control request trigger is \"URSP_ENF_INFO\".\nURSPEnforcement\nvpsUePolGuidance\nmap(UePolicyParameters)\nO\n1..N\nContains the service parameter used to guide the VPLMN-specific URSP rule determination and may contain the subscription to VPLMN-specific URSP delivery outcome. The key of the map represents the AF request to guide VPLMN-specific URSP rules.\nThis attribute only applies in roaming and when the V-PCF is the NF service consumer.\nVPLMNSpecificURSP\nlboRoamInfo\narray(LboRoamingInformation)\nO\n1..N\nContains LBO roaming information for a DNN and S-NSSAI combination(s).\nThis attribute only applies in roaming and when the AMF is the NF service consumer.\nVPLMNSpecificURSP\naccessTypes\narray(AccessType)\nC\n1..N\nThe Access Type(s) where the served UE is camping. It shall be provided for trigger \"ACCESS_TYPE_CH\" when the access type(s) changes or when the access type(s) is initially reported as consequence of the provisioning of the trigger.\nAccessChange\nratTypes\narray(RatType)\nC\n1..N\nThe RAT Type(s), if available, for the reported \"accessTypes\" where the served UE is camping. It shall be provided, if available, for trigger \"ACCESS_TYPE_CH\" when the access type(s) changes or when the access type(s) is initially reported as consequence of the provisioning of the trigger.\nAccessChange\nsuppFeat\nSupportedFeatures\nC\n0..1\nIndicates the features supported by the NF service consumer.It shall be included by the target AMF in inter-AMF mobility scenarios for trigger \"FEAT_RENEG\".\nFeatureRenegotiation\nrangSlCapab\narray(RangSLCapability)\nO\n1..N\nContains the Ranging/SL related UE capabilities.\nRanging_SL\nNOTE:\tThe \"mappedHomeSnssai\" attribute within the ConfiguredSnssai data type may only be provided if the \"NssaiChange\" feature is supported.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.518_clause_5.2.2.3.1.2",
        "ts_29.518_clause_5.2.2.3.2",
        "ts_24.587_clause_7.2.1.1",
        "ts_24.554_clause_10.4.1",
        "table_5.6.2.4-1",
        "ts_24.501",
        "ts_29.518",
        "ts_24.587",
        "ts_24.554",
        "ts_24.577",
        "ts_24.514"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.6.2.5",
      "section_id": "5.6.2.5",
      "section_title": "Type PolicyUpdate",
      "content": "Table 5.6.2.5-1: Definition of type PolicyUpdate\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nresourceUri\nUri\nM\n1\nThe resource URI of the individual UE policy association related to the notification.\n(NOTE 2)\nuePolicy\nUePolicy\nO\n0..1\nThe UE policy as determined by the H-PCF.\nn2Pc5Pol\nN2InfoContent\nO\n0..1\nThe N2 PC5 policy for V2X communications as determined by the H-PCF.\nV2X\nn2Pc5PolA2x\nN2InfoContent\nO\n0..1\nThe N2 PC5 policy for A2X communications as determined by the H-PCF.\nA2X\nn2Pc5ProSePol\nN2InfoContent\nO\n0..1\nThe N2 PC5 policy for 5G ProSe as determined by the PCF.\nProSe\ntriggers\narray(RequestTrigger)\nO\n1..N\nRequest Triggers that the PCF subscribes.\n(NOTE 1)\npras\nmap(PresenceInfoRm)\nC\n1..N\nIf the Trigger \"PRA_CH\" is provided or if that trigger was already set but the requested presence reporting areas need to be changed, the presence reporting area(s) for which reporting is requested shall be provided. The \"praId\" attribute within the PresenceInfoRm data type shall also be the key of the map. The \"presenceState\" attribute within the PresenceInfo data type shall not be supplied. The \"praId\" attribute within the PresenceInfo data type shall include the identifier of either a presence reporting area or a presence reporting area set.\nPresenceInfo\nandspDelInd\nPolicyStatus\nO\n0..1\nInformation about whether the updated ANDSP/WLANSP has been successfully delivered to the UE.\nSliceAwareANDSP\ndelivReport\nmap(UePolicyNotification)\nO\n1..N\nContains the delivery outcome of VPLMN-Specific URSP rules. It may be included if the V-PCF indicated the subscription to delivery outcome events as described in clause 4.2.2.2.3.2.\nThe key of the map represents the AF request of the corresponding subscription, i.e. its value shall match the key that was previously provided by the V-PCF in the “vpsUePolGuidance“ attribute.\nVPLMNSpecificURSP\npduSessions\narray(PduSessionInfo)\nO\n1..N\nContains the list of the DNN and SNSSAI pairs for which LBO information is being requested. It may be provided when the \"LBO_INFO_CH\" request trigger is provided.\nVPLMNSpecificURSP\npcfUeInfo\nPcfUeCallbackInfo\nO\n0..1\nContains the PCF for the UE callback information necessary for the PCF for the PDU session to send established/terminated events notifications to the PCF for the UE.\nURSPEnforcement\nmatchPdus\narray(PduSessionInfo)\nO\n1..N\nIndicates the matched PDU session(s) for which the AMF shall forward the PCF for the UE information in the \"pcfUeInfo\" attribute to the SMF. It shall be present when the \"pcfUeInfo\" attribute is present.\n(NOTE 3)\nURSPEnforcement\nsuppFeat\nSupportedFeatures\nC\n0..1\nIndicates the negotiated supported features.It shall be included in the HTTP POST response when the NF service consumer provided the supported features in the HTTP POST request.\nFeatureRenegotiation\nn2Pc5RsppPol\nN2InfoContent\nO\n0..1\nThe N2 PC5 policy for Ranging/SL as determined by the H-PCF.\nRanging_SL\nNOTE 1:\tOnly the RequestTrigger enumeration values corresponding to PCRTs that require explicit subscription as defined in clause 5.6.3.3 shall be applicable within the \"triggers\" attribute.\nNOTE 2:\tWhen the PolicyUpdate data type is used in a policy update notify service operation, either the complete resource URI included in the \"resourceUri\" attribute or the \"apiSpecificResourceUriPart\" component (see clause 5.1) of the resource URI included in the \"resourceUri\" attribute may be used by the NF service consumer (e.g. AMF) for the identification of the Individual UE Policy Association resource related to the notification.\nNOTE 3:\tThe DNN encoded within the PduSessionInfo element(s) of the \"matchPdus\" array may contain a full DNN or only the DNN Network Identifier. When the DNN contains the Network Identifier only, the AMF shall match a PDU session for the received Network Identifier and for any value of the Operator Identifier.",
      "chunk_type": "general",
      "cross_references": [
        "clause_4.2.2.2.3.2",
        "clause_5.6.3.3",
        "clause_5.1",
        "table_5.6.2.5-1"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.6.2.6",
      "section_id": "5.6.2.6",
      "section_title": "Type TerminationNotification",
      "content": "Table 5.6.2.6-1: Definition of type TerminationNotification\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nresourceUri\nUri\nM\n1\nThe resource URI of the individual UE policy association related to the notification.\n(NOTE)\ncause\nPolicyAssociationReleaseCause\nM\n1\nThe cause why the PCF requests the termination of the policy association.\nNOTE:\tEither the complete resource URI included in the \"resourceUri\" attribute or the \"apiSpecificResourceUriPart\" component (see clause 5.1) of the resource URI included in the \"resourceUri\" attribute may be used by the NF service consumer (e.g. AMF) for the identification of the Individual UE Policy Association resource related to the termination notification.",
      "chunk_type": "general",
      "cross_references": [
        "clause_5.1",
        "table_5.6.2.6-1"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.6.2.7",
      "section_id": "5.6.2.7",
      "section_title": "Type UePolicyTransferFailureNotification",
      "content": "Table 5.6.2.7-1: UEPolicyTransferFailureNotification\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\ncause\nUePolicyTransferFailureCause\nM\n1\nIndicates the reason why the UE policy could not be transferred by the AMF.\nWhen the feature \"EnErrorHandling\" is supported, the \"cause\" attribute may include the enumeration values defined in the \"N1N2MessTransferErrorReply\" data type.\nretryAfter\nUinteger\nO\n0..1\nThe V-PCF may include this IE if the AMF requests to stop sending the N1N2MessageTransfer before timeout of the indicated time period.\nEnErrorHandling\nptis\narray(Uinteger)\nM\n1..N\nContains a list of PTI assigned by the H-PCF corresponding to the UE policy(s) which could not be transferred by the AMF.",
      "chunk_type": "general",
      "cross_references": [
        "table_5.6.2.7-1"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.6.2.8",
      "section_id": "5.6.2.8",
      "section_title": "Type UeRequestedValueRep",
      "content": "Table 5.6.2.8-1: Definition of type UeRequestedValueRep\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nuserLoc\nUserLocation\nC\n0..1\nThe location of the served UE is camping shall be provided for trigger \"LOC_CH\".\npraStatuses\nmap(PresenceInfo)\nC\n1..N\nThe UE presence statuses for tracking areas shall be provided for trigger \"PRA_CH\".\nThe \"praId\" attribute within the PresenceInfo data type shall also be the key of the map.\nplmnId\nPlmnIdNid\nC\n0..1\nThe serving network identity (a PLMN or an SNPN) of the served UE shall be provided for trigger \"PLMN_CH\".\nPlmnChange\nconnectState\nCmState\nC\n0..1\nThe connectivity state of the served UE. It shall be provided for trigger \"CON_STATE_CH\".\nConnectivityStateChange\nsatBackhaulCategory\nSatelliteBackhaulCategory\nC\n0..1\nIndicates types of the satellite backhaul based on satellite types (when satellite backhaul is used) or non-satellite backhaul (when satellite backhaul is not used). It shall be provided for trigger \"SAT_CATEGORY_CHG\".\nEnSatBackhaulCategoryChg\nurspEnfRep\nmap(UrspEnforcementPduSession)\nC\n1..N\nRepresents information about the enforced URSP rule(s) in one or more PDU sessions for the affected UE.\nThe key of the map is a character string that represents an integer value (it may correspond with a PDU session identifier).\nIt shall be present when the notified policy control request trigger is \"URSP_ENF_INFO\".\nURSPEnforcement\nlboRoamInfo\narray(LboRoamingInformation)\nC\n1..N\nContains a list of LBO roaming information for a DNN and S-NSSAI combination. It shall be provided for trigger \"LBO_INFO_CH\".\nVPLMNSpecificURSP\nconfSnssais\narray(ConfiguredSnssai)\nC\n1..N\nThe Configured NSSAI for the serving PLMN, and the mapped S-NSSAI value of home network corresponding to the configured S-NSSAI in the serving PLMN.\nIt shall be provided for trigger \"CONF_NSSAI_CH\".\nNssaiChange\naccessTypes\narray(AccessType)\nC\n1..N\nThe Access Type(s) where the served UE is camping. Shall be provided for trigger \"ACCESS_TYPE_CH\".\nAccessChange\nratTypes\narray(RatType)\nC\n1..N\nThe RAT Type(s), if available, for the reported \"accessTypes\" where the served UE is camping. It shall be provided, if available, for trigger \"ACCESS_TYPE_CH.\nAccessChange",
      "chunk_type": "requirement",
      "cross_references": [
        "table_5.6.2.8-1"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.6.2.9",
      "section_id": "5.6.2.9",
      "section_title": "Type UePolicyParameters",
      "content": "Table 5.6.2.9-1: Definition of type UePolicyParameters\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nurspGuidance\narray(UrspRuleRequest)\nO\n1..N\nContains the service parameter used to guide the VPLMN-specific URSP.\ndeliveryEvents\narray(Event)\nO\n1..N\nIdentifies the AF subscribed event(s) related to AF provisioned guidance for VPLMN-specific URSP rules.\n(NOTE)\nNOTE: \tIn this release of the specification, only the \"SUCCESS_UE_POL_DEL_SP\" and \"UNSUCCESS_UE_POL_DEL_SP\" events apply.",
      "chunk_type": "parameter",
      "cross_references": [
        "table_5.6.2.9-1"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.6.2.10",
      "section_id": "5.6.2.10",
      "section_title": "Type LboRoamingInformation",
      "content": "Table 5.6.2.10-1: Definition of type LboRoamingInformation\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nlboRoamAllowed\nboolean\nO\n0..1\nIndicates whether local breakout for the DNN and S-NSSAI is allowed when roaming.\ntrue: allowed\nfalse: not allowed.\nIf the attribute is absent it means not allowed.\ndnn\nDnn\nM\n1\nData Network Name with Network Identifier only.\nsnssai\nSnssai\nM\n1\nS-NSSAI.",
      "chunk_type": "general",
      "cross_references": [
        "table_5.6.2.10-1"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.6.2.11",
      "section_id": "5.6.2.11",
      "section_title": "Type UrspEnforcementPduSession",
      "content": "Table 5.6.2.11-1: Definition of type UrspEnforcementPduSession\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nurspEnfInfo\nUrspEnforcementInfo\nM\n1\nRepresents UE provided information about the enforced URSP rule(s) in one PDU session.\nsscMode\nSscMode\nC\n0..1\nSSC Mode of the PDU session.\nIt shall be provided when URSP rule enforcement information is provided for the first time.\nueReqDnn\nDnn\nC\n0..1\nUE requested DNN.\nIt shall be provided when URSP rule enforcement information is provided for the first time, if available and different from the selected DNN.\nueReqPduSessionType\nPduSessionType\nO\n0..1\nUE requested PDU session Type.\nIt shall be provided when URSP rule enforcement information is provided for the first time.\ndnn\nDnn\nC\n0..1\nSelected DNN.\nIt shall be provided when URSP rule enforcement information is provided for the first time.\nsnssai\nSnssai\nC\n0..1\nS-NSSAI of the HPLMN.\nIt shall be provided when URSP rule enforcement information is provided for the first time.",
      "chunk_type": "general",
      "cross_references": [
        "table_5.6.2.11-1"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.6.2.12",
      "section_id": "5.6.2.12",
      "section_title": "Type UePolicyNotification",
      "content": "Table 5.6.2.12-1: Definition of type UePolicyNotification\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\neventNotifs\narray(PcEventNotification)\nM\n1..N\nRepresents the events to be reported according to the subscription to delivery outcome events as described in clause 4.2.2.2.3.2.\n(NOTE)\nNOTE: \tIn this release of the specification, only the \"SUCCESS_UE_POL_DEL_SP\" and \"UNSUCCESS_UE_POL_DEL_SP\" events apply for the \"events\" attribute within the PcEventNotification data type.",
      "chunk_type": "general",
      "cross_references": [
        "clause_4.2.2.2.3.2",
        "table_5.6.2.12-1"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.6.3.1",
      "section_id": "5.6.3.1",
      "section_title": "Introduction",
      "content": "This clause defines simple data types and enumerations that can be referenced from data structures defined in the previous clauses.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.525_5.6.3.2",
      "section_id": "5.6.3.2",
      "section_title": "Simple data types",
      "content": "The simple data types defined in table 5.6.3.2-1 shall be supported.\nTable 5.6.3.2-1: Simple data types\nType Name\nType Definition\nDescription\nApplicability\nUePolicy\nBytes\n\"MANAGE UE POLICY COMMAND\" message content, as defined in Table D.5.1.1.1 of 3GPP TS 24.501 [15]\nUePolicyDeliveryResult\nBytes\n\"MANAGE UE POLICY COMPLETE\" message content, as defined in Table D.5.2.1.1 of 3GPP TS 24.501 [15], or \"MANAGE UE POLICY COMMAND REJECT\" message content, as defined in Table D.5.3.1.1 of 3GPP TS 24.501 [15]\nUePolicyRequest\nBytes\n\"UE STATE INDICATION\" message content, as defined in Table D.5.4.1.1 of 3GPP TS 24.501 [15] or \"UE POLICY PROVISIONING REQUEST\" message content, as defined in clause 7.2.1.1 of 3GPP TS 24.587 [24].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_24.587_clause_7.2.1.1",
        "table_5.6.3.2-1",
        "ts_24.501",
        "ts_24.587"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.6.3.3",
      "section_id": "5.6.3.3",
      "section_title": "Enumeration: RequestTrigger",
      "content": "The enumeration RequestTrigger represents the possible Policy Control Request Triggers. It shall comply with the provisions defined in table 5.6.3.3-1.\nTable 5.6.3.3-1: Enumeration RequestTrigger\nEnumeration value\nDescription\nApplicability\nLOC_CH\nLocation change (tracking area): the tracking area of the UE has changed. (NOTE)\nPRA_CH\nChange of UE presence in PRA: the AMF reports the current presence status of the UE in a Presence Reporting Area, and notifies that the UE enters/leaves the Presence Reporting Area. (NOTE)\nUE_POLICY\nA \"MANAGE UE POLICY COMPLETE\" message, a \"MANAGE UE POLICY COMMAND REJECT\" message, as defined in Annex D.5 of 3GPP TS 24.501 [15] has been received by the V-PCF and is being forwarded to the H-PCF, or has been received by a PCF for a PDU session and is being forwarded to the (V-)PCF (and then from the V-PCF to the H-PCF) when the \"EpsUrsp\" feature is supported. A Namf_Communication_N1N2MessageTransfer failure response as defined in clause 5.2.2.3.1.2 of 3GPP TS 29.518 [14], an N1N2 Transfer Failure Notification as defined in clause 5.2.2.3.2 of 3GPP TS 29.518 [14], a UE Policy transfer failure is notifying to the H-PCF, or a UE Policy transfer failure is notifying to the (V-)PCF when the \"EpsUrsp\" feature is supported.\nWhen the \"ProSe\" feature is supported it indicates that a \"UE POLICY PROVISIONING REQUEST\" message, as defined in clause 10.4 of 3GPP TS 24.554 [28] has been received by the V-PCF and is being forwarded to the H-PCF.\nWhen the \"V2X\" feature is supported it indicates that a \"UE POLICY PROVISIONING REQUEST\" message, as defined in clause 7.2 of 3GPP TS 24.587 [24] has been received by the V-PCF and is being forwarded to the H-PCF.\nWhen the \"A2X\" feature is supported it indicates that a \"UE POLICY PROVISIONING REQUEST\" message, as defined in 3GPP TS 24.577 [32] has been received by the V-PCF and is being forwarded to the H-PCF.\nWhen the \"Ranging_SL\" feature is supported it indicates that a \"UE POLICY PROVISIONING REQUEST\" message, as defined in 3GPP TS 24.514 [42] has been received by the V-PCF and is being forwarded to the H-PCF.\nThis event does not require a subscription and is only applicable for the V‑PCF as NF service consumer and the H‑PCF as NF service producer or a PCF for a PDU session as NF service consumer and the (V-)PCF as NF service producer when the “EpsUrsp” feature is supported.\nPLMN_CH\nPLMN change: the serving network (a PLMN or an SNPN) of UE has changed. (NOTE)\nPlmnChange\nCON_STATE_CH\nConnectivity state change: the connectivity state of UE has changed. (NOTE)\nConnectivityStateChange\nGROUP_ID_LIST_CHG\nUE Internal Group Identifier(s) has changed: the AMF reports that UDM provided list of group Ids has changed. This policy control request trigger does not require a subscription.\nGroupIdListChange\nUE_CAP_CH\nUE Capabilities change: the UE provided 5G ProSe capabilities have changed. This policy control request trigger does not require subscription.\nProSe\nSAT_CATEGORY_CHG\nSatellite Backhaul Category change: the AMF has detected a change between different satellite backhaul category, or a change between satellite and non-satellite backhaul. (NOTE)\nEnSatBackhaulCategoryChg\nCONF_NSSAI_CH\nConfigured NSSAI change: the configured NSSAI has changed. This policy control request trigger only applies in roaming scenarios when the NF service consumer is the AMF.\n(NOTE)\nNssaiChange\nNON_3GPP_NODE_RESELECTION\nWrong TNGF or N3IWF: the UE has connected to a wrong non-3GPP access node that does not match its subscribed S-NSSAI(s). This policy control request trigger does not require a subscription.\nSliceAwareANDSP\nFEAT_RENEG\nThe target AMF determines feature re-negotiation is required. This policy control request trigger does not require subscription.\nFeatureRenegotiation\nURSP_ENF_INFO\nThe V-PCF has received URSP rule enforcement information about the enforced URSP rule(s) in one or more PDU sessions. This trigger only applies in roaming scenarios and to the V-PCF.\n(NOTE)\nURSPEnforcement\nLBO_INFO_CH\nLBO information change: The AMF reports LBO roaming allowed or not allowed for the requested DNN(s) and S-NSSAI(s). This policy control request trigger only applies in roaming scenarios when the NF service consumer is the AMF.\n(NOTE)\nVPLMNSpecificURSP\nACCESS_TYPE_CH\nAccess Type change: The registered access type and RAT type has changed, an access type and RAT type is added or removed.\n(NOTE)\nAccessChange\nNOTE:\tThe report of this trigger includes reporting the current value at the time the trigger is provisioned during the update or update notification of the policy association.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.518_clause_5.2.2.3.1.2",
        "ts_29.518_clause_5.2.2.3.2",
        "ts_24.554_clause_10.4",
        "ts_24.587_clause_7.2",
        "table_5.6.3.3-1",
        "ts_24.501",
        "ts_29.518",
        "ts_24.554",
        "ts_24.587",
        "ts_24.577",
        "ts_24.514"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.6.3.4",
      "section_id": "5.6.3.4",
      "section_title": "Enumeration: PolicyAssociationReleaseCause",
      "content": "The enumeration PolicyAssociationReleaseCause represents the cause why the PCF requests the termination of the policy association. It shall comply with the provisions defined in table 5.6.3.4-1.\nTable 5.6.3.4-1: Enumeration PolicyAssociationReleaseCause\nEnumeration value\nDescription\nApplicability\nUNSPECIFIED\nThis value is used for unspecified reasons.\nUE_SUBSCRIPTION\nThis value is used to indicate that the policy association needs to be terminated because the subscription of UE has changed (e.g. was removed).\nINSUFFICIENT_RES\nThis value is used to indicate that the server is overloaded and needs to abort the policy association.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_5.6.3.4-1"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.6.3.5",
      "section_id": "5.6.3.5",
      "section_title": "Enumeration: Pc5Capability",
      "content": "The enumeration Pc5Capability indicates the specific PC5 RAT(s) which the UE supports for V2X communication over PC5 reference point. It shall comply with the provisions defined in table 5.6.3.5-1.\nTable 5.6.3.5-1: Enumeration Pc5Capability\nEnumeration value\nDescription\nApplicability\nLTE_PC5\nThis value is used to indicate that the UE supports PC5 LTE RAT for V2X communication over PC5 reference point.\nNR_PC5\nThis value is used to indicate that the UE supports PC5 LTE RAT for V2X communication over PC5 reference point.\nLTE_NR_PC5\nThis value is used to indicate that the UE supports both PC5 LTE and NR RAT for V2X communication over PC5 reference point.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_5.6.3.5-1"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.6.3.6",
      "section_id": "5.6.3.6",
      "section_title": "Enumeration: ProSeCapability",
      "content": "This enumeration indicates the 5G ProSe capabilities. It shall comply with the provisions defined in table 5.6.3.6-1.\nTable 5.6.3.6-1: Enumeration ProSeCapability\nEnumeration value\nDescription\nApplicability\nPROSE_DD\nThis value is used to indicate that 5G ProSe Direct Discovery is supported by the UE.\nPROSE_DC\nThis value is used to indicate that 5G ProSe Direct Communication is supported by the UE.\nPROSE_L2_U2N_RELAY\nThis value is used to indicate that Layer-2 5G ProSe UE-to-Network Relay is supported by the UE.\nPROSE_L3_U2N_RELAY\nThis value is used to indicate that Layer-3 5G ProSe UE-to-Network Relay is supported by the UE.\nPROSE_L2_REMOTE_UE\nThis value is used to indicate that Layer-2 5G ProSe Remote UE is supported by the UE.\nPROSE_L3_REMOTE_UE\nThis value is used to indicate that Layer-3 5G ProSe Remote UE is supported by the UE.\nPROSE_L2_U2U_RELAY\nThis value is used to indicate that Layer-2 5G ProSe UE-to-UE Relay is supported by the UE.\nProSe_Ph2\nPROSE_L3_U2U_RELAY\nThis value is used to indicate that Layer-3 5G ProSe UE-to-UE Relay is supported by the UE.\nProSe_Ph2\nPROSE_L2_END_UE\nThis value is used to indicate that Layer-2 5G ProSe End UE is supported by the UE.\nProSe_Ph2\nPROSE_L3_END_UE\nThis value is used to indicate that Layer-3 5G ProSe End UE is supported by the UE.\nProSe_Ph2\n5.6.3.7\tEnumeration: Non3gppAccess\nThe enumeration Non3gppAccess represents the possible Non-3gpp access nodes. It shall comply with the provisions defined in table 5.6.3.7-1.\nTable 5.6.3.7-1: Non3gppAccess\nEnumeration value\nDescription\nApplicability\nN3IWF\nNon-3gpp Interworking Function\nTNGF\nTrusted Non-3GPP Gateway Function",
      "chunk_type": "requirement",
      "cross_references": [
        "table_5.6.3.6-1",
        "table_5.6.3.7-1"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.6.3.9",
      "section_id": "5.6.3.9",
      "section_title": "Enumeration: N1N2MessTransferErrorReply",
      "content": "The enumeration N1N2MessTransferErrorReply represents the possible errors the V-PCF may send to the H-PCF when the V-PCF receives from the AMF an error reply to the N1N2MessageTransfer request. It shall comply with the provisions defined table 5.6.3.9-1.\nTable 5.6.3.9-1: N1N2MessTransferErrorReply\nEnumeration value\nDescription\nApplicability\nUE_NOT_REACHABLE\nThe UE is not reachable for paging.\nUNSPECIFIED\nUnspecified error.",
      "chunk_type": "general",
      "cross_references": [
        "table_5.6.3.9-1"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.6.3.10",
      "section_id": "5.6.3.10",
      "section_title": "Enumeration: RangSLCapability",
      "content": "The enumeration RangSLCapability represents the Ranging and Sidelink Capability. It shall comply with the provisions defined in table 5.6.3.10-1.\nTable 5.6.3.10-1: Enumeration RangSLCapability\nEnumeration value\nDescription\nApplicability\nPC5_RANGING_SL\nIndicates that the PC5 Capability for Ranging and Sidelink is supported by the UE.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_5.6.3.10-1"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.6.3.11",
      "section_id": "5.6.3.11",
      "section_title": "Enumeration: PolicyStatus",
      "content": "The enumeration PolicyStatus represents the configuration status of a UE Policy in the UE. It shall comply with the provisions defined in table 5.6.3.11-1.\nTable 5.6.3.11-1: PolicyStatus\nEnumeration value\nDescription\nApplicability\nCONFIGURED\nThe UE Policy is configured in the UE.\nNOT_CONFIGURED\nThe UE Policy is not configured in the UE.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_5.6.3.11-1"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.6.3.12",
      "section_id": "5.6.3.12",
      "section_title": "Enumeration: A2xCapability",
      "content": "The enumeration A2xCapability indicates the A2X capabilities the UE supports for A2X communication. It shall comply with the provisions defined in table 5.6.3.12-1.\nTable 5.6.3.12-1: Enumeration A2xCapability\nEnumeration value\nDescription\nApplicability\nEUTRA_PC5\nThis value is used to indicate that the UE supports PC5 E-UTRA RAT for A2X communication over PC5 reference point.\nNR_PC5\nThis value is used to indicate that the UE supports PC5 NR RAT for A2X communication over PC5 reference point.\nUU\nThis value is used to indicate that the UE supports A2X communication over Uu reference point.\n5.6.3.13\tEnumeration: SliceSpecificN3gNodeSelectionCapability\nTable 5.6.3.13-1: SliceSpecificN3gNodeSelectionCapability\nEnumeration value\nDescription\nApplicability\nONLY_N3IWF_SS_SEL\nIndicates that the UE supports N3IWF selection based on the slices the UE wishes to use over untrusted non-3GPP access.\nONLY_TNGF_SS_SEL\nIndicates that the UE supports TNGF selection based on the slices the UE wishes to use over trusted non-3GPP access.\nTNGF_N3IWF_SS_SEL\nIndicates that the UE supports N3IWF selection based on the slices the UE wishes to use over untrusted non-3GPP access and TNGF selection based on the slices the UE wishes to use over trusted non-3GPP access.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_5.6.3.12-1",
        "table_5.6.3.13-1"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.6.4.1",
      "section_id": "5.6.4.1",
      "section_title": "Type: UePolicyTransferFailureCause",
      "content": "Table 5.6.4.1-1: Definition of type UePolicyTransferFailureCause as a list of non-exclusive alternatives\nData type\nCardinality\nDescription\nApplicability\nN1N2MessageTransferCause\n0..1\nThe failure causes notified by the AMF within the N1 Message Transfer Failure notification.\nN1N2MessTransferErrorReply\n0..1\nError reply the AMF may indicate within the response to N1N2MessageTransfer request.",
      "chunk_type": "general",
      "cross_references": [
        "table_5.6.4.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.7.1",
      "section_id": "5.7.1",
      "section_title": "General",
      "content": "For the Npcf_UEPolicyControl API, HTTP error responses shall be supported as specified in clause 4.8 of 3GPP TS 29.501 [6].\nProtocol errors and application errors specified in table 5.2.7.2-1 of 3GPP TS 29.500 [5] shall be supported for an HTTP method if the corresponding HTTP status codes are specified as mandatory for that HTTP method in table 5.2.7.1-1 of 3GPP TS 29.500 [5].\nIn addition, the requirements in the following clauses are applicable for the Npcf_UEPolicyControl API.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.501_clause_4.8",
        "ts_29.500_table_5.2.7.2-1",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.501",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.7.2",
      "section_id": "5.7.2",
      "section_title": "Protocol Errors",
      "content": "No specific protocol errorsfor the Npcf_UEPolicyControl API are specified.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.525_5.7.3",
      "section_id": "5.7.3",
      "section_title": "Application Errors",
      "content": "The application errors defined for the Npcf_UEPolicyControl service are listed in Table 5.7.3-1 and Table 5.7.3-2.\nTable 5.7.3-1: Application errors when PCF acts as a server\nApplication Error\nHTTP status code\nDescription\nUSER_UNKNOWN\n400 Bad Request\nThe HTTP request is rejected because the end user specified in the request is unknown to the PCF.\nERROR_REQUEST_PARAMETERS\n400 Bad Request\nThe HTTP request is rejected because the set of information needed by the PCF for UE Policy selection is incomplete or erroneous or not available for the decision to be made.\nPENDING_TRANSACTION\n400 Bad Request\nThis error shall be used when the PendingTransaction feature is supported and the PCF receives an incoming request on a policy association while it has an ongoing transaction on the same policy association and cannot handle the request as described in clause 9.2 of 3GPP TS 29.513 [7].\nPOLICY_ASSOCIATION_NOT_FOUND\n404 Not Found\nThe HTTP request is rejected because no UE policy association corresponding to the request exists in the PCF.\nNOTE:\tIncluding a \"ProblemDetails\" data structure with the \"cause\" attribute in the HTTP response is optional unless explicitly mandated in the service operation clauses.\nTable 5.7.3-2: Application errors when NF service consumer acts as a server to receive a notification\nApplication Error\nHTTP status code\nDescription\nPENDING_TRANSACTION\n400 Bad Request\nThis error shall be used when the PendingTransaction feature is supported and the NF service consumer receives an incoming request on a policy association while it has an ongoing transaction on the same policy association and cannot handle the request as described in clause 9.2 of 3GPP TS 29.513 [7]. (NOTE 1)\nNOTE 1:\tThis application error is included in the response to the Policy Update Notification HTTP POST request.\nNOTE 2:\tIncluding a \"ProblemDetails\" data structure with the \"cause\" attribute in the HTTP response is optional unless explicitly mandated in the service operation clauses.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.513_clause_9.2",
        "table_5.7.3-1",
        "table_5.7.3-2",
        "ts_29.513"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.8",
      "section_id": "5.8",
      "section_title": "Feature negotiation",
      "content": "The optional features in table 5.8-1 are defined for the Npcf_UEPolicyControl API. They shall be negotiated using the extensibility mechanism defined in clause 6.6 of 3GPP TS 29.500 [5].\nTable 5.8-1: Supported Features\nFeature number\nFeature Name\nDescription\n1\nPendingTransaction\nThis feature indicates support for the race condition handling as defined in 3GPP TS 29.513 [7].\n2\nPlmnChange\nThis feature indicates support for the change of PLMN trigger handling.\n3\nConnectivityStateChange\nThis feature indicates support for the UE connectivity state change trigger handling.\n4\nV2X\nThis feature indicates support for the UE policy provisioning and N2 information provisioning for V2X communications.\n5\nGroupIdListChange\nThis feature indicates the support for the notification of changes in the list of internal group identifiers.\n6\nImmediateReport\nThis feature indicates the support of the current applicable values report corresponding to the policy control request triggers for policy update notification.\n7\nErrorResponse\nThis feature indicates support for \"404 Not Found\" error response code for policy update notification between AMF and (V-)PCF.\n8\nES3XX\nExtended Support for 3xx redirections. This feature indicates the support of redirection for any service operation, according to Stateless NF procedures as specified in clauses 6.5.3.2 and 6.5.3.3 of 3GPP TS 29.500 [5] and according to HTTP redirection principles for indirect communication, as specified in clause 6.10.9 of 3GPP TS 29.500 [5].\n9\nProSe\nThis feature indicates support of UE policy and N2 information provisioning for 5G ProSe.\n10\nFeatureRenegotiation\nThis feature indicates the support of feature renegotiation during the update of a policy association triggered by UE mobility with AMF change.\n11\nSliceAwareANDSP\nThis feature indicates the support of ANDSP/WLANSP policies that consider the slices supported by the UE.\n12\nEpsUrsp\nThis feature indicates support of URSP provisioning in EPS and is only applicable in the case of of 5GC and EPC interworking.\n13\nEnSatBackhaulCategoryChg\nThis feature indicates the support of notification of a change between different satellite backhaul categories, or dynamic satellite backhaul categories, or between satellite backhaul and non-satellite backhaul.\n14\nUECapabilityIndication\nThis feature indicates the support of the provisioning by the H-PCF to the V-PCF of the UE Capability for UE Policy, when the UE Capability is not received from the UE and the information is available and reliable in the UDR.\n15\nA2X\nThis feature indicates support of A2X communications.\n16\nNssaiChange\nThis feature indicates support for the change of Configured NSSAI trigger handling.\n17\nProSe_Ph2\nThis feature indicates the support of UE policy and N2 information provisioning for 5G ProSe UE-to-UE Relay function.\nThis feature requires that the ProSe feature is also supported.\n18\nPresenceInfo\nThe feature indicates the support of policy update to remove the existing presence reporting areas entry.\n19\nURSPEnforcement\nThis feature indicates the support of the report of URSP rule enforcement information by the V-PCF to the H-PCF.\n20\nVPLMNSpecificURSP\nThis feature indicates the support of AF guidance on VPLMN-specific URSP rules. It requires the support of NssaiChange feature.\n21\nRanging_SL\nThis feature indicates the support of the ranging and sidelink positioning functionality.\nThe following functionalities are supported:\n-\tSupport for the UE policy provisioning and N2 information provisioning for Ranging and sidelink positioning.\n22\nAccessChange\nThis feature indicates the support of the reporting of an access type and RAT type changes, the addition of an access type and RAT type or the removal of an existing access type and RAT type.\n23\nEnErrorHandling\nThis feature indicates the support of the indication from the V-PCF to the H-PCF of the received AMF error response to the UE Policy Delivery transfer request.\n24\nSLAMUP\nThis feature indicates the support of the provisioning to the AMF of the CHF information of the CHF selected by the PCF for UE policy.\n25\nEnhEstRoaming\nThe feature enhanced UE Policy Establishment procedure in roaming scenarios indicates the provisioning of the AMF to the V-PCF of the H-PCF Set Id and H-PCF URI of the selected H-PCF ID.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.6",
        "ts_29.500_clause_6.10.9",
        "table_5.8-1",
        "ts_29.500_table_5.8-1",
        "ts_29.500",
        "ts_29.513"
      ]
    },
    {
      "chunk_id": "ts_29.525_5.9",
      "section_id": "5.9",
      "section_title": "Security",
      "content": "As indicated in 3GPP TS 33.501 [19] and 3GPP TS 29.500 [5], the access to the Npcf_UEPolicyControl API may be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [20]), based on local configuration, using the \"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [13]) plays the role of the authorization server.\nIf OAuth2 is used, an NF service consumer, prior to consuming services offered by the Npcf_UEPolicyControl API, shall obtain a \"token\" from the authorization server, by invoking the Access Token Request service, as described in 3GPP TS 29.510 [13], clause 5.4.2.2.\nNOTE:\tWhen multiple NRFs are deployed in a network, the NRF used as authorization server is the same NRF that the NF service consumer used for discovering the Npcf_UEPolicyControl service.\nThe Npcf_UEPolicyControl API defines a single scope \"npcf-ue-policy-control\" for the entire service, and it does not define any additional scopes at resource or operation level.\nAnnex A (normative):OpenAPI specification\nA.1\tGeneral\nThe present Annex contains an OpenAPI [10] specification of HTTP messages and content bodies used by the Npcf_UEPolicyControl API.\nThis Annex shall take precedence when being discrepant to other parts of the specification with respect to the encoding of information elements and methods within the API.\nNOTE:\tThe semantics and procedures, as well as conditions, e.g. for the applicability and allowed combinations of attributes or values, not expressed in the OpenAPI definitions but defined in other parts of the specification also apply.\nInformative copies of the OpenAPI specification file contained in this 3GPP Technical Specification are available on a Git-based repository that uses the GitLab software version control system (see clause 5B of the 3GPP TR 21.900 [22] and clause 5.3.1 of the 3GPP TS 29.501 [6] for further information).\nA.2\tNpcf_UEPolicyControl API\nopenapi: 3.0.0\ninfo:\nversion: 1.3.3\ntitle: Npcf_UEPolicyControl\ndescription: |\nUE Policy Control Service.\n© 2025, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\nAll rights reserved.\nexternalDocs:\ndescription: 3GPP TS 29.525 V18.9.0; 5G System; UE Policy Control Service.\nurl: 'https://www.3gpp.org/ftp/Specs/archive/29_series/29.525/'\nservers:\n- url: '{apiRoot}/npcf-ue-policy-control/v1'\nvariables:\napiRoot:\ndefault: https://example.com\ndescription: apiRoot as defined in clause 4.4 of 3GPP TS 29.501\nsecurity:\n- {}\n- oAuth2ClientCredentials:\n- npcf-ue-policy-control\npaths:\n/policies:\npost:\noperationId: CreateIndividualUEPolicyAssociation\nsummary: Create individual UE policy association.\ntags:\n- UE Policy Associations (Collection)\nrequestBody:\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/PolicyAssociationRequest'\nresponses:\n'201':\ndescription: Created\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/PolicyAssociation'\nheaders:\nLocation:\ndescription: >\nContains the URI of the newly created resource, according to the structure\n{apiRoot}/npcf-ue-policy-control/v1/policies/{polAssoId}'\nrequired: true\nschema:\ntype: string\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ncallbacks:\npolicyUpdateNotification:\n'{$request.body#/notificationUri}/update':\npost:\nrequestBody:\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/PolicyUpdate'\nresponses:\n'200':\ndescription: >\nOK. The current applicable values corresponding to the policy control request\ntrigger is reported\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/UeRequestedValueRep'\n'204':\ndescription: No Content, Notification was successful\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\npolicyAssocitionTerminationRequestNotification:\n'{$request.body#/notificationUri}/terminate':\npost:\nrequestBody:\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TerminationNotification'\nresponses:\n'204':\ndescription: No Content, Notification was successful\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n/policies/{polAssoId}:\nget:\noperationId: ReadIndividualUEPolicyAssociation\nsummary: Read individual UE policy association.\ntags:\n- Individual UE Policy Association (Document)\nparameters:\n- name: polAssoId\nin: path\ndescription: Identifier of a policy association\nrequired: true\nschema:\ntype: string\nresponses:\n'200':\ndescription: OK. Resource representation is returned\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/PolicyAssociation'\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'406':\n$ref: 'TS29571_CommonData.yaml#/components/responses/406'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ndelete:\noperationId: DeleteIndividualUEPolicyAssociation\nsummary: Delete individual UE policy association.\ntags:\n- Individual UE Policy Association (Document)\nparameters:\n- name: polAssoId\nin: path\ndescription: Identifier of a policy association\nrequired: true\nschema:\ntype: string\nresponses:\n'204':\ndescription: No Content. Resource was successfully deleted\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n/policies/{polAssoId}/update:\npost:\noperationId: ReportObservedEventTriggersForIndividualUEPolicyAssociation\nsummary: >\nReport observed event triggers and possibly obtain updated policies for an individual UE\npolicy association.\ntags:\n- Individual UE Policy Association (Document)\nrequestBody:\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/PolicyAssociationUpdateRequest'\nparameters:\n- name: polAssoId\nin: path\ndescription: Identifier of a policy association\nrequired: true\nschema:\ntype: string\nresponses:\n'200':\ndescription: OK. Updated policies are returned\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/PolicyUpdate'\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ncomponents:\nsecuritySchemes:\noAuth2ClientCredentials:\ntype: oauth2\nflows:\nclientCredentials:\ntokenUrl: '{nrfApiRoot}/oauth2/token'\nscopes:\nnpcf-ue-policy-control: Access to the Npcf_UEPolicyControl API\nschemas:\nPolicyAssociation:\ndescription: >\nContains the description of a policy association that is returned by the PCF when a policy\nAssociation is created, updated, or read.\ntype: object\nproperties:\nrequest:\n$ref: '#/components/schemas/PolicyAssociationRequest'\nuePolicy:\n$ref: '#/components/schemas/UePolicy'\nn2Pc5Pol:\n$ref: 'TS29518_Namf_Communication.yaml#/components/schemas/N2InfoContent'\nn2Pc5PolA2x:\n$ref: 'TS29518_Namf_Communication.yaml#/components/schemas/N2InfoContent'\nn2Pc5ProSePol:\n$ref: 'TS29518_Namf_Communication.yaml#/components/schemas/N2InfoContent'\ntriggers:\ntype: array\nitems:\n$ref: '#/components/schemas/RequestTrigger'\nminItems: 1\ndescription: >\nRequest Triggers that the PCF subscribes.\npras:\ntype: object\nadditionalProperties:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PresenceInfo'\nminProperties: 1\ndescription: >\nContains the presence reporting area(s) for which reporting was requested.\nThe praId attribute within the PresenceInfo data type is the key of the map.\nandspDelInd:\n$ref: '#/components/schemas/PolicyStatus'\nandspInd:\ndescription: >\nIndication of UE support of ANDSP. When set to true, it indicates the UE supports ANDSP,\nwhen set to false it indicates the UE does not support ANDSP.\ntype: boolean\npduSessions:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionInfo'\nminItems: 1\ndescription: Combination of DNN and S-NSSAIs for which LBO information is requested.\nchfInfo:\n$ref: 'TS29512_Npcf_SMPolicyControl.yaml#/components/schemas/ChargingInformation'\nsuppFeat:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nn2Pc5RsppPol:\n$ref: 'TS29518_Namf_Communication.yaml#/components/schemas/N2InfoContent'\npcfUeInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PcfUeCallbackInfo'\nmatchPdus:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionInfo'\nminItems: 1\nrequired:\n- suppFeat\nPolicyAssociationRequest:\ndescription: >\nRepresents information that the NF service consumer provides when requesting the creation of\na policy association.\ntype: object\nproperties:\nnotificationUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\naltNotifIpv4Addrs:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\nminItems: 1\ndescription: Alternate or backup IPv4 Address(es) where to send Notifications.\naltNotifIpv6Addrs:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr'\nminItems: 1\ndescription: Alternate or backup IPv6 Address(es) where to send Notifications.\naltNotifFqdns:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Fqdn'\nminItems: 1\ndescription: Alternate or backup FQDN(s) where to send Notifications.\nsupi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\naccessType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\naccessTypes:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nminItems: 1\ndescription: >\nThe Access Type(s) where the served UE is camping.\nIt shall be provided, if available, for trigger \"ACCESS_TYPE_CH.\npei:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Pei'\nuserLoc:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\ntimeZone:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/TimeZone'\nservingPlmn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid'\nratType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RatType'\nratTypes:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RatType'\nminItems: 1\ndescription: >\nThe RAT Type(s), if available, for the reported \"accessTypes\" where the served UE is\ncamping. It shall be provided, if available, for trigger \"ACCESS_TYPE_CH.\ngroupIds:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/GroupId'\nminItems: 1\nhPcfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nhPcfUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nhPcfSetId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfSetId'\nuePolReq:\n$ref: '#/components/schemas/UePolicyRequest'\nguami:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Guami'\nserviceName:\n$ref: 'TS29510_Nnrf_NFManagement.yaml#/components/schemas/ServiceName'\nservingNfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\npc5Capab:\n$ref: '#/components/schemas/Pc5Capability'\na2xCapab:\ntype: array\nitems:\n$ref: '#/components/schemas/A2xCapability'\nminItems: 1\nproSeCapab:\ntype: array\nitems:\n$ref: '#/components/schemas/ProSeCapability'\nminItems: 1\nconfSnssais:\ntype: array\nitems:\n$ref: 'TS29531_Nnssf_NSSelection.yaml#/components/schemas/ConfiguredSnssai'\nminItems: 1\ndescription: >\nThe Configured NSSAI for the serving PLMN, and the mapped S-NSSAI value of home\nnetwork corresponding to the configured S-NSSAI in the serving PLMN.\nn3gNodeReSel:\n$ref: '#/components/schemas/Non3gppAccess'\nsliceN3gNodeSelCap:\n$ref: '#/components/schemas/SliceSpecificN3gNodeSelectionCapability'\nsatBackhaulCategory:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SatelliteBackhaulCategory'\n5gsToEpsMob:\ntype: boolean\ndescription: >\nIt indicates the UE Policy Association is triggered by a 5GS to EPS mobility\nscenario.\nvpsUePolGuidance:\ntype: object\nadditionalProperties:\n$ref: '#/components/schemas/UePolicyParameters'\nminProperties: 1\ndescription: >\nContains the service parameter used to guide the VPLMN-specific URSP and may contain\nthe subscription to VPLMN-specific URSP delivery outcome.\nThe key of the map represents the AF request to guide VPLMN-specific URSP rules.\nThis attribute only applies in roaming and when the V-PCF is the NF service consumer.\nlboRoamInfo:\ntype: array\nitems:\n$ref: '#/components/schemas/LboRoamingInformation'\nminItems: 1\ndescription: >\nContains LBO roaming information for DNN and S-NSSAI combination(s).\nThis attribute only applies in roaming and when the AMF is the NF service consumer.\nsuppFeat:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nrangSlCapab:\ntype: array\nitems:\n$ref: '#/components/schemas/RangSLCapability'\nminItems: 1\nrequired:\n- notificationUri\n- suppFeat\n- supi\nPolicyAssociationUpdateRequest:\ndescription: >\nRepresents Information that the NF service consumer provides when requesting the update of\na policy association.\ntype: object\nproperties:\nnotificationUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\naltNotifIpv4Addrs:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\nminItems: 1\ndescription: Alternate or backup IPv4 Address(es) where to send Notifications.\naltNotifIpv6Addrs:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr'\nminItems: 1\ndescription: Alternate or backup IPv6 Address(es) where to send Notifications.\naltNotifFqdns:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Fqdn'\nminItems: 1\ndescription: Alternate or backup FQDN(s) where to send Notifications.\ntriggers:\ntype: array\nitems:\n$ref: '#/components/schemas/RequestTrigger'\nminItems: 1\ndescription: Request Triggers that the NF service consumer observes.\npraStatuses:\ntype: object\nadditionalProperties:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PresenceInfo'\ndescription: >\nContains the UE presence status for tracking area for which changes of the UE presence\noccurred. The praId attribute within the PresenceInfo data type is the key of the map.\nminProperties: 1\nuserLoc:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nuePolDelResult:\n$ref: '#/components/schemas/UePolicyDeliveryResult'\nuePolTransFailNotif:\n$ref: '#/components/schemas/UePolicyTransferFailureNotification'\nuePolReq:\n$ref: '#/components/schemas/UePolicyRequest'\nguami:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Guami'\nservingNfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nplmnId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid'\nconnectState:\n$ref: 'TS29518_Namf_EventExposure.yaml#/components/schemas/CmState'\ngroupIds:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/GroupId'\nminItems: 1\npc5Capab:\n$ref: '#/components/schemas/Pc5Capability'\na2xCapab:\ntype: array\nitems:\n$ref: '#/components/schemas/A2xCapability'\nminItems: 1\nproSeCapab:\ntype: array\nitems:\n$ref: '#/components/schemas/ProSeCapability'\nminItems: 1\nconfSnssais:\ntype: array\nitems:\n$ref: 'TS29531_Nnssf_NSSelection.yaml#/components/schemas/ConfiguredSnssai'\nminItems: 1\ndescription: >\nThe Configured NSSAI for the serving PLMN, and the mapped S-NSSAI value of home\nnetwork corresponding to the configured S-NSSAI in the serving PLMN.\nn3gNodeReSel:\n$ref: '#/components/schemas/Non3gppAccess'\nsliceN3gNodeSelCap:\n$ref: '#/components/schemas/SliceSpecificN3gNodeSelectionCapability'\nsatBackhaulCategory:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SatelliteBackhaulCategory'\nurspEnfRep:\ntype: object\nadditionalProperties:\n$ref: '#/components/schemas/UrspEnforcementPduSession'\ndescription: >\nContains information about the enforced URSP rule(s) in one or more PDU sessions.\nThe key of the map is a character string that represents an integer value.\nminProperties: 1\nvpsUePolGuidance:\ntype: object\nadditionalProperties:\n$ref: '#/components/schemas/UePolicyParameters'\nminProperties: 1\ndescription: >\nContains the service parameter used to guide the VPLMN-specific URSP and may contain\nthe subscription to VPLMN-specific URSP delivery outcome.\nThe key of the map represents the AF request to guide VPLMN-specific URSP rules.\nThis attribute only applies in roaming and when the V-PCF is the NF service consumer.\nnullable: true\nlboRoamInfo:\ntype: array\nitems:\n$ref: '#/components/schemas/LboRoamingInformation'\nminItems: 1\ndescription: >\nContains LBO roaming information for DNN and S-NSSAI combination(s).\nThis attribute only applies in roaming and when the AMF is the NF service consumer.\naccessTypes:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nminItems: 1\ndescription: >\nThe Access Type(s) where the served UE is camping.\nIt shall be provided, if available, for trigger \"ACCESS_TYPE_CH.\nratTypes:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RatType'\nminItems: 1\ndescription: >\nThe RAT Type(s), if available, for the reported \"accessTypes\" where the served UE is\ncamping. It shall be provided, if available, for trigger \"ACCESS_TYPE_CH.\nsuppFeat:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nrangSlCapab:\ntype: array\nitems:\n$ref: '#/components/schemas/RangSLCapability'\nminItems: 1\ndescription: >\nContains the Ranging/SL related UE capabilities.\nPolicyUpdate:\ndescription: >\nRepresents updated policies that the PCF provides in a notification or in the reply to an\nUpdate Request.\ntype: object\nproperties:\nresourceUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nuePolicy:\n$ref: '#/components/schemas/UePolicy'\nn2Pc5Pol:\n$ref: 'TS29518_Namf_Communication.yaml#/components/schemas/N2InfoContent'\nn2Pc5PolA2x:\n$ref: 'TS29518_Namf_Communication.yaml#/components/schemas/N2InfoContent'\nn2Pc5ProSePol:\n$ref: 'TS29518_Namf_Communication.yaml#/components/schemas/N2InfoContent'\ntriggers:\ntype: array\nitems:\n$ref: '#/components/schemas/RequestTrigger'\nminItems: 1\nnullable: true\ndescription: >\nRequest Triggers that the PCF subscribes.\npras:\ntype: object\nadditionalProperties:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PresenceInfoRm'\ndescription: >\nContains the presence reporting area(s) for which reporting was requested.\nThe praId attribute within the PresenceInfoRm data type is the key of the map.\nminProperties: 1\nnullable: true\nandspDelInd:\n$ref: '#/components/schemas/PolicyStatus'\ndelivReport:\ntype: object\nadditionalProperties:\n$ref: '#/components/schemas/UePolicyNotification'\nminProperties: 1\ndescription: >\nContains the delivery outcome of the VPLMN-specific URSP.\nThe key of the map represents the AF request of the corresponding subscription, i.e. its\nvalue shall match the key that was previously provided by the V-PCF in the\nvpsUePolGuidance attribute.\nThis attribute only applies in roaming and when the V-PCF is the NF service consumer.\npduSessions:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionInfo'\nminItems: 1\ndescription: >\nCombination of DNN and S-NSSAIs for which LBO information is requested.\nnullable: true\npcfUeInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PcfUeCallbackInfo'\nmatchPdus:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionInfo'\nminItems: 1\nnullable: true\nsuppFeat:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nn2Pc5RsppPol:\n$ref: 'TS29518_Namf_Communication.yaml#/components/schemas/N2InfoContent'\nrequired:\n- resourceUri\nTerminationNotification:\ndescription: >\nRepresents a request to terminate a policy association that the PCF provides in a\nnotification.\ntype: object\nproperties:\nresourceUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\ncause:\n$ref: '#/components/schemas/PolicyAssociationReleaseCause'\nrequired:\n- resourceUri\n- cause\nUePolicyTransferFailureNotification:\ndescription: >\nRepresents information on the failure of a UE policy transfer to the UE because the UE is\nnot reachable.\ntype: object\nproperties:\ncause:\n$ref: '#/components/schemas/UePolicyTransferFailureCause'\nretryAfter:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'\nptis:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'\nminItems: 1\ndescription: >\nThis contains a list of PTI assigned by the H-PCF corresponding to the UE policy(s)\nwhich could not be transferred by the AMF.\nrequired:\n- cause\n- ptis\nUeRequestedValueRep:\ndescription: >\nContains the current applicable values corresponding to the policy control request triggers.\ntype: object\nproperties:\nuserLoc:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\npraStatuses:\ntype: object\nadditionalProperties:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PresenceInfo'\nminProperties: 1\ndescription: >\nContains the UE presence statuses for tracking areas. The praId attribute within the\nPresenceInfo data type is the key of the map.\nplmnId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid'\nconnectState:\n$ref: 'TS29518_Namf_EventExposure.yaml#/components/schemas/CmState'\nconfSnssais:\ntype: array\nitems:\n$ref: 'TS29531_Nnssf_NSSelection.yaml#/components/schemas/ConfiguredSnssai'\nminItems: 1\ndescription: >\nThe Configured NSSAI for the serving PLMN, and the mapped S-NSSAI value of home\nnetwork corresponding to the configured S-NSSAI in the serving PLMN.\nsatBackhaulCategory:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SatelliteBackhaulCategory'\nurspEnfRep:\ntype: object\nadditionalProperties:\n$ref: '#/components/schemas/UrspEnforcementPduSession'\ndescription: >\nContains information about the enforced URSP rule(s) in one or more PDU sessions.\nThe key of the map is a character string that represents an integer value.\nminProperties: 1\nlboRoamInfo:\ntype: array\nitems:\n$ref: '#/components/schemas/LboRoamingInformation'\nminItems: 1\ndescription: >\nContains LBO roaming information for DNN and S-NSSAI combination(s).\naccessTypes:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nminItems: 1\ndescription: >\nThe Access Type(s) where the served UE is camping.\nIt shall be provided, if available, for trigger \"ACCESS_TYPE_CH.\nratTypes:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RatType'\nminItems: 1\ndescription: >\nThe RAT Type(s), if available, for the reported \"accessTypes\" where the served UE is\ncamping. It shall be provided, if available, for trigger \"ACCESS_TYPE_CH.\nUePolicyParameters:\ndescription: >\nContains the service parameters used to guide the VPLMN-specific URSP rule determination.\ntype: object\nproperties:\nurspGuidance:\ntype: array\nitems:\n$ref: 'TS29522_ServiceParameter.yaml#/components/schemas/UrspRuleRequest'\nminItems: 1\ndescription: >\nContains the service parameter used to guide the VPLMN-specific URSP.\ndeliveryEvents:\ntype: array\nitems:\n$ref: 'TS29522_ServiceParameter.yaml#/components/schemas/Event'\nminItems: 1\ndescription: >\nAF subscribed event(s) notifications related to AF provisioned guidance\nfor VPLMN-specific URSP rules.\nnullable: true\nnullable: true\nLboRoamingInformation:\ndescription: >\nContains LBO roaming information for a DNN and S-NSSAI.\ntype: object\nproperties:\nlboRoamAllowed:\ntype: boolean\ndescription: >\nIndicates whether LBO for the DNN and S-NSSAI is allowed when roaming.\ndnn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nsnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nrequired:\n- dnn\n- snssai\nUrspEnforcementPduSession:\ndescription: >\nRepresents URSP rule enforcement information for a PDU session.\ntype: object\nrequired:\n- urspEnfInfo\nproperties:\nurspEnfInfo:\n$ref: 'TS29512_Npcf_SMPolicyControl.yaml#/components/schemas/UrspEnforcementInfo'\nsscMode:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SscMode'\nueReqDnn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nueReqPduSessionType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionType'\ndnn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nsnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nUePolicyNotification:\ndescription: >\nContains the delivery outcome of VPLMN-specific URSP rules.\ntype: object\nrequired:\n- eventNotifs\nproperties:\neventNotifs:\ntype: array\nitems:\n$ref: 'TS29523_Npcf_EventExposure.yaml#/components/schemas/PcEventNotification'\nminItems: 1\ndescription: >\nRepresents the events to be reported according to the subscription to notifications\nof VPLMN-specific URSP delivery outcome events.\nUePolicy:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nUePolicyDeliveryResult:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nUePolicyRequest:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nRequestTrigger:\nanyOf:\n- type: string\nenum:\n- LOC_CH\n- PRA_CH\n- UE_POLICY\n- PLMN_CH\n- CON_STATE_CH\n- GROUP_ID_LIST_CHG\n- UE_CAP_CH\n- SAT_CATEGORY_CHG\n- NON_3GPP_NODE_RESELECTION\n- CONF_NSSAI_CH\n- LBO_INFO_CH\n- FEAT_RENEG\n- URSP_ENF_INFO\n- ACCESS_TYPE_CH\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nRepresents the possible request triggers.\nPossible values are:\n- LOC_CH: Location change (tracking area). The tracking area of the UE has changed.\n- PRA_CH: Change of UE presence in PRA. The AMF reports the current presence status\nof the UE in a Presence Reporting Area, and notifies that the UE enters/leaves the\nPresence Reporting Area.\n- UE_POLICY: A MANAGE UE POLICY COMPLETE message or a MANAGE UE POLICY COMMAND REJECT\nmessage, as defined in Annex D.5 of 3GPP TS 24.501 or a \"UE POLICY PROVISIONING REQUEST\"\nmessage, as defined in clause 7.2.1.1 of 3GPP TS 24.587, has been received by the AMF\nand is being forwarded.\n- PLMN_CH: PLMN change. the serving PLMN of UE has changed.\n- CON_STATE_CH: Connectivity state change: the connectivity state of UE has changed.\n- GROUP_ID_LIST_CHG: UE Internal Group Identifier(s) has changed. This policy\ncontrol request\ntrigger does not require a subscription.\n- UE_CAP_CH: UE Capabilities change: the UE provided 5G ProSe capabilities have changed.\nThis policy control request trigger does not require subscription.\n- SAT_CATEGORY_CHG: Indicates that the AMF has detected a change between different satellite\ncategory, or non-satellite backhaul.\n- NON_3GPP_NODE_RESELECTION: The UE has connected to a wrong non-3GPP access node that\ndoes not match its subscribed S-NSSAI(s). This policy control request trigger does not\nrequire a subscription.\n- CONF_NSSAI_CH: Configured NSSAI change. Indicates that the configured NSSAI has changed.\n- LBO_INFO_CH: LBO information change. The AMF reports LBO roaming allowed or not allowed\nfor the requested DNN(s) and S-NSSAI(s). This policy control request trigger only applies\nin roaming scenarios when the NF service consumer is the AMF.\n- FEAT_RENEG: The NF service consumer notifies that the target AMF is requesting feature\nre-negotiation.\n- URSP_ENF_INFO: The V-PCF has received URSP rule enforcement information about the enforced\nURSP rule(s) in one or more PDU sessions. This trigger applies in roaming scenarios and\nto the V-PCF.\n- ACCESS_TYPE_CH: Access Type change. The registered access type and RAT type\nhas changed, an access type and RAT type is added or removed.\nPolicyAssociationReleaseCause:\nanyOf:\n- type: string\nenum:\n- UNSPECIFIED\n- UE_SUBSCRIPTION\n- INSUFFICIENT_RES\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nRepresents the cause why the PCF requests the policy association termination.\nPossible values are:\n- UNSPECIFIED: This value is used for unspecified reasons.\n- UE_SUBSCRIPTION: This value is used to indicate that the policy association needs to be\nterminated because the subscription of UE has changed (e.g. was removed).\n- INSUFFICIENT_RES: This value is used to indicate that the server is overloaded and needs\nto abort the policy association.\nPc5Capability:\nanyOf:\n- type: string\nenum:\n- LTE_PC5\n- NR_PC5\n- LTE_NR_PC5\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nRepresents the specific PC5 RAT(s) which the UE supports for V2X communications over\nPC5 reference point.\nPossible values are:\n- LTE_PC5: This value is used to indicate that UE supports PC5 LTE RAT for V2X\ncommunications over the PC5 reference point\n- NR_PC5: This value is used to indicate that UE supports PC5 NR RAT for V2X communications\nover the PC5 reference point.\n- LTE_NR_PC5: This value is used to indicate that UE supports both PC5 LTE and NR RAT for\nV2X communications over the PC5 reference point.\nProSeCapability:\nanyOf:\n- type: string\nenum:\n- PROSE_DD\n- PROSE_DC\n- PROSE_L2_U2N_RELAY\n- PROSE_L3_U2N_RELAY\n- PROSE_L2_REMOTE_UE\n- PROSE_L3_REMOTE_UE\n- PROSE_L2_U2U_RELAY\n- PROSE_L3_U2U_RELAY\n- PROSE_L2_END_UE\n- PROSE_L3_END_UE\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\nthe content defined in the present version of this API.\ndescription: |\nRepresents the 5G ProSe capabilities.\nPossible values are:\n- PROSE_DD: This value is used to indicate that 5G ProSe Direct Discovery is supported\nby the UE.\n- PROSE_DC: This value is used to indicate that 5G ProSe Direct Communication is supported\nby the UE.\n- PROSE_L2_U2N_RELAY: This value is used to indicate that Layer-2 5G ProSe UE-to-Network\nRelay is supported by the UE.\n- PROSE_L3_U2N_RELAY: This value is used to indicate that Layer-3 5G ProSe UE-to-Network\nRelay is supported by the UE.\n- PROSE_L2_REMOTE_UE: This value is used to indicate that Layer-2 5G ProSe Remote UE is\nsupported by the UE.\n- PROSE_L3_REMOTE_UE: This value is used to indicate that Layer-3 5G ProSe Remote UE is\nsupported by the UE.\n- PROSE_L2_U2U_RELAY: This value is used to indicate that Layer-2 5G ProSe UE-to-UE\nRelay is supported by the UE.\n- PROSE_L3_U2U_RELAY: This value is used to indicate that Layer-3 5G ProSe UE-to-UE\nRelay is supported by the UE.\n- PROSE_L2_END_UE: This value is used to indicate that Layer-2 5G ProSe End UE is\nsupported by the UE.\n- PROSE_L3_END_UE: This value is used to indicate that Layer-3 5G ProSe End UE is\nsupported by the UE.\nNon3gppAccess:\nanyOf:\n- type: string\nenum:\n- N3IWF\n- TNGF\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nRepresents a non-3gpp access node.\nPossible values are:\n- N3IWF: Non-3gpp Interworking Function.\n- TNGF: Trusted Non-3gpp Gateway Function.\nN1N2MessTransferErrorReply:\nanyOf:\n- type: string\nenum:\n- UE_NOT_REACHABLE\n- UNSPECIFIED\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nRepresents an N1N2 Message Transfer error.\nPossible values are:\n- UE_NOT_REACHABLE: The UE is not reachable for paging.\n- UNSPECIFIED: Unspecified error.\nRangSLCapability:\nanyOf:\n- type: string\nenum:\n- PC5_RANGING_SL\n- type: string\ndescription: >\nThis string provides forward-compatibility with future extensions to the enumeration\nbut is not used to encode content defined in the present version of this API.\ndescription: |\nIndicates the Ranging and Sidelink Capability.\nPossible values are:\n- PC5_RANGING_SL: Indicates that the PC5 Capability for Ranging and Sidelink is supported\nby the UE.\nPolicyStatus:\nanyOf:\n- type: string\nenum:\n- CONFIGURED\n- NOT_CONFIGURED\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nRepresents the configuration status of a UE Policy in the UE.\nPossible values are:\n- CONFIGURED: The UE Policy is configured in the UE.\n- NOT_CONFIGURED: The UE Policy is not configured in the UE.\nA2xCapability:\nanyOf:\n- type: string\nenum:\n- EUTRA_PC5\n- NR_PC5\n- UU\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nRepresents the A2X capabilities the UE supports for A2X communication.\nPossible values are:\n- EUTRA_PC5: This value is used to indicate that the UE supports PC5 EUTRA RAT for A2X\ncommunications over the PC5 reference point\n- NR_PC5: This value is used to indicate that the UE supports PC5 NR RAT for A2X\ncommunications over the PC5 reference point.\n- UU: This value is used to indicate that UE supports A2X communications over the PC5\nreference point.\nSliceSpecificN3gNodeSelectionCapability:\nanyOf:\n- type: string\nenum:\n- ONLY_N3IWF_SS_SEL\n- ONLY_TNGF_SS_SEL\n- TNGF_N3IWF_SS_SEL\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nRepresents the UE capabilities with regard to slice-specific non-3gpp node selection.\nPossible values are:\n- ONLY_N3IWF_SS_SEL: Indicates that the UE supports N3IWF selection based on the slices\nthe UE wishes to use over untrusted non-3GPP access.\n- ONLY_TNGF_SS_SEL: Indicates that the UE supports TNGF selection based on the slices\nthe UE wishes to use over trusted non-3GPP access.\n- TNGF_N3IWF_SS_SEL: Indicates that the UE supports N3IWF selection based on the slices\nthe UE wishes to use over untrusted non-3GPP access and TNGF selection based on the\nslices the UE wishes to use over trusted non-3GPP access.\n#\nUePolicyTransferFailureCause:\ndescription: UE Policy Transfer Failure Cause.\nanyOf:\n- $ref: 'TS29518_Namf_Communication.yaml#/components/schemas/N1N2MessageTransferCause'\n- $ref: '#/components/schemas/N1N2MessTransferErrorReply'\nAnnex B (normative):Wireless and wireline convergence access support\nB.1\tScope\nThis annex provides the stage 3 definition of the UE Policy Control Service for wireless and wireline convergence access support for 5GS.\nThe stage 2 definition and procedures of the UE Policy Control Service for wireless and wireline convergence access support for 5GS are contained in 3GPP TS 23.316 [23].\nB.2\tNpcf_UEPolicyControl Service\nB.2.1\tService Description\nB.2.1.1\tOverview\nClause 4.1.1 applies with the modification that the 5G-RG and FN-RG replace the UE. Only URSP policies are applicable for a 5G-RG or an FN-RG connected via wireline access.\nNOTE:\tThe URSPs related to the FN-RG are delivered to the W-AGF, which is acting as a UE towards the 5GC on behalf of the FN-RG.\nB.2.1.2\tService Architecture\nClause 4.1.2 applies with the exception that roaming functionality (V-PCF and H-PCF specific functionality) shall not apply in this Release of the specification for UE policy control for 5G-RG connecting via W-5GAN and FN-RG. Roaming architecture is only applicable to a 5G-RG connecting to the 5GC via NG RAN.\nB.2.1.3\tNetwork Functions\nB.2.1.3.1\tPolicy Control Function (PCF)\nThe PCF functionality defined in clause 4.1.3.1 shall apply with the following differences:\n-\tOnly URSP policies are applicable. The PCF should not provide any UE policy other than URSP for a 5G-RG connected via wireline access.\n-\tIf the PCF provides the URSP policy to the 5G-RG or FN-RG, the PCF should only provide the following URSP policy information:\n-\tRule Precedence.\n-\tTraffic Descriptor, including only: Application descriptors (not applicable for FN-RG), IP descriptors, Domain descriptors (not applicable for FN-RG), Non-IP descriptors, DNN (not applicable for FN-RG), Connection Capabilities (not applicable for FN-RG).\n-\tRoute Selection Descriptor Precedence.\n-\tRoute selection components, including only: SSC Mode Selection, Network Slice Selection, DNN Selection, PDU Session Type Selection.\n-\tRoute Selection Validation Criteria, including only: Time Window\n-\tThe Visited Policy Control Function (V-PCF) shall not apply for 5G-RG connecting via wireline access and FN-RG.\n-\tThe PCF provides the UE access selection and PDU session selection policy control as described in this Annex.\nB.2.1.3.2\tNF Service Consumers\nThe NF service consumer functionality shall apply as defined in clause 4.1.3.2 with the differences described in this Annex.\nB.3\tService Operations\nB.3.1\tIntroduction\nClause 4.2.1 is applied with the following differences:\n-\tUE is replaced by the 5G-RG or or FN-RG.\n- \tUpdate of an UE Policy Association for the case that the AMF is relocated due to the UE mobility and the old PCF is selected is not applicable when the 5G-RG or FN-RG connects the 5GC via wireline access.\n-\tRoaming scenario is not applicable when the 5G-RG or FN-RG connects the 5GC via wireline access in this release of specification.\nB.3.2\tNpcf_UEPolicyControl_Create Service Operation\nB.3.2.1\tGeneral\nClause 4.2.2.1 is applied with the following differences:\n-\tUE is replaced by the 5G-RG or FN-RG. The 5G-RG connecting via wireline access and the FN-RG do not indicate the support of the URSP rule enforcement capability as described in clause 4.13 of 3GPP TS 24.501 [15].\n-\tThe PEI that may be included within the \"pei\" attribute shall have one of the following representations:\ni.\tIf the 5G-BRG supports only wireline access, the PEI shall be the 5G-BRG MAC address.\nii.\tIf the 5G-CRG supports only wireline access, the PEI shall be the cable modem MAC address.\niii.\tIf the 5G-RG supports at least one 3GPP access technology, the PEI shall be the allocated IMEI or IMEISV.\niv.\tFor the FN-BRG and FN-CRG, the PEI shall be the FN-RG MAC address.\nNOTE:\tWhen the PEI includes an indication that the MAC address cannot be used as Equipment identifier of the of the FN-RG, the PEI cannot be trusted for regulatory purposes and cannot be used for equipment based policy evaluation.\n-\tWhen the 5G-BRG or FN-BRG connects the 5GC via W-5GBAN, the \"n3gaLocation\" attribute shall be included in the \"ueLoc\" attribute and:\n-\tthe Global Line Identifier shall be included in the \"gli\" attribute; and\n-\tthe \"w5gbanLineType\" attribute to indicate whether the W-5GBAN access is DSL or PON may be included.\n-\tThe HFC Node Identifier is encoded in the \"hfcNodeId\" attribute of the \"n3gaLocation\" attribute included in the \"userLoc\" attribute within the PolicyAssociationRequest data structure when the 5G-CRG or FN-CRG connects to the 5GC via W-5GCAN.\n-\tRoaming scenario is not applicable when the 5G-RG or FN-RG connects the 5GC via wireline access in this release of specification.\n-\tThe PCF should neither include NSWO indication nor any policies other than URSP in the UE Policy.\nB.3.3\tNpcf_UEPolicyControl_Update Service Operation\nB.3.3.1\tGeneral\nClause 4.2.3.1 is applied with the following differences:\n-\tUE is replaced by the 5G-RG or FN-RG.\n-\tRoaming scenario is not applicable when the 5G-RG or FN-RG connects the 5GC via wireline access in this release of specification.\n-\tThe PCF should neither include NSWO indication nor any policies other than URSP in the UE Policy.\nB.3.4\tNpcf_UEPolicyControl_UpdateNotify Service\nB.3.4.1\tGeneral\nClause 4.2.4.1 is applied with the following differences:\n-\tUE is replaced by the 5G-RG or FN-RG.\n-\tRoaming scenario is not applicable when the 5G-RG or FN-RG connects the 5GC via wireline access in this release of specification.\n-\tThe PCF should neither include NSWO indication nor any policies other than URSP in the UE Policy.\nB.3.5\tNpcf_UEPolicyControl_Delete Service Operation\nB.3.5.1\tGeneral\nClause 4.2.5 is applied with the following differences:\n-\tUE is replaced by the 5G-RG or FN-RG.\n-\tRoaming scenario is not applicable when the 5G-RG or FN-RG connects the 5GC via wireline access in this release of specification.\nAnnex C (informative):Withdrawn API versions\nThis Annex list withdrawn API versions of the Npcf_UEPolicyControl API defined in the present specification. 3GPP TS 3GPP TS 29.501 [6] clause 4.3.1.6 describes the withdrawal of API versions.\nThe API versions listed in table C-1 are withdrawn for the Npcf_UEPolicyControl API.\nTable C-1: Withdrawn API versions of the Npcf_UEPolicyControl service\nAPI version number\nRemarks\n1.0.0\nDeficits in:\n-\tSUPI not mandatory (Unnecessary support of Emergency registration).\n-\tMissing AMF instance id in Policy Association request\nAnnex D (informative):Change history\nChange history\nDate\nMeeting\nTDoc\nCR\nRev\nCat\nSubject/Comment\nNew version\n2018-10\nCT3#98-Bis\nC3-186282\nFirst TS version created based on suitable parts of TS 29.507v15.1.0\n0.1.0\n2018-12\nCT3#99\nC3-187094\nAPI Version\n0.2.0\n2018-12\nCT3#99\nC3-187532\nExternalDocs OpenAPI field\n0.2.0\n2018-12\nCT3#99\nC3-187096\nLocation header field in OpenAPI\n0.2.0\n2018-12\nCT3#99\nC3-187533\nSecurity\n0.2.0\n2018-12\nCT3#99\nC3-187098\nsupported content types\n0.2.0\n2018-12\nCT3#99\nC3-187534\nHTTP Error responses\n0.2.0\n2018-12\nCT3#99\nC3-187673\nAlternate IP address in Npcf_UEPolicyControl_Update\n0.2.0\n2018-12\nCT3#99\nC3-187673\nCorrections on Protocol and Application errors\n0.2.0\n2018-12\nCP#82\nCP-183130\nTS sent to plenary for information and approval\n1.0.0\n2018-12\nCP#82\nCP-183175\nPCR 29.xyz Corrections of Cardinality in OpenAPI\n1.1.0\n2018-12\nCP#82\nCP-183250\nTS number assigned for approval at plenary\n1.1.0\n2018-12\nCP#82\nCP-183252\nTS approved by plenary\n15.0.0\n2019-03\nCP#83\nCP-190114\n0001\n1\nF\nUsage of the Namf_Communication Service by V-PCF\n15.1.0\n2019-03\nCP#83\nCP-190114\n0002\n1\nF\nAllignment with TS 24.501 changes on UE STATE INDICATION message\n15.1.0\n2019-03\nCP#83\nCP-190114\n0005\nF\nOpenAPI version Update\n15.1.0\n2019-03\nCP#83\nCP-190114\n0006\nF\nCorrection to the overview\n15.1.0\n2019-03\nCP#83\nCP-190114\n0007\nF\nCorrection to the descriptions of network functions\n15.1.0\n2019-03\nCP#83\nCP-190114\n0008\n1\nF\nCorrection to the service operation introduction\n15.1.0\n2019-03\nCP#83\nCP-190114\n0011\n3\nF\nCorrection to the Npcf_UEPolicyControl_UpdateNotify operation\n15.1.0\n2019-03\nCP#83\nCP-190114\n0012\nF\nCorrection to the PresenceInfo data type\n15.1.0\n2019-03\nCP#83\nCP-190114\n0013\nF\nUE Policy Control support for Emergency Registration\n15.1.0\n2019-03\nCP#83\nCP-190114\n0014\nF\nCorrection to the group identifier\n15.1.0\n2019-03\nCP#83\nCP-190114\n0017\n1\nF\nAdding AMF instance id in Policy Association request\n15.1.0\n2019-03\nCP#83\nCP-190114\n0018\n3\nF\nV-PCF Interworking procedures for UE policy delivery service\n15.1.0\n2019-03\nCP#83\nCP-190214\n0019\n3\nF\nCorrection on the handling of URSP and ANDSP policies\n15.1.0\n2019-06\nCT#84\nCP-191082\n0021\n1\nF\nANDSP correction\n15.2.0\n2019-06\nCT#84\nCP-191082\n0022\n2\nF\nCorrection to PolicyAssociationReleaseCause data type\n15.2.0\n2019-06\nCT#84\nCP-191082\n0023\n1\nF\nResending the UE policy\n15.2.0\n2019-06\nCT#84\nCP-191082\n0024\n2\nF\nCorrection to the service operation procedure\n15.2.0\n2019-06\nCT#84\nCP-191082\n0028\n2\nF\nWithdrawing API version\n15.2.0\n2019-06\nCT#84\nCP-191082\n0029\n1\nF\nPrecedence of OpenAPI file\n15.2.0\n2019-06\nCT#84\nCP-191082\n0030\n1\nF\nAPI version Update\n15.2.0\n2019-06\nCT#84\nCP-191082\n0031\nF\nCorrection to the serviceName attribute\n15.2.0\n2019-06\nCT#84\nCP-191160\n0034\n2\nF\nCopyright Note in YAML file\n15.2.0\n2019-06\nCP#84\nCP-191089\n0027\n1\nF\nCorrection on Policy Association Termination\n16.0.0\n2019-06\nCP#84\nCP-191089\n0032\n1\nB\nRace condition handling\n16.0.0\n2019-06\nCP#84\nCP-191101\n0035\n1\nF\nAPI version Update\n16.0.0\n2019-09\nCP#85\nCP-192178\n0036\nB\nAdding NID as input for policy decisions\n16.1.0\n2019-09\nCP#85\nCP-192148\n0038\nA\nUE policy correction in AMF\n16.1.0\n2019-09\nCP#85\nCP-192152\n0040\n1\nB\nSupport of wireline and wireless access convergence, Annex Skeleton\n16.1.0\n2019-09\nCP#85\nCP-192176\n0041\n1\nB\nSupport of wireline and wireless access convergence, NFs\n16.1.0\n2019-09\nCP#85\nCP-192224\n0043\n3\nA\nMessage transfer failure notification\n16.1.0\n2019-09\nCP#85\nCP-192171\n0044\n3\nB\nURSP rule provisioning for supporting xBDT\n16.1.0\n2019-09\nCP#85\nCP-192148\n0046\n1\nA\nGUAMI included in the Update operation\n16.1.0\n2019-09\nCP#85\nCP-192160\n0047\n1\nB\nPLMN change for V2X\n16.1.0\n2019-09\nCP#85\nCP-192173\n0048\nF\nOpenAPI version update for TS 29.525 Rel-16\n16.1.0\n2019-12\nCP#86\nCP-193197\n0050\n1\nF\nData type of the \"serviceName\" attribute\n16.2.0\n2019-12\nCP#86\nCP-193223\n0051\nF\nCorrecting references related to xBDT support\n16.2.0\n2019-12\nCP#86\nCP-193189\n0053\n1\nA\nCorrection to the trigger of UE policy association establishment\n16.2.0\n2019-12\nCP#86\nCP-193223\n0054\n3\nB\nURSP provisioning for xBDT\n16.2.0\n2019-12\nCP#86\nCP-193197\n0055\n1\nB\nFormat of hPcfId attribute\n16.2.0\n2019-12\nCP#86\nCP-193197\n0057\n1\nB\nSubscription to UE Connectivity state changes\n16.2.0\n2019-12\nCP#86\nCP-193197\n0058\nF\nRemoval of TABs from OpenAPI file\n16.2.0\n2019-12\nCP#86\nCP-193202\n0059\n1\nF\ncorrection to PLMN change trigger\n16.2.0\n2019-12\nCP#86\nCP-193223\n0060\n1\nB\nstore BDT reference ID in SMPolicyData\n16.2.0\n2019-12\nCP#86\nCP-193189\n0064\nA\nCorrection to PolicyUpdate\n16.2.0\n2019-12\nCP#86\nCP-193189\n0066\n1\nA\nCorrection on 307 error\n16.2.0\n2019-12\nCP#86\nCP-193191\n0067\n1\nB\nClarification of PEI format, TS 29.525\n16.2.0\n2019-12\nCP#86\nCP-193227\n0068\n2\nB\nWireline Location information\n16.2.0\n2019-12\nCP#86\nCP-193212\n0069\nF\nUpdate of API version and TS version in OpenAPI file\n16.2.0\n2020-03\nCT#87e\nCP-200223\n0071\nB\nCorrection on UE Policy Association Establishment\n16.3.0\n2020-03\nCT#87e\nCP-200212\n0072\n1\nB\nNetwork function enhancement for V2X communication\n16.3.0\n2020-03\nCT#87e\nCP-200212\n0073\n1\nB\nUE Policy for V2XARC\n16.3.0\n2020-03\nCT#87e\nCP-200262\n0074\n2\nB\nN2 PC5 Policy for V2XARC\n16.3.0\n2020-03\nCT#87e\nCP-200203\n0075\n1\nB\nComplete the procedure for WWC\n16.3.0\n2020-03\nCT#87e\nCP-200207\n0076\nB\nCompleting the description of \"PLMN_CH\" and \"CON_STATE_CH\" triggers.\n16.3.0\n2020-03\nCT#87e\nCP-200216\n0078\n1\nB\nUpdate of OpenAPI version and TS version in externalDocs field\n16.3.0\n2020-06\nCT#88e\nCP-201224\n0080\n1\nA\nLocation Header of 307 status code\n16.4.0\n2020-06\nCT#88e\nCP-201224\n0082\n1\nA\nNotification URI\n16.4.0\n2020-06\nCT#88e\nCP-201233\n0083\nB\nFQDN of alternative AMF\n16.4.0\n2020-06\nCT#88e\nCP-201224\n0085\nA\nDescription of scopes field and presenceStatus attribute\n16.4.0\n2020-06\nCT#88e\nCP-201228\n0086\nF\nRemoval of MAC address\n16.4.0\n2020-06\nCT#88e\nCP-201244\n0087\nF\nRemoval of unbreakable spaces\n16.4.0\n2020-06\nCT#88e\nCP-201228\n0088\n2\nB\nUntrusted FN-RG PEI\n16.4.0\n2020-06\nCT#88e\nCP-201244\n0089\n1\nF\nStorage of YAML files in ETSI Forge\n16.4.0\n2020-06\nCT#88e\nCP-201238\n0090\n1\nB\nCorrection to the UE policy definition\n16.4.0\n2020-06\nCT#88e\nCP-201238\n0091\n1\nB\nCorrection to the V2X Policy provisioning\n16.4.0\n2020-06\nCT#88e\nCP-201238\n0093\n1\nB\nRemove editor's node\n16.4.0\n2020-06\nCT#88e\nCP-201256\n0094\n1\nF\nURI of the Npcf_UEPolicyControl service\n16.4.0\n2020-06\nCT#88e\nCP-201238\n0095\nF\nAF-based service parameter provisioning\n16.4.0\n2020-06\nCT#88e\nCP-201238\n0096\nF\nComplete service description for V2X\n16.4.0\n2020-06\nCT#88e\nCP-201238\n0097\nF\nCorrections on N2 PC5 policy\n16.4.0\n2020-06\nCT#88e\nCP-201238\n0098\nF\nInclude V2XP info contents into policy section\n16.4.0\n2020-06\nCT#88e\nCP-201213\n0099\n1\nB\nSupport of Dual Connectivity end to end Redundant User Plane Paths\n16.4.0\n2020-06\nCT#88e\nCP-201238\n0100\nF\nCorrection to 4.2.4.1\n16.4.0\n2020-06\nCT#88e\nCP-201244\n0101\nF\nOptionality of ProblemDetails\n16.4.0\n2020-06\nCT#88e\nCP-201244\n0102\n1\nF\nSupported headers, Resource Data type, Operation Name\n16.4.0\n2020-06\nCT#88e\nCP-201255\n0105\nF\nUpdate of OpenAPI version and TS version in externalDocs field\n16.4.0\n2020-09\nCT#89e\nCP-202069\n0106\nF\nInclude N2 PC5 policy in update response\n16.5.0\n2020-09\nCT#89e\nCP-202069\n0107\nF\nRemove the dependency of subscription data in UDR for V2X\n16.5.0\n2020-09\nCT#89e\nCP-202079\n0108\n1\nF\nreport initial presence status for PRA\n17.0.0\n2020-09\nCT#89e\nCP-202073\n0109\n1\nB\nSuccessful Response\n17.0.0\n2020-09\nCT#89e\nCP-202073\n0110\nB\nError status code\n17.0.0\n2020-09\nCT#89e\nCP-202085\n0112\nF\nUpdate of OpenAPI version and TS version in externalDocs field\n17.0.0\n2020-12\nCT#90e\nCP-203139\n0115\n1\nA\nEssential corrections and alignments\n17.1.0\n2020-12\nCT#90e\nCP-203139\n0117\n1\nA\nStorage of YAML files in 3GPP Forge\n17.1.0\n2020-12\nCT#90e\nCP-203143\n0119\n1\nA\nCorrection to PRA\n17.1.0\n2020-12\nCT#90e\nCP-203129\n0121\n1\nA\nCorrection to the BDT policy re-negotiation\n17.1.0\n2020-12\nCT#90e\nCP-203119\n0126\n1\nA\nCorrection to Policy Update Notification\n17.1.0\n2020-12\nCT#90e\nCP-203148\n0127\n1\nF\nReport current value in Update for location related triggers\n17.1.0\n2020-12\nCT#90e\nCP-203148\n0128\n1\nB\nAdding 200OK response for UpdateNotify\n17.1.0\n2020-12\nCT#90e\nCP-203148\n0129\n2\nB\nSupport of 307&404 response codes for Policy update notification\n17.1.0\n2020-12\nCT#90e\nCP-203148\n0130\nF\n\"400 Bad Request\" response on notification\n17.1.0\n2020-12\nCT#90e\nCP-203150\n0132\n1\nA\nCorrection to URSP rules, support of 5G VN services\n17.1.0\n2020-12\nCT#90e\nCP-203153\n0136\nF\nUpdate of OpenAPI version and TS version in externalDocs fieldFilename: draft29525-h10-rm-v0.doc\n17.1.0\n2021-03\nCT#91e\nCP-210191\n0139\n1\nA\nSupport of stateless NFs\n17.2.0\n2021-03\nCT#91e\nCP-210210\n0141\n1\nA\nCorrection to N2 PC5 policy\n17.2.0\n2021-03\nCT#91e\nCP-210218\n0142\nF\nAdding \"description\" field for map data types\n17.2.0\n2021-03\nCT#91e\nCP-210218\n0143\nF\nOpenAPI reference\n17.2.0\n2021-03\nCT#91e\nCP-210219\n0144\nF\nClarification on optional HTTP custom headers\n17.2.0\n2021-03\nCT#91e\nCP-210227\n0146\n1\nF\nClarification of update operation\n17.2.0\n2021-03\nCT#91e\nCP-210221\n0147\n1\nF\nAmbiguous concept of NF service consumer terminology\n17.2.0\n2021-03\nCT#91e\nCP-210221\n0148\n1\nF\nAdding some missing description fields to data type definitions in OpenAPI specification files\n17.2.0\n2021-03\nCT#91e\nCP-210191\n0150\n1\nA\nCorrection to resource identifiers descriptions used in notifications\n17.2.0\n2021-03\nCT#91e\nCP-210240\n0152\nF\nUpdate of OpenAPI version and TS version in externalDocs field\n17.2.0\n2021-06\nCT#92e\nCP-211133\n0153\n4\nB\n5G ProSe related updates to the Npcf_UEPolicyControl_Create Service Operation\n17.3.0\n2021-06\nCT#92e\nCP-211245\n0155\n1\nB\nGLI report\n17.3.0\n2021-06\nCT#92e\nCP-211200\n0157\n1\nA\nTemporary and Permanent Redirection\n17.3.0\n2021-06\nCT#92e\nCP-211218\n0158\n1\nB\nSupport of UE policy updates for AF influence on URSP\n17.3.0\n2021-06\nCT#92e\nCP-211265\n0160\nF\nUpdate of OpenAPI version and TS version in externalDocs field\n17.3.0\n2021-09\nCT#93e\nCP-212220\n0161\n1\nF\nCorrection of URI structure\n17.4.0\n2021-09\nCT#93e\nCP-212250\n0163\n1\nA\nCorrection to V2X Policy Provisioning Request\n17.4.0\n2021-09\nCT#93e\nCP-212188\n0164\n1\nF\nCorrection to ProSe Policy Provisioning Request\n17.4.0\n2021-09\nCT#93e\nCP-212188\n0165\n1\nF\nSeparation of 5G ProSe N2 PC5 and V2X N2 PC5 policies.\n17.4.0\n2021-09\nCT#93e\nCP-212188\n0166\nB\nUpdate of URSP definition\n17.4.0\n2021-09\nCT#93e\nCP-212188\n0167\n1\nB\nNotification of 5G ProSe capability changes\n17.4.0\n2021-09\nCT#93e\nCP-212224\n0168\n1\nF\nCorrection to the reused data types\n17.4.0\n2021-09\nCT#93e\nCP-212224\n0169\nF\nCorrection to immediate PRA report\n17.4.0\n2021-09\nCT#93e\nCP-212188\n0170\n1\nB\nRemoval of some 5G ProSe related ENs\n17.4.0\n2021-09\nCT#93e\nCP-212224\n0171\n1\nF\nMiscellaneous corrections to the Npcf_UEPolicyControl service\n17.4.0\n2021-09\nCT#93e\nCP-212190\n0174\nA\nCorrection of URI related attribute for the termination notification\n17.4.0\n2021-09\nCT#93e\nCP-212223\n0175\nF\nUpdate of OpenAPI version and TS version in externalDocs field\n17.4.0\n2021-12\nCT#94e\nCP-213229\n0177\nF\nDirect access to SNPN\n17.5.0\n2021-12\nCT#94e\nCP-213243\n0178\nF\nCorrection to Update procedure\n17.5.0\n2021-12\nCT#94e\nCP-213213\n0179\n1\nB\nUpdates to ProSeP for 5G ProSe UE-to-network relay\n17.5.0\n2021-12\nCT#94e\nCP-213223\n0180\nB\nHandling of retrieved URSP policies from the UDR\n17.5.0\n2021-12\nCT#94e\nCP-213248\n0181\nB\nSupport of RSN and PDU Session Pair ID in the URSP Rule\n17.5.0\n2021-12\nCT#94e\nCP-213244\n0182\n1\nF\nError handling when no UE Policy Association exists\n17.5.0\n2021-12\nCT#94e\nCP-213246\n0183\nF\nUpdate of OpenAPI version and TS version in externalDocs field\n17.5.0\n2022-03\nCT#95e\nCP-220206\n0184\n1\nB\nPCF checking of redundant PDU session applicability\n17.6.0\n2022-03\nCT#95e\nCP-220176\n0185\n1\nA\nAlignment of \"Application Errors\" clause with SBI TS template\n17.6.0\n2022-03\nCT#95e\nCP-220186\n0186\n1\nB\nResolutions related to URSP guidance handling at the PCF\n17.6.0\n2022-03\nCT#95e\nCP-220185\n0187\n1\nF\nHandling of supported features for Edge Computing\n17.6.0\n2022-03\nCT#95e\nCP-220185\n0188\n1\nF\nRemoval of Editor's Notes related to AF guidance of URSP determination\n17.6.0\n2022-03\nCT#95e\nCP-220167\n0191\n1\nA\nHandling of error responses\n17.6.0\n2022-03\nCT#95e\nCP-220174\n0193\n1\nA\nDescription of a \"307 Temporary Redirect\" response\n17.6.0\n2022-03\nCT#95e\nCP-220193\n0195\n1\nF\nDescription of a \"307 Temporary Redirect\" response in table 5.5.2.2-2\n17.6.0\n2022-03\nCT#95e\nCP-220196\n0196\nF\nRemoving the remaining ENs on ProSeP definition2022-03\n17.6.0\n2022-03\nCT#95e\nCP-220194\n0200\nF\nUpdate of info and externalDocs fields\n17.6.0\n2022-06\nCT#96\nCP-221154\n0201\n1\nF\nFormatting of description fields\n17.7.0\n2022-06\nCT#96\nCP-221154\n0202\n-\nF\nUsing the common data type for FQDN\n17.7.0\n2022-06\nCT#96\nCP-221126\n0203\n-\nF\nValidation of guidance information\n17.7.0\n2022-06\nCT#96\nCP-221126\n0204\n-\nF\nLimitation of URSP derived based guidance information\n17.7.0\n2022-06\nCT#96\nCP-221126\n0205\n1\nF\nNotification of outcome of URSP provisioning\n17.7.0\n2022-06\nCT#96\nCP-221116\n0208\n1\nF\nCorrection to ProSe related triggers\n17.7.0\n2022-06\nCT#96\nCP-221253\n0209\n2\nF\nCorrection to GROUP_ID_LIST_CHG trigger\n17.7.0\n2022-06\nCT#96\nCP-221138\n0210\n1\nB\nUE Policies support in SNPN\n17.7.0\n2022-06\nCT#96\nCP-221254\n0211\n2\nA\nRequest of ProSeP/V2XP during NAS Transport procedure\n17.7.0\n2022-06\nCT#96\nCP-221151\n0215\n-\nF\nUpdate of info and externalDocs fields\n17.7.0\n2022-09\nCT#97e\nCP-222123\n0217\n1\nF\nAlignment with the SBI template\n17.8.0\n2022-09\nCT#97e\nCP-222133\n0218\n1\nF\nCorrection in the handling of precedence for URSP rules\n17.8.0\n2022-09\nCT#97e\nCP-224217\n0220\nA\nCorrection of policy update procedures\n17.8.0\n2022-09\nCT#97e\nCP-222178\n0221\n1\nF\nCorrection of UE Policy Association management for URSP and ANDSP\n17.8.0\n2022-09\nCT#97e\nCP-224322\n0222\nF\nCorrection to UE policy provisioning for AF-influenced URSP\n17.8.0\n2022-12\nCT#98e\nCP-223162\n0223\n2\nF\nRemoval of the request of V2XP and/or ProSeP during registration\n17.9.0\n2022-12\nCT#98e\nCP-223177\n0229\nF\nCorrections to PLMN change trigger\n17.9.0\n2022-12\nCT#98e\nCP-223177\n0231\nF\nCorrection to UE Policies determination in a serving SNPN\n17.9.0\n2022-12\nCT#98e\nCP-223188\n0232\nF\nUpdate of info and externalDocs fields\n17.9.0\n2022-12\nCT#98e\nCP-223201\n0225\n1\nB\nFeature awareness during UE mobility with AMF change\n18.0.0\n2022-12\nCT#98e\nCP-223191\n0227\nF\nAdding the mandatory error code 502 Bad Gateway\n18.0.0\n2022-12\nCT#98e\nCP-223199\n0228\n1\nF\nCorrection on the handling of UE policy delivery errors\n18.0.0\n2022-12\nCT#98e\nCP-223178\n0230\nB\nSNPN mobility\n18.0.0\n2022-12\nCT#98e\nCP-223189\n0233\nF\nUpdate of info and externalDocs fields\n18.0.0\n2023-03\nCT#99\nCP-230133\n0234\n1\nB\nAdding Configured NSSAI to UE Policy Control inputs\n18.1.0\n2023-03\nCT#99\nCP-230166\n0236\nF\nCorrection of the description fields in enumerations\n18.1.0\n2023-03\nCT#99\nCP-230147\n0237\n1\nB\nNWDAF-assisted for URSP rules determination\n18.1.0\n2023-03\nCT#99\nCP-230152\n0238\n1\nB\nURSP provisioning in EPS\n18.1.0\n2023-03\nCT#99\nCP-230181\n0239\n1\nF\nFeature negotiation in roaming scenarios\n18.1.0\n2023-03\nCT#99\nCP-230130\n0240\n1\nB\nSupport of the satellite backhaul category\n18.1.0\n2023-03\nCT#99\nCP-230161\n0241\nF\nUpdate of info and externalDocs fields\n18.1.0\n2023-06\nCT#100\nCP-231174\n0242\n1\nB\nSupport of Non-3GPP access for SNPN scenarios\n18.2.0\n2023-06\nCT#100\nCP-231165\n0243\n1\nB\nTrigger slice-aware ANDSP/WLANSP determination\n18.2.0\n2023-06\nCT#100\nCP-231165\n0244\n1\nB\nANDSP delivery notifications\n18.2.0\n2023-06\nCT#100\nCP-231145\n0246\n1\nB\nRepresentation of N43 reference point\n18.2.0\n2023-06\nCT#100\nCP-231133\n0247\n1\nF\nANDSP support indication to V-PCF\n18.2.0\n2023-06\nCT#100\nCP-231182\n0248\n1\nB\nSupport of PIN ID in URSP\n18.2.0\n2023-06\nCT#100\nCP-231156\n0249\n1\nB\nSupport for A2X service authorization and policy provisioning in Npcf_UEPolicyControl Service Operation\n18.2.0\n2023-06\nCT#100\nCP-231131\n0251\n1\nD\nMiscellaneouse changes\n18.2.0\n2023-06\nCT#100\nCP-231173\n0252\n1\nB\nComplete the feature negotiation during the AMF relocation\n18.2.0\n2023-06\nCT#100\nCP-231145\n0253\n3\nB\nSupport for URSP awareness\n18.2.0\n2023-06\nCT#100\nCP-231145\n0254\n2\nB\nSupport of the configured NSSAI change\n18.2.0\n2023-06\nCT#100\nCP-231165\n0255\n1\nB\nSupport of TNGF selection for S-NSSAI\n18.2.0\n2023-06\nCT#100\nCP-231132\n0258\n1\nF\nHTTP redirection clause correction\n18.2.0\n2023-06\nCT#100\nCP-231184\n0259\n1\nB\nSupport UE policies for 5G ProSe UE-to-UE relay\n18.2.0\n2023-06\nCT#100\nCP-231145\n0260\n1\nB\nURSP Provisioning in EPS roaming support\n18.2.0\n2023-06\nCT#100\nCP-231134\n0261\n1\nB\nURSP Provisioning in EPS corrections regarding the delivery of the initial UE policy container with the UE STATE INDICATION message\n18.2.0\n2023-06\nCT#100\nCP-231145\n0262\n1\nB\nProvisioning of VPLMN specific URSP rules\n18.2.0\n2023-06\nCT#100\nCP-231145\n0263\n1\nB\nCompletion of URSP provisioning in EPS\n18.2.0\n2023-06\nCT#100\nCP-231173\n0264\n1\nB\nSolving remaining ENs on feature re-negotiation\n18.2.0\n2023-06\nCT#100\nCP-231141\n0265\nF\nUpdate of info and externalDocs fields\n18.2.0\n2023-09\nCT#101\nCP-232098\n0266\n1\nF\nUpdate on PresenceInfo for PolicyUpdate\n18.3.0\n2023-09\nCT#101\nCP-232104\n0267\nF\nEN resolution for A2XP related UE policy encoding\n18.3.0\n2023-09\nCT#101\nCP-232104\n0268\nF\nEN resolution for A2X subscription\n18.3.0\n2023-09\nCT#101\nCP-232108\n0269\nB\nUE policy based on subscribed DNN/S-NSSAI for PIN scenarios\n18.3.0\n2023-09\nCT#101\nCP-232092\n0270\n1\nB\nEnhancement to Npcf_UEPolicyControl service for URSP rule enforcement\n18.3.0\n2023-09\nCT#101\nCP-232099\n0271\n1\nB\nSpending limits report for UE Policy\n18.3.0\n2023-09\nCT#101\nCP-232121\n0272\n1\nB\nCompletion of the reporting of Satellite Backhaul changes\n18.3.0\n2023-09\nCT#101\nCP-232092\n0273\n1\nB\nURSP rule enforcement\n18.3.0\n2023-09\nCT#101\nCP-232240\n0274\n1\nB\nCompletion of the Provisioning of VPLMN specific URSP\n18.3.0\n2023-09\nCT#101\nCP-232092\n0275\n1\nB\nSolving URSP delivery in EPS ENs related to roaming scenarios\n18.3.0\n2023-09\nCT#101\nCP-232092\n0276\n3\nB\nCompletion of the reporting of configured NSSAI changes\n18.3.0\n2023-09\nCT#101\nCP-232110\n0277\n1\nB\nN1N2MessageSubscribe during AMF relocation\n18.3.0\n2023-09\nCT#101\nCP-232110\n0278\nB\nDiscovery of Namf_Communication service\n18.3.0\n2023-09\nCT#101\nCP-232110\n0279\n1\nB\nNon-subscribed SNPN signalled URSP\n18.3.0\n2023-09\nCT#101\nCP-232104\n0280\n1\nB\nSupport of A2X policy provisioning for A2X communication over Uu reference point\n18.3.0\n2023-09\nCT#101\nCP-232085\n0281\nF\nUpdate of info and externalDocs fields\n18.3.0\n2023-12\nCT#102\nCP-233245\n0282\n2\nB\nSupport the change of the PDU Session Type for a 5G VN group\n18.4.0\n2023-12\nCT#102\nCP-233244\n0285\n1\nB\nRemove the EN for the details that the PCF receives the report of URSP rule enforcement info from NWDAF\n18.4.0\n2023-12\nCT#102\nCP-233202\n0286\n1\nF\nCorrection to the report of URSP rule enforcement info\n18.4.0\n2023-12\nCT#102\nCP-233244\n0287\nF\nWrong attribute name\n18.4.0\n2023-12\nCT#102\nCP-233256\n0288\n2\nD\nIncorrect feature name\n18.4.0\n2023-12\nCT#102\nCP-233256\n0289\n1\nF\nCorrection in error handling in roaming scenarios\n18.4.0\n2023-12\nCT#102\nCP-233244\n0290\n1\nB\nEnhancement to Npcf_UEPolicyControl service for URSP rule enforcement in EPS\n18.4.0\n2023-12\nCT#102\nCP-233268\n0293\n1\nB\nUpdate UE Policy Control Service for Ranging_SL\n18.4.0\n2023-12\nCT#102\nCP-233244\n0295\n1\nF\nMiscellaneous changes\n18.4.0\n2023-12\nCT#102\nCP-233244\n0297\n1\nB\nSubscription to the outcome of the provisioning of VPLMN specific URSP\n18.4.0\n2023-12\nCT#102\nCP-233244\n0298\n1\nB\nURSP provisioning in EPS in Home Routed scenarios\n18.4.0\n2023-12\nCT#102\nCP-233172\n0299\n2\nB\nSame UE Policy Association shared by 3GPP and non-3GPP\n18.4.0\n2023-12\nCT#102\nCP-233244\n0300\n1\nF\nCorrections on PCRT for immediate report\n18.4.0\n2023-12\nCT#102\nCP-233244\n0301\nF\ndefinition of term Configured NSSAI\n18.4.0\n2023-12\nCT#102\nCP-233244\n0302\n1\nB\nUpdate for the URSP rule enforcement without UE assistance\n18.4.0\n2023-12\nCT#102\nCP-233230\n0304\n1\nF\nHTTP RFC uplifting\n18.4.0\n2023-12\nCT#102\nCP-233253\n0305\n1\nB\nSupport for services deployed on GEO satellite\n18.4.0\n2023-12\nCT#102\nCP-233283\n0306\nB\nNon-subscribed SNPN signalled WLANSP\n18.4.0\n2023-12\nCT#102\nCP-233256\n0307\n1\nB\nCompletion of error handling functionality\n18.4.0\n2023-12\nCT#102\nCP-233237\n0309\nF\nUpdate of info and externalDocs fields\n18.4.0\n2024-03\nCT#103\nCP-240183\n0292\n2\nF\nEN resolution on selecting a PDU session for URSP provisioning in EPS\n18.5.0\n2024-03\nCT#103\nCP-240202\n0311\nF\nResolve ENs related to A2XP encoding.\n18.5.0\n2024-03\nCT#103\nCP-240188\n0315\n1\nF\nMissing applicable feature for suppFeat attribute\n18.5.0\n2024-03\nCT#103\nCP-240180\n0316\nF\nError handling update and miscellaneous changes\n18.5.0\n2024-03\nCT#103\nCP-240190\n0317\n1\nB\nSupport of CHF address(es) information\n18.5.0\n2024-03\nCT#103\nCP-240181\n0318\n1\nF\nUE Policy restrictions and differences for Wireline Access\n18.5.0\n2024-03\nCT#103\nCP-240183\n0319\nF\nData type correction\n18.5.0\n2024-03\nCT#103\nCP-240183\n0320\nF\nRe-used data types\n18.5.0\n2024-03\nCT#103\nCP-240179\n0321\n1\nB\nVarious corrections and alignments\n18.5.0\n2024-03\nCT#103\nCP-240173\n0322\n1\nF\nCorrection on 200 OK response\n18.5.0\n2024-03\nCT#103\nCP-240181\n0323\n1\nB\nSlice based TNGF and N3IWF selection\n18.5.0\n2024-03\nCT#103\nCP-240183\n0324\nF\nMiscellaneous Corrections\n18.5.0\n2024-03\nCT#103\nCP-240242\n0325\n2\nF\nUE Policy Association over 3GPP and non-3GPP access\n18.5.0\n2024-03\nCT#103\nCP-240166\n0326\nF\nUpdate of info and externalDocs fields\n18.5.0\n2024-06\nCT#104\nCP-241107\n0327\n1\nF\nMiscellaneous changes\n18.6.0\n2024-06\nCT#104\nCP-241097\n0328\n2\nB\nResolve EN on URSP rule enforcement when the UE moves from EPS to 5GS\n18.6.0\n2024-06\nCT#104\nCP-241093\n0330\n1\nF\nCorrections on the trigger description\n18.6.0\n2024-06\nCT#104\nCP-241097\n0331\n1\nB\nURSP rule enforcement\n18.6.0\n2024-06\nCT#104\nCP-241097\n0332\nB\nURSP over EPS, SM and UE Policy Association selection\n18.6.0\n2024-06\nCT#104\nCP-241113\n0333\n1\nF\nClarification to UPSI determination and Access Type Change\n18.6.0\n2024-06\nCT#104\nCP-241097\n0335\n1\nB\nMissing PDU Session Type in URSP rule enforcement information\n18.6.0\n2024-06\nCT#104\nCP-241093\n0337\n1\nF\nDescription update and miscellaneous changes\n18.6.0\n2024-06\nCT#104\nCP-241113\n0339\n1\nF\ncompletion of 4.2.3.2\n18.6.0\n2024-06\nCT#104\nCP-241113\n0340\n1\nF\nCorrection of AMF Relocation scenario\n18.6.0\n2024-06\nCT#104\nCP-241097\n0341\nF\nCorrections on UE policy Notification\n18.6.0\n2024-06\nCT#104\nCP-241097\n0342\nF\nCorrections on VPLMN Specific URSP\n18.6.0\n2024-06\nCT#104\nCP-241098\n0343\n1\nF\nRemoval of reported parameters in URSP rule enforcement information\n18.6.0\n2024-06\nCT#104\nCP-241097\n0344\nF\nURSP Enforcement information and PDU session parameters\n18.6.0\n2024-06\nCT#104\nCP-241098\n0345\nB\nSupport of PCF Binding information\n18.6.0\n2024-06\nCT#104\nCP-241121\n0346\nF\nCorrection to A2XP determination\n18.6.0\n2024-06\nCT#104\nCP-241113\n0347\nF\nMisalignment between UE Policies stored in the UE and UE Policies stored in 5GC\n18.6.0\n2024-06\nCT#104\nCP-241085\n0348\nF\nUpdate of info and externalDocs fields\n18.6.0\n2024-08\nCT#104\nCorrection of order of clauses 5.6.3.12 and 5.6.4\n18.6.1\n2024-09\nCT#105\nCP-242151\n0353\n1\nF\nIndication of slice-related N3GPP node selection capability\n18.7.0\n2024-09\nCT#105\nCP-242151\n0354\n1\nF\nMissing attribute\n18.7.0\n2024-09\nCT#105\nCP-242137\n0357\n1\nF\nCorrections to the provisioning of VPLMN Specific URSP rules\n18.7.0\n2024-09\nCT#105\nCP-242140\n0358\n1\nF\nEnhanced H-PCF reselection\n18.7.0\n2024-09\nCT#105\nCP-242145\n0362\n1\nF\nCorrection on CHF selection\n18.7.0\n2024-09\nCT#105\nCP-242120\n0364\n-\nF\nUpdate of info and externalDocs fields\n18.7.0\n2024-12\nCT#106\nCP-243107\n0369\n1\nF\nMiscellaneous Corrections to the UE policy service\n18.8.0\n2024-12\nCT#106\nCP-243129\n0379\n1\nF\nCorrections to the data type PolicyAssociation and PolicyUpdate\n18.8.0\n2024-12\nCT#106\nCP-243146\n0386\n-\nF\nUpdate of info and externalDocs fields\n18.8.0\n2025-03\nCT#107\nCP-250128\n0393\nF\nUpdate of info and externalDocs fields\n18.9.0",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.510_clause_5.4.2.2",
        "ts_21.900_clause_5",
        "ts_21.900_clause_5.3.1",
        "ts_29.501_clause_4.4",
        "ts_24.587_clause_7.2.1.1",
        "clause_4.1.1",
        "clause_4.1.2",
        "clause_4.1.3.1",
        "clause_4.1.3.2",
        "clause_4.2.1",
        "clause_4.2.2.1",
        "ts_24.501_clause_4.13",
        "clause_4.2.3.1",
        "clause_4.2.4.1",
        "clause_4.2.5",
        "ts_29.501_clause_4.3.1.6",
        "clause_16.4.0",
        "table_5.5.2.2-2",
        "ts_33.501",
        "ts_29.500",
        "ts_29.510",
        "ts_21.900",
        "ts_29.501",
        "ts_29.525",
        "ts_24.501",
        "ts_24.587",
        "ts_23.316",
        "ts_29.507",
        "ts_17.1",
        "ts_17.5",
        "ts_18.1",
        "ts_18.5"
      ]
    }
  ]
}