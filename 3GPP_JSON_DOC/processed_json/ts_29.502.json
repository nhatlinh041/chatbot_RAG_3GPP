{
  "metadata": {
    "specification_id": "ts_29.502",
    "version": "18.10.0",
    "title": "3GPP TS 29.502",
    "file_path": "/content/drive/MyDrive/RAG_thesis/data/29_series/29502-ia0/29502-ia0.docx"
  },
  "export_info": {
    "export_date": "2025-07-26T08:59:31.446063",
    "total_chunks": 282
  },
  "chunks": [
    {
      "chunk_id": "ts_29.502_1",
      "section_id": "1",
      "section_title": "Scope",
      "content": "The present document specifies the stage 3 protocol and data model for the Nsmf Service Based Interface. It provides stage 3 protocol definitions and message flows, and specifies the API for each service offered by the SMF other than the Session Management Event Exposure service and Session Management services for Non-IP Data Delivery (NIDD).\nThe 5G System stage 2 architecture and procedures are specified in 3GPP TS 23.501 [2] and 3GPP TS 23.502 [3].\nThe Technical Realization of the Service Based Architecture and the Principles and Guidelines for Services Definition are specified in 3GPP TS 29.500 [4] and 3GPP TS 29.501 [5].\nThe Session Management Event Exposure Service is specified in 3GPP TS 29.508 [6]. The Session Management services for Non-IP Data Delivery (NIDD) are specified in 3GPP TS 29.542 [37].",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.501",
        "ts_23.502",
        "ts_29.500",
        "ts_29.501",
        "ts_29.508",
        "ts_29.542"
      ]
    },
    {
      "chunk_id": "ts_29.502_2",
      "section_id": "2",
      "section_title": "References",
      "content": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non‑specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".\n[3]\t3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".\n[4]\t3GPP TS 29.500: \"5G System; Technical Realization of Service Based Architecture; Stage 3\".\n[5]\t3GPP TS 29.501: \"5G System; Principles and Guidelines for Services Definition; Stage 3\".\n[6]\t3GPP TS 29.508: \"5G System; Session Management Event Exposure Service; Stage 3\".\n[7]\t3GPP TS 24.501: \"Non-Access-Stratum (NAS) protocol for 5G System (5GS); Stage 3\".\n[8]\t3GPP TS 24.007: \"Mobile radio interface signalling layer 3; General aspects\".\n[9]\t3GPP TS 38.413: \"NG Radio Access Network (NG-RAN); NG Application Protocol (NGAP)\".\n[10]\tIETF RFC 2387: \"The MIME Multipart/Related Content-type\".\n[11]\tIETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange Format\".\n[12]\tIETF RFC 2045: \"Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies\".\n[13]\t3GPP TS 29.571: \"5G System; Common Data Types for Service Based Interfaces; Stage 3\".\n[14]\tIETF RFC 9113: \"HTTP/2\".\n[15]\tOpenAPI Initiative, \"OpenAPI Specification Version 3.0.0\", https://spec.openapis.org/oas/v3.0.0.\n[16]\t3GPP TS 29.274: \"3GPP Evolved Packet System (EPS); Evolved General Packet Radio Service (GPRS) Tunnelling Protocol for Control plane (GTPv2-C); Stage 3\".\n[17]\t3GPP TS 33.501: \"Security architecture and procedures for 5G system\".\n[18]\tIETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".\n[19]\t3GPP TS 29.510: \"Network Function Repository Services; Stage 3\".\n[20]\t3GPP TS 29.518: \"5G System; Access and Mobility Management Service; Stage 3\".\n[21]\t3GPP TS 23.380: \"IMS Restoration Procedures\".\n[22]\t3GPP TS 32.422: \"Telecommunication management; Subscriber and equipment trace; Trace control and configuration management\".\n[23]\tIETF RFC 9457: \"Problem Details for HTTP APIs\".\n[24]\t3GPP TS 23.527: \"5G System; Restoration Procedures\".\n[25]\t3GPP TS 32.255: \"Charging management; 5G data connectivity domain charging; stage 2\".\n[26]\t3GPP TS 32.291: \"Charging management; 5G system, charging service; Stage 3\".\n[27]\t3GPP TS 24.301: \"Non-Access-Stratum (NAS) protocol for Evolved Packet System (EPS); Stage 3\".\n[28]\t3GPP TR 21.900: \"Technical Specification Group working methods\".\n[29]\t3GPP TS 29.244: \"Interface between the Control Plane and the User Plane Nodes; stage 3\".\n[30]\t3GPP TS 29.512: \"5G System; Session Management Policy Control Service; Stage 3\".\n[31]\tVoid\n[32]\tIETF RFC 9110: \"HTTP Semantics\".\n[33]\t3GPP TS 23.401: \"General Packet Radio Service (GPRS) enhancements for Evolved Universal Terrestrial Radio Access Network (E-UTRAN) access; Stage 2\".\n[34]\t3GPP TS 29.524: \"5G System; Cause codes mapping between 5GC interfaces; Stage 3\".\n[35]\t3GPP TS 23.216: \"Single Radio Voice Call Continuity (SRVCC); Stage 2\".\n[36]\t3GPP TS 23.316: \"Wireless and wireline convergence access support for the 5G System (5GS)\".\n[37]\t3GPP TS 29.542: \"5G System; Session Management Services for Non-IP Data Delivery (NIDD); Stage 3\".\n[38]\t3GPP TS 29.519: \"5G System; Usage of the Unified Data Repository service for Policy Control Data, Application Data and Structured Data for Exposure; Stage 3\".\n[39]\t3GPP TS 23.548: \"5G System Enhancements for Edge Computing; Stage 2\".\n[40]\t3GPP TS 29.531: \"5G System; Network Slice Selection Services; Stage 3\".\n[41]\t3GPP TS 23.256: \"Support of Uncrewed Aerial Systems (UAS) connectivity, identification and tracking; Stage 2\".\n[42]\t3GPP TS 23.015: \"Technical realization of Operator Determined Barring (ODB)\".\n[43]\t3GPP TS 23.304: \"Proximity based Services (ProSe) in the 5G System (5GS)\".\n[44]\t3GPP TS 23.247: \"Architectural enhancements for 5G multicast-broadcast services; Stage 2\".\n[45]\t3GPP TS 23.007: \"Restoration procedures\".\n[46]\t3GPP TS 29.503: \"5G System; Unified Data Management Services; Stage 3\".\n[47]\t3GPP TS 24.008: \"Mobile Radio Interface Layer 3 specification; Core Network Protocols; Stage 3\".",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905",
        "ts_23.501",
        "ts_23.502",
        "ts_29.500",
        "ts_29.501",
        "ts_29.508",
        "ts_24.501",
        "ts_24.007",
        "ts_38.413",
        "ts_29.571",
        "ts_29.274",
        "ts_33.501",
        "ts_29.510",
        "ts_29.518",
        "ts_23.380",
        "ts_32.422",
        "ts_23.527",
        "ts_32.255",
        "ts_32.291",
        "ts_24.301",
        "ts_21.900",
        "ts_29.244",
        "ts_29.512",
        "ts_23.401",
        "ts_29.524",
        "ts_23.216",
        "ts_23.316",
        "ts_29.542",
        "ts_29.519",
        "ts_23.548",
        "ts_29.531",
        "ts_23.256",
        "ts_23.015",
        "ts_23.304",
        "ts_23.247",
        "ts_23.007",
        "ts_29.503",
        "ts_24.008"
      ]
    },
    {
      "chunk_id": "ts_29.502_3.1",
      "section_id": "3.1",
      "section_title": "Definitions",
      "content": "For the purposes of the present document, the terms and definitions given in 3GPP TR 21.905 [1] and the following apply. A term defined in the present document takes precedence over the definition of the same term, if any, in 3GPP TR 21.905 [1].\nAlternative S-NSSAI: Indicating a compatible S-NSSAI for an S-NSSAI in the Allowed NSSAI that the AMF uses to replace an S-NSSAI when the S-NSSAI is not available or congested, as specified in 3GPP TS 23.501 [2].",
      "chunk_type": "definition",
      "cross_references": [
        "ts_21.905",
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_3.2",
      "section_id": "3.2",
      "section_title": "Abbreviations",
      "content": "For the purposes of the present document, the abbreviations given in 3GPP TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in 3GPP TR 21.905 [1].\nBP\tBranching Point\nDNAI\tData Network Access Identifier\nDNN\tData Network Name\nHR\tHome Routed\nHR-SBO\tHome Routed Session BreakOut\nH-SMF\tHome SMF\nI-SMF\tIntermediate SMF\nJSON\tJavascript Object NotationNAS\tNon-Access Stratum\nLADN\tLocal Area Data Network\nMA\tMulti-Access\nMO\tMobile Originated\nMT\tMobile TerminatedPSA\tPDU Session Anchor\nN3QAI\tNon-3GPP QoS Assistance Information\nPIN\tPersonal IoT Network\nRSN\tRedundancy Sequence Number\nSM\tSession Management\nSMF\tSession Management Function\nSNPN\tStand-alone Non-Public Network\nTNGF\tTrusted Non-3GPP Gateway Function\nTWIF\tTrusted WLAN Interworking Function\nUAS\tUncrewed Aerial System\nUAV\tUncrewed Aerial Vehicle\nUL CL\tUplink Classifier\nUPF\tUser Plane Function\nUSS\tUAS Service Supplier\nUUAA\tUSS UAV Authorization/Authentication\nV-SMF\tVisited SMF\nW-AGF\tWireline Access Gateway Function",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905"
      ]
    },
    {
      "chunk_id": "ts_29.502_4.1",
      "section_id": "4.1",
      "section_title": "Introduction",
      "content": "Within the 5GC, the SMF offers services to NF service consumers via the Nsmf service based interface (see 3GPP TS 23.501 [2] and 3GPP TS 23.502 [3]).\nFigure 4.1-1 provides the reference model (in service based interface representation and in reference point representation), with focus on the SMF services specified within the present specification.\nFigure 4.1-1: Reference model – SMF\nN16 is the reference point between the V-SMF and H-SMF in Home Routed (HR) roaming cases.\nN16a is the reference point between SMF and I-SMF.\nN38 is the reference point between I-SMFs or V-SMFs.\nThe functionalities supported by the SMF are listed in clause 6.2.2 of 3GPP TS 23.501 [2].",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.501_clause_6.2.2",
        "ts_23.501_figure_4.1-1",
        "figure_4.1-1",
        "ts_23.501",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.1",
      "section_id": "5.1",
      "section_title": "Introduction",
      "content": "The SMF supports the following services.\nTable 5.1-1: NF Services provided by SMF\nService Name\nDescription\nExample Consumer\nNsmf_PDUSession\nThis service manages the PDU sessions and uses the policy and charging rules received from the PCF. The service operations exposed by this NF service allows the consumer NFs to establish, modify and delete the PDU sessions, and to send mobile originated data.\nV-SMF, H-SMF, I-SMF, SMF, AMF\nNsmf_EventExposure\nSee 3GPP TS 29.508 [6].\nNsmf_NIDD\nSee 3GPP TS 29.542 [37].\nTable 5.1-2 summarizes the corresponding APIs defined in this specification.\nTable 5.1-2: API Descriptions\nService Name\nClause\nDescription\nOpenAPI Specification File\napiName\nAnnex\nNsmf_PDUSession\n6.1\nSMF PDU Session Service\nTS29502_Nsmf_PDUSession.yaml\nnsmf-pdusession\nA.2",
      "chunk_type": "general",
      "cross_references": [
        "table_5.1-1",
        "ts_29.508_table_5.1-2",
        "table_5.1-2",
        "ts_29.508",
        "ts_29.542"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.1",
      "section_id": "5.2.1",
      "section_title": "Service Description",
      "content": "The Nsmf_PDUSession service operates on the PDU Sessions. The service operations exposed by this service allow other NFs to establish, modify and release the PDU Sessions. The following are the key functionalities of this NF service:\n-\tCreation, modification and deletion of SM contexts for PDU Sessions; an SM context represents an association between the NF Service Consumer (e.g. AMF) and the SMF for a PDU session;\n-\tRetrieval of SM contexts of PDU sessions (i.e. UE EPS PDN connection or complete SM context), e.g. to move PDU sessions towards the EPC using the N26 interface or to transfer SM contexts between I-SMFs or V-SMFs over the N38 interface;\n-\tCreation, modification and deletion of PDU sessions between the V-SMF and H-SMF in HR roaming scenarios, or between the I-SMF and SMF for PDU sessions involving an I-SMF;\n-\tSending of mobile originated data (received over NAS) for a PDU session to the SMF, V-SMF in HR roaming scenarios, or I-SMF for PDU sessions involving an I-SMF;\n-\tTransferring of NEF anchored mobile originated data for a PDU session to the H-SMF in HR roaming scenarios, or SMF for PDU sessions involving an I-SMF;\n-\tTransferring of NEF anchored mobile terminated data for a PDU session to the V-SMF in HR roaming scenarios, or I-SMF for PDU sessions involving an I-SMF;\n-\tAssociation of policy and charging rules with PDU Sessions and binding the policy and charging rules to flows;\n-\tInteracting with the UPF over N4 for creating, modifying and releasing user plane sessions;\n-\tProcess user plane events from the UPF and apply the corresponding policy and charging rules.\nThe Nsmf_PDUSession service supports the following service operations.\nTable 5.2.1-1: Service operations supported by the Nsmf_PDUSession service\nService Operations\nDescription\nOperation\nSemantics\nExample Consumer(s)\nCreate SM Context\nCreate an SM context in SMF, or in V-SMF in HR roaming scenarios, or in I-SMF during the I-SMF insertion and change scenarios, for a PDU session.\nRequest/Response\nAMF\nUpdate SM Context\nUpdate the SM context of a PDU session and/or provide the SMF with N1 or N2 SM information received from the UE or from the AN.\nRequest/Response\nAMF, I-SMF\nRelease SM Context\nRelease the SM context of a PDU session when the PDU session has been released.\nRequest/Response\nAMF\nNotify SM Context Status\n(NOTE 1)\nNotify the NF Service Consumer about the status of an SM Context of a PDU session (e.g. the SM Context is released within the SMF).\nSubscribe/Notify\nAMF\nRetrieve SM Context\n(NOTE 2)\nRetrieve an SM context of a PDU session:\n- from SMF, or from V-SMF in HR roaming scenarios, for 5GS to EPS mobility;\n- from SMF during I-SMF insertion or from I-SMF during I-SMF change/removal;\n- from V-SMF during change of V-SMF.\nRequest/Response\nAMF, I-SMF,\nV-SMF, SMF\nCreate\nCreate a PDU session in the H-SMF in HR roaming scenarios, or in the SMF for PDU sessions involving an I-SMF.\nRequest/Response\nV-SMF, I-SMF\nUpdate\nUpdate a PDU session in the H-SMF or V-SMF in HR roaming scenarios, or in the I-SMF or SMF for PDU sessions involving an I-SMF.\nRequest/Response\nV-SMF, H-SMF,\nI-SMF, SMF\nRelease\nRelease a PDU session in the H-SMF in HR roaming scenarios, or in the SMF for PDU sessions involving an I-SMF.\nRequest/Response\nV-SMF, I-SMF\nNotify Status\n(NOTE 3)\nNotify the NF Service Consumer about the status of a PDU session (e.g. the PDU session is released due to local reasons within the SMF).\nSubscribe/Notify\nV-SMF, I-SMF\nRetrieve\n(NOTE 2)\nRetrieve information from a PDU session context from the H-SMF for a HR PDU session, or from the SMF for a PDU session with an I-SMF.\nRequest/Response\nV-SMF, I-SMF\nSend MO Data\nSend mobile originated data received over NAS for a PDU session\nRequest/Response\nAMF\nTransfer MO Data\n(NOTE 4)\nTransfer NEF anchored mobile originated data received from AMF for a PDU session\nRequest/Response\nV-SMF, I-SMF\nTransfer MT Data\n(NOTE 5)\nTransfer NEF anchored mobile terminated data received from NEF for a PDU session\nRequest/Response\nH-SMF, SMF\nNOTE 1:\tThis corresponds to the SMContextStatusNotify service operation defined in 3GPP TS 23.502 [3].\nNOTE 2:\tThis corresponds to the ContextRequest service operation defined in 3GPP TS 23.502 [3].\nNOTE 3:\tThis corresponds to the StatusNotify service operation defined in 3GPP TS 23.502 [3].\nNOTE 4:\tThis corresponds to the MessageTransfer service operation in clause 4.25.4 of 3GPP TS 23.502 [3].\nNOTE 5:\tThis corresponds to the MessageTransfer service operation in clause 4.25.5 of 3GPP TS 23.502 [3].",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.502_clause_4.25.4",
        "ts_23.502_clause_4.25.5",
        "table_5.2.1-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.1",
      "section_id": "5.2.2.1",
      "section_title": "Introduction",
      "content": "See Table 5.2.1-1 for an overview of the service operations supported by the Nsmf_PDUSession service.",
      "chunk_type": "general",
      "cross_references": [
        "table_5.2.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.2.1",
      "section_id": "5.2.2.2.1",
      "section_title": "General",
      "content": "The Create SM Context service operation shall be used to create an individual SM context, for a given PDU session, in the SMF, in the V-SMF for HR roaming scenarios, or in the I-SMF for a PDU session with an I-SMF.\nIt is used in the following procedures:\n-\tUE requested PDU Session Establishment (see clauses 4.3.2 and 4.23.5.1 of 3GPP TS 23.502 [3]);\n-\tEPS to 5GS Idle mode mobility, EPS to 5GS Idle mode mobility with data forwarding or handover using N26 interface (see clauses 4.11.1, 4.23.12.3, 4.23.12.5 and 4.23.12.7 of 3GPP TS 23.502 [3]);\n-\tEPS to 5GS mobility without N26 interface (see clause 4.11.2.3 3GPP TS 23.502 [3]);\n-\tHandover of a PDU session between 3GPP access and non-3GPP access, when the target AMF does not know the SMF resource identifier of the SM context used by the source AMF, e.g. when the target AMF is not in the PLMN of the N3IWF (see clause 4.9.2.3.2 of 3GPP TS 23.502 [3]), or when the UE is roaming and the selected N3IWF is in the HPLMN (see clause 4.9.2.4.2 of 3GPP TS 23.502 [3]);\n-\tHandover from EPS to 5GC-N3IWF (see clause 4.11.3.1 of 3GPP TS 23.502 [3]);\n-\tHandover from EPC/ePDG to 5GS (see clause 4.11.4.1 of 3GPP TS 23.502 [3]);\n-\tXn based or N2 based handover with I-SMF or V-SMF insertion and change (see clauses 4.23.7.3, 4.23.11 and 4.23.12 of 3GPP TS 23.502 [3]);\n-\tUE Triggered Service Request with I-SMF insertion/change/removal or V-SMF change (see clause 4.23.4.3 of 3GPP TS 23.502 [3]);\n-\tRegistration procedure for a UE with a PDU session with I-SMF or V-SMF insertion, change and removal (see clause 4.23.3 of 3GPP TS 23.502 [3]);\n-\tHandover from EPC/ePDG to 5GS with I-SMF insertion (see clause 4.23 of 3GPP TS 23.502 [3]);\n-\tHandover from non-3GPP to 3GPP access with I-SMF insertion or V-SMF change, and Handover from 3GPP to non-3GPP access with I-SMF removal (see clause 4.23.16 of 3GPP TS 23.502 [3]);\n-\tSMF Context Transfer procedure, LBO or no Roaming, no I-SMF (see clause 4.26.5.3 of 3GPP TS 23.502 [3]);\n-\tI-SMF Context Transfer procedure (see clause 4.26.5.2 of 3GPP TS 23.502 [3]);\n-\t5G-RG requested PDU Session Establishment via W-5GAN (see clause 7.3.1 of 3GPP TS 23.316 [36]);\n-\tFN-RG related PDU Session Establishment via W-5GAN (see clause 7.3.4 of 3GPP TS 23.316 [36]);\n-\tNon-5G capable device behind 5G-CRG and FN-CRG requested PDU Session Establishment via W-5GAN (see clause 4.10a of 3GPP TS 23.316 [36]);\n-\tHandover from 3GPP access/EPS to W-5GAN/5GC (see clause 7.6.4.1 of 3GPP TS 23.316 [36]);\n-\tSMF triggered I-SMF selection or removal (see clause 4.23.5.4 of 3GPP TS 23.502 [3]);\n-\tMulticast Session join and session establishment procedure in clause 7.2.1.3 of 3GPP TS 23.247 [44];\n-\tN2-based handover with V-SMF insertion/change/removal in HR-SBO case (see clause 6.7.2.6 of 3GPP TS 23.548 [39]);\n-\tInter V-SMF mobility registration update in HR-SBO (see clause 6.7.2.7 of 3GPP TS 23.548 [39]).\nThere shall be only one individual SM context per PDU session.\nThe NF Service Consumer (e.g. AMF) shall create an SM context by using the HTTP POST method as shown in Figure 5.2.2.2.1-1.\nFigure 5.2.2.2.1-1: SM context creation\n1.\tThe NF Service Consumer shall send a POST request to the resource representing the SM contexts collection resource of the SMF. The content of the POST request shall contain:\n-\ta representation of the individual SM context resource to be created;\n-\tthe requestType IE, if the Request type IE is received from the UE for a single access PDU session and if the request refers to an existing PDU session or an existing Emergency PDU session; the requestType IE shall not be included for a MA-PDU session establishment request; it may be included otherwise;\n-\tthe Old PDU Session ID, if it is received from the UE (i.e. for a PDU session establishment for the SSC mode 3 operation);\n-\tthe indication that the UE is inside or outside of the LADN (Local Area Data Network) service area, if the DNN corresponds to a LADN;\n-\tthe perLadnDnnSnssaiInd IE, indicating that the PDU Session is subject to LADN per LADN DNN and S-NSSAI, if the AMF enforces the LADN Service Area per LADN DNN and S-NSSAI;\n-\tthe indication that a MA-PDU session is requested if a MA-PDU session is requested to be established by the UE, or the indication that the PDU session is allowed to be upgraded to a MA-PDU session if so indicated by the UE;\n-\tthe n3gPathSwitchSupportInd IE if the AMF supports non-3GPP access path switching while maintaining two N2 connections for non-3GPP access, the selected SMF supports non-3GPP path switching and if the UE supports non-3GPP access path switching as specified in clause 4.22.2.1 of 3GPP TS 23.502 [3];\n-\tthe indication that the same PCF is required for the requested DNN and S-NSSAI, if it is received by the AMF from UE Subscription data in the UDM, together with the PCF ID selected by the AMF;\n-\tthe alternative S-NSSAI, if the NF service consumer and UE support the network slice replacement and it is requested to replace the S-NSSAI with the alternative S-NSSAI (see clause 5.15.19 of 3GPP TS 23.501 [2]);\n-\tthe alternative HPLMN S-NSSAI, if the NF service consumer and UE support the network slice replacement and it is requested to replace the HPLMN S-NSSAI with the alternative HPLMN S-NSSAI for a roaming PDU session (see clause 5.15.19 of 3GPP TS 23.501 [2]);\nNOTE:\tIf the alternative S-NSSAI is present in the PDU Session Establishment procedure, the AMF selects an SMF that supports both the original S-NSSAI and the alternative S-NSSAI. The alternative (HPLMN) S-NSSAI is provided to the SMF together with the original (HPLMN) S-NSSAI to be replaced. The SMF uses the original (H-PLMN) S-NSSAI to retrieve the session management subscription data from the UDM.\n-\tthe anType;\n-\tthe additionalAnType, if the UE is registered over both 3GPP and Non-3GPP accesses;\n-\tthe cpCiotEnabled IE with the value \"True\", if the NF service consumer (e.g. the AMF) has verified that the CIOT feature is supported by the SMF (and for a home-routed session, that it is also supported by the H-SMF), and Control Plane CIoT 5GS Optimisation is enabled for this PDU session;\n-\tthe cpOnlyInd IE with the value \"True\", if the PDU session shall only use Control Plane CIoT 5GS Optimisation;\n-\tthe Invoke NEF indication with the value \"True\" for a home-routed PDU session, if the cpCiotEnabled IE is set to \"True\" and data delivery via NEF is selected for the PDU session;\n-\ta subscription for SM context status notification;\n-\tthe servingNfId identifying the serving AMF;\n-\ttrace control and configuration parameters, if trace is to be activated (see 3GPP TS 32.422 [22]);\n-\tidentifiers (i.e. FQDN or IP address) of N3 terminations at the W-AGF, TNGF or TWIF, if available;\n-\ta subscription for DDN failure notification, if the Availability after DDN failure event is subscribed by the UDM;\n-\tthe upipSupported IE set to \"true\", if the UE supports User Plane Integrity Protection with EPS and if the AMF supports the related functionality.\nFor the UE requested PDU Session Establishment procedure in home routed roaming scenario (see clause 4.3.2.2.2 of 3GPP TS 23.502 [3]), the NF Service Consumer shall provide the URI of the Nsmf_PDUSession service of the H-SMF in the hSmfUri IE and optionally the corresponding SMF ID, and may provide the URI of the Nsmf_PDUSession service of additional H-SMF(s) with the corresponding SMF ID(s). The V-SMF shall try to create the PDU session using the hSmfUri IE. If due to communication failure on the N16 interface the V-SMF does not receive any response from the H-SMF, then:\n-\tdepending on operator policy, the V-SMF may try reaching the hSmfUri via an alternate path; or\n-\tif additional H-SMF URI is provided, the V-SMF may try to create the PDU session on one of the additional H-SMF(s) provided.\nFor a PDU session establishment with an I-SMF (see clause 4.23.5.1 of of 3GPP TS 23.502 [3]), the NF Service Consumer shall provide the URI of the Nsmf_PDUSession service of the SMF in the smfUri IE and optionally the corresponding SMF ID, and may provide the URI of the Nsmf_PDUSession service of additional SMF(s) with the corresponding SMF ID(s). The I-SMF shall try to create the PDU session using the smfUri IE. If due to communication failure on the N16a interface the I-SMF does not receive any response from the SMF, then:\n-\tdepending on operator policy, the I-SMF may try reaching the smfUri via an alternate path; or\n-\tif additional SMF URI is provided, the I-SMF may try to create the PDU session on one of the additional SMF(s) provided.\nFor the UE requested PDU Session Establishment procedure, if the AMF determines that the RAT type is NB-IoT and the UE has already 2 PDU Sessions with user plane resources activated, the AMF may continue with the PDU Session establishment and include the cpCiotEnabled IE or cpOnlyInd IE with the value \"True\" to the SMF as specified in clause 4.3.2.2.1 of 3GPP TS 23.502 [3].\nThe content of the POST request may further contain:\n-\tthe name of the AMF service to which SM context status notification are to be sent (see clause 6.5.2.2 of 3GPP TS 29.500 [4]), encoded in the serviceName attribute;\n-\tthe remote provisioning server information, if both the AMF and SMF support the Remote Provisioning of UEs in Onboarding Network procedures and the AMF received the information from AUSF for remote provisioning of the UE via user plane;\n-\tthe Onboarding Indication, if the UE is registered for onboarding in an SNPN;\n-\tthe indication of Notification for SM Policy Association events with the value \"true\" and the callback information of the PCF for the UE (i.e. the PCF for AM Policy and possibly UE Policy) to receive the notification, if both NF service consumer and the SMF support the \"SPAE\" feature and if the SM Policy Association Establishment and Termination events should be reported for the PDU session by the PCF for SM Policy to the PCF for the UE. See clause 4.3.2.2.1 of 3GPP TS 23.502 [3];\n-\tthe satelliteBackhaulCat IE indicating the category of the satellite backhaul used towards the 5G AN serving the UE, if the AMF is aware of that a satellite backhaul is used towards the 5G AN;\n-\tthe disasterRoamingInd IE set to true if the UE is registered for Disaster Roaming service;\n-\tthe hrsboAllowedInd IE set to true if the Session Breakout for HR session in VPLMN is allowed;\n-\tthe indication of PDU session establishment rejection together with the corresponding rejection cause, if the SMF supports the \"PSER\" (PDU Session Establishment Rejection) feature and the NF service consumer (i.e. the AMF) has determined that the PDU Session Establishment shall be rejected (e.g. due to the ODB configuration retrieved from the UDM);\n-\tthe sliceAreaRestrictInd set to true if the PDU Session is subject to area restriction for the S-NSSAI, i.e. if the S-NSSAI is part of the partially allowed NSSAI (see clause 5.15.17 of 3GPP TS 23.501 [2]) or if the support of the S-NSSAI is restricted to a NS-AoS (see clause 5.15.18 of 3GPP TS 23.501 [2]).\n2a.\tOn success, \"201 Created\" shall be returned, the content of the POST response shall contain the representation describing the status of the request and the \"Location\" header shall be present and shall contain the URI of the created resource. The authority and/or deployment-specific string of the apiRoot of the created resource URI may differ from the authority and/or deployment-specific string of the apiRoot of the request URI received in the POST request.If the requestType IE was received in the request and set to EXISTING_PDU_SESSION or EXISTING_EMERGENCY_PDU_SESSION (i.e. indicating that this is a UE request for an existing PDU session or an existing emergency PDU session), the SMF shall identify the existing PDU session or emergency PDU session based on the PDU Session ID; in this case, the SMF shall not create a new SM context but instead update the existing SM context and provide the representation of the updated SM context in the \"201 Created\" response to the NF Service Consumer.\nThe POST request shall be considered as colliding with an existing SM context if:\n-\tthis is a request to establish a new PDU session, i.e.:\n-\tthe RequestType IE is present in the request and set to INITIAL_REQUEST or INITIAL_EMERGENCY_REQUEST (e.g. single access PDU session establishment request);\n-\tthe RequestType IE and the maRequestInd IE are both absent in the request (e.g. EPS to 5GS mobility); or\n-\tthe maRequestInd IE is present in the request (i.e. MA-PDU session establishment request) and the access type indicated in the request corresponds to the access type of the existing SM context.\nand either of the following conditions is met:\n-\tthis is a request to establish a non-emergency PDU session and the request includes the same SUPI and the same PDU Session ID as for an existing SM context; or\n-\tthis is a request to establish an emergency PDU session and the request includes the same SUPI, or PEI for an emergency registered UE without a UICC or without an authenticated SUPI, as for an existing SM context for an emergency PDU session.\nA POST request that collides with an existing SM context shall be treated as a request for a new SM context. Before creating the new SM context, the SMF should delete the existing SM context locally and any associated resources in the UPF, PCF, CHF, and UDM. If the UP connection of the existing PDU session is active, the SMF should also request (R)AN to release associated resources. See also clause 5.2.3.3.1 for the handling of requests which collide with an existing SM context. If the smContextStatusUri of the existing SM context differs from the smContextStatusUri received in the POST request, the SMF shall also send an SM context status notification (see clause 5.2.2.5) targeting the smContextStatusUri of the existing SM context to notify the release of the existing SM context. For a HR PDU session, if the H-SMF URI in the request is different from the H-SMF URI of the existing PDU session, the V-SMF should also delete the existing PDU session in the H-SMF by invoking the Release service operation (see clause 5.2.2.9). For a PDU session with an I-SMF, if the SMF URI in the request is different from the SMF URI of the existing PDU session, the I-SMF should also delete the existing PDU session in the SMF by invoking the Release service operation (see clause 5.2.2.9).\nIf the requestType IE was received in the request and indicates this is a request for a new PDU session (i.e. INITIAL_REQUEST) and if the Old PDU Session ID was also included in the request, the SMF shall identify the existing PDU session to release and to which the new PDU session establishment relates, based on the Old PDU Session ID.\nIf no GPSI IE is provided in the request, e.g. for a PDU session moved from another access or another system, and the SMF knows that a GPSI is already associated with the PDU session (or a GPSI is received from h-SMF for a HR PDU session), the SMF shall include the GPSI in the response.\nIf the indication of Notification for SM Policy Association events was received with the value \"true\" together with the callback information of the PCF for the UE in the request and SM Policy Association is to be established for the PDU session, the SMF shall provide the callback information of the PCF for the UE to the PCF for SM Policy during SM Policy Association Establishment.\nIf the sliceAreaRestrictInd is set to true in the request, the SMF shall subscribe to the AoI reporting event with the AoI defined by the S-NSSAI, for being notified by the AMF whether the UE is located in an area supporting the S-NSSAI, if this event has not been subscribed already.\n2b.\tIf the request does not include the \"UE presence in LADN service area\" indication and the SMF determines that the DNN corresponds to a LADN, then the SMF shall consider that the UE is outside of the LADN service area. The SMF shall reject the request if the UE is outside of the LADN service area.\nOn failure, or redirection during a UE requested PDU Session Establishment, one of the HTTP status code listed in Table 6.1.3.2.3.1-3 shall be returned. For a 4xx/5xx response, the message body shall contain an SmContextCreateError structure, including:\n-\ta ProblemDetails structure with the \"cause\" attribute set to one of the application error listed in Table 6.1.3.2.3.1-3;\n-\tN1 SM information (PDU Session Reject), if the request included N1 SM information, except if the error prevents the SMF from generating a response to the UE (e.g. invalid request format).\nFor the UE requested PDU Session Establishment, the SMF shall reject the request with \"EXCEEDED_SLICE_DATA_RATE\" application error if the SMF receives from the PCF that the maximum bit rate per S-NSSAI is exceeded, or with \"EXCEEDED_UE_SLICE_DATA_RATE\" application error if the SMF receives from the PCF that the maximum bit rate per S-NSSAI per UE is exceeded.\nFor the UE requested PDU Session Establishment, the SMF shall directly reject the request if the SMF supports the \"PSER\" feature and it has received the indication of PDU Session Establishment Rejection from the AMF in the Create SM Context request.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.502_clause_4.11.2.3",
        "ts_23.502_clause_4.9.2.3.2",
        "ts_23.502_clause_4.9.2.4.2",
        "ts_23.502_clause_4.11.3.1",
        "ts_23.502_clause_4.11.4.1",
        "ts_23.502_clause_4.23.4.3",
        "ts_23.502_clause_4.23.3",
        "ts_23.502_clause_4.23",
        "ts_23.502_clause_4.23.16",
        "ts_23.502_clause_4.26.5.3",
        "ts_23.502_clause_4.26.5.2",
        "ts_23.316_clause_7.3.1",
        "ts_23.316_clause_7.3.4",
        "ts_23.316_clause_4.10",
        "ts_23.316_clause_7.6.4.1",
        "ts_23.502_clause_4.23.5.4",
        "ts_23.247_clause_7.2.1.3",
        "ts_23.548_clause_6.7.2.6",
        "ts_23.548_clause_6.7.2.7",
        "ts_23.502_clause_4.22.2.1",
        "ts_23.501_clause_5.15.19",
        "ts_23.502_clause_4.3.2.2.2",
        "ts_23.502_clause_4.23.5.1",
        "ts_23.502_clause_4.3.2.2.1",
        "ts_29.500_clause_6.5.2.2",
        "ts_23.501_clause_5.15.17",
        "ts_23.501_clause_5.15.18",
        "clause_5.2.3.3.1",
        "clause_5.2.2.5",
        "clause_5.2.2.9",
        "table_6.1.3.2.3.1-3",
        "figure_5.2.2.2.1-1",
        "ts_23.502",
        "ts_23.316",
        "ts_23.247",
        "ts_23.548",
        "ts_23.501",
        "ts_32.422",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.2.2",
      "section_id": "5.2.2.2.2",
      "section_title": "EPS to 5GS Idle mode mobility using N26 interface (with or without data forwarding)",
      "content": "The NF Service Consumer (e.g. AMF) shall request the SMF to move a UE EPS PDN connection to 5GS using N26 interface, as follows.\nFigure 5.2.2.2.2-1: EPS to 5GS Idle mode mobility using N26 interface\n1.\tThe NF Service Consumer shall send a POST request towards the SMF (+PGW-C) of each UE EPS PDN connection, as specified in clause 5.2.2.2.1, with the following additional information:\n-\tUE EPS PDN connection, including the EPS bearer contexts, received from the MME, representing the individual SM context resource to be created;\n-\tthe pduSessionsActivateList attribute, including the PDU Session ID of all the PDU session(s) to be re-activated;\n-\tthe epsBearerCtxStatus attribute, indicating the status of all the EPS bearer contexts in the UE, if corresponding information is received in the Registration Request from the UE;\n-\tthe dlDataWaitingInd attribute, indicating that DL data buffered in EPS needs to be forwarded to the UE, if such indication is present in the Context Response received from the MME.\n2a.\tUpon receipt of such a request, if:\n-\ta corresponding PDU session is found based on the EPS bearer contexts (after invoking a Create service operation towards the H-SMF for a Home Routed PDU session, or towards the SMF for a PDU session with an I-SMF);\n-\tthe default EPS bearer context of the corresponding PDU session is not reported as inactive by the UE in the epsBearerCtxStatus attribute, if received; and\n-\tit is possible to proceed with moving the PDN connection to 5GS,\nthen the SMF shall return a 201 Created response including the following information:\n-\tPDU Session ID corresponding to the default EPS bearer ID of the EPS PDN connection;\n-\tS-NSSAI assigned to the PDU session; in home routed roaming case, the S-NSSAI for home PLMN shall be returned;\n-\tthe allocatedEbiList attribute, containing the EBI(s) allocated to the PDU session;\nand, if the PDU session that is derived by the SMF based on the EPS bearer contexts was requested to be re-activated, i.e. if the PDU Session ID was present in the pduSessionsActivateList,or if DL data buffered in EPS needs to be forwarded to the UE:\n-\tthe upCnxState attribute set to ACTIVATING;\n-\tN2 SM information to request the 5G-AN to assign resources to the PDU session (see PDU Session Resource Setup Request Transfer IE in clause 9.3.4.1 of 3GPP TS 38.413 [9]), including (among others) the transport layer address and tunnel endpoint of the uplink termination point for the user plane data for this PDU session (i.e. UPF's GTP-U F-TEID for uplink traffic).\nThe \"Location\" header shall be present in the POST response and shall contain the URI of the created SM context resource.\nIf the epsBearerCtxStatus attribute is received in the request, the SMF shall check whether some EPS bearer(s) of the corresponding PDU session have been deleted by the UE but not notified to the EPS, and if so, the SMF shall release these EPS bearers, corresponding QoS rules and QoS flow level parameters locally, as specified in clause 4.11.1.3.3 of 3GPP TS 23.502 [3].The NF Service Consumer (e.g. AMF) shall store the association of the PDU Session ID and the SMF ID, and store the allocated EBI(s) associated to the PDU Session ID.\nNOTE:\tThe behaviour specified in this step also applies if the POST request collides with an existing SM context, i.e. if the POST request includes the same SUPI, or PEI for an emergency registered UE without a UICC or without an authenticated SUPI, and the default EPS bearer ID received in the UE EPS PDN connection is the same as in the existing SM context.\n2b.\tSame as step 2b of figure 5.2.2.2.1-1. Steps 3 to 4 are skipped in this case.\nIf the SMF determines that seamless session continuity from EPS to 5GS is not supported for the PDU session, the SMF shall set the \"cause\" attribute in the ProblemDetails structure to \"NO_EPS_5GS_CONTINUITY\".\nIf the default EPS bearer context of the PDU session is reported as inactive by the UE in the epsBearerCtxStatus attribute, the SMF shall set the \"cause\" attribute in the ProblemDetails structure to \"DEFAULT_EPS_BEARER_INACTIVE\".\n3.\tSame as step 3 of figure 5.2.2.3.2.2-1, if the SMF returned a 201 Created response with the upConnectionState set to ACTIVATING and N2 SM Information,\n4.\tSame as step 4 of figure 5.2.2.3.2.2-1. During an EPS to 5GS Idle mode mobility using N26 interface with data forwarding (see clause 4.11.1.3.3A of 3GPP TS 23.502 [3]), the 200 OK response shall additionally contain the CN tunnel information for data forwarding from EPS, i.e. the forwardingFTeid attribute or the forwarding bearer contexts to be sent to the MME in the Context Acknowledge, based on the association between the EPS bearer ID(s) and QFI(s) for the QoS flow(s).",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.2.1",
        "ts_38.413_clause_9.3.4.1",
        "ts_23.502_clause_4.11.1.3.3",
        "figure_5.2.2.2.2-1",
        "figure_5.2.2.2.1-1",
        "figure_5.2.2.3.2.2-1",
        "ts_38.413",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.2.3",
      "section_id": "5.2.2.2.3",
      "section_title": "EPS to 5GS Handover Preparation using N26 interface",
      "content": "The NF Service Consumer (e.g. AMF) shall request the SMF to handover a UE EPS PDN connection to 5GS using N26 interface, as follows.\nFigure 5.2.2.2.3-1: EPS to 5GS handover using N26 interface\n1.\tThe NF Service Consumer shall send a POST request, as specified in clause 5.2.2.2.1, with the following additional information:\n-\tUE EPS PDN connection, including the EPS bearer contexts, representing the individual SM context resource to be created;\n-\thoState attribute set to PREPARING (see clause 5.2.2.3.4.1);\n-\tthe indication of whether direct or indirect DL data forwarding applies;\n-\ttargetId identifying the target RAN Node ID and TAI based on the Target ID IE received in the Forward Relocation Request message from the source MME.\nNOTE 1:\tThe Target ID IE can be set to the Target NG-RAN Node ID containing a Global RAN Node ID and selected TAI with 3-octets length, or the Target eNB ID containing a Global eNB ID and selected TAI with 2-octets length; for the latter case, the NF Service Consumer, i.e. the AMF needs determine a value for the Target NG-RAN Node ID and TAI with 3-octets length based on the local configuration to be provided to the SMF.\n2a.\tUpon receipt of such a request, if a corresponding PDU session is found based on the EPS bearer contexts (after invoking a Create service operation towards the H-SMF, for a Home Routed PDU session) and it is possible to proceed with handing over the PDN connection to 5GS, the SMF shall return a 201 Created response including the following information:\n-\thoState attribute set to PREPARING and N2 SM information to request the target 5G-AN to assign resources to the PDU session, as specified in step 2 of Figure 5.2.2.3.4.2-1; if the SMF was indicated in step 1 that direct data forwarding is applicable, the SMF shall include an indication that a direct forwarding path is available in the N2 SM information;\n-\tPDU Session ID corresponding to the default EPS bearer ID of the EPS PDN connection;\n-\tS-NSSAI assigned to the PDU session; in home routed roaming case, the S-NSSAI for home PLMN shall be returned;\n-\tallocatedEbiList, containing the EBI(s) allocated to the PDU session;\n-\toptional udmGroupId, containing the identity of the UDM group serving the UE, to facilitate the UDM selection at the target AMF;\n-\toptional pcfGroupId, containing the identity of the PCF group for Session Management Policy for the PDU session, to facilitate the PCF selection at the target AMF.\nThe \"Location\" header shall be present in the POST response and shall contain the URI of the created SM context resource.The NF Service Consumer (e.g. AMF) shall store the association of the PDU Session ID and the SMF ID, and store the allocated EBI(s) associated to the PDU Session ID.\nNOTE 2:\tThe behaviour specified in this step also applies if the POST request collides with an existing SM context, i.e. if the POST request includes the same SUPI, or PEI for an emergency registered UE without a UICC or without an authenticated SUPI, and the default EPS bearer ID received in the UE EPS PDN connection is the same as in the existing SM context.\n2b.\tSame as step 2b of figure 5.2.2.2.1-1 with the following additions. Steps 3 and 4 of figure 5.2.2.3.8.2-1 are skipped in this case.\nIf the SMF determines that seamless session continuity from EPS to 5GS is not supported for the PDU session, the SMF shall set the \"cause\" attribute in the ProblemDetails structure to \"NO_EPS_5GS_CONTINUITY\".\nWhen receiving a 4xx/5xx response from the SMF, the NF service consumer (e.g. the AMF) shall regard the hoState of the SM Context to be NONE.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.2.1",
        "clause_5.2.2.3.4.1",
        "figure_5.2.2.2.3-1",
        "figure_5.2.2.3.4.2-1",
        "figure_5.2.2.2.1-1",
        "figure_5.2.2.3.8.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.2.4",
      "section_id": "5.2.2.2.4",
      "section_title": "I-SMF Insertion, Change or Removal during Xn based Handover",
      "content": "The NF Service Consumer (e.g. AMF) shall request the I-SMF (for I-SMF insertion or change) or the SMF (for I-SMF removal) to create a SM context during Xn based handover, as follows.\n1.\tThe NF Service Consumer shall send a POST request, with the following additional information:\n-\tN2 SM information received from the target 5G-AN (see Path Switch Request Transfer IE in clause 9.3.4.8 of 3GPP TS 38.413 [9]);\n-\tadditional N2 SM information received from the source 5G-AN (see Secondary RAT Data Usage Report Transfer IE in clause 9.3.4.23 of 3GPP TS 38.413 [9]), if any;\n-\tthe smContextRef attribute set to the identifier of the SM Context resource in the SMF during I-SMF insertion, or the SM Context resource in the source I-SMF during I-SMF change or removal, and optionally the NF instance identifier of the SMF hosting the SM Context resource;\n-\tthe smfUri IE attribute set to the API URI of the Nsmf_PDUSession service of the SMF during I-SMF insertion or change, and optionally the NF instance identifier of the SMF, if the \"ACSCR\" feature is not supported by the AMF and I-SMF.\n2a.\tOn success, the SMF shall return a 201 Created response.\nThe \"Location\" header shall be present in the POST response and shall contain the URI of the created SM context resource.The NF Service Consumer (e.g. AMF) shall store the association of the PDU Session ID and the SMF ID.\n2b.\tSame as step 2b of figure 5.2.2.2.1-1.\nIf the Path Swith Request Transfer IE is included within the N2 SM Information in the request message but the path switch failed, the message body shall contain an SmContextCreateError structure, including:\n-\tN2 SM information (Path Swith Request Unsuccessful Transfer).",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_38.413_clause_9.3.4.8",
        "ts_38.413_clause_9.3.4.23",
        "figure_5.2.2.2.1-1",
        "ts_38.413"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.2.5",
      "section_id": "5.2.2.2.5",
      "section_title": "I-SMF Insertion, Change or Removal during N2 based Handover",
      "content": "The NF Service Consumer (e.g. AMF) shall request the I-SMF (for I-SMF insertion or change) or the SMF (for I-SMF removal) to create a SM context during N2 based handover, as follows.\n1.\tThe NF Service Consumer shall send a POST request, with the following additional information:\n-\tN2 SM information received from the source NG-RAN (see Handover Required Transfer IE in clause 9.3.4.14 of 3GPP TS 38.413 [9]);\n-\tthe hoState attribute set to PREPARING (see clause 5.2.2.3.4.1);\n-\tthe smContextRef attribute set to the identifier of the SM Context resource in the SMF during I-SMF insertion,,or the SM Context resource in the source I-SMF during I-SMF change or removal, and optionally the NF instance identifier of the SMF hosting the SM Context resource;\n-\tthe smfUri IE attribute set to the API URI of the Nsmf_PDUSession service of the SMF during I-SMF insertion or change, and optionally the NF instance identifier of the SMF, if the \"ACSCR\" feature is not supported by the AMF and I-SMF.\n2a.\tOn success, the SMF shall return a 201 Created response including the following information:\n-\thoState attribute set to PREPARING and N2 SM information to request the target 5G-AN to assign resources to the PDU session, as specified in step 2 of Figure 5.2.2.3.4.2-1;\nThe \"Location\" header shall be present in the POST response and shall contain the URI of the created SM context resource.The NF Service Consumer (e.g. AMF) shall store the association of the PDU Session ID and the SMF ID.\n2b.\tSame as step 2b of figure 5.2.2.2.1-1.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_38.413_clause_9.3.4.14",
        "clause_5.2.2.3.4.1",
        "figure_5.2.2.3.4.2-1",
        "figure_5.2.2.2.1-1",
        "ts_38.413"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.2.6",
      "section_id": "5.2.2.2.6",
      "section_title": "Service Request with I-SMF insertion/change/removal or with V-SMF change",
      "content": "The NF Service Consumer (e.g. AMF) shall request the new I-SMF or new V-SMF to create a SM context during a Service Request with I-SMF insertion/change or with V-SMF change, or shall request the SMF to create a SM context during a Service Request with I-SMF removal, as follows.\nFigure 5.2.2.2.6-1: Service Request with I-SMF insertion/change/removal or with V-SMF change\n1.\tThe NF Service Consumer shall send a POST request as specified in clause 5.2.2.2.1, with the following additional information:\n-\tthe smContextRef attribute set to the identifier of the SM Context resource in the SMF (for a Service Request with an I-SMF insertion) or in the old I-SMF (for a Service Request with an I-SMF change or removal) or in the old V-SMF (for a Service Request with a V-SMF change), and optionally the NF instance identifier of the SMF hosting the SM Context resource.\n-\tthe upCnxState attribute set to ACTIVATING (see clause 5.2.2.3.2.1) to indicate the establishment of N3 tunnel User Plane resources for the PDU Session;\n-\tthe smfUri IE attribute set to the API URI of the Nsmf_PDUSession service of the SMF (for a Service Request with an I-SMF insertion or change), and optionally the NF instance identifier of the SMF, if the \"ACSCR\" feature is not supported by the AMF and I-SMF;\n-\tthe hSmfUri IE attribute set to the API URI of the Nsmf_PDUSession service of the H-SMF (for a Service Request with an V-SMF change), and optionally the NF instance identifier of the H-SMF, if the \"ACSCR\" feature is not supported by the AMF and V-SMF.\n2a.\tOn success, the SMF shall return a 201 Created response as specified in clause 5.2.2.2.1 with the following additional information:\n-\tthe upCnxState attribute set to ACTIVATING;\n-\tN2 SM information to request the 5G-AN to assign resources to the PDU session (see PDU Session Resource Setup Request Transfer IE in clause 9.3.4.1 of 3GPP TS 38.413 [9]), including the transport layer address and tunnel endpoint of the uplink termination point for the user plane data for this PDU session (i.e. UPF's GTP-U F-TEID for uplink traffic).\n2b.\tSame as step 2b of figure 5.2.2.2.1-1. Steps 3 to 4 of figure 5.2.2.3.2.2-1 are skipped in this case.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.2.1",
        "clause_5.2.2.3.2.1",
        "ts_38.413_clause_9.3.4.1",
        "figure_5.2.2.2.6-1",
        "figure_5.2.2.2.1-1",
        "figure_5.2.2.3.2.2-1",
        "ts_38.413"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.2.7",
      "section_id": "5.2.2.2.7",
      "section_title": "Registration procedure for a UE with a PDU session with I-SMF or V-SMF insertion, change and removal",
      "content": "The NF Service Consumer (e.g. AMF) shall request the SMF to create a SM context during UE Registration procedure for a PDU session with I-SMF or V-SMF insertion, change and removal, as follows.\n1.\tSame as step 1 of 5.2.2.2.1-1, the NF Service Consumer shall send a POST request, with the following additional information:\n-\tthe smContextRef attribute set to the identifier of the SM Context resource in the SMF during I-SMF or V-SMF insertion or the SM Context resource in the I-SMF or V-SMF during I-SMF or V-SMF removal or the SM Context resource in the old I-SMF or old V-SMF during I-SMF or V-SMF change, and optionally the NF instance identifier of the SMF hosting the SM Context resource;\n-\tthe upCnxState attribute set to ACTIVATING (see clause 5.2.2.3.2.1) to indicate the establishment of N3 tunnel User Plane resources for the PDU Session, if the UE requested to activate the PDU session;\n-\tif the UE is in CM-CONNECTED state during the registration procedure after an EPS to 5GS handover (see clause 4.11.1.3.3 of 3GPP TS 23.502 [3]), the ranUnchangedInd attribute shall be set to indicate that NG-RAN is not changed for the PDU Session (i.e. for this case, the NG-RAN tunnel info shall be included in SM context retrieved from old I-SMF, or old V-SMF or SMF);\n-\tthe smfUri IE attribute set to the API URI of the Nsmf_PDUSession service of the SMF during I-SMF insertion or change, and optionally the NF instance identifier of the SMF, if the \"ACSCR\" feature is not supported by the AMF and I-SMF.\n2a.\tOn success, the SMF shall return a 201 Created response.\nIf the SMF establishes N3 tunnel User Plane resources for the PDU Session, e.g. due to the NF Service Consumer requesting so or due to buffered DL data in the old I-SMF/I-UPF or old V-SMF/V-UPF (see clause 4.23.3 of 3GPP TS 23.502 [3]), the 201 Created response shall contain the following additional information:\n-\tthe upCnxState attribute set to ACTIVATING;\n-\tN2 SM information to request the 5G-AN to assign resources to the PDU session (see PDU Session Resource Setup Request Transfer IE in clause 9.3.4.1 of 3GPP TS 38.413 [9]), including the transport layer address and tunnel endpoint of the uplink termination point for the user plane data for this PDU session (i.e. UPF's GTP-U F-TEID for uplink traffic).\nIf the SMF receives the ranUnchangedInd attribute set to indicate that NG-RAN is not changed for the PDU Session, the SMF shall respond with a 201 Created with the following additional information:\n-\tN2 SM information to request the 5G-AN to update UPF tunnel info of the PDU session (see PDU Session Resource Modify Request Transfer IE in clause 9.3.4.3 of 3GPP TS 38.413 [9]), including the transport layer address and tunnel endpoint of the uplink termination point for the user plane data for this PDU session (i.e. UPF's GTP-U F-TEID for uplink traffic and NG-RAN's GTP-U F-TEID for downlink traffic).\nThe \"Location\" header shall be present in the POST response and shall contain the URI of the created SM context resource.The NF Service Consumer (e.g. AMF) shall store the association of the PDU Session ID and the SMF ID.\n2b.\tSame as step 2b of figure 5.2.2.2.1-1.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_5.2.2.3.2.1",
        "ts_23.502_clause_4.11.1.3.3",
        "ts_23.502_clause_4.23.3",
        "ts_38.413_clause_9.3.4.1",
        "ts_38.413_clause_9.3.4.3",
        "figure_5.2.2.2.1-1",
        "ts_23.502",
        "ts_38.413"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.2.8",
      "section_id": "5.2.2.2.8",
      "section_title": "SMF Context Transfer procedure, LBO or no Roaming, no I-SMF",
      "content": "The NF Service Consumer (e.g. AMF) shall request the SMF to create a SM context during an SMF Context Transfer procedure, LBO or no Roaming, no I-SMF, as follows.\n1.\tSame as step 1 of 5.2.2.2.1-1, the NF Service Consumer shall send a POST request, with the following additional information:\n-\tSMF transfer indication, Old SMF ID, the identifier of the SM Context resource in old SMF.\n2a.\tOn success, the SMF shall return a 201 Created response.\nThe \"Location\" header shall be present in the POST response and shall contain the URI of the created SM context resource.The NF Service Consumer (e.g. AMF) shall store the association of the PDU Session ID and the SMF ID.\n2b.\tSame as step 2b of figure 5.2.2.2.1-1.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_5.2.2.2.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.2.9",
      "section_id": "5.2.2.2.9",
      "section_title": "I-SMF Context Transfer procedure",
      "content": "The NF Service Consumer (e.g. AMF) shall request the SMF to create a SM context during I-SMF Context Transfer procedure, as follows.\n1.\tSame as step 1 of 5.2.2.2.1-1, the NF Service Consumer shall send a POST request, with the following additional information:\n-\tSMF transfer indication, Old SMF ID, the identifier of the SM Context resource in old SMF.\n2a.\tOn success, the SMF shall return a 201 Created response.\nThe \"Location\" header shall be present in the POST response and shall contain the URI of the created SM context resource.The NF Service Consumer (e.g. AMF) shall store the association of the PDU Session ID and the SMF ID.\n2b.\tSame as step 2b of figure 5.2.2.2.1-1.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_5.2.2.2.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.2.10",
      "section_id": "5.2.2.2.10",
      "section_title": "Handover between 3GPP and non-3GPP accesses with I-SMF insertion/removal or V-SMF change",
      "content": "The NF Service Consumer (e.g. AMF) shall request the I-SMF (for I-SMF insertion during a handover from non-3GPP to 3GPP access), the V-SMF (for V-SMF change during a handover from non-3GPP to 3GPP access) or the SMF (for I-SMF removal during a handover from 3GPP to non-3GPP access) to create a SM context as follows.\n1.\tThe NF Service Consumer shall send a POST request as specified in clause 5.2.2.2.1, with the following additional information:\n-\tthe smContextRef attribute set to the identifier of the SM Context resource in the SMF (during I-SMF insertion), the SM Context resource in the source I-SMF during I-SMF removal, or the SM Context resource in the source V-SMF during V-SMF change, and optionally the NF instance identifier of the SMF hosting the SM Context resource;\n-\tthe smfUri IE attribute set to the API URI of the Nsmf_PDUSession service of the SMF (during I-SMF insertion), and optionally the NF instance identifier of the SMF, if the \"ACSCR\" feature is not supported by the AMF and I-SMF;\n-\tthe hSmfUri IE attribute set to the API URI of the Nsmf_PDUSession service of the H-SMF (during V-SMF change), and optionally the NF instance identifier of the H-SMF, if the \"ACSCR\" feature is not supported by the AMF and V-SMF.\n2a.\tSame as step 2a of figure 5.2.2.2.1-1.\n2b.\tSame as step 2b of figure 5.2.2.2.1-1.\nThe SMF (for I-SMF removal during a handover from 3GPP to non-3GPP access) may perform Network Slice Admission Control before the PDU Session is moved to the target access (i.e., before the N3 tunnel for the PDU Session is established).",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.2.1",
        "figure_5.2.2.2.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.2.12",
      "section_id": "5.2.2.2.12",
      "section_title": "SMF triggered I-SMF selection/removal or V-SMF selection",
      "content": "The NF Service Consumer (e.g. AMF) shall invoke the following procedure to request:\n-\tthe new I-SMF to create a SM context if the SMF (or the associated old I-SMF) cannot serve the target DNAI; or\n-\tthe SMF to create the SM context if an I-SMF is used for the PDU Session and the SMF itself can serve the target DNAI hence the existing I-SMF is no longer needed; or\n-\tthe SMF to create the SM context if an I-SMF is used for the PDU Session and the DNAI currently served by I-SMF is not used for the PDU Session anymore, hence the existing I-SMF is not needed; or\n-\tthe new V-SMF to create a SM context if the associated old V-SMF cannot serve the target DNAI.\nFigure 5.2.2.2.12-1: I-SMF selection/removal or V-SMF selection per DNAI\n1.\tThe NF Service Consumer shall send a POST request as defined in step 1 of Figure 5.2.2.2.6-1, with the following additional information:\n-\tthe smContextRef attribute set to the identifier of the SM Context resource in the SMF during I-SMF insertion, or the SM Context resource in the source I-SMF during I-SMF change/removal, or the SM Context resource in the source V-SMF during V-SMF change, and optionally the NF instance identifier of the SMF hosting the SM Context resource;\n-\tthe target DNAI, if it is received in the targetDnaiInfo attribute of the SM context status notification;\n-\tif the UE is in CM-CONNECTED state, the ranUnchangedInd attribute shall be set to indicate that NG-RAN is not changed for the PDU Session (i.e. for this case, the NG-RAN tunnel info shall be included in SM context retrieved from old I-SMF, old V-SMF or SMF) as specified in clause 4.23.5.4 of 3GPP TS 23.502 [3] and clause 6.7.3.2 of 3GPP TS 23.548 [74];\n-\tthe smfUri IE attribute set to the API URI of the Nsmf_PDUSession service of the SMF (during I-SMF insertion/change, or V-SMF change), and optionally the NF instance identifier of the SMF, if the \"ACSCR\" feature is not supported by the AMF, I-SMF or V-SMF.\n2a.\tOn success, the SMF shall return a 201 Created response, with the following additional information:\nIf the SMF receives the ranUnchangedInd attribute set to indicate that NG-RAN is not changed for the PDU Session, the SMF shall include the N2 SM information to request the 5G-AN to update UPF tunnel info of the PDU session (see PDU Session Resource Modify Request Transfer IE in clause 9.3.4.3 of 3GPP TS 38.413 [9]), including the transport layer address and tunnel endpoint of the uplink termination point for the user plane data for this PDU session (i.e. UPF's GTP-U F-TEID for uplink traffic and NG-RAN's GTP-U F-TEID for downlink traffic).\nThe \"Location\" header shall be present in the POST response and shall contain the URI of the created SM context resource.\nThe NF Service Consumer (e.g. AMF) shall store the association of the PDU Session ID and the SMF ID.\n2b.\tSame as step 2b of figure 5.2.2.2.1-1.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.502_clause_4.23.5.4",
        "ts_23.502_clause_6.7.3.2",
        "ts_38.413_clause_9.3.4.3",
        "figure_5.2.2.2.12-1",
        "figure_5.2.2.2.6-1",
        "figure_5.2.2.2.1-1",
        "ts_23.548_clause_6.7.3.2",
        "ts_23.502",
        "ts_23.548",
        "ts_38.413"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.1",
      "section_id": "5.2.2.3.1",
      "section_title": "General",
      "content": "The Update SM Context service operation shall be used to update an individual SM context and/or provide N1 or N2 SM information received from the UE or the AN, for a given PDU session, towards the SMF, or the V-SMF for HR roaming scenarios, or the I-SMF for a PDU session with an I-SMF.\nIt is used in the following procedures:\n-\tPDU Session modification (see clause 4.3.3 of 3GPP TS 23.502 [3]);\n-\tUE or network requested PDU session release (see clause 4.3.4.2 and clause 4.3.4.3 of 3GPP TS 23.502 [3]);\n-\tUE requested MA PDU session establishment over the other access (see clause 4.22.7 of 3GPP TS 23.502 [3]);\n-\tUE or network-initiated MA PDU session release over a single access (see clause 4.22 of 3GPP TS 23.502 [3]);\n-\tActivation or Deactivation of the User Plane connection of an existing PDU session, i.e. establishment or release of the N3 tunnel between the AN and serving CN (see clause 5.6.8 of 3GPP TS 23.501 [2], clauses 4.2.2.2, 4.2.3, 4.2.6, 4.2.10 and 4.9.1.3.3 of 3GPP TS 23.502 [3], clauses 7.2.2.1, 7.2.2.2, 7.2.5.2 and 7.2.5.3 of 3GPP TS 23.316 [36]) and clause 7.2.5.2 of 3GPP TS 23.247 [44];\n-\tXn and N2 Handover procedures (see clauses 4.9.1, 4.23.7 and 4.23.11 of 3GPP TS 23.502 [3]);\n-\tHandover between 3GPP and untrusted non-3GPP access procedures (see clause 4.9.2 of 3GPP TS 23.502 [3]);\n-\tInter-AMF change due to AMF planned maintenance or AMF failure (see clause 5.21.2 of 3GPP TS 23.501 [2]), or inter-AMF mobility in CM-IDLE mode (see clauses 4.2.2.2 and 4.23.3 of 3GPP TS 23.502 [3]);\n-\tRAN Initiated QoS Flow Mobility (see clause 4.14.1 of 3GPP TS 23.502 [3] and clause 8.2.5 of 3GPP TS 38.413 [9]);\n-\tAll procedures requiring to provide N1 or N2 SM information to the SMF, e.g. UE requested PDU Session Establishment procedure (see clause 4.3.2.2 of 3GPP TS 23.502 [3]), USS UAV Authorization/Authentication (UUAA) to carry the UUAA authentication message during the PDU Session Establishment (see clause 5.2.3.2 of 3GPP TS 23.256 [41] and Service-level-AA container in 3GPP TS 24.501 [7]), session continuity procedure (see clause 4.3.5 of 3GPP TS 23.502 [3]);\n-\tEPS to 5GS Idle mode mobility, EPS to 5GS Idle mode mobility with data forwarding or handover using N26 interface (see clause 4.11 of 3GPP TS 23.502 [3]);\n-\t5GS to EPS Handover using N26 interface (see clause 4.11.1.2 of 3GPP TS 23.502 [3]);\n-\t5GS to EPS Idle mode mobility using N26 interface with data forwarding (see clause 4.11.1.3.2A of 3GPP TS 23.502 [3]);\n-\tPDU Session Reactivation during P-CSCF Restoration procedure via AMF (see clause 5.8.4.3 of 3GPP TS 23.380 [21]);\n-\tAMF requested PDU session release due to a change of the set of network slices for a UE where a network slice instance is no longer available (see clause 4.3.4.2 of 3GPP TS 23.502 [3]);\n-\tAMF receives an \"initial request\" with PDU Session Id which already exists in PDU session context of the UE (see clause 5.4.5.2.5 of 3GPP TS 24.501 [7]);\n-\tSecondary RAT Usage Data Reporting (see clause 4.21 of 3GPP TS 23.502 [3]);\n-\tService Request Procedures with I-SMF change or I-SMF removal when downlink data packets are buffered at the I-UPF (See clause 4.23.4 of 3GPP TS 23.502 [3]);\n-\tConnection Suspend procedure (see clause 4.8.1.2 of 3GPP TS 23.502 [3]);\n-\tConnection Resume in CM-IDLE with Suspend procedure (see clause 4.8.2.3 of 3GPP TS 23.502 [3]);\n-\t5G-RG or Network requested PDU Session Modification via W-5GAN (see clause 7.3.2 of 3GPP TS 23.316 [36]);\n-\t5G-RG or Network requested PDU Session Release via W-5GAN (see clause 7.3.3 of 3GPP TS 23.316 [36]);\n-\tFN-RG or Network requested PDU Session Modification via W-5GAN (see clause 7.3.6 of 3GPP TS 23.316 [36]);\n-\tFN-RG or Network requested PDU Session Release via W-5GAN (see clause 7.3.7 of 3GPP TS 23.316 [36]);\n-\tHandover between 3GPP access/5GC and W-5GAN access (see clause 7.6.3 of 3GPP TS 23.316 [36]);\n-\tAMF requested PDU session release due to Network Slice-Specific (Re-)Authentication and (Re-)Authorization failure or revocation (see clauses 4.2.9.2, 4.2.9.3 and 4.2.9.4 of 3GPP TS 23.502 [3]);\n-\t5G-RG requested PDU Session Establishment via W-5GAN (see clause 7.3.1 of 3GPP TS 23.316 [36]);\n-\tFN-RG related PDU Session Establishment via W-5GAN (see clause 7.3.4 of 3GPP TS 23.316 [36]);\n-\tNon-5G capable device behind 5G-CRG and FN-CRG requested PDU Session Establishment via W-5GAN (see clause 4.10a of 3GPP TS 23.316 [36]);\n-\tNon-5G capable device behind 5G-CRG and FN-CRG or Network requested PDU Session Modification via W-5GAN (see clause 4.10a of 3GPP TS 23.316 [36]);\n-\tNon-5G capable device behind 5G-CRG and FN-CRG or Network requested PDU Session Release via W-5GAN (see clause 4.10a of 3GPP TS 23.316 [36]);\n-\tCN-initiated selective deactivation of UP connection of an existing PDU Session associated with W-5GAN Access (see clause 7.3.5 of 3GPP TS 23.316 [36]);\n-\tHandover between 3GPP access / EPS and W-5GAN/5GC access (see clause 7.6.4 of 3GPP TS 23.316 [36]);\n-\tAMF requested PDU session release due to Control Plane Only indication associated with PDU Session is not applicable any longer as described in 3GPP TS 23.501 [2] clause 5.31.4.1;\n-\tSubscribe to / unsubscribe from the DDN failure status notification (see clauses 4.15.3.2.7 and 4.15.3.2.9 of 3GPP TS 23.502 [3]);\n-\tAMF requested PDU session release due to ODB changes (see clause 2.6C.2 of 3GPP TS 23.015 [42]);\n-\tSimultaneous change of Branching Points or UL CLs controlled by different I-SMFs (see clause 4.23.9.5 of 3GPP TS 23.502 [3]);\n-\tRemote UE Report during 5G ProSe Communication via 5G ProSe Layer-3 UE-to-Network Relay without N3IWF (see clause 6.5.1.1 of 3GPP TS 23.304 [43];\n-\tMulticast Session join and session establishment procedure in clause 7.2.1.3 of 3GPP TS 23.247 [44];\n-\tMulticast MBS session leave and release procedure in clause 7.2.2 of 3GPP TS 23.247 [44];\n-\tMBS session activation procedure in clause 7.2.5.2 of 3GPP TS 23.247 [44];\n-\tMobility procedures for MBS in clause 7.2.3 of 3GPP TS 23.247 [44];\n-\tConnection Inactive procedure with CN based MT communication handling in clause 4.8.1.1a of 3GPP TS 23.502 [3];\n-\tUE Triggered Connection Resume in RRC Inactive procedure in clause 4.8.2.2 of 3GPP TS 23.502 [3];\n-\tNetwork Slice Replacement, see clause 5.15.19 of 3GPP TS 23.501 [2];\n-\tAMF requested PDU Session release due to MBSR not authorized as described in clause 5.35A.4 of 3GPP TS 23.501 [2] and in clause 4.3.4.2 of 3GPP TS 23.502 [3];\n-\tXn Handover without V-SMF change or N2-based handover with V-SMF insertion/change/removal in HR-SBO case (see clauses 6.7.2.6 and 6.7.2.10 of 3GPP TS 23.548 [39]).\nThe NF Service Consumer (e.g. AMF) shall update an individual SM context and/or provide N1 or N2 SM information to the SMF by using the HTTP POST method (modify custom operation) as shown in Figure 5.2.2.3.1-1.\nFigure 5.2.2.3.1-1: SM context update\n1.\tThe NF Service Consumer shall send a POST request to the resource representing the individual SM context resource in the SMF. The content of the POST request shall contain the modification instructions and/or the N1 or N2 SM information, or the indication that the PDU session is allowed to be upgraded to a MA PDU session if so indicated by the UE as specified in clause 6.4.2.2 of 3GPP TS 24.501 [7], or subscribe/unsubscribe of the DDN failure notification as specified in clause 4.15.3.2.7 of 3GPP TS 23.502 [3]. If the request contains EBI(s) to revoke, then the SMF shall disassociate the EBI(s) with the QFI(s) with which they are associated.\n2a.\tOn success, \"204 No Content\" or \"200 OK\" shall be returned; in the latter case, the content of the POST response shall contain the representation describing the status of the request and/or N1 or N2 SM information.\nIf the ExemptionInd IE is included in the request message, indicating that the NAS SM message included in the request was exempted from NAS congestion control by the AMF, the SMF shall verify that the included 5G SM message can be exempted from a NAS SM congestion control activated in the AMF as specified in clause 5.19.7 of 3GPP TS 23.501 [2].\nThe SMF may indicate to the NF Service Consumer that it shall release EBI(s) that were assigned to the PDU session by including the releaseEbiList IE, e.g. when a QoS flow is released.\n2b.\tOn failure or redirection, one of the HTTP status codes listed in Table 6.1.3.3.4.2.2-2 shall be returned.  For a 4xx/5xx response, the message body shall contain an SmContextUpdateError structure, including:\n-\ta ProblemDetails structure with the \"cause\" attribute set to one of the application errors listed in Table 6.1.3.3.4.2.2-2;\n-\tN1 SM information, if the SMF needs and can return a response to the UE;\n-\tN2 SM information, if the SMF needs and can return a response to the NG-RAN.\nThe following clauses specify additional requirements applicable to specific scenarios.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.502_clause_4.3.3",
        "clause_4.3.4.2",
        "ts_23.502_clause_4.3.4.3",
        "ts_23.502_clause_4.22.7",
        "ts_23.502_clause_4.22",
        "ts_23.501_clause_5.6.8",
        "ts_23.316_clause_7.2.5.2",
        "ts_23.502_clause_4.9.2",
        "ts_23.501_clause_5.21.2",
        "ts_23.502_clause_4.14.1",
        "ts_23.502_clause_8.2.5",
        "ts_23.502_clause_4.3.2.2",
        "ts_23.256_clause_5.2.3.2",
        "ts_24.501_clause_4.3.5",
        "ts_23.502_clause_4.11",
        "ts_23.502_clause_4.11.1.2",
        "ts_23.502_clause_4.11.1.3.2",
        "ts_23.380_clause_5.8.4.3",
        "ts_23.502_clause_4.3.4.2",
        "ts_24.501_clause_5.4.5.2.5",
        "ts_23.502_clause_4.21",
        "ts_23.502_clause_4.23.4",
        "ts_23.502_clause_4.8.1.2",
        "ts_23.502_clause_4.8.2.3",
        "ts_23.316_clause_7.3.2",
        "ts_23.316_clause_7.3.3",
        "ts_23.316_clause_7.3.6",
        "ts_23.316_clause_7.3.7",
        "ts_23.316_clause_7.6.3",
        "ts_23.316_clause_7.3.1",
        "ts_23.316_clause_7.3.4",
        "ts_23.316_clause_4.10",
        "ts_23.316_clause_7.3.5",
        "ts_23.316_clause_7.6.4",
        "ts_23.501_clause_5.31.4.1",
        "ts_23.015_clause_2.6",
        "ts_23.502_clause_4.23.9.5",
        "ts_23.304_clause_6.5.1.1",
        "ts_23.247_clause_7.2.1.3",
        "ts_23.247_clause_7.2.2",
        "ts_23.247_clause_7.2.5.2",
        "ts_23.247_clause_7.2.3",
        "ts_23.502_clause_4.8.1.1",
        "ts_23.502_clause_4.8.2.2",
        "ts_23.502_clause_5.15.19",
        "ts_23.501_clause_5.35",
        "ts_23.501_clause_4.3.4.2",
        "ts_24.501_clause_6.4.2.2",
        "ts_23.502_clause_4.15.3.2.7",
        "ts_23.501_clause_5.19.7",
        "table_6.1.3.3.4.2.2-2",
        "figure_5.2.2.3.1-1",
        "ts_38.413_clause_8.2.5",
        "ts_23.502_clause_4.3.5",
        "ts_23.501_clause_5.15.19",
        "ts_23.502",
        "ts_23.501",
        "ts_23.316",
        "ts_23.247",
        "ts_38.413",
        "ts_23.256",
        "ts_24.501",
        "ts_23.380",
        "ts_23.015",
        "ts_23.304",
        "ts_23.548"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.2.1",
      "section_id": "5.2.2.3.2.1",
      "section_title": "General",
      "content": "The upCnxState attribute of an SM context represents the state of the User Plane connection of the PDU session. The upCnxState attribute may take the following values:\n-\tACTIVATED: a N3 tunnel is established between the 5G-AN and UPF (F-TEIDs assigned for both uplink and downlink traffic);\n-\tDEACTIVATED: no N3 tunnel is established between the 5G-AN and UPF;\n-\tACTIVATING: a N3 tunnel is being established (5G-AN's F-TEID for downlink traffic is not assigned yet).\nClauses 5.2.2.3.2.2 and 5.2.2.3.2.3 specify how the NF Service Consumer (e.g. AMF) request the SMF to activate or deactivate the User Plane connection of the PDU session, e.g. upon receiving a Service Request from the UE requesting to activate a PDU session or upon an AN release procedure respectively. Clause 5.2.2.3.2.3 also applies in case of 5G-AN requested PDU session resource release by sending the NGAP PDU SESSION RESOURCE NOTIFY to the AMF (see step 1d in clause 4.3.4.2 of 3GPP TS 23.502 [3]).\nIn scenarios where the SMF takes the initiative to activate or deactivate the User Plane connection of the PDU session, e.g. during a Network Triggered Service Request or CN-initiated selective deactivation of the User Plane connection of a PDU session respectively, the SMF invokes the Namf_N1N2MessageTransfer procedure with the inclusion of N2 SM Information (and optionally of a N1 SM Container) as specified in 3GPP TS 23.502 [3] to request the establishment or release of the PDU session's resources in the 5G-AN. The Update SM Context service operation is then used as specified in clause 5.2.2.3.1 to transfer the response to the SMF.\nClause 5.2.2.3.2.4 specifies how the NF Service Consumer (e.g. AMF) indicates to the SMF that the access type of a PDU session can be changed from non-3GPP access to 3GPP access, during a Network Triggered Service Request initiated for a PDU session associated to the non-3GPP access, if the PDU Session for which the UE was paged or notified is in the List Of Allowed PDU Sessions provided by the UE and if the AMF has received N2 SM Information only or N1 SM Container and N2 SM Information for that PDU session from the SMF in step 3a of clause 4.2.3.3 of 3GPP TS 23.502 [3].",
      "chunk_type": "definition",
      "cross_references": [
        "clause_5.2.2.3.2.3",
        "ts_23.502_clause_4.3.4.2",
        "clause_5.2.2.3.1",
        "clause_5.2.2.3.2.4",
        "ts_23.502_clause_4.2.3.3",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.2.2",
      "section_id": "5.2.2.3.2.2",
      "section_title": "Activation of User Plane connectivity of a PDU session",
      "content": "The NF Service Consumer (e.g. AMF) shall request the SMF to activate the User Plane connection of an existing PDU session, i.e. establish the N3 tunnel between the 5G-AN and UPF, as follows.\nFigure 5.2.2.3.2.2-1: Activation of the User Plane connection of a PDU session\n1.\tThe NF Service Consumer shall request the SMF to activate the user plane connection of the PDU session by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tthe upCnxState attribute set to ACTIVATING;\n-\tthe user location and access type associated to the PDU session, if modified;\n-\tthe indication that the UE is inside or outside of the LADN service area, if the DNN of the established PDU session corresponds to a LADN;\n-\tthe access type for which the user plane connection needs to be re-activated, for a MA PDU session (i.e. the access type over which a Registration or Service Request was received);\n-\tthe \"MO Exception Data Counter\" if the UE has accessed the network by using \"MO exception data\" RRC establishment cause;\n-\tthe n3gPathSwitchExecutionInd IE if the AMF receives the indication \"Non-3GPP access path switching while using old AN resources\" in the registration request message from the UE and if the SMF supports non-3GPP path switching, so to request the SMF to add a new non-3GPP access path (while also keeping the existing one) during a UE requested non-3GPP access switching for a MA-PDU session;\n-\tother information, if necessary.\n2a.\tUpon receipt of such a request, if the SMF can proceed with activating the user plane connection of the PDU session (see clause 4.2.3 of 3GPP TS 23.502 [3]), the SMF shall set the upCnxState attribute to ACTIVATING and shall return a 200 OK response including the following information:\n-\tupCnxState attribute set to ACTIVATING;\n-\tN2 SM information to request the 5G-AN to assign resources to the PDU session (see PDU Session Resource Setup Request Transfer IE in clause 9.3.4.1 of 3GPP TS 38.413 [9]), including the transport layer address and tunnel endpoint of the uplink termination point for the user plane data for this PDU session (i.e. UPF's GTP-U F-TEID for uplink traffic).\nIf the SMF finds the PDU session already activated when receiving the request in step 1, the SMF shall delete the N3 tunnel information and update the UPF accordingly (see step 8a of clause 4.2.3.2 of 3GPP TS 23.502 [3]).\nFor a MA-PDU session, the SMF shall perform the above requirements for the access type for which the user plane connection is requested to be re-activated (i.e. the access type indicated in the anTypeToReactivate attribute). The SMF shall not modify the user plane connection status for the other access type, e.g. if the user plane connection is already established for the other access type, it shall remain established. If the SMF receives the n3gPathSwitchExecutionInd IE the SMF shall not trigger the release of the UP connection in the old non-3GPP access.\nIf the \"MO Exception Data Counter\" is included in the request and Small Data Rate Control is enabled for the PDU session, then the V-SMF/I-SMF shall forward the counter to the H-SMF/SMF.\n2b.\tIf the request does not include the \"UE presence in LADN service area\" indication and the SMF determines that the DNN corresponds to a LADN, then the SMF shall consider that the UE is outside of the LADN service area. The SMF shall reject the request if the UE is outside of the LADN service area.\nIf the SMF cannot proceed with activating the user plane connection of the PDU session (e.g. if the PDU session corresponds to a PDU session of SSC mode 2 and the SMF decides to change the PDU Session Anchor), the SMF shall return an error response, as specified for step 2b of figure 5.2.2.3.1-1.  For a 4xx/5xx response, the SmContextUpdateError structure shall include the following additional information:\n-\tupCnxState attribute set to DEACTIVATED.\n3.\tIf the SMF returned a 200 OK response, the NF Service Consumer (e.g. AMF) shall subsequently update the SM context in the SMF by sending POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tN2 SM information received from the 5G-AN (see PDU Session Resource Setup Response Transfer IE in clause 9.3.4.2 of 3GPP TS 38.413 [9]), including the transport layer address and tunnel endpoint of one or two downlink termination point(s) and the associated list of QoS flows for this PDU session (i.e. 5G-AN's GTP-U F-TEID(s) for downlink traffic), if the 5G-AN succeeded in establishing resources for the PDU sessions; or\n-\tN2 SM information received from the 5G-AN (see PDU Session Resource Setup Unsuccessful Transfer IE in clause 9.3.4.16 of 3GPP TS 38.413 [9]), including the Cause of the failure, if resources failed to be established for the PDU session.\nUpon receipt of this request, the SMF shall:\n-\tupdate the UPF with the 5G-AN's F-TEID(s) and set the upCnxState attribute to ACTIVATED, if the 5G-AN succeeded in establishing resources for the PDU sessions; or\n-\tconsider that the activation of the User Plane connection has failed and set the upCnxState attribute to DEACTIVATED\" otherwise.\n4.\tThe SMF shall then return a 200 OK response including the upCnxState attribute representing the final state of the user plane connection. If the activation of the User Plane connection failed due to insufficient resources, the cause IE shall be included in the response and set to \"INSUFFICIENT_UP_RESOURCES\".",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.3.1",
        "ts_23.502_clause_4.2.3",
        "ts_38.413_clause_9.3.4.1",
        "ts_23.502_clause_4.2.3.2",
        "ts_38.413_clause_9.3.4.2",
        "ts_38.413_clause_9.3.4.16",
        "figure_5.2.2.3.2.2-1",
        "figure_5.2.2.3.1-1",
        "ts_23.502",
        "ts_38.413"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.2.3",
      "section_id": "5.2.2.3.2.3",
      "section_title": "Deactivation of User Plane connectivity of a PDU session",
      "content": "The NF Service Consumer (e.g. AMF) shall request the SMF to deactivate the User Plane connectivity of an existing PDU session, i.e. release the N3 tunnel, as follows.\nFigure 5.2.2.3.2.2-1: Deactivation of the User Plane connection of a PDU session\n1.\tThe NF Service Consumer shall request the SMF to deactivate the user plane connection of the PDU session by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tupCnxState attribute set to DEACTIVATED;\n-\tuser location and user location timestamp;\n-\tcause of the user plane deactivation; the cause may indicate a cause received from the 5G-AN or AMF has detected that the UE has moved out of the network slice support area or due to an AMF internal event;\n-\tN2 SM information received from the 5G-AN (see PDU Session Resource Notify Released Transfer IE in clause 9.3.4.13 of 3GPP TS 38.413 [9] and PDU Session Resource Release Response Transfer IE in clause 9.3.4.21 of 3GPP TS 38.413 [9]), if the request is triggered due to an 5G-AN requested PDU session resource release or due to an AN Release procedure respectively;\n-\tother information, if necessary.\nNOTE:\tThe SMF can receive a N2 SM information (PDU Session Resource Release Response Transfer IE) without having sent any prior N2 SM information (PDU Session Resource Release Command Transfer IE) to the AMF.\n2.\tUpon receipt of such a request, the SMF shall deactivate release the N3 tunnel of the PDU session, set the upCnxState attribute to DEACTIVATED and return a 200 OK response including the upCnxState attribute set to DEACTIVATED.\nIf the request is triggered due to 5G-AN requested PDU session resource release, the SMF may decide to keep the PDU Session (with user plane connection deactivated) or release the PDU Session. If the SMF decides to keep the PDU Session, it shall return \"200 OK\" with the upCnxState attribute set to DEACTIVATED, but not including n1SmMsg and n2SmInfo. If the SMF decides to release the PDU Session, it shall return \"200 OK\" with the upCnxState attribute set to DEACTIVATED, including n1SmMsg IE but not-including n2SmInfo IE.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.3.1",
        "ts_38.413_clause_9.3.4.13",
        "ts_38.413_clause_9.3.4.21",
        "figure_5.2.2.3.2.2-1",
        "ts_38.413"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.2.4",
      "section_id": "5.2.2.3.2.4",
      "section_title": "Changing the access type of a PDU session from non-3GPP access to 3GPP access during a Service Request procedure",
      "content": "The NF Service Consumer (e.g. AMF) shall indicate to the SMF that the access type of a PDU session can be changed as follows:\nFigure 5.2.2.3.2.4-1: Indicating that the access type of a PDU session can be changed\n1.\tThe NF Service Consumer shall indicate that the access type of a PDU session can be changed by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tanTypeCanBeChanged attribute set to \"true\";\n-\tother information, if necessary.\n2a.\tSame as step 2a of figure 5.2.2.3.1-1. In HR roaming scenarios, the V-SMF shall invoke the Update service operation towards the H-SMF to notify that the access type of the PDU session can be changed (see clause 5.2.2.8.2.2).\n2b.\tSame as step 2b of figure 5.2.2.3.1-1.\nNOTE:\tThis is used during a Service Request procedure (see clause 4.2.3.2 of 3GPP TS 23.502 [3]), in response to paging or NAS notification indicating non-3GPP access, if the PDU Session for which the UE was paged or notified is in the List Of Allowed PDU Sessions provided by the UE and if the AMF has received N2 SM Information only or N1 SM Container and N2 SM Information for that PDU session from the SMF in step 3a of clause 4.2.3.3 of 3GPP TS 23.502 [3].\nThe SMF may perform Network Slice Admission Control before the PDU Session is moved from the non-3GPP access to 3GPP access (i,e, before N3 tunnel for the PDU Session is established).\nIf the PDU Session is moved from the non-3GPP access to 3GPP access (i.e. N3 tunnel for the PDU Session is established successfully), the SMF and NF Service Consumer (e.g. AMF) updates the associated access of the PDU Session.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_5.2.2.3.1",
        "clause_5.2.2.8.2.2",
        "ts_23.502_clause_4.2.3.2",
        "ts_23.502_clause_4.2.3.3",
        "figure_5.2.2.3.2.4-1",
        "figure_5.2.2.3.1-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.3",
      "section_id": "5.2.2.3.3",
      "section_title": "Xn Handover",
      "content": "The NF Service Consumer (e.g. AMF) shall request the SMF to switch the downlink N3 tunnel of the PDU session towards a new GTP tunnel endpoint as follows.\nFigure 5.2.2.3.3-1: Xn handover\n1.\tThe NF Service Consumer shall request the SMF to switch the downlink N3 tunnel of the PDU session towards a new GTP tunnel endpoint by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tthe indication that the PDU session is to be switched;\n-\tN2 SM information received from the target 5G-AN (see Path Switch Request Transfer IE in clause 9.3.4.8 of 3GPP TS 38.413 [9]), including the new transport layer address and tunnel endpoint of the downlink termination point for the user data for this PDU session (i.e. 5G-AN's GTP-U F-TEID for downlink traffic);\n-\tadditional N2 SM information received from the source 5G-AN (see Secondary RAT Data Usage Report Transfer IE in clause 9.3.4.23 of 3GPP TS 38.413 [9]), if any;\n-\tthe user location associated to the PDU session;\n-\tthe indication that the UE is inside or outside of the LADN service area, if the DNN of the established PDU session corresponds to a LADN;\n-\tother information, if necessary.\n2a.\tIf the SMF can proceed with switching the user plane connection of the PDU session, the SMF shall return a 200 OK response including the following information:\n-\tN2 SM information (see Path Switch Request Acknowledge Transfer IE in clause 9.3.4.9 of 3GPP TS 38.413 [9]), including the transport layer address and tunnel endpoint of the uplink termination point for the user data for this PDU session (i.e. UPF's GTP-U F-TEID for uplink traffic).\nIf the request does not include the \"UE presence in LADN service area\" indication and the SMF determines that the DNN corresponds to a LADN, then the SMF shall consider that the UE is outside of the LADN service area. The SMF shall proceed as specified in clause 5.6.5 of 3GPP TS 23.501 [2].\n2b.\tIf the SMF cannot proceed with switching the user plane connection of the PDU session, the SMF shall return an error response, as specified for step 2b of figure 5.2.2.3.1-1, including:\n-\tN2 SM information (see Path Switch Request Unsuccessul Transfer IE in clause 9.3.4.20 of 3GPP TS 38.413 [9]), including the cause of the failure.\nFor a PDU session that is rejected by the target RAN (i.e. a PDU session indicated as failed to setup in the PATH SWITCH REQUEST), the NF Service Consumer (e.g. AMF) shall indicate the failure to setup the PDU session in the target RAN as follows.\nFigure 5.2.2.3.3-2: Xn handover – PDU session rejected by the target RAN\n1.\tThe NF Service Consumer shall indicate to the SMF that the PDU session could not be setup in the target RAN by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tthe indication that the PDU session failed to be switched;\n-\tN2 SM information received from the target 5G-AN (see Path Switch Request Setup Failed Transfer IE in clause 9.3.4.15 of 3GPP TS 38.413 [9]), including the cause why the session could not be setup;\n-\tadditional N2 SM information received from the source 5G-AN (see Secondary RAT Data Usage Report Transfer IE in clause 9.3.4.23 of 3GPP TS 38.413 [9]), if any;\n-\tother information, if necessary.\n2a.\tUpon receipt of such a request, the SMF shall return a \"204 No Content\" response. The SMF shall decide whether to release the PDU session or deactivate the user plane connection of the PDU session, as specified in clause 4.9.1.2 of 3GPP TS 23.502 [3].\n2b.\tSame as step 2b of figure 5.2.2.3.1-1.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.3.1",
        "ts_38.413_clause_9.3.4.8",
        "ts_38.413_clause_9.3.4.23",
        "ts_38.413_clause_9.3.4.9",
        "ts_23.501_clause_5.6.5",
        "ts_38.413_clause_9.3.4.20",
        "ts_38.413_clause_9.3.4.15",
        "ts_23.502_clause_4.9.1.2",
        "figure_5.2.2.3.3-1",
        "figure_5.2.2.3.1-1",
        "figure_5.2.2.3.3-2",
        "ts_38.413",
        "ts_23.501",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.4.1",
      "section_id": "5.2.2.3.4.1",
      "section_title": "General",
      "content": "The hoState attribute of an SM context represents the handover state of the PDU session. The hoState attribute may take the following values:\n-\tNONE: no handover is in progress for the PDU session;\n-\tPREPARING: a handover is in preparation for the PDU session; SMF is preparing the N3 tunnel between the target 5G-AN and UPF, i.e. the UPF's F-TEID is assigned for uplink traffic;\n-\tPREPARED: a handover is prepared for the PDU session; SMF is updated for the N3 tunnel between the target 5G-AN and UPF, with the target 5G-AN's F-TEID to be assigned for downlink traffic upon handover execution;\n-\tCOMPLETED: the handover is completed (successfully);\n-\tCANCELLED: the handover is cancelled.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.4.2",
      "section_id": "5.2.2.3.4.2",
      "section_title": "N2 Handover Preparation",
      "content": "The NF Service Consumer (e.g. T-AMF) shall request the SMF to prepare the handover of an existing PDU session, i.e. prepare the N3 tunnel between the target 5G-AN and UPF, as follows.\nFigure 5.2.2.3.4.2-1: N2 Handover Preparation\n1.\tThe NF Service Consumer shall request the SMF to prepare the handover of the PDU session by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tupdating the hoState attribute of the individual SM Context resource in the SMF to PREPARING;\n-\ttargetId identifying the target RAN Node ID and TAI received in the Handover Required from the source NG-RAN;\n-\ttargetServingNfId set to the target AMF Id, for a N2 handover with AMF change;\n-\tN2 SM information received from the source NG-RAN (see Handover Required Transfer IE in clause 9.3.4.14 of 3GPP TS 38.413 [9]), indicating whether a direct path is available;\n-\tthe supportedFeatures IE indicating the features it supports, if at least one feature defined in clause 6.1.8 is supported;\n-\tother information, if necessary.\n2a.\tUpon receipt of such a request, if the SMF can proceed with preparing the handover of the PDU session (see clause 4.9.1.3 of 3GPP TS 23.502 [3]), the SMF shall set the hoState attribute to PREPARING and shall return a 200 OK response including the following information:\n-\thoState attribute set to PREPARING;\n-\tN2 SM information to request the target 5G-AN to assign resources to the PDU session (see PDU Session Resource Setup Request Transfer IE in clause 9.3.4.1 of 3GPP TS 38.413 [9]), including (among others) the transport layer address and tunnel endpoint of the uplink termination point for the user plane data for this PDU session (i.e. UPF's GTP-U F-TEID for uplink traffic);\n-\tthe supportedFeatures IE in the response, if the supportedFeatures IE was received in the request and at least one feature defined in clause 6.1.8 is supported by the updated SM context resource.\nThe SMF shall store the targetServingNfId, if received in the request, but the SMF shall still consider the AMF (previously) received in the servingNfId IE as the serving AMF for the UE.\n2b.\tIf the SMF cannot proceed with preparing the handover of the PDU session (e.g. the UE moves into a non-allowed service area, the SMF cannot select a suitable I-UPF, or the UE is only reachable for regulatory prioritized services), the SMF shall set the hoState to NONE and return an error response, as specified in step 2b of figure 5.2.2.3.1-1. For a 4xx/5xx response, the SmContextUpdateError structure shall include the following additional information:\n-\tN2 SM information (see Handover Preparation Unsuccessful Transfer IE in clause 9.3.4.18 of 3GPP TS 38.413 [9]) indicating the cause of the failure;\n-\tthe cause in the error attribute set to one of the application errors listed in Table 6.1.3.3.4.2.2-2.\nWhen receiving a 4xx/5xx response from the SMF, the NF service consumer (e.g. the AMF) shall regard the hoState of the SM Context to be NONE.\n3.\tIf the SMF returned a 200 OK response in step 2a, the NF Service Consumer (e.g. AMF) shall subsequently update the SM context in the SMF by sending POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\thoState attribute set to PREPARED;\n-\tN2 SM information received from the target 5G-AN (see Handover Request Acknowledge Transfer IE in clause 9.3.4.11 of 3GPP TS 38.413 [9]), including (among others) the transport layer address and tunnel endpoint of the downlink termination point for the user data for this PDU session (i.e. target 5G-AN's GTP-U F-TEID for downlink traffic), if the target 5G-AN succeeded in establishing resources for the PDU session;\n-\tN2 SM information received from the target 5G-AN (see Handover Resource Allocation Unsuccessful Transfer IE in clause 9.3.4.19 of 3GPP TS 38.413 [9]), including the Cause of the failure, if resources failed to be established for the PDU sessions.\n4a.\tIf the target 5G-AN succeeded in establishing resources for the PDU sessions, the SMF shall set the hoState attribute to PREPARED and return a 200 OK response including the following information:\n-\thoState attribute to PREPARED;\n-\tN2 SM information (see Handover Command Transfer IE in clause 9.3.4.10 of 3GPP TS 38.413 [9]) containing DL forwarding tunnel information to be sent to the source 5G-AN by the AMF if direct or indirect data forwarding applies (see step 11f of clause 4.9.1.3.2 of 3GPP TS 23.502 [3]).\n4b.\tIf the SMF cannot proceed with preparing the handover of the PDU session (e.g. the target 5G-AN failed to establish resources for the PDU session), the SMF shall set the hoState to NONE, release resources reserved for the handover to the target 5G-AN, and return an error response as specified in step 2b of figure 5.2.2.3.1-1. For a 4xx/5xx response, the SmContextUpdateError structure shall include the following additional information:\n-\tN2 SM information (see Handover Preparation Unsuccessful Transfer IE in clause 9.3.4.18 of 3GPP TS 38.413 [9]) indicating the cause of the failure;\n-\tthe cause in the error attribute set to HANDOVER_RESOURCE_ALLOCATION_FAILURE, if the target 5G-AN failed to establish resources for the PDU session.\nWhen receiving a 4xx/5xx response from the SMF, the NF service consumer (e.g. the AMF) shall regard the hoState of the SM Context to be NONE.\nIf the handover preparation fails completely on the target 5G-AN (i.e. target 5G-AN returns a NGAP HANDOVER_FAILURE), the (T-)AMF shall request the SMF to cancel the handover of the PDU session as described in clause 5.2.2.3.4.4.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.3.1",
        "ts_38.413_clause_9.3.4.14",
        "clause_6.1.8",
        "ts_23.502_clause_4.9.1.3",
        "ts_38.413_clause_9.3.4.1",
        "ts_38.413_clause_9.3.4.18",
        "ts_38.413_clause_9.3.4.11",
        "ts_38.413_clause_9.3.4.19",
        "ts_38.413_clause_9.3.4.10",
        "ts_23.502_clause_4.9.1.3.2",
        "clause_5.2.2.3.4.4",
        "table_6.1.3.3.4.2.2-2",
        "figure_5.2.2.3.4.2-1",
        "figure_5.2.2.3.1-1",
        "ts_38.413",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.4.3",
      "section_id": "5.2.2.3.4.3",
      "section_title": "N2 Handover Execution",
      "content": "The NF Service Consumer (e.g. T-AMF) shall request the SMF to complete the execution the handover of an existing PDU session, upon being notified by the target 5G-AN that the handover to the target 5G-AN has been successful, as follows.\nFigure 5.2.2.3.4.3-1: N2 Handover Execution\n1.\tThe NF Service Consumer shall request the SMF to complete the execution of the handover of the PDU session by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tupdating the hoState attribute of the individual SM Context resource in the SMF to COMPLETED;\n-\tservingNfId set to the new serving AMF Id, for a N2 handover with AMF change;\n-\tthe indication that the UE is inside or outside of the LADN service area, if the DNN of the established PDU session corresponds to a LADN;\n-\tN2 SM information received from the source 5G-AN (see Secondary RAT Data Usage Report Transfer IE in clause 9.3.4.23 of 3GPP TS 38.413 [9]), if any;\n-\tother information, if necessary.\n2.\tUpon receipt of such a request, the SMF shall return a 200 OK response including the following information:\n-\thoState attribute set to COMPLETED.\nThe SMF shall complete the execution of the handover, e.g. switch the PDU session towards the downlink termination point for the user data received from the target 5G-AN (i.e. target 5G-AN's GTP-U F-TEID for downlink traffic), set the hoState to NONE and delete any stored targetServingNfId. For PDU session with I-SMF insertion, the I-SMF shall complete the execution of the handover by initiating an Update service operation towards the anchor SMF in order to switch the PDU session towards the I-UPF controlled by I-SMF (see clause 5.2.2.8.2.12).\nIf the request does not include the \"UE presence in LADN service area\" indication and the SMF determines that the DNN corresponds to a LADN, then the SMF shall consider that the UE is outside of the LADN service area. The SMF shall proceed as specified in clause 5.6.5 of 3GPP TS 23.501 [2].\nThe (T-)AMF shall request the SMF to complete the execution of the handover of the PDU session only for those PDU sessions that successfully completed the handover procedure.\nIf there are PDU sessions that failed to handover due to timeout of SMF responses in any step of the handover preparation phase (e.g. if the Update SM Context Response arrived too late or not at all during the handover preparation phase, see step 7 of clause 4.9.1.3.3 of 3GPP TS 23.502 [3]), then the (T-)AMF shall inform the SMF about this failure, by sending a POST request with the cause attribute set to \"HO_FAILURE\" for every such PDU session, upon receipt of the NGAP HANDOVER NOTIFY. The SMF shall then consider that the PDU session is deactivated and that the handover attempt is terminated for the PDU session. The SMF may subsequently release the PDU session, or the SMF may keep the PDU session with the User Plane deactived by setting the hoState to NONE and deleting any stored targetServingNfId. If the SMF decided to keep the PDU session, the SMF shall forward DL traffic towards the target 5G-AN, i.e. activate the User Plane via the target AMF upon reception of DL traffic. For PDU session with I-SMF insertion, the I-SMF shall handle the HO Failure following the procedure described in clause 5.2.2.8.2.12.\nIf the handover fails completely on the target 5G-AN due to the execution phase not completed successfully (i.e. missing NGAP HANDOVER NOTIFY), the (T-)AMF shall request the SMF to cancel the handover of the PDU session as described in clause 5.2.2.3.4.4.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.3.1",
        "ts_38.413_clause_9.3.4.23",
        "clause_5.2.2.8.2.12",
        "ts_23.501_clause_5.6.5",
        "ts_23.502_clause_4.9.1.3.3",
        "clause_5.2.2.3.4.4",
        "figure_5.2.2.3.4.3-1",
        "ts_38.413",
        "ts_23.501",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.4.4",
      "section_id": "5.2.2.3.4.4",
      "section_title": "N2 Handover Cancellation",
      "content": "The NF Service Consumer (e.g. T-AMF) shall request the SMF to cancel the handover of an existing PDU session, e.g. upon receipt of such a request from the source 5G-AN, as follows.\nFigure 5.2.2.3.4.3-1: N2 Handover Cancellation\n1.\tThe NF Service Consumer shall request the SMF to cancel the execution of the handover of the PDU session by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tupdating the hoState attribute of the individual SM Context resource in the SMF to CANCELLED;\n-\tcause information;\n-\tother information, if necessary.\n2.\tUpon receipt of such a request, the SMF return a 200 OK response including the following information:\n-\thoState attribute set to CANCELLED.\nThe SMF shall cancel the execution of the handover, e.g. release resources reserved for the handover to the target 5G-AN, set the hoState to NONE and delete any stored targetServingNfId. For PDU Session with I-SMF insertion, the I-SMF shall cancel the handover by initiating an Update service operation towards the anchor SMF in order to release resources at the SMF and PSA UPF reserved during handover preparation (see clause 5.2.2.8.2.13).",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.3.1",
        "clause_5.2.2.8.2.13",
        "figure_5.2.2.3.4.3-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.5.1",
      "section_id": "5.2.2.3.5.1",
      "section_title": "General",
      "content": "The handover of a PDU session between 3GPP and untrusted non-3GPP access shall be supported as specified in clause 4.9.2 of 3GPP TS 23.502 [3]. Such a handover may involve:\n-\tthe same AMF, or a target AMF in the same PLMN as the source AMF (see clauses 4.9.2.1, 4.9.2.2, 4.9.2.3.1 and 4.9.2.4.1 of 3GPP TS 23.502 [3]). The Update SM Context service operation is used in these cases; or\n-\ta target AMF in a different PLMN than the source AMF (see clauses 4.9.2.3.2 and 4.9.2.4.2 of 3GPP TS 23.502 [3]). The Create SM Context service operation is used in this case (see clause 5.2.2.2).\nFor a Home-Routed PDU session, the target AMF may be located in the VPLMN, or in the HPLMN when the N3IWF is in the HPLMN.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.502_clause_4.9.2",
        "clause_5.2.2.2",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.5.2",
      "section_id": "5.2.2.3.5.2",
      "section_title": "Handover of a PDU session without AMF change or with target AMF in same PLMN",
      "content": "In these scenarios, the same V-SMF is used before and after the handover.\nThe NF Service Consumer (e.g. AMF) shall request the SMF to handover an existing PDU session from 3GPP access to untrusted non-3GPP access, or vice-versa, as follows.\nFigure 5.2.2.3.5.2-1: Handover between 3GPP and untrusted non-3GPP access\n1.\tThe NF Service Consumer shall request the SMF to handover an existing PDU session from 3GPP access to untrusted non-3GPP access, or vice-versa, by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tupdating the anType attribute of the individual SM Context resource in the SMF to the target access type, i.e. to 3GPP_ACCESS or NON_3GPP_ACCESS;\n-\tother information, if necessary.\n2a.\tSame as step 2a of Figure 5.2.2.3.1-1.\n2b.\tIf the SMF cannot proceed with handing over the PDU session to the target access type, the SMF shall return an error response, as specified for step 2b of figure 5.2.2.3.1-1. For a 4xx/5xx response, the SmContextUpdateError structure shall include the following additional information:\n-\tN1 SM Information to reject the UE request.\nThe anchor SMF may perform Network Slice Admission Control before the PDU Session is moved to the target access (i.e., before the N3 tunnel for the PDU Session is established).",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.3.1",
        "figure_5.2.2.3.5.2-1",
        "figure_5.2.2.3.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.6",
      "section_id": "5.2.2.3.6",
      "section_title": "Inter-AMF change or mobility",
      "content": "The NF Service Consumer (e.g. new AMF) shall inform the SMF that it has taken over the role of serving the UE (e.g. it has taken the responsibility of the signalling towards the UE), when so required by 3GPP TS 23.501 [2] and 3GPP TS 23.502 [3], as follows.\nFigure 5.2.2.3.6-1: Inter-AMF change or mobility\n1.\tThe NF Service Consumer shall update the SMF with the new serving AMF, by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tservingNfId set to the new serving AMF Id;\n-\tthe supportedFeatures IE indicating the features it supports, if at least one feature defined in clause 6.1.8 is supported;\n-\tother information, if necessary, e.g. to activate the user plane connection of the PDU session (see clause 5.2.2.3.2.2).\n2a.\tSame as step 2a of Figure 5.2.2.3.1-1. In addition, the SMF shall include the supportedFeatures IE in the response, if the supportedFeatures IE was received in the request and at least one feature defined in clause 6.1.8 is supported by the updated SM context resource. If the AMF has indicated to activate the user plane connection of the PDU session by setting upCnxState to ACTIVATING in the request message and if the SMF accepts the update of the SmContext of the serving AMF:\n-   \tthe SMF shall include the upCnxState IE and set it to \"DEACTIVATED\", and the cause IE indicating the reason of failure to establish the user plane connection, e.g. INSUFFICIENT_UP_RESOURCES, in the SmContextUpdatedData if it fails to setup the user plane connection; otherwise,\n-\tthe SMF shall include the upCnxState IE and set it to \"ACTIVATING\" and N2 SM information to request the 5G-AN to assign resources to the PDU session in the SmContextUpdatedData as specified in clause 5.2.2.3.2.2 if the SMF can proceed with activating the user plane connection of the PDU session.\n2b.\tSame as step 2b of figure 5.2.2.3.1-1.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.3.1",
        "clause_6.1.8",
        "clause_5.2.2.3.2.2",
        "ts_23.501_figure_5.2.2.3.6-1",
        "figure_5.2.2.3.1-1",
        "ts_23.501",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.7",
      "section_id": "5.2.2.3.7",
      "section_title": "RAN Initiated QoS Flow Mobility",
      "content": "The NF Service Consumer (e.g. AMF) shall request the SMF to transfer QoS flows to and from Secondary RAN node, or more generally, handle a NG-RAN PDU Session Resource Modify Indication, as follows.\nFigure 5.2.2.3.7-1: RAN Initiated QoS Flow Mobility\n1.\tThe NF Service Consumer shall request the SMF to modify the PDU session, as requested by the NG-RAN, by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tN2 SM information received from the 5G-AN (see PDU Session Resource Modify Indication Transfer IE in clause 9.3.4.6 of 3GPP TS 38.413 [9]), including the transport layer information for the QoS flows of this PDU session (i.e. 5G-AN's GTP-U F-TEIDs for downlink traffic);\n-\tother information, if necessary.\n2a.\tUpon receipt of such a request, if the SMF can proceed with switching the QoS flows of the PDU session, the SMF shall return a 200 OK response including the following information:\n-\tN2 SM information (see PDU Session Resource Modify Confirm Transfer IE in clause 9.3.4.7 of 3GPP TS 38.413 [9]), including the list of QoS flows which were modified successfully and the list of QoS flows which failed to be modified if available.\n2b.\tIf the SMF cannot proceed with switching the QoS flows of the PDU session, the SMF shall return an error response, as specified for step 2b of figure 5.2.2.3.1-1, including:\n-\tN2 SM information (see PDU Session Resource Modify Indication Unsuccessful Transfer IE in clause 9.3.4.22 of 3GPP TS 38.413 [9]).",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_5.2.2.3.1",
        "ts_38.413_clause_9.3.4.6",
        "ts_38.413_clause_9.3.4.7",
        "ts_38.413_clause_9.3.4.22",
        "figure_5.2.2.3.7-1",
        "figure_5.2.2.3.1-1",
        "ts_38.413"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.8.1",
      "section_id": "5.2.2.3.8.1",
      "section_title": "General",
      "content": "The NF Service Consumer (e.g. AMF) shall request the SMF to handover a UE EPS PDN connection to 5GS using N26 interface, following the same requirements as specified for N2 handover in clause 5.2.2.3.4 with the modifications specified in this clause.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_5.2.2.3.4"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.8.2",
      "section_id": "5.2.2.3.8.2",
      "section_title": "EPS to 5GS Handover Preparation",
      "content": "The requirements specified in clause 5.2.2.3.4.2 shall apply with the following modifications.\nFigure 5.2.2.3.8.2-1: EPS to 5GS Handover Preparation\n1.\tSame as step 1 of Figure 5.2.2.2.3-1.\n2a.\tSame as step 2 of Figure 5.2.2.2.3-1.\n2b.\tSame as step 2b of figure 5.2.2.3.1-1.\n3.\tSame as step 3 of Figure 5.2.2.3.4.2-1.\n4a.\tSame as step 4 of Figure 5.2.2.3.4.2-1, with the following modifications:The 200 OK response shall not include N2 SM information for DL forwarding tunnel setup, but shall additionally contain:\n-\tthe epsBearerSetup IE(s), containing the list of EPS bearer context(s) successfully handed over to the 5GS and DL data forwarding information, containing either:\n-\tCN tunnel information generated based on the list of accepted QFI(s) received from the 5G-RAN, if indirect data forwarding applies; or\n-\tNG-RAN F-TEID per E-RAB accepted for direct data forwarding, as received from the target NG-RAN, if direct data forwarding applies.\n4b.\tSame as step 2b of figure 5.2.2.3.4.2-1.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.3.4.2",
        "figure_5.2.2.3.8.2-1",
        "figure_5.2.2.2.3-1",
        "figure_5.2.2.3.1-1",
        "figure_5.2.2.3.4.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.8.3",
      "section_id": "5.2.2.3.8.3",
      "section_title": "EPS to 5GS Handover Execution",
      "content": "The requirements specified in clause 5.2.2.3.4.3 shall apply, with the following modifications.\nIn step 1 of Figure 5.2.2.3.4.3-1, the NF Service Consumer, i.e. the target AMF, shall include one or more SecondaryRatUsageDataReportContainer(s) in the SmContextUpdateData for the POST request if it received one or more Secondary RAT Usage Data Report(s) applicable for the PDU session from the source MME.\nIn step 2 of Figure 5.2.2.3.4.3-1, for a Home Routed PDU session, the SMF shall complete the execution of the handover by initiating an Update service operation towards the H-SMF in order to switch the PDU session towards the V-UPF (see clause 5.2.2.8.2.3).\nIf there are PDU sessions that failed to handover due to timeout of SMF responses in any step of the handover preparation phase (e.g. if the Update SM Context Response arrived too late or not at all during the handover preparation phase), then the AMF shall consider that the PDU session will be released by the MME and remove the PDU session context from the UE context. For a HR PDU session or a PDU session with I-SMF, the AMF shall also release the SM Context in the V-SMF or the I-SMF only.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.3.4.3",
        "clause_5.2.2.8.2.3",
        "figure_5.2.2.3.4.3-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.8.4",
      "section_id": "5.2.2.3.8.4",
      "section_title": "EPS to 5GS Handover Cancellation",
      "content": "The requirements specified in clause 5.2.2.3.4.4 shall apply, with the following modifications.\nIn step 2 of Figure 5.2.2.3.4.4-1, for a Home Routed PDU session, the V-SMF shall cancel the handover by initiating an Update service operation towards the H-SMF in order to release resources at H-SMF and H-UPF reserved for handover (see clause 5.2.2.8.2.14).",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.3.4.4",
        "clause_5.2.2.8.2.14",
        "figure_5.2.2.3.4.4-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.8.5",
      "section_id": "5.2.2.3.8.5",
      "section_title": "EPS to 5GS Handover Failure",
      "content": "If the handover to 5GS failed, e.g. rejected by the target NG-RAN, the requirements specified in clause 5.2.2.3.4.4 shall apply, with the following modifications:\n-\tthe hoState attribute set to \"CANCELLED\", to indicate the handover is cancelled;\n-\tthe cause attribute set to \"HO_FAILURE\".\nIn step 2 of Figure 5.2.2.3.4.4-1, for a Home Routed PDU session, the V-SMF shall cancel the handover by initiating an Update service operation towards the H-SMF in order to release resources at H-SMF and H-UPF reserved for handover (see clause 5.2.2.8.2.17).",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.3.4.4",
        "clause_5.2.2.8.2.17",
        "figure_5.2.2.3.4.4-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.9.1",
      "section_id": "5.2.2.3.9.1",
      "section_title": "General",
      "content": "The NF Service Consumer (e.g. AMF) shall request the SMF to setup data forwarding tunnels if direct or indirect data forwarding applies to the 5GS to EPS handover using N26 interface, and to remove the indirect data forwarding tunnels previously established when the handover is cancelled or failed.\nThe AMF should initiate this procedure only if data forwarding is enabled and the MME returns data forwarding F-TEIDs for the related PDN connection context in the Forward Relocation response.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.9.2",
      "section_id": "5.2.2.3.9.2",
      "section_title": "Data forwarding tunnels setup during 5GS to EPS handover",
      "content": "If direct or indirect data forwarding applies to the 5GS to EPS handover, the NF Service Consumer (e.g. AMF) shall provide the SMF with the data forwarding information received from the MME, as specified in clause 4.11.1.2.1 of 3GPP TS 23.502 [3]), as follows.\nFigure 5.2.2.3.9-1: 5GS to EPS Handover using N26 interface (data forwarding tunnels setup)\n1.\tThe NF Service Consumer shall send a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tdataForwarding IE set to true;\n-\tEPS bearer contexts received from the MME in the Forward Relocation Response, including F-TEID(s) for DL data forwarding tunnel(s) towards the target eNB (for direct data forwarding) or towards the forwarding SGW (for indirect data forwarding).\n2a.\tIf indirect data forwarding applies, the SMF shall map the EPS bearers for Data Forwarding to the 5G QoS flows based on the association between the EPS bearer ID(s) and QFI(s) for the QoS flow(s).The SMF shall return a 200 OK response including the following information:\n-\tN2 SM information (see Handover Command Transfer IE in clause 9.3.4.10 of 3GPP TS 38.413 [9]) containing DL forwarding tunnel information to be sent to the source 5G-AN by the AMF if direct or indirect data forwarding applies (see step 11f of clause 4.9.1.3.2 of 3GPP TS 23.502 [3]).\nIf direct data forwarding applies, the DL forwarding tunnel information shall contain the E-UTRAN tunnel info for data forwarding per EPS bearer received from the MME.If indirect data forwarding applies, the DL forwarding tunnel information shall contain the CN transport layer address and tunnel endpoint (i.e. UPF's GTP-U F-TEID) for Data Forwarding and the QoS flows for Data Forwarding for this PDU session.\n2b.\tIf the SMF cannot proceed with the request, the SMF shall return an error response, as specified for step 2b of figure 5.2.2.3.1-1.If none of the EPS bearer contexts received in the POST request body includes an F-TEID for DL data forwarding, the SMF shall return a 403 Forbidden response including a ProblemDetails structure with the \"cause\" attribute set to \"NO_DATA_FORWARDING\". Upon receipt of this response, the AMF shall proceed with the handover procedure (as if data forwarding was disabled).\nNOTE:\tThe above use case can occur if an AMF initiates this procedure without checking whether the MME returns data forwarding F-TEIDs for the related PDN connection context in the Forward Relocation response (e.g. pre-Rel-17 or Rel-17 AMF that does not support such checking).",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.502_clause_4.11.1.2.1",
        "clause_5.2.2.3.1",
        "ts_38.413_clause_9.3.4.10",
        "ts_23.502_clause_4.9.1.3.2",
        "ts_23.502_figure_5.2.2.3.9-1",
        "figure_5.2.2.3.1-1",
        "ts_23.502",
        "ts_38.413"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.9.3",
      "section_id": "5.2.2.3.9.3",
      "section_title": "Indirect data forwarding tunnels removal for 5GS to EPS handover cancellation or failure",
      "content": "During 5GS to EPS handover, if indirect data forwarding tunnel(s) have been previously established during the preparation phase and the handover is cancelled, the AMF shall update the SMF of handover cancellation by sending a POST request with the cause attribute set to \"HO_CANCEL\" and dataForwarding IE set to false with an empty list of EPS bearer contexts. The SMF shall then release the resources prepared for the handover and proceed with the PDU session as if no handover procedure had taken place.\nIf no resources for EPS bearer(s) can be assigned for any PDU session attempted to be handed over, the AMF shall update the SMF with the information that the handover preparation failed by sending a POST request with the cause attribute set to \"HO_FAILURE\" and with an empty list of EPS bearer contexts (and without the dataForwarding IE). The SMF shall then release the resources prepared for the handover and proceed with the PDU session as if no handover procedure had taken place.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.10",
      "section_id": "5.2.2.3.10",
      "section_title": "P-CSCF Restoration Procedure via AMF",
      "content": "The requirements specified in clause 5.2.2.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.3.1-1, with the following modifications.\nThe POST request shall contain:\n-\tthe release IE set to true;\n-\tthe cause IE set to REL_DUE_TO_REACTIVATION.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_5.2.2.3.1",
        "figure_5.2.2.3.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.11",
      "section_id": "5.2.2.3.11",
      "section_title": "AMF requested PDU Session Release due to duplicated PDU Session Id",
      "content": "When the AMF receives an \"initial request\" with PDU Session Id which already exists in PDU session context of the UE (see clause 5.4.5.2.5 of 3GPP TS 24.501 [7]), the AMF shall request the SMF to release the existing PDU Session; upon subsequent receipt of an SM context status notification indicating that the SM context has been deleted in the SMF, the AMF shall release the stored context for the PDU session and proceed with the \"initial request\" with the PDU Session Id.\nThe requirements for releasing the existing PDU Session specified in clause 5.2.2.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.3.1-1, with the following modifications.\nThe POST request shall contain:\n-\tthe release IE set to true;\n-\tthe cause IE set to REL_DUE_TO_DUPLICATE_SESSION_ID.\nWhen the SMF receives the request from AMF, the SMF shall start the PDU Session Release procedure to release all the associated resources in UPF, PCF, CHF, and UDM. If the UP connection of the existing PDU session is active, the SMF should also request (R)AN to release associated resources.\nNOTE:\tThe SMF does not send NAS signaling to UE for the PDU session release in this procedure.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_24.501_clause_5.4.5.2.5",
        "clause_5.2.2.3.1",
        "figure_5.2.2.3.1-1",
        "ts_24.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.12",
      "section_id": "5.2.2.3.12",
      "section_title": "AMF requested PDU Session Release due to slice not available",
      "content": "If a network slice is detected as not available (e.g. due to slice congestion or operational disable the slice), the NF Service Consumer (i.e. AMF) shall use this procedure to release the PDU session associated to the unavailable network slice. Such handling of PDU session release may also happen in network slice replacement procedure if the AMF determines the PDU session cannot be retained with the alternative S-NSSAI due to certain reason (e.g. V-SMF/I-SMF cannot support the alternative S-NSSAI) (see clause 4.3.3.3 of 3GPP TS 23.502 [3]).\nThe requirements specified in clause 5.2.2.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.3.1-1, with the following modifications.\nThe POST request shall contain:\n-\tthe release IE set to true;\n-\tthe cause IE set to S_NSSAI_CONGESTION or REL_DUE_TO_SLICE_NOT_AVAILABLE;\n-\toptionally the skipN2PduSessionResRelInd IE with the value \"true\" to skip RAN resources release for the PDU session, e.g. for a PDU session with active UP associated with a slice that is no longer available after a handover.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.502_clause_4.3.3.3",
        "clause_5.2.2.3.1",
        "figure_5.2.2.3.1-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.13",
      "section_id": "5.2.2.3.13",
      "section_title": "Indirect Data Forwarding Tunnel establishment during N2 based Handover with I-SMF",
      "content": "During N2 based handover with I-SMF insertion/change/removal, the NF Service Consumer (e.g. target I-SMF) shall use this procedure to exchange N3/N9 forwarding tunnel information with the NF Service Producer (e.g. source I-SMF).\nThe NF Service Consumer (e.g. target I-SMF) shall request the SMF to establish one or more downlink and/or uplink indirect data forwarding tunnels, as follows.\nFigure 5.2.2.3.13-1: Indirect Data Forwarding Tunnel establishment during N2 based Handover with I-SMF\n1.\tThe NF Service Consumer shall send a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tdataForwarding attribute set to true, for the N2 based handover with I-SMF insertion/change/removal;\n-\tn9DlForwardingTnlList attribute carrying the N9 downlink indirect data forwarding tunnel(s) info of target I-UPF;\n-\tn9UlForwardingTnlList attribute carrying the N9 uplink indirect data forwarding tunnel(s) info of target I-UPF;\n-\tother information, if necessary.\n2a.\tSame as step 2a of Figure 5.2.2.3.1-1, with the following information:\n-\tn3DlForwardingTnlList attribute carrying the N3 downlink indirect data forwarding tunnel(s) info of source I-UPF or source UPF;\n-\tn3UlForwardingTnlList attribute carrying the N3 uplink indirect data forwarding tunnel(s) info of source I-UPF or source UPF;\n-\tother information, if necessary.\n2b.\tIf the source SMF cannot proceed with the request, the source I-SMF shall return an error response, as specified for step 2b of figure 5.2.2.3.1-1.\n5.2.2.3.13A\tIndirect Data Forwarding Tunnel removal during N2 based Handover with I-SMF\nDuring N2 based handover cancellation with I-SMF insertion/change/removal, the NF Service Consumer (e.g. target I-SMF) shall use this procedure to remove previously established Indirect Data Forwarding Tunnel(s) at NF Service Producer (e.g. source I-SMF).\nThe NF Service Consumer (e.g. target I-SMF) shall request the NF service producer to remove the established Indirect Data Forwarding Tunnel(s), as follows.\nFigure 5.2.2.3.13A-1: Indirect Data Forwarding Tunnel Removal during N2 based Handover with I-SMF\n1.\tThe NF Service Consumer shall send a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tdataForwarding attribute set to false;\n-\tother information, if necessary.\n2a.\tIf successful, the SMF shall return a 204 No Content response.\n2b.\tIf the SMF cannot proceed with the request, the SMF shall return an error response, as specified for step 2b of figure 5.2.2.3.1-1.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.3.1",
        "figure_5.2.2.3.13-1",
        "figure_5.2.2.3.1-1",
        "figure_5.2.2.3.13"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.14",
      "section_id": "5.2.2.3.14",
      "section_title": "Request to forward buffered downlink data packets at I-UPF",
      "content": "For I-SMF change or I-SMF removal when downlink data packets are buffered at the I-UPF, the new I-SMF (for I-SMF change) or SMF (for I-SMF removal) shall request the (old) I-SMF to forward buffered downlink data packets as following:\nFigure 5.2.2.3.14-1: Request to forward buffered downlink data packets at I-UPF\n1.\tThe NF Service Consumer shall send a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tn9ForwardingTunnel IE indicating the allocated tunnel endpoints information to receive the buffered downlink data packets.\n2a.\tOn success, the SMF shall initiate N4 session modification to the I-UPF trigger the sending of buffered DL data towards received tunnel endpoints and shall return \"204 No Content\" response.\n2b.\tIf the SMF cannot proceed with the request, the SMF shall return an error response, as specified for step 2b of figure 5.2.2.3.1-1.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.3.1",
        "figure_5.2.2.3.14-1",
        "figure_5.2.2.3.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.15",
      "section_id": "5.2.2.3.15",
      "section_title": "Connection Suspend procedure",
      "content": "The procedures specified in this clause and clause 5.2.2.3.16 are to support the Connection Suspend and Connection Resume in CM-IDLE with Suspend procedures as specified in clauses 4.8.1.2 and 4.8.2.3 of 3GPP TS 23.502 [3]. These procedures are used to support the User Plane CIoT 5GS Optimisation feature for E-UTRAN access as specified in clauses 5.31.1 and 5.31.18 of 3GPP TS 23.501 [2].\nThe NF Service Consumer (e.g. AMF) shall request the SMF to suspend the User Plane connection of an existing PDU session if the SMF support the UPCSMT feature, as follows.\nFigure 5.2.2.3.15-1: Connection Suspend\n1.\tThe NF Service Consumer shall request the SMF to suspend the user plane connection of the PDU session by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tupCnxState attribute set to SUSPENDED;\n-\tuser location and user location timestamp;\n-\tN2 SM information received from the 5G-AN, including UE Context Suspend Request Transfer IE, if available;\n-\tother information, if necessary.\n2.\tUpon receipt of such a request, the SMF shall deactivate the N3 tunnel of the PDU session, set the upCnxState attribute to SUSPENDED and return a 200 OK response including the upCnxState attribute set to SUSPENDED. The SMF shall store the N3 tunnel info (including both AN Tunnel Info and the CN Tunnel Info), and upon receiving subsequent DL Data report from the UPF, the SMF will invoke the Namf_MT EnableUEReachability service operation to trigger the AMF to page the UE.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_5.2.2.3.16",
        "clause_5.2.2.3.1",
        "figure_5.2.2.3.15-1",
        "ts_23.502",
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.16",
      "section_id": "5.2.2.3.16",
      "section_title": "Connection Resume in CM-IDLE with Suspend procedure",
      "content": "The NF Service Consumer (e.g. AMF) shall request the SMF to resume the User Plane connection of an existing PDU session, i.e. establish the N3 tunnel between the 5G-AN and UPF, as follows.\nFigure 5.2.2.3.16-1: Connection Resume in CM-IDLE with Suspend\n1.\tThe NF Service Consumer shall request the SMF to resume the user plane connection of the PDU session by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tthe upCnxState attribute set to ACTIVATING;\n-\tuser location and user location timestamp;\n-\tcause attribute set to \"PDU_SESSION_RESUMED\";\n-\tN2 SM information received from the 5G-AN, i.e. Path Switch Request Transfer including the new transport layer address and tunnel endpoint of the downlink termination point for the user data for this PDU session (i.e. 5G-AN's GTP-U F-TEID for downlink traffic), or UE Context Resume Request Transfer;\n-\tadditional N2 SM information received from the 5G-AN, if any;\n-\tthe \"MO Exception Data Counter\" if the UE has accessed the network by using \"MO exception data\" RRC establishment cause;\n-\tother information, if necessary.\n2a.\tIf the SMF can proceed with resuming the user plane connection of the PDU session, the SMF shall return a 200 OK response including the following information:\n-\tthe upCnxState attribute set to ACTIVATED;\n-\tN2 SM information, i.e. Path Switch Response Transfer including the transport layer address and tunnel endpoint of the uplink termination point for the user data for this PDU session (i.e. UPF's GTP-U F-TEID for uplink traffic), or UE Context Resume Response Transfer.\nIf the \"MO Exception Data Counter is included in the request and Small Data Rate Control is enabled for the PDU session, the V-SMF shall update the H-SMF (see clause 5.2.2.8.2.2) for HR PDU Session (or I-SMF shall update the SMF for PDU session with I-SMF).\n2b.\tIf the SMF cannot proceed with resuming the user plane connection of the PDU session, the SMF shall return an error response, as specified for step 2b of figure 5.2.2.3.1-1, including:\n-\tthe upCnxState attribute representing the final state of the user plane connection (e.g. SUSPENDED);\n-\tN2 SM information, including the cause of the failure.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_5.2.2.3.1",
        "clause_5.2.2.8.2.2",
        "figure_5.2.2.3.16-1",
        "figure_5.2.2.3.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.17",
      "section_id": "5.2.2.3.17",
      "section_title": "AMF requested PDU Session Release due to Network Slice-Specific Authentication and Authorization failure or revocation",
      "content": "The requirements specified in clause 5.2.2.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.3.1-1, with the following modifications.\nThe POST request shall contain:\n-\tthe release IE set to true;\n-\tthe cause IE set to REL_DUE_TO_SLICE_NOT_AUTHORIZED.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.3.1",
        "figure_5.2.2.3.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.18",
      "section_id": "5.2.2.3.18",
      "section_title": "5GS to EPS Idle mode mobility using N26 interface with data forwarding",
      "content": "The NF Service Consumer (e.g. AMF) shall request the SMF to forward buffered DL data towards the EPS during a 5GS to EPS Idle mode mobility using N26 interface with data forwarding (see 4.11.1.3.2A of 3GPP TS 23.502 [3]), as follows.\nFigure 5.2.2.3.18-1: 5GS to EPS Idle mode mobility using N26 interface with data forwarding\n1.\tThe NF Service Consumer shall send a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tforwardingFTeid received from the MME in the Context Acknowdge, if any; or\n-\tforwarding bearer contexts received from the MME in Context Acknowdge, if any.\n2a.\tUpon receipt of such a request, the SMF shall forward the buffered DL data on the forwarding tunnel(s).\n2b.\tIf the SMF cannot proceed with the request, the SMF shall return an error response, as specified for step 2b of figure 5.2.2.3.1-1.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.3.1",
        "ts_23.502_figure_5.2.2.3.18-1",
        "figure_5.2.2.3.1-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.19",
      "section_id": "5.2.2.3.19",
      "section_title": "AMF requested PDU Session Release due to Control Plane Only indication associated with PDU Session is not applicable any longer",
      "content": "The requirements specified in clause 5.2.2.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.3.1-1, with the following modifications.\nThe POST request shall contain:\n-\tthe release IE set to true;\n-\tthe cause IE set to REL_DUE_TO_CP_ONLY_NOT_APPLICABLE.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.3.1",
        "figure_5.2.2.3.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.20",
      "section_id": "5.2.2.3.20",
      "section_title": "AMF requested PDU Session Release due to ODB changes",
      "content": "The requirements specified in clause 5.2.2.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.3.1-1, with the following modifications.\nThe POST request shall contain:\n-\tthe release IE set to true;\n-\tthe cause IE set to REL_DUE_TO_SUBSCRIPTION_CHANGE.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.3.1",
        "figure_5.2.2.3.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.21",
      "section_id": "5.2.2.3.21",
      "section_title": "N9 Forwarding Tunnel establishment between Branching Points or UL CLs controlled by different I-SMFs",
      "content": "During simultaneous change of Branching Points or UL CLs controlled by different I-SMFs, the NF Service Consumer (e.g. target I-SMF) shall use this procedure to exchange N9 forwarding tunnel information with the NF Service Producer (e.g. source I-SMF).\nThe NF Service Consumer (e.g. target I-SMF) shall request the source I-SMF to establish one downlink and/or one uplink N9 data forwarding tunnels, as follows.\nFigure 5.2.2.3.21-1: N9 Forwarding Tunnel establishment between Branching Points or UL CLs controlled by different I-SMFs\n1.\tThe NF Service Consumer shall send a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tdataForwarding attribute set to true, for the N9 Forwarding Tunnel establishment between Branching Points or UL CLs controlled by different I-SMFs;\n-\tn9DlForwardingTunnel attribute carrying the N9 downlink data forwarding tunnel info of target Branching Point or UL CL;\n-\tother information, if necessary.\n2a.\tSame as step 2a of Figure 5.2.2.3.1-1, with the following information:\n-\tn9UlForwardingTunnel attribute carrying the N9 uplink data forwarding tunnel info of source Branching Point or UL CL;\n-\tother information, if necessary.\n2b.\tIf the source I-SMF cannot proceed with the request, the source I-SMF shall return an error response, as specified for step 2b of figure 5.2.2.3.1-1.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.3.1",
        "figure_5.2.2.3.21-1",
        "figure_5.2.2.3.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.22",
      "section_id": "5.2.2.3.22",
      "section_title": "Remote UE Report during 5G ProSe Communication via 5G ProSe Layer-3 UE-to-Network Relay without N3IWF procedure",
      "content": "The requirements specified in clause 5.2.2.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.3.1-1, with the following modifications.\nThe POST request shall contain:\n-\tthe n1SmMsg IE containing the Remote UE Report NAS Message.\nFor Home-Routed PDU Session or PDU session with I-SMF, the V-SMF or I-SMF shall invoke the Update service operation on the (H-)SMF, as specified in clause 5.2.2.8.2.24.\n2.\tSame as step 2 of Figure 5.2.2.3.1-1, with the following modifications.\nThe POST response shall contain:\n-\tthe n1SmMsg IE containing the Remote UE Report Response NAS Message.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_5.2.2.3.1",
        "clause_5.2.2.8.2.24",
        "figure_5.2.2.3.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.23",
      "section_id": "5.2.2.3.23",
      "section_title": "AMF requested PDU Session Release due to V/I-SMF failure",
      "content": "The AMF may request PDU Session Release towards an alternative V/I-SMF in the same SMF Set when it detects the V/I-SMF has failed and if the V/I-SMF supports the DLSET feature while the (H-)SMF doesn't support the PSETR feature as specified in clause 6.8.2 of 3GPP TS 23.527 [24]. When the AMF sends an Update SM Context Request, the requirements specified in clause 5.2.2.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.3.1-1, with the following modifications.\nThe POST request shall contain:\n-\tthe release IE set to true;\n-\tthe cause IE set to REL_DUE_TO_SMF_NOT_SUPPORT_PSETR.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.527_clause_6.8.2",
        "clause_5.2.2.3.1",
        "figure_5.2.2.3.1-1",
        "ts_23.527"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.24",
      "section_id": "5.2.2.3.24",
      "section_title": "Connection Inactive procedure with CN based MT communication handling",
      "content": "The NF Service Consumer (e.g. AMF) shall request the SMF to apply CN based MT communication handling as specified in clauses 4.8.1.1a and 4.8.2.2b of 3GPP TS 23.502 [3] when the AMF is notified by the NG-RAN that the NG-RAN has transited the UE using eDRX to RRC_INACTIVE state and the SMF supports the UPCSMT feature (see clause 6.1.8).\nFigure 5.2.2.3.24-1: NG-RAN initiated Connection Inactive procedure\n1.\tThe NF Service Consumer shall request the SMF to suspend the user plane connection of the PDU session by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tcnBasedMt is set to \"true\"\n-\tupCnxState attribute set to SUSPENDED;\n-\tuser location and user location timestamp;\n-\tother information, if necessary.\nNOTE:\tAs an implementation option, the AMF can force the UE to enter CM Idle if the SMF does not support the UPCSMT feature.\n2a.\tUpon receipt of such a request, the SMF shall keep the NG-RAN N3 DL F-TEID and set the upCnxState attribute to SUSPENDED and return a 200 OK response including the upCnxState attribute set to SUSPENDED. The SMF will request the UPF to buffer any subsequent downlink data and report the receiving DL data to the SMF. Upon receiving DL data report, the SMF will invoke the Namf_MT_EnableUEReachability service operation when the upCnxState of the PDU session is set to SUSPENDED, to trigger a NG-RAN paging.\n2b.\tSame as step 2b of figure 5.2.2.3.1-1.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_6.1.8",
        "clause_5.2.2.3.1",
        "figure_5.2.2.3.24-1",
        "figure_5.2.2.3.1-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.25",
      "section_id": "5.2.2.3.25",
      "section_title": "UE Triggered Connection Resume in RRC Inactive procedure",
      "content": "Upon receiving a notification from NG-RAN that the UE is in RRC_CONNECTED mode or when receiving from NG-RAN a MT Communication Handling request indicating the UE is now reachable for downlink data and/or signalling as specified in clause 4.8.2.2 of 3GPP TS 23.502 [3], the NF Service Consumer (e.g. AMF) shall request the SMF to resume the User Plane connection of an existing PDU session, i.e. establish the N3 tunnel between the 5G-AN and UPF, as follows.\nFigure 5.2.2.3.25-1: UE Triggered Connection Resume in RRC Inactive\n1.\tThe NF Service Consumer shall request the SMF to resume the user plane connection of the PDU session by sending a POST request, as specified in clause 5.2.2.3.1, with the following information:\n-\tthe upCnxState attribute set to ACTIVATING;\n-\tuser location and user location timestamp;\n-\tcause attribute set to \"PDU_SESSION_RESUMED\";\n-\tN2 SM information received from the 5G-AN if the accessed 5G-AN is able to retrieve the UE Context and the accessed 5G-AN node initiates N2 Path Switch procedure, i.e. the Path Switch Request Transfer including the new transport layer address and tunnel endpoint of the downlink termination point for the user data for this PDU session (i.e. 5G-AN's GTP-U F-TEID for downlink traffic);\n-\tadditional N2 SM information received from the 5G-AN, if any;\n-\tother information, if necessary.\n2a.\tIf the SMF can proceed with resuming the user plane connection of the PDU session, i.e. request the UPF to forward any received DL data to the NG-RAN DL F-TEID which is stored in the SMF when the SMF is requested to apply CN based MT handling, the SMF shall return a 200 OK response including the following information:\n-\tthe upCnxState attribute set to ACTIVATED;\n-\tN2 SM information to 5G-AN if N2 SM information with Path Switch Request Transfer is received in the request, i.e. Path Switch Response Transfer including the transport layer address and tunnel endpoint of the uplink termination point for the user data for this PDU session (i.e. UPF's GTP-U F-TEID for uplink traffic).\n2b.\tIf the SMF cannot proceed with resuming the user plane connection of the PDU session, the SMF shall return an error response, as specified for step 2b of figure 5.2.2.3.1-1, including:\n-\tthe upCnxState attribute representing the final state of the user plane connection (e.g. DEACTIVATED);\n-\tN2 SM information, including the cause of the failure.",
      "chunk_type": "procedure",
      "cross_references": [
        "ts_23.502_clause_4.8.2.2",
        "clause_5.2.2.3.1",
        "figure_5.2.2.3.25-1",
        "figure_5.2.2.3.1-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.26",
      "section_id": "5.2.2.3.26",
      "section_title": "AMF requested PDU Session Release due to Network Slice instance not available",
      "content": "The requirements specified in clause 5.2.2.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.3.1-1, with the following modifications.\nThe POST request shall contain:\n-\tthe release IE set to true;\n-\tthe cause IE set to \"REL_DUE_TO_NSI_NOT_AVAILABLE\".",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.3.1",
        "figure_5.2.2.3.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.3.27",
      "section_id": "5.2.2.3.27",
      "section_title": "AMF requested PDU Session Release due to MBSR not authorized",
      "content": "The requirements specified in clause 5.2.2.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.3.1-1, with the following modifications.\nThe POST request shall contain:\n-\tthe release IE set to true;\n-\tthe cause IE set to \"REL_DUE_TO_MBSR_NOT_AUTHORIZED\".",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.3.1",
        "figure_5.2.2.3.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.4.1",
      "section_id": "5.2.2.4.1",
      "section_title": "General",
      "content": "The Release SM Context service operation shall be used to release the SM Context of a given PDU session, in the SMF, in the V-SMF for HR roaming scenarios, or in the I-SMF for a PDU session with an I-SMF, in the following procedures:\n-\tRegistration procedure with I-SMF/V-SMF change and removal (see clause 4.23.3 of 3GPP TS 23.502 [3]);\n-\tUE Triggered Service Request with I-SMF change and removal or V-SMF change (see clause 4.23.4.3 of 3GPP TS 23.502 [3]);\n-\tUE initiated Deregistration (see clause 4.2.2.3.2 of 3GPP TS 23.502 [3]);\n-\tNetwork initiated Deregistration, e.g. AMF initiated deregistration (see clause 4.2.2.3.3 of 3GPP TS 23.502 [3]), UDM triggered deregistration by sending Deregistration notification with initial Registration indication (see clause 4.2.2.2.2 of 3GPP TS 23.502 [3]);\n-\tNetwork requested PDU session release (see clause 4.3.4.2 of 3GPP TS 23.502 [3]), e.g. AMF initiated release:\n-\twhen there is a mismatch of the PDU session status between the UE and the;\n-\twhen there is a change of the set of network slices for a UE where a network slice instance is no longer available (as described in clause 5.15.5.2.2 of 3GPP TS 23.501 [2] and in clause 4.2.2.2 of 3GPP TS 23.502 [3]) and the PDU session is not activated;\n-\twhen there is a PDU session rejected by the new AMF to the old AMF during Registration procedure (as described in clause 4.2.2.2.2 of 3GPP TS 23.502 [3]); or\n-\tdue to Mobility or Access Restrictions (see clause 5.16.4.3 of 3GPP TS 23.501 [2]).\n-\t5GS to EPS Idle mode mobility or handover, to release the SM context in the V-SMF only for a Home Routed PDU session or in the I-SMF only for a PDU session with an I-SMF (see clauses 4.23.12.2 and 4.23.12.6 of 3GPP TS 23.502 [3]), for the PDU sessions that are transferred to EPC;\n-\t5GS to EPS handover using N26 interface and 5GS to EPS Idle mode mobility using N26, to release the PDU session not transferred to EPC (see clauses 4.11.1.2.1 and 4.11.1.3.2 of 3GPP TS 23.502 [3]);\n-\tInter NG-RAN node Xn based handover and N2 based handover with I-SMF change and removal;\n-\t5G-SRVCC from NG-RAN to 3GPP UTRAN procedure (see clause 6.5.4 of 3GPP TS 23.216 [35]);\n-\t5G-RG Deregistration via W-5GAN (see clause 7.2.1.2 of 3GPP TS 23.316 [36]);\n-\tFN-RG Deregistration via W-5GAN (see clause 7.2.1.4 of 3GPP TS 23.316 [36]);\n-\tNon-5G capable device behind 5G-CRG and FN-CRG Deregistration via W-5GAN (see clause 4.10a of 3GPP TS 23.316 [36]);\n-\t5G-RG or Network requested PDU Session Release via W-5GAN (see clause 7.3.3 of 3GPP TS 23.316 [36]);\n-\tFN-RG or Network Requested PDU Session Release via W-5GAN (see clause 7.3.7 of 3GPP TS 23.316 [36]);\n-\tNon-5G capable device behind 5G-CRG and FN-CRG or Network Requested PDU Session Release via W-5GAN (see clause 4.10a of 3GPP TS 23.316 [36]);\n-\tMobility procedures with AMF changes (e.g. Registration / N2 based handover with AMF changes), to release the MA-PDU session if target AMF does not support MA-PDU session (see clause 4.22.9 of 3GPP TS 23.502 [3]);\n-\tInter V-SMF mobility registration update or N2-based handover with V-SMF change/removal in HR-SBO case (see clauses 6.7.2.6 and 6.7.2.7 of 3GPP TS 23.548 [39]);\n-\tXn Handover with V-SMF change in HR-SBO case (see clause 6.7.2.9 of 3GPP TS 23.548 [39]).\nThe SMF shall release the SM context without sending any signalling towards the 5G-AN and the UE.\nThe NF Service Consumer (e.g. AMF) shall release the SM Context of a given PDU session by using the HTTP \"release\" custom operation as shown in Figure 5.2.2.4.1-1.\nFigure 5.2.2.4.1-1: SM context release\n1.\tThe NF Service Consumer shall send a POST request to the resource representing the individual SM context to be deleted. The content of the POST request shall contain any data that needs to be passed to the SMF and/or N2 SM information (if Secondary RAT usage data needs to be reported).For a 5GS to EPS Idle mode mobility or handover, for a Home Routed PDU session associated with 3GPP access and with assigned EBI(s), the POST request shall contain the vsmfReleaseOnly indication; for a PDU session with an I-SMF and assigned EBI(s), the POST request shall contain the ismfReleaseOnly indication.\nFor a 5GS to EPS Idle mode mobility or handover, for a Home Routed PDU session associated with 3GPP access and with no assigned EBI(s), the POST request shall not contain the vsmfReleaseOnly indication to release the PDU session in the V-SMF and H-SMF; for a PDU session with an I-SMF and with no assigned EBI(s), the POST request shall not contain the ismfReleaseOnly indication to release the PDU session in the I-SMF and SMF.\nFor Registration, UE Triggered Service Request, Inter NG-RAN node Xn based handover and N2 based handover procedures with I-SMF change or removal, the POST request shall contain the ismfReleaseOnly indication; if with V-SMF change or removal, the POST request shall contain the vsmfReleaseOnly indication.\nFor 5G-SRVCC from NG-RAN to 3GPP UTRAN, the POST request body shall contain the \"cause\" attribute with the value \"REL_DUE_TO_PS_TO_CS_HO\".\nFor PDU Session release due to S-NSSAI is removed from Allowed NSSAI and no N2 interaction is needed (i.e. UP connection of the PDU Session is not active) as specified in clause 4.2.2.2.2 of 3GPP TS 23.502 [3], the POST request body shall contain the \"cause\" attribute with the value \"REL_DUE_TO_SLICE_NOT_AVAILABLE\".\n2a.\tOn success, the SMF shall return a \"200 OK\" with message body containing the representation of the SmContextReleasedData when information needs to be returned to the NF Service Consumer, or a \"204 No Content\" response with an empty content in the POST response.\nIf the POST request contains a vsmfReleaseOnly indication (i.e. for a 5GS to EPS Idle mode mobility or handover, for a Home Routed PDU session with assigned EBI(s)), the V-SMF shall release its SM context and corresponding PDU session resource locally, i.e. without signalling towards the H-SMF.\nIf the POST request contains an ismfReleaseOnly indication (i.e. for a 5GS to EPS Idle mode mobility or handover, for a PDU session with an I-SMF and assigned EBI(s)), the I-SMF shall release its SM context and corresponding PDU session resource locally, i.e. without signalling towards the SMF.\nIf the POST request body contains the \"cause\" attribute with the value \"REL_DUE_TO_PS_TO_CS_HO\", the SMF shall indicate to the PCF within SM Policy Association termination that the PDU session is released due to 5G-SRVCC, or the cause value shall be passed from the V-SMF to the H-SMF (for a HR PDU session) or from the I-SMF to the SMF (for a PDU session with an I-SMF) within the Release service operation.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.3.4.3.2-2 shall be returned. For a 4xx/5xx response, the message body shall include a ProblemDetails structure with the \"cause\" attribute set to one of the application error listed in Table 6.1.3.3.4.3.2-2.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.502_clause_4.23.3",
        "ts_23.502_clause_4.23.4.3",
        "ts_23.502_clause_4.2.2.3.2",
        "ts_23.502_clause_4.2.2.3.3",
        "ts_23.502_clause_4.2.2.2.2",
        "ts_23.502_clause_4.3.4.2",
        "ts_23.501_clause_5.15.5.2.2",
        "ts_23.501_clause_4.2.2.2",
        "ts_23.501_clause_5.16.4.3",
        "ts_23.216_clause_6.5.4",
        "ts_23.316_clause_7.2.1.2",
        "ts_23.316_clause_7.2.1.4",
        "ts_23.316_clause_4.10",
        "ts_23.316_clause_7.3.3",
        "ts_23.316_clause_7.3.7",
        "ts_23.502_clause_4.22.9",
        "ts_23.548_clause_6.7.2.9",
        "table_6.1.3.3.4.3.2-2",
        "figure_5.2.2.4.1-1",
        "ts_23.502_clause_4.2.2.2",
        "ts_23.502",
        "ts_23.501",
        "ts_23.216",
        "ts_23.316",
        "ts_23.548"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.5.1",
      "section_id": "5.2.2.5.1",
      "section_title": "General",
      "content": "The Notify SM Context Status service operation shall be used by the SMF to notify the NF Service Consumer about the status of an SM context related to a PDU session (e.g. when the SM context is released and the release is not triggered by a Release SM Context Request, or when the SM context is moved to another system, or when the control of the PDU session is taken over by another I-SMF/V-SMF/SMF in the same SMF set) in the SMF, or in the V-SMF for HR roaming scenarios, or in the I-SMF for a PDU session with an I-SMF.\nThe Notify SM Context Status service operation may also be used by the SMF to provide the SMF derived CN assisted RAN parameters tuning to the NF Service Consumer (e.g. AMF), if the NF Service Consumer has indicated support of the CARPT (CN Assisted RAN Parameters Tuning) feature.\nThe Notify SM Context Status service operation may also be used by the SMF to notify the DDN failure status.\nThe Notify SM Context Status service operation may also be used to inform the NF service consumer (e.g. AMF) that the V-SMF has created the PDU session towards an alternative H-SMF for a HR PDU session or the I-SMF has created the PDU session towards an alternative SMF for a PDU session with I-SMF, during the PDU session establishment procedure.\nIt is used in the following procedures:\n-\tUE requested PDU Session Establishment procedure, when the PDU session establishment fails after the Create SM Context response or to provide the SMF derived CN assisted RAN parameters tuning, or when an alternative H-SMF is used by the V-SMF for a HR PDU session (see clause 4.3.2.2 of 3GPP TS 23.502 [3]), or when an alternative SMF is used by the I-SMF for a PDU session with an I-SMF (see clause 4.23.5.1 of 3GPP TS 23.502 [3]);\n-\tUE or Network requested PDU session Modification (see clause 4.3.3.2 of 3GPP TS 23.502 [3]) to provide the SMF derived CN assisted RAN parameters tuning;\n-\tUE or Network requested PDU session release (see clause 4.3.4.2 of 3GPP TS 23.502 [3]), e.g. SMF initiated release;\n-\tHandover of a PDU Session procedure between untrusted non-3GPP to 3GPP access (see clauses 4.9.2.3.2,  4.9.2.4.2 and 4.23.16.2 of 3GPP TS 23.502 [3]);\n-\tInterworking procedures without N26 interface, e.g. 5GS to EPS Mobility (see clause 4.11.2.2 of 3GPP TS 23.502 [3]);\n-\tHandover from 5GC-N3IWF to EPS (see clause 4.11.3.2 of 3GPP TS 23.502 [3]);\n-\tHandover from 5GS to EPC/ePDG (see clause 4.11.4.2 of 3GPP TS 23.502 [3]);\n-\tI-SMF Context Transfer (see clause 4.26.5.2 of 3GPP TS 23.502 [3]);\n-\tSMF Context Transfer procedure, LBO or no Roaming, no I-SMF (see clause 4.26.5.3 of 3GPP TS 23.502 [3]);\n-\tHandover from W-5GAN/5GC to 3GPP access/EPS (see clause 7.6.4.2 of 3GPP TS 23.316 [36]);\n-\t5G-RG requested PDU Session Establishment via W-5GAN (see clause 7.3.1 of 3GPP TS 23.316 [36]);\n-\t5G-RG or Network requested PDU Session Modification via W-5GAN (see clause 7.3.2 of 3GPP TS 23.316 [36]);\n-\t5G-RG or Network requested PDU Session Release via W-5GAN (see clause 7.3.3 of 3GPP TS 23.316 [36])\n-\tFN-RG related PDU Session Establishment via W-5GAN (see clause 7.3.4 of 3GPP TS 23.316 [36]);\n-\tFN-RG or Network Requested PDU Session Modification via W-5GAN (see clause 7.3.6 of 3GPP TS 23.316 [36]);\n-\tFN-RG or Network Requested PDU Session Release via W-5GAN (see clause 7.3.7 of 3GPP TS 23.316 [36]);\n-\tNon-5G capable device behind 5G-CRG and FN-CRG requested PDU Session Establishment via W-5GAN (see clause 4.10a of 3GPP TS 23.316 [36]);\n-\tNon-5G capable device behind 5G-CRG and FN-CRG or Network requested PDU Session Modification via W-5GAN (see clause 4.10a of 3GPP TS 23.316 [36]);\n-\tNon-5G capable device behind 5G-CRG and FN-CRG or Network requested PDU Session Release via W-5GAN (see clause 4.10a of 3GPP TS 23.316 [36]);\n-\tHandover between 3GPP access/5GC and W-5GAN access (see clause 7.6.3 of 3GPP TS 23.316 [36]);\n-\tHandover from 3GPP access/EPS to W-5GAN/5GC (see clause 7.6.4.1 of 3GPP TS 23.316 [36]);\n-\tInformation flow for Availability after DDN Failure with SMF buffering (see clause 4.15.3.2.7 of 3GPP TS 23.502 [3]);\n-\tInformation flow for Availability after DDN Failure with UPF buffering (see clause 4.15.3.2.9 of 3GPP TS 23.502 [3]);\n-\tThe control of the PDU session is taken over by a new anchor SMF within the same SMF set (see clause 5.22 of 3GPP TS 29.244 [29]) or taken over by a new intermediate SMF (e.g. I-SMF or V-SMF) within the same SMF set, and the new SMF instance decides to notify the change of SMF;\n-\tSMF triggered I-SMF selection or removal (see clause 4.23.5.4 of 3GPP TS 23.502 [3]);\n-\tChange of SSC mode 2 PDU Session Anchor with different PDU Sessions (see clause 4.3.5.1 of 3GPP TS 23.502 [3]);\n-\tChange of SSC mode 3 PDU Session Anchor with multiple PDU Sessions (see clause 4.3.5.2 of 3GPP TS 23.502 [3]);\n-\tNetwork triggered EAS change in HR-SBO context (see clause 6.7.3.2 of 3GPP TS 23.548 [74]);\n-\tNetwork slice usage behaviour control, i.e. SMF initiated PDU session release due to slice inactivity, see clause 5.15.15.3 of 3GPP TS 23.501 [2].\nThe SMF shall notify the NF Service Consumer by using the HTTP POST method as shown in Figure 5.2.2.5.1-1.\nFigure 5.2.2.5.1-1: SM context status notification\n1.\tThe SMF shall send a POST request to the SM Context Status callback reference provided by the NF Service Consumer during the subscription to this notification. The content of the POST request shall contain the notification content.\nIf the notification is triggered by PDU session handover to release resources of the PDU session in the source access, the notification content shall contain the resourceStatus IE with the value \"RELEASED\" and the Cause IE with the value \"PDU_SESSION_HANDED_OVER\" as specified in clause 4.9.2.3.2 of 3GPP TS 23.502 [3].\nIf the notification is triggered by PDU session handover to release only the SM Context with the I-SMF in the source access but without releasing the PDU session in the AMF, the notification content shall contain the resourceStatus IE with the value \"UPDATED\" and the Cause IE with the value \"PDU_SESSION_HANDED_OVER\" as specified in clause 4.23.16.2 of 3GPP TS 23.502 [3].\tIf the notification is triggered by PDU session handover to release resources of the PDU session in the target access due to handover failure between 3GPP access and non-3GPP access, the notification content shall contain the resourceStatus IE with the value \"RELEASED\" and the Cause IE with the value \"PDU_SESSION_HAND_OVER_FAILURE\".\nIf the NF Service Consumer indicated support of the HOFAIL feature (see clause 6.1.8) and if the notification is triggered by PDU session handover to update the access type of the PDU session due to a handover failure between 3GPP access and non-3GPP access, the notification content shall contain the resourceStatus IE with the value \"UPDATED\", the anType IE with the value \"3GPP\" or \"NON_3GPP\" indicating the access type of the PDU session after the handover failure scenario and the Cause IE with the value \"PDU_SESSION_HAND_OVER_FAILURE\".\nIf the notification is triggered by the SMF derived CN assisted RAN parameters tuning, the notification content shall contain the resourceStatus IE with the value \"UNCHANGED\" and the Cause IE with the value \"CN_ASSISTED_RAN_PARAMETER_TUNING\".\nIf the notification is triggered by SMF Context Transfer procedure, the notification content shall contain the Cause IE with the value \"ISMF_CONTEXT_TRANSFER\" or \"SMF_CONTEXT_TRANSFER\".\nIf the notification is triggered by the report of the DDN failure, the notification content shall contain the resourceStatus IE with the value \"UNCHANGED\" and the Cause IE with the value \"DDN_FAILURE_STATUS\".\nIf the notification is triggered to report that an alternative (H-)SMF has been used during a HR PDU session establishment or the establishment of a PDU session with an I-SMF, the notification content shall contain the resourceStatus IE with the value \"ALT_ANCHOR_SMF\". The notification content shall also include the altAnchorSmfUri IE containing the API URI of the alternative (H-)SMF used for the PDU session and if available the altAnchorSmfId IE containing the NF Instance Id of the alternative (H-)SMF. The Notification shall only be sent to the NF service consumer (e.g. AMF) supporting the AASN feature.\nFor a PDU session without an I-SMF or V-SMF, if upon a change of anchor SMF, the new anchor SMF instance decides to notify the change of anchor SMF, then the notification content shall contain the resourceStatus IE with the value \"UPDATED\" and the Cause IE with the value \"CHANGED_ANCHOR_SMF\". In addition, the new anchor SMF shall include its SMF Instance ID in the notification content, and/or carry an updated binding indication in the HTTP headers to indicate the change of anchor SMF (as per step 6 of clause 6.5.3.3 of 3GPP TS 29.500 [4]).\nFor a PDU session with an I-SMF or V-SMF, if upon a change of intermediate SMF (e.g. I-SMF or V-SMF), the new intermediate SMF instance decides to notify the change of intermediate SMF, then the notification content shall contain the resourceStatus IE with the value \"UPDATED\" and the Cause IE with the value \"CHANGED_INTERMEDIATE_SMF\". In addition, the new intermediate SMF shall include its SMF Instance ID in the notificationcontent, and/or carry an updated binding indication in the HTTP headers to indicate the change of intermediate SMF (as per step 6 of clause 6.5.3.3 of 3GPP TS 29.500 [4]).\nFor a PDU session with an I-SMF or V-SMF, if the notification is triggered by the change of the anchor SMF (e.g. the PDU session is taken over by a new SMF within the same SMF Set selected by the UPF), the notification content shall contain the resourceStatus IE with the value \"UPDATED\", the Cause IE with the value \"CHANGED_ANCHOR_SMF\" and the SMF Instance ID of the new anchor SMF.\nIf the notification is triggered by SMF for I-SMF selection or removal or V-SMF selection for the current PDU session, or SMF selection during PDU Session re-establishment for SSC mode 2/3, the notification content shall contain the resourceStatus IE with the value \"UNCHANGED\", the Cause IE with the value \"TARGET_DNAI_NOTIFICATION\" and the targetDnaiInfo IE. The targetDnai IE in the targetDnaiInfo IE shall be absent if the I-SMF removal is triggered due to the DNAI currently served by the I-SMF being no longer used for the PDU Session. If the notification is triggered for SMF selection during PDU Session re-establishment for SSC mode 3, the notification content may also contain the oldPduSessionRef IE received from the SMF or the oldSmContextRef IE as specified in clause 4.3.5.2 of 3GPP TS 23.502 [3].\nIf the notification is triggered by a PDU session release due to slice inactivity as specified in clause 5.15.15.3 of 3GPP TS 23.501 [2] and clause 5.11.2 of 3GPP TS 29.244 [29], the notification content shall contain the resourceStatus IE with the value \"RELEASED\" and the Cause IE with the value \"REL_DUE_TO_SLICE_INACTIVITY\".\n2a.\tOn success, \"204 No Content\" shall be returned and the content of the POST response shall be empty.\nIf the SMF indicated in the request that the SM context resource is released, the NF Service Consumer shall release its association with the SMF for the PDU session and release the EBI(s) that were assigned to the PDU session.\nIf the SMF indicated in the request that the SM context resource is updated with the anType IE, the NF Service Consumer shall change the access type of the PDU session with the value of anType IE.\nIf the notification request was triggered by PDU session handover to release only the SM Context with the I-SMF in the source access but without releasing the PDU session in the AMF, the AMF shall remove its resources associated to the SM context with the I-SMF, but the AMF shall not release the PDU session in the AMF, and the I-SMF shall remove its resources associated to the PDU session.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.7.3.1-2 shall be returned. For a 4xx/5xx response, the message body shall contain a ProblemDetails structure with the \"cause\" attribute set to one of the application error listed in Table 6.1.3.7.3.1-2.\nIf the NF Service Consumer (e.g. AMF) is not able to handle the notification but knows by implementation specific means that another NF Service Consumer (e.g. AMF) is able to handle the notification (e.g. AMF deployment with Backup AMF), it shall reply with an HTTP \"307 temporary redirect\" response pointing to the URI of the new NF Service Consumer. If the NF Service Consumer is not able to handle the notification but another unknown NF Service Consumer could possibly handle the notification (e.g. AMF deployment with UDSF), it shall reply with an HTTP \"404 Not found\" error response.\nIf the SMF receives a \"307 temporary redirect\" response, the SMF shall use this URI as Notification URI in subsequent communication and shall resend the notification to that URI.\nIf the SMF becomes aware that a new NF Service Consumer (e.g. AMF) is requiring notifications (e.g. via the \"404 Not found\" response or via Namf_Communication service AMFStatusChange Notifications, or via link level failures, see clause 6.5.2 of 3GPP TS 29.500 [4]), and the SMF knows alternate or backup Address(es) where to send Notifications (e.g. via the GUAMI and/or backupAmfInfo received when the SM context was established or via AMFStatusChange Notifications, or via the Nnrf_NFDiscovery service specified in 3GPP TS 29.510 [19] using the service name and GUAMI or backupAMFInfo obtained during the creation of the SM context, see clause 6.5.2.2 of 3GPP TS 29.500 [4]), the SMF shall exchange the authority part of the corresponding Notification URI with one of those addresses and shall use that URI in subsequent communication; the SMF shall resend the notification to that URI.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.502_clause_4.3.2.2",
        "ts_23.502_clause_4.23.5.1",
        "ts_23.502_clause_4.3.3.2",
        "ts_23.502_clause_4.3.4.2",
        "ts_23.502_clause_4.11.2.2",
        "ts_23.502_clause_4.11.3.2",
        "ts_23.502_clause_4.11.4.2",
        "ts_23.502_clause_4.26.5.2",
        "ts_23.502_clause_4.26.5.3",
        "ts_23.316_clause_7.6.4.2",
        "ts_23.316_clause_7.3.1",
        "ts_23.316_clause_7.3.2",
        "ts_23.316_clause_7.3.3",
        "ts_23.316_clause_7.3.4",
        "ts_23.316_clause_7.3.6",
        "ts_23.316_clause_7.3.7",
        "ts_23.316_clause_4.10",
        "ts_23.316_clause_7.6.3",
        "ts_23.316_clause_7.6.4.1",
        "ts_23.502_clause_4.15.3.2.7",
        "ts_23.502_clause_4.15.3.2.9",
        "ts_29.244_clause_5.22",
        "ts_23.502_clause_4.23.5.4",
        "ts_23.502_clause_4.3.5.1",
        "ts_23.502_clause_4.3.5.2",
        "ts_23.548_clause_6.7.3.2",
        "ts_23.501_clause_5.15.15.3",
        "ts_23.502_clause_4.9.2.3.2",
        "ts_23.502_clause_4.23.16.2",
        "clause_6.1.8",
        "ts_29.500_clause_6.5.3.3",
        "ts_23.501_clause_5.11.2",
        "ts_29.500_clause_6.5.2",
        "ts_29.500_clause_6.5.2.2",
        "table_6.1.3.7.3.1-2",
        "figure_5.2.2.5.1-1",
        "ts_29.244_clause_5.11.2",
        "ts_23.502",
        "ts_23.316",
        "ts_29.244",
        "ts_23.548",
        "ts_23.501",
        "ts_29.500",
        "ts_29.510"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.6.1",
      "section_id": "5.2.2.6.1",
      "section_title": "General",
      "content": "The Retrieve SM Context service operation shall be used to retrieve an individual SM context, for a given PDU session, from the (H-)SMF, from the V-SMF during change or removal of V-SMF, or from the I-SMF during change or removal of I-SMF.\nIt is used in the following procedures:\n-\t5GS to EPS handover using N26 interface (see clause 4.11.1.2.1 of 3GPP TS 23.502 [3]), for PDU sessions associated with 3GPP access;\n-\t5GS to EPS Idle mode mobility using N26 interface (see clause 4.11.1.3.2 of 3GPP TS 23.502 [3]), for PDU sessions associated with 3GPP access;\n-\tUE Triggered Service Request with I-SMF insertion/change/removal or with V-SMF insertion/change/removal (see clause 4.23.4.3 of of 3GPP TS 23.502 [3]);\n-\tXn based inter NG-RAN handover with insertion of intermediate SMF (see clause 4.23.11 of 3GPP TS 23.502 [3]), for PDU sessions associated with 3GPP access;\n-\tInter NG-RAN node N2 based handover, preparation phase, with I-SMF or V-SMF insertion/change (see clause 4.23.7.3.2 of 3GPP TS 23.502 [3]), for PDU sessions associated with 3GPP access;\n-\tSMF Context Transfer procedure, LBO or no Roaming, no I-SMF (see clause 4.26.5.3 of 3GPP TS 23.502 [3]), for PDU sessions associated with 3GPP access;\n-\tI-SMF selection per DNAI (see clause 4.23.5.4 of 3GPP TS 23.502 [3]);\n-\tChange of SSC mode 3 PDU Session Anchor with multiple PDU Sessions (see clause 4.3.5.2 of 3GPP TS 23.502 [3]);\n-\tNetwork triggered EAS change in HR-SBO context (see clause 6.7.3.2 of 3GPP TS 23.548 [74]);\n-\tN2 Handover with V-SMF insertion/change/removal in HR-SBO case (see clause 6.7.2.6 of 3GPP TS 23.548 [39]);\n-\tInter V-SMF mobility registration update procedure in HR-SBO case (see clause 6.7.2.7 of 3GPP TS 23.548 [39]);\n-\tXn Handover with V-SMF change in HR-SBO case (see clause 6.7.2.9 of 3GPP TS 23.548 [39]).\nThe NF Service Consumer (e.g. AMF or SMF) shall retrieve an SM context by using the HTTP POST method (retrieve custom operation) as shown in Figure 5.2.2.6.1-1.\nFigure 5.2.2.6.1-1: SM context retrieval\n1.\tThe NF Service Consumer shall send a POST request to the resource representing the individual SM context to be retrieved. The POST request may contain a content with the following parameters:\n-\ttarget MME capabilities, if available, to allow the SMF to determine whether to include EPS bearer contexts for Ethernet PDN Type, non-IP PDN type, or requiring UP integrity protection or not;\n-\tSM context type:\n-\tindicating that this is a request to retrieve the complete SM context (i.e. 5G SM context including EPS context information as defined in clause 6.1.6.2.39), during scenarios with an I-SMF or V-SMF insertion/change/removal or SMF Context Transfer procedure; or\n-\tindicating that this is a request to retrieve the AF Coordination Information as defined in clause 6.1.6.2.69, during the change of SSC mode 3 PDU Session Anchor with multiple PDU Sessions, if the runtime coordination between old SMF and AF is enabled.\n-\tserving core network operator PLMN ID of the new V-SMF, when the procedure is triggered by a new V-SMF, if the new V-SMF supports inter-PLMN V-SMF change or insertion. Or the serving core network operator PLMN ID of the new I-SMF during the procedure with an I-SMF insertion;\n-\tnotToTransferEbiList IE, if the SM context type IE is absent or indicate a request to retrieve the EPS PDN connection, to request the SMF to not transfer EPS bearer context(s) corresponding to EBIs in the list, during an 5GS to EPS mobility when the target MME does not support 15 EPS bearers;\n-\tranUnchangedInd IE, if the NG-RAN Tunnel info is required in scenario of I-SMF/V-SMF change/insertion during registration procedure after EPS to 5GS handover, I-SMF selection/removal per DNAI or V-SMF selection per DNAI, when the UE is in CM-CONNECTED state as specified in clauses 5.2.2.2.7 and 5.2.2.2.12;\n-\thrsboSupportInd IE, if the procedure is triggered by a target V-SMF supporting the HR-SBO feature;\n-\tstoredOffloadIds IE, if the target V-SMF has a list of stored offload identifiers from the previous procedures for the HPLMN of the PDU session.\n2a.\tOn success, \"200 OK\" shall be returned; the content of the POST response shall contain the mapped EPS bearer contexts if this is a request for the UE EPS PDN connection, or the complete SM context if this is a request for retrieving the complete SM context, or the AF Coordination Information if this is a request for retrieving the AF Coordination Information.If this is a request for the UE EPS PDN connection and the target MME capabilities were provided in the request parameters:\n-\tif the target MME supports the non-IP PDN type, the SMF shall return, for a PDU session with PDU session type \"Unstructured\", an EPS bearer context with the \"non-IP\" PDN type;\n-\tif the target MME supports the Ethernet PDN type, the SMF shall return, for a PDU session with PDU session type \"Ethernet\", an EPS bearer context with the \"Ethernet\" PDN type;\n-\tif the target MME does not support the Ethernet PDN type but supports the non-IP PDN type, the SMF shall return, for a PDU session with PDU session type \"Ethernet\", an EPS bearer context with the \"non-IP\" PDN type.\nIf the notToTransferEbiList IE was included in the request, the SMF shall not provide EPS bearer context(s) corresponding to EBIs in the list.\nIf this is a request for retrieving the complete SM context and there are downlink data packets buffered at I-UPF, the SMF shall include the \"forwardingInd\" attribute with value \"true\" in the response body to indicate downlink data packets are buffered at the I-UPF. The NF Service Consumer receiving the \"forwardingInd\" attribute with the value \"true\" shall setup a forwarding tunnel for receiving the buffered downlink data packets.\nIf this is a request for retrieving the complete SM context for an inter-PLMN V-SMF change, i.e. if the request contains the serving core network operator PLMN ID indicating a different PLMN than the PLMN of the SMF (acting as the old V-SMF), the latter shall not include the chargingInfo IE and the roamingChargingProfile IE in the SM context returned in the response.\nDuring a procedure with an I-SMF or V-SMF insertion, the anchor SMF should use the servingNetwork IE received in the Retrieve SM Context Request to determine whether the inserted entity is an I-SMF or V-SMF, and if so, encode in the SM Context returned in the response the applicable set of attributes (e.g. hsmfUri, hSmfInstanceId, hSmfServiceInstanceId to a V-SMF, or smfUri, smfInstanceId, smfServiceInstanceId to an I-SMF) and the applicable URI in the pduSessionRef if different URIs are used for intra-PLMN and inter-PLMN signaling requests targeting the PDU session context.\nNOTE 1:\tDuring an inter-PLMN procedure with an I-SMF or V-SMF change, the old V-SMF or I-SMF returns the attributes of the SM context as were received from the anchor SMF.\nIf the UE, target MME and AMF support User Plane integrity protection with EPS, the SMF shall include the UP Security Policy IE in the UE EPS PDN connection context if User Plane integrity protection has been enabled by the SMF as specified in clauses 4.11.1.2.1 and 4.11.1.3.2 of 3GPP TS 23.502 [3].\nNOTE 2:\tDuring a 5GS to EPS handover, if User Plane Integrity Protection is used in 5GS and QoS flows are associated with EPS bearer IDs, the I-SMF/V-SMF considers that the UE supports User Plane Integrity Protection in EPS.\nIf this is a request for retrieving the complete SM context for an I-SMF or V-SMF insertion, and the smfUri IE or hSmfUri IE is provided by the AMF in the Create SM Context request and is different from the smfUri IE or hSmfUri IE in the SM context returned in the Retrieve SM Context response, the latter (i.e. the IEs received in the Retrieve SM Context response) shall prevail and be used by the I-SMF or V-SMF to trigger the create service operation to the (H-)SMF.\nIf the target V-SMF supports the HR-SBO feature, for a HR-SBO session, the content of the POST response message may also contain the HR-SBO related information, e.g., hrsboAuthResult, hDnsAddr, hPlmnAddr, vplmnOffloadingInfoList.\nThe source V-SMF shall determine if the target V-SMF has already received the corresponding VPLMN Offloading Information for an offload identifier based on the storedOffloadIds for the HPLMN of the PDU session provided by the target V-SMF in the Retrieve SM context request message for an intra PLMN V-SMF change, the source V-SMF shall include:\n-\tthe Offload Identifier(s) only, if the Offload Identifier(s) are known by the target V-SMF, i.e., the Offload Identifier(s) are part of the storedOffloadIds; otherwise\n-\ta list of vplmnOffloadingInfo attributes where each vplmnOffloadingInfo contains an offload identifier and the corresponding VPLMN Offloading Information.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.3.4.4.2-2 shall be returned. For a 4xx/5xx response, the message body shall contain a ProblemDetails structure with the \"cause\" attribute set to one of the application error listed in Table 6.1.3.3.4.4.2-2.\nIf the EBI value of the QoS Flow associated with the default QoS Rule is included in the notToTransferEbiList IE, the SMF shall set the \"cause\" attribute in the ProblemDetails structure to \"DEFAULT_EBI_NOT_TRANSFERRED\".\nIf a request for the UE EPS PDN connection is rejected due to the target MME not being capable to support the PDU session, e.g. if the PDU session requires UP integrity protection but the target MME does not support User Plane Integrity Protection with EPS, the SMF shall return a 403 Forbidden response with the \"cause\" attribute in the ProblemDetails structure set to \" TARGET_MME_CAPABILITY\".",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.502_clause_4.11.1.2.1",
        "ts_23.502_clause_4.11.1.3.2",
        "ts_23.502_clause_4.23.4.3",
        "ts_23.502_clause_4.23.11",
        "ts_23.502_clause_4.23.7.3.2",
        "ts_23.502_clause_4.26.5.3",
        "ts_23.502_clause_4.23.5.4",
        "ts_23.502_clause_4.3.5.2",
        "ts_23.548_clause_6.7.3.2",
        "ts_23.548_clause_6.7.2.6",
        "ts_23.548_clause_6.7.2.7",
        "ts_23.548_clause_6.7.2.9",
        "clause_6.1.6.2.39",
        "clause_6.1.6.2.69",
        "table_6.1.3.3.4.4.2-2",
        "figure_5.2.2.6.1-1",
        "ts_23.502",
        "ts_23.548"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.7.1",
      "section_id": "5.2.2.7.1",
      "section_title": "General",
      "content": "The Create service operation shall be used to create an individual PDU session in the H-SMF for HR roaming scenarios, or in the SMF for PDU sessions involving an I-SMF.\nIt is used in the following procedures:\n-\tUE requested PDU Session Establishment for home-routed roaming or with an I-SMF (see clauses 4.3.2.2.2 and 4.23.5.1 of 3GPP TS 23.502 [3]);\n-\twhen an I-SMF is inserted during the Registration, Service Request, Inter NG-RAN node N2 based handover, Xn based handover and Handover from non-3GPP to 3GPP access procedures (see clauses 4.23.3, 4.23.4, 4.23.7.3, 4.23.11.2 and 4.23.16 of 3GPP TS 23.502 [3]);\n-\twhen a V-SMF is inserted during the Registration and Inter NG-RAN node N2 based handover (see clauses 4.23.3 and 4.23.7.3 of 3GPP TS 23.502 [3]);\n-\tEPS to 5GS Idle mode mobility or handover using N26 interface (see clauses 4.11, 4.23.12.3, 4.23.12.5 and 4.23.12.7 of 3GPP TS 23.502 [3]);\n-\tEPS to 5GS mobility without N26 interface (see clause 4.11.2.3 of 3GPP TS 23.502 [3]);\n-\tHandover of a PDU session between 3GPP access and non-3GPP access, when the target AMF does not know the SMF resource identifier of the SM context used by the source AMF, e.g. when the target AMF is not in the PLMN of the N3IWF (see clause 4.9.2.3.2 of 3GPP TS 23.502 [3]);\n-\tHandover from EPS to 5GC-N3IWF (see clause 4.11.3.1 of 3GPP TS 23.502 [3]);\n-\tHandover from EPC/ePDG to 5GS (see clause 4.11.4.1 of 3GPP TS 23.502 [3]);\n-\tSupport of Network Slice Replacement (see clause 5.15.19 of 3GPP TS 23.501 [2]);\n-\tPDU Session establishment for supporting HR-SBO in VPLMN (see clause 6.7.2.2 of 3GPP TS 23.548 [39]).\nThe NF Service Consumer (e.g. V-SMF or I-SMF) shall create a PDU session in the SMF (i.e. H-SMF for a HR PDU session, or SMF for a PDU session involving an I-SMF) by using the HTTP POST method as shown in Figure 5.2.2.7.1-1.\nFigure 5.2.2.7.1-1: PDU session creation\n1.\tThe NF Service Consumer shall send a POST request to the resource representing the PDU sessions collection resource of the SMF. The content of the POST request shall contain:\n-\ta representation of the individual PDU session resource to be created;\n-\tthe requestType IE, if the Request type IE is received from the UE for a single access PDU session and if the request refers to an existing PDU session or an existing Emergency PDU session; the requestType IE shall not be included for a MA-PDU session establishment request; it may be included otherwise;\n-\tthe indication that a MA-PDU session is requested if a MA-PDU session is requested to be established by the UE, or the indication that the PDU session is allowed to be upgraded to a MA PDU session if the UE indicated so;\n-\tthe vsmfId IE or ismfId IE identifying the V-SMF or I-SMF respectively;\n-\tthe cpCiotEnabled IE with the value \"True\", if Control Plane CIoT 5GS Optimisation is enabled for this PDU session;\n-\tthe cpOnlyInd IE with the value \"True\", if the PDU session shall only use Control Plane CIoT 5GS Optimisation;\n-\tthe Invoke NEF indication with the value \"True\", if the cpCiotEnabled IE is set to \"True\" and data delivery via NEF is selected for the PDU session;\n-\tthe vcnTunnelInfo IE or icnTunnelInfo IE with the DL N9 tunnel CN information of the UPF controlled by the V-SMF or I-SMF respectively, except for EPS to 5GS handover using N26 interface and when Control Plane CIoT 5GS Optimisation is enabled and data delivery via NEF is selected for this PDU session;\n-\tthe additionalCnTunnelInfo IE with additional DL N9 tunnel CN information, if a MA PDU session is requested or if the PDU session is allowed to be upgraded to a MA PDU session, and if the UE is registered over both 3GPP and Non-3GPP accesses;\n-\tthe alternative S-NSSAI, if the NF service consumer and UE support the network slice replacement and it is requested to replace the S-NSSAI with the alternative S-NSSAI (see clause 5.15.19 of 3GPP TS 23.501 [2]);\nNOTE 1:\tThe alternative S-NSSAI is provided to the SMF together with the original S-NSSAI to be replaced. The SMF uses the original (H-PLMN) S-NSSAI to retrieve the session management subscription data from the UDM.\n-\tthe anType IE, indicating the access network type (3GPP or non-3GPP access) associated to the PDU session;\n-\tthe additionalAnType IE indicating an additional access network type associated to the PDU session, for a MA PDU session, if the UE is registered over both 3GPP and Non-3GPP accesses;\n-\tthe n9ForwardingTunnelInfo IE indicating the allocated N9 tunnel endpoints information for receiving the buffered downlink data packets, when downlink data packets are buffered at I-UPF controlled by the SMF during I-SMF insertion;\n-\ta callback URI ({vsmfPduSessionUri} or {ismfPduSessionUri}) representing the PDU session resource in the V-SMF or I-SMF. The SMF shall construct the callback URIs based on the received {vsmfPduSessionUri} or {ismfPduSessionUri} as defined in clause 6.1, e.g. the callback URI \"{vsmfPduSessionUri}/modify\" to modify a PDU session in the V-SMF;\n-\tthe list of DNAIs supported by the I-SMF, for a PDU session with an I-SMF;\n-\tthe QoS constraints from the VPLMN for the QoS Flow associated with the default QoS rule and/or for the Session-AMBR if any, for the HR PDU session, if the VQOS feature is supported by the V-SMF;\n-\tthe upipSupported IE set to \"true\", if the UE supports User Plane Integrity Protection with EPS and if the AMF supports the related functionality.\nThe content of the POST request may further contain:\n-\tthe satelliteBackhaulCat IE indicating the category of the satellite backhaul used towards the 5G AN serving the UE, if the V-SMF/I-SMF received this information from the AMF;\n-\tthe disasterRoamingInd IE set to true during the PDU session establishment or a V-SMF insertion procedure when the V-SMF is indicated by the AMF that the UE is registered for Disaster Roaming service;\n-\tthe hrsboInfo IE including the HR-SBO information sent from the VPLMN when the V-SMF requests HR SBO authorization;\n-\tthe ecsAddrConfigInfos IE including the ECS Address Configuration information Parameters received from the NEF.\nAs specified in clause 4.3.2.2.2 of 3GPP TS 23.502 [3], the NF Service Consumer shall be able to receive an Update request before receiving the Create Response, e.g. for EPS bearer ID allocation (see clause 4.11.1.4.1 of 3GPP TS 23.502 [3]) or Secondary authorization/authentication (see clause 4.3.2.3 of 3GPP TS 23.502 [3]).\nNOTE 2:\tIf the H-SMF supports the VQOS feature, when QoS constraints are received from the VPLMN and PCF is deployed, the H-SMF provides the QoS constraints from the VPLMN to the PCF; otherwise, in case dynamic PCC is not deployed, the SMF takes them into account when generating the default QoS rule.\n2a.\tOn success, \"201 Created\" shall be returned, the content of the POST response shall contain:\n-\tthe representation describing the status of the request;\n-\tthe QoS flow(s) to establish for the PDU session, except when Control Plane CIoT 5GS Optimisation is enabled for this PDU session;\n-\tthe epsPdnCnxInfo IE and, for each EPS bearer, an epsBearerInfo IE, if the PDU session is associated to (or handed over to) the 3GPP access type and may be moved to EPS during its lifetime;\n-\ta MA PDU Session Accepted indication, if a MA PDU session is established;\n-\tthe smallDataRateControlEnabled indication set to \"true\" if small data rate control is applicable on the PDU session;\n-\tthe \"Location\" header containing the URI of the created resource;\n-\tthe hcnTunnelInfo IE or cnTunnelInfo IE with the UL N9 Tunnel CN information of the UPF controlled by the H-SMF or SMF respectively, expect for when Control Plane CIoT 5GS Optimisation is enabled and data delivery via NEF is selected for this PDU session.\n-\tthe additionalCnTunnelInfo IE with additional UL N9 tunnel CN information of the UPF controlled by the H-SMF or SMF if a MA-PDU session is established for a UE registered over both 3GPP access and Non-3GPP access.\nThe content of the POST response may further contain:\n-\tthe pending update information list, indicating the information elements whose change(s) are not required to be updated in real-time to the (H-)SMF, i.e. the change(s) of the indicated information elements may be piggybacked in a subsequent update to the (H-)SMF together with other information elements.\nThe content of the POST response may also contain the upSecurity, maxIntegrityProtectedDataRate and maxIntegrityProtectedDataRateDl IEs, if the PDU session is associated to (or handed over to) the 3GPP access type.\nThe SMF may provide alternative QoS profiles for each GBR QoS flow with Notification control enabled, to allow the NG-RAN to accept the setup of the QoS flow if the requested QoS parameters or at least one of the alternative QoS parameters sets can be fulfilled at the time of setup.\nThe authority and/or deployment-specific string of the apiRoot of the created resource URI may differ from the authority and/or deployment-specific string of the apiRoot of the request URI received in the POST request.\nIf an Update Request was sent to the NF Service Consumer before the Create Response, the URI in the \"Location\" header and in the hsmfPduSessionUri IE (carrying the PDU session resource URI of a HR PDU session or a PDU session with an I-SMF) of the SMF initiated Update Request shall be the same. If the requestType IE was received in the request and set to EXISTING_PDU_SESSION or EXISTING_EMERGENCY_PDU_SESSION (i.e. indicating that this is a UE request for an existing PDU session or an existing emergency PDU session), the SMF shall identify the existing PDU session or emergency PDU session based on the PDU Session ID; in this case, the SMF shall not create a new PDU session or emergency PDU session but instead update the existing PDU session or emergency PDU session and provide the representation of the updated PDU session or emergency PDU session in the response to the NF Service Consumer.\nThe POST request shall be considered as colliding with an existing PDU session context if:\n-\tthis is a request to establish a new PDU session, i.e.:\n-\tthe RequestType IE is present in the request and set to INITIAL_REQUEST or INITIAL_EMERGENCY_REQUEST (e.g. single access PDU session establishment request);\n-\tthe RequestType IE and the maRequestInd IE are both absent in the request (e.g. EPS to 5GS mobility); or\n-\tthe maRequestInd IE is present in the request (i.e. MA-PDU session establishment request) and the access type indicated in the request corresponds to the access type of the existing PDU session context.\nand either of the following conditions is met:\n-\tthis is a request to establish a non-emergency PDU session and the request includes the same SUPI and the same PDU Session ID as for an existing PDU session context; or\n-\tthis is a request to establish an emergency PDU session and the request includes the same SUPI, or PEI for an emergency registered UE without a UICC or without an authenticated SUPI, as for an existing PDU session context for an emergency PDU session.\nA POST request that collides with an existing PDU session context shall be treated as a request for a new PDU session context. The SMF shall assign a new PDU session reference, i.e. {pduSessionRef} (see clause 6.1.3.6.2), which is different from the existing PDU session context. Before creating the new PDU session context, the SMF should delete the existing PDU session context locally and any associated resources in the UPF, PCF, CHF and UDM. See also clause 5.2.3.3.1 for the handling of requests which collide with an existing PDU session context. If the vsmfPduSessionUri or ismfPduSessionUri of the existing PDU session context differs from the vsmfPduSessionUri or ismfPduSessionUri received in the POST request, the SMF shall also send a status notification (see clause 5.2.2.10) targeting the vsmfPduSessionUri or ismfPduSessionUri of the existing PDU session context to notify the release of the existing PDU session context. The SMF should include a cause IE with value \"REL_DUE_TO_DUPLICATE_SESSION_ID\" in such a status notification. Upon receipt of such a status notification, the V-SMF or I-SMF shall not send SM context status notification to the AMF.\nIf the requestType IE was received in the request and indicates this is a request for a new PDU session (i.e. INITIAL_REQUEST) and if the Old PDU Session ID was also included in the request, the SMF shall identify the existing PDU session to be released and to which the new PDU session establishment relates, based on the Old PDU Session ID.\nThe NF Service Consumer shall store any epsPdnCnxInfo and EPS bearer information received from the SMF.\nIf the response received from the SMF contains the alwaysOnGranted attribute set to true, the NF Service Consumer shall check and determine whether the PDU session can be established as an always-on PDU session based on local policy.\nIf no GPSI IE is provided in the request, e.g. for a PDU session moved from another access or another system, and the SMF knows that a GPSI is already associated with the PDU session, the SMF shall include the GPSI in the response.\nIf one or more requested QoS flow(s) fail to be established, the V-SMF or I-SMF shall send an Update Request including the qosFlowsRelNotifyList attribute to report the failure to the H-SMF or SMF (see clause 5.2.2.8.2.2), or a Release Request to release the PDU session if no QoS flow can be established (see clause 5.2.2.9).\nFor UE mobility with I-SMF/V-SMF insertion procedure, if a requested functionality is not supported for a PDU session with an I-SMF/V-SMF, the SMF shall accept the POST request and release the PDU Session after the mobility procedure, as specified in clause 4.23.1 of 3GPP TS 23.502 [3].\nFor a HR-SBO session, the content of the POST response may also contain the hrsboInfo IE including the HR-SBO information sent from the HPLMN, e.g., hrsboAuthResult.\n2b.\tOn failure, or redirection during a UE requested PDU Session Establishment, one of the HTTP status code listed in Table 6.1.3.5.3.1-3 shall be returned. For a 4xx/5xx response, the message body shall contain a PduSessionCreateError structure, including:\n-\ta ProblemDetails structure with the \"cause\" attribute set to one of the application error listed in Table 6.1.3.5.3.1-3. The application error shall be set to \"NOT_SUPPORTED_WITH_ISMF\" during a UE requested PDU Session Establishment, if a requested functionality is not supported for a PDU session with an I-SMF/V-SMF.\n-\tthe n1SmCause IE with the 5GSM cause that the SMF proposes the NF Service Consumer to return to the UE, if the request included n1SmInfoFromUe;\n-\tn1SmInfoToUe with any information to be sent to the UE (in the PDU Session Establishment Reject).",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.502_clause_4.11.2.3",
        "ts_23.502_clause_4.9.2.3.2",
        "ts_23.502_clause_4.11.3.1",
        "ts_23.502_clause_4.11.4.1",
        "ts_23.501_clause_5.15.19",
        "ts_23.548_clause_6.7.2.2",
        "clause_6.1",
        "ts_23.502_clause_4.3.2.2.2",
        "ts_23.502_clause_4.11.1.4.1",
        "ts_23.502_clause_4.3.2.3",
        "clause_6.1.3.6.2",
        "clause_5.2.3.3.1",
        "clause_5.2.2.10",
        "clause_5.2.2.8.2.2",
        "clause_5.2.2.9",
        "ts_23.502_clause_4.23.1",
        "table_6.1.3.5.3.1-3",
        "figure_5.2.2.7.1-1",
        "ts_23.502",
        "ts_23.501",
        "ts_23.548"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.7.2",
      "section_id": "5.2.2.7.2",
      "section_title": "EPS to 5GS Idle mode mobility",
      "content": "The requirements specified in clause 5.2.2.7.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.7.1-1, with the following additions.\nThe POST request shall contain:\n-\tthe list of EPS Bearer Ids received from the MME;\n-\tthe PGW S8-C F-TEID received from the MME;\n-\tthe epsBearerCtxStatus attribute, indicating the status of all the EPS bearer contexts in the UE, if corresponding information has been received in the Create SM Context request (see clause 5.2.2.2.2).\n2a.\tSame as step 2 of Figure 5.2.2.7.1-1, with the following modifications.If:\n-\tthe SMF finds a corresponding PDU session based on the EPS Bearer Ids and PGW S8-C F-TEID received in the request;\n-\tthe default EPS bearer context of the corresponding PDU session is not reported as inactive by the UE in the epsBearerCtxStatus attribute, if received; and\n-\tthe SMF can proceed with moving the PDN connection to 5GS,\nthen the SMF shall return a 201 Created response including the following additional information:\n-\tPDU Session ID corresponding to the EPS PDN connection;\n-\tother PDU session parameters, such as PDU Session Type, Session AMBR, QoS flows information.\nIf the epsBearerCtxStatus attribute is received in the request, the SMF shall check whether some EPS bearer(s) of the corresponding PDU session have been deleted by the UE but not notified to the EPS, and if so, the SMF shall release these EPS bearers, corresponding QoS rules and QoS flow level parameters locally, as specified in clause 4.11.1.3.3 of 3GPP TS 23.502 [3].\nNOTE:\tThe behaviour specified in this step also applies if the POST request collides with an existing PDU session context, i.e. if the POST request includes the same SUPI, or PEI for an emergency registered UE without a UICC or without an authenticated SUPI, and the received EPS bearer ID is the same as in the existing PDU session context.\n2b.\tSame as step 2b of Figure 5.2.2.7.1-1, with the following additions.\nIf the SMF determines that seamless session continuity from EPS to 5GS is not supported for the PDU session, the SMF shall set the \"cause\" attribute in the ProblemDetails structure to \"NO_EPS_5GS_CONTINUITY\".\nIf the default EPS bearer context of the PDU session is reported as inactive by the UE in the epsBearerCtxStatus attribute, the SMF shall set the \"cause\" attribute in the ProblemDetails structure to \"DEFAULT_EPS_BEARER_INACTIVE\".",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.7.1",
        "clause_5.2.2.2.2",
        "ts_23.502_clause_4.11.1.3.3",
        "figure_5.2.2.7.1-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.7.3",
      "section_id": "5.2.2.7.3",
      "section_title": "EPS to 5GS Handover Preparation",
      "content": "The requirements specified in clause 5.2.2.7.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.7.1-1, with the following modifications.\nThe POST request shall contain:\n-\tthe list of EPS Bearer Ids received from the MME;\n-\tthe PGW S8-C F-TEID received from the MME;\n-\tthe hoPreparationIndication IE set to \"true\", to indicate that a handover preparation is in progress and the PGW-C/SMF shall not switch the DL user plane of the PDU session yet.\n2a.\tSame as step 2 of Figure 5.2.2.7.1-1, with the following modifications.\nIf the SMF finds a corresponding PDU session based on the EPS Bearer Ids and PGW S8-C F-TEID received in the request, and if it can proceed with the procedure, the SMF shall return a 201 Created response including the following information:\n-\tPDU Session ID corresponding to the EPS PDN connection;\n-\tother PDU session parameters, such as PDU Session Type, Session AMBR, QoS flows information;\n-\toptional udmGroupId, containing the identity of the UDM group serving the UE, to facilitate the UDM selection at the target AMF. The V/I-SMF shall forward this IE in the SmContextCreatedData to the target AMF.\n-\toptional pcfGroupId, containing the identity of the PCF group for Session Management Policy for the PDU session, to facilitate the PCF selection at the target AMF. The V/I-SMF shall forward this IE in the SmContextCreatedData to the target AMF.\nThe SMF shall not switch the DL user plane of the PDU session, if the hoPreparationIndication IE was set to \"true\" in the request.\nNOTE:\tThe behaviour specified in this step also applies if the POST request collides with an existing PDU session context, i.e. if the POST request includes the same SUPI, or PEI for an emergency registered UE without a UICC or without an authenticated SUPI, and the received EPS bearer ID is the same as in the existing PDU session context.\n2b.\tSame as step 2b of Figure 5.2.2.7.1-1, with the following additions.\nIf the H-SMF determines that seamless session continuity from EPS to 5GS is not supported for the PDU session, the H-SMF shall set the \"cause\" attribute in the ProblemDetails structure to \"NO_EPS_5GS_CONTINUITY\".",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.7.1",
        "figure_5.2.2.7.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.7.4",
      "section_id": "5.2.2.7.4",
      "section_title": "N2 Handover Preparation with I-SMF Insertion",
      "content": "The requirements specified in clause 5.2.2.7.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.7.1-1, with the following modifications.\nThe POST request shall contain:\n-\tthe hoPreparationIndication IE set to \"true\", to indicate that a handover preparation is in progress and the SMF shall not switch the DL user plane of the PDU session yet.\n2a.\tSame as step 2 of Figure 5.2.2.7.1-1, with the following modifications:\nThe SMF shall not switch the DL user plane of the PDU session, if the hoPreparationIndication IE was set to \"true\" in the request.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.7.1",
        "figure_5.2.2.7.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.7.5",
      "section_id": "5.2.2.7.5",
      "section_title": "Xn Handover with I-SMF Insertion",
      "content": "The requirements specified in clause 5.2.2.7.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.7.1-1, with the following modifications.\nThe POST request shall contain:\n-\tthe upSecurityInfo IE, if received from the AMF.\n2a.\tSame as step 2 of Figure 5.2.2.7.1-1, with the following modifications:\nThe SMF shall verify that the upSecurity IE included in the received upSecurityInfo IE is same as the security policy for integrity protection and encryption that the SMF has locally stored. If there is a mismatch, the SMF shall send its locally stored security policy for integrity protection and encryption in upSecurity IE to NG-RAN as specified in clause 6.6.1 of 3GPP TS 33.501 [17].",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.7.1",
        "ts_33.501_clause_6.6.1",
        "figure_5.2.2.7.1-1",
        "ts_33.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.7.6",
      "section_id": "5.2.2.7.6",
      "section_title": "UE Triggered Service Request with I-SMF Insertion",
      "content": "The requirements specified in clause 5.2.2.7.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.7.1-1, with the following modifications.\nThe POST request shall additionally contain:\n-\tthe upCnxState IE set to ACTIVATING to indicate that User Plane resource for the PDU Session is going to be established by the I-SMF.\n2a.\tSame as step 2 of Figure 5.2.2.7.1-1, with the following modifications:\nThe SMF shall behave as specified in clause 4.23.4.3 (step 8a) of 3GPP TS 23.502 [3].\nThe SMF handling of a subsequent Update request with the upCnxState IE set to ACTIVATED is specified in step 3 of clause 5.2.2.8.2.23.\nNOTE:\tThe upCnxState IE set to ACTIVATING implements the \"Operation Type\" parameter set to \"UP Activate\" specified in clause 4.23.4.3 (step 8a) in 3GPP TS 23.502 [3].",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.7.1",
        "ts_23.502_clause_4.23.4.3",
        "clause_5.2.2.8.2.23",
        "figure_5.2.2.7.1-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.1",
      "section_id": "5.2.2.8.1",
      "section_title": "General",
      "content": "The Update service operation shall be used for HR PDU sessions or for PDU sessions involving an I-SMF to:\n-\tupdate an individual PDU session in the H-SMF or SMF and/or provide the H-SMF or SMF with information received by the V-SMF or I-SMF in N1 SM signalling from the UE;\n-\tupdate a MA PDU session to indicate an additional access type, if the UE requests establishment of MA PDU session via the other access after the UE is registered to both 3GPPP access and non-3GPP access and the MA PDU session was successfully established on the first access (see clause 4.22.2.2 of 3GPP TS 23.502 [3]);\n-\trelease a MA PDU session over a single access in the H-SMF or SMF;\n-\tupdate an individual PDU session in the V-SMF or I-SMF and/or provide information necessary for the V-SMF or I-SMF to send N1 SM signalling to the UE.\nIt is invoked by the V-SMF or I-SMF in the following procedures:\n-\tUE or network (e.g. V-SMF, I-SMF) requested PDU session modification (see clauses 4.3.3.3 and 4.23.5.3 of 3GPP TS 23.502 [3]);\n-\tUE or network (e.g. AMF, V-SMF, I-SMF) requested PDU session release (see clause 4.3.4.3 of 3GPP TS 23.502 [3]);\n-\tUE or network (e.g. AMF, V-SMF, I-SMF) initiated MA PDU session release over a single access (see clause 4.22 of 3GPP TS 23.502 [3]);\n-\tEPS to 5GS handover execution using N26 interface (see clause 4.11 of 3GPP TS 23.502 [3]);\n-\tHandover between 3GPP and untrusted or trusted non-3GPP access procedures (see clauses 4.9.2 and 4.9.3 of 3GPP TS 23.502 [3]), without AMF change or with target AMF in same PLMN;\n-\tAll procedures requiring to provide the H-SMF or SMF with information received by the V-SMF or I-SMF in N1 SM signalling from the UE to the H-SMF or SMF;\n-\tSecondary RAT Usage Data Reporting (see clause 4.21 of 3GPP TS 23.502 [3]);\n-\tUPF anchored Mobile Originated Data Transport in Control Plane CIoT 5GS Optimisation (see clause 4.24.1 of 3GPP TS 23.502 [3]);\n-\tConnection Resume in CM-IDLE with Suspend procedure (see clause 4.8.2.3 of 3GPP TS 23.502 [3]);\n-\tReporting of satellite backhaul change to SMF (see clause 5.43.4 of 3GPP TS 23.501 [2]);\n-\tUE Triggered Service Request without I-SMF/V-SMF change/removal (see clause 4.23.4.2 of 3GPP TS 23.502 [2]) or UE Triggered Service Request with I-SMF/V-SMF change or with I-SMF insertion (see clause 4.23.4.3 of 3GPP TS 23.502 [2]);\n-\tRemote UE Report during 5G ProSe Communication via 5G ProSe Layer-3 UE-to-Network Relay without N3IWF (see clause 6.5.1.1 of 3GPP TS 23.304 [43];\n-\tSupport of Network Slice Replacement (see clause 5.15.19 of 3GPP TS 23.501 [2]);\n-\tN2-based handover with V-SMF insertion/change or without V-SMF change in HR-SBO case (see clauses 6.7.2.6 and 6.7.2.8 of 3GPP TS 23.548 [39]);\n-\tInter V-SMF mobility registration update in HR-SBO (see clause 6.7.2.7 of 3GPP TS 23.548 [39]);\n-\tXn Handover with or without V-SMF change in HR-SBO case (see clauses 6.7.2.9 and 6.7.2.10 of 3GPP TS 23.548 [39]);\n-\tNetwork triggered EAS rediscovery and edge relocation in HR-SBO context procedure (see clause 6.7.3.2 of 3GPP TS 23.548 [39]).\nIt is invoked by the I-SMF in the following procedures:\n-\tAddition of PDU Session Anchor and Branching Point or UL CL controlled by I-SMF (see clause 4.23.9.1 of 3GPP TS 23.502 [3]);\n-\tRemoval of PDU Session Anchor and Branching Point or UL CL controlled by I-SMF (see clause 4.23.9.2 of 3GPP TS 23.502 [3]);\n-\tChange of PDU Session Anchor for IPv6 multi-homing or UL CL controlled by I-SMF (see clause 4.23.9.3 of 3GPP TS 23.502 [3]);\n-\tSending by I-SMF of N4 notifications related with traffic usage reporting (see clause 5.34.6 of 3GPP TS 23.501 [2]);\n-\tSimultaneous change of Branching Point or UL CL and additional PSA controlled by I-SMF (see clause 4.23.9.4 of 3GPP TS 23.502 [3]);\n-\tSimultaneous change of Branching Points or UL CLs controlled by different I-SMFs (see clause 4.23.9.5 of 3GPP TS 23.502 [3]).\nIt is invoked by the H-SMF or SMF in the following procedures:\n-\tNetwork (e.g. H-SMF, SMF) requested PDU session modification (see clauses 4.3.3.3 and 4.23.5.3 of 3GPP TS 23.502 [3]);\n-\tNetwork (e.g. H-SMF, SMF) requested PDU session release (see clause 4.3.4.3 of 3GPP TS 23.502 [3]);\n-\tNetwork (e.g. H-SMF, SMF) initiated MA PDU session release over a single access (see clause 4.22 of 3GPP TS 23.502 [3]);\n-\tAll procedures requiring to provide information necessary for the V-SMF or I-SMF to send N1 SM signalling to the UE;\n-\tEPS Bearer ID allocation or revocation (see clauses 4.11.1.4.1 and 4.11.1.4.3 of 3GPP TS 23.502 [3]);\n-\tSecondary authorization/authentication by an DN-AAA server (see clause 4.3.2.3 of of 3GPP TS 23.502 [3]);\n-\tNetwork triggered EAS rediscovery and edge relocation in HR-SBO context procedure (see clause 6.7.3.2 of 3GPP TS 23.548 [39]).\nIt is invoked by the SMF in the following procedures:\n-\tAddition of PDU Session Anchor and Branching Point or UL CL controlled by I-SMF (see clause 4.23.9.1 of 3GPP TS 23.502 [3]);\n-\tRemoval of PDU Session Anchor and Branching Point or UL CL controlled by I-SMF (see clause 4.23.9.2 of 3GPP TS 23.502 [3]);\n-\tChange of PDU Session Anchor for IPv6 multi-homing or UL CL controlled by I-SMF (see clause 4.23.9.3 of 3GPP TS 23.502 [3]);\n-\tPolicy update procedures with an I-SMF (see clause 4.23.6.2 of 3GPP TS 23.502 [3]);\n-\tSimultaneous change of Branching Point or UL CL and additional PSA controlled by I-SMF (see clause 4.23.9.4 of 3GPP TS 23.502 [3]);\n-\tSimultaneous change of Branching Points or UL CLs controlled by different I-SMFs (see clause 4.23.9.5 of 3GPP TS 23.502 [3]).",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.502_clause_4.22.2.2",
        "ts_23.502_clause_4.3.4.3",
        "ts_23.502_clause_4.22",
        "ts_23.502_clause_4.11",
        "ts_23.502_clause_4.21",
        "ts_23.502_clause_4.24.1",
        "ts_23.502_clause_4.8.2.3",
        "ts_23.501_clause_5.43.4",
        "ts_23.502_clause_4.23.4.2",
        "ts_23.502_clause_4.23.4.3",
        "ts_23.304_clause_6.5.1.1",
        "ts_23.501_clause_5.15.19",
        "ts_23.548_clause_6.7.2.7",
        "ts_23.548_clause_6.7.3.2",
        "ts_23.502_clause_4.23.9.1",
        "ts_23.502_clause_4.23.9.2",
        "ts_23.502_clause_4.23.9.3",
        "ts_23.501_clause_5.34.6",
        "ts_23.502_clause_4.23.9.4",
        "ts_23.502_clause_4.23.9.5",
        "ts_23.502_clause_4.3.2.3",
        "ts_23.502_clause_4.23.6.2",
        "ts_23.502",
        "ts_23.501",
        "ts_23.304",
        "ts_23.548"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.2.1",
      "section_id": "5.2.2.8.2.1",
      "section_title": "General",
      "content": "The NF Service Consumer (i.e. the V-SMF for a HR PDU session, or the I-SMF for a PDU session with an I-SMF) shall update a PDU session in the H-SMF or SMF and/or provide the H-SMF or SMF with information received by the  NF Service Consumer in N1 SM signalling from the UE, by using the HTTP POST method (modify custom operation) as shown in Figure 5.2.2.8.2-1.\nFigure 5.2.2.8.2-1: PDU session update towards H-SMF or SMF\n1.\tThe NF Service Consumer shall send a POST request to the resource representing the individual PDU session resource in the H-SMF or SMF. The content of the POST request shall contain:\n-\tthe requestIndication IE indicating the request type. Unless specified otherwise in clause 5.2.2.8.2, the value of the requestIndication IE shall be set to NW_REQ_PDU_SES_MOD;\n-\tthe modification instructions and/or the information received by the NF Service Consumer in N1 signalling from the UE.\nThe NF service consumer shall not include the hoPreparationIndication IE with the value \"false\" in procedures other than handover execution, cancel and failure procedures.\nIf the pending update information list was previously received from the (H-)SMF, the NF service consumer should not send a request to the (H-)SMF including only the information elements indicated by the pending update information list. The change(s) of the indicated information elements may be piggybacked in a subsequent update to the (H-)SMF together with other information elements.\nFor a HR-SBO session, the content of the POST request may further contain:\n-\tthe hrsboInfo IE including the HR-SRO information sent from the VPLMN when the V-SMF requests HR SBO authorization.\n-\tthe ecsAddrConfigInfos IE including the ECS Address Configuration information if the information is modified by the NEF.\n2a.\tOn success, \"204 No Content\" or \"200 OK\" shall be returned; in the latter case, the content of the POST response shall contain the representation describing the status of the request and/or information necessary for the NF Service Consumer to send N1 SM signalling to the UE. If the PDU session may be moved to EPS with N26 and the EPS PDN Connection Context information of the PDU session is changed, e.g. due to a new anchor SMF is reselected, the content shall include the \"epsPdnCnxInfo\" IE including the updated EPS PDN Connection Context information. The NF Service consumer shall overwrite the locally stored EPS PDN Connection Context information with the new one if received.\nFor a HR-SBO session, the content of the POST response may also contain the hrsboInfo IE including the HR-SBO information sent from the HPLMN, e.g., hrsboAuthResult.\n2b.\tOn failure or redirection, one of the HTTP status codes listed in Table 6.1.3.6.4.2.2-2 shall be returned. For a 4xx/5xx response, the message body shall contain an HsmfUpdateError structure, including:\n-\ta ProblemDetails structure with the \"cause\" attribute set to one of the application errors listed in Table 6.1.3.6.4.2.2-2;\n-\tthe n1SmCause IE with the 5GSM cause the H-SMF or SMF proposes the NF Service Consumer to return to the UE, if the request included n1SmInfoFromUe;\n-\tn1SmInfoToUe binary data, if the H-SMF or SMF needs to return NAS SM information which the NF Service Consumer does not need to interpret;\n-\tthe procedure transaction id that was received in the request, if this is a response sent to a UE requested PDU session modification.\nIf the H-SMF or SMF receives the hoPreparationIndciation IE set to \"false\" value in step 1, while it did not receive the hoPreparationIndication IE set to \"true\" value in previous steps (see clauses 5.2.2.7.3 and 5.2.2.7.4), the H-SMF or SMF shall ignore the hoPreparationIndication IE with \"false\" value and proceed with the processing of the request.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_5.2.2.8.2",
        "table_6.1.3.6.4.2.2-2",
        "figure_5.2.2.8.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.2.2",
      "section_id": "5.2.2.8.2.2",
      "section_title": "UE or network (e.g. AMF, V-SMF, I-SMF) requested PDU session modification",
      "content": "The requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe requestIndication set to UE_REQ_PDU_SES_MOD, and the modifications requested by the UE, e.g. UE requested QoS rules or UE requested Qos flow descriptions, in an N1 SM container IE as specified in clause 5.2.3.1, or indication that the PDU session is allowed to be upgraded to a MA PDU session as specified in clause 6.4.2.2 of 3GPP TS 24.501 [7], for a UE requested PDU session modification; or\n-\tthe requestIndication set to NW_REQ_PDU_SES_MOD, and the modifications requested by the visited network or the notifications initiated by the visited network, for a visited network requested PDU session modification, e.g. to:\n-\treport the release of QoS flow(s) or notify QoS flow(s) whose targets QoS are no longer fulfilled; in the latter case, the V-SMF/I-SMF may also report an alternative QoS profile which the NG-RAN can currently fulfil in the currentQosProfileIndex IE or report that the NG-RAN cannot even fulfil the lowest alternative QoS profile by setting the nullQoSProfileIndex IE to \"true\" for the corresponding Qos flow(s);\n-\treport that the user plane security enforcement with a value Preferred is not fulfilled or is fulfilled again, in the NotifyList IE and the securityResult IE, if the new security status is received from NG-RAN;\n-\treport that access type of the PDU session can be changed; in this case, the anTypeCanBeChanged attribute shall be set to \"true\";\n-\treport the \"MO Exception Data Counter\";\n-\trequest for QoS modification initiated by VPLMN, if the H-SMF supports the VPLMN QoS (VQOS) feature;\n-\treport the QoS flow(s) that are rejected by the RAN or rejected by the V-SMF, during PDU session establishment procedure; in the latter case, the V-SMF may also include the qosFlowsVsmfRejectedAddModList IE with the QoS flow(s) that are rejected by the V-SMF.\nIf the update is performed to transfer the PDU Session from non-3gpp access to 3gpp access by setting the attribute anTypeCanBeChanged to \"true\", the SMF may perform Network Slice Admission Control before the PDU Session is moved to 3GPP access (i,e, before N3/N9 tunnel for the PDU Session is established).",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.8.2.1",
        "clause_5.2.3.1",
        "ts_24.501_clause_6.4.2.2",
        "figure_5.2.2.8.2-1",
        "ts_24.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.2.3",
      "section_id": "5.2.2.8.2.3",
      "section_title": "UE requested PDU session release",
      "content": "The requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe requestIndication set to UE_REQ_PDU_SES_REL.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.8.2.1",
        "figure_5.2.2.8.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.2.4",
      "section_id": "5.2.2.8.2.4",
      "section_title": "EPS to 5GS Handover Execution",
      "content": "The requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe requestIndication set to PDU_SES_MOB;\n-\tthe list of EPS Bearer Ids successfully handed over to 5GS;\n-\tthe vcnTunnelInfo IE or icnTunnelInfo IE with the DL N9 tunnel CN information of the UPF controlled by the V-SMF or I-SMF respectively;\n-\tthe hoPreparationIndication IE set to \"false\", to indicate that there is no handover preparation in progress anymore and that the PGW-C/SMF shall switch the DL user plane of the PDU session;\n-\tone or more SecondaryRatUsageDataReportContainer(s) if it received the same in the SmContextUpdateData from the AMF.\n2.\tSame as step 2 of Figure 5.2.2.8.2-1, with the following modifications.\nThe H-SMF or SMF shall return a 200 OK response. The H-SMF or SMF shall switch the DL user plane of the PDU session using the N9 tunnel information that has been received in the vcnTunnelInfo or icnTunnelInfo, if the hoPreparationIndication IE was set to \"false\" in the request.\nIf the handover preparation failed (e.g. the target 5G-AN failed to establish resources for the PDU session), the requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe requestIndication set to PDU_SES_MOB;\n-\tthe cause attribute set to \"HO_FAILURE\";\n-\tan empty list of EPS Bearer Ids;\n-\tthe vcnTunnelInfo IE or icnTunnelInfo IE with the DL N9 tunnel CN information of the UPF controlled by the V-SMF or I-SMF respectively;\n-\tthe NotifyList IE with the cause set to \"UP_SEC_NOT_FULFILLED\", if the PDU Session was rejected by the Target NG-RAN because the User Plane Security Enforcement is not supported in the Target NG-RAN and the User Plane Enforcement Policy indicates \"Required\"; and\n-\tthe hoPreparationIndication IE set to \"false\", to indicate that there is no handover preparation in progress anymore.\n2.\tSame as step 2 of Figure 5.2.2.8.2-1, with the following modifications.\nThe H-SMF or SMF shall return a 200 OK response. If the H-SMF or SMF decides to keep the PDU session, the H-SMF or SMF shall switch the DL user plane of the PDU session using the N9 tunnel information that has been received in the vcnTunnelInfo or icnTunnelInfo; otherwise the H-SMF or SMF should trigger the PDU session release as specified in clause 5.2.2.8.3.3.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.8.2.1",
        "clause_5.2.2.8.3.3",
        "figure_5.2.2.8.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.2.5",
      "section_id": "5.2.2.8.2.5",
      "section_title": "Handover between 3GPP access and untrusted or trusted non-3GPP access",
      "content": "For Handover between 3GPP access and untrusted or trusted non-3GPP access procedures, without AMF change or with the target AMF in the same PLMN, the requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain the anType set to the target access type, i.e. to 3GPP_ACCESS or NON_3GPP_ACCESS.\nThe requestIndication IE shall be set to PDU_SES_MOB.\nFor a handover from non-3GPP access to 3GPP access with a V-SMF change, the requirements specified in step 1 of clause 5.2.2.8.2.10, other than how to set the requestIndication, shall also apply.\n2a.\tSame as step 2a of Figure 5.2.2.8.2-1, with the following modifications.\nThe content of the POST response shall include:\n-\tall QoS information for the QoS Flow(s) applicable to the PDU Session for the target access type, so that when sending the PDU Session Establishment Accept, the V-SMF or I-SMF can include all QoS information (e.g. QoS Rule(s) in N1 SM container, QFI(s) and QoS Profile(s) in N2 SM information) for the QoS Flow(s) (acceptable according to VPLMN policies for a HR PDU session); and\n-\tthe epsPdnCnxInfo IE and, for each EPS bearer, an epsBearerInfo IE, if the PDU session may be moved to EPS during its lifetime, for a handover from non-3GPP access to 3GPP access.\nThe content of the POST response may also contain the upSecurity, maxIntegrityProtectedDataRateUl and maxIntegrityProtectedDataRateDl IEs during a handover from non-3GPP access to 3GPP access.\nFor a handover from non-3GPP access to 3GPP access with a V-SMF change, the requirements specified in step 2 of clause 5.2.2.8.2.10 shall also apply.\nUpon receipt of the 200 OK response, the V-SMF or I-SMF shall delete any above information received earlier for the source access type and use the new information received for the target access type (see clause 6.1.6.2.12).\nNOTE:\tAs specified in clause 4.11.1.4.3 of 3GPP TS 23.502 [3], the AMF, the SMF and the UE release locally the EBI(s) allocated to a PDU Session handed over from 3GPP access to non-3GPP access.\nFor a handover from non-3GPP access to 3GPP access, if the PDU session may be moved to EPS during its lifetime, the H-SMF or SMF may send an Update Request towards the V-SMF or I-SMF to request the allocation of EBIs prior to step 2a.\nIf one or more requested QoS flow(s) fail to be established in the target access type, the V-SMF or I-SMF shall send an Update Request including the qosFlowsRelNotifyList attribute to report the failure to the H-SMF or SMF (see clause 5.2.2.8.2.2), or a Release Request to release the PDU session if no QoS flow can be established (see clause 5.2.2.9).\nThe SMF may perform Network Slice Admission Control for the target access and reject the request when the NSAC has failed for the target access.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.8.2.1",
        "clause_5.2.2.8.2.10",
        "clause_6.1.6.2.12",
        "ts_23.502_clause_4.11.1.4.3",
        "clause_5.2.2.8.2.2",
        "clause_5.2.2.9",
        "figure_5.2.2.8.2-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.2.6",
      "section_id": "5.2.2.8.2.6",
      "section_title": "P-CSCF Restoration Procedure via AMF",
      "content": "The requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications:\nThe POST request shall contain:\n-\tthe requestIndication IE set to NW_REQ_PDU_SES_REL;\n-\tthe cause IE set to REL_DUE_TO_REACTIVATION.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_5.2.2.8.2.1",
        "figure_5.2.2.8.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.2.7",
      "section_id": "5.2.2.8.2.7",
      "section_title": "Addition of PSA and BP or UL CL controlled by I-SMF",
      "content": "This clause applies only in case of non-roaming or LBO roaming as control of an UL CL or BP in VPLMN is not supported in HR roaming case (see clause 5.34.4 of 3GPP TS 23.501 [2]).\nAn I-SMF and I-UPF have already been inserted for the PDU session.\nThe requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications:\nThe POST request shall contain:\n-\tthe requestIndication IE set to NW_REQ_PDU_SES_MOD;\n-\tthe indication that an UL CL or BP has been inserted into the data path of the PDU session;\n-\tthe list of DNAIs supported by the inserted PSA;\n-\tthe new UE IPv6 prefix at the PSA, assigned by the I-SMF or by the UPF supporting the PSA, if IPv6 multi-homing applies to the PDU session;\n-\tthe icnTunnelInfo with the N9 tunnel information of the UL CL or BP for the downlink traffic, if a UPF different from the earlier I-UPF is selected for the UL CL or BP.\n2a.\tSame as step 2a of Figure 5.2.2.8.2-1.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.501_clause_5.34.4",
        "clause_5.2.2.8.2.1",
        "figure_5.2.2.8.2-1",
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.2.8",
      "section_id": "5.2.2.8.2.8",
      "section_title": "Removal of PSA and BP or UL CL controlled by I-SMF",
      "content": "This clause applies only in case of non-roaming or LBO roaming as control of an UL CL or BP in VPLMN is not supported in HR roaming case (see clause 5.34.4 of 3GPP TS 23.501 [2]).\nThe requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications:\nThe POST request shall contain:\n-\tthe requestIndication IE set to NW_REQ_PDU_SES_MOD;\n-\tthe indication that an UL CL or BP has been removed from the data path of the PDU session;\n-\tthe removed UE IPv6 prefix at the PSA, if IPv6 multi-homing applies to the PDU session;\n-\tthe list of DNAIs supported by the removed PSA;\n-\tthe icnTunnelInfo with the N9 tunnel information of the I-UPF for the downlink traffic.\n2a.\tSame as step 2a of Figure 5.2.2.8.2-1.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.501_clause_5.34.4",
        "clause_5.2.2.8.2.1",
        "figure_5.2.2.8.2-1",
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.2.9",
      "section_id": "5.2.2.8.2.9",
      "section_title": "Change of PSA for IPv6 multi-homing or UL CL controlled by I-SMF",
      "content": "This clause applies only in case of non-roaming or LBO roaming as control of an UL CL or BP in VPLMN is not supported in HR roaming case (see clause 5.34.4 of 3GPP TS 23.501 [2]).\nThe requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications:\nThe POST request shall contain:\n-\tthe requestIndication IE set to NW_REQ_PDU_SES_MOD;\n-\tthe indication that a PSA is removed and another PSA is inserted;\n-\tthe list of DNAIs supported by the inserted PSA;\n-\tthe new UE IPv6 prefix at the inserted PSA, assigned by the I-SMF or by the UPF supporting the PSA, if IPv6 multi-homing applies to the PDU session;\n-\tthe removed UE IPv6 prefix at the removed PSA, if IPv6 multi-homing applies to the PDU session;\n-\tthe list of DNAIs supported by the removed PSA.\n2a.\tSame as step 2a of Figure 5.2.2.8.2-1.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.501_clause_5.34.4",
        "clause_5.2.2.8.2.1",
        "figure_5.2.2.8.2-1",
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.2.10",
      "section_id": "5.2.2.8.2.10",
      "section_title": "PDU Session modification with I-SMF or V-SMF change",
      "content": "During PDU Session modification with I-SMF or V-SMF change, the NF Service Consumer (i.e. the new V-SMF for a HR PDU session, or the new I-SMF for a PDU session with an I-SMF) shall update the PDU session in the H-SMF or SMF and provide the information of the new I-SMF or V-SMF.\nThe requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following additions:\nThe POST request shall contain:\n-\tthe requestIndication set to NW_REQ_PDU_SES_MOD or UE_REQ_PDU_SES_MOD for network requested or UE requested PDU session modification respectively;\n-\tthe ismfPduSessionUri or vsmfPduSessionUri IE containing the callback URI ({vsmfPduSessionUri} or {ismfPduSessionUri}) representing the PDU session in the new I-SMF or new V-SMF. The H-SMF or SMF shall construct the callback URIs based on the received {vsmfPduSessionUri} or {ismfPduSessionUri} as defined in clause 6.1, e.g. the callback URI \"{vsmfPduSessionUri}/modify\" to modify a PDU session in the V-SMF;\n-\tthe ismfId or vsmfId IE containing the identifier of the new I-SMF or new V-SMF;\n-\toptionally the iSmfServiceInstanceId or vSmfServiceInstanceId IE containing the serviceInstanceId of the new I-SMF or new V-SMF service instance serving the PDU session;\n-\tthe disasterRoamingInd IE set to true if the V-SMF is indicated by the AMF that the UE is registered for Disaster Roaming service;\n-\tthe supportedFeatures IE indicating the features the NF Service Consumer supports, if at least one feature defined in clause 6.1.8 is supported.\n2.\tSame as step 1 of Figure 5.2.2.8.2-1, the SMF shall replace the corresponding information for the old I-SMF or old V-SMF stored locally with the received information. In addition, the SMF shall include the supportedFeatures IE in the response, if the supportedFeatures IE was received in the request and at least one feature defined in clause 6.1.8 is supported by the updated PDU session resource.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.8.2.1",
        "clause_6.1",
        "clause_6.1.8",
        "figure_5.2.2.8.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.2.11",
      "section_id": "5.2.2.8.2.11",
      "section_title": "Sending by I-SMF of N4 notifications related with traffic usage reporting",
      "content": "This clause applies only in case of non-roaming or LBO roaming as control of an UL CL or BP in VPLMN is not supported in HR roaming case (see clause 5.34.4 of 3GPP TS 23.501 [2]).\nThe requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications:\nThe POST request shall contain:\n-\tthe requestIndication IE set to NW_REQ_PDU_SES_MOD;\n-\tN4 information related with traffic usage reporting (i.e. PFCP Session Report Request, see Annex D of 3GPP TS 29.244 [29]);\n-\tthe DNAI related to the N4 information if the latter relates to a local PSA;\n2a.\tSame as step 2a of Figure 5.2.2.8.2-1, with the following modifications:\nThe content of the POST response shall contain:\n-\tN4 response information (i.e. PFCP Session Report Response);\n-\tthe DNAI related to the N4 information if the latter relates to a local PSA.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.501_clause_5.34.4",
        "clause_5.2.2.8.2.1",
        "figure_5.2.2.8.2-1",
        "ts_23.501",
        "ts_29.244"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.2.12",
      "section_id": "5.2.2.8.2.12",
      "section_title": "N2 Handover Execution with I-SMF Insertion",
      "content": "The requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe requestIndication set to NW_REQ_PDU_SES_MOD;\n-\tthe hoPreparationIndication IE set to \"false\", to indicate that there is no handover preparation in progress anymore and that the SMF shall switch the DL user plane of the PDU session;\n-\tthe qosFlowsRelNotifyList IE indicating the failed QoS flow(s), if one or more QoS flow(s) cannot be established at the target RAN.\n2.\tSame as step 2 of Figure 5.2.2.8.2-1, with the following modifications.\nThe SMF shall return a 200 OK response. The SMF shall switch the DL user plane of the PDU session using the N9 tunnel information that has been received in the icnTunnelInfo, if the hoPreparationIndication IE was set to \"false\" in the request.\nIf the handover preparation failed (e.g. the target 5G-AN failed to establish resources for the PDU session), the requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe requestIndication set to NW_REQ_PDU_SES_MOD;\n-\tthe cause attribute set to \"HO_FAILURE\";\n-\tthe NotifyList IE with the cause set to \"UP_SEC_NOT_FULFILLED\", if the PDU Session was rejected by the Target NG-RAN because the User Plane Security Enforcement is not supported in the Target NG-RAN and the User Plane Enforcement Policy indicates \"Required\"; and\n-\tthe hoPreparationIndication IE set to \"false\", to indicate that there is no handover preparation in progress anymore.\n2.\tSame as step 2 of Figure 5.2.2.8.2-1, with the following modifications.\nThe SMF shall return a 200 OK response. If the SMF decides to keep the PDU session, the SMF shall switch the DL user plane of the PDU session using the N9 tunnel information that has been received in the icnTunnelInfo during the handover preparation; otherwise the SMF should trigger the PDU session release as specified in clause 5.2.2.8.3.3.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.8.2.1",
        "clause_5.2.2.8.3.3",
        "figure_5.2.2.8.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.2.13",
      "section_id": "5.2.2.8.2.13",
      "section_title": "N2 Handover Cancellation with I-SMF Insertion",
      "content": "For handover cancellation, the requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe requestIndication set to NW_REQ_PDU_SES_MOD;\n-\tthe cause attribute set to \"HO_CANCEL\";\n-\tthe hoPreparationIndication IE set to \"false\", to indicate that there is no handover preparation in progress anymore.\n2.\tSame as step 2 of Figure 5.2.2.8.2-1, with the following modifications.\nThe SMF shall return a 200 OK response. The SMF shall release the resources prepared for the handover.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.8.2.1",
        "figure_5.2.2.8.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.2.14",
      "section_id": "5.2.2.8.2.14",
      "section_title": "EPS to 5GS Handover Cancellation",
      "content": "If the handover cancellation, the requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe requestIndication set to PDU_SES_MOB;\n-\tthe cause attribute set to \"HO_CANCEL\";\n-\tan empty list of EPS Bearer Ids;\n-\tthe hoPreparationIndication IE set to \"false\", to indicate that there is no handover preparation in progress anymore.\n2.\tSame as step 2 of Figure 5.2.2.8.2-1, with the following modifications.\nThe H-SMF or SMF shall return a 200 OK response. The H-SMF or SMF shall release the resources prepared for the handover. The combined PGW-C+SMF shall not release the PDN connection that was attempted to be handed over.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.8.2.1",
        "figure_5.2.2.8.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.2.15",
      "section_id": "5.2.2.8.2.15",
      "section_title": "5G-AN requested PDU session resource release",
      "content": "This clause applies only in case of 5G-AN requested PDU session resource release by sending the NGAP PDU SESSION RESOURCE NOTIFY to the AMF case (see step 1d in clause 4.3.4.3 of 3GPP TS 23.502 [3]).\nThe requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe requestIndication set to REL_DUE_TO_5G_AN_REQUEST to indicate that the PDU session resource has been released by the 5G-AN.\nAfter receving the request, the SMF may decide to keep the PDU Session (with user plane connection deactivated) or release the PDU Session. If the SMF decides to keep the PDU Session, it shall return \"200 OK\" not including n1SmInfoToUe. If the SMF decides to release the PDU Session, it shall return \"200 OK\" including n1SmInfoToUe binary data containing the Message Type \"PDU Session Release Command\" and possibly PCO and cause information.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.502_clause_4.3.4.3",
        "clause_5.2.2.8.2.1",
        "figure_5.2.2.8.2-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.2.16",
      "section_id": "5.2.2.8.2.16",
      "section_title": "Xn Handover with or without I-SMF or V-SMF Change",
      "content": "The requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe upSecurityInfo IE, if received from the NG-RAN;\n-\tthe qosFlowsRelNotifyList IE indicating the failed QoS flow(s), if one or more QoS flow(s) cannot be established at the target RAN.\nFor an Xn handover with an I-SMF or V-SMF change, the requirements specified in step 1 of clause 5.2.2.8.2.10, other than how to set the requestIndication, shall also apply.\n2.\tSame as step 2 of Figure 5.2.2.8.2-1, with the following modifications.The SMF shall verify that the upSecurity IE included in the received upSecurityInfo IE is same as the security policy for integrity protection and encryption that the SMF has locally stored. If there is a mismatch, the SMF shall send its locally stored security policy for integrity protection and encryption in upSecurity IE to NG-RAN as specified in clause 6.6.1 of 3GPP TS 33.501 [17].\nFor an Xn handover with an I-SMF or V-SMF change, the requirements specified in step 2 of clause 5.2.2.8.2.10 shall also apply.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.8.2.1",
        "clause_5.2.2.8.2.10",
        "ts_33.501_clause_6.6.1",
        "figure_5.2.2.8.2-1",
        "ts_33.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.2.17",
      "section_id": "5.2.2.8.2.17",
      "section_title": "EPS to 5GS Handover Failure",
      "content": "If the handover to 5GS failed, e.g. rejected by the target NG-RAN, the requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe requestIndication set to PDU_SES_MOB;\n-\tthe cause attribute set to \"HO_FAILURE\";\n-\tan empty list of EPS Bearer Ids;\n-\tthe hoPreparationIndication IE set to \"false\", to indicate that there is no handover preparation in progress anymore.\n2.\tSame as step 2 of Figure 5.2.2.8.2-1, with the following modifications.\nThe H-SMF or SMF shall return a 200 OK response. The H-SMF or SMF shall release the resources prepared for the handover. The combined PGW-C+SMF shall not release the PDN connection that was attempted to be handed over.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.8.2.1",
        "figure_5.2.2.8.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.2.18",
      "section_id": "5.2.2.8.2.18",
      "section_title": "EPS Bearer ID revocation",
      "content": "When the AMF decides to revoke some EBI(s) and the I-SMF or V-SMF receives the request from AMF, the requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\nThe requestIndication shall be set to EBI_ASSIGNMENT_REQ.\nThe NF Service Consumer shall include the revokeEbiList IE to request the SMF to release some EBI(s). The SMF shall disassociate the EBI(s) with the QFI(s) with which they are associated.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.8.2.1",
        "figure_5.2.2.8.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.2.19",
      "section_id": "5.2.2.8.2.19",
      "section_title": "Network requested PDU session release",
      "content": "The requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe requestIndication set to NW_REQ_PDU_SES_REL.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.8.2.1",
        "figure_5.2.2.8.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.2.20",
      "section_id": "5.2.2.8.2.20",
      "section_title": "N2 Handover Execution with or without I-SMF or V-SMF Change",
      "content": "The requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe qosFlowsRelNotifyList IE indicating the failed QoS flow(s), if one or more QoS flow(s) cannot be established at the target RAN.\nFor an N2 handover with an I-SMF or V-SMF change, the requirements specified in step 1 of clause 5.2.2.8.2.10, other than how to set the requestIndication, shall also apply.\n2.\tSame as step 2 of Figure 5.2.2.8.2-1, with the following modifications.For an N2 handover with an I-SMF or V-SMF change, the requirements specified in step 2 of clause 5.2.2.8.2.10 shall also apply.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.8.2.1",
        "clause_5.2.2.8.2.10",
        "figure_5.2.2.8.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.2.21",
      "section_id": "5.2.2.8.2.21",
      "section_title": "Reporting of satellite backhaul change to (H-)SMF",
      "content": "If the V-SMF/I-SMF and the anchor SMF support the 5GSAT feature (see clause 6.1.8), the V-SMF/I-SMF shall report a change of the satellite backhaul category used towards the 5G AN currently serving the UE if:\n-\tthe satelliteBackhaulCat IE has been received from the AMF and there is a change of the satelliteBackhaulCat IE compared to what has been signalled earlier to the (H-)SMF (as determined from the SmContext); or\n-\tupon inter-AMF mobility (when a target AMF is taking over the control of the PDU session), the new AMF does not include the satelliteBackhaulCat IE and a satellite backhaul category had been signalled to the SMF (as determined from the SmContext).\nTo report a change of the satellite backhaul category, the requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe requestIndication IE set to NW_REQ_PDU_SES_MOD, unless specified otherwise in clause 5.2.2.8. if the change of the satelliteBackhaulCat IE is detected during a procedure for which it is requested to report a different requestIndication value; and\n-\tthe satelliteBackhaulCat IE set to the value received from the AMF or, in the latter case, set to the value \"NON_SATELLITE\" to indicate that there is no longer any satellite backhaul towards the new 5G AN serving the UE.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1.8",
        "clause_5.2.2.8.2.1",
        "clause_5.2.2.8",
        "figure_5.2.2.8.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.2.22",
      "section_id": "5.2.2.8.2.22",
      "section_title": "Simultaneous change of PSA and BP or UL CL controlled by I-SMF",
      "content": "This clause applies only in case of non-roaming or LBO roaming as control of an UL CL or BP in VPLMN is not supported in HR roaming case (see clause 5.34.4 of 3GPP TS 23.501 [2]).\nThe requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications:\nThe POST request shall contain:\n-\tthe requestIndication IE set to NW_REQ_PDU_SES_MOD;\n-\ta PsaInformation corresponding to the new PSA:\n-\ta PsaIndication set to \"PSA_INSERTED\";\n-\tthe list of DNAIs supported by the inserted PSA;\n-\tthe new UE IPv6 prefix at the inserted PSA, assigned by the I-SMF or by the UPF supporting the PSA, if IPv6 multi-homing applies to the PDU session;\n-\tthe NF Instance Id of the inserted PSA;\n-\ta UlclBpInformation corresponding to the new UL CL or BP if it separate from the new PSA:\n-\tthe NF Instance Id of the inserted UL CL or BP;\n-\ta PsaInformation corresponding to the removed PSA, if either the I-SMF or the SMF does not support the \"N9FSC\" feature:\n-\ta PsaIndication set to \"PSA_REMOVED\";\n-\tthe removed UE IPv6 prefix at the removed PSA, if IPv6 multi-homing applies to the PDU session;\n-\tthe list of DNAIs supported by the removed PSA.\nNOTE:\tThe I-SMF only includes the PsaInformation corresponding to the new PSA and the UlclBpInformation corresponding to the new UL CL or BP during simultaneous change of PSA and BP or UL CL as specified in clause D.2.7 of 3GPP TS 29.244 [29], if both the I-SMF and SMF support the \"N9FSC\" feature. This enables the SMF to possibly request the I-SMF to apply data forwarding between the old and the new UL CL/BP, in which case the I-SMF later informs the SMF that it has removed the old UL CL/BP and local PSA upon user plane inactivity of the N9 data forwarding tunnel.\n2a.\tSame as step 2a of Figure 5.2.2.8.2-1.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.501_clause_5.34.4",
        "clause_5.2.2.8.2.1",
        "figure_5.2.2.8.2-1",
        "ts_23.501",
        "ts_29.244"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.2.23",
      "section_id": "5.2.2.8.2.23",
      "section_title": "Service Request without I-SMF/V-SMF Change or with I-SMF/V-SMF Change or with I-SMF Insertion",
      "content": "During a Service Request without I-SMF/V-SMF Change or with I-SMF/V-SMF Change or with I-SMF Insertion, the NF Service Consumer (i.e. the V-SMF for a HR PDU session, or the I-SMF for a PDU session with an I-SMF) shall update the PDU session in the H-SMF or SMF as follows:\nFigure 5.2.2.8.2.23-1: PDU session update towards H-SMF or SMF during Service Request\nThe requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall additionally contain:\n-\tthe upCnxState IE set to ACTIVATING if the User Plane resource for the PDU Session is going to be established by the I-SMF/V-SMF.\n2a. Same as step 2a of Figure 5.2.2.8.2-1, with the following modifications.\nThe SMF shall behave as specified in clause as specified in clause 4.23.4.2 (step 7a) and clause 4.23.4.3 (step 8a) of 3GPP TS 23.502 [3].\n2b.\tSame as step 2b of Figure 5.2.2.8.2-1.\n3.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall additionally contain:\n-\tthe upCnxState IE set to ACTIVATED when User Plane resource has been established, if the upCnxState IE with the value ACTIVATING was previously provided to the SMF in the procedure, via a previous Update operation (step 1) or via Create operation for I-SMF/V-SMF insertion (see clause 5.2.2.7.6).\n4a.\tSame as step 2a of Figure 5.2.2.8.2-1, with the following modifications.\nThe SMF shall behave as specified in clause as specified in clause 4.23.4.2 (step 16) and clause 4.23.4.3 (step 20a) of 3GPP TS 23.502 [3].\n4b.\tSame as step 2b of Figure 5.2.2.8.2-1.\nNOTE:\tThe upCnxState IE set to ACTIVATING or ACTIVATED implements the \"Operation Type\" parameter set to \"UP Activate\" or \"UP Activated\" (respectively) specified in clause 4.23.4.2 (step 7a, 16) and clause 4.23.4.3 (step 8a, 20a) in 3GPP TS 23.502 [3].",
      "chunk_type": "general",
      "cross_references": [
        "clause_5.2.2.8.2.1",
        "clause_4.23.4.2",
        "ts_23.502_clause_4.23.4.3",
        "clause_5.2.2.7.6",
        "clause_4.23.4.3",
        "figure_5.2.2.8.2.23-1",
        "figure_5.2.2.8.2-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.2.24",
      "section_id": "5.2.2.8.2.24",
      "section_title": "Remote UE Report during 5G ProSe Communication via 5G ProSe Layer-3 UE-to-Network Relay without N3IWF",
      "content": "The requirements specified in clause 5.2.2.8.2.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.2-1, with the following modifications.\nThe POST request shall contain:\n-\tthe n1SmInfoFromUe IE containing \"Remote UE context connected\" and/or \"Remote UE context disconnected\" NAS IE.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.8.2.1",
        "figure_5.2.2.8.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.3.1",
      "section_id": "5.2.2.8.3.1",
      "section_title": "General",
      "content": "The NF Service Consumer (i.e. the H-SMF for a HR PDU session, or the SMF for a PDU session with an I-SMF) shall update a PDU session in the V-SMF or I-SMF and/or provide information necessary for the V-SMF or I-SMF to send N1 SM signalling to the UE, or request to allocate or revoke EPS Bearer ID(s) for the PDU session, by using the HTTP \"modify\" custom operation as shown in Figure 5.2.2.8.3.1-1.\nFigure 5.2.2.8.3.1-1: PDU session update towards V-SMF or I-SMF\n1.\tThe NF Service Consumer shall send a POST request to the resource representing the individual PDU session resource in the V-SMF or I-SMF. The content of the POST request shall contain:\n-\tthe requestIndication IE indicating the request type, which is set to NW_REQ_PDU_SES_MOD;\n-\tthe modification instructions and/or the information necessary for the V-SMF or I-SMF to send N1 SM signalling to the UE;\n-\tthe hsmfPduSessionUri IE if the Update Request is sent to the V-SMF or I-SMF before the Create Response, and the H-SMF or SMF PDU session resource URI has not been previously provided to the V-SMF or I-SMF; in this case, the supportedFeatures IE shall also be included if at least one feature defined in clause 6.1.8 is supported.\nThe content of the POST request may further contain:\n-\tthe (updated) pending update information list.\nIf the PDU session may be moved to EPS with N26 and the EPS PDN Connection Context information of the PDU session is changed, e.g. due to a new anchor SMF is reselected, the content shall include the \"epsPdnCnxInfo\" IE including the updated EPS PDN Connection Context information. The NF Service consumer shall overwrite the locally stored EPS PDN Connection Context information with the new one if received.\nIf the service operation is invoked after the reselection of the anchor SMF and the change of anchor SMF has not been signalled to the V-SMF or I-SMF previously, the request may carry the SMF Instance ID of the new anchor SMF and the updated PDU session resource URI in the HTTP content, and/or carry an updated binding indication in the HTTP headers to indicate the change of anchor SMF (as per step 6 of clause 6.5.3.3 of 3GPP TS 29.500 [4]).\nFor a HR-SBO session, the content of the POST request may also contain the hrsboInfo IE including the HR-SBO information sent from the HPLMN, e.g., due to a change of the user subscription data or policy information. If the VPLMN Specific Offloading Information for a given Offload Identifier is changed, for each V-SMF service instance using the Offload Identifier, the H-SMF shall choose one existing HR-SBO PDU Session served by the V-SMF service instance and using the Offload Identifier to update VPLMN Specific Offloading Information and corresponding Offload Identifier to the V-SMF service instance.\n2a.\tOn success, \"204 No Content\" or \"200 OK\" shall be returned; in the latter case, the content of the POST response shall contain the representation describing the status of the request and/or information received by the V-SMF or I-SMF in N1 signalling from the UE.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.7.4.2.2-1 shall be returned. For a 4xx/5xx response, the message body shall contain a VsmfUpdateError structure, including:\n-\ta ProblemDetails structure with the \"cause\" attribute set to one of the application error listed in Table 6.1.3.7.4.2.2-1;\n-\tthe n1SmCause IE with the 5GSM cause returned by the UE, if available;\n-\tn1SmInfoFromUe and/or unknownN1SmInfo binary data, if NAS SM information has been received from the UE that needs to be transferred to the H-SMF or SMF, or that the V-SMF or I-SMF does not comprehend;\n-\tthe procedure transaction id received from the UE, if available.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6.1.8",
        "ts_29.500_clause_6.5.3.3",
        "table_6.1.3.7.4.2.2-1",
        "figure_5.2.2.8.3.1-1",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.3.2",
      "section_id": "5.2.2.8.3.2",
      "section_title": "Network (e.g. H-SMF, SMF) requested PDU session modification",
      "content": "The requirements specified in clause 5.2.2.8.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe requestIndication shall be set to NW_REQ_PDU_SES_MOD.\nAs part of the modification instructions, the NF Service Consumer may request to modify QoS parameters applicable at the PDU session level (e.g. modify the authorized Session AMBR values) or at the QoS flow level (e.g. modify the MFBR of a particular QoS flow).The NF Service Consumer may request to establish, modify and/or release QoS flows by including the qosFlowsAddModRequestList IE and/or the qosFlowsRelRequestList IE in the content.\nThe H-SMF or SMF may provide alternative QoS profiles for each GBR QoS flow with Notification control enabled, to allow the NG-RAN to accept the setup of the QoS flow if the requested QoS parameters or at least one of the alternative QoS parameters sets can be fulfilled at the time of setup. If the H-SMF or SMF provides a new list of alternative QoS profile(s) for a given GBR Qos flow, the V-SMF or I-SMF shall replace any previously stored list for this Qos flow with it.\nThe NF Service Consumer may include epsBearerInfo IE(s), if the PDU session may be moved to EPS during its lifetime and the EPS Bearer(s) information has changed (e.g. a new EBI has been assigned or the mapped EPS bearer QoS for an existing EBI has changed).\nThe NF Service Consumer may include the modifiedEbiList IE if the PDU session modification procedure resulted in the change of ARP for a QoS flow that has already been allocated an EBI.\nThe NF Service Consumer may include the revokeEbiList IE to request the V-SMF or I-SMF to release some EBI(s) and delete any corresponding EPS bearer context stored in the V-SMF or I-SMF. The V-SMF or I-SMF shall disassociate the EBI(s) with the QFI(s) with which they are associated.\nThe H-SMF may include the hrsboInfo IE if the V-SMF supports the HR-SBO feature and if the H-SMF needs to update the HR-SBO information towards the V-SMF, e.g. due to a change of the user subscription data or policy information. When doing so, H-SMF shall include the complete information for HR-SBO and the V-SMF shall replace any earlier received HR-SBO information by the new HR-SBO information.\n2.\tSame as step 2 of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe V-SMF or I-SMF may accept all or only a subset of the QoS flows requested to be created or modified within the request.The list of QoS flows which have been successfully setup or modified, and those which failed to be so, if any, shall be included in the qosFlowsAddModList IE and/or the qosFlowsFailedtoAddModList IE respectively. If any QoS flow(s) are failed to be setup or modified due to rejection by the V-SMF, the V-SMF may also include the qosFlowsVsmfRejectedAddModList IE with the QoS flow(s) that are rejected by the V-SMF.\nThe V-SMF or I-SMF may report an alternative QoS profile which the NG-RAN currently fulfils in the currentQosProfileIndex IE of the corresponding Qos flow in the qosFlowsAddModList IE, or report that the NG-RAN cannot even fulfil the lowest alternative QoS profile by setting the nullQoSProfileIndex IE to \"true\" for the corresponding Qos flow in the qosFlowsAddModList IE.\nIf the NG-RAN rejects the establishment of a voice QoS flow due to EPS Fallback for IMS voice (see clause 4.13 of 3GPP TS 23.502 [3]), the V-SMF or I-SMF shall return the cause indicating that \"mobility due to EPS fallback for IMS voice is on-going\" for the corresponding flow in the qosFlowsFailedtoAddModList IE.\nThe list of QoS flows which have been successfully released, and those which failed to be so, if any, shall be included in the qosFlowsRelList and/or qosFlowsFailedtoRelList IE respectively.For a QoS flow which failed to be modified, the V-SMF or I-SMF shall fall back to the configuration of the QoS flow as it was configured prior to the reception of the PDU session update request from the NF Service Consumer.\nThe V-SMF or I-SMF shall store any EPS bearer information received from the H-SMF or SMF. If the revokeEbiList IE is present in the request, the V-SMF or I-SMF shall request delete the corresponding EPS bearer contexts and request the AMF to release the EBIs listed in this IE. If the modifiedEbiList IE is present in the request, the V-SMF or I-SMF shall request the AMF to update the mapping of EBI and ARP if the EAEA feature is supported by both the AMF and the V-SMF (or I-SMF), otherwise the V-SMF (or I-SMF) should indicate in the response that the modifiedEbiList was not delivered to the AMF.\nIf the request received from the H-SMF or SMF contains the alwaysOnGranted attribute set to true, the V-SMF or I-SMF shall check and determine whether the PDU session can be established as an always-on PDU session based on local policy.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.8.3.1",
        "ts_23.502_clause_4.13",
        "figure_5.2.2.8.3.1-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.3.3",
      "section_id": "5.2.2.8.3.3",
      "section_title": "Network (e.g. H-SMF, SMF) or UE requested PDU session release",
      "content": "The requirements specified in clause 5.2.2.8.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe requestIndication shall be set to NW_REQ_PDU_SES_REL or UE_REQ_PDU_SES_REL for a Network requested PDU session release or UE requested PDU session release respectively.\n2.\tSame as step 2 of Figure 5.2.2.8.3.1-1, with the following modifications.\nIf the requestIndication in the request is set to NW_REQ_PDU_SES_REL or UE_REQ_PDU_SES_REL, the V-SMF or I-SMF shall initiate the release of RAN resources allocated for the PDU session if any and shall send a PDU session release command to the UE.\nThe V-SMF or I-SMF shall not release the SM context for the PDU session.\nNOTE:\tThe SM context will be released when receiving Status notification from the H-SMF or SMF indicating the PDU session is released in the H-SMF or SMF.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.8.3.1",
        "figure_5.2.2.8.3.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.3.4",
      "section_id": "5.2.2.8.3.4",
      "section_title": "Handover between 3GPP and untrusted non-3GPP access, from 5GC-N3IWF to EPS or from 5GS to EPC/ePDG",
      "content": "The requirements specified in clause 5.2.2.8.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe NF Service Consumer shall request the source V-SMF or I-SMF to release the resources in the VPLMN without sending a PDU session release command to the UE, by setting the requestIndication IE to NW_REQ_PDU_SES_REL and the Cause IE indicating \"Release due to Handover\", in the following scenarios:\n-\tHandover of a PDU session between 3GPP and untrusted non-3GPP access, when the UE is roaming and the selected N3IWF is in the HPLMN (see clause 4.9.2.4.2 of 3GPP TS 23.502 [3]);\n-\tHandover from 5GC-N3IWF to EPS (see clause 4.11.3.2 of 3GPP TS 23.502 [3]);\n-\tHandover from 5GS to EPC/ePDG (see clause 4.11.4.2 of 3GPP TS 23.502 [3]).\n2.\tSame as step 2 of Figure 5.2.2.8.3.1-1, with the following modifications.\nIf the requestIndication in the request is set to NW_REQ_PDU_SES_REL and if the Cause IE indicates \"Release due to Handover\", the V-SMF or I-SMF shall initiate the release of RAN resources reserved for the PDU session if any but shall not send a PDU session release command to the UE.\nThe V-SMF or I-SMF shall not release the SM context for the PDU session.\nNOTE:\tThe SM context will be released when receiving Status notification from the H-SMF or SMF indicating the PDU session is released in the H-SMF or SMF.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.8.3.1",
        "ts_23.502_clause_4.9.2.4.2",
        "ts_23.502_clause_4.11.3.2",
        "ts_23.502_clause_4.11.4.2",
        "figure_5.2.2.8.3.1-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.3.5",
      "section_id": "5.2.2.8.3.5",
      "section_title": "EPS Bearer ID assignment",
      "content": "The requirements specified in clause 5.2.2.8.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe requestIndication shall be set to EBI_ASSIGNMENT_REQ.\nThe NF Service Consumer may include the assignEbiList IE to request the allocation of EBI(s). The NF Service Consumer may include the revokeEbiList IE to request the V-SMF or I-SMF to release some EBI(s) and delete any corresponding EPS bearer context stored in the V-SMF or I-SMF. The V-SMF or I-SMF shall disassociate the EBI(s) with the QFI(s) with which they are associated.\nNOTE:\tThe SMF does not request EBI allocation when MA PDU Session is established only over non-3GPP access. For MA PDU Session with both 3GPP and non-3GPP accesses, the SMF does not allocate EBI(s) for GBR QoS Flow(s) that are only allowed over non-3GPP access.\nUpon receipt of this request, the V-SMF or I-SMF shall request the AMF to assign (and release if required) EBIs (see clause 5.2.2.6 of 3GPP TS 29.518 [20].\n2a.\tSame as step 2a of Figure 5.2.2.8.3.1-1, with the following modifications.\nIf the AMF has successfully assigned all or part of the requested EBIs, the V-SMF or I-SMF shall respond with the status code 200 OK, and include the list of EBIs successfully allocated, those which failed to be so if any, and the list of EBIs released for this PDU session at AMF if any, in the assignedEbiList IE, the failedtoAssignEbiList IE and/or the releasedEbiList IE respectively.\n2b.\tSame as step 2b of Figure 5.2.2.8.3.1-1, with the following modifications.\nFor a 4xx/5xx response, the message body shall contain a VsmfUpdateError structure, including the list of EBIs which failed to be allocated in the failedtoAssignEbiList IE.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.8.3.1",
        "ts_29.518_clause_5.2.2.6",
        "figure_5.2.2.8.3.1-1",
        "ts_29.518"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.3.6",
      "section_id": "5.2.2.8.3.6",
      "section_title": "Addition of PSA and BP or UL CL controlled by I-SMF",
      "content": "The requirements specified in clause 5.2.2.8.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe requestIndication shall be set to NW_REQ_PDU_SES_MOD.\nThe content of the POST request shall contain:\n-\tN4 information for the handling of the local traffic that is offloaded at the PSA (see Annex D of 3GPP TS 29.244 [29]);\n-\tN4 information for the local offload rules at the UL CL/BP (see Annex D of 3GPP TS 29.244 [29]);\n-\tthe DNAI related to N4 information targeting the local PSA;\n-\tthe indication that the DNAI shall not change, if applicable;\n-\tthe indication that the local PSA shall not change, if applicable.\nFor the Simultaneous change of Branching Points or UL CLs controlled by different I-SMFs (see clause 4.23.9.5 of 3GPP TS 23.502 [3]), the POST request may also contain:\n-\tn9DataForwardingInd set to true, if the N9 Forwarding Tunnel establishment between Branching Points or UL CLs to support the EAS session continuity is required;\n-\tn9UlPdrIdList pointing to the UL PDR(s) included in the N4 information for UL N9 forwarding in the target Branching Point or UL CL to support the EAS session continuity;\n-\tn9InactivityTimer to detect the end of activity on the N9 forwarding tunnel to support the EAS session continuity.\n2a.\tSame as step 2a of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe content of the POST response shall contain:\n-\tN4 response information;\n-\tthe DNAI related to the N4 information if the latter relates to a local PSA.\n2b.\tSame as step 2b of Figure 5.2.2.8.3.1-1, with the following modifications.\nFor a 4xx/5xx response, the message body shall contain a VsmfUpdateError structure, including N4 response information if available (e.g. PFCP Session Establishment Response with a rejection cause).",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.8.3.1",
        "ts_23.502_clause_4.23.9.5",
        "figure_5.2.2.8.3.1-1",
        "ts_29.244",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.3.7",
      "section_id": "5.2.2.8.3.7",
      "section_title": "Removal of PSA and BP or UL CL controlled by I-SMF",
      "content": "The requirements specified in clause 5.2.2.8.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe requestIndication shall be set to NW_REQ_PDU_SES_MOD.\nThe content of the POST request shall contain:\n-\tN4 information for the removal of the local offload rules at the UL CL/BP and PSA (see Annex D of 3GPP TS 29.244 [29]);\n-\tthe DNAI related to N4 information targeting the local PSA.\n2a.\tSame as step 2a of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe content of the POST response shall contain:\n-\tN4 response information;\n-\tthe DNAI related to the N4 information if the latter relates to a local PSA.\n2b.\tSame as step 2b of Figure 5.2.2.8.3.1-1, with the following modifications.\nFor a 4xx/5xx response, the message body shall contain a VsmfUpdateError structure, including N4 response information if available (e.g. PFCP Session Deletion Response with a rejection cause).",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.8.3.1",
        "figure_5.2.2.8.3.1-1",
        "ts_29.244"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.3.8",
      "section_id": "5.2.2.8.3.8",
      "section_title": "Change of PSA for IPv6 multi-homing or UL CL controlled by I-SMF",
      "content": "The requirements specified in clause 5.2.2.8.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe requestIndication shall be set to NW_REQ_PDU_SES_MOD.\nThe content of the POST request shall contain:\n-\tN4 information for the removal of the local offload rules at the removed PSA (see Annex D of 3GPP TS 29.244 [29]);\n-\tN4 information for the handling of the local traffic that is offloaded at the inserted PSA (see Annex D of 3GPP TS 29.244 [29]);\n-\tN4 information for the updating of the local offload rules at the UL CL/BP (see Annex D of 3GPP TS 29.244 [29]);\n-\tthe DNAIs related to N4 information targeting the removed or inserted PSA.\n2a.\tSame as step 2a of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe content of the POST response shall contain:\n-\tN4 response information;\n-\tthe DNAI related to the N4 information if the latter relates to a local PSA.\n2b.\tSame as step 2b of Figure 5.2.2.8.3.1-1, with the following modifications.\nFor a 4xx/5xx response, the message body shall contain a VsmfUpdateError structure, including N4 response information if available (e.g. PFCP Session Establishment Response with a rejection cause).",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.8.3.1",
        "figure_5.2.2.8.3.1-1",
        "ts_29.244"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.3.9",
      "section_id": "5.2.2.8.3.9",
      "section_title": "Policy update procedures with an I-SMF",
      "content": "The requirements specified in clause 5.2.2.8.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe requestIndication shall be set to NW_REQ_PDU_SES_MOD.\nThe content of the POST request may contain:\n-\tN4 information updating local offload rules at the I-SMF (see Annex D of 3GPP TS 29.244 [29]);\n-\tthe DNAI related to the N4 information if the latter relates to a local PSA;\n-\tan updated list of DNAI(s) of interest for the PDU Session.\n2a.\tSame as step 2a of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe content of the POST response shall contain:\n-\tN4 response information, if N4 information was received in the request;\n-\tthe DNAI related to the N4 information if the latter relates to a local PSA.\n2b.\tSame as step 2b of Figure 5.2.2.8.3.1-1, with the following modifications.\nFor a 4xx/5xx response, the message body shall contain a VsmfUpdateError structure, including N4 response information if available (e.g. PFCP Session Modification Response with a rejection cause).",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_5.2.2.8.3.1",
        "figure_5.2.2.8.3.1-1",
        "ts_29.244"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.3.10",
      "section_id": "5.2.2.8.3.10",
      "section_title": "Simultaneous change of PSA and BP or UL CL controlled by I-SMF",
      "content": "The requirements specified in clause 5.2.2.8.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe requestIndication shall be set to NW_REQ_PDU_SES_MOD.\nThe content of the POST request shall contain:\n-\tN4 information for the removal of the local offload rules at the removed PSA (see Annex D of 3GPP TS 29.244 [29]);\n-\tN4 information for the handling of the local traffic that is offloaded at the inserted PSA (see Annex D of 3GPP TS 29.244 [29]);\n-\tN4 information for the removal of the local offload rules at the removed UL CL/BP (see Annex D of 3GPP TS 29.244 [29]);\n-\tN4 information for the creation of the local offload rules at the inserted UL CL/BP (see Annex D of 3GPP TS 29.244 [29]);\n-\tthe DNAIs related to N4 information targeting the removed or inserted PSA.\nThe content of the POST request may contain:\n-\tn9DataForwardingInd set to true, if the N9 Forwarding Tunnel establishment between Branching Points or UL CLs to support the EAS session continuity is required;\n-\tn9UlPdrIdList pointing to the UL PDR(s) included in the N4 information for UL N9 forwarding in the target Branching Point or UL CL to support the EAS session continuity;\n-\tn9InactivityTimer to detect the end of activity on the N9 forwarding tunnel to support the EAS session continuity.\nThe SMF may only include the N4 information for the inserted PSA and the inserted UL CL/BP as specified in clause D.2.7 of 3GPP TS 29.244 [29], if the I-SMF only includes the PsaInformation corresponding to the new PSA and the UlclBpInformation corresponding to the new UL CL or BP during simultaneous change of PSA and BP or UL CL and data forwarding between the new and old UL CL/BPs for EAS session continuity is required.\n2a.\tSame as step 2a of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe content of the POST response shall contain:\n-\tN4 response information;\n-\tthe DNAI related to the N4 information if the latter relates to a local PSA.\n2b.\tSame as step 2b of Figure 5.2.2.8.3.1-1, with the following modifications.\nFor a 4xx/5xx response, the message body shall contain a VsmfUpdateError structure, including N4 response information if available (e.g. PFCP Session Establishment Response with a rejection cause).",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.8.3.1",
        "figure_5.2.2.8.3.1-1",
        "ts_29.244"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.8.3.11",
      "section_id": "5.2.2.8.3.11",
      "section_title": "Network (e.g. AMF) triggered network slice replacement with PDU session retained",
      "content": "During network slice replacement procedure, for HR PDU session, if the H-SMF determines to retain the PDU session for the alternative HPLMN S-NSSAI, the H-SMF shall use this procedure to instruct the V-SMF that the PDU session is retained for the alternative HPLMN S-NSSAI (see clause 4.3.3.3 of 3GPP TS 23.502 [3]).\nThe requirements specified in clause 5.2.2.8.3.1 shall apply with the following modifications.\n1.\tSame as step 1 of Figure 5.2.2.8.3.1-1, with the following modifications.\nThe requestIndication shall be set to NW_REQ_PDU_SES_MOD.\nThe content of the POST request shall contain:\n-\tan altHplmnSnssai IE to indicate the alternative HPLMN S-NSSAI applied to the PDU session;\n-\ta pduSessionRetainInd IE to indicate the PDU session is retained;\n2a.\tSame as step 2a of Figure 5.2.2.8.3.1-1.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.502_clause_4.3.3.3",
        "clause_5.2.2.8.3.1",
        "figure_5.2.2.8.3.1-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.9.1",
      "section_id": "5.2.2.9.1",
      "section_title": "General",
      "content": "The Release service operation shall be used to request an immediate and unconditional deletion of an invidual PDU session resource in the SMF (i.e. in the H-SMF for a HR PDU session, or in the SMF for a PDU session with an I-SMF).\nIt is invoked by the NF Service Consumer (i.e. V-SMF or I-SMF) in the following procedures:\n-\tUE initiated Deregistration (see clause 4.2.2.3.2 of 3GPP TS 23.502 [3]);\n-\tNetwork initiated Deregistration (see clause 4.2.2.3.2 of 3GPP TS 23.502 [3]), e.g. AMF initiated deregistration;\n-\tvisited network requested PDU Session release (see clause 4.3.4.3 of 3GPP TS 23.502 [3]), e.g. AMF initiated release in the following cases:\n-\twhen there is a mismatch of the PDU session status between the UE and the AMF;\n-\twhen a network slice is no longer available;\n-\twhen the PDU session is rejected by the new AMF to the old AMF during Registration procedure (as described in clause 4.2.2.2.2 of 3GPP TS 23.502 [3]); or\n-\tdue to Mobility or Access Restrictions (see clause 5.16.4.3 of 3GPP TS 23.501 [2]).\n-\t5GS to EPS handover using N26 interface and 5GS to EPS Idle mode mobility using N26, to release the PDU session not transferred to EPC (see clauses 4.11.1.2.1 and 4.11.1.3.2 of 3GPP TS 23.502 [3]);\n-\tPDU session release procedure, for a PDU session with an I-SMF (see clause 4.23.5.2 of 3GPP TS 23.502 [3]);\n-\t5G-SRVCC from NG-RAN to 3GPP UTRAN procedure (see clause 6.5.4 of 3GPP TS 23.216 [35]).\nThe SMF shall release the PDU session context without triggering any signalling towards the 5G-AN and the UE.\nThe NF Service Consumer shall release a PDU session in the SMF by using the HTTP \"release\" custom operation as shown in Figure 5.2.2.9.1-1.\nFigure 5.2.2.9.1-1: Pdu session release\n1.\tThe NF Service Consumer shall send a POST request to the resource representing the individual PDU session resource in the SMF. The content of the POST request shall contain any data that needs to be passed to the SMF.\nIf an UL CL/BP was inserted in the data path of the PDU session and traffic usage measurements need to be reported to the SMF, the POST request shall contain:\n-\tN4 information related with traffic usage reporting (i.e. PFCP Session Report Request, see Annex D of 3GPP TS 29.244 [29]);\n-\tthe DNAI related to the N4 information if the latter relates to a local PSA.\nIf VPLMN QoS constraints are required for the PDU session and the H-SMF provides QoS parameters not complying with VPLMN QoS required by the V-SMF, the V-SMF may release the PDU session with the \"cause\" attribute set to \"REL_DUE_TO_VPLMN_QOS_FAILURE\".\n2a.\tOn success, the SMF shall return a \"200 OK\" with message body containing the representation of the ReleasedData when information needs to be returned to the NF Service Consumer, or a \"204 No Content\" response with an empty content in the POST response.\nIf N4 information was received in the request, the POST response shall contain:\n-\tN4 response information (i.e. PFCP Session Report Response);\n-\tthe DNAI related to the N4 information if the latter relates to a local PSA.\nIf the request body contains the \"cause\" attribute with the value \"REL_DUE_TO_PS_TO_CS_HO\", the (H-) SMF shall indicate to the PCF within SM Policy Association termination that the PDU session is released due to 5G-SRVCC.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.6.4.3.2-2 shall be returned. For a 4xx/5xx response, the message body shall contain a ProblemDetails structure with the \"cause\" attribute set to one of the application errors listed in Table 6.1.3.6.4.3.2-2.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.502_clause_4.2.2.3.2",
        "ts_23.502_clause_4.3.4.3",
        "ts_23.502_clause_4.2.2.2.2",
        "ts_23.501_clause_5.16.4.3",
        "ts_23.502_clause_4.23.5.2",
        "ts_23.216_clause_6.5.4",
        "table_6.1.3.6.4.3.2-2",
        "figure_5.2.2.9.1-1",
        "ts_23.502",
        "ts_23.501",
        "ts_23.216",
        "ts_29.244"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.10.1",
      "section_id": "5.2.2.10.1",
      "section_title": "General",
      "content": "The Notify Status service operation shall be used to notify the NF Service Consumer about status changes of a PDU session (e.g. when the PDU session is released and the release is not triggered by a Release Request, or when the PDU session is moved to another system, or when the control of the PDU session is taken over by another anchor SMF), for a HR PDU session or a PDU session involving an I-SMF.\nIt is used in the following procedures:\n-\tHome network requested PDU Session release (see clause 4.3.4.3 of 3GPP TS 23.502 [3]), e.g. H-SMF initiated release;\n-\tSMF requested PDU session release, for a PDU session involving an I-SMF (see clause 4.23 of 3GPP TS 23.502 [3]);\n-\tHandover of a PDU Session procedure from 3GPP to untrusted non-3GPP access (see clauses 4.9.2.4.2 and 4.23.16.2 of 3GPP TS 23.502 [3]);\n-\tInterworking procedures without N26 interface, e.g. 5GS to EPS Mobility (see clause 4.11.2.2 of 3GPP TS 23.502 [3]);\n-\tHandover from 5GC-N3IWF to EPS (see clause 4.11.3.2 of 3GPP TS 23.502 [3]);\n-\tHandover from 5GS to EPC/ePDG (see clause 4.11.4.2 of 3GPP TS 23.502 [3]);\n-\tThe control of PDU session is taken over by a new anchor SMF within the same SMF set (see clause 5.22 of 3GPP TS 29.244 [29]), and the new SMF instance decides to notify the change of SMF;\n-\tSMF triggered I-SMF selection or removal (see clause 4.23.5.4 of 3GPP TS 23.502 [3]);\n-\tChange of SSC mode 2 PDU Session Anchor with different PDU Sessions (see clause 4.3.5.1 of 3GPP TS 23.502 [3]);\n-\tChange of SSC mode 3 PDU Session Anchor with multiple PDU Sessions (see clause 4.3.5.2 of 3GPP TS 23.502 [3]);\n-\tNetwork slice usage behaviour control, i.e. SMF initiated PDU session release due to slice inactivity, see clause 5.15.15.3 of 3GPP TS 23.501 [2].\nThe SMF (i.e. H-SMF for a HR PDU session, or SMF for a PDU session involving an I-SMF) shall notify the NF Service Consumer (i.e. V-SMF for a HR PDU session, or I-SMF for a PDU session involving an I-SMF) by using the HTTP POST method as shown in Figure 5.2.2.10-1.\nFigure 5.2.2.10-1: PDU session status notification\n1.\tThe SMF shall send a POST request to the resource representing the individual PDU session resource in the NF Service Consumer. The content of the POST request shall contain the notification content, with the status information.\nIf the notification is triggered by PDU session handover to release resources of the PDU Session in the source access, the notification content shall contain the resourceStatus IE with the value \"RELEASED\" and the Cause IE with value \"PDU_SESSION_HANDED_OVER\" as specified in clause 4.2.9.4.2 of 3GPP TS 23.502 [3].\nIf the notification is triggered by PDU session handover to release only the SM Context with the I-SMF in the source access but without releasing the PDU session in the AMF, the notification content shall contain the resourceStatus IE with the value \"UPDATED\" and the Cause IE with the value \"PDU_SESSION_HANDED_OVER\" as specified in clause 4.23.16.2 of 3GPP TS 23.502 [3].\nIf the notification is triggered by SMF for I-SMF selection or removal for the current PDU session, or SMF selection during PDU Session re-establishment for SSC mode 2/3, the notification content shall contain the resourceStatus IE with the value \"UNCHANGED\", the Cause IE with the value \"TARGET_DNAI_NOTIFICATION\" and the targetDnaiInfo IE. The targetDnai IE in the targetDnaiInfo IE shall be absent if the I-SMF removal is triggered due to the DNAI currently served by the I-SMF being no longer used for the PDU Session. If the notification is triggered for SMF selection during PDU Session re-establishment for SSC mode 3, the notification content may also contain the oldPduSessionRef IE as specified in clause 4.3.5.2 of 3GPP TS 23.502 [3].\nIf the notification is triggered by PDU session handover to release resources of the PDU Session in the target access due to handover failure between 3GPP access and non-3GPP access, the notification content shall contain the resourceStatus IE with the value \"RELEASED\" and the Cause IE with the value \"PDU_SESSION_HAND_OVER_FAILURE\".\nIf the NF Service Consumer indicated support of the HOFAIL feature (see clause 6.1.8) and if the notification is triggered by PDU session handover to update access type of the PDU Session due to handover failure between 3GPP access and non-3GPP access, the notification content shall contain the resourceStatus IE with the value \"UPDATED\", the anType IE with the value \"3GPP\" or \"NON_3GPP\" indicating the access type of the PDU session after the handover failure scenario and the Cause IE with the value \"PDU_SESSION_HAND_OVER_FAILURE\".\nIf upon a change of anchor SMF, the new anchor SMF instance decides to notify the change of anchor SMF, then the notification content shall contain the resourceStatus IE with the value \"UPDATED\" and the Cause IE with the value \"CHANGED_ANCHOR_SMF\". In addition, the new anchor SMF instance shall include its SMF Instance ID in the notification content, and/or carry an updated binding indication in the HTTP headers to indicate the change of anchor SMF (as per step 6 of clause 6.5.3.3 of 3GPP TS 29.500 [4]). If the PDU session may be moved to EPS with N26 and the EPS PDN Connection Context information of the PDU session on the new anchor SMF is different from the one on the old anchor SMF, the content shall also include the \"epsPdnCnxInfo\" IE including the updated EPS PDN Connection Context information. The NF Service consumer shall overwrite the locally stored EPS PDN Connection Context information with the new one if received.\nIf the notification is triggered by a PDU session release due to slice inactivity as specified in clause 5.15.15.3 of 3GPP TS 23.501 [2] and clause 5.11.2 of 3GPP TS 29.244 [29], the notification content shall contain the resourceStatus IE with the value \"RELEASED\" and the Cause IE with the value \"REL_DUE_TO_SLICE_INACTIVITY\".\nIf the notification is triggered by duplicated PDU session detected during Create operation (see clause 5.2.2.7.1) or SMF deregistration from UDM due to duplicated pdu sessions (see clause 5.3.2.3 of 3GPP TS 29.503 [46]), the request body shall include the cause IE with the value \"REL_DUE_TO_DUPLICATE_SESSION_ID\". Upon receipt of such a status notification, the V-SMF or I-SMF shall not send SM context status notification to the AMF.\nIf the notification is triggered by a SMF deregistration from UDM due to a new PDU session being established with an identical PDU session Id from another anchor SMF via an ePDG (see clause 5.3.2.3 of 3GPP TS 29.503 [46]), the request body shall include the cause IE with the value \"REL_DUE_TO_DUPLICATE_SESSION_EPDG\". Upon receipt of such a status notification, the V-SMF or I-SMF shall release the PDU session and also clean up the PDU session resources in AMF and RAN (if needed), but shall not release the PDU session in the UE.\n2a.\tOn success, \"204 No Content\" shall be returned and the content of the POST response shall be empty.\nIf the SMF indicated in the request that the PDU session in the SMF is released, the NF Service Consumer shall release the SM context for the PDU session.\nIf the SMF indicated in the request that the SM context resource is updated with the anType IE, the NF Service Consumer shall change the access type of the PDU session with the value of anType IE.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.7.3.1-2 shall be returned. For a 4xx/5xx response, the message body shall contain a ProblemDetails structure with the \"cause\" attribute set to one of the application errors listed in Table 6.1.3.7.3.1-2.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.502_clause_4.3.4.3",
        "ts_23.502_clause_4.23",
        "ts_23.502_clause_4.11.2.2",
        "ts_23.502_clause_4.11.3.2",
        "ts_23.502_clause_4.11.4.2",
        "ts_29.244_clause_5.22",
        "ts_23.502_clause_4.23.5.4",
        "ts_23.502_clause_4.3.5.1",
        "ts_23.502_clause_4.3.5.2",
        "ts_23.501_clause_5.15.15.3",
        "ts_23.502_clause_4.2.9.4.2",
        "ts_23.502_clause_4.23.16.2",
        "clause_6.1.8",
        "ts_29.500_clause_6.5.3.3",
        "ts_23.501_clause_5.11.2",
        "clause_5.2.2.7.1",
        "ts_29.503_clause_5.3.2.3",
        "table_6.1.3.7.3.1-2",
        "figure_5.2.2.10-1",
        "ts_29.244_clause_5.11.2",
        "ts_23.502",
        "ts_29.244",
        "ts_23.501",
        "ts_29.500",
        "ts_29.503"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.11.1",
      "section_id": "5.2.2.11.1",
      "section_title": "General",
      "content": "The Send MO Data service operation shall be used to send mobile originated data received over NAS, for a given PDU session, towards the SMF, or the V-SMF for HR roaming scenarios, or the I-SMF for a PDU session with an I-SMF.\nIt is used in the following procedures:\n-\tUPF anchored Mobile Originated Data Transport in Control Plane CIoT 5GS Optimisation (see clause 4.24.1 of 3GPP TS 23.502 [3]);\n-\tNEF anchored Mobile Originated Data Transport (see clause 4.25.4 of 3GPP TS 23.502 [3]).\nThe NF Service Consumer (e.g. AMF) shall send mobile originated data to the SMF by using the HTTP POST method (send-mo-data custom operation) as shown in Figure 5.2.2.11.1-1.\nFigure 5.2.2.11.1-1: Send MO Data\n1.\tThe NF Service Consumer shall send a POST request to the resource representing the individual SM context resource in the SMF. The content of the POST request shall contain the mobile originated data to send.\nThe request body may include the \"MO Exception Data Counter\", which indicates that the UE has accessed the network by using \"MO exception data\" RRC establishment, if Small Data Rate Control is enabled for the PDU session and the UE is accessing via the NB-IoT RAT.\n2a.\tOn success, \"204 No Content\" shall be returned.\nFor UPF anchored Mobile Originated Data Transport in Control Plane CIoT 5GS Optimisation, if the \"MO Exception Data Counter\" is included in the request then:\n-\tfor HR PDU session, the V-SMF shall update the H-SMF (see clause 5.2.2.8.2.2);\n-\tfor PDU session with I-SMF, the I-SMF shall update the SMF (see clause 5.2.2.8.2.2).\n2b.\tOn failure or redirection, one of the HTTP status codes listed in Table 6.1.3.3.4.5.2-2 shall be returned.  For a 4xx/5xx response, the message body shall contain a ProblemDetails, with the \"cause\" attribute indicating the cause of the failure.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.502_clause_4.24.1",
        "ts_23.502_clause_4.25.4",
        "clause_5.2.2.8.2.2",
        "table_6.1.3.3.4.5.2-2",
        "figure_5.2.2.11.1-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.12.1",
      "section_id": "5.2.2.12.1",
      "section_title": "General",
      "content": "The Transfer MO Data service operation shall be used to transfer NEF anchored mobile originated data received from AMF, for a given PDU session, towards the H-SMF for HR roaming scenarios, or the SMF for a PDU session with an I-SMF.\nIt is used in the following procedures:\n-\tNEF anchored Mobile Originated Data Transport (see clause 4.25.4 of 3GPP TS 23.502 [3]).\nThe NF Service Consumer (e.g. V-SMF or I-SMF) shall transfer NEF anchored mobile originated data to the SMF by using the HTTP POST method (transfer-mo-data custom operation) as shown in Figure 5.2.2.12.1-1.\nFigure 5.2.2.12.1-1: Transfer MO Data\n1.\tThe NF Service Consumer shall send a POST request to the URI of Transfer MO Data custom operation on an individual PDU Session resource in the SMF. The content of the POST request shall contain the mobile originated data to be transferred.\nThe content shall also contain the MO Exception Data Counter, if received from AMF.\n2a.\tOn success, \"204 No Content\" shall be returned.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.6.4.4.2-2 shall be returned.  For a 4xx/5xx response, the message body may contain a ProblemDetails, with the \"cause\" attribute indicating the cause of the failure.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.502_clause_4.25.4",
        "table_6.1.3.6.4.4.2-2",
        "figure_5.2.2.12.1-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.13.1",
      "section_id": "5.2.2.13.1",
      "section_title": "General",
      "content": "The Transfer MT Data service operation shall be used to transfer NEF anchored mobile terminated data received from NEF, for a given PDU session, towards the V-SMF for HR roaming scenarios, or the I-SMF for a PDU session with an I-SMF.\nIt is used in the following procedures:\n-\tNEF anchored Mobile Terminated Data Transport (see clause 4.25.5 of 3GPP TS 23.502 [3]).\nThe NF Service Consumer (e.g. H-SMF or SMF) shall transfer NEF anchored mobile terminated data to the SMF by using the HTTP POST method (transfer-mt-data custom operation) as shown in Figure 5.2.2.13.1-1.\nFigure 5.2.2.13.1-1: Transfer MT Data\n1.\tThe NF Service Consumer shall send a POST request to the URI of Transfer MT Data custom operation on an individual PDU Session resource in the SMF. The content of the POST request shall contain the mobile terminated data to be transferred.\nThe SMF shall forward the mobile terminated data to AMF. If SMF determines Extended Buffering is allowed by local policy and the NEF supports Extended Buffering, the SMF indicate the Extending Buffering support to AMF.\nIf AMF responds that it is attempting to reach the UE, the SMF shall wait for potential failure notification from AMF before responding to the NF consumer.\n2a.\tOn success, \"204 No Content\" shall be returned.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.7.4.3.2-2 shall be returned.  For a 4xx/5xx response, the message body may contain a TransferMtDataError or ProblemDetails object, with the \"cause\" attribute indicating the cause of the failure. If Estimated Maximum Waiting Time is received from AMF, the SMF shall include it in the message body.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.502_clause_4.25.5",
        "table_6.1.3.7.4.3.2-2",
        "figure_5.2.2.13.1-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.2.14.1",
      "section_id": "5.2.2.14.1",
      "section_title": "General",
      "content": "The Retrieve service operation shall be used to retrieve information from a PDU session context from the H-SMF for a HR PDU session, or from the SMF for a PDU session with an I-SMF.\nIt is used in the following procedures:\n-\t5GS to EPS handover using N26 interface and 5GS to EPS Idle mode mobility using N26 interface (see clauses 4.11.1.2.1 and 4.11.1.2.3 of 3GPP TS 23.502 [3]), for PDU sessions associated with 3GPP access and for which small data rate control is applicable.\n-\tChange of SSC mode 3 PDU Session Anchor with multiple PDU Sessions (see clause 4.3.5.2 of 3GPP TS 23.502 [3]).\nThe NF Service Consumer (e.g. V-SMF or I-SMF) shall retrieve information from a PDU session context by using the HTTP POST method (retrieve custom operation) as shown in Figure 5.2.2.14.1-1.\nFigure 5.2.2.14.1-1: Retrieval of information from a PDU session context\n1.\tThe NF Service Consumer shall send a POST request to the resource representing the individual PDU session context for which information needs to be retrieved. The POST request may contain a content with the following parameters:\n-\tsmallDataRateStatusReq set to \"true\" to indicate a request to retrieve the small data rate control status of the PDU session, if small data rate control is applicable on the PDU session.\n-\tpduSessionContextType indicates that this is a request to retrieve the AF Coordination Information as defined in clause 6.1.6.2.69, during the change of SSC mode 3 PDU Session Anchor with multiple PDU Sessions, if the runtime coordination between old SMF and AF is enabled.\n2a.\tOn success, \"200 OK\" shall be returned and the content of the POST response shall contain the small data rate control status if this is a request for retrieving the small data rate control status.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.6.4.5.2-2 shall be returned. For a 4xx/5xx response, the message body may contain a ProblemDetails structure with the \"cause\" attribute set to one of the application error listed in Table 6.1.3.6.4.5.2-2.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.502_clause_4.3.5.2",
        "clause_6.1.6.2.69",
        "table_6.1.3.6.4.5.2-2",
        "figure_5.2.2.14.1-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.3.1.1",
      "section_id": "5.2.3.1.1",
      "section_title": "General",
      "content": "As specified in clause 4.3.1 of 3GPP TS 23.502 [3], for Home Routed PDU sessions, there is NAS SM information that the V-SMF and H-SMF need to interpret, and NAS SM information that the V-SMF only needs to transfer between the UE and H-SMF but which it does not need to interpret.\nNAS SM information that only needs to be transferred between the UE and H-SMF by the V-SMF can be extended in later versions or releases of the NAS specification, e.g. defining new fields or values within existing IEs, and the extensions should not impact the V-SMF.\nBesides, in HR roaming scenarios, the V-SMF and H-SMF can comply to different versions or releases of the NAS specification. It should be possible to support new SM features only requiring support from the H-SMF without impacting the V-SMF, when the H-SMF complies with a more recent release than the V-SMF, e.g. defining new NAS SM IEs in signalling from the UE to the H-SMF and/or signalling from the H-SMF to the UE.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.502_clause_4.3.1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.3.1.2",
      "section_id": "5.2.3.1.2",
      "section_title": "V-SMF Behaviour",
      "content": "The V-SMF shall transfer NAS SM information that it only needs to transfer to the H-SMF (i.e. known IEs, and IEs that have an unknown value not set to \"reserved\" according to the release to which the V-SMF complies, that only need to be forwarded by the V-SMF) in n1SmInfoFromUe binary data within the HTTP content. This carries N1 SM IE(s), encoded as specified in 3GPP TS 24.501 [7], including the Type field and, for TLV or TLV-E IEs, the Length field.\nNOTE 1:\tN1 SM IEs defined without a Type field need to be defined over N16/N16a as specific IEs.\nThe V-SMF shall transfer NAS SM information that it does not comprehend (i.e. unknown IEs, or known IEs to be interpreted by the V-SMF that have an unknown value not set to \"reserved\" according to the release to which the V-SMF complies) in unknownN1SmInfo binary data within the HTTP content. This carries N1 SM IE(s), encoded as specified in 3GPP TS 24.501 [7], including the Type field and, for TLV or TLV-E IEs, the Length field.\nWhen receiving n1SmInfoToUe binary data in the HTTP contentfrom the H-SMF, the V-SMF shall parse all the N1 SM IEs received in the binary data and construct the NAS SM message to the UE according to 3GPP TS 24.501 [7]. The V-SMF shall append unknown NAS SM IEs received in the binary data at the end of the NAS SM message it sends to the UE.\nNOTE 2:\tThe V-SMF can infer the length of an unknown IE based on the IEI value. See clause 11.2.4 of 3GPP TS 24.007 [8].\nThe V-SMF shall comprehend and be able to encode at their right place in a given NAS message, all the IEs of the version of the NAS specification it implements that do not need to be interpreted by the V-SMF and which precede the last interpreted IE that the V-SMF implements in a NAS message.\nNOTE 3:\tThe V-SMF encodes comprehended IEs at their right place in the NAS SM message",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_24.007_clause_11.2.4",
        "ts_24.501",
        "ts_24.007"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.3.1.3",
      "section_id": "5.2.3.1.3",
      "section_title": "H-SMF Behaviour",
      "content": "When receiving unknownN1SmInfo binary data in the HTTP content from the V-SMF, the H-SMF shall process any N1 SM IE received in this binary data that do not require to be interpreted by the V-SMF. Other N1 SM IEs shall be dropped, e.g. IEs that the H-SMF comprehends but which require to be interpreted by the V-SMF.\nThe H-SMF shall transfer NAS SM information which the V-SMF does not need to interpret (i.e. that it only needs to transfer to the UE) in n1SmInfoToUe binary data within the HTTP content. This carries N1 SM IE(s), encoded as specified in 3GPP TS 24.501 [7], including the Type field and, for TLV or TLV-E IEs, the Length field.\nNOTE 1:\tN1 SM IEs defined without a Type field need to be defined over N16/N16a as specific IEs.\nThe NAS SM IEs in n1SmInfoToUe binary data shall be encoded in the same order as specified in 3GPP TS 24.501 [7].\nN1 SM information which does not require to be interpreted by the V-SMF is information that is not defined as specific IEs over N16.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_24.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.3.2.1",
      "section_id": "5.2.3.2.1",
      "section_title": "General",
      "content": "The requirements specified in clause 5.2.3.1 shall also apply for the transfer of NAS SM information between the UE and the SMF for PDU sessions with an I-SMF, whereby the I-SMF and SMF shall take the role of the V-SMF and H-SMF respectively.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_5.2.3.1"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.3.3.1.1",
      "section_id": "5.2.3.3.1.1",
      "section_title": "General",
      "content": "This procedure enables an SMF, which receives a request colliding with an existing SM context or PDU session context, to know the time at which the new request and the existing PDU session were originated, and to accept the new request only if it is more recent than the existing PDU session.\nThe originating entities within the PLMN (i.e. AMFs) shall be NTP synchronized.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.502_5.2.3.3.1.2",
      "section_id": "5.2.3.3.1.2",
      "section_title": "Principles",
      "content": "The following principles shall apply if this procedure is supported and enabled by operator policy.\nAn AMF originating a Create SM Context request shall include in the message the Origination Time Stamp indicating the absolute time at which the request is initiated.\nThe V-SMF or I-SMF shall forward this header to the H-SMF or SMF, if it is received from the AMF.\nUpon receipt of a Create SM Context request or a Create request which collides with an existing SM context or PDU session context, the SMF shall accept the new PDU session establishment request only if it contains a more recent time stamp than the time stamp stored for the existing PDU session. An incoming PDU session establishment request shall be considered as more recent than an existing PDU session and be accepted if no Origination Time Stamp information was provided for at least one of the two PDU sessions. The SMF shall reject an incoming request whose time stamp is less recent than the time stamp of the existing PDU session with the HTTP status code \"403 Forbidden\" and the application error \"LATE_OVERLAPPING_REQUEST\".\n3GPP TS 29.512 [30] further specify:\n-\tthe SMF requirements regarding the forwarding of the Origination Time Stamp towards the PCF, when received from the AMF;\n-\tthe handling of the Origination Time Stamp parameter by the PCF for an incoming request colliding with an existing Individual SM Policy Association.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.512"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.3.3.2.1",
      "section_id": "5.2.3.3.2.1",
      "section_title": "General",
      "content": "The procedure specified in clause 6.11.2 of 3GPP TS 29.500 [4] shall apply with the following additions.\nAn HTTP request may include the 3gpp-Sbi-Origination-Timestamp and the 3gpp-Sbi-Max-Rsp-Time headers, with or without the 3gpp-Sbi-Sender-Timestamp header.\nThe 3gpp-Sbi-Max-Rsp-Time header shall indicate the duration expressed in milliseconds since the absolute time indicated in the 3gpp-Sbi-Sender-Timestamp header, if this header is present, or indicated in the 3gpp-Sbi-Origination-Timestamp header otherwise.\nNOTE:\tThe AMF does not need to include the 3gpp-Sbi-Sender-Timestamp if it includes the 3gpp-Sbi-Origination-Timestamp. A V-SMF or I-SMF forwards the 3gpp-Sbi-Origination-Timestamp over N16 or N16a, if received, and can include a 3gpp-Sbi-Sender-Timestamp header set to the time when it sends the Create request, in which case the 3gpp-Sbi-Max-Rsp-Time header contains the response time with respect to the 3gpp-Sbi-Sender-Timestamp header.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_6.11.2",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.502_5.2.3.4",
      "section_id": "5.2.3.4",
      "section_title": "UE Location Information",
      "content": "When attributes with the UserLocation data type (as defined in clause 5.4.4.7 of 3GPP TS 29.571 [13]) are included in the messages (as specified in clause 6) to report the UE location information to the SMF, the following information shall be included in these attributes:\n-\tthe TAI and NCGI for NR user location; or\n-\tthe TAI and ECGI for E-UTRA user location; or\n-\tthe TAI, UE local IP address, Port if NAT is detected, and optionally n3Iwid if available, for untrusted non-3GPP access; or\n-\tthe TAI and TNAP Id/TWAP Id for trusted non-3GPP access; or\n-\tthe TAI and GLI and optionally LineType if available, or the TAI and hfcNodeId, or the TAI and GCI, for wireline network access.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.571_clause_5.4.4.7",
        "clause_6",
        "ts_29.571"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.1",
      "section_id": "6.1.1",
      "section_title": "API URI",
      "content": "The Nsmf_PDUSession service shall use the Nsmf_PDUSession API.\nThe API URI of the Nsmf_PDUSession API shall be:\n{apiRoot}/<apiName>/<apiVersion>\nThe request URIs used in HTTP requests from the NF service consumer towards the NF service producer shall have the Resource URI structure defined in clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:\n{apiRoot}/<apiName>/<apiVersion>/<apiSpecificResourceUriPart>\nwith the following components:\n-\tThe {apiRoot} shall be set as described in 3GPP TS 29.501 [5].\n-\tThe <apiName> shall be \"nsmf-pdusession\".\n-\tThe <apiVersion> shall be \"v1\".\n-\tThe <apiSpecificResourceUriPart> shall be set as described in clause 6.1.3.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.501_clause_4.4.1",
        "clause_6.1.3",
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.2.1",
      "section_id": "6.1.2.1",
      "section_title": "General",
      "content": "HTTP/2, as defined in IETF RFC 9113 [14], shall be used as specified in clause 5 of 3GPP TS 29.500 [4].\nHTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].\nHTTP messages and bodies for the Nsmf_PDUSession service shall comply with the OpenAPI [15] specification contained in Annex A.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5",
        "ts_29.500_clause_5.3",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.2.2.1",
      "section_id": "6.1.2.2.1",
      "section_title": "General",
      "content": "The usage of HTTP standard headers shall be supported as specified in clause 5.2.2 of 3GPP TS 29.500 [4].",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5.2.2",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.2.2.2",
      "section_id": "6.1.2.2.2",
      "section_title": "Content type",
      "content": "The following content types shall be supported:\n-\tthe JSON format (IETF RFC 8259 [11]). The use of the JSON format shall be signalled by the content type \"application/json\". See also clause 5.4 of 3GPP TS 29.500 [4].\n-\tthe Problem Details JSON Object (IETF RFC 9457 [23]). The use of the Problem Details JSON object in a HTTP response body shall be signalled by the content type \"application/problem+json\".\nNOTE:\t\"application/json\" is used in a response that includes a content containing an application-specific data structure, see clause 4.8 of 3GPP TS 29.501 [5].\nMultipart messages shall also be supported (see clause 6.1.2.4) using the content type \"multipart/related\", comprising:\n-\tone JSON body part with the \"application/json\" content type; and\n-\tone or two binary body parts with 3gpp vendor specific content subtypes.\nThe 3gpp vendor specific content subtypes defined in Table 6.1.2.2.2-1 shall be supported.\nTable 6.1.2.2.2-1: 3GPP vendor specific content subtypes\ncontent subtype\nDescription\nvnd.3gpp.ngap\nBinary encoded content, encoding NG Application Protocol (NGAP) IEs, as specified in clause 9.3 of 3GPP TS 38.413 [9] (ASN.1 encoded).\nvnd.3gpp.5gnas\nBinary encoded content, encoding a 5GS NAS message or 5G NAS IEs, as specified in 3GPP TS 24.501 [7].\nvnd.3gpp.pfcp\nBinary encoded content, encoding a PFCP message, as specified in 3GPP TS 29.244 [29]. (NOTE 2)\nNOTE 1:\tUsing 3GPP vendor content subtypes allows to describe the nature of the opaque content (e.g. NGAP or 5GS NAS information) without having to rely on metadata in the JSONcontent.\nNOTE 2:\tBinary encoded content in vnd.3gpp.pfcp content subtype shall include application layer headers for PFCP and shall not include transport layer headers, i.e. IP and UDP.\nSee clause 6.1.2.4 for the binary contents supported in the binary content part of multipart messages.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_5.4",
        "ts_29.501_clause_4.8",
        "clause_6.1.2.4",
        "ts_38.413_clause_9.3",
        "table_6.1.2.2.2-1",
        "ts_29.500",
        "ts_29.501",
        "ts_38.413",
        "ts_24.501",
        "ts_29.244"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.2.3.1",
      "section_id": "6.1.2.3.1",
      "section_title": "General",
      "content": "For 3GPP specific HTTP custom headers used across all service based interfaces, see clause 5.2.3 of 3GPP TS 29.500 [4].\nAdditional HTTP custom headers applicable to the Nsmf_PDUSession service are specified in the following clauses.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5.2.3",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.2.3.2",
      "section_id": "6.1.2.3.2",
      "section_title": "3gpp-Sbi-Origination-Timestamp",
      "content": "The header contains the date and time (with a millisecond granularity) when the originating entity initiated the request.\nThe encoding of the header follows the ABNF as defined in IETF RFC 9110 [32].\nSbi-Origination-Timestamp-Header = \"3gpp-Sbi-Origination-Timestamp:\" OWS day-name \",\" SP date1 SP time-of-day \".\" milliseconds SP \"GMT\" OWS\nmilliseconds = 3DIGIT\nday-name, date1, time-of-day shall comply with the definition in clause 5.6.7 of IETF RFC 9110 [32].\nNOTE:\tThis is the same format as the Date header of clause 5.6.7 of IETF RFC 9110 [32], but with the time expressed with a millisecond granularity.\nEXAMPLE:\t3gpp-Sbi-Origination-Timestamp: Sun, 04 Aug 2019 08:49:37.845 GMT",
      "chunk_type": "general",
      "cross_references": [
        "clause_5.6.7"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.2.4",
      "section_id": "6.1.2.4",
      "section_title": "HTTP multipart messages",
      "content": "HTTP multipart messages shall be supported, to transfer opaque N1 and/or N2 SMpayloads or N4 information, in the following service operations (and HTTP messages):\n-\tCreate SM Context Request and Response (POST);\n-\tUpdate SM Context Request and Response (POST);\n-\tRelease SM Context Request (POST);\n-\tCreate Request and Response (POST);\n-\tUpdate Request and Response (POST (modify)).\nHTTP multipart messages shall include one JSON body part and one or two binary body parts comprising:\n-\tan N1 SM payload, an N2 SM payload or both, over N11 (see clause 6.1.6.4);\n-\tone or two N1 SM payloads, over N16 (see clause 6.1.6.4);\n-\tone or two N2 SM payloads over N11 (see clause 5.2.2.3.3);\n-\tone, two or three N4 payloads over N16a (see clause 6.1.6.4.5).\nThe JSON body part shall be the \"root\" body part of the multipart message. It shall be encoded as the first body part of the multipart message. The \"Start\" parameter does not need to be included.\nThe multipart message shall include a \"type\" parameter (see IETF RFC 2387 [10]) specifying the media type of the root body part, i.e. \"application/json\".\nNOTE:\tThe \"root\" body part (or \"root\" object) is the first body part the application processes when receiving a multipart/related message, see IETF RFC 2387 [10]. The default root is the first body within the multipart/related message. The \"Start\" parameter indicates the root body part, e.g. when this is not the first body part in the message.\nFor each binary body part in a HTTP multipart message, the binary body part shall include a Content-ID header (see IETF RFC 2045 [12]), and the JSON body part shall include an attribute, defined with the RefToBinaryData type, that contains the value of the Content-ID header field of the referenced binary body part.\nExamples of multipart/related messages can be found in Annex B.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1.6.4",
        "clause_5.2.2.3.3",
        "clause_6.1.6.4.5"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.2.5",
      "section_id": "6.1.2.5",
      "section_title": "HTTP/2 request retries",
      "content": "The principles specified in clause 5.2.8 of 3GPP TS 29.500 [4] shall be applied with the following modifications.\nThe NF Service Consumer of Nsmf_PDUSession service, e.g. the AMF, shall retry the same HTTP request in the following scenarios through a new TCP connection towards an (alternative) service endpoint pertaining to the same NF (Service) instance or set if the corresponding procedure triggering the service request allows such retries, e.g. before the timeout of the corresponding N1 or N2 procedure:\n-\tIf the stream for the service request has not been processed in the SMF as specified in clause 5.2.8 of 3GPP TS 29.500 [4];\n-\tif the request is rejected by a HTTP status code indicating a temporary failure in the SMF, e.g. the status code 429, 500 and 503, as specified in clause 5.2.7 of 3GPP TS 29.500 [4];\n-\tif the request is timeout (i.e. the NF Service consumer doesn't receive any response after an implementation specific timer expires).\nThe NF Service Consumer shall determine an alternative service instance as specified in clause 6.5 of 3GPP TS 23.527 [24], i.e. using Binding Indication if supported/available or the NF (service) set or service persistency info from NF profile. The NF Service Consumer should also consider the Load control Information and the Overload Control Information if available as specified in clauses 6.3 and 6.4 in 3GPP TS 29.500 [4] when reselecting an alternative NF service instance.\nThe SMF shall support handling repeated retries successfully.\nNOTE:\tSee clauses 5.2.2.2 and 5.2.2.7 for the handling by the SMF of an HTTP POST request that would have already been processed by the SMF and that would be retried by the NF Service Consumer.\nHTTP conditional requests are not supported by the Nsmf_PDUSession service in this version of the API.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_5.2.8",
        "ts_29.500_clause_5.2.7",
        "ts_23.527_clause_6.5",
        "ts_29.500",
        "ts_23.527"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.3.1",
      "section_id": "6.1.3.1",
      "section_title": "Overview",
      "content": "This clause describes the structure for the Resource URIs and the resources and methods used for the service.\nFigure 6.1.3.1-1 describes the resource URI structure of the Nsmf_PDUSession API.\nFigure 6.1.3.1-1: Resource URI structure of the Nsmf_PDUSession API\nNOTE:\tThe sm-contexts and pdu-sessions collection resources can be distributed on different processing instances or hosts. Thus, the authority and/or deployment-specific string of the apiRoot of the created individual sm context and pdu-session resources' URIs can differ from the authority and/or deployment-specific string of the apiRoot of the sm-contexts and pdu-sessions distributed collections' URIs.\nTable 6.1.3.1-1 provides an overview of the resources and applicable HTTP methods.\nTable 6.1.3.1-1: Resources and methods overview\nResource name\nResource URI\nHTTP method or custom operation\nDescription\n(service operation)\nSM contexts\ncollection\n/sm-contexts\nPOST\nCreate SM Context\nIndividual SM context\n/sm-contexts/{smContextRef}/retrieve\nretrieve (POST)\nRetrieve SM Context\n/sm-contexts/{smContextRef}/modify\nmodify\n(POST)\nUpdate SM Context\n/sm-contexts/{smContextRef}/release\nrelease\n(POST)\nRelease SM Context\n/sm-contexts/{smContextRef}/send-mo-data\nsend-mo-data\n(POST)\nSend MO Data\nPDU sessions collection\n(H-SMF or SMF)\n/pdu-sessions\nPOST\nCreate\nIndividual PDU session\n(H-SMF or SMF)\n/pdu-sessions/{pduSessionRef}/modify\nmodify\n(POST)\nUpdate\n(initiated by V-SMF or I-SMF)\n/pdu-sessions/{pduSessionRef}/release\nrelease\n(POST)\nRelease\n/pdu-sessions/{pduSessionRef}/retrieve\nretrieve\n(POST)\nRetrieve\n/pdu-sessions/{pduSessionRef}/transfer-mo-data\ntransfer-mo-data\n(POST)\nTransfer MO Data\nIndividual PDU session\n(V-SMF or I-SMF)\n{vsmfPduSessionUri}/modify or {ismfPduSessionUri}/modify\nmodify\n(POST)\nUpdate\n(initiated by H-SMF or SMF)\n{vsmfPduSessionUri} or {ismfPduSessionUri}\nPOST\nNotify Status\n{vsmfPduSessionUri}/transfer-mt-data or {ismfPduSessionUri}/ transfer-mt-data\ntransfer-mt-data\n(POST)\nTransfer MT Data",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.1.3.1-1",
        "figure_6.1.3.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.3.2.1",
      "section_id": "6.1.3.2.1",
      "section_title": "Description",
      "content": "This resource represents the collection of the individual SM contexts created in the SMF.\nThis resource is modelled with the Collection resource archetype (see clause C.2 of 3GPP TS 29.501 [5]).",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.3.2.2",
      "section_id": "6.1.3.2.2",
      "section_title": "Resource Definition",
      "content": "Resource URI: {apiRoot}/nsmf-pdusession/<apiVersion>/sm-contexts\nThis resource shall support the resource URI variables defined in table 6.1.3.2.2-1.\nTable 6.1.3.2.2-1: Resource URI variables for this resource\nName\nData type\nDefinition\napiRoot\nstring\nSee clause 6.1.1.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6.1.1",
        "table_6.1.3.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.3.2.3.1",
      "section_id": "6.1.3.2.3.1",
      "section_title": "POST",
      "content": "This method creates an individual SM context resource in the SMF, or in V-SMF in HR roaming scenarios.\nThis method shall support the URI query parameters specified in table 6.1.3.2.3.1-1.\nTable 6.1.3.2.3.1-1: URI query parameters supported by the POST method on this resource\nName\nData type\nP\nCardinality\nDescription\nn/a\nThis method shall support the request data structures specified in table 6.1.3.2.3.1-2 and the response data structures and response codes specified in table 6.1.3.2.3.1-3.\nTable 6.1.3.2.3.1-2: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nSmContextCreateData\nM\n1\nRepresentation of the SM context to be created in the SMF.\nTable 6.1.3.2.3.1-3: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nSmContextCreatedData\nM\n1\n201 Created\nSuccessful creation of an SM context.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\n(NOTE 2)\nSmContextCreateError\nM\n1\n400 Bad Request\nThe \"cause\" attribute shall be set to one of the errors defined in Table 5.2.7.2-1 of 3GPP TS 29.500 [4].\nProblemDetails\nO\n0..1\n400 Bad Request\nThis error shall only be returned by an SCP for errors it originates. As an exception, this error may also be returned by an SMF, with an empty content, for a protocol error other than those specified for the SMF PDUSession service logic (e.g. protocol error found by the HTTP stack).\nSmContextCreateError\nM\n1\n403 Forbidden\nThe \"cause\" attribute shall be set to one of the following application errors:\n- N1_SM_ERROR\n- N2_SM_ERROR\n- SNSSAI_DENIED\n- DNN_DENIED\n- PDUTYPE_DENIED\n- SSC_DENIED\n- SUBSCRIPTION_DENIED\n- DNN_NOT_SUPPORTED\n- PDUTYPE_NOT_SUPPORTED\n- SSC_NOT_SUPPORTED\n- HOME_ROUTED_ROAMING_REQUIRED\n- OUT_OF_LADN_SERVICE_AREA\n- NO_EPS_5GS_CONTINUITY\n- INTEGRITY_PROTECTED_MDR_NOT_ACCEPTABLE\n- DEFAULT_EPS_BEARER_INACTIVE\n- NOT_SUPPORTED_WITH_ISMF\n- SERVICE_NOT_AUTHORIZED_BY_NEXT_HOP\n- EXCEEDED_UE_SLICE_DATA_RATE\n- EXCEEDED_SLICE_DATA_RATE\nSee table 6.1.7.3-1 for the description of these errors.\nProblemDetails\nO\n0..1\n403 Forbidden\nThis error shall only be returned by an SCP for errors it originates. As an exception, this error may also be returned by an SMF, with an empty content, for a protocol error other than those specified for the SMF PDUSession service logic (e.g. protocol error found by the HTTP stack).\nSmContextCreateError\nM\n1\n404 Not Found\nThe \"cause\" attribute shall be set to one of the following application error:\n- CONTEXT_NOT_FOUND\nSee table 6.1.7.3-1 for the description of these errors.\nExtProblemDetails\nO\n0..1\n413 Content Too Large\nExtProblemDetails\nO\n0..1\n415 Unsupported Media Type\nExtProblemDetails\nO\n0..1\n429 Too Many Requests\nSmContextCreateError\nM\n1\n500 Internal Server Error\nThe \"cause\" attribute shall be set to one of the errors defined in Table 5.2.7.2-1 of 3GPP TS 29.500 [4] or to one of the following application errors:\n- INSUFFICIENT_RESOURCES_SLICE\n- INSUFFICIENT_RESOURCES_SLICE_DNN\nSee table 6.1.7.3-1 for the description of these errors.\nProblemDetails\nO\n0..1\n500 Internal Server Error\nThis error shall only be returned by an SCP for errors it originates. As an exception, this error may also be returned by an SMF, with an empty content, for a general server error other than those specified for the SMF PDUSession service logic.\nSmContextCreateError\nM\n1\n503 Service Unavailable\nThe \"cause\" attribute shall be set to one of the errors defined in Table 5.2.7.2-1 of 3GPP TS 29.500 [4] or to one of the following application errors:\n- DNN_CONGESTION\n- S_NSSAI_CONGESTION\nSee table 6.1.7.3-1 for the description of these errors.\nProblemDetails\nO\n0..1\n503 Service Unavailable\nThis error shall only be returned by an SCP for errors it originates. As an exception, this error may also be returned by an SMF, with an empty content, for a general server error other than those specified for the SMF PDUSession service logic.\nSmContextCreateError\nM\n1\n504 Gateway Timeout\nThe \"cause\" attribute shall be set to one of the following application errors:\n- PEER_NOT_RESPONDING\n- NETWORK_FAILURE\nSee table 6.1.7.3-1 for the description of these errors.\nProblemDetails\nO\n0..1\n504 Gateway Timeout\nThis error shall only be returned by an SCP for errors it originates.\nNOTE 1:\tThe mandatory HTTP error status codes for the POST method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] other than those specified in the table above also apply, with a ProblemDetails data type (see clause 5.2.7 of 3GPP TS 29.500 [4]).\nNOTE 2:\tRedirectResponse may be inserted by an SCP, see clause 6.10.9.1 of 3GPP TS 29.500 [4].\nTable 6.1.3.2.3.1-4: Headers supported by the 201 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains the URI of the newly created resource, according to the structure: {apiRoot}/nsmf-pdusession/<apiVersion>/sm-contexts/{smContextRef}\nTable 6.1.3.2.3.1-5: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same SMF or SMF (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target SMF (service) instance ID towards which the request is redirected\nTable 6.1.3.2.3.1-6: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same SMF or SMF (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target SMF (service) instance ID towards which the request is redirected",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_5.2.7",
        "ts_29.500_clause_6.10.9.1",
        "table_6.1.3.2.3.1-1",
        "table_6.1.3.2.3.1-2",
        "table_6.1.3.2.3.1-3",
        "ts_29.500_table_5.2.7.2-1",
        "table_6.1.7.3-1",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.1.3.2.3.1-4",
        "table_6.1.3.2.3.1-5",
        "table_6.1.3.2.3.1-6",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.3.2.4",
      "section_id": "6.1.3.2.4",
      "section_title": "Resource Custom Operations",
      "content": "None.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.502_6.1.3.3.1",
      "section_id": "6.1.3.3.1",
      "section_title": "Description",
      "content": "This resource represents an individual SM context created in the SMF.\nThis resource is modelled with the Document resource archetype (see clause C.1 of 3GPP TS 29.501 [5]).",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.3.3.2",
      "section_id": "6.1.3.3.2",
      "section_title": "Resource Definition",
      "content": "Resource URI: {apiRoot}/nsmf-pdusession/<apiVersion>/sm-contexts/{smContextRef}\nThis resource shall support the resource URI variables defined in table 6.1.3.3.2-1.\nTable 6.1.3.3.2-1: Resource URI variables for this resource\nName\nData type\nDefinition\napiRoot\nstring\nSee clause 6.1.1.\nsmContextRef\nstring\nSM context reference assigned by the SMF during the Create SM Context service operation.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6.1.1",
        "table_6.1.3.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.3.3.3",
      "section_id": "6.1.3.3.3",
      "section_title": "Resource Standard Methods",
      "content": "None.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.502_6.1.3.3.4.1",
      "section_id": "6.1.3.3.4.1",
      "section_title": "Overview",
      "content": "Table 6.1.3.3.4.1-1: Custom operations\nOperation Name\nCustom operation URI\nMapped HTTP method\nDescription\nmodify\n{resourceUri}/modify\nPOST\nUpdate SM Context service operation\nrelease\n{resourceUri}/release\nPOST\nRelease SM Context service operation\nretrieve\n{resourceUri}/retrieve\nPOST\nRetrieve SM Context service operation\nsend-mo-data\n{resourceUri}/send-mo-data\nPOST\nSend MO Data service operation",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.1.3.3.4.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.3.3.4.2",
      "section_id": "6.1.3.3.4.2",
      "section_title": "Operation: modify",
      "content": "6.1.3.3.4.2.1\tDescription\n6.1.3.3.4.2.2\tOperation Definition\nThis custom operation updates an individual SM context resource and/or provide N1 or N2 SM information received from the UE or the AN, for a given PDU session, towards the SMF, or in V-SMF in HR roaming scenario.\nThis operation shall support the request data structures specified in table 6.1.3.3.4.2.2-1 and the response data structure and response codes specified in table 6.1.3.3.4.2.2-2.\nTable 6.1.3.3.4.2.2-1: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nSmContextUpdateData\nM\n1\nRepresentation of the updates to apply to the SM context.\nTable 6.1.3.3.4.2.2-2: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nSmContextUpdatedData\nC\n0..1\n200 OK\nSuccessful update of the SM context, when the SMF needs to return information in the response.\nn/a\n204 No Content\nSuccessful update of the SM context, when the SMF does not need to return information in the response.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\n(NOTE 2)\nSmContextUpdateError\nM\n1\n400 Bad Request\nThe \"cause\" attribute shall be set to one of the errors defined in Table 5.2.7.2-1 of 3GPP TS 29.500 [4].\nProblemDetails\nO\n0..1\n400 Bad Request\nThis error shall only be returned by an SCP for errors it originates. As an exception, this error may also be returned by an SMF, with an empty content, for a protocol error other than those specified for the SMF PDUSession service logic (e.g. protocol error found by the HTTP stack).\nSmContextUpdateError\nM\n1\n403 Forbidden\nThe \"cause\" attribute shall be set to one of the following application errors:\n- N1_SM_ERROR\n- N2_SM_ERROR\n- SUBSCRIPTION_DENIED\n- OUT_OF_LADN_SERVICE_AREA\n- PRIORITIZED_SERVICES_ONLY\n- PDU_SESSION_ANCHOR_CHANGE\n- NO_DATA_FORWARDING\n- S_NSSAI_UNAVAILABLE_DUE_TO_NSAC\nSee table 6.1.7.3-1 for the description of these errors.\nProblemDetails\nO\n0..1\n403 Forbidden\nThis error shall only be returned by an SCP for errors it originates. As an exception, this error may also be returned by an SMF, with an empty content, for a protocol error other than those specified for the SMF PDUSession service logic (e.g. protocol error found by the HTTP stack).\nSmContextUpdateError\nM\n1\n404 Not Found\nThe \"cause\" attribute shall be set to one of the following application error:\n- CONTEXT_NOT_FOUND\nSee table 6.1.7.3-1 for the description of these errors.\nExtProblemDetails\nO\n0..1\n413 Content Too Large\nExtProblemDetails\nO\n0..1\n415 Unsupported Media Type\nExtProblemDetails\nO\n0..1\n429 Too Many Requests\nSmContextUpdateError\nM\n1\n500 Internal Server Error\nThe \"cause\" attribute shall be set to one of the errors defined in Table 5.2.7.2-1 of 3GPP TS 29.500 [4].\nProblemDetails\nO\n0..1\n500 Internal Server Error\nThis error shall only be returned by an SCP for errors it originates. As an exception, this error may also be returned by an SMF, with an empty content, for a general server error other than those specified for the SMF PDUSession service logic.\nSmContextUpdateError\nM\n1\n503 Service Unavailable\nThe \"cause\" attribute shall be set to one of the errors defined in Table 5.2.7.2-1 of 3GPP TS 29.500 [4] or to one of the following application errors:\n- DNN_CONGESTION\n- S_NSSAI_CONGESTION\nSee table 6.1.7.3-1 for the description of these errors.\nProblemDetails\nO\n0..1\n503 Service Unavailable\nThis error shall only be returned by an SCP for errors it originates. As an exception, this error may also be returned by an SMF, with an empty content, for a general server error other than those specified for the SMF PDUSession service logic.\nSmContextUpdateError\nM\n1\n504 Gateway Timeout\nThe \"cause\" attribute shall be set to one of the following application error:\n- UPF_NOT_RESPONDING\nSee table 6.1.7.3-1 for the description of these errors.\nProblemDetails\nO\n0..1\n504 Gateway Timeout\nThis error shall only be returned by an SCP for errors it originates. As an exception, this error may also be returned by an SMF, with an empty content, for a general server error other than those specified for the SMF PDUSession service logic.\nNOTE 1:\tThe mandatory HTTP error status codes for the POST method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] other than those specified in the table above also apply, with a ProblemDetails data type (see clause 5.2.7 of 3GPP TS 29.500 [4]).\nNOTE 2:\tRedirectResponse may be inserted by an SCP, see clause 6.10.9.1 of 3GPP TS 29.500 [4].\nTable 6.1.3.3.4.2.2-3: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same SMF or SMF (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target SMF (service) instance ID towards which the request is redirected\nTable 6.1.3.3.4.2.2-4: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same SMF or SMF (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target SMF (service) instance ID towards which the request is redirected",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.500_clause_5.2.7",
        "ts_29.500_clause_6.10.9.1",
        "table_6.1.3.3.4.2.2-1",
        "table_6.1.3.3.4.2.2-2",
        "ts_29.500_table_5.2.7.2-1",
        "table_6.1.7.3-1",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.1.3.3.4.2.2-3",
        "table_6.1.3.3.4.2.2-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.3.3.4.3",
      "section_id": "6.1.3.3.4.3",
      "section_title": "Operation: release",
      "content": "6.1.3.3.4.3.1\tDescription\n6.1.3.3.4.3.2\tOperation Definition\nThis custom operation releases an individual SM context resource in the SMF, or in V-SMF in HR roaming scenario\nThis operation shall support the request data structures specified in table 6.1.3.3.4.3.2-1 and the response data structure and response codes specified in table 6.1.3.3.4.3.2-2.\nTable 6.1.3.3.4.3.2-1: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nSmContextReleaseData\nC\n0..1\nRepresentation of the data to be sent to the SMF when releasing the SM context.\nTable 6.1.3.3.4.3.2-2: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nSmContextReleasedData\nM\n1\n200 OK\nSuccessful release of an SM context, when information needs to be returned to the NF Service Consumer (NOTE 2).\nn/a\n204 No Content\nSuccessful release of an SM context.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\n(NOTE 3)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\n(NOTE 3)\nNOTE 1:\tThe mandatory HTTP error status codes for the POST method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] other than those specified in the table above also apply, with a ProblemDetails data type (see clause 5.2.7 of 3GPP TS 29.500 [4]).\nNOTE 2:\tThe support for 200 OK shall be dependent on the support of the indicated feature.\nNOTE 3:\tRedirectResponse may be inserted by an SCP, see clause 6.10.9.1 of 3GPP TS 29.500 [4].\nTable 6.1.3.3.4.3.2-3: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same SMF or SMF (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target SMF (service) instance ID towards which the request is redirected\nTable 6.1.3.3.4.3.2-4: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same SMF or SMF (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target SMF (service) instance ID towards which the request is redirected",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_5.2.7",
        "ts_29.500_clause_6.10.9.1",
        "table_6.1.3.3.4.3.2-1",
        "table_6.1.3.3.4.3.2-2",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.1.3.3.4.3.2-3",
        "table_6.1.3.3.4.3.2-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.3.3.4.4",
      "section_id": "6.1.3.3.4.4",
      "section_title": "Operation: retrieve",
      "content": "6.1.3.3.4.4.1\tDescription\n6.1.3.3.4.4.2\tOperation Definition\nThis custom operation retrieves an individual SM context resource from the SMF, from the V-SMF in HR roaming scenario or from the I-SMF.\nThis operation shall support the request data structures specified in table 6.1.3.3.4.4.2-1 and the response data structure and response codes specified in table 6.1.3.3.4.4.2-2.\nTable 6.1.3.3.4.4.2-1: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nSmContextRetrieveData\nO\n0..1\nOptional parameters used to retrieve the SM context, e.g. target MME capabilities, SM context type.\nTable 6.1.3.3.4.4.2-2: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nSmContextRetrievedData\nM\n1\n200 OK\nSuccessful retrieval of the SM context.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\n(NOTE 2)\nProblemDetails\nM\n1\n403 Forbidden\nThe \"cause\" attribute shall be set to one of the following application error:\n- TARGET_MME_CAPABILITY\n- DEFAULT_EBI_NOT_TRANSFERRED\nSee table 6.1.7.3-1 for the description of these errors.\nProblemDetails\nO\n0..1\n504 Gateway Timeout\nThe \"cause\" attribute may be set to one of the following application errors:\n- UPF_NOT_RESPONDING\nSee table 6.1.7.3-1 for the description of these errors.\nNOTE 1:\tThe mandatory HTTP error status codes for the POST method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] other than those specified in the table above also apply, with a ProblemDetails data type (see clause 5.2.7 of 3GPP TS 29.500 [4]).\nNOTE 2:\tRedirectResponse may be inserted by an SCP or SEPP, see clause 6.10.9.1 of 3GPP TS 29.500 [4].\nTable 6.1.3.3.4.4.2-3: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same SMF or SMF (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP or SEPP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target SMF (service) instance ID towards which the request is redirected\nTable 6.1.3.3.4.4.2-4: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same SMF or SMF (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP or SEPP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target SMF (service) instance ID towards which the request is redirected",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.500_clause_5.2.7",
        "ts_29.500_clause_6.10.9.1",
        "table_6.1.3.3.4.4.2-1",
        "table_6.1.3.3.4.4.2-2",
        "table_6.1.7.3-1",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.1.3.3.4.4.2-3",
        "table_6.1.3.3.4.4.2-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.3.3.4.5",
      "section_id": "6.1.3.3.4.5",
      "section_title": "Operation: send-mo-data",
      "content": "6.1.3.3.4.5.1\tDescription\n6.1.3.3.4.5.2\tOperation Definition\nThis custom operation enables to send mobile originated data received over NAS, for a given PDU session, towards the SMF, or the V-SMF for HR roaming scenarios, or the I-SMF for a PDU session with an I-SMF.\nThis operation shall support the request data structures specified in table 6.1.3.3.4.5.2-1 and the response data structure and response codes specified in table 6.1.3.3.4.5.2-2.\nTable 6.1.3.3.4.5.2-1: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nSendMoDataReqData\nM\n1\nRepresentation of the content of a Send MO Data Request\nTable 6.1.3.3.4.5.2-2: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nn/a\n204 No Content\nSuccessful MO data transfer\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\n(NOTE 2)\nExtProblemDetails\nO\n0..1\n400 Bad Request\nExtProblemDetails\nO\n0..1\n401 Unauthorized\nExtProblemDetails\nO\n0..1\n403 Forbidden\nExtProblemDetails\nO\n0..1\n404 Not Found\nExtProblemDetails\nO\n0..1\n413 Content Too Large\nExtProblemDetails\nO\n0..1\n415 Unsupported Media Type\nExtProblemDetails\nO\n0..1\n429 Too Many Requests\nExtProblemDetails\nO\n0..1\n500 Internal Server Error\nExtProblemDetails\nO\n0..1\n503 Service Unavailable\nNOTE 1:\tThe mandatory HTTP error status codes for the POST method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] other than those specified in the table above also apply, with a ProblemDetails data type (see clause 5.2.7 of 3GPP TS 29.500 [4]).\nNOTE 2:\tRedirectResponse may be inserted by an SCP, see clause 6.10.9.1 of 3GPP TS 29.500 [4].\nTable 6.1.3.3.4.5.2-3: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same SMF or SMF (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target SMF (service) instance ID towards which the request is redirected\nTable 6.1.3.3.4.5.2-4: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same SMF or SMF (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target SMF (service) instance ID towards which the request is redirected",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.500_clause_5.2.7",
        "ts_29.500_clause_6.10.9.1",
        "table_6.1.3.3.4.5.2-1",
        "table_6.1.3.3.4.5.2-2",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.1.3.3.4.5.2-3",
        "table_6.1.3.3.4.5.2-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.3.5.1",
      "section_id": "6.1.3.5.1",
      "section_title": "Description",
      "content": "This resource represents the collection of the individual PDU sessions created in the H-SMF for HR PDU sessions or in the SMF for PDU sessions with an I-SMF.\nThis resource is modelled with the Collection resource archetype (see clause C.2 of 3GPP TS 29.501 [5]).",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.3.5.2",
      "section_id": "6.1.3.5.2",
      "section_title": "Resource Definition",
      "content": "Resource URI: {apiRoot}/nsmf-pdusession/<apiVersion>/pdu-sessions\nThis resource shall support the resource URI variables defined in table 6.1.3.5.2-1.\nTable 6.1.3.5.2-1: Resource URI variables for this resource\nName\nData type\nDefinition\napiRoot\nstring\nSee clause 6.1.1.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6.1.1",
        "table_6.1.3.5.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.3.5.3.1",
      "section_id": "6.1.3.5.3.1",
      "section_title": "POST",
      "content": "This method creates an individual PDU session resource in the H-SMF or SMF.\nThis method shall support the URI query parameters specified in table 6.1.3.5.3.1-1.\nTable 6.1.3.5.3.1-1: URI query parameters supported by the POST method on this resource\nName\nData type\nP\nCardinality\nDescription\nn/a\nThis method shall support the request data structures specified in table 6.1.3.5.3.1-2 and the response data structures and response codes specified in table 6.1.3.5.3.1-3.\nTable 6.1.3.5.3.1-2: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nPduSessionCreateData\nM\n1\nRepresentation of the PDU session to be created in the H-SMF or SMF.\nTable 6.1.3.5.3.1-3: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nPduSessionCreatedData\nM\n1\n201 Created\nSuccessful creation of a PDU session.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\n(NOTE 2)\nPduSessionCreateError\nM\n1\n400 Bad Request\nThe \"cause\" attribute shall be set to one of the errors defined in Table 5.2.7.2-1 of 3GPP TS 29.500 [4].\nProblemDetails\nO\n0..1\n400 Bad Request\nThis error shall only be returned by an SCP or a SEPP for errors they originate. As an exception, this error may also be returned by an SMF, with an empty content, for a protocol error other than those specified for the SMF PDUSession service logic (e.g. protocol error found by the HTTP stack).\nPduSessionCreateError\nM\n1\n403 Forbidden\nThe \"cause\" attribute shall be set to one of the following application errors:\n- N1_SM_ERROR\n- SNSSAI_DENIED\n- DNN_DENIED\n- PDUTYPE_DENIED\n- SSC_DENIED\n- SUBSCRIPTION_DENIED\n- DNN_NOT_SUPPORTED\n- PDUTYPE_NOT_SUPPORTED\n- SSC_NOT_SUPPORTED\n- NO_EPS_5GS_CONTINUITY\n- INTEGRITY_PROTECTED_MDR_NOT_ACCEPTABLE\n- NOT_SUPPORTED_WITH_ISMF\n- EXCEEDED_UE_SLICE_DATA_RATE\n- EXCEEDED_SLICE_DATA_RATE\nSee table 6.1.7.3-1 for the description of these errors.\nProblemDetails\nO\n0..1\n403 Forbidden\nThis error shall only be returned by an SCP or a SEPP for errors they originate. As an exception, this error may also be returned by an SMF, with an empty content, for a protocol error other than those specified for the SMF PDUSession service logic (e.g. protocol error found by the HTTP stack).\nPduSessionCreateError\nM\n1\n404 Not Found\nThe \"cause\" attribute shall be set to one of the following application error:\n- CONTEXT_NOT_FOUND\nSee table 6.1.7.3-1 for the description of these errors.\nPduSessionCreateError\nM\n1\n500 Internal Server Error\nThe \"cause\" attribute shall be set to one of the errors defined in Table 5.2.7.2-1 of 3GPP TS 29.500 [4] or to one of the following application errors:\n- INSUFFICIENT_RESOURCES_SLICE\n- INSUFFICIENT_RESOURCES_SLICE_DNN\nSee table 6.1.7.3-1 for the description of these errors.\nProblemDetails\nO\n0..1\n500 Internal Server Error\nThis error shall only be returned by an SCP or a SEPP for errors they originate. As an exception, this error may also be returned by an SMF, with an empty content, for a general server error other than those specified for the SMF PDUSession service logic.\nPduSessionCreateError\nM\n1\n503 Service Unavailable\nThe \"cause\" attribute shall be set to one of the errors defined in Table 5.2.7.2-1 of 3GPP TS 29.500 [4] or to one of the following application errors:\n- DNN_CONGESTION\n- S_NSSAI_ CONGESTION\nSee table 6.1.7.3-1 for the description of these errors.\nProblemDetails\nO\n0..1\n503 Service Unavailable\nThis error shall only be returned by an SCP or a SEPP for errors they originate. As an exception, this error may also be returned by an SMF, with an empty content, for a general server error other than those specified for the SMF PDUSession service logic.\nPduSessionCreateError\nM\n1\n504 Gateway Timeout\nThe \"cause\" attribute shall be set to one of the following application errors:\n- PEER_NOT_RESPONDING\n- NETWORK_FAILURE\nSee table 6.1.7.3-1 for the description of these errors.\nProblemDetails\nO\n0..1\n504 Gateway Timeout\nThis error shall only be returned by an SCP or a SEPP for errors they originate.\nNOTE 1:\tThe mandatory HTTP error status codes for the POST method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] other than those specified in the table above also apply, with a ProblemDetails data type (see clause 5.2.7 of 3GPP TS 29.500 [4]).\nNOTE 2:\tRedirectResponse may be inserted by an SCP or SEPP, see clause 6.10.9.1 of 3GPP TS 29.500 [4].\nTable 6.1.3.5.3.1-4: Headers supported by the 201 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nContains the URI of the newly created resource, according to the structure: {apiRoot}/nsmf-pdusession/<apiVersion>/pdu-sessions/{pduSessionRef}\nTable 6.1.3.5.3.1-5: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same SMF or SMF (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP or SEPP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target SMF (service) instance ID towards which the request is redirected\nTable 6.1.3.5.3.1-6: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same SMF or SMF (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP or SEPP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target SMF (service) instance ID towards which the request is redirected",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_5.2.7",
        "ts_29.500_clause_6.10.9.1",
        "table_6.1.3.5.3.1-1",
        "table_6.1.3.5.3.1-2",
        "table_6.1.3.5.3.1-3",
        "ts_29.500_table_5.2.7.2-1",
        "table_6.1.7.3-1",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.1.3.5.3.1-4",
        "table_6.1.3.5.3.1-5",
        "table_6.1.3.5.3.1-6",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.3.5.4.1",
      "section_id": "6.1.3.5.4.1",
      "section_title": "Overview",
      "content": "Table 6.1.3.5.4.1-1: Custom operations\nCustom operaration URI\nMapped HTTP method\nDescription\nn/a",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.1.3.5.4.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.3.6.1",
      "section_id": "6.1.3.6.1",
      "section_title": "Description",
      "content": "This resource represents an individual PDU session created in the H-SMF for a HR PDU session or in the SMF for a PDU session with an I-SMF.\nThis resource is modelled with the Document resource archetype (see clause C.1 of 3GPP TS 29.501 [5]).",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.3.6.2",
      "section_id": "6.1.3.6.2",
      "section_title": "Resource Definition",
      "content": "Resource URI: {apiRoot}/nsmf-pdusession/<apiVersion>/pdu-sessions/{pduSessionRef}\nThis resource shall support the resource URI variables defined in table 6.1.3.6.2-1.\nTable 6.1.3.6.2-1: Resource URI variables for this resource\nName\nData type\nDefinition\napiRoot\nstring\nSee clause 6.1.1.\npduSessionRef\nstring\nPDU session reference assigned by the H-SMF or SMF during the Create service operation.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6.1.1",
        "table_6.1.3.6.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.3.6.3",
      "section_id": "6.1.3.6.3",
      "section_title": "Resource Standard Methods",
      "content": "None.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.502_6.1.3.6.4.1",
      "section_id": "6.1.3.6.4.1",
      "section_title": "Overview",
      "content": "Table 6.1.3.6.4.1-1: Custom operations\nOperation Name\nCustom operation URI\nMapped HTTP method\nDescription\nmodify\n{resourceUri}/modify\nPOST\nUpdate service operation\nrelease\n{resourceUri}/release\nPOST\nRelease service operation\ntransfer-mo-data\n{resourceUri}/ transfer-mo-data\nPOST\nTransfer MO Data service operation\nretrieve\n{resourceUri}/retrieve\nPOST\nRetrieve service operation",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.1.3.6.4.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.3.6.4.2",
      "section_id": "6.1.3.6.4.2",
      "section_title": "Operation: modify",
      "content": "6.1.3.6.4.2.1\tDescription\n6.1.3.6.4.2.2\tOperation Definition\nThis custom operation updates an individual PDU session resource in the H-SMF or SMF and/or provide the H-SMF or SMF with information received by the V-SMF or I-SMF in N1 SM signalling from the UE.\nThis operation shall support the request data structures specified in table 6.1.3.6.4.2.2-1 and the response data structure and response codes specified in table 6.1.3.6.4.2.2-2.\nTable 6.1.3.6.4.2.2-1: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nHsmfUpdateData\nM\n1\nRepresentation of the updates to apply to the PDU session.\nTable 6.1.3.6.4.2.2-2: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nHsmfUpdatedData\nC\n0..1\n200 OK\nThis case represents a successful update of the PDU session, when the H-SMF or SMF needs to return information in the response.\nn/a\n204 No Content\nThis case represents a successful update of the PDU session, when the H-SMF or SMF does not need to return information in the response.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\n(NOTE 2)\nHsmfUpdateError\nM\n1\n400 Bad Request\nThe \"cause\" attribute shall be set to one of the errors defined in Table 5.2.7.2-1 of 3GPP TS 29.500 [4].\nProblemDetails\nO\n0..1\n400 Bad Request\nThis error shall only be returned by an SCP or a SEPP for errors they originate. As an exception, this error may also be returned by an SMF, with an empty content, for a protocol error other than those specified for the SMF PDUSession service logic (e.g. protocol error found by the HTTP stack).\nHsmfUpdateError\nM\n1\n403 Forbidden\nThe \"cause\" attribute shall be set to one of the following application errors:\n- N1_SM_ERROR\n- SUBSCRIPTION_DENIED\n- PDU_SESSION_ANCHOR_CHANGE\n- S_NSSAI_UNAVAILABLE_DUE_TO_NSAC\n- INTEGRITY_PROTECTED_MDR_NOT_ACCEPTABLE\nSee table 6.1.7.3-1 for the description of these errors.\nProblemDetails\nO\n0..1\n403 Forbidden\nThis error shall only be returned by an SCP or a SEPP for errors they originate. As an exception, this error may also be returned by an SMF, with an empty content, for a protocol error other than those specified for the SMF PDUSession service logic (e.g. protocol error found by the HTTP stack).\nHsmfUpdateError\nM\n1\n404 Not Found\nThe \"cause\" attribute shall be set to one of the following application error:\n- CONTEXT_NOT_FOUND\nSee table 6.1.7.3-1 for the description of these errors.\nHsmfUpdateError\nM\n1\n500 Internal Server Error\nThe \"cause\" attribute shall be set to one of the errors defined in Table 5.2.7.2-1 of 3GPP TS 29.500 [4].\nProblemDetails\nO\n0..1\n500 Internal Server Error\nThis error shall only be returned by an SCP or a SEPP for errors they originate. As an exception, this error may also be returned by an SMF, with an empty content, for a general server error other than those specified for the SMF PDUSession service logic.\nHsmfUpdateError\nM\n1\n503 Service Unavailable\nThe \"cause\" attribute shall be set to one of the errors defined in Table 5.2.7.2-1 of 3GPP TS 29.500 [4] or to one of the following application errors:\n- DNN_CONGESTION\n- S_NSSAI_CONGESTION\nSee table 6.1.7.3-1 for the description of these errors.\nProblemDetails\nO\n0..1\n503 Service Unavailable\nThis error shall only be returned by an SCP or a SEPP for errors they originate. As an exception, this error may also be returned by an SMF, with an empty content, for a general server error other than those specified for the SMF PDUSession service logic.\nNOTE 1:\tThe mandatory HTTP error status codes for the POST method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] other than those specified in the table above also apply, with a ProblemDetails data type (see clause 5.2.7 of 3GPP TS 29.500 [4]).\nNOTE 2:\tRedirectResponse may be inserted by an SCP or SEPP, see clause 6.10.9.1 of 3GPP TS 29.500 [4].\nTable Table 6.1.3.6.4.2.2-3: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same SMF or SMF (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP or SEPP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target SMF (service) instance ID towards which the request is redirected\nTable Table 6.1.3.6.4.2.2-4: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same SMF or SMF (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP or SEPP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target SMF (service) instance ID towards which the request is redirected",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.500_clause_5.2.7",
        "ts_29.500_clause_6.10.9.1",
        "table_6.1.3.6.4.2.2-1",
        "table_6.1.3.6.4.2.2-2",
        "ts_29.500_table_5.2.7.2-1",
        "table_6.1.7.3-1",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.1.3.6.4.2.2-3",
        "table_6.1.3.6.4.2.2-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.3.6.4.3",
      "section_id": "6.1.3.6.4.3",
      "section_title": "Operation: release",
      "content": "6.1.3.6.4.3.1\tDescription\n6.1.3.6.4.3.2\tOperation Definition\nThis custom operation releases an individual PDU session resource in the H-SMF for a HR PDU session or in the SMF for a PDU session with an I-SMF.\nThis operation shall support the request data structures specified in table 6.1.3.6.4.3.2-1 and the response data structure and response codes specified in table 6.1.3.6.4.3.2-2.\nTable 6.1.3.6.4.3.2-1: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nReleaseData\nC\n0..1\nRepresentation of the data to be sent to the H-SMF or SMF when releasing the PDU session.\nTable 6.1.3.6.4.3.2-2: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nReleasedData\nM\n1\n200 OK\nSuccessful release of a PDU session context, when information needs to be returned to the NF Service Consumer.\n(NOTE 2)\nn/a\n204 No Content\nSuccessful release of a PDU session.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\n(NOTE 3)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\n(NOTE 3)\nNOTE 1:\tThe mandatory HTTP error status codes for the POST method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] other than those specified in the table above also apply, with a ProblemDetails data type (see clause 5.2.7 of 3GPP TS 29.500 [4]).\nNOTE 2:\tThe support for 200 OK shall be dependent on the support of the indicated feature.\nNOTE 3:\tRedirectResponse may be inserted by an SCP or SEPP, see clause 6.10.9.1 of 3GPP TS 29.500 [4].\nTable 6.1.3.6.4.3.2-3: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same SMF or SMF (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP or SEPP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target SMF (service) instance ID towards which the request is redirected\nTable 6.1.3.6.4.3.2-4: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same SMF or SMF (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP or SEPP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target SMF (service) instance ID towards which the request is redirected",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.500_clause_5.2.7",
        "ts_29.500_clause_6.10.9.1",
        "table_6.1.3.6.4.3.2-1",
        "table_6.1.3.6.4.3.2-2",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.1.3.6.4.3.2-3",
        "table_6.1.3.6.4.3.2-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.3.6.4.4",
      "section_id": "6.1.3.6.4.4",
      "section_title": "Operation: transfer-mo-data",
      "content": "6.1.3.6.4.4.1\tDescription\n6.1.3.6.4.4.2\tOperation Definition\nThis custom operation enables to transfer mobile originated data received from AMF, for a given PDU session, towards the H-SMF for HR roaming scenarios, or the SMF for a PDU session with an I-SMF.\nThis operation shall support the request data structures specified in table 6.1.3.6.4.4.2-1 and the response data structure and response codes specified in table 6.1.3.6.4.4.2-2.\nTable 6.1.3.6.4.4.2-1: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nTransferMoDataReqData\nM\n1\nRepresentation of the content of a Transfer MO Data Request\nTable 6.1.3.6.4.4.2-2: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nn/a\n204 No Content\nSuccessful MO data transfer\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\n(NOTE 2)\nNOTE 1:\tThe mandatory HTTP error status codes for the POST method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] other than those specified in the table above also apply, with a ProblemDetails data type (see clause 5.2.7 of 3GPP TS 29.500 [4]).\nNOTE 2:\tRedirectResponse may be inserted by an SCP or SEPP, see clause 6.10.9.1 of 3GPP TS 29.500 [4].\nTable 6.1.3.6.4.4.2-3: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same SMF or SMF (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP or SEPP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target SMF (service) instance ID towards which the request is redirected\nTable 6.1.3.6.4.4.2-4: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same SMF or SMF (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP or SEPP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target SMF (service) instance ID towards which the request is redirected",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.500_clause_5.2.7",
        "ts_29.500_clause_6.10.9.1",
        "table_6.1.3.6.4.4.2-1",
        "table_6.1.3.6.4.4.2-2",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.1.3.6.4.4.2-3",
        "table_6.1.3.6.4.4.2-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.3.6.4.5",
      "section_id": "6.1.3.6.4.5",
      "section_title": "Operation: retrieve",
      "content": "6.1.3.6.4.5.1\tDescription\n6.1.3.6.4.5.2\tOperation Definition\nThis custom operation retrieves information from an individual PDU session context in the H-SMF for a HR PDU session or in the SMF for a PDU session with an I-SMF.\nThis operation shall support the request data structures specified in table 6.1.3.6.4.5.2-1 and the response data structure and response codes specified in table 6.1.3.6.4.5.2-2.\nTable 6.1.3.6.4.5.2-1: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nRetrieveData\nM\n1\nRepresentation of the content of a Retrieve Request\nTable 6.1.3.6.4.5.2-2: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nRetrievedData\nM\n1\n200 OK\nSuccessful retrieval of information from a PDU session context.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\n(NOTE 2)\nProblemDetails\nO\n0..1\n504 Gateway Timeout\nThe \"cause\" attribute may be set to one of the following application errors:\n- UPF_NOT_RESPONDING\nSee table 6.1.7.3-1 for the description of these errors.\nNOTE 1:\tThe mandatory HTTP error status codes for the POST method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] other than those specified in the table above also apply, with a ProblemDetails data type (see clause 5.2.7 of 3GPP TS 29.500 [4]).\nNOTE 2:\tRedirectResponse may be inserted by an SCP or SEPP, see clause 6.10.9.1 of 3GPP TS 29.500 [4].\nTable 6.1.3.6.4.5.2-3: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same SMF or SMF (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP or SEPP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target SMF (service) instance ID towards which the request is redirected\nTable 6.1.3.6.4.5.2-4: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same SMF or SMF (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP or SEPP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target SMF (service) instance ID towards which the request is redirected",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.500_clause_5.2.7",
        "ts_29.500_clause_6.10.9.1",
        "table_6.1.3.6.4.5.2-1",
        "table_6.1.3.6.4.5.2-2",
        "table_6.1.7.3-1",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.1.3.6.4.5.2-3",
        "table_6.1.3.6.4.5.2-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.3.7.1",
      "section_id": "6.1.3.7.1",
      "section_title": "Description",
      "content": "This resource represents an individual PDU session created in the V-SMF for a HR PDU session or in the I-SMF for a PDU session with an I-SMF.\nThis resource is modelled with the Document resource archetype (see clause C.1 of 3GPP TS 29.501 [5]).",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.3.7.2",
      "section_id": "6.1.3.7.2",
      "section_title": "Resource Definition",
      "content": "Callback URI: {vsmfPduSessionUri} or {ismfPduSessionUri}\nThis resource shall support the callback URI variables defined in table 6.1.3.7.2-1.\nTable 6.1.3.7.2-1: Callback URI variables for this resource\nName\nData type\nDefinition\nvsmfPduSessionUri\nUri\nPDU session reference assigned by the V-SMF during the Create service operation.\nismfPduSessionUri\nUri\nPDU session reference assigned by the I-SMF during the Create service operation.",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.1.3.7.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.3.7.3.1",
      "section_id": "6.1.3.7.3.1",
      "section_title": "POST",
      "content": "This method sends a status notification to the NF Service Consumer.\nThis method shall support the URI query parameters specified in table 6.1.3.7.3.1-1.\nTable 6.1.3.7.3.1-1: URI query parameters supported by the POST method on this resource\nName\nData type\nP\nCardinality\nDescription\nn/a\nThis method shall support the request data structures specified in table 6.1.3.7.3.1-2 and the response data structures and response codes specified in table 6.1.3.7.3.1-3.\nTable 6.1.3.7.3.1-2: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nStatusNotification\nM\n1\nRepresentation of the status notification.\nTable 6.1.3.7.3.1-3: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nn/a\n204 No Content\nSuccessful notification of status change\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\n(NOTE 2)\nNOTE 1:\tThe mandatory HTTP error status codes for the POST method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] other than those specified in the table above also apply, with a ProblemDetails data type (see clause 5.2.7 of 3GPP TS 29.500 [4]).\nNOTE 2:\tRedirectResponse may be inserted by an SCP or SEPP, see clause 6.10.9.1 of 3GPP TS 29.500 [4].\nTable 6.1.3.7.3.1-4: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same SMF or SMF (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP or SEPP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target SMF (service) instance ID towards which the request is redirected\nTable 6.1.3.7.3.1-5: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same SMF or SMF (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP or SEPP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target SMF (service) instance ID towards which the request is redirected",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_5.2.7",
        "ts_29.500_clause_6.10.9.1",
        "table_6.1.3.7.3.1-1",
        "table_6.1.3.7.3.1-2",
        "table_6.1.3.7.3.1-3",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.1.3.7.3.1-4",
        "table_6.1.3.7.3.1-5",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.3.7.4.1",
      "section_id": "6.1.3.7.4.1",
      "section_title": "Overview",
      "content": "Table 6.1.3.7.4.1-1: Custom operations\nOperation Name\nCustom operation URI\nMapped HTTP method\nDescription\nmodify\n{vsmfPduSessionUri}/modify or\n{ismfPduSessionUri}/modify\nPOST\nUpdate service operation (initiated by H-SMF or SMF)\ntransfer-mt-data\n{vsmfPduSessionUri}/transfer-mt-data or\n{ismfPduSessionUri}/transfer-mt-data\nPOST\nTransfer MT Data service operation",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.1.3.7.4.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.3.7.4.2",
      "section_id": "6.1.3.7.4.2",
      "section_title": "Operation: modify",
      "content": "6.1.3.7.4.2.1\tDescription\n6.1.3.7.4.2.2\tOperation Definition\nThis custom operation modifies an individual PDU session resource in the V-SMF for a HR PDU session or in the I-SMF for a PDU session with an I-SMF.\nThis operation shall support the request data structures specified in table 6.1.3.7.4.2.2-1 and the response data structure and response codes specified in table 6.1.3.7.4.2.2-2.\nTable 6.1.3.7.4.2.2-1: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nVsmfUpdateData\nM\n1\nRepresentation of the updates to apply to the PDU session.\nTable 6.1.3.7.4.2.2-2: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nVsmfUpdatedData\nM\n1\n200 OK\nThis case represents a successful update of the PDU session, when the V-SMF or I-SMF needs to return information in the response.\nn/a\n204 No Content\nThis case represents a successful update of the PDU session, when the V-SMF or I-SMF does not need to return information in the response.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\n(NOTE 2)\nVsmfUpdateError\nM\n1\n400 Bad Request\nThe \"cause\" attribute shall be set to one of the errors defined in Table 5.2.7.2-1 of 3GPP TS 29.500 [4].\nProblemDetails\nO\n0..1\n400 Bad Request\nThis error shall only be returned by an SCP or a SEPP for errors they originate. As an exception, this error may also be returned by an SMF, with an empty content, for a protocol error other than those specified for the SMF PDUSession service logic (e.g. protocol error found by the HTTP stack).\nVsmfUpdateError\nM\n1\n403 Forbidden\nThe \"cause\" attribute shall be set to one of the following application errors:\n- N1_SM_ERROR\n- UNABLE_TO_PAGE_UE\n- UE_NOT_RESPONDING\n- REJECTED_BY_UE\n- REJECTED_DUE_VPLMN_POLICY\n- HO_TAU_IN_PROGRESS\n- EBI_EXHAUSTED\n- EBI_REJECTED_LOCAL_POLICY, if the EBI allocation was rejected due to local policies at the AMF as specified in clause 4.11.1.4.1 of 3GPP TS 23.502 [3].\n- EBI_REJECTED_NO_N26, if the EBI allocation was rejected when the AMF is in a serving PLMN that does not support 5GS-EPS interworking procedures with N26 interface as specified in clause 5.17.2.3.1 of 3GPP TS 23.501 [2].\nSee table 6.1.7.3-1 for the description of these errors.\nProblemDetails\nO\n0..1\n403 Forbidden\nThis error shall only be returned by an SCP or a SEPP for errors they originate. As an exception, this error may also be returned by an SMF, with an empty content, for a protocol error other than those specified for the SMF PDUSession service logic (e.g. protocol error found by the HTTP stack).\nVsmfUpdateError\nM\n1\n404 Not Found\nThe \"cause\" attribute shall be set to one of the following application error:\n- CONTEXT_NOT_FOUND\nSee table 6.1.7.3-1 for the description of these errors.\nVsmfUpdateError\nO\n0..1\n409 Conflict\nThe \"cause\" attribute may be used to indicate one of the following application errors:\n-\tHIGHER_PRIORITY_REQUEST_ONGOING;\n-\tUE_IN_CM_IDLE_STATE\nSee table 6.1.7.3-1 for the description of these errors.\nVsmfUpdateError\nM\n1\n500 Internal Server Error\nThe \"cause\" attribute shall be set to one of the errors defined in Table 5.2.7.2-1 of 3GPP TS 29.500 [4].\nProblemDetails\nO\n0..1\n500 Internal Server Error\nThis error shall only be returned by an SCP or a SEPP for errors they originate. As an exception, this error may also be returned by an SMF, with an empty content, for a general server error other than those specified for the SMF PDUSession service logic.\nVsmfUpdateError\nM\n1\n503 Service Unavailable\nThe \"cause\" attribute shall be set to one of the errors defined in Table 5.2.7.2-1 of 3GPP TS 29.500 [4].\nProblemDetails\nO\n0..1\n503 Service Unavailable\nThis error shall only be returned by an SCP or a SEPP for errors they originate. As an exception, this error may also be returned by an SMF, with an empty content, for a general server error other than those specified for the SMF PDUSession service logic.\nVsmfUpdateError\nM\n1\n504 Gateway Timeout\nThe \"cause\" attribute shall be set to one of the following application errors:\n- PEER_NOT_RESPONDING\n- NETWORK_FAILURE\nSee table 6.1.7.3-1 for the description of these errors.\nProblemDetails\nO\n0..1\n504 Gateway Timeout\nThis error shall only be returned by an SCP or a SEPP for errors they originate.\nNOTE 1:\tThe mandatory HTTP error status codes for the POST method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] other than those specified in the table above also apply, with a ProblemDetails data type (see clause 5.2.7 of 3GPP TS 29.500 [4]).\nNOTE 2:\tRedirectResponse may be inserted by an SCP or SEPP, see clause 6.10.9.1 of 3GPP TS 29.500 [4].\nTable 6.1.3.7.4.2.2-3: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same SMF or SMF (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP or SEPP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target SMF (service) instance ID towards which the request is redirected\nTable 6.1.3.7.4.2.2-4: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same SMF or SMF (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP or SEPP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target SMF (service) instance ID towards which the request is redirected",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.502_clause_4.11.1.4.1",
        "ts_23.501_clause_5.17.2.3.1",
        "ts_29.500_clause_5.2.7",
        "ts_29.500_clause_6.10.9.1",
        "table_6.1.3.7.4.2.2-1",
        "table_6.1.3.7.4.2.2-2",
        "ts_29.500_table_5.2.7.2-1",
        "ts_23.501_table_6.1.7.3-1",
        "table_6.1.7.3-1",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.1.3.7.4.2.2-3",
        "table_6.1.3.7.4.2.2-4",
        "ts_29.500",
        "ts_23.502",
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.3.7.4.3",
      "section_id": "6.1.3.7.4.3",
      "section_title": "Operation: transfer-mt-data",
      "content": "6.1.3.7.4.3.1\tDescription\nThis custom operation enables to transfer mobile terminated data received from NEF, for a given PDU session, towards the V-SMF for HR roaming scenarios, or the I-SMF for a PDU session with an I-SMF.\n6.1.3.7.4.3.2\tOperation Definition\nThis operation shall support the request data structures specified in Table 6.1.3.7.4.3.2-1 and the response data structure and response codes specified in Table 6.1.3.7.4.3.2-2.\nTable 6.1.3.7.4.3.2-1: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nTransferMtDataReqData\nM\n1\nRepresentation of the content of a Transfer MT Data Request\nTable 6.1.3.7.4.3.2-2: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nn/a\n204 No Content\nSuccessful MT data transfer\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\n(NOTE 2)\nTransferMtDataError\nM\n1\n504 Gateway Timeout\nThe \"cause\" attribute may be used to indicate the following application errors:\n-\tUE_NOT_REACHABLE, if the UE is not reachable to deliver the mobile terminated data; Estimated Maximum Waiting Time shall be included if available;\nSee table 6.1.7.3-1 for the description of these errors.\nNOTE 1:\tThe mandatory HTTP error status codes for the POST method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] other than those specified in the table above also apply, with a ProblemDetails data type (see clause 5.2.7 of 3GPP TS 29.500 [4]).\nNOTE 2:\tRedirectResponse may be inserted by an SCP or SEPP, see clause 6.10.9.1 of 3GPP TS 29.500 [4].\nTable 6.1.3.7.4.3.2-3: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same SMF or SMF (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP or SEPP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target SMF (service) instance ID towards which the request is redirected\nTable 6.1.3.7.4.3.2-4: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same SMF or SMF (service) set.\nFor the case when a request is redirected to the same target resource via a different SCP or SEPP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target SMF (service) instance ID towards which the request is redirected",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.500_clause_5.2.7",
        "ts_29.500_clause_6.10.9.1",
        "table_6.1.3.7.4.3.2-1",
        "table_6.1.3.7.4.3.2-2",
        "table_6.1.7.3-1",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.1.3.7.4.3.2-3",
        "table_6.1.3.7.4.3.2-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.4",
      "section_id": "6.1.4",
      "section_title": "Custom Operations without associated resources",
      "content": "None.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.502_6.1.5.1",
      "section_id": "6.1.5.1",
      "section_title": "General",
      "content": "This clause specifies the notifications provided by the Nsmf_PDUSession service.\nThe delivery of notifications shall be supported as specified in clause 6.2 of 3GPP TS 29.500 [4] for Server-initiated communication.\nTable 6.1.5.1-1: Notifications overview\nNotification\nCallback URI\nHTTP method or custom operation\nDescription\n(service operation)\nSM Context Status Notification\n{smContextStatusUri}\n(NF Service Consumer provided callback reference)\nPOST\nNotify SM Context Status",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_6.2",
        "table_6.1.5.1-1",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.5.2.1",
      "section_id": "6.1.5.2.1",
      "section_title": "Description",
      "content": "If the NF Service Consumer (e.g AMF) has provided the callback URI for getting notified about change of SM context status, the SMF shall notify the NF Service Consumer when the SM context status information is updated.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.502_6.1.5.2.2",
      "section_id": "6.1.5.2.2",
      "section_title": "Notification Definition",
      "content": "The POST method shall be used for SM context status notification and the URI shall be the callback reference provided by the NF Service Consumer during the subscription to this notification.\nCallback URI: {smContextStatusUri}\nSupport of URI query parameters is specified in table 6.1.5.2.2-1.\nTable 6.1.5.2.2-1: URI query parameters supported by the POST method\nName\nData type\nP\nCardinality\nDescription\nn/a\nSupport of request data structures is specified in table 6.1.5.2.2-2, and support of response data structures and response codes is specified in table 6.1.5.2-3.\nTable 6.1.5.2.2-2: Data structures supported by the POST Request Body\nData type\nP\nCardinality\nDescription\nSmContextStatusNotification\nM\n1\nRepresentation of the SM context status notification.\nTable 6.1.5.2.2-3: Data structures supported by the POST Response Body\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nn/a\n204 No Content\nSuccessful notification of the SM context status change\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\n(NOTE 2)\nNOTE 1:\tThe mandatory HTTP error status codes for the POST method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] other than those specified in the table above also apply, with a ProblemDetails data type (see clause 5.2.7 of 3GPP TS 29.500 [4]).\nNOTE 2:\tRedirectResponse may be inserted by an SCP, see clause 6.10.9.1 of 3GPP TS 29.500 [4].\nTable 6.1.5.2.2-4: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nA URI pointing to the endpoint of NF service consumer to which the notification should be sent. For the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the notification is redirected\nTable 6.1.5.2.2-5: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nA URI pointing to the endpoint of NF service consumer to which the notification should be sent. For the case when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the notification is redirected",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5.2.7",
        "ts_29.500_clause_6.10.9.1",
        "table_6.1.5.2.2-1",
        "table_6.1.5.2.2-2",
        "table_6.1.5.2-3",
        "table_6.1.5.2.2-3",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.1.5.2.2-4",
        "table_6.1.5.2.2-5",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.1",
      "section_id": "6.1.6.1",
      "section_title": "General",
      "content": "This clause specifies the application data model supported by the API.\nTable 6.1.6.1-1 specifies the data types defined for the Nsmf service-based interface protocol.\nTable 6.1.6.1-1: Nsmf specific Data Types\nData type\nClause defined\nDescription\nSmContextCreateData\n6.1.6.2.2\nData within Create SM Context Request\nSmContextCreatedData\n6.1.6.2.3\nData within Create SM Context Response\nSmContextUpdateData\n6.1.6.2.4\nData within Update SM Context Request\nSmContextUpdatedData\n6.1.6.2.5\nData within Update SM Context Response\nSmContextReleaseData\n6.1.6.2.6\nData within Release SM Context Request\nSmContextRetrieveData\n6.1.6.2.7\nData within Retrieve SM Context Request\nSmContextStatusNotification\n6.1.6.2.8\nData within Notify SM Context Status Request\nPduSessionCreateData\n6.1.6.2.9\nData within Create Request\nPduSessionCreatedData\n6.1.6.2.10\nData within Create Response\nHsmfUpdateData\n6.1.6.2.11\nData within Update Request towards H-SMF, or from I-SMF to SMF\nHsmfUpdatedData\n6.1.6.2.12\nData within Update Response from H-SMF to V-SMF, or from SMF to I-SMF\nReleaseData\n6.1.6.2.13\nData within Release Request\nHsmfUpdateError\n6.1.6.2.14\nError within Update Response from H-SMF to V-SMF, or from SMF to I-SMF\nVsmfUpdateData\n6.1.6.2.15\nData within Update Request towards V-SMF, or from SMF to I-SMF\nVsmfUpdatedData\n6.1.6.2.16\nData within Update Response from V-SMF, or from I-SMF to SMF\nStatusNotification\n6.1.6.2.17\nData within Notify Status Request\nQosFlowItem\n6.1.6.2.18\nIndividual QoS flow\nQosFlowSetupItem\n6.1.6.2.19\nIndividual QoS flow to setup\nQosFlowAddModifyRequestItem\n6.1.6.2.20\nIndividual QoS flow requested to be created or modified\nQosFlowReleaseRequestItem\n6.1.6.2.21\nIndividual QoS flow requested to be released\nQosFlowProfile\n6.1.6.2.22\nQoS flow profile\nGbrQosFlowInformation\n6.1.6.2.23\nGBR QoS flow information\nQosFlowNotifyItem\n6.1.6.2.24\nNotification related to a QoS flow\nSmContextRetrievedData\n6.1.6.2.27\nData within Retrieve SM Context Response\nTunnelInfo\n6.1.6.2.28\nTunnel Information\nStatusInfo\n6.1.6.2.29\nStatus of SM context or of PDU session\nVsmfUpdateError\n6.1.6.2.30\nError within Update Response from V-SMF, or from I-SMF to SMF\nEpsPdnCnxInfo\n6.1.6.2.31\nEPS PDN Connection Information from H-SMF to V-SMF, or from SMF to I-SMF\nEpsBearerInfo\n6.1.6.2.32\nEPS Bearer Information from H-SMF to V-SMF, or from SMF to I-SMF\nPduSessionNotifyItem\n6.1.6.2.33\nNotification related to a PDU session\nEbiArpMapping\n6.1.6.2.34\nEBI to ARP mapping\nSmContextCreateError\n6.1.6.2.35\nError within Create SM Context Response\nSmContextUpdateError\n6.1.6.2.36\nError within Update SM Context Response\nPduSessionCreateError\n6.1.6.2.37\nError within Create Response\nMmeCapabilities\n6.1.6.2.38\nMME capabilities\nSmContext\n6.1.6.2.39\nComplete SM Context\nExemptionInd\n6.1.6.2.40\nExemption Indication\nPsaInformation\n6.1.6.2.41\nPSA Information\nDnaiInformation\n6.1.6.2.42\nDNAI Information\nN4Information\n6.1.6.2.43\nN4 Information\nIndirectDataForwardingTunnelInfo\n6.1.6.2.44\nIndirect Data Forwarding Tunnel Information\nSmContextReleasedData\n6.1.6.2.45\nData within Release SM Context Response\nReleasedData\n6.1.6.2.46\nData within Release Response\nSendMoDataReqData\n6.1.6.2.47\nData within Send MO Data Request\nCnAssistedRanPara\n6.1.6.2.48\nSMF derived CN assisted RAN parameters tuning\nUlclBpInformation\n6.1.6.2.49\nUL CL or BP Information\nTransferMoDataReqData\n6.1.6.2.50\nData within Transfer MO Data Request\nTransferMtDataReqData\n6.1.6.2.51\nData within Transfer MT Data Request\nTransferMtDataError\n6.1.6.2.52\nTransfer MT Data Error Response\nTransferMtDataAddInfo\n6.1.6.2.53\nTransfer MT Data Error Response Additional Information\nVplmnQos\n6.1.6.2.54\nVPLMN QoS\nDdnFailureSubs\n6.1.6.2.55\nDDN Failure Subscription\nRetrieveData\n6.1.6.2.56\nData within Retrieve Request\nRetrievedData\n6.1.6.2.57\nData within Retrieve Response\nSecurityResult\n6.1.6.2.58\nSecurity Result\nUpSecurityInfo\n6.1.6.2.59\nUser Plane Security Information\nDdnFailureSubInfo\n6.1.6.2.60\nDDN Failure Subscription Information\nAlternativeQosProfile\n6.1.6.2.61\nAlternative QoS Profile\nProblemDetailsAddInfo\n6.1.6.2.62\nProblem Details Additional Information\nExtProblemDetails\n6.1.6.2.63\nExtended Problem Details\nQosMonitoringInfo\n6.1.6.2.64\nQoS Monitoring Information\nIpAddress\n6.1.6.2.65\nIP Address\nRedundantPduSessionInformation\n6.1.6.2.66\nRedundant PDU Session Information\nQosFlowTunnel\n6.1.6.2.67\nTunnel Information per QoS Flow\nTargetDnaiInfo\n6.1.6.2.68\nTarget DNAI Information\nAfCoordinationInfo\n6.1.6.2.69\nAF Coordination Information\nNotificationInfo\n6.1.6.2.70\nNotification Correlation ID and Notification URI provided by the NF service consumer\nAnchorSmfFeatures\n6.1.6.2.71\nAnchor SMF supported features\nHrsboInfoFromVplmn\n6.1.6.2.72\nHR-SBO Information signaled from VPLMN\nHrsboInfoFromHplmn\n6.1.6.2.73\nHR-SBO Information signaled from HPLMN\nEasInfoToRefresh\n6.1.6.2.74\nEAS information to be refreshed for EAS re-discovery\nEcnMarkingCongestionInfoReq\n6.1.6.2.75\nECN Marking or Congestion Information Request\nEcnMarkingCongestionInfoStatus\n6.1.6.2.76\nECN Marking or Congestion Information Status\nTscAssistanceInformation\n6.1.6.2.77\nTSC Assistance Information\nN6JitterInformation\n6.1.6.2.78\nN6 Jitter Information\nTrafficInfluenceInfo\n6.1.6.2.79\nTraffic influence information applicable at the VPLMN for an HR-SBO PDU session.\nTrafficInfluenceData\n6.1.6.2.80\nTraffic influence data comprising the Service Data Flow description and the Application Function influence on traffic routing Enforcement Control parameters of a PCC rule.\nTeid\n6.1.6.3.2\nGTP Tunnel Endpoint Identifier\nProcedureTransactionId\n6.1.6.3.2\nProcedure Transaction Identifier\nEpsPdnCnxContainer\n6.1.6.3.2\nUE EPS PDN Connection container from SMF to AMF\nEpsBearerId\n6.1.6.3.2\nEPS Bearer Id\nEpsBearerContainer\n6.1.6.3.2\nEPS Bearer container from SMF to AMF\nEpsBearerContextStatus\n6.1.6.3.2\nEPS Bearer context status\nDrbId\n6.1.6.3.2\nData Radio Bearer Identifier\nDnsServerSecurityInformation\n6.1.6.3.2\nDNS server security information\nPduSessionPriority\n6.1.6.3.2\nPDU Session Priority\nUpCnxState\n6.1.6.3.3\nUser Plane Connection State\nHoState\n6.1.6.3.4\nHandover State\nRequestType\n6.1.6.3.5\nRequest Type in Create (SM context) service operation.\nRequestIndication\n6.1.6.3.6\nRequest Indication in Update (SM context) service operation.\nNotificationCause\n6.1.6.3.7\nCause for generating a notification\nCause\n6.1.6.3.8\nCause information\nResourceStatus\n6.1.6.3.9\nStatus of SM context or PDU session resource\nDnnSelectionMode\n6.1.6.3.10\nDNN Selection Mode\nEpsInterworkingIndication\n6.1.6.3.11\nEPS Interworking Indication\nN2SmInfoType\n6.1.6.3.12\nN2 SM Information Type\nMaxIntegrityProtectedDataRate\n6.1.6.3.13\nMaximum Integrity Protected Data Rate\nMaReleaseIndication\n6.1.6.3.14\nMulti-Access PDU session release Indication\nSmContextType\n6.1.6.3.15\nType of SM Context information\nPsaIndication\n6.1.6.3.16\nIndication of whether a PSA is inserted or removed\nN4MessageType\n6.1.6.3.17\nN4 Message Type\nQosFlowAccessType\n6.1.6.3.18\nAccess type associated with the QoS Flow\nUnavailableAccessIndication\n6.1.6.3.19\nIndicates the access type of a MA PDU session that is unavailable\nProtectionResult\n6.1.6.3.20\nProtection Result of the security policy indicated as \"preferred\"\nQosMonitoringReq\n6.1.6.3.21\nIndicates to measure UL, or DL, or both UL/DL delays, or to stop on-going measurements.\nRsn\n6.1.6.3.22\nRedundancy Sequence Number\nSmfSelectionType\n6.1.6.3.23\nSMF Selection Type\nPduSessionContextType\n6.1.6.3.24\nPDU Session Context Type\nPendingUpdateInfo\n6.1.6.3.25\nPending Update Information\nEstablishmentRejectionCause\n6.1.6.3.26\nPDU Session Establishment Rejection Cause\nEcnMarkingReq\n6.1.6.3.27\nECN Marking Request\nCongestionInfoReq\n6.1.6.3.28\nCongestion Information Request\nActivationStatus\n6.1.6.3.29\nActivation Status\nTable 6.1.6.1-2 specifies data types re-used by the Nsmf service based interface protocol from other specifications, including a reference to their respective specifications and when needed, a short description of their use within the Nsmf service based interface.\nTable 6.1.6.1-2: Nsmf re-used Data Types\nData type\nReference\nComments\nUint32\n3GPP TS 29.571 [13]\nUnsigned 32-bit integers\nIpv4Addr\n3GPP TS 29.571 [13]\nIPv4 Address\nIpv6Prefix\n3GPP TS 29.571 [13]\nIPv6 Prefix\nUri\n3GPP TS 29.571 [13]\nUniform Resource Identifier\nSupi\n3GPP TS 29.571 [13]\nSubscription Permanent Identifier\nPei\n3GPP TS 29.571 [13]\nPermanent Equipment Identifier\nGpsi\n3GPP TS 29.571 [13]\nGeneral Public Subscription Identifier\nAccessType\n3GPP TS 29.571 [13]\nAccess Type (3GPP or non-3GPP access)\nSupportedFeatures\n3GPP TS 29.571 [13]\nSupported features\nQfi\n3GPP TS 29.571 [13]\nQoS Flow Identifier\nPduSessionId\n3GPP TS 29.571 [13]\nPDU Session Identifier\nPduSessionType\n3GPP TS 29.571 [13]\nPDU Session Type\nAmbr\n3GPP TS 29.571 [13]\nPDU Session Aggregate Maximum Bit Rate\n5Qi\n3GPP TS 29.571 [13]\n5G QoS Identifier\nArp\n3GPP TS 29.571 [13]\nAllocation and Retention Priority\nReflectiveQoSAttribute\n3GPP TS 29.571 [13]\nReflective QoS Attribute\nDynamic5Qi\n3GPP TS 29.571 [13]\nQoS characteristics for a 5QI that is neither standardized nor pre-configured.\nNonDynamic5Qi\n3GPP TS 29.571 [13]\nQoS characteristics that replace the default QoS characteristics for a standardized or pre-configured 5QI.\nPacketLossRate\n3GPP TS 29.571 [13]\nPacket Loss Rate\nNotificationControl\n3GPP TS 29.571 [13]\nNotification Control\nDnn\n3GPP TS 29.571 [13]\nData Network Name\nSnssai\n3GPP TS 29.571 [13]\nSingle Network Slice Selection Assistance Information\nNfInstanceId\n3GPP TS 29.571 [13]\nNF Instance Identifier\nUserLocation\n3GPP TS 29.571 [13]\nUser Location\nTimeZone\n3GPP TS 29.571 [13]\nTime Zone\nProblemDetails\n3GPP TS 29.571 [13]\nError description\nUpSecurity\n3GPP TS 29.571 [13]\nUser Plane Security Policy Enforcement information\nRefToBinaryData\n3GPP TS 29.571 [13]\nCross-Reference to binary data encoded within a binary body part in an HTTP multipart message.\nGuami\n3GPP TS 29.571 [13]\nGlobally Unique AMF ID\nBackupAmfInfo\n3GPP TS 29.571 [13]\nBackup AMF Information\nPresenceState\n3GPP TS 29.571 [13]\nIndicates the UE presence in or out of a LADN service area\nTraceData\n3GPP TS 29.571 [13]\nTrace control and configuration parameters\nPlmnId\n3GPP TS 29.571 [13]\nPLMN Identity\nRatType\n3GPP TS 29.571 [13]\nRAT Type\nNgApCause\n3GPP TS 29.571 [13]\nNGAP Cause\n5GMmCause\n3GPP TS 29.571 [13]\n5G MM Cause\nDurationSec\n3GPP TS 29.571 [13]\nDuration in units of seconds\nAdditionalQosFlowInfo\n3GPP TS 29.571 [13]\nAdditional QoS Flow Information\nNfGroupId\n3GPP TS 29.571 [13]\nNetwork Function Group Id\nSecondaryRatUsageReport\n3GPP TS 29.571 [13]\nSecondary RAT Usage Report\nSecondaryRatUsageInfo\n3GPP TS 29.571 [13]\nSecondary RAT Usage Information\nDnai\n3GPP TS 29.571 [13]\nData Network Access Identifier\nPlmnIdNid\n3GPP TS 29.571 [13]\nPLMN Identity and, for SNPN, Network Identity\nSmallDataRateStatus\n3GPP TS 29.571 [13]\nSmall Data Rate Control Status\nApnRateStatus\n3GPP TS 29.571 [13]\nAPN Rate Control Status\nStationaryIndication\n3GPP TS 29.571 [13]\nStationary Indication\nScheduledCommunicationTime\n3GPP TS 29.571 [13]\nScheduled Communication Time\nScheduledCommunicationType\n3GPP TS 29.571 [13]\nScheduled Communication Type\nTrafficProfile\n3GPP TS 29.571 [13]\nTraffic Profile\nBatteryIndication\n3GPP TS 29.571 [13]\nBattery Indication\nNfSetId\n3GPP TS 29.571 [13]\nNF Set Identifier\nMoExpDataCounter\n3GPP TS 29.571 [13]\nMO Exception Data Counter\nDddTrafficDescriptor\n3GPP TS 29.571 [13]\nTraffic Descriptor\nNfServiceSetId\n3GPP TS 29.571 [13]\nNF Service Set ID\nRedirectResponse\n3GPP TS 29.571 [13]\nResponse body of the redirect response message\nServerAddressingInfo\n3GPP TS 29.571 [13]\nInformation of a Provisioning Server\nPcfUeCallbackInfo\n3GPP TS 29.571 [13]\nThe callback information of the PCF for the UE to allow the PCF for the PDU session to send SM Policy Association Establishment and Termination events notification\nSatelliteBackhaulCategory\n3GPP TS 29.571 [13]\nSatellite backhaul category\nUint16\n3GPP TS 29.571 [13]\nUnsigned 16-bit integer\nGeoSatelliteId\n3GPP TS 29.571 [13]\nGEO satellite ID (string)\nUinteger\n3GPP TS 29.571 [13]\nUnsigned Integer common data type\nVplmnOffloadingInfo\n3GPP TS 29.571 [13]\nVPLMN Specific Offloading Information\nGroupId\n3GPP TS 29.571 [13]\nInternal Group Id\nOffloadIdentifier\n3GPP TS 29.571 [13]\nOffload identifier uniquely identifying a VPLMN offloading policy information instance from the HPLMN.\nIpv4AddressRange\n3GPP TS 29.571 [13]\nIPv4 address range\nIpv6AddressRange\n3GPP TS 29.571 [13]\nIPv6 address range\nFqdn\n3GPP TS 29.571 [13]\nFQDN\nPduSetQosPara\n3GPP TS 29.571 [13]\nPDU Set QoS Parameters\nSmfChargingId\n3GPP TS 29.571 [13]\nSMF Charging Identifier\nInt32\n3GPP TS 29.571 [13]\nSigned 32-bit integer\nVplmnDlAmbr\n3GPP TS 29.571 [13]\nAuthorized DL Session AMBR for Offloading for the V-PLMN\nUeLevelMeasurementsConfiguration\n3GPP TS 29.571 [13]\n5GC UE level measurements configuration\nEcsAddrConfigInfo\n3GPP TS 29.503 [46]\nECS Address Configuration Information\nServiceName\n3GPP TS 29.510 [19]\nService Name\nWAgfInfo\n3GPP TS 29.510 [19]\nInformation about N3 terminations at the W-AGF\nTngfInfo\n3GPP TS 29.510 [19]\nInformation about N3 terminations at the TNGF\nTwifInfo\n3GPP TS 29.510 [19]\nInformation about N3 terminations at the TWIF\nChargingInformation\n3GPP TS 29.512 [30]\nCHF addresses\nTrafficControlData\n3GPP TS 29.512 [30]\nContains parameters influencing the routing of traffic for service data flows.\nFlowInformation\n3GPP TS 29.512 [30]\nEthernet or IP flow packet filter information\nNgRanTargetId\n3GPP TS 29.518 [20]\nNG-RAN Target Id\nSbiBindingLevel\n3GPP TS 29.518 [20]\nSBI Binding Level\nIpIndex\n3GPP TS 29.519 [38]\nInformation that identifies which IP pool or external server is used to allocate the IP address.\nRoamingChargingProfile\n3GPP TS 32.291 [26]\nRoaming Charging Profile",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.1.6.1-1",
        "table_6.1.6.1-2",
        "ts_29.571",
        "ts_29.503",
        "ts_29.510",
        "ts_29.512",
        "ts_29.518",
        "ts_29.519",
        "ts_32.291"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.1",
      "section_id": "6.1.6.2.1",
      "section_title": "Introduction",
      "content": "This clause defines the structures to be used in resource representations.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.2",
      "section_id": "6.1.6.2.2",
      "section_title": "Type: SmContextCreateData",
      "content": "Table 6.1.6.2.2-1: Definition of type SmContextCreateData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nsupi\nSupi\nC\n0..1\nThis IE shall be present, except if the UE is emergency registered and UICCless.\nWhen present, it shall contain the subscriber permanent identify.\nunauthenticatedSupi\nboolean\nC\n0..1\nThis IE shall be present if the SUPI is present in the message but is not authenticated and is for an emergency registered UE.\nWhen present, it shall be set as follows:\n- true: unauthenticated SUPI;\n- false (default): authenticated SUPI.\nroamingUeInd\nboolean\nO\n0..1\nThis IE may be present, when the requestType IE indicates that the request refers to an emergency PDU session and the supi IE is present.\nWhen present, this IE shall indicate whether the UE is a roaming UE or not:\n-\ttrue: the UE is a roaming UE.\n-\tfalse: the UE is a non-roaming UE.\npei\nPei\nC\n0..1\nThis IE shall be present if the UE is emergency registered and it is either UIClless or the SUPI is not authenticated.\nFor all other cases, this IE shall be present if it is available.\nWhen present, it shall contain the permanent equipment identifier.\ngpsi\nGpsi\nC\n0..1\nThis IE shall be present if it is available. When present, it shall contain the user's GPSI.\npduSessionId\nPduSessionId\nC\n0..1\nThis IE shall be present, except during an EPS to 5GS Idle mode mobility or handover using the N26 interface.\nWhen present, it shall contain the PDU Session ID.\ndnn\nDnn\nC\n0..1\nThis IE shall be present, except during an EPS to 5GS Idle mode mobility or handover using the N26 interface.\nWhen present, it shall contain the requested DNN; the DNN shall be the full DNN (i.e. with both the Network Identifier and Operator Identifier) for a HR PDU session, and it should be the full DNN in LBO and non-roaming scenarios. If the Operator Identifier is absent, the serving core network operator shall be assumed.\nselectedDnn\nDnn\nC\n0..1\nThis IE shall be present, if another DNN other than the UE requested DNN is selected for this PDU session.\nWhen present, it shall contain the selected DNN. The DNN shall be the full DNN (i.e. with both the Network Identifier and Operator Identifier) for a HR PDU session, and it should be the full DNN in LBO and non-roaming scenarios. If the Operator Identifier is absent, the serving core network operator shall be assumed.\nsNssai\nSnssai\nC\n0..1\nThis IE shall be present during the PDU session establishment procedure. In this case, it shall contain the requested S-NSSAI for the serving PLMN. This corresponds to an S-NSSAI from the allowed NSSAI.\nThis IE shall also be present during an EPS to 5GS idle mode mobility or handover with I-SMF/V-SMF involved using the N26 interface. In this case, it shall contain the S-NSSAI configured in the AMF for EPS interworking.\nThis IE shall also be present during a V-SMF insertion or an inter PLMN V-SMF change procedures. When present, it shall contain the S-NSSAI for the serving PLMN which shall be used by the (target) V-SMF instead of the one that it receives in the SmContext from the old V-SMF or the H-SMF.\nThis IE shall also be present during an inter PLMN I-SMF insertion or change procedures, if the Serving PLMN ID is not the same as the PLMN ID of the SUPI and a mapped S-NSSAI value of the HPLMN is present in the Allowed NSSAI for a non-roaming UE. When present, it shall contain the S-NSSAI for the serving PLMN which shall be used by the (target) I-SMF instead of the one that it receives in the SmContext from the old I-SMF or the SMF.\naltSnssai\nSnssai\nC\n0..1\nThis IE shall be present during the PDU session establishment procedure if the NF service consumer supports the network slice replacement, and the network slice indicated in the sNssai IE is requested to be replaced. In this case, the NF service consumer shall send the S-NSSAI and the alternative S-NSSAI. See clause 5.15.19 of 3GPP TS 23.501 [2].\nNSRP\nhplmnSnssai\nSnssai\nC\n0..1\nThis IE shall be present for a roaming PDU session, or a non-roaming PDU session if the Serving PLMN ID is not the same as the PLMN ID of the SUPI and a mapped S-NSSAI value of the HPLMN is present in the Allowed NSSAI, except during an EPS to 5GS idle mode mobility or handover using the N26 interface.\nWhen present, it shall contain the requested S-NSSAI for the HPLMN. This corresponds to an S-NSSAI from the Mapping Of Allowed NSSAI corresponding to the SNSSAI value included in the sNssai IE.\naltHplmnSnssai\nSnssai\nC\n0..1\nThis IE shall be present for a roaming PDU session during the PDU session establishment procedure if the NF service consumer supports the network slice replacement, and the network slice indicated in the hplmnSnssai IE is requested to be replaced. In this case, the NF service consumer shall send the HPLMN S-NSSAI and the alternative HPLMN S-NSSAI. See clause 5.15.19 of 3GPP TS 23.501 [2].\nNSRP\nservingNfId\nNfInstanceId\nM\n1\nThis IE shall contain the identifier of the serving NF (e.g. serving AMF).\nguami\nGuami\nC\n0..1\nThis IE shall contain the serving AMF's GUAMI.\nIt shall be included if the NF service consumer is an AMF.\nserviceName\nServiceName\nO\n0..1\nWhen present, this IE shall contain the name of the AMF service to which SM context status notifications are to be sent (see clause 6.5.2.2 of 3GPP TS 29.500 [4]). This IE may be included if the NF service consumer is an AMF.\nservingNetwork\nPlmnIdNid\nM\n1\nThis IE shall contain the serving core network operator PLMN ID and, for an SNPN, the NID that together with the PLMN ID identifies the SNPN.\nrequestType\nRequestType\nC\n0..1\nThis IE shall be present if the Request type IE is received from the UE for a single access PDU session and if the request refers to an existing PDU session or an existing emergency PDU session. The requestType IE shall not be included for a MA-PDU session establishment request. It may be present otherwise.\nWhen present, it shall indicate whether the request refers to a new PDU session or emergency PDU session, or to an existing PDU session or emergency PDU session.\nFor request sent from UE, this IE shall be set based on the Request type IE received (see clause 9.11.3.47 of 3GPP TS 24.501 [7]).\nn1SmMsg\nRefToBinaryData\nC\n0..1\nThis IE shall be present and reference the N1 SM Message binary data (see clause 6.1.6.4.2), except during an EPS to 5GS Idle mode mobility or handover using N26.\nanType\nAccessType\nM\n1\nThis IE shall indicate the Access Network Type to which the PDU session is to be associated.\nadditionalAnType\nAccessType\nC\n0..1\nThis IE shall indicate the additional Access Network Type to which the PDU session is to be associated.\nThis IE shall be present if a MA-PDU session is requested and the UE is registered over both 3GPP access and Non-3GPP access.\nMAPDU\nratType\nRatType\nC\n0..1\nThis IE shall be present and indicate the RAT Type used by the UE, if available.\npresenceInLadn\nPresenceState\nC\n0..1\nThis IE shall be present if the DNN corresponds to a LADN. When present, it shall be set to \"IN\" or \"OUT\" to indicate that the UE is in or out of the LADN service area.\nperLadnDnnSnssaiInd\nboolean\nC\n0..1\nThis IE shall be present, if the AMF enforces the LADN Service Area per LADN DNN and S-NSSAI (see clause 4.3.2.2.1 of 3GPP TS 23.502 [3]).\nWhen present, it shall indicate that the PDU Session is subject to LADN per LADN DNN and S-NSSAI and be set as follows:\n- True: the PDU Session is subject to LADN per LADN DNN and S-NSSAI.\n- False (default): the PDU Session is not subject to LADN per LADN DNN and S-NSSAI.\nueLocation\nUserLocation\nC\n0..1\nThis IE shall contain the UE location information (see clause 5.2.3.4), if it is available. (NOTE 1).\nueTimeZone\nTimeZone\nC\n0..1\nThis IE shall contain the UE Time Zone, if it is available.\naddUeLocation\nUserLocation\nO\n0..1\nAdditional UE location.\nThis IE may be present, if anType indicates a non-3GPP access and valid 3GPP access user location information is available.\nWhen present, it shall contain:\n-\tthe last known 3GPP access user location (see clause 5.2.3.4); and\n-\tthe timestamp, if available, indicating the UTC time when the addUeLocation information was acquired.\n(NOTE 1)\nsmContextStatusUri\nUri\nM\n1\nThis IE shall include the callback URI to receive notification of SM context status.\nhSmfUri\nUri\nC\n0..1\nThis IE shall be present in HR roaming scenarios, including Indirect Communication with Delegated Discovery, if the AMF and V-SMF do not support the ACSCR feature.\nThis IE shall be present in HR roaming scenarios during a PDU session establishment procedure and EPS to 5GS mobility procedures, if the AMF and V-SMF support the ACSCR feature. When present, it shall contain the API URI of the Nsmf_PDUSession service of the selected H-SMF. The API URI shall be formatted as specified in clause 6.1.1.\n(NOTE 8)\nhSmfId\nNfInstanceId\nO\n0..1\nThis IE may be present when hSmfUri is present.\nIf present, this IE shall carry the NF instance ID of the selected H-SMF. (NOTE 2)\nsmfUri\nUri\nC\n0..1\nThis IE shall be present for a PDU session with an I-SMF, including Indirect Communication with Delegated Discovery, if the AMF and I-SMF do not support the ACSCR feature.\nThis IE shall be present for a PDU session with an I-SMF during a PDU session establishment procedure and EPS to 5GS mobility procedures, if the AMF and I-SMF support the ACSCR feature.\nWhen present, it shall contain the API URI of the Nsmf_PDUSession service of the selected SMF. The API URI shall be formatted as specified in clause 6.1.1.\n(NOTE 8)\nDTSSA\nsmfId\nNfInstanceId\nO\n0..1\nThis IE may be present when smfUri is present.\nIf present, this IE shall carry the NF instance ID of the selected SMF. (NOTE 2)\nDTSSA\noldPduSessionId\nPduSessionId\nC\n0..1\nThis IE shall be present if this information is received from the UE.\nWhen present, it shall contain the old PDU Session ID received from the UE. See clauses 4.3.2.2.1 and 4.3.5.2 of 3GPP TS 23.502 [3].\npduSessionsActivateList\narray(PduSessionId)\nC\n1..N\nThis IE shall be present, during an EPS to 5GS Idle mode mobility using the N26 interface, if the UE indicated PDU session(s) to be activated in the Registration Request.\nWhen present, it shall indicate all the PDU session(s) requested to be re-activated by the UE.\nueEpsPdnConnection\nEpsPdnCnxContainer\nC\n0..1\nThis IE shall be present, during an EPS to 5GS Idle mode mobility or handover using the N26 interface.\nWhen present, it shall contain an MME/SGSN UE EPS PDN connection including the EPS bearer context(s).\nhoState\nHoState\nC\n0..1\nThis IE shall be present during an EPS to 5GS handover using N26 interface or during a N2 handover with I-SMF insertion/change/removal procedure, to request the preparation of a handover of the PDU session.\nWhen present, it shall be set as specified in clauses 5.2.2.2.3 or 5.2.2.2.5.\nadditionalHsmfUri\narray(Uri)\nO\n1..N\nThis IE may be present in HR roaming scenarios. When present, it shall contain an array of API URI of the Nsmf_PDUSession service of the additional H-SMFs discovered by the AMF for the given DNN, hplmnSnssai and for this PDU session. If provided, the V-SMF shall use these additional H-SMF(s) if the V-SMF is not able to receive any response from the H-SMF identified by hSmfUri.\nThe API URI shall be formatted as specified in clause 6.1.1.\nadditionalHsmfId\narray(NfInstanceId)\nO\n1..N\nThis IE may be present when additionalHsmfUri is present.\nIf present, this IE shall carry the NF instance ID(s) of H-SMF(s) as stated in additionalHsmfUri IE, in exactly the same order. (NOTE 2)\nadditionalSmfUri\narray(Uri)\nO\n1..N\nThis IE may be present for a PDU session with an I-SMF. When present, it shall contain an array of API URI of the Nsmf_PDUSession service of the additional SMFs discovered by the AMF for the given DNN, Snssai and for this PDU session. If provided, the I-SMF shall use these additional SMF(s) if the I-SMF is not able to receive any response from the SMF identified by smfUri.\nThe API URI shall be formatted as specified in clause 6.1.1.\nDTSSA\nadditionalSmfId\narray(NfInstanceId)\nO\n1..N\nThis IE may be present when additionalSmfUri is present.\nIf present, this IE shall carry the NF instance ID(s) of SMF(s) as stated in additionalSmfUri IE, in exactly the same order. (NOTE 2)\nDTSSA\npcfId\nNfInstanceId\nO\n0..1\nWhen present, this IE shall contain the identifier of:\n-\tthe H-PCF selected by the AMF (for UE Policy), for a HR PDU session; or\n-\tthe V-PCF selected by the AMF (for Access and Mobility Policy), for a PDU session in LBO roaming scenarios; or\n-\tthe PCF selected by the AMF (for Access and Mobility Policy and/or UE Policy), for a PDU session in non-roaming scenarios.\npcfGroupId\nNfGroupId\nO\n0..1\nThis IE may be present in non-roaming and HR roaming scenarios.\nWhen present, this IE shall contain the identity of the (home) PCF group serving the UE for Access and Mobility Policy and/or UE Policy.\npcfSetId\nNfSetId\nO\n0..1\nThis IE may be present if pcfId IE is present.\nWhen present, this IE shall contain the NF Set ID of the PCF indicated by the pcfId IE.\nnrfUri\nUri\nO\n0..1\nThis IE may be present to indicate the NRF to use for PCF selection within the same network slice instance. When present, the SMF shall use the NRF URI to select the PCF.\nsupportedFeatures\nSupportedFeatures\nC\n0..1\nThis IE shall be present if at least one feature defined in clause 6.1.8 is supported.\nanchorSmfFeatures\nSupportedFeatures\nC\n0..1\nThis IE shall be present, during the establishment of a HR PDU session or a PDU session with an I-SMF, if the information is known by the AMF.\nWhen present, this IE shall include the features of the Nsmf_PDUSession service (see clause 6.1.8) that are supported by anchor SMF.\nThe absence of this IE shall not be interpreted as indicating that the anchor SMF does not support any feature.\nadditional AnchorSmfFeatures\narray(SupportedFeatures)\nC\n1..N\nThis IE shall be present, during the establishment of a HR PDU session or a PDU session with an I-SMF, if the additionalHsmfUri IE or the additionalSmfUri IE is present and the information is known for all the additional anchor SMFs.\nWhen present, this IE shall include the features of the Nsmf_PDUSession service (see clause 6.1.8) that are supported by the additional anchor SMFs, in exactly the same order.\nThe absence of this IE shall not be interpreted as indicating that the additional anchor SMFs do not support any feature.\nselMode\nDnnSelectionMode\nC\n0..1\nThis IE shall be present if it is available. When present, it shall be set to:\n-\t\"VERIFIED\", if the requested DNN provided by UE or the selected DNN provided by the network corresponds to an explicitly subscribed DNN; or\n-\t\"UE_DNN_NOT_VERIFIED\", if the requested DNN provided by UE corresponds to the usage of a wildcard subscription; or\n-\t\"NW_DNN_NOT_VERIFIED\", if the selected DNN provided by the network corresponds to the usage of a wildcard subscription.\nIf both the requested DNN (i.e. dnn IE) and selected DNN (i.e. selected Dnn IE) are present, the selMode shall be related to the selected DNN.\nbackupAmfInfo\narray(BackupAmfInfo)\nC\n1..N\nThis IE shall be included if the NF service consumer is an AMF and the AMF supports the AMF management without UDSF for the following cases:\n- First interaction with SMF.\n- Modification of the BackupAmfInfo.\ntraceData\nTraceData\nC\n0..1\nThis IE shall be included if trace is required to be activated (see 3GPP TS 32.422 [22]).\nudmGroupId\nNfGroupId\nO\n0..1\nWhen present, it shall indicate the identity of the UDM group serving the UE.\nroutingIndicator\nstring\nO\n0..1\nWhen present, it shall indicate the Routing Indicator of the UE.\nhNwPubKeyId\ninteger\nO\n0..1\nWhen present, it shall indicate the Home Network Public Key Identifier of the UE. (NOTE 3)\nepsInterworkingInd\nEpsInterworkingIndication\nO\n0..1\nThe AMF may provide the indication when a PGW-C+SMF is selected to serve the PDU Session.\nWhen present, this IE shall indicate whether the PDU session may possibly be moved to EPS or EPC/ePDG and whether N26 interface to be used during EPS interworking procedures.\nThe AMF may derive the value of the indication from different sources, like UE 5GMM capabilities (e.g. \"S1 mode supported\"), UE subscription data (e.g. \"Core Network Type Restriction to EPC\" and \"Interworking with EPS Indication\" for the DNN) and configurations.\nindirectForwardingFlag\nboolean\nC\n0..1\nThe AMF shall include this indication during N26 based Handover procedure from EPS to 5GS (see 3GPP TS 23.502 [3], clause 4.11.1.2.2), to inform the SMF of the applicability or non-applicability of indirect data forwarding.\nWhen present, it shall be set as follows:\n- True: indirect data forwarding is applicable\n- False: indirect data forwarding is not applicable\ndirectForwardingFlag\nboolean\nC\n0..1\nThe AMF shall include this indication during N26 based Handover procedure from EPS to 5GS (see 3GPP TS 23.502 [3], clause 4.11.1.2.2), to inform the SMF of the applicability or non-applicability of direct data forwarding.\nWhen present, it shall be set as follows:\n- True: direct data forwarding is applicable\n- False: direct data forwarding is not applicable\ntargetId\nNgRanTargetId\nC\n0..1\nThis IE shall be present in the following cases:\n-\tduring an EPS to 5GS handover preparation using the N26 interface, when the hoState IE is set to the value \"PREPARING\";\n-\tduring N2 based handover procedure with I-SMF or V-SMF insertion/change/removal, when hostate IE is set to the value \"PREPARING\".\nWhen present, it shall contain the Target ID identifying the target RAN Node ID and TAI. In case of EPS to 5GS handover, the TAI is received in the Forward Relocation Request from the Source MME.\nepsBearerCtxStatus\nEpsBearerContextStatus\nC\n0..1\nThis IE shall be present during an EPS to 5GS idle mode mobility using the N26 interface, if received in the Registration Request from the UE.\nWhen present, it shall be set to the value received from the UE.\ncpCiotEnabled\nboolean\nC\n0..1\nThis IE shall be present with the value \"True\", if\n-\tthe NF service consumer (e.g. the AMF) has verified that the CIOT feature is supported by the SMF (and for a home-routed session, that it is also supported by the H-SMF); and\n-\tControl Plane CIoT 5GS Optimisation is enabled for the PDU session\n(see 3GPP TS 23.502 [3], clauses 4.3.2.2.1 and 4.3.2.2.2).\nWhen present, it shall be set as follows:\n-\tTrue: Control Plane CIoT 5GS Optimisation is enabled.\n-\tFalse (default): Control Plane CIoT 5GS Optimisation is not enabled.\nCIOT\ncpOnlyInd\nboolean\nC\n0..1\nThis IE shall be present with the value \"True\", if the PDU session shall only use Control Plane CIoT 5GS Optimisation (see clause 5.31.4.1 of 3GPP TS 23.501 [2]).\nWhen present, it shall be set as follows:\n-\tTrue: the PDU session shall only use Control Plane CIoT 5GS Optimisation\n-\tFalse (default): the PDU session is not constrained to only use Control Plane CIoT 5GS Optimisation.\nCIOT\ninvokeNef\nboolean\nC\n0..1\nThis IE shall be present with the value \"True\", if Control Plane CIoT 5GS Optimisation is enabled and data delivery via NEF is selected for the PDU session (see 3GPP TS 23.502 [3], clause 4.3.2.2.2).\nWhen present, it shall be set as follows:\n-\tTrue: Data delivery via NEF is selected.\n-\tFalse (default): Data delivery via NEF is not selected.\nCIOT\nmaRequestInd\nboolean\nC\n0..1\nThis IE shall be present if a MA-PDU session is requested to be established.\nWhen present, it shall be set as follows:\n- True: a MA-PDU session is requested\n- False (default): a MA-PDU session is not requested\nMAPDU\nmaNwUpgradeInd\nboolean\nC\n0..1\nThis IE shall only be present if the PDU session is allowed to be upgraded to MA PDU session (see clause 4.22.3 of 3GPP TS 23.502 [3]).\nWhen present, it shall be set as follows:\n- True: the PDU session is allowed to be upgraded to MA PDU session\n- False (default): the PDU session is not allowed to be upgraded to MA PDU session\nWhen maRequestInd is present and set to \"true\", this IE shall not be present.\nMAPDU\nn3gPathSwitchSupportInd\nboolean\nC\n0..1\nThis IE shall be present if AMF supports non-3GPP access path switching while maintaining two N2 connections for non-3GPP access, the selected SMF supports non-3GPP path switching and if the UE supports non-3GPP access path switching for a MA-PDU session.\nWhen present, it shall be set as follows:\n- true: non-3GPP access path switching is supported\n- false (default): non-3GPP access path switching is not supported\nN3GPS\nn2SmInfo\nRefToBinaryData\nC\n0..1\nThis IE shall be present if N2 SM Information needs to be sent to the I-SMF.\nDTSSA\nn2SmInfoType\nN2SmInfoType\nC\n0..1\nThis IE shall be present if \"n2SmInfo\" attribute is present.\nWhen present, this IE shall indicate the NG AP IE type for the NG AP SMF related IE container carried in \"n2SmInfo\" attribute.\nDTSSA\nn2SmInfoExt1\nRefToBinaryData\nC\n0..1\nThis IE shall be present if more than one N2 SM Information has been received from the AN.\nWhen present, this IE shall reference the N2 SM Information binary data (see clause 6.1.6.4.3).\nDTSSA\nn2SmInfoTypeExt1\nN2SmInfoType\nC\n0..1\nThis IE shall be present if \"n2SmInfoExt1\" attribute is present.\nWhen present, this IE shall indicate the NG AP IE type for the NG AP SMF related IE container carried in \"n2SmInfoExt1\" attribute.\nDTSSA\nsmContextRef\nUri\nC\n0..1\nThis IE shall be present during an I-SMF or V-SMF insertion if available and during an I-SMF or V-SMF change or removal.\nWhen present, this IE shall contain the URI of the SM Context resource in the SMF or of the SM context resource in the source I-SMF or V-SMF during an I-SMF or V-SMF insertion or during an I-SMF or V-SMF change/removal respectively. The URI shall be an absolute URI, including apiRoot (see clause 6.1.3.3.2).\n(NOTE 6)\nDTSSA\nsmContextSmfPlmnId\nPlmnIdNid\nC\n0..1\nThis IE shall be present during an inter-PLMN mobility procedure if the smContextRef IE is present. It may be present otherwise, if the smContextRef IE is present.\nWhen present, this IE shall carry the PLMN ID of the SMF which hosts the SM Context resource identified by smContextRef IE. For an SNPN, the NID together with the PLMN ID shall identify the SNPN.\n(NOTE 7)\nDTSSA\nsmContextSmfId\nNfInstanceId\nO\n0..1\nThis IE may be present if smContextRef is present.\nWhen present, this IE shall carry the NF instance ID of the SMF which hosts the SM Context resource identified by smContextRef IE. (NOTE 2)\nDTSSA\nsmContextSmfSetId\nNfSetId\nC\n0..1\nThis IE shall be present, if available.\nWhen present, this IE shall contain the NF Set ID of the old V-SMF or the old I-SMF or the SMF as identified by the smContextSmfId.\nDTSSA\nsmContextSmfServiceSetId\nNfServiceSetId\nC\n0..1\nThis IE shall be present, if available.\nWhen present, this IE shall contain the NF Service Set ID of the PDUSession service instance (for this SmContext) in the old V-SMF or the old I-SMF or the SMF.\nDTSSA\nsmContextSmfBinding\nSbiBindingLevel\nC\n0..1\nThis IE shall be present, if available.\nWhen present, this IE shall contain the SBI binding level of the SM context resource.\nDTSSA\nupCnxState\nUpCnxState\nC\n0..1\nThis IE shall be present to request the activation of the user plane connection of the PDU session, in the following cases:\n- during Service Request procedure with an I-SMF insertion / change / removal, or with a V-SMF change (see clause 5.2.2.2.6);\n- during Registration procedure with an I-SMF insertion / change / removal, or with a V-SMF insertion / change / removal (see clause 5.2.2.2.7), if this PDU session is requested to be activated by the UE.\nDTSSA\nsmallDataRateStatus\nSmallDataRateStatus\nC\n0..1\nThis IE shall be present if the small data rate control status is available in AMF, see clause 5.31.14.3 of 3GPP TS 23.501 [2] and clause 4.3.2.2.1 of 3GPP TS 23.502 [3].\nCIOT\napnRateStatus\nApnRateStatus\nC\n0..1\nThis IE shall be present if the APN rate control status is available in AMF, see clause 4.7.7.3 in 3GPP TS 23.401 [33] and clause 5.2.8.2.5 in 3GPP TS 23.502 [3].\nCIOT\nextendedNasSmTimerInd\nboolean\nC\n0..1\nThis IE shall be present with the value \"True\" if the UE supports CE mode B and use of CE mode B is not restricted according to the Enhanced Coverage Restriction information in the UE context in the AMF.\nWhen present, it shall indicate whether extended NAS SM timers shall be used for the UE as specified in 3GPP TS 24.501 [7], as follows:\n-\tTrue: extended NAS SM timers shall be used\n-\tFalse (default): normal NAS SM timers shall be used.\nCIOT\ndlDataWaitingInd\nboolean\nC\n0..1\nThis IE shall be present during an EPS to 5GS Idle mode mobility using N26 interface with data forwarding (see clause 4.11.1.3.3A of 3GPP TS 23.502 [3]), if the same indication is received from the MME in the Context Response message.\nWhen present, it shall be set as follows:\n-\ttrue: DL data needs to be sent to the UE;\n-\tfalse (default): no DL data needs to be sent to the UE.\nCIOT\nddnFailureSubs\nDdnFailureSubs\nC\n0..1\nThis IE shall be present to subscribe the notification of the DDN Failure if the Availability after DDN failure event is subscribed by the UDM, see clause 4.15.3.2.7 of 3GPP TS 23.502 [3].\nCIOT\nsmfTransferInd\nboolean\nC\n0..1\nThis IE shall be present during an SMF Context Transfer procedure, LBO or no Roaming, no I-SMF.\nWhen present, it shall be set as follows:\n- True: SMF Context Transfer\n- False (default): Not an SMF Context Transfer\nCTXTR\noldSmfId\nNfInstanceId\nC\n0..1\nThis IE shall be present if smfTransferInd is set to true.\nWhen present, it shall indicate old SMF instance identifier.\nCTXTR\noldSmContextRef\nUri\nC\n0..1\nThis IE shall be present if smfTransferInd is set to true.\nWhen present, this IE shall contain the identifier of the SM Context resource in the old SMF.\nThis IE shall also be present, without smfTransferInd set, if this information was received earlier in Notify SM Context Status, see clause 4.3.5.2 of 3GPP TS 23.502 [3].\nCTXTR\nEnEDGE\nwAgfInfo\nWAgfInfo\nC\n0..1\nThis IE shall be present, if received from the W-AGF. When present, it shall contain information about the N3 terminations of the W-AGF. The SMF may use this information when selecting the UPF.\ntngfInfo\ntngfInfo\nC\n0..1\nThis IE shall be present, if received from the TNGF. When present, it shall contain information about the N3 terminations of the TNGF. The SMF may use this information when selecting the UPF.\ntwifInfo\ntwifInfo\nC\n0..1\nThis IE shall be present, if received from the TWIF. When present, it shall contain information about the N3 terminations of the TWIF. The SMF may use this information when selecting the UPF.\nranUnchangedInd\nboolean\nC\n0..1\nThis IE shall be present if the NG-RAN is not changed in case of I-SMF/V-SMF change or insertion during CM-CONNECTED registration procedure after EPS to 5GS handover (see clause 5.2.2.2.7) or I-SMF/V-SMF selection per DNAI (see clause 5.2.2.2.12).\nWhen present, it shall be set as follows:\n-\ttrue: NG-RAN is not changed;\n-\tfalse: NG-RAN is changed.\nDTSSA\nsamePcfSelectionInd\nboolean\nC\n0..1\nThis IE shall be present, if the AMF received the PCF Selection Assistance info from the UDM indicating that the same PCF is required.  (NOTE 4)\nWhen present, it shall be set as follows:\n- True: the SMF is indicated to select the same PCF instance for the PDU session.\n- False (default): the SMF is not indicated to select the same PCF instance for the PDU session.\ntargetDnai\nDnai\nC\n0..1\nThis IE shall be present, if this information was received earlier in Notify SM Context Status. I-SMF or SMF shall use this information for I-UPF / L-PSA / PSA selection, see clauses 4.3.5.1, 4.3.5.2 or 4.23.5.4 of 3GPP TS 23.502 [3]. V-SMF shall use this information for V-UPF selection, see clause 6.7.3.2 of 3GPP TS 23.548 [74].\nEnEDGE\nHR-SBO\nnrfManagementUri\nUri\nC\n0..1\nIf included, this IE shall contain the API URI of the NFManagement Service (see clause 6.1.1 of 3GPP TS 29.510 [19]) of the NRF or hNRF.\nIt shall be present during the PDU session establishment procedure with an I-SMF/V-SMF or mobility procedure with I-SMF/V-SMF insertion/change, if it is returned from the NSSF or hNSSF (see clause 6.1.6.2.7 of 3GPP TS 29.531 [40]).\nnrfDiscoveryUri\nUri\nC\n0..1\nIf included, this IE shall contain the API URI of the NFDiscovery Service (see clause 6.2.1 of 3GPP TS 29.510 [19]) of the NRF or hNRF.\nIt shall be present during the PDU session establishment procedure with an I-SMF/V-SMF or mobility procedure with I-SMF/V-SMF insertion/change, if it is returned from the NSSF or hNSSF (see clause 6.1.6.2.7 of 3GPP TS 29.531 [40]).\nnrfAccessTokenUri\nUri\nC\n0..1\nIf included, this IE shall contain the API URI of the Access Token Service (see clause 6.3.2 of 3GPP TS 29.510 [19]) of the NRF or hNRF.\nIt shall be present during the PDU session establishment procedure with an I-SMF/V-SMF or mobility procedure with I-SMF/V-SMF insertion/change, if it is returned from the NSSF or hNSSF (see clause 6.1.6.2.7 of 3GPP TS 29.531 [40]).\nnrfOauth2Required\nmap(boolean)\nC\n1..N\nThis IE should be present if the nrfUri IE, nrfManagementUri IE or nrfDiscoveryUri IE is present and if the information is available.\nWhen present, this IE shall indicate whether the NRF requires Oauth2-based authorization for accessing its services. The key of the map shall be the name of an NRF service, e.g. \"nnrf-nfm\" or \"nnrf-disc\".\nThe value of each entry of the map shall be encoded as follows:\n- true: OAuth2 based authorization is required.\n- false: OAuth2 based authorization is not required.\nThe absence of this IE means that no indication is available about the usage of Oauth2 for authorization of NRF services.\nsmfBindingInfo\nstring\nC\n0..1\nThis IE shall be present, if available.\nWhen present, this IE shall contain the Binding indications of the SM context resource and shall be set to the value of the 3gpp-Sbi-Binding header defined in clause 5.2.3.2.6 of 3GPP TS 29.500 [4], without the header name.\nDTSSA\npvsInfo\narray(ServerAddressingInfo)\nC\n1..N\nThis IE shall be present, if the AMF received this information from AUSF during User Plane Remote Provisioning of UEs procedure (see clause 5.30.2.10.4 of 3GPP TS 23.501 [40]).\nWhen present, this IE shall contain the remote Provisioning Server(s) information.\nENPN\nonboardingInd\nboolean\nC\n0..1\nThis IE shall be present, if the UE is registered for onboarding in an SNPN (see clause 5.30.2.10.4 in 3GPP TS 23.501 [40] and clause 4.2.2.2.4 in 3GPP TS 23.502 [3]).\n- false (default): The UE is not registered in an SNPN for the purpose of onboarding;\n- true: The UE has registered in the SNPN for the purpose of onboarding.\nENPN\noldPduSessionRef\nUri\nC\n0..1\nThis IE shall be present if this information was received earlier in Notify SM Context Status, see clause 4.3.5.2 of 3GPP TS 23.502 [3].\nWhen present, this IE shall contain the URI of the PDU session resource in the old SMF. The URI shall be an absolute URI, including apiRoot (see clause 6.1.3.6.2).\nEnEDGE\nsmPolicyNotifyInd\nboolean\nO\n0..1\nWhen present, this IE shall indicate whether the SM Policy Association Establishment and Termination events shall be reported for the PDU session by the PCF for the SM Policy to the PCF for the UE:\n- true: SM Policy Association Establishment and Termination events shall be reported\n- false (default): SM Policy Association Establishment and Termination events is not required\n(NOTE 5)\nSPAE\npcfUeCallbackInfo\nPcfUeCallbackInfo\nC\n0..1\nThis IE shall be present when the smPolicyNotifyInd IE is present with value true.\nWhen present, this IE shall contain the callback information of the PCF for the UE to receive SM Policy Association Establishment and Termination events notification from the PCF for the SM Policy. (NOTE 5)\nSPAE\nsatelliteBackhaulCat\nSatelliteBackhaulCategory\nO\n0..1\nThis IE may be present if the AMF supports the 5GSAT feature and the AMF is aware that there is a satellite backhaul towards the 5G AN serving the UE.\nWhen present, this IE shall indicate the category of the satellite backhaul used towards the 5G AN serving the UE.\n5GSAT\nupipSupported\nboolean\nC\n0..1\nThis IE shall be present during the PDU session establishment procedure, if the UE supports User Plane Integrity Protection with EPS and if the AMF supports the related functionality. It may be present otherwise. When present, this IE shall be set as follows:\n- true: User Plane Integrity Protection with EPS is supported;\n- false (default): User Plane Integrity Protection with EPS is not supported.\nUPIPE\ndisasterRoamingInd\nboolean\nO\n0..1\nThis IE may be set when the UE is registered for Disaster Roaming service. When present, this IE shall be set as follows:\n- true: the UE is registered for Disaster Roaming service\n- false (default): the UE is not registered for Disaster Roaming service\nanchorSmfOauth2Required\nboolean\nO\n0..1\nWhen present, this IE shall indicate whether the H-SMF or SMF for a PDU session with an I-SMF requires Oauth2-based authorization for accessing its Nsmf_PDUSession service.\n- true: OAuth2 based authorization is required.\n- false: OAuth2 based authorization is not required.\nThe absence of this IE means that no indication is available about the usage of Oauth2 for authorization of the anchor SMF's Nsmf_PDUSession service.\n(NOTE 2)\nsmContextSmfOauth2Required\nboolean\nO\n0..1\nThis IE may be present during an I-SMF insertion, change or removal. This IE may be present when V-SMF changes within the same PLMN.\nWhen present, this IE shall indicate whether the SMF hosting the SM Context requires Oauth2-based authorization for accessing its Nsmf_PDUSession service.\n- true: OAuth2 based authorization is required.\n- false: OAuth2 based authorization is not required.\nThe absence of this IE means that no indication is available about the usage of Oauth2 for authorization of the Nsmf_PDUSession service on the SMF hosting the SM Context.\n(NOTE 2)\ngeoSatelliteId\nGeoSatelliteId\nO\n0..1\nThe AMF may include this IE during a PDU Session Establishment procedure (see clause 4.3.2.2.1 of 3GPP TS 23.502 [3]).\nWhen present, this IE shall contain a GEO satellite ID.\n5GSATB\nhrsboAllowedInd\nboolean\nO\n0..1\nThis IE may be present in HR roaming scenarios.\nWhen present, this IE shall Indicate whether Session Breakout for HR Session in VPLMN is allowed:\n- true: Allowed.\n- false (default): Not allowed.\nHR-SBO\nestabRejectionInd\nboolean\nO\n0..1\nThis IE may be present with the value true if the AMF has determined that the PDU Session Establishment shall be rejected, e.g. according to the ODB configuration of the UE retrieved from the UDM.\nPresence of this IE with the value false shall be prohibited.\nPSER\nestabRejectionCause\nEstablishmentRejectionCause\nC\n0..1\nThis IE shall be included if the estabRejectionInd is present with the value true.\nWhen present, this IE shall indicate the cause of the PDU session establishment rejection.\nPSER\nsliceAreaRestrictInd\nboolean\nC\n0..1\nThis IE shall be present and set to true if the AMF determines that the PDU Session is subject to area restriction for the S-NSSAI, i.e. if the S-NSSAI is part of the partially allowed NSSAI or if the support of the S-NSSAI is restricted to a NS-AoS. See clauses 5.15.17 and 5.15.18 of 3GPP TS 23.501 [2].\nPresence of this IE with the false value shall be prohibited.\nSAR\nueLevelMeasConfig\nUeLevelMeasurementsConfiguration\nC\n0..1\nThis IE shall be present if the signalling based UE Level Measurement task is activated.\nWhen present, this IE shall contain UE Level Measurement configuration data for UE (see clause 4.1.2.18 of 3GPP TS 32.422 [22]).\nNOTE 1:\tIn shared networks, when the message is sent from the VPLMN to the HPLMN, the PLMN ID that is communicated in this IE shall be that of the selected Core Network Operator.In shared networks, when the AMF and SMF pertain to the same PLMN, the Primary PLMN ID shall be communicated in the ECGI or NCGI to the SMF. The Core Network Operator PLMN ID shall be communicated in the TAI and the Serving Network.\nNOTE 2:\tIf the SMF is aware that Oauth is enabled for the indicated next hop SMF, e.g. when the anchorSmfOauth2Required IE and/or the smContextSmfOauth2Required IE are received with the value true or when received a \"401 Unauthorized\" response code from next hop SMF, the SMF shall use the NF instance Identifier to acquire the access token for the Nsmf_PduSession service on the indicated SMF.\nNOTE 3:\tIf present, this attribute shall be used together with routingIndicator. This attribute is only used by the HPLMN in roaming scenarios.\nNOTE 4:   If present, this attribute shall be used together with the PCF ID received from the AMF for selecting the same PCF instance for the PDU session.\nNOTE 5:\tIf the AMF has received the callback information of the PCF for the UE together with the information of the PDU sessions (i.e. Slice and DNN combination) that are applicable for notification of SM Policy Association events, the AMF shall identify whether the non-roaming or local breakout PDU session to be created is applicable for SM Policy Association events, i.e, whether the slice and DNN combination of the PDU session is listed in the received PDU session information from the PCF for the UE. If the PDU session is applicable for notification of SM Policy Association events, the AMF shall include the smPolicyNotifyInd IE with the value \"true\" and the callback information of the PCF for the UE in the request. The SMF shall forward the callback information of the PCF for the UE to the PCF for SM Policy during SM Policy Association Establishment. See clause 4.3.2.2.1 of 3GPP TS 23.502 [3].\nNOTE 6:\tSee NOTE 2 of Table 6.1.6.2.3-1.\nNOTE 7:\tIf the PLMN ID of the SMF holding the SM context received in smContextSmfPlmnId attribute is different from the PLMN ID of the target V-SMF/I-SMF/anchor SMF, the target V-SMF/I-SMF/anchor SMF shall retrieve the SM Context from the SMF via the SEPP. In this case, the smContextSmfPlmnId attribute may also be used for the discovery and selection of the local SEPP.\nNOTE 8:\tThe smfUri and hSmfUri attributes need not be included in Create SM Context request in procedures other than PDU session establishment procedure and EPS to 5GS mobility procedures if the NF Service Consumer (e.g. AMF) and I-SMF/V-SMF support the \"ACSCR\" feature. See clause 6.1.8.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.501_clause_5.15.19",
        "ts_29.500_clause_6.5.2.2",
        "ts_24.501_clause_9.11.3.47",
        "clause_6.1.6.4.2",
        "ts_23.502_clause_4.3.2.2.1",
        "clause_5.2.3.4",
        "clause_6.1.1",
        "clause_6.1.8",
        "ts_23.502_clause_4.11.1.2.2",
        "ts_23.501_clause_5.31.4.1",
        "ts_23.502_clause_4.3.2.2.2",
        "ts_23.502_clause_4.22.3",
        "clause_6.1.6.4.3",
        "clause_6.1.3.3.2",
        "clause_5.2.2.2.6",
        "clause_5.2.2.2.7",
        "ts_23.501_clause_5.31.14.3",
        "ts_23.501_clause_4.3.2.2.1",
        "ts_23.401_clause_4.7.7.3",
        "ts_23.401_clause_5.2.8.2.5",
        "ts_23.502_clause_4.11.1.3.3",
        "ts_23.502_clause_4.15.3.2.7",
        "ts_23.502_clause_4.3.5.2",
        "clause_5.2.2.2.12",
        "ts_23.548_clause_6.7.3.2",
        "ts_29.510_clause_6.1.1",
        "ts_29.531_clause_6.1.6.2.7",
        "ts_29.510_clause_6.2.1",
        "ts_29.510_clause_6.3.2",
        "ts_29.500_clause_5.2.3.2.6",
        "ts_23.501_clause_5.30.2.10.4",
        "ts_23.501_clause_4.2.2.2.4",
        "clause_6.1.3.6.2",
        "ts_32.422_clause_4.1.2.18",
        "table_6.1.6.2.2-1",
        "table_6.1.6.2.3-1",
        "ts_23.501",
        "ts_29.500",
        "ts_24.501",
        "ts_23.502",
        "ts_32.422",
        "ts_23.401",
        "ts_23.548",
        "ts_29.510",
        "ts_29.531"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.3",
      "section_id": "6.1.6.2.3",
      "section_title": "Type: SmContextCreatedData",
      "content": "Table 6.1.6.2.3-1: Definition of type SmContextCreatedData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nhsmfUri\nUri\nC\n0..1\nThis IE shall be present in HR roaming scenarios if the additionalHsmfUri IE was received in the request and the V-SMF established the PDU session towards an alternative SMF listed in the additionalHsmfUri IE. When present, it shall contain the API URI of the H-SMF towards which the PDU session was established. The API URI shall be formatted as specified in clause 6.1.1.\nsmfUri\nUri\nC\n0..1\nThis IE shall be present for a PDU session with an I-SMF, if the additionalSmfUri IE was received in the request and the I-SMF established the PDU session towards an alternative SMF listed in the additionalSmfUri IE. When present, it shall contain the API URI of the SMF towards which the PDU session was established. The API URI shall be formatted as specified in clause 6.1.1.\nDTSSA\npduSessionId\nPduSessionId\nC\n0..1\nThis IE shall be present, during an EPS to 5GS Idle mode mobility or handover using the N26 interface.\nWhen present, it shall be set to the PDU Session ID.\nsNssai\nSnssai\nC\n0..1\nThis IE shall be present during an EPS to 5GS Idle mode mobility or handover using the N26 interface.\nWhen present, it shall contain the S-NSSAI assigned to the PDU session.\nIn Home-Routed roaming case, or in non-roaming case if the Serving PLMN ID is not the same as the PLMN ID of the SUPI, this IE shall contain the S-NSSAI for home PLMN.\nadditionalSnssai\nSnssai\nC\n0..1\nThis IE shall be present during an EPS to 5GS Idle mode mobility or handover using the N26 interface for LBO roaming case.\nWhen present, this IE shall indicate the associated S-NSSAI in HPLMN for the PDU Session.\nupCnxState\nUpCnxState\nC\n0..1\nThis IE shall be present if the SMF was requested to activate the user plane connection of the PDU session in the corresponding request.\nWhen present, it shall be set as specified in clauses 5.2.2.2.2, 5.2.2.2.6 or 5.2.2.2.7.\nn2SmInfo\nRefToBinaryData\nC\n0..1\nThis IE shall be present if N2 SM Information needs to be sent to the AN.\nn2SmInfoType\nN2SmInfoType\nC\n0..1\nThis IE shall be present if \"n2SmInfo\" attribute is present.\nWhen present, this IE shall indicate the NG AP IE type for the NG AP SMF related IE container carried in \"n2SmInfo\" attribute.\nallocatedEbiList\narray(EbiArpMapping)\nC\n1..N\nThis IE shall be present if the consumer NF is an AMF and Inter-system mobility happens. When present, it shall contain an array of EBI to ARP mappings currently allocated to the PDU session.\nhoState\nHoState\nC\n0..1\nThis IE shall be present if the SMF was requested to prepare an EPS to 5GS handover for the PDU session in the corresponding request.\nWhen present, it shall be set as specified in clause 5.2.2.2.3.\ngpsi\nGpsi\nC\n0..1\nThis IE shall be present if no GPSI IE is provided in the request, e.g. for a PDU session moved from another access or another system, and the SMF knows that a GPSI is already associated with the PDU session (or a GPSI is received from h-SMF for a HR PDU session).\nWhen present, it shall contain the user's GPSI associated with the PDU session.\nsmfServiceInstanceId\nstring\nO\n0..1\nWhen present, this IE shall contain the serviceInstanceId of the SMF PDUSession service instance serving the SM Context, i.e. of:\n-\tthe I-SMF, for a PDU session with I-SMF;\n-\tthe V-SMF, for a HR PDU session; or\n-\tthe SMF, for a non-roaming or an LBO roaming PDU session without I-SMF.\nThis IE may be used by the AMF to identify PDU session contexts affected by a failure or restart of the SMF service instance (see clause 6.2 of 3GPP TS 23.527 [24]).\nrecoveryTime\nDateTime\nO\n0..1\nTimestamp (in UTC) when the SMF service instance serving the PDU session was (re)started (see clause 6.3 of 3GPP TS 23.527 [24]).\nsupportedFeatures\nSupportedFeatures\nC\n0..1\nThis IE shall be present if at least one feature defined in clause 6.1.8 is supported.\nselectedSmfId\nNfInstanceId\nC\n0..1\nThis IE shall be present if a new (h)SMF is selected e.g. by the new I/V-SMF, or a SCP between the new I/V-SMF and the (h)SMF. (NOTE 1)\nWhen present, it shall contain the selected SMF NF Instance Id.\nDTSSA\nselectedOldSmfId\nNfInstanceId\nC\n0..1\nThis IE shall be present if another old I/V-SMF(as alternative to the old I/V-SMF) is selected, e.g. by the new I/V-SMF, anchor SMF or a SCP between the new I/V-SMF and the old I/V-SMF. (NOTE 1)\nWhen present, it shall contain the selected old I/V-SMF NF Instance Id.\nDTSSA\ninterPlmnApiRoot\nUri\nC\n0..1\nThis IE should be present if the PDU session may be subject to inter-PLMN mobility and different SM context URIs shall be used for intra-PLMN and inter-PLMN signaling requests targeting the SM context.\nWhen present, it shall contain the apiRoot of the SM context to be used in inter-PLMN signalling request targeting the SM context.\n(NOTE 2)\nudmGroupId\nNfGroupId\nO\n0..1\nThis IE may be present during an EPS to 5GS handover using the N26 interface procedure. When present, it shall indicate the identity of the UDM group serving the UE.\npcfGroupId\nNfGroupId\nO\n0..1\nThis IE may be present during an EPS to 5GS handover using the N26 interface procedure.\nWhen present, this IE shall contain the identity of the (home) PCF group serving the PDU session for Session Management policy.\npduSessionPrio\nPduSessionPriority\nO\n0..1\nThis IE may be present to contain the priority of the PDU session.\nIf received, the AMF shall use the priority of the PDU session indicated in this IE for further PDU Session related priority handling (i.e. to determine the SBI Message Priority (SMP) to set in subsequent signaling it sends related to the PDU session).\nNOTE 1:\tDuring an SmContext Creation procedure, e.g. for I-SMF insertion or I-SMF change procedure, when the new I/V-SMF attempts to contact the old I/V-SMF or (h)SMF by invoking Nsmf_PDUSession_Context Request, if a new (h)SMF and/or another old I/V-SMF has been re-selected (since the old I/V-SMF or the (h)SMF is not reachable) by the new I-/V-SMF or a SCP, the selected old I-/V-SMF and/or (h)SMF shall be returned to the AMF, in order to perform potential subsequent operations on the SMF hosting the resource, e.g. to release the SM Context on old I-/V-SMF, or to create SM Context on SMF when the I/V-SMF needs to be removed.\nNOTE 2:\tThe SM Context URI returned in the Location header in the Create SM Context response shall contain an URI suitable for use in intra-PLMN signaling requests targeting the SM Context. During an inter-PLMN mobility, the target AMF shall replace the apiRoot of the smContextRef with the interPlmnApiRoot if available and send the resulting smContextRef in the Create SM Context request towards the target V-SMF, I-SMF or anchor SMF.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1.1",
        "clause_5.2.2.2.3",
        "ts_23.527_clause_6.2",
        "ts_23.527_clause_6.3",
        "clause_6.1.8",
        "table_6.1.6.2.3-1",
        "ts_23.527"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.4",
      "section_id": "6.1.6.2.4",
      "section_title": "Type: SmContextUpdateData",
      "content": "Table 6.1.6.2.4-1: Definition of type SmContextUpdateData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\npei\nPei\nC\n0..1\nThis IE shall be present if it is available and has not been provided earlier to the SMF.\nWhen present, this IE shall contain the permanent equipment identifier.\nservingNfId\nNfInstanceId\nC\n0..1\nThis IE shall be present upon inter-AMF change or mobility, or upon a N2 handover execution with AMF change.\nWhen present, it shall contain the identifier of the serving NF (e.g. AMF).\nsmContextStatusUri\nUri\nC\n0..1\nThis IE shall be present if the servingNfId IE is present. It may be present otherwise.\nWhen present, this IE shall include the callback URI to receive notification of SM context status.\nguami\nGuami\nC\n0..1\nThis IE shall be present if the servingNfId of AMF is present.\nWhen present, it shall contain the serving AMF's GUAMI.\nservingNetwork\nPlmnIdNid\nC\n0..1\nThis IE shall be present if the servingNfId IE is present.\nWhen present, it shall contain the serving core network operator PLMN ID and, for an SNPN, the NID that together with the PLMN ID identifies the SNPN.\nbackupAmfInfo\narray(BackupAmfInfo)\nC\n1..N\nThis IE shall be included for the modification of the BackupAmfInfo if the NF service consumer is an AMF and the AMF supports the AMF management without UDSF.\nFor deleting the backupAmfInfo, it shall contain the Null value.\nanType\nAccessType\nC\n0..1\nThis IE shall be present upon a change of the Access Network Type associated to the PDU session, e.g. during a handover of the PDU session between 3GPP access and untrusted non-3GPP access (see clause 5.2.2.3.5.2).\nWhen present, this IE shall indicate the Access Network Type (3GPP or non-3GPP access) to which the PDU session is to be associated.\nadditionalAnType\nAccessType\nC\n0..1\nThis IE shall indicate the additional Access Network Type to which the PDU session is to be associated, if the UE is registered over both 3GPP and non-3GPP accesses.\nThis IE shall be present when the UE requests to establish resources for MA PDU session over the other access.\nMAPDU\nanTypeToReactivate\nAccessType\nC\n0..1\nThis IE shall indicate the Access Network Type for which the UP connection is requested to be re-activated, for a MA PDU session.\nMAPDU\nanTypeOfN1N2Info\nAccessType\nC\n0..1\nThis IE should be present if the n1SmMsg IE and/or the n2SmInfo IE is present, for a MA PDU session associated with both a 3GPP and a non-3GPP access type.\nWhen present, this IE shall indicate the Access Network Type from which the N1 and/or N2 information was received.\nratType\nRatType\nC\n0..1\nThis IE shall be present and indicate the RAT Type used by the UE, if available, upon a change of RAT Type.\npresenceInLadn\nPresenceState\nC\n0..1\nThis IE shall be present during a Service Request procedure (see clause 5.2.2.3.2.2) ), an Xn handover (see clause 5.2.2.3.3) or a N2 handover execution (see clause 5.2.2.3.4.3), if the DNN of the PDU session corresponds to a LADN. When present, it shall be set to \"IN\" or \"OUT\" to indicate that the UE is in or out of the LADN service area.\nueLocation\nUserLocation\nC\n0..1\nThis IE shall be present if it is available and if it needs to be reported to the SMF (e.g. the user location has changed or the user plane of the PDU session is deactivated).\nWhen present, this IE shall contain:\n-\tthe UE location information (see clause 5.2.3.4); and\n-\tthe timestamp, if available, indicating the UTC time when the UeLocation information was acquired.\n(NOTE 1)\nueTimeZone\nTimeZone\nC\n0..1\nThis IE shall be present if it is available, the UE Time Zone has changed and needs to be reported to the SMF.\nWhen present, this IE shall contain the UE Time Zone.\naddUeLocation\nUserLocation\nO\n0..1\nAdditional UE location.\nThis IE may be present, if anType indicates a non-3GPP access and a valid 3GPP access user location information is available.\nWhen present, it shall contain:\n-\tthe last known 3GPP access user location (see clause 5.2.3.4); and\n-\tthe timestamp, if available, indicating the UTC time when the addUeLocation information was acquired.\n(NOTE 1)\nupCnxState\nUpCnxState\nC\n0..1\nThis IE shall be present to request the activation or the deactivation of the user plane connection of the PDU session.\nWhen present, it shall be set as specified in clauses 5.2.2.3.2, 5.2.2.3.15 and 5.2.2.3.16.\nhoState\nHoState\nC\n0..1\nThis IE shall be present to request the preparation, execution or cancellation of a handover of the PDU session.\nWhen present, it shall be set as specified in clause 5.2.2.3.4.\ntoBeSwitched\nboolean\nC\n0..1\nThis IE shall be present during an Xn Handover (see clause 5.2.2.3.3) to request to switch the PDU session to a new downlink N3 tunnel endpoint.\nWhen present, it shall be set as follows:\n- true: request to switch to the PDU session.\n- false (default): no request to switch the PDU session.\nfailedToBeSwitched\nboolean\nC\n0..1\nThis IE shall be present during an Xn Handover (see clause 5.2.2.3.3) if the PDU session failed to be setup in the target RAN.\nWhen present, it shall be to true to indicate that the PDU session failed to be setup in the target RAN.\nn1SmMsg\nRefToBinaryData\nC\n0..1\nThis IE shall be present if N1 SM Information has been received from the UE.\nWhen present, this IE shall reference the N1 SM Message binary data (see clause 6.1.6.4.2).\nn2SmInfo\nRefToBinaryData\nC\n0..1\nThis IE shall be present if N2 SM Information has been received from the AN.\nWhen present, this IE shall reference the N2 SM Information binary data (see clause 6.1.6.4.3).\nn2SmInfoType\nN2SmInfoType\nC\n0..1\nThis IE shall be present if \"n2SmInfo\" attribute is present.\nWhen present, this IE shall indicate the NG AP IE type for the NG AP SMF related IE container carried in \"n2SmInfo\" attribute.\ntargetId\nNgRanTargetId\nC\n0..1\nThis IE shall be present during a N2 handover preparation, when the hoState IE is set to the value \"PREPARING\".\nWhen present, it shall contain the Target ID identifying the target RAN Node ID and TAI received in the Handover Required from the Source RAN.\ntargetServingNfId\nNfInstanceId\nC\n0..1\nThis IE shall be present during a N2 handover preparation with AMF change, when the hoState IE is set to the value \"PREPARING\".\nWhen present, it shall contain the identifier of the target serving NF (e.g. AMF).\ndataForwarding\nboolean\nC\n0..1\nThis IE shall be present and set as specified in clause 5.2.2.3.9 during a 5GS to EPS handover, or as specified in 5.2.2.3.13 during a N2 based handover with I-SMF insertion/change/removal, or as specified in clause 5.2.2.3.21 during N9 Forwarding Tunnel establishment between Branching Points or UL CLs controlled by different I-SMFs.\nWhen present, it shall be set as follows:\n- true: setup the direct or indirect data forwarding tunnels;\n- false (default): data forwarding tunnels are not required to be setup.\nn9ForwardingTunnel\nTunnelInfo\nC\n0..1\nThis IE shall be present in the following case:\n-\tUE triggered Service Request with I-SMF change/removal, if requesting to forward buffered downlink data packets at I-UPF (See clause 4.23.4 of 3GPP TS 23.502 [3]).\nWhen present, it shall carry the N9 forwarding tunnel info of I-UPF.\nDTSSA\nn9DlForwardingTnlList\narray (IndirectDataForwardingTunnelInfo)\nC\n1..N\nThis IE shall be present in the following case:\n-\tN2 based handover with I-SMF insertion/change/removal, if downlink indirect data forwarding tunnels are requested to be established between target I-UPF and source I-UPF / source UPF (see clause 4.23.7 and 4.23.11 of 3GPP TS 23.502 [3]).\nWhen present, it shall carry the list of N9 downlink indirect data forwarding tunnel(s) info of I-UPF.\nDTSSA\nn9UlForwardingTnlList\narray (IndirectDataForwardingTunnelInfo)\nC\n1..N\nThis IE shall be present in the following case:\n-\tN2 based handover with I-SMF insertion/change/removal, if uplink indirect data forwarding tunnels are requested to be established between target I-UPF and source I-UPF / source UPF (see clause 4.23.7 and 4.23.11 of 3GPP TS 23.502 [3]).\nWhen present, it shall carry the list of N9 uplink indirect data forwarding tunnel(s) info of I-UPF.\nDTSSA\nn9DlForwardingTunnel\nTunnelInfo\nC\n0..1\nThis IE shall be present in the following case:\n-\tsimultaneous change of Branching Points or UL CLs controlled by different I-SMFs, if downlink data forwarding tunnel is requested to be established from source BP / UL CL to target BP / UL CL (see clause 4.23.9.5 of 3GPP TS 23.502 [3]).\nWhen present, it shall carry the N9 downlink data forwarding tunnel info of the target BP / UL CL.\nN9FSC\nn9InactivityTimer\nDurationSec\nO\n0..1\nWhen present, this IE shall indicate an inactivity detection timer, in seconds, that the I-SMF may use to set the N9 forwarding tunnel inactive traffic detection timer in Branching Point or UL CL as specified in clause 4.23.9.5 of 3GPP TS 23.502 [3].\nN9FSC\nepsBearerSetup\narray(EpsBearerContainer)\nC\n0..N\nThis IE shall be present during a 5GS to EPS handover using the N26 interface.\nWhen present, it shall include the EPS bearer context(s) successfully setup in EPS. The array shall be empty if no resource was successfully allocated in EPS for any PDU session.\nrevokeEbiList\narray(EpsBearerId)\nC\n1..N\nThis IE shall be present to request the SMF to revoke some EBIs (see clause 4.11.1.4.1 of 3GPP TS 23.502 [3]). When present, it shall contain the EBIs to revoke.\nrelease\nboolean\nC\n0..1\nThis IE shall be used to indicate a network initiated PDU session release is requested.\nThis IE shall be present and set as specified in clause 5.2.2.3.10 during P-CSCF restoration procedure, in clause 5.2.2.3.11 during AMF requested PDU Session Release due to duplicated PDU Session Id, in clause 5.2.2.3.12 during AMF requested PDU Session Release due to slice not available, in clause 5.2.2.3.17 during AMF requested PDU Session Release due to Network Slice-Specific Authentication and Authorization failure or revocation, in clause 5.2.2.3.19 during AMF requested PDU Session Release due to Control Plane Only indication associated with PDU Session is not applicable any longer, in clause 5.2.2.3.20 during AMF requested PDU Session Release due to ODB changes, and in clause 5.2.2.3.27 during AMF requested PDU Session Release due to MBSR not authorized.\nWhen present, it shall be set as follows:\n- true: PDU session release is required;\n- false (default): PDU session release is not required.\ncause\nCause\nO\n0..1\nWhen present, this IE shall indicate the cause for the requested modification, e.g. the NF Service Consumer cause for requesting to deactivate the user plane connection of the PDU session.\nngApCause\nNgApCause\nC\n0..1\nThis IE shall be present, if the information is available. When present, this IE shall indicate the cause for the requested modification, e.g. the NGAP cause for requesting to deactivate the user plane connection of the PDU session.\n5gMmCauseValue\n5GMmCause\nC\n0..1\nThis IE shall be included if the AMF received a 5GMM cause code from the UE during any network initiated PDU session modification or release procedure. (e.g 5GMM Status message in response to a Downlink NAS Transport message carrying 5GSM payload).\nsNssai\nSnssai\nC\n0..1\nThis IE shall be present and sent to the V-SMF, or to the I-SMF if the Serving PLMN ID is not the same as the PLMN ID of the SUPI for a non-roaming UE, during an EPS to 5GS mobility registration using the N26 interface, if the S-NSSAI for the serving PLMN derived from the S-NSSAI of the home PLMN differs from the S-NSSAI provided in the Create SM Context Request.\nWhen present, it shall contain the S-NSSAI for the serving PLMN.\nFor the Network slice replacement if nsReplTerminInd attribute is set to true, the sNssai attribute shall indicate the replaced SNSSAI.\ntraceData\nTraceData\nC\n0..1\nThis IE shall be included if trace is required to be activated, modified or deactivated (see 3GPP TS 32.422 [22]).\nFor trace modification, it shall contain a complete replacement of trace data.\nFor trace deactivation, it shall contain the Null value.\nepsInterworkingInd\nEpsInterworkingIndication\nO\n0..1\nThis IE may be present if its value has changed after session creation or last update.\nWhen present, this IE shall indicate whether the PDU session may possibly be moved to EPS or EPC/ePDG and whether N26 interface to be used during EPS interworking procedures.\nanTypeCanBeChanged\nboolean\nC\n0..1\nThis IE shall be present and set to true to indicate that the Access Network Type associated to the PDU session can be changed (see clause 5.2.2.3.2.4), during a Service Request procedure (see clause 4.2.3.2 of 3GPP TS 23.502 [3])), in response to paging or NAS notification indicating non-3GPP access, when the PDU Session for which the UE was paged or notified is in the List Of Allowed PDU Sessions provided by the UE, and the AMF received N2 SM Information only or N1 SM Container and N2 SM Information from the SMF in step 3a of clause 4.2.3.3 of 3GPP TS 23.502 [3].\nWhen present, it shall be set as follows:\n- true: the access type of the PDU session can be changed.\n- false (default): the access type of the PDU session cannot be changed.\nn2SmInfoExt1\nRefToBinaryData\nC\n0..1\nThis IE shall be present if more than one N2 SM Information has been received from the AN.\nWhen present, this IE shall reference the N2 SM Information binary data (see clause 6.1.6.4.3).\nn2SmInfoTypeExt1\nN2SmInfoType\nC\n0..1\nThis IE shall be present if \"n2SmInfoExt1\" attribute is present.\nWhen present, this IE shall indicate the NG AP IE type for the NG AP SMF related IE container carried in \"n2SmInfoExt1\" attribute.\nmaReleaseInd\nMaReleaseIndication\nC\n0..1\nThis IE shall be present if one access of a MA PDU session is requested to be released, in the following cases:\n- when UE/AMF initiates MA PDU session release over one access; or\n- when UE deregisters from one access.\nWhen present, it indicates the access to be released.\nMAPDU\nmaNwUpgradeInd\nboolean\nC\n0..1\nThis IE shall be present if the PDU session is allowed to be upgraded to MA PDU session (see clause 6.4.2.2 of 3GPP TS 24.501 [7]).\nWhen present, it shall be set as follows:\n- true: the PDU session is allowed to be upgraded to MA PDU session\n- false (default): the PDU session is not allowed to be upgraded to MA PDU session\nMAPDU\nmaRequestInd\nboolean\nC\n0..1\nThis IE shall be present if a MA-PDU session is requested to be established (see clause 4.22.6.3 of 3GPP TS 23.502 [3]).\nWhen present, it shall be set as follows:\n- true: a MA-PDU session is requested\n- false (default): a MA-PDU session is not requested\nMAPDU\nn3gPathSwitchExecutionInd\nboolean\nO\n0..1\nThis IE may be present and set to true if the AMF receives the indication \"Non-3GPP access path switching while using old AN resources\" in the registration request message from the UE and if the SMF supports non-3GPP path switching, so to request the SMF to add a new non-3GPP access path (while also keeping the existing one) during a UE requested non-3GPP access switching for a MA-PDU session.\nN3GPS\nexemptionInd\nExemptionInd\nC\n0..1\nThis IE shall be present if the AMF has exempted the NAS message from a NAS SM congestion control activated in the AMF.\nsupportedFeatures\nSupportedFeatures\nC\n0..1\nThis IE shall be present if the servingNfId or the targetServingNfId is present (i.e. during a change of AMF) and at least one feature defined in clause 6.1.8 is supported by the new AMF.\nIf this IE is absent when the servingNfId or the targetServingNfId is present, the new serving AMF or the target AMF respectively shall be considered as not supporting any feature.\nmoExpDataCounter\nMoExpDataCounter\nC\n0..1\nThis IE shall be included if the UE has accessed the network by using \"MO exception data\" RRC establishment cause and when the AMF decides to send a non-zero value to the SMF.\n(NOTE 2)\nWhen present, this IE shall contain the MO Exception Data Counter.\nCIOT\nextendedNasSmTimerInd\nboolean\nC\n0..1\nThis IE shall be present if the UE supports CE mode B and use of CE mode B changes from restricted to unrestricted or vice versa in the Enhanced Coverage Restriction information in the UE context in the AMF.\nWhen present, it shall indicate whether extended NAS SM timers shall be used for the UE as specified in 3GPP TS 24.501 [7], as follows:\n-\tTrue: extended NAS SM timers shall be used\n-\tFalse: normal NAS SM timers shall be used.\nCIOT\nforwardingFTeid\nBytes\nC\n0..1\nThis IE shall be present during a 5GS to EPS Idle mode mobility using N26 interface with data forwarding (see clause 4.11.1.3.2A of 3GPP TS 23.502 [3]), if the Forwarding F-TEID IE is present in the Context Acknowledge message received from the MME.\nWhen present, it shall contain Base64-encoded characters, encoding the Forwarding F-TEID in the Context Acknowledge message, as specified in Figure 8.22-1 of 3GPP TS 29.274 [16] (starting from octet 1).\nCIOT\nforwardingBearerContexts\narray(ForwardingBearerContainer)\nC\n1..N\nThis IE shall be present during a 5GS to EPS Idle mode mobility using N26 interface with data forwarding (see clause 4.11.1.3.2A of 3GPP TS 23.502 [3]), if the Bearer Contexts IE is present in the Context Acknowledge message received from the MME.\nWhen present, it shall contain the Bearer Contexts in the Context Acknowledge message.\nCIOT\nddnFailureSubs\nDdnFailureSubs\nC\n0..1\nThis IE shall be present to subscribe or unsubscribe to the notification of the DDN Failure if the Availability after DDN failure event is subscribed/unsubscribed by the UDM, see clause 4.15.3.2.7 of 3GPP TS 23.502 [3].\nThis IE shall also be present if it is required to add, modify or remove DDN failure subscriptions. If it is present and the included dnnFailureSubsInd indicates notification of DDN failure is subscribed, the content of the received ddnFailureSubs shall overwrite any ddnFailureSubs received earlier.\nCIOT\nskipN2PduSessionResRelInd\nboolean\nO\n0..1\nThis IE may be present when the release IE is present with value \"true\".\nWhen present, this IE shall indicate whether N2 message shall be skipped for the PDU session RAN resources release, if the UP connection is active:\n- true: N2 message shall be skipped.\n- false (default): N2 message shall not be skipped.\nsecondaryRatUsageDataReportContainer\narray(SecondaryRatUsageDataReportContainer)\nC\n1..N\nThe IE shall be present during an EPS to 5GS handover procedure, if one or more instance of Secondary RAT Usage Data Report IE(s) are present and applicable to the PDU session.\nWhen present, it shall contain Base64-encoded characters, encoding the Secondary RAT Usage Data Report in the Forward Relocation Complete Acknowledge message, as specified in Figure 8.132-1 of 3GPP TS 29.274 [16] (starting from octet 1).\nsmPolicyNotifyInd\nboolean\nO\n0..1\nWhen present, this IE shall indicate that the SM Policy Association Establishment and Termination events shall be reported for the PDU session by the PCF for the SM Policy to the PCF for the UE:\n- true: SM Policy Association Establishment and Termination events shall be reported\n(NOTE 3)\nSPAE\npcfUeCallbackInfo\nPcfUeCallbackInfo\nC\n0..1\nThis IE shall be present when the smPolicyNotifyInd IE is present with value true.\nWhen present, this IE shall contain the callback information of the PCF for the UE to receive SM Policy Association Establishment and Termination events notification from the PCF for the SM Policy. (NOTE 3)\nSPAE\nsatelliteBackhaulCat\nSatelliteBackhaulCategory\nO\n0..1\nThis IE may be present if the AMF and the SMF supports the 5GSAT feature and the AMF is aware that:\n-\tthere is a change of the satellite backhaul category; or\n-\tthe UE is newly served by a 5G-AN without any satellite backhaul and a satellite backhaul category had been signalled to the SMF; or\n-\tthe UE is newly served by a 5G-AN with a satellite backhaul and no satellite backhaul category had been signalled to the SMF; or\n-\tthere is a satellite backhaul towards the 5G AN serving the UE, but it does not know whether a satellite backhaul category had been signalled to the SMF (e.g. upon Inter-AMF mobility).\nWhen present, this IE shall indicate the category of the satellite backhaul used towards the new 5G AN serving the UE, or that there is no longer any satellite backhaul towards the new 5G AN serving the UE.\n5GSAT\ncnBasedMt\nboolean\nO\n0..1\nWhen present, this IE shall indicate to the SMF that UE is in RRC_INACTIVE mode with eDRX and CN Based MT handling is applied for the PDU session, i.e. the user plane connection is suspended and the UPF is requested to buffer subsequent DL Data and send a report upon subsequent DL data arrival, the SMF will then invoke the AMF  EnableUEReachability service,  see also clauses 4.8.1.1a and 4.8.2.2b of 3GPP TS 23.502 [3].\n- true: CN Based MT handling is to be applied.\ngeoSatelliteId\nGeoSatelliteId\nC\n0..1\nThe AMF shall include this attribute when the Geo satellite ID changes.\nWhen present, this IE shall contain a GEO satellite ID.\n5GSATB\naltSnssai\nSnssai\nC\n0..1\nThis IE shall be present when the PDU Session is to be transferred to an alternative S-NSSAI.\nWhen present, this IE shall indicate the alternative network slice to be used by the PDU session.\nSee clause 5.15.19 of 3GPP TS 23.501 [2].\nNSRP\naltHplmnSnssai\nSnssai\nC\n0..1\nThis IE shall be present for HR PDU session when the PDU Session is to be transferred to an alternative S-NSSAI in HPLMN.\nWhen present, this IE shall indicate the alternative network slice to be used by the PDU session in the HPLMN.\nSee clause 5.15.19 of 3GPP TS 23.501 [2].\nNSRP\nnsReplTerminInd\nboolean\nC\n0..1\nThis IE shall be present for a notification of termination of Network Slice Replacement, if the PDU Session is associated with the Alternative S-NSSAI and the replaced S-NSSAI is available again. The SMF shall transfer the PDU Session to the replaced S-NSSAI.\nWhen present, it shall be set as follows:\n- true: the network slice replacement is terminated\nThe presence of this IE with false value shall be prohibited.\nSee clause 5.15.19 of 3GPP TS 23.501 [2].\nNSRP\nsliceAreaRestrictInd\nboolean\nC\n0..1\nThis IE shall be present if the AMF determines that the PDU Session is newly subject to area restriction for the S-NSSAI (i.e. if the S-NSSAI is newly part of the partially allowed NSSAI or if the support of the S-NSSAI is newly restricted to a NS-AoS) or if the PDU session becomes no longer subject to area restriction for the S-NSSAI. See clauses 5.15.17 and 5.15.18 of 3GPP TS 23.501 [2].\nWhen present, it shall be set as follows:\ntrue: the PDU Session is newly subject to area restriction for the S-NSSAI\nfalse: the PDU Session is no longer subject to area restriction\nSAR\nueLevelMeasConfig\nUeLevelMeasurementsConfiguration\nC\n0..1\nThis IE shall be present if the signalling based UE Level Measurement task is activated or the trace control and configuration parameters information is updated.\nWhen present, this IE shall contain UE Level Measurement configuration data for UE (see clause 4.1.2.18 of 3GPP TS 32.422 [22]).\nNOTE 1:\tIn shared networks, when the message is sent from the VPLMN to the HPLMN, the PLMN ID that is communicated in this IE shall be that of the selected Core Network Operator.In shared networks, when the AMF and SMF pertain to the same PLMN, the Primary PLMN ID shall be communicated in the ECGI or NCGI to the SMF. The Core Network Operator PLMN ID shall be communicated in the TAI and the Serving Network.\nNOTE 2:\tThe AMF increments the MO Exception Data Counter when the UE establishes/resumes RRC with \"MO Exception Data\" RRC cause. The AMF may defer sending the moExpDataCounter attribute to the SMF based on local configuration. The AMF resets the MO Exception Data Counter when receiving successful response from the SMF. The SMF however keeps incrementing the counter locally.\nNOTE 3:\tIf the AMF has received the callback information of the PCF for the UE together with the information of the PDU sessions (i.e. Slice and DNN combination) that are applicable for notification of SM Policy Association events, the AMF shall identify whether any ongoing non-roaming or local breakout PDU session is applicable for SM Policy Association events, i.e, whether the slice and DNN combination of the PDU session is listed in the received PDU session information from the PCF for the UE. If the PDU session is applicable for notification of SM Policy Association events , the AMF shall invoke Update SM context service operation for the PDU session and include the smPolicyNotifyInd IE with the value \"true\" and the callback information of the PCF for the UE in the request. The SMF shall forward the callback information of the PCF for the UE to the PCF for SM Policy if exists via SM Policy Association Modification. See clause 4.3.3.2 of 3GPP TS 23.502 [3]. The AMF needs not update the SMF if the subscription to the SM Policy Association events for the PDU session is cancelled by the PCF for UE.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.3.5.2",
        "clause_5.2.2.3.2.2",
        "clause_5.2.2.3.3",
        "clause_5.2.2.3.4.3",
        "clause_5.2.3.4",
        "clause_5.2.2.3.4",
        "clause_6.1.6.4.2",
        "clause_6.1.6.4.3",
        "clause_5.2.2.3.9",
        "clause_5.2.2.3.21",
        "ts_23.502_clause_4.23.4",
        "ts_23.502_clause_4.23.7",
        "ts_23.502_clause_4.23.9.5",
        "ts_23.502_clause_4.11.1.4.1",
        "clause_5.2.2.3.10",
        "clause_5.2.2.3.11",
        "clause_5.2.2.3.12",
        "clause_5.2.2.3.17",
        "clause_5.2.2.3.19",
        "clause_5.2.2.3.20",
        "clause_5.2.2.3.27",
        "clause_5.2.2.3.2.4",
        "ts_23.502_clause_4.2.3.2",
        "ts_23.502_clause_4.2.3.3",
        "ts_24.501_clause_6.4.2.2",
        "ts_23.502_clause_4.22.6.3",
        "clause_6.1.8",
        "ts_23.502_clause_4.11.1.3.2",
        "ts_23.502_clause_4.15.3.2.7",
        "ts_23.501_clause_5.15.19",
        "ts_32.422_clause_4.1.2.18",
        "ts_23.502_clause_4.3.3.2",
        "table_6.1.6.2.4-1",
        "ts_29.274_figure_8.22-1",
        "ts_29.274_figure_8.132-1",
        "ts_23.502",
        "ts_32.422",
        "ts_24.501",
        "ts_29.274",
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.5",
      "section_id": "6.1.6.2.5",
      "section_title": "Type: SmContextUpdatedData",
      "content": "Table 6.1.6.2.5-1: Definition of type SmContextUpdatedData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nupCnxState\nUpCnxState\nC\n0..1\nThis IE shall be present if the SMF was requested to activate or deactivate the user plane connection of the PDU session in the corresponding request.\nWhen present, it shall be set as specified in clauses 5.2.2.3.2, 5.2.2.3.6, 5.2.2.3.15 and 5.2.2.3.16.\nhoState\nHoState\nC\n0..1\nThis IE shall be present if the SMF was requested to prepare, execute or cancel a handover for the PDU session in the corresponding request.\nWhen present, it shall be set as specified in clause 5.2.2.3.4.\nreleaseEbiList\narray(EpsBearerId)\nC\n1..N\nThis IE shall be present if the SMF determines that some EBIs are not needed. When present, it shall contain the EBIs to be released.\nallocatedEbiList\narray(EbiArpMapping)\nC\n1..N\nThis IE shall be present if the consumer NF is an AMF and Inter-system mobility happens. When present, it shall contain an array of EBI to ARP mappings currently allocated to the PDU session.\nmodifiedEbiList\narray(EbiArpMapping)\nC\n1..N\nThis IE shall be present if a PDU session modification procedure resulted in the change of ARP for a QoS flow that was already allocated an EBI.\nn1SmMsg\nRefToBinaryData\nC\n0..1\nThis IE shall be present if N1 SM Information needs to be sent to the UE.\nWhen present, this IE shall reference the N1 SM Message binary data (see clause 6.1.6.4.2).\nn2SmInfo\nRefToBinaryData\nC\n0..1\nThis IE shall be present if N2 SM Information needs to be sent to the AN.\nWhen present, this IE shall reference the N2 SM Information binary data (see clause 6.1.6.4.3).\nn2SmInfoType\nN2SmInfoType\nC\n0..1\nThis IE shall be present if \"n2SmInfo\" attribute is present.\nWhen present, this IE shall indicate the NG AP IE type for the NG AP SMF related IE container carried in \"n2SmInfo\" attribute.\nepsBearerSetup\narray(EpsBearerContainer)\nC\n1..N\nThis IE shall be present during an EPS to 5GS handover using the N26 interface.\nWhen present, it shall include the EPS bearer context(s) successfully handed over to 5GS.\ndataForwarding\nboolean\nC\n0..1\nThis IE shall be present if it was present in the corresponding request.\nWhen present, it shall be set as specified in clause 5.2.2.3.9 or 5.2.2.3.21.\nn3DlForwardingTnlList\narray (IndirectDataForwardingTunnelInfo)\nC\n1..N\nThis IE shall be present if indirect data forwarding is requested and N9 downlink indirect data forwarding tunnels info is included in the corresponding request.\nWhen present, it shall carry the list of N3 downlink indirect data forwarding tunnels info of source I-UPF or source UPF.\nDTSSA\nn3UlForwardingTnlList\narray (IndirectDataForwardingTunnelInfo)\nC\n1..N\nThis IE shall be present if indirect data forwarding is requested and N9 uplink indirect data forwarding tunnels info is included in the corresponding request.\nWhen present, it shall carry the list of N3 uplink indirect data forwarding tunnels info of source I-UPF or source UPF.\nDTSSA\nn9UlForwardingTunnel\nTunnelInfo\nC\n0..1\nThis IE shall be present in the following case:\n-\tsimultaneous change of Branching Points or UL CLs controlled by different I-SMFs, if uplink data forwarding tunnel is requested to be established from target BP / UL CL to source BP / UL CL (see clause 4.23.9.5 of 3GPP TS 23.502 [3]).\nWhen present, it shall carry the N9 uplink data forwarding tunnel info of the source BP / UL CL.\nN9FSC\ncause\nCause\nC\n0..1\nThis IE shall be present if the activation of the User Plane connection failed due to insufficient resources (see clauses 5.2.2.3.2.2 and 5.2.2.3.6).\nmaAcceptedInd\nboolean\nC\n0..1\nThis IE shall be present if a request to modify a single access PDU session into a MA PDU session was accepted (see clause 4.22.6.3 of 3GPP TS 23.502 [3]).\nWhen present, it shall be set as follows:\n- true: MA PDU session\n- false (default): single access PDU session\nMAPDU\nsupportedFeatures\nSupportedFeatures\nC\n0..1\nThis IE shall be present if the supportedFeatures IE was received in the request and at least one feature defined in clause 6.1.8 is supported by the updated SM context resource.\nforwardingFTeid\nBytes\nC\n0..1\nThis IE shall be present during an EPS to 5GS Idle mode mobility using N26 interface with data forwarding (see clause 4.11.1.3.3A of 3GPP TS 23.502 [3]), if the Forwarding F-TEID IE shall be sent to the MME in the Context Acknowledge message.\nWhen present, it shall contain Base64-encoded characters, encoding the Forwarding F-TEID to be sent in the Context Acknowledge message, as specified in Figure 8.22-1 of 3GPP TS 29.274 [16] (starting from octet 1).\nCIOT\nforwardingBearerContexts\narray(ForwardingBearerContainer)\nC\n1..N\nThis IE shall be present during an EOS to 5GS Idle mode mobility using N26 interface with data forwarding (see clause 4.11.1.3.3A of 3GPP TS 23.502 [3]), if the Bearer Contexts IE shall be sent to the MME in the Context Acknowledge message.\nWhen present, it shall contain the Bearer Contexts to be sent in the Context Acknowledge message.\nCIOT\nselectedSmfId\nNfInstanceId\nC\n0..1\nThis IE shall be present if a new (h)SMF is selected e.g. by the new I/V-SMF, or a SCP between the new I/V-SMF and the (h)SMF. (NOTE)\nWhen present, it shall contain the selected SMF NF Instance Id.\nDTSSA\nselectedOldSmfId\nNfInstanceId\nC\n0..1\nThis IE shall be present if if another old I/V-SMF(as alternative to the old I/V-SMF) is selected, e.g. by the new I/V-SMF or a SCP between the new I/V-SMF and the old I/V-SMF. (NOTE)\nWhen present, it shall contain the selected old I/V-SMF NF Instance Id.\nDTSSA\ninterPlmnApiRoot\nUri\nC\n0..1\nThis IE should be present if the information has changed. When present, it shall contain the apiRoot of the SM context to be used in inter-PLMN signalling request targeting the SM context.\nanchorSmfFeatures\nAnchorSmfFeatures\nO\n0..1\nThis IE may be present to indicate a list of features supported by the (H-)SMF to the AMF.\npduSessionPrio\nPduSessionPriority\nC\n0..1\nThis IE shall be present if the priority of the PDU session needs to be updated.\nIf received, the AMF shall use the priority of the PDU session indicated in this IE for further PDU Session related priority handling (i.e. to determine the SBI Message Priority (SMP) to set in subsequent signaling it sends related to the PDU session).\nNOTE:\tDuring an SmContext Update procedure, if a new (h)SMF and/or another old I/V-SMF has been re-selected (since the old I/V-SMF or the (h)SMF is not reachable) by the new I-/V-SMF or a SCP, the selected old I-/V-SMF and/or (h)SMF shall be returned to the AMF, in order to perform potential subsequent operations on the SMF hosting the resource, e.g. to release the SM Context on old I-/V-SMF, or to create SM Context on SMF when the I/V-SMF needs to be removed.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.3.4",
        "clause_6.1.6.4.2",
        "clause_6.1.6.4.3",
        "clause_5.2.2.3.9",
        "ts_23.502_clause_4.23.9.5",
        "ts_23.502_clause_4.22.6.3",
        "clause_6.1.8",
        "ts_23.502_clause_4.11.1.3.3",
        "table_6.1.6.2.5-1",
        "ts_29.274_figure_8.22-1",
        "ts_23.502",
        "ts_29.274"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.6",
      "section_id": "6.1.6.2.6",
      "section_title": "Type: SmContextReleaseData",
      "content": "Table 6.1.6.2.6-1: Definition of type SmContextReleaseData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\ncause\nCause\nC\n0..1\nThis IE shall be present, if the information is available. When present, this IE shall indicate the NF Service Consumer cause for the requested SM context release.\nngApCause\nNgApCause\nC\n0..1\nThis IE shall be present, if the information is available. When present, this IE shall indicate the NGAP cause for the requested SM context release.\n5gMmCauseValue\n5GMmCause\nC\n0..1\nThis IE shall be included if the PDU session is released by the AMF due to any 5GMM failure. When present, this IE shall contain the 5GMM cause code value received from the UE.\nueLocation\nUserLocation\nC\n0..1\nThis IE shall be present, if available.\nWhen present, it shall contain the UE location information (see clause 5.2.3.4). See NOTE.\nueTimeZone\nTimeZone\nC\n0..1\nThis IE shall be present, if available.\nWhen present, it shall contain the UE Time Zone information.\naddUeLocation\nUserLocation\nO\n0..1\nAdditional UE location.\nThis IE may be present, if anType previously reported is a non-3GPP access and a valid 3GPP access user location information is available.\nWhen present, it shall contain:\n-\tthe last known 3GPP access user location (see clause 5.2.3.4); and\n-\tthe timestamp, if available, indicating the UTC time when the addUeLocation information was acquired.\nSee NOTE.\nvsmfReleaseOnly\nboolean\nC\n0..1\nThis IE shall be present and set to \"true\" during a 5GS to EPS Idle mode mobility or handover, for a Home Routed PDU session associated with 3GPP access and with assigned EBI(s), or during Registration, UE Triggered Service Request, Inter NG-RAN node Xn based handover and N2 based handover procedures with V-SMF change or removal.\nWhen present, it shall be set as follows:\n- true: release the SM context and PDU session in the V-SMF only;\n- false (default): release the SM context and PDU session in V-SMF and H-SMF.\nn2SmInfo\nRefToBinaryData\nC\n0..1\nThis IE shall be present if N2 SM Information has been received from the AN.\nWhen present, this IE shall reference the N2 SM Information binary data (see clause 6.1.6.4.3).\nn2SmInfoType\nN2SmInfoType\nC\n0..1\nThis IE shall be present if \"n2SmInfo\" attribute is present.\nWhen present, this IE shall indicate the NG AP IE type for the NG AP SMF related IE container carried in \"n2SmInfo\" attribute.\nismfReleaseOnly\nboolean\nC\n0..1\nThis IE shall be present and set to \"true\" during a 5GS to EPS Idle mode mobility or handover with I-SMF removal, or during Registration, UE Triggered Service Request, Inter NG-RAN node Xn based handover and N2 based handover with I-SMF change or removal.\nWhen present, it shall be set as follows:\n- true: only release the SM context of the PDU session in the I-SMF;\n- false (default): release the SM context and PDU session in I-SMF and SMF.\nDTSSA\nNOTE:\tIn shared networks, when the message is sent from the VPLMN to the HPLMN, the PLMN ID that is communicated in this IE shall be that of the selected Core Network Operator.In shared networks, when the AMF and SMF pertain to the same PLMN, the Primary PLMN ID shall be communicated in the ECGI or NCGI to the SMF. The Core Network Operator PLMN ID shall be communicated in the TAI and the Serving Network.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.3.4",
        "clause_6.1.6.4.3",
        "table_6.1.6.2.6-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.7",
      "section_id": "6.1.6.2.7",
      "section_title": "Type: SmContextRetrieveData",
      "content": "Table 6.1.6.2.7-1: Definition of type SmContextRetrieveData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\ntargetMmeCap\nMmeCapabilities\nC\n0..1\nThis IE shall be present if it is available. When present, it shall contain the target MME capabilities.\nsmContextType\nSmContextType\nC\n0..1\nThis IE shall be present if this is a request to retrieve the complete SM context, during scenarios with an I-SMF or V-SMF insertion/change/removal, or during SMF Context Transfer procedure for LBO or non-roaming PDU session without I-SMF (see clause 4.26.5.3 of 3GPP TS 23.502 [3]).\nThis IE shall also be present if this is a request to retrieve the AF Coordination Information during the change of SSC mode 3 PDU Session Anchor with multiple PDU Sessions, if the runtime coordination between old SMF and AF is enabled (see clause 4.3.5.2 of 3GPP TS 23.502 [3]).\nDTSSA, CTXTR\nEnEDGE\nservingNetwork\nPlmnId\nC\n0..1\nThis IE shall be present when the procedure is triggered by a new V-SMF, if the new V-SMF supports inter-PLMN V-SMF change or insertion.\nThis IE shall also be present during the procedure with an I-SMF insertion.\nWhen present, this IE shall contain the serving core network operator PLMN ID of the NF Service Consumer (i.e. new V-SMF or new I-SMF).\nDTSSA\nnotToTransferEbiList\narray(EpsBearerId)\nC\n1..N\nThis IE shall be present, if the SM context type IE is absent or indicate a request to retrieve the EPS PDN connection, and the AMF determines that certain EPS bearers shall not to be transferred to EPS during a 5GS to EPS mobility procedure, as specified in clause 4.11.1 of 3GPP TS 23.502 [3]. When present, it shall contain the EBI list not to be transferred.\nranUnchangedInd\nboolean\nC\n0..1\nThis IE shall be present if AN Tunnel is required, in scenario of I-SMF/V-SMF change/insertion during registration procedure after EPS to 5GS handover or I-SMF selection per DNAI, when UE is in CM-CONNECTED state (see clause 5.2.2.6.1).\nWhen present, it shall be set as follows:\n-\ttrue: NG-RAN is not changed and the tunnel information is required;\n-\tfalse (default):NG-RAN is changed and the tunnel information is not required.\nDTSSA\nhrsboSupportInd\nboolean\nC\n0..1\nThis IE shall be present if the procedure is triggered by a new V-SMF which supports the HR-SBO feature.\nWhen present, it shall be set as follows:\n-\ttrue: HR-SBO is supported;\n-\tfalse (default): HR-SBO is not supported.\nstoredOffloadIds\narray(OffloadIdentifier)\nC\n1...N\nThe IE shall be present when the target V-SMF has a list of the stored offload identifiers for the HPLMN of the PDU session from previous procedures (for the same or different PDU sessions) with the HPLMN.\nWhen present, this IE shall contain the list of offload identifiers known by the target V-SMF for the HPLMN of the PDU session.\n(NOTE)\nHR-SBO\nNOTE:\tThe stored VPLMN Offload identifiers shall be included in any subsequent request message to the source V-SMF for other HR-PDU sessions.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.502_clause_4.26.5.3",
        "ts_23.502_clause_4.3.5.2",
        "ts_23.502_clause_4.11.1",
        "clause_5.2.2.6.1",
        "table_6.1.6.2.7-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.8",
      "section_id": "6.1.6.2.8",
      "section_title": "Type: SmContextStatusNotification",
      "content": "Table 6.1.6.2.8-1: Definition of type SmContextStatusNotification\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nstatusInfo\nStatusInfo\nM\n1\nThis IE shall contain status information about the SM context.\nsmallDataRateStatus\nSmallDataRateStatus\nC\n0..1\nThis IE shall be present, if the NF Service Consumer has indicated support of CIoT and if the status is available.\nWhen present, it shall indicate the current small data rate control status for the PDU session.\nCIOT\napnRateStatus\nApnRateStatus\nC\n0..1\nThis IE shall be present, if the NF Service Consumer has indicated support of CIoT and if the status is available.\nWhen present, it shall indicate the current APN rate control status for the PDN connection (APN rates are shared by all PDN connections of the UE to this APN).\nCIOT\nddnFailureStatus\nboolean\nC\n0..1\nThis IE shall be present if the DDN Failure shall be reported (see clause 5.2.8.2.8 of 3GPP TS 23.502 [3]).\nWhen present, it shall be set as follows:\n- true: DDN failure detected\n- false (default): DDN failure is not detected\nCIOT\nnotifyCorrelationIdsForddnFailure\narray(string)\nC\n1..N\nThis IE shall be present if the DDN Failure shall be reported.\nWhen present, it shall contain the notification correlation Id(s) of the DDN failure subscriptions for which a DDN failure has been detected. This parameter can be useful if the NF service consumer has multiple subscriptions for the same PDU session.\nCIOT\nnewIntermediateSmfId\nNfInstanceId\nC\n0..1\nThis IE may be present for a PDU session with an I-SMF or V-SMF, if the resourceStatus attribute in statusInfo is set to \"UPDATED\" and the cause in statusInfo is set to \"CHANGED_INTERMEDIATE_SMF\".\nWhen present, it shall include the NF instance identifier of the new intermediate SMF when it is changed within an SMF set.\nES3XX\nnewSmfId\nNfInstanceId\nC\n0..1\nThis IE may be present if resourceStatus in statusInfo is set to \"TRANSFERRED\".\nWhen present, it shall include:\n- the new I-SMF instance identifier if\nthe cause in statusInfo is \"ISMF_CONTEXT_TRANSFER\";\n- the new SMF instance identifier if the cause in statusInfo is \"SMF_CONTEXT_TRANSFER\".\nThis IE may also be present if the resourceStatus attribute in statusInfo is set to \"UPDATED\". When present, it shall include the NF instance identifier of the new H-SMF or SMF (for a PDU session with an I-SMF) handling the PDU session, when it is changed within an SMF set, if the cause in statusInfo is \"CHANGED_ANCHOR_SMF\".\nCTXTR\nES3XX\nnewSmfSetId\nNfSetId\nC\n0..1\nThis IE may be present if resourceStatus in statusInfo is:\n- TRANSFERRED\nWhen present, it shall include:\n- The new I-SMF set identifier if cause in statusInfo is \"ISMF_SERVICE_CONTEXT_TRANSFER\";\n- The new SMF set identifier if cause in statusInfo is \"SMF_SERVICE_CONTEXT_TRANSFER\".\nCTXTR\noldSmfId\nNfInstanceId\nC\n0..1\nThis IE shall be present if resourceStatus in statusInfo is:\n- TRANSFERRED\nWhen present, it shall include:\n- The old I-SMF instance identifier if cause in statusInfo is \"ISMF_CONTEXT_TRANSFER\";\n- The old SMF instance identifier if cause in statusInfo is \"SMF_CONTEXT_TRANSFER\".\nCTXTR\noldSmContextRef\nUri\nC\n0..1\nThis IE may be present if resourceStatus in statusInfo is:\n- TRANSFERRED\nWhen present, this IE shall include the identifier of the SM Context resource in the old I-SMF or SMF.\nThis IE may also be present if resourceStatus in statusInfo is \"UNCHANGED\", the SMF selection during PDU Session re-establishment for SSC mode 3 is needed and the runtime coordination between old SMF and AF is enabled. When present, this IE shall contain the URI of the SM Context resource in the old SMF with the structure: {apiRoot}/nsmf-pdusession/v1/sm-contexts/{smContextRef}.\nCTXTR\nEnEDGE\naltAnchorSmfUri\nUri\nC\n0..1\nThis IE shall be present if resourceStatus in statusInfo is:\n- ALT_ANCHOR_SMF\nWhen present, it shall contain the API URI of the alternative (H-)SMF towards which the PDU session is established.\nAASN\naltAnchorSmfId\nNfInstanceId\nC\n0..1\nThis IE may be present if resourceStatus in statusInfo is:\n- ALT_ANCHOR_SMF\nWhen present, it shall contain the NF Instance Id of the alternative (H-)SMF towards which the PDU session is established.\nAASN\ntargetDnaiInfo\nTargetDnaiInfo\nC\n0..1\nThis IE shall be present if the I-SMF selection or removal for the current PDU session, or SMF selection during PDU Session re-establishment for SSC mode 2/3 is needed, or if it is received from the SMF in Notify Status.\nWhen present, this IE shall include the target DNAI Information.\nEnEDGE\noldPduSessionRef\nUri\nC\n0..1\nThis IE shall be present if resourceStatus in statusInfo is \"UNCHANGED\", the SMF selection during PDU Session re-establishment for SSC mode 3 is needed and the runtime coordination between old SMF and AF is enabled.\nWhen present, this IE shall contain the URI of the PDU session resource in the old SMF. The URI shall be an absolute URI, including apiRoot (see clause 6.1.3.6.2).\nEnEDGE\ninterPlmnApiRoot\nUri\nC\n0..1\nThis IE should be present if the information has changed and, within the statusInfo IE, the resourceStatus IE is set to \"UPDATED\" and the cause IE set to \"CHANGED_INTERMEDIATE_SMF\".\nWhen present, it shall contain the apiRoot of the SM context to be used in inter-PLMN signalling request targeting the SM context.\ntargetDnai\nDnai\nC\n0..1\nThis IE shall be present if it is received from H-SMF in Update Request (see clause 6.7.3.2 of 3GPP TS 23.548 [74]).\nWhen present, this IE shall include the target DNAI.\nHR-SBO\nNOTE:\tIf resourceStatus in statusInfo is \"TRANSFERRED\", at least one of newSmfId and newSmfSetId shall be included.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.502_clause_5.2.8.2.8",
        "clause_6.1.3.6.2",
        "ts_23.548_clause_6.7.3.2",
        "table_6.1.6.2.8-1",
        "ts_23.502",
        "ts_23.548"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.9",
      "section_id": "6.1.6.2.9",
      "section_title": "Type: PduSessionCreateData",
      "content": "Table 6.1.6.2.9-1: Definition of type PduSessionCreateData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nsupi\nSupi\nC\n0..1\nThis IE shall be present, except if the UE is emergency registered and UICCless.\nWhen present, it shall contain the subscriber permanent identify.\nunauthenticatedSupi\nboolean\nC\n0..1\nThis IE shall be present if the SUPI is present in the message but is not authenticated and is for an emergency registered UE.\nWhen present, it shall be set as follows:\n- true: unauthenticated SUPI;\n- false (default): authenticated SUPI.\npei\nPei\nC\n0..1\nThis IE shall be present if the UE is emergency registered and it is either UIClless or the SUPI is not authenticated.\nFor all other cases, this IE shall be present if it is available.\nWhen present, it shall contain the permanent equipment identifier.\npduSessionId\nPduSessionId\nC\n0..1\nThis IE shall contain the PDU Session ID, except during an EPS to 5GS Idle mode mobility or handover using the N26 interface.\ndnn\nDnn\nM\n1\nThis IE shall contain the requested DNN. The DNN shall be the full DNN (i.e. with both the Network Identifier and Operator Identifier) for a HR PDU session, and it should be the full DNN in LBO and non-roaming scenarios. If the Operator Identifier is absent, the serving core network operator shall be assumed.\nselectedDnn\nDnn\nC\n0..1\nThis IE shall be present, if another DNN other than the UE requested DNN is selected for this PDU session.\nWhen present, it shall contain the selected DNN. The DNN shall be the full DNN (i.e. with both the Network Identifier and Operator Identifier) for a HR PDU session, and it should be the full DNN in LBO and non-roaming scenarios. If the Operator Identifier is absent, the serving core network operator shall be assumed.\nsNssai\nSnssai\nC\n0..1\nThis IE shall be present, except during an EPS to 5GS idle mode mobility or handover using the N26 interface.\nWhen present, it shall contain:\n-\tthe HPLMN S-NSSAI for a HR PDU session, which is mapped from the requested S-NSSAI by the VPLMN;\n-\tthe HPLMN S-NSSAI for a non-roaming PDU session with an I-SMF, if the Serving PLMN ID is not the same as the PLMN ID of the SUPI; or\n-\tthe requested S-NSSAI in the serving PLMN for a PDU session with an I-SMF for other scenarios.\naltSnssai\nSnssai\nC\n0..1\nThis IE shall be present during the PDU session establishment procedure if the NF service consumer supports the network slice replacement, and the network slice indicated in the sNssai IE is requested to be replaced. In this case, the NF service consumer shall send the S-NSSAI and the alternative S-NSSAI. See clause 5.15.19 of 3GPP TS 23.501 [2].\nNSRP\nhplmnSnssai\nSnssai\nC\n0..1\nThis IE shall be present for an LBO PDU session with an I-SMF, except during an EPS to 5GS idle mode mobility or handover using the N26 interface.\nWhen present, it shall contain the HPLMN S-NSSAI of the LBO PDU session, which is mapped from the requested S-NSSAI by the VPLMN.\nDTSSA\nvsmfId\nNfInstanceId\nC\n0..1\nThis IE shall be present for a HR PDU session. When present, it shall contain the identifier of the V-SMF.\nismfId\nNfInstanceId\nC\n0..1\nThis IE shall be present for a PDU session with an I-SMF. When present, it shall contain the identifier of the I-SMF.\nDTSSA\nservingNetwork\nPlmnIdNid\nM\n1\nThis IE shall contain the serving core network operator PLMN ID and, for an SNPN, the NID that together with the PLMN ID identifies the SNPN.\nrequestType\nRequestType\nC\n0..1\nThis IE shall be present if the Request type IE is received from the UE for a single access PDU session and if the request refers to an existing PDU session or an existing emergency PDU session. The requestType IE shall not be included for a MA-PDU session establishment request. It may be present otherwise.\nWhen present, it shall indicate whether the request refers to a new PDU session or emergency PDU session, or to an existing PDU session or emergency PDU session.\nFor request sent from AMF, this IE shall be set based on the requestType received.\nepsBearerId\narray(EpsBearerId)\nC\n1..N\nThis IE shall be present during an EPS to 5GS Idle mode mobility or handover preparation using the N26 interface.\nWhen present, it shall contain the list of EPS bearer Id(s) received from the MME.\npgwS8cFteid\nBytes\nC\n0..1\nThis IE shall be present during an EPS to 5GS Idle mode mobility or handover preparation using the N26 interface.\nWhen present, it shall contain Base64-encoded characters, encoding the PGW S8 F-TEID for Control Plane as specified in Figure 8.22-1 of 3GPP TS 29.274 [16] (starting from octet 1), received from the MME.\nvsmfPduSessionUri\nUri\nC\n0..1\nThis IE shall be present for a HR PDU session. When present, it shall include the callback URI representing the PDU session in the V-SMF.\nismfPduSessionUri\nUri\nC\n0..1\nThis IE shall be present for a PDU session with an I-SMF. When present, it shall include the callback URI representing the PDU session in the I-SMF.\nDTSSA\nvcnTunnelInfo\nTunnelInfo\nC\n0..1\nThis IE shall be present for a HR PDU session, except for:\n-\tan EPS to 5GS handover using N26 interface; and\n-\twhen Control Plane CIoT 5GS Optimisation is enabled and data delivery via NEF is selected for this PDU session.\nWhen present, this IE shall contain the DL N9 tunnel CN information of the visited CN side, i.e. V-UPF.\nicnTunnelInfo\nTunnelInfo\nC\n0..1\nThis IE shall be present for a PDU session involving an I-SMF, except for:\n-\tan EPS to 5GS handover using N26 interface with I-SMF insertion; and\n-\twhen Control Plane CIoT 5GS Optimisation is enabled and data delivery via NEF is selected for this PDU session.\nWhen present, this IE shall contain the DL N9 tunnel CN information of the I-UPF controlled by the I-SMF.\nDTSSA\nn9ForwardingTunnelInfo\nTunnelInfo\nC\n0..1\nThis IE shall be present during Service Request procedures with I-SMF insertion, if buffered DL data is available at the I-UPF that is controlled by the SMF (see clause 4.23.4 in 3GPP TS 23.502 [3]).\nWhen present, this IE shall contain the N9 tunnel information of\tthe I-UPF controlled by the I-SMF.\nDTSSA\nadditionalCnTunnelInfo\nTunnelInfo\nC\n0..1\nThis IE shall be present if a MA PDU session is requested or if the PDU session is allowed to be upgraded to a MA PDU session, and the UE is registered over both 3GPP access and Non-3GPP access.\nWhen present, it shall contain additional DL N9 tunnel CN information of the UPF controlled by the V-SMF or I-SMF.\nMAPDU\nanType\nAccessType\nM\n1\nThis IE shall indicate the Access Network Type to which the PDU session is to be associated.\nadditionalAnType\nAccessType\nC\n0..1\nThis IE shall indicate the additional Access Network Type to which the PDU session is to be associated.\nThis IE shall be present if a MA-PDU session is requested and the UE is registered over both 3GPP access and Non-3GPP access.\nMAPDU\nratType\nRatType\nC\n0..1\nThis IE shall be present and indicate the RAT Type used by the UE, if available.\nueLocation\nUserLocation\nC\n0..1\nThis IE shall contain the UE location information (see clause 5.2.3.4), if it is available. (NOTE 1)\nueTimeZone\nTimeZone\nC\n0..1\nThis IE shall contain the UE Time Zone, if it is available.\naddUeLocation\nUserLocation\nO\n0..1\nAdditional UE location.\nThis IE may be present, if anType indicates a non-3GPP access and a valid 3GPP access user location information is available.\nWhen present, it shall contain:\n-\tthe last known 3GPP access user location (see clause 5.2.3.4); and\n-\tthe timestamp, if available, indicating the UTC time when the addUeLocation information was acquired.\n(NOTE 1)\ngpsi\nGpsi\nC\n0..1\nThis IE shall be present if it is available. When present, it shall contain the user's GPSI.\nn1SmInfoFromUe\nRefToBinaryData\nC\n0..1\nThis IE shall be present if the V-SMF or I-SMF has received known N1 SM information from the UE that does not need to be interpreted by the V-SMF or I-SMF. When present, this IE shall reference the n1SmInfoFromUe binary data (see clause 6.1.6.4.4).\nunknownN1SmInfo\nRefToBinaryData\nC\n0..1\nThis IE shall be present if the V-SMF or I-SMF has received unknown N1 SM information from the UE. When present, this IE shall reference the unknownN1SmInfo binary data (see clause 6.1.6.4.4).\nsupportedFeatures\nSupportedFeatures\nC\n0..1\nThis IE shall be present if at least one feature defined in clause 6.1.8 is supported.\nhPcfId\nNfInstanceId\nO\n0..1\nThis IE may be used by V-SMF to indicate the home PCF selected by the AMF for the UE to the H-SMF, for a HR PDU session.\nWhen present, this IE shall contain the identifier of the H-PCF selected by the AMF for the UE (for UE Policy Control).\npcfId\nNfInstanceId\nO\n0..1\nThis IE may be used by I-SMF to indicate the (V-)PCF selected by the AMF for the UE to the SMF, for a PDU session with an I-SMF.\nWhen present, this IE shall contain the identifier of the PCF (for Access and Mobility Policy Control and/or UE Policy Control) in non-roaming scenarios, or the V-PCF (for Access and Mobility Policy Control) in LBO roaming scenarios.\nDTSSA\npcfGroupId\nNfGroupId\nO\n0..1\nThis IE may be present in non-roaming and HR roaming scenarios.\nWhen present, this IE shall contain the identity of the (home) PCF group serving the UE for Access and Mobility Policy and/or UE Policy.\npcfSetId\nNfSetId\nO\n0..1\nWhen present, it shall contain the NF Set ID of the H-PCF indicated by the hPcfId IE or the (V-)PCF indicated by the pcfId IE.\nhoPreparationIndication\nboolean\nC\n0..1\nThis IE shall be present during an EPS to 5GS handover preparation using the N26 interface or during N2 handover preparation with I-SMF insertion.\nWhen present, it shall be set as follows:\n- true: an EPS to 5GS handover preparation or N2 handover preparation with I-SMF is in progress; the PGW-C/SMF shall not switch the DL user plane of the PDU session yet.\n- false: there is no on-going EPS to 5GS handover preparation or N2 handover preparation with I-SMF in progress. If a handover preparation was in progress, the handover has been completed. The PGW-C/SMF shall switch the DL user plane of the PDU session using the N9 tunnel information that has been received in the vcnTunnelInfo or icnTunnelInfo.\nIt shall be set to \"true\" during an EPS to 5GS handover preparation using the N26 interface or during N2 handover preparation with I-SMF insertion.\nselMode\nDnnSelectionMode\nC\n0..1\nThis IE shall be present if it is available. When present, it shall be set to:\n-\t\"VERIFIED\", if the requested DNN provided by UE or the selected DNN provided by the network corresponds to an explicitly subscribed DNN; or\n-\t\"UE_DNN_NOT_VERIFIED\", if the requested DNN provided by UE corresponds to the usage of a wildcard subscription; or\n-\t\"NW_DNN_NOT_VERIFIED\", if the selected DNN provided by the network corresponds to the usage of a wildcard subscription.\nIf both the requested DNN (i.e. dnn IE) and selected DNN (i.e. selected Dnn IE) are present, the selMode shall be related to the selected DNN.\nalwaysOnRequested\nboolean\nC\n0..1\nThis IE shall be present and set to true if the UE requests to setup an always-on PDU session and this is allowed by local policy in the V-SMF or I-SMF.\nWhen present, it shall be set as follows:\n- true: request for an always-on PDU session\n- false (default): not a request for an always-on PDU session\nudmGroupId\nNfGroupId\nO\n0..1\nWhen present, it shall indicate the identity of the UDM group serving the UE.\nroutingIndicator\nstring\nO\n0..1\nWhen present, it shall indicate the Routing Indicator of the UE.\nhNwPubKeyId\ninteger\nO\n0..1\nWhen present, it shall indicate the Home Network Public Key Identifier of the UE. (NOTE 2)\nepsInterworkingInd\nEpsInterworkingIndication\nO\n0..1\nThis IE may be present if the indication has been received from AMF and is allowed to be forwarded to H-SMF by operator configuration.\nWhen present, this IE shall indicate whether the PDU session may possibly be moved to EPS or EPC/ePDG and whether N26 interface to be used during EPS interworking procedures.\nvSmfServiceInstanceId\nstring\nO\n0..1\nWhen present, this IE shall contain the serviceInstanceId of the V-SMF service instance serving the PDU session.\nThis IE may be used by the H-SMF to identify PDU sessions affected by a failure or restart of the V-SMF service (see clauses 6.2 and 6.3 of 3GPP TS 23.527 [24]).\niSmfServiceInstanceId\nstring\nO\n0..1\nWhen present, this IE shall contain the serviceInstanceId of I-SMF service instance serving the PDU session.\nThis IE may be used by the SMF to identify PDU sessions affected by a failure or restart of the I-SMF service (see clauses 6.2 and 6.3 of 3GPP TS 23.527 [24]).\nDTSSA\nrecoveryTime\nDateTime\nO\n0..1\nTimestamp (in UTC) when the V-SMF or I-SMF service instance serving the PDU session was (re)started (see clause 6.3 of 3GPP TS 23.527 [24]).\nroamingChargingProfile\nRoamingChargingProfile\nO\n0..1\nRoaming Charging Profile applicable in the VPLMN (see clauses 5.1.9.1, 5.2.1.7 and 5.2.2.12.2 of 3GPP TS 32.255 [25]).\nchargingId\nstring\nO\n0..1\nCharging ID (see clauses 5.1.9.1 of 3GPP TS 32.255 [25]).\nThe string shall encode the Charging ID (32-bit unsigned integer value, with maximum value \"4294967295\") in decimal representation.\nPattern: '^(0|([1-9]{1}[0-9]{0,9}))$'\n(NOTE 4)\nsmfChargingId\nSmfChargingId\nC\n0..1\nString based Charging ID (see 3GPP TS 32.255 [25]).\nThis IE shall be present when the chargingId IE is present and the \"SCID\" feature is supported by both SMFs. If the V-SMF cannot determine, during a HR PDU session establishment, whether the H-SMF supports the SCID feature (e.g. if the AMF did not indicate the features supported by the anchor SMF), the V-SMF shall include this IE and determine, upon receiving the response from the H-SMF, whether the H-SMF supports the SCID feature and then act accordingly (e.g. only use the Charging ID if the H-SMF does not support the String based Charging ID).\nWhen present, this IE shall encode the String based Charging ID of the PDU session and the base Charging ID segment shall be idential to the value carried in the chargingId IE.\nSCID\noldPduSessionId\nPduSessionId\nC\n0..1\nThis IE shall be present if this information is received from the UE and the same SMF is selected for SSC mode 3.\nWhen present, it shall contain the old PDU Session ID received from the UE. See clauses 4.3.2.2.1 and 4.3.5.2 of 3GPP TS 23.502 [3].\nepsBearerCtxStatus\nEpsBearerContextStatus\nC\n0..1\nThis IE shall be present during an EPS to 5GS idle mode mobility using the N26 interface, if received in the Create SM Context request.\nWhen present, it shall be set to the value received in the Create SM Context request.\namfNfId\nNfInstanceId\nC\n0..1\nThis IE shall be present if it is received in the Create SM Context request, unless the PDU session is related to regulatory prioritized service.\nWhen present, it shall contain the identifier of the serving AMF.\nguami\nGuami\nC\n0..1\nThis IE shall be present if the amfNfId is present.\nWhen present, it shall contain the serving AMF's GUAMI.\nmaxIntegrityProtectedDataRateUl\nMaxIntegrityProtectedDataRate\nC\n0..1\nThis IE shall be present if it is available.\nWhen present, it shall indicate the maximum integrity protected data rate supported by the UE for uplink.\nmaxIntegrityProtectedDataRateDl\nMaxIntegrityProtectedDataRate\nC\n0..1\nThis IE shall be present if it is available.\nWhen present, it shall indicate the maximum integrity protected data rate supported by the UE for downlink.\ncpCiotEnabled\nboolean\nC\n0..1\nThis IE shall be present with the value \"True\" if the \"5gCiotCpEnabled\" attribute is received with \"True\" value in SM Context Create request, indicating the Control Plane CIoT 5GS Optimisation is enabled for the PDU session (see 3GPP TS 23.502 [3], clause 4.3.2.2.2).\nWhen present, it shall be set as follows:\n- True: Control Plane CIoT 5GS Optimisation is enabled.\n- False (default): Control Plane CIoT 5GS Optimisation is not enabled.\nCIOT\ncpOnlyInd\nboolean\nC\n0..1\nThis IE shall be present with the value \"True\", if the PDU session shall only use Control Plane CIoT 5GS Optimisation (see clause 5.31.4.1 of 3GPP TS 23.501 [2]).\nWhen present, it shall be set as follows:\n-\tTrue: the PDU session shall only use Control Plane CIoT 5GS Optimisation\n-\tFalse (default): the PDU session is not constrained to only use Control Plane CIoT 5GS Optimisation.\nCIOT\ninvokeNef\nboolean\nC\n0..1\nThis IE shall be present with value \"True\", if Control Plane CIoT 5GS Optimisation is enabled and data delivery via NEF is selected for the PDU session.\nWhen present, it shall be set as follows:\n-\tTrue: Data delivery via NEF is selected.\n-\tFalse (default): Data delivery via NEF is not selected.\nCIOT\nmaRequestInd\nboolean\nC\n0..1\nThis IE shall be present if a MA-PDU session is requested to be established by the UE.\nWhen present, it shall be set as follows:\n- True: a MA-PDU session is requested\n- False (default): a MA-PDU session is not requested\nMAPDU\nmaNwUpgradeInd\nboolean\nC\n0..1\nThis IE shall only be present if the PDU session is allowed to be upgraded to MA PDU session (see clause 4.22.3 of 3GPP TS 23.502 [3]).\nWhen present, it shall be set as follows:\n- True: the PDU session is allowed to be upgraded to MA PDU session\n- False (default): the PDU session is not allowed to be upgraded to MA PDU session\nWhen maRequestInd is present and set to \"true\", this IE shall not be present.\nMAPDU\ndnaiList\narray(Dnai)\nC\n1..N\nThis IE shall be present over N16a if an I-SMF is inserted into a PDU session during the following procedures: PDU session establishment, Registration, Service Request, Xn based handover, Inter NG-RAN node N2 based handover (see clause 4.23 of 3GPP TS 23.502 [3]).\nWhen present, it shall include the list of DNAIs supported by the I-SMF.\nDTSSA\npresenceInLadn\nPresenceState\nC\n0..1\nThis IE shall be present during Xn based handover with I-SMF insertion, if the DNN corresponds to a LADN.\nWhen present, it shall be set to \"IN\" or \"OUT\" to indicate that the UE is in or out of the LADN service area.\nDTSSA\nsecondaryRatUsageInfo\narray(SecondaryRatUsageInfo)\nO\n1..N\nThis IE may be present to report usage data for a secondary RAT for QoS flows and/or the whole PDU session.\nDTSSA\nsmallDataRateStatus\nSmallDataRateStatus\nC\n0..1\nThis IE shall be present if the small data rate control status is received from AMF, see clause 5.31.14.3 of 3GPP TS 23.501 [2] and clause 4.3.2.2.2 of 3GPP TS 23.502 [3].\nCIOT\napnRateStatus\nApnRateStatus\nC\n0..1\nThis IE shall be present, if the APN rate control status (APN rates are shared by all PDN connections of the UE to this APN) is received from the AMF, see clause 4.7.7.3 in 3GPP TS 23.401 [33] and clause 4.11.5.3 in 3GPP TS 23.502 [3].\nCIOT\ndlServingPlmnRateCtl\ninteger\nC\n0..1\nThis IE shall be present if Serving PLMN Rate Control for downlink data packets is enabled in the PLMN and Control Plane CIoT 5GS Optimisation is enabled for the PDU session.\nWhen present, this IE shall contain the maximum allowed number of Downlink NAS Data PDUs per deci hour of the serving PLMN, as specified in clause 5.31.14.2 of 3GPP TS 23.501 [2].\nMinimum: 10\nCIOT\nupSecurityInfo\nUpSecurityInfo\nC\n0..1\nThis IE shall be present if received from NG-RAN during Xn handover procedure with I-SMF Insertion (see clause 5.2.2.7.5).\nWhen present, this IE shall contain the User Plane Security Information associated to the PDU session. See clause 9.3.1.60 of 3GPP TS 38.413 [9].\nDTSSA\nvplmnQos\nVplmnQos\nC\n0..1\nThis IE shall be present for a HR PDU session, if the V-SMF supports the VQOS feature and if VPLMN QoS constraints are required for the PDU session.\nWhen present, this IE shall contain the QoS constraints from the VPLMN.\nVQOS\noldSmContextRef\nUri\nC\n0..1\nThis IE shall be present, if it is received in the Create SM Context request.\nWhen present, this IE shall contain the identifier of the SM Context resource in the old SMF.\nEnEDGE\nredundantPduSessionInfo\nRedundantPduSessionInformation\nC\n0..1\nThis IE shall be present for a PDU session with an I-SMF, if an RSN and/or PDU Session Pair ID was received from the UE.\nDCE2ER\noldPduSessionRef\nUri\nC\n0..1\nThis IE shall be present, if it is received in the Create SM Context request.\nWhen present, this IE shall contain the URI of the PDU session resource in the old SMF. The URI shall be an absolute URI, including apiRoot (see clause 6.1.3.6.2).\nEnEDGE\nsmPolicyNotifyInd\nboolean\nC\n0..1\nThis IE shall be included by I-SMF to SMF, if received from AMF.\nWhen present, this IE shall indicate whether the SM Policy Association Establishment and Termination events shall be reported for the PDU session by the PCF for the SM Policy to the PCF for the UE:\n- true: SM Policy Association Establishment and Termination events shall be reported\n- false (default): SM Policy Association Establishment and Termination events is not required\n(NOTE 3)\nSPAE\npcfUeCallbackInfo\nPcfUeCallbackInfo\nC\n0..1\nThis IE shall be present when the smPolicyNotifyInd IE is present with value true.\nWhen present, this IE shall contain the callback information of the PCF for the UE to receive SM Policy Association Establishment and Termination events notification from the PCF for the SM Policy. (NOTE 3)\nSPAE\nsatelliteBackhaulCat\nSatelliteBackhaulCategory\nO\n0..1\nThis IE may be present if the V-SMF/I-SMF supports the 5GSAT feature and the satelliteBackhaulCat IE has been received from the AMF.\nWhen present, this IE shall indicate the value received from the AMF.\n5GSAT\nupipSupported\nboolean\nC\n0..1\nThis IE shall be present during the PDU session establishment procedure if the UE supports User Plane Integrity Protection with EPS and if the AMF supports the related functionality. It may be present otherwise. When present, this IE shall be set as follows:\n- true: User Plane Integrity Protection with EPS is supported;\n- false (default): User Plane Integrity Protection with EPS is not supported.\nUPIPE\nupCnxState\nUpCnxState\nC\n0..1\nThis IE shall be present to indicate that the User Plane resource for the PDU session is going to be established by the I-SMF/V-SMF, during a service request procedure with I-SMF/V-SMF insertion (see clause 4.23.4.3 of 3GPP TS 23.502 [3]).\nWhen present, this IE shall be set as specified in clause 5.2.2.7.6.\ndisasterRoamingInd\nboolean\nO\n0..1\nThis IE may be set during the PDU session establishment or a V-SMF insertion procedure when the V-SMF is indicated by the AMF that the UE is registered for Disaster Roaming service. When present, this IE shall be set as follows:\n-\ttrue: the UE is registered for Disaster Roaming service\n-\tfalse (default): the UE is not registered for Disaster Roaming service\nhrsboInfo\nHrsboInfoFromVplmn\nC\n0..1\nThis IE shall be present in HR roaming scenarios if the V-SMF requests HR SBO authorization.\nWhen present, this IE shall Include the information for HR-SBO.\nHR-SBO\necsAddrConfigInfos\narray(EcsAddrConfigInfo)\nC\n1..N\nThis IE shall be included by V-SMF to SMF, if received from NEF.\nWhen present, this IE shall contain the ECS Address Configuration Information Parameters. See 3GPP TS 23.548 [39].\nHR-SBO\npduSetSupportInd\nboolean\nC\n0..1\nThis IE shall be included by I-SMF to SMF for a PDU session with an I-SMF if the NG-RAN has indicated it supports the PDU Set based handling during a Xn based inter NG-RAN handover with the I-SMF insertion.\nWhen present, this IE shall indicate whether the PDU Set based handling is supported by the NG-RAN:\n-\ttrue: the PDU Set based handling is supported\n-\tfalse(default): the PDU Set based handling is not supported\nPDUSH\necnMarkingCongestionInfoStatus\narray(EcnMarkingCongestionInfoStatus)\nC\n1..N\nThis IE shall be present when the V/I-SMF receives the ECN Marking or Congestion Monitoring Reporting Status during an I/V-SMF insertion procedure, e.g. during an N2 based handover or an Xn based handover.\nWhen present, this IE shall contain a list of QoS flows with status for QoS monitoring for congestion information or for ECN marking for L4S.\nEMECI\nNOTE 1:\tIn shared networks, the PLMN ID that is communicated in this IE shall be that of the selected Core Network Operator.\nNOTE 2:\tIf present, this attribute shall be used together with routingIndicator. This attribute is only used by the HPLMN in roaming scenarios.\nNOTE 3:\tIf the smPolicyNotifyInd IE is received with the value \"true\", the SMF shall forward the callback information of the PCF for the UE to the PCF for SM Policy during SM Policy Association Establishment. See clause 4.3.2.2.1 of 3GPP TS 23.502 [3].\nNOTE 4:\tUsage of Charging ID with Uint32 value for roaming scenarios may lead to Charging ID collision between SMFs.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.501_clause_5.15.19",
        "ts_23.502_clause_4.23.4",
        "clause_5.2.3.4",
        "clause_6.1.6.4.4",
        "clause_6.1.8",
        "ts_23.527_clause_6.3",
        "ts_23.502_clause_4.3.2.2.2",
        "ts_23.501_clause_5.31.4.1",
        "ts_23.502_clause_4.22.3",
        "ts_23.502_clause_4.23",
        "ts_23.501_clause_5.31.14.3",
        "ts_23.501_clause_4.3.2.2.2",
        "ts_23.401_clause_4.7.7.3",
        "ts_23.401_clause_4.11.5.3",
        "ts_23.501_clause_5.31.14.2",
        "clause_5.2.2.7.5",
        "ts_38.413_clause_9.3.1.60",
        "clause_6.1.3.6.2",
        "ts_23.502_clause_4.23.4.3",
        "clause_5.2.2.7.6",
        "ts_23.502_clause_4.3.2.2.1",
        "table_6.1.6.2.9-1",
        "ts_29.274_figure_8.22-1",
        "ts_23.501",
        "ts_29.274",
        "ts_23.502",
        "ts_23.527",
        "ts_32.255",
        "ts_23.401",
        "ts_38.413",
        "ts_23.548"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.10",
      "section_id": "6.1.6.2.10",
      "section_title": "Type: PduSessionCreatedData",
      "content": "Table 6.1.6.2.10-1: Definition of type PduSessionCreatedData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\npduSessionType\nPduSessionType\nM\n1\nThis IE shall indicate the selected PDU type.\nsscMode\nstring\nM\n1\nThis IE shall indicate the SSC mode applicable to the PDU session.\nWhen present, it shall be encoded as one character in hexadecimal representation, taking a value of \"0\" to \"7\", representing the 3 bits of the SSC mode value of the SSC mode IE specified in clause 9.11.4.16 of 3GPP TS 24.501 [7].\nPattern: \"^[0-7]$\"\nExample: SSC mode 3 shall be encoded as \"3\".\n(NOTE 1).\nhcnTunnelInfo\nTunnelInfo\nC\n0..1\nThis IE shall be present for a HR PDU session, except when Control Plane CIoT 5GS Optimisation is enabled and data delivery via NEF is selected for this PDU session.\nWhen present, this IE shall contain the UL N9 tunnel CN information of the home CN side, i.e. H-UPF.\ncnTunnelInfo\nTunnelInfo\nC\n0..1\nThis IE shall be present for a PDU session involving an I-SMF, except when Control Plane CIoT 5GS Optimisation is enabled and data delivery via NEF is selected for this PDU session.\nWhen present, this IE shall contain the UL N9 tunnel CN information of\tthe PSA UPF.\nDTSSA\nadditionalCnTunnelInfo\nTunnelInfo\nC\n0..1\nThis IE shall be present if a MA-PDU session is established for a UE registered over both 3GPP access and Non-3GPP access.\nWhen present, it shall contain additional UL N9 tunnel CN information of the UPF controlled by the H-SMF or SMF.\nMAPDU\nsessionAmbr\nAmbr\nC\n0..1\nThis IE shall be present, except when Control Plane CIoT 5GS Optimisation is enabled for the PDU session.\nWhen present, this IE shall contain the Session AMBR granted to the PDU session.\nqosFlowsSetupList\narray(QosFlowSetupItem)\nC\n1..N\nThis IE shall be present, except when Control Plane CIoT 5GS Optimisation is enabled for the PDU session.\nWhen present, this IE shall contain the full set of QoS flow(s) to establish for the PDU session. It shall contain at least the Qos flow associated to the default Qos rule.\nIn V-SMF/I-SMF insertion scenarios where no QoS Rule(s) associated to a QoS flow can or need to be sent to the UE, the qosRules attribute of the QosFlowSetupItem may be set to an empty string or to the latest QoS Rule(s) associated to the QoS flow. (NOTE 3)\nhSmfInstanceId\nNfInstanceId\nC\n0..1\nThis IE shall be present for a HR PDU session. When present, it shall contain the identifier of the home SMF.\nsmfInstanceId\nNfInstanceId\nC\n0..1\nThis IE shall be present for a PDU session with an I-SMF. When present, it shall contain the identifier of the SMF.\nDTSSA\npduSessionId\nPduSessionId\nC\n0..1\nThis IE shall be present during an EPS to 5GS Idle mode mobility or handover preparation using the N26 interface.\nWhen present, it shall be set to the PDU Session ID.\nsNssai\nSnssai\nC\n0..1\nThis IE shall be present during an EPS to 5GS Idle mode mobility or handover using the N26 interface.\nWhen present, it shall contain:\n-\tthe S-NSSAI assigned to the PDU session in the Home PLMN, for a HR PDU session;\n-\tthe S-NSSAI assigned to the PDU session in the serving PLMN, for a PDU session with an I-SMF. The Snssai shall overwrite the S-NSSAI earlier stored in I-SMF, if they are different.\nadditionalSnssai\nSnssai\nC\n0..1\nThis IE shall be present during an EPS to 5GS Idle mode mobility or handover using the N26 interface for LBO roaming case.\nWhen present, this IE shall indicate the associated S-NSSAI in HPLMN for the PDU Session.\nenablePauseCharging\nboolean\nC\n0..1\nThis IE shall be present, based on operator's policy, to enable the use of Pause of Charging for the PDU session (see clause 4.4.4 of 3GPP TS 23.502 [3]).\nWhen present, it shall be set as follows:\n- true: enable Pause of Charging;\n- false (default): disable Pause of Charging.\nueIpv4Address\nIpv4Addr\nC\n0..1\nThis IE shall be present if the SMF assigns a UE IPv4 address to the PDU session.\nueIpv6Prefix\nIpv6Prefix\nC\n0..1\nThis IE shall be present if the SMF assigns a UE IPv6 prefix to the PDU session.\nn1SmInfoToUe\nRefToBinaryData\nC\n0..1\nThis IE shall be present if the SMF needs to send N1 SM information to the UE that does not need to be interpreted by the V-SMF or I-SMF. When present, this IE shall reference the n1SmInfoToUe binary data (see clause 6.1.6.4.4).\nepsPdnCnxInfo\nEpsPdnCnxInfo\nC\n0..1\nThis IE shall be present if the PDU session may be moved to EPS during its lifetime.\nepsBearerInfo\narray(EpsBearerInfo)\nC\n1..N\nThis IE shall be present if the PDU session may be moved to EPS during its lifetime.\nsupportedFeatures\nSupportedFeatures\nC\n0..1\nThis IE shall be present if at least one feature defined in clause 6.1.8 is supported.\nmaxIntegrityProtectedDataRate\nMaxIntegrityProtectedDataRate\nC\n0..1\nThis IE shall be present if the upSecurity IE is present and indicates that integrity protection is preferred or required.\nWhen present, it shall indicate the maximum integrity protected data rate for uplink.\nIf the maxIntegrityProtectedDataRateDl IE is absent, this IE applies to both uplink and downlink.\n(NOTE 6)\nmaxIntegrityProtectedDataRateDl\nMaxIntegrityProtectedDataRate\nC\n0..1\nThis IE may be present if the upSecurity IE is present and indicates that integrity protection is preferred or required.\nWhen present, it shall indicate the maximum integrity protected data rate for downlink.\n(NOTE 6)\nalwaysOnGranted\nboolean\nC\n0..1\nThis IE shall be present if the alwaysOnRequested IE was received in the request or if the SMF determines, based on local policy, that the PDU session needs to be established as an always-on PDU session.\nWhen present, it shall be set as follows:\n- true: always-on PDU session granted.\n- false (default): always-on PDU session not granted.\ngpsi\nGpsi\nC\n0..1\nThis IE shall be present if no GPSI IE is provided in the request, e.g. for a PDU session moved from another access or another system, and the SMF knows that a GPSI is already associated with the PDU session.\nWhen present, it shall contain the user's GPSI associated with the PDU session.\nupSecurity\nUpSecurity\nO\n0..1\nWhen present, this IE shall indicate the security policy for integrity protection and encryption for the user plane of the PDU session.\nIf this IE is present, it shall not indicate that integrity protection is preferred or required, if the maxIntegrityProtectedDataRate IE is not present (e.g. if UE Integrity Protection Maximum Data Rate is not available in the SMF).\n(NOTE 6)\nroamingChargingProfile\nRoamingChargingProfile\nO\n0..1\nRoaming Charging Profile selected by the HPLMN (see clauses 5.1.9.1, 5.2.1.7 and 5.2.2.12.2 of 3GPP TS 32.255 [25]).\nhSmfServiceInstanceId\nstring\nO\n0..1\nWhen present, this IE shall contain the serviceInstanceId of the H-SMF service instance serving the PDU session, for a HR PDU session.\nThis IE may be used by the V-SMF to identify PDU sessions affected by a failure or restart of the H-SMF service (see clause 6.2 of 3GPP TS 23.527 [24]).\nsmfServiceInstanceId\nstring\nO\n0..1\nWhen present, this IE shall contain the serviceInstanceId of the SMF service instance serving the PDU session, for a PDU session with an I-SMF.\nThis IE may be used by the I-SMF to identify PDU sessions affected by a failure or restart of the SMF service (see clause 6.2 of 3GPP TS 23.527 [24]).\nDTSSA\nrecoveryTime\nDateTime\nO\n0..1\nTimestamp (in UTC) when the SMF service instance serving the PDU session was (re)started (see clause 6.3 of 3GPP TS 23.527 [24]).\ndnaiList\narray(Dnai)\nC\n1..N\nThis IE shall be present over N16a, if available and an I-SMF has been inserted into a PDU session, during the following procedures: PDU session establishment, Registration, Service Request, Xn based handover, Inter NG-RAN node N2 based handover (see clause 4.23 of 3GPP TS 23.502 [3]).\nWhen present, it shall include the list of DNAIs of interest for the PDU session for local traffic steering at the I-SMF.\nIf the I-SMF and the SMF support the DTSSA-Ext1 feature, when present, this IE should include the full list of DNAIs of interest for PDU session, including DNAIs that may not be supported by the I-SMF and excluding the ones supported by the Anchor SMF.\nDTSSA\nDTSSA-Ext1\nipv6MultiHomingInd\nboolean\nC\n0..1\nThis IE shall be present over N16a, if available and an I-SMF has been inserted into the PDU session during the following procedures: PDU session establishment, Registration, Service Request, Xn based handover, Inter NG-RAN node N2 based handover (see clause 4.23 of 3GPP TS 23.502 [3]).\nWhen present, it shall be set as follows:\n- true: IPv6 multi-homing is permitted.\n- false (default): IPv6 multi-homing is not allowed.\nDTSSA\nmaAcceptedInd\nboolean\nC\n0..1\nThis IE shall be present if a request to establish a MA PDU session was accepted or if a single access PDU session was upgraded into a MA PDU session (see clauses 4.22.2 and 4.22.3 of 3GPP TS 23.502 [3]).\nWhen present, it shall be set as follows:\n- true: MA PDU session\n- false (default): single access PDU session\nMAPDU\nhomeProvidedChargingId\nstring\nO\n0..1\nWhen present, this IE shall contain the Home provided Charging ID (see 3GPP TS 32.255 [25]).\nThis IE shall be present during an EPS to 5GS Idle mode mobility or Handover of a HR PDU session. (NOTE 5)\nThe string shall encode the Charging ID (32-bit unsigned integer value, with maximum value \"4294967295\") in decimal representation.\nPattern: '^(0|([1-9]{1}[0-9]{0,9}))$'\n(NOTE 8)\nhomeProvidedSmfChargingId\nSmfChargingId\nC\n0..1\nWhen present, this IE shall contain the Home provided String based Charging ID (see 3GPP TS 32.255 [25]).\nThis IE shall be present during an EPS to 5GS Idle mode mobility or Handover of a HR PDU session, if both the V-SMF and the H-SMF support the \"SCID\" feature.\n(NOTE 9)\nSCID\nnefExtBufSupportInd\nboolean\nC\n0..1\nThis IE shall be present with value \"true\", if NEF has indicated Extended Buffering Support for mobile terminated data in SMF-NEF connection establishment response.\nWhen present, this IE shall be set as following:\n- true:\tExtended Buffering supported by NEF\n- false (default): Extended Buffering not supported by NEF\nCIOT\nsmallDataRateControlEnabled\nboolean\nC\n0..1\nThis IE shall be present and set to \"true\" if small data rate control is applicable on the PDU session.\nWhen present, it shall be set as follows:\n-\ttrue: small data rate control is applicable.\n-\tfalse (default): small data rate control is not applicable.\nCIOT\nueIpv6InterfaceId\nstring\nC\n0..1\nThis IE shall be present if the H-SMF/SMF has assigned IPv6 interface identifier to the UE during the PDU session establishment for the Home-routed Roaming scenario or for a PDU session with an I-SMF.\nWhen present, it shall encode the UE IPv6 Interface Identifier to be used by the UE for its link-local address configuration with 16 hexadecimal digits.\nPattern: \"^[A-Fa-f0-9]{16}$\"\nipv6Index\nIpIndex\nC\n0..1\nThis IE shall be present if IPv6 Index has been received from PCF during SM Policy Creation. (NOTE 4)\nDTSSA\ndnAaaAddress\nIpAddress\nO\n0..1\nWhen present, this IE shall contain the address of DN-AAA server for UE IP Address allocation that has been received from UDM. (NOTE 4).\nDTSSA\nredundantPduSessionInfo\nRedundantPduSessionInformation\nC\n0..1\nThis IE shall be present for a PDU session with an I-SMF, if Dual Connectivity based end to end Redundant User Plane Paths shall apply as specified in clause 5.33.2.1 of 3GPP TS 23.501 [2], regardless of whether the redundantPduSessionInfo IE was received or not in the request. If an RSN and/or PDU Session Pair ID was received from the UE, the same RSN and/or PDU Session Pair ID shall be returned in the response; additionally, if either the RSN or PDU Session Pair ID was not received from the UE, the anchor SMF shall determine and also return an RSN or PDU Session Pair ID respectively in the response.\nDCE2ER\nnspuSupportInd\nboolean\nC\n0..1\nThis IE shall be present and set to \"true\" if enablePauseCharging is set to \"true\" and if the (H-)SMF and PSA UPF support Notify Start Pause of Charging via user plane feature as specified in clause 5.30 of 3GPP TS 29.244 [29].\nWhen present, it shall be set as follows:\n-\ttrue: Notify Start Pause of Charging via user plane feature is supported.\ninterPlmnApiRoot\nUri\nC\n0..1\nThis IE should be present if the PDU session may be subject to inter-PLMN mobility and different PDU session context URIs shall be used for intra-PLMN and inter-PLMN signaling requests targeting the PDU session context.\nWhen present, it shall contain the apiRoot of the PDU session context to be used in inter-PLMN signalling request targeting the PDU session context.\n(NOTE 7)\nintraPlmnApiRoot\nUri\nC\n0..1\nThis IE should be present if the PDU session may be subject to inter-PLMN mobility and different PDU session context URIs shall be used for intra-PLMN and inter-PLMN signaling requests targeting the PDU session context.\nWhen present, it shall contain the apiRoot of the PDU session context to be used in intra-PLMN signalling request targeting the PDU session context.\n(NOTE 7)\nudmGroupId\nNfGroupId\nO\n0..1\nThis IE may be present during an EPS to 5GS handover using the N26 interface procedure. When present, it shall indicate the identity of the UDM group serving the UE.\npcfGroupId\nNfGroupId\nO\n0..1\nThis IE may be present during an EPS to 5GS handover using the N26 interface procedure.\nWhen present, this IE shall contain the identity of the (home) PCF group serving the PDU session for Session Management policy.\nhrsboInfo\nHrsboInfoFromHplmn\nC\n0..1\nThis IE shall be present in HR roaming scenarios if the H-SMF supports the HR-SBO feature and it receives a request for HR-SBO.\nWhen present, this IE shall Include the information for HR-SBO.\nThe absence of this IE shall indicate that the HR-SBO is not allowed.\nHR-SBO\npendingUpdateInfoList\narray(PendingUpdateInfo)\nO\n1..N\nWhen present, this IE shall indicate the list of information that are not required to be updated in real-time to the (H-)SMF, i.e. the change of the listed information (e.g. UE location or Timezone) may be piggybacked in a subsequent essential update (e.g. to exchange the N1 message from the UE) to the (H-)SMF. The NF service consumer (i.e. I-SMF/V-SMF) should not trigger an Update to the (H-)SMF including only the change(s) of the listed information.\nNOTE 1:\tThis IE contains information that the V-SMF or I-SMF only needs to transfer to the UE (without interpretation). It is sent as a separate IE rather than within the n1SmInfoToUE binary data because the Selected SSC mode IE is defined as a \"V\" IE (i.e. without a Type field) in the NAS PDU Session Establishment Accept message.\nNOTE 2:\tIn scenarios with a V-SMF/I-SMF insertion, the V-SMF/I-SMF may receive in the Create Response some IEs it has already received during the earlier SM context retrieval from the SMF (e.g. due to the condition of presence of IEs in the Create Response). In such a case, the V-SMF/I-SMF shall overwrite the IEs earlier received with the new IEs received in the Create Response.\nNOTE 3:\tThe V-SMF/I-SMF shall ignore any QoS Rule(s) associated to a QoS flow received in PduSessionCreatedData during V-SMF/I-SMF insertion scenarios where no QoS Rule(s) can be sent to the UE, i.e. during Registration, Inter NG-RAN node N2 based handover, and EPS to 5GS Idle mode mobility/handover using N26 interface procedures with V-SMF/I-SMF insertion, or during Service Request and Xn based handover procedures with I-SMF insertion. In such scenarios, the (H-)SMF shall initiate a subsequent PDU session modification procedure if it needs to change the QoS Rules associated to the QoS flows.\nNOTE 4:\tThe I-SMF may use IPv6 index to assist in selecting how the IPv6 prefix is to be allocated for local PSA when IPv6 multi-homing is applied for the PDU session. If the IPv6 index indicates UE IP address allocation should be performed towards DN-AAA server, the DN-AAA server address may be included from the SMF to the I-SMF.\nNOTE 5:\tThe chargingId IE in SmContext (see clause 6.1.6.2.39) shall be set to the value received in the homeProvidedChargingId IE during an EPS to 5GS Idle mode mobility or Handover of a HR PDU session.\nNOTE 6:\tDuring inter-system mobility from EPS to 5GS, the UE Integrity Protection Maximum Data Rate is not available at the SMF during PDU Session Creation. The UE will provide UE Integrity Protection Maximum Data Rate to the network within a subsequent UE triggered PDU session modification procedure, as specified in clause 4.3.3.2 of 3GPP TS 23.502 [3].\nNOTE 7:\tDuring an inter-PLMN mobility, after retrieving the SM context from the old V-SMF, I-SMF or anchor SMF, the target V-SMF or I-SMF shall replace the apiRoot of the pduSessionRef with the interPlmnApiRoot (if available) if the anchor SMF is not in the target PLMN, or with the intraPlmnApiRoot (if available) otherwise. The Operator Identifier in the DNN indicates the PLMN ID of the anchor SMF.\nNOTE 8:\tUsage of Charging ID with Uint32 value for roaming scenarios may lead to Charging ID collision between SMFs.\nNOTE 9:\tThe smfChargingId IE in SmContext (see clause 6.1.6.2.39) shall be set to the value in the homeProvidedSmfChargingId IE if received from the H-SMF.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_24.501_clause_9.11.4.16",
        "ts_23.502_clause_4.4.4",
        "clause_6.1.6.4.4",
        "clause_6.1.8",
        "ts_23.527_clause_6.2",
        "ts_23.527_clause_6.3",
        "ts_23.502_clause_4.23",
        "ts_23.501_clause_5.33.2.1",
        "ts_29.244_clause_5.30",
        "clause_6.1.6.2.39",
        "ts_23.502_clause_4.3.3.2",
        "table_6.1.6.2.10-1",
        "ts_24.501",
        "ts_23.502",
        "ts_32.255",
        "ts_23.527",
        "ts_23.501",
        "ts_29.244"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.11",
      "section_id": "6.1.6.2.11",
      "section_title": "Type: HsmfUpdateData",
      "content": "Table 6.1.6.2.11-1: Definition of type HsmfUpdateData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nrequestIndication\nRequestIndication\nM\n1\nThis IE shall indicate the request type.\npei\nPei\nC\n0..1\nThis IE shall be present if it is available and has not been provided earlier to the H-SMF or SMF.\nWhen present, this IE shall contain the permanent equipment identifier.\nvcnTunnelInfo\nTunnelInfo\nC\n0..1\nThis IE shall be present if:\n-\tthe N9 tunnel information on the visited CN side provided earlier to the H-SMF has changed; or\n-\tduring an EPS to 5GS handover execution using N26 interface.\nWhen present, this IE shall contain the new N9 tunnel information on the visited CN side.\nicnTunnelInfo\nTunnelInfo\nC\n0..1\nThis IE shall be present if:\n-\tthe N9 tunnel information of the I-UPF for DL traffic provided earlier by the I-SMF to the SMF has changed; or\n-\tduring an EPS to 5GS handover execution using N26 interface with I-SMF insertion.\nWhen present, this IE shall contain the new N9 tunnel information of the I-UPF.\nDTSSA\nadditionalCnTunnelInfo\nTunnelInfo\nC\n0..1\nThis IE shall be present if additional N9 tunnel information provided earlier has changed, or if the UE requests to establish resources for a MA PDU session over the other access.\nWhen present, it shall contain additional N9 tunnel information of the UPF controlled by the V-SMF or I-SMF.\nMAPDU\nservingNetwork\nPlmnIdNid\nC\n0..1\nThis IE shall contain the serving core network operator PLMN ID, and, for an SNPN, the NID that together with the PLMN ID identifies the SNPN, if the serving network has changed.\nanType\nAccessType\nC\n0..1\nThis IE shall be present if the Access Network Type provided earlier to the H-SMF or SMF has changed, e.g. during a handover of the PDU session between 3GPP access and untrusted non-3GPP access (see clause 5.2.2.8.2.5).\nWhen present, this IE shall indicate the new Access Network Type to which the PDU session is to be associated.\nadditionalAnType\nAccessType\nC\n0..1\nThis IE shall indicate the additional Access Network Type to which the PDU session is to be associated.\nThis IE shall be present when the UE requests to establish resources for MA PDU session over the other access.\nMAPDU\nratType\nRatType\nC\n0..1\nThis IE shall be present and indicate the RAT Type used by the UE, if available, upon a change of RAT Type.\nueLocation\nUserLocation\nC\n0..1\nThis IE shall be present if it is available, the UE Location has changed and needs to be reported to the H-SMF or SMF.\nWhen present, this IE shall contain:\n-\tthe new UE location information (see clause 5.2.3.4); and\n-\tthe timestamp, if available, indicating the UTC time when the UeLocation information was acquired.\n(NOTE 1)\nueTimeZone\nTimeZone\nC\n0..1\nThis IE shall be present if it is available, the UE Time Zone has changed and needs to be reported to the H-SMF or SMF.\nWhen present, this IE shall contain the new UE Time Zone.\naddUeLocation\nUserLocation\nO\n0..1\nAdditional UE location.\nThis IE may be present, if anType indicates a non-3GPP access and a valid 3GPP access user location information is available.\nWhen present, it shall contain:\n-\tthe last known 3GPP access user location (see clause 5.2.3.4); and\n-\tthe timestamp, if available, indicating the UTC time when the addUeLocation information was acquired.\n(NOTE 1)\npauseCharging\nboolean\nC\n0..1\nThis IE shall be present if the H-SMF or SMF enabled the use of Pause Pause of Charging for the PDU session during the PDU session establishment and\nPause of Charging needs to be started or stopped (see clause 4.4.4 of 3GPP TS 23.502 [3]).\nWhen present, it shall be set as follows:\n- true: to Start Pause of Charging;\n- false: to Stop Pause of Charging.\npti\nProcedureTransactionId\nC\n0..1\nThis IE shall be present if the requestIndication indicates a UE requested PDU session modification or release. When present, it shall contain the PTI value received from the UE.\nn1SmInfoFromUe\nRefToBinaryData\nC\n0..1\nThis IE shall be present if the V-SMF or I-SMF has received known N1 SM information from the UE that does not need to be interpreted by the V-SMF or I-SMF. When present, this IE shall reference the n1SmInfoFromUe binary data (see clause 6.1.6.4.4).\n(NOTE 5)\nunknownN1SmInfo\nRefToBinaryData\nC\n0..1\nThis IE shall be present if the V-SMF or I-SMF has received unknown N1 SM information from the UE. When present, this IE shall reference the unknownN1SmInfo binary data (see clause 6.1.6.4.4).\nqosFlowsRelNotifyList\narray(QosFlowItem)\nC\n1..N\nThis IE shall be present if QoS flows have been released.\nThis IE shall also be present if QoS flow(s) have been rejected by the RAN or rejected by the V-SMF, during PDU session establishment procedure.\nqosFlowsVsmfRejectedList\narray(Qfi)\nO\n1..N\nThis IE may be present from V-SMF to H-SMF when qosFlowsRelNotifyList is present.\nWhen present, this IE shall include the QFIs of the QoS flows that were rejected by the V-SMF.\nWhen the H-SMF subsequently send N1 Message to the UE to remove the QoS rules and QoS Flow level QoS parameters associated with the rejected QoS Flow(s) as indicated in the qosFlowsRelNotifyList IE, the H-SMF should exclude the V-SMF rejected QoS flow(s). If all the rejected QoS flow(s) were rejected by the V-SMF, the H-SMF should skip the subsequent N1 message update to the UE.\nqosFlowsNotifyList\narray(QosFlowNotifyItem)\nC\n1..N\nThis IE shall be present if the QoS targets for GBR QoS flow(s) are not fulfilled anymore or when they are fulfilled again. For each GBR QoS flow indicated as not fulfilled anymore, the V-SMF/I-SMF may also indicate an alternative QoS profile which the NG-RAN currently fulfils in the currentQosProfileIndex IE or indicate that the NG-RAN cannot even fulfil the lowest alternative QoS profile.\nNotifyList\narray(PduSessionNotifyItem)\nC\n1..N\nDescription of notifications related to the PDU session.\nThis IE shall be present if the NG-RAN has established user plane resources for the PDU session that do not fulfil the User Plane Security Enforcement with a value Preferred, or when the user plane security enforcement is fulfilled again.\nThis IE shall also be present when the V-SMF or the I-SMF informs the (H-)SMF about a handover failure, if the PDU Session was rejected by the Target NG-RAN because the User Plane Security Enforcement is not supported in the Target NG-RAN and the User Plane Enforcement Policy indicates \"Required\" (see clauses 5.2.2.8.2.4 and 5.2.2.8.2.12).\nWhen present, this IE shall include the notification cause \"UP_SEC_NOT_FULFILLED\" if at least one of the UP integrity protection or UP ciphering security enforcement is not fulfilled.\nIf the securityResult IE is present in the message, it provides additional details on the security enforcement results.\n(NOTE 4)\nepsBearerId\narray(EpsBearerId)\nC\n0..N\nThis IE shall be present during an EPS to 5GS handover execution using the N26 interface.\nWhen present, it shall contain the list of EPS bearer Id(s) successfully handed over to 5GS. The array shall be empty if no resource was successfully allocated in 5GS for any PDU session.\nhoPreparationIndication\nboolean\nC\n0..1\nThis IE shall be present during an EPS to 5GS handover preparation and handover execution using the N26 interface or during N2 handover execution with I-SMF insertion.\nWhen present, it shall be set as follows:\n- true: an EPS to 5GS handover preparation or N2 handover preparation with I-SMF is in progress; the PGW-C/SMF shall not switch the DL user plane of the PDU session yet.\n- false: there is no on-going EPS to 5GS handover preparation or N2 handover preparation with I-SMF in progress. If a handover preparation was in progress, the handover has been completed. The PGW-C/SMF shall switch the DL user plane of the PDU session using the N9 tunnel information that has been received in the vcnTunnelInfo or icnTunnelInfo.\nIt shall be set to \"true\" during an EPS to 5GS handover preparation using the N26 interface.\nIt shall be set to \"false\" during an EPS to 5GS handover execution using the N26 interface or during N2 handover execution with I-SMF insertion.\nrevokeEbiList\narray(EpsBearerId)\nC\n1..N\nThis IE shall be present to request the H-SMF or SMF to revoke some EBIs (see clause 4.11.1.4.1 of 3GPP TS 23.502 [3]). When present, it shall contain the EBIs to revoke.\ncause\nCause\nC\n0..1\nThis IE shall be present and set as specified in clause 5.2.2.8.2.6 during P-CSCF restoration procedure, clause 5.2.2.8.2.3 during 5G-AN requested PDU session resource release procedure and clause 5.2.2.3.26 during AMF requested PDU Session Release due to Network Slice instance not available.\nWhen present, this IE shall indicate the NF Service Consumer cause of the requested modification.\nngApCause\nNgApCause\nC\n0..1\nThe V-SMF or I-SMF shall include this IE if it received it from the 5G-AN and, for a HR PDU session, if this information is permitted to be sent to the H-SMF operator according to the V-SMF operator's policy. When present, this IE shall indicate the NGAP cause for the requested modification.\n5gMmCauseValue\n5GMmCause\nC\n0..1\nThe V-SMF or I-SMF shall include this IE if it received it from the AMF and, for a HR PDU session, if this information is permitted to be sent to the H-SMF operator according to the V-SMF operator's policy.\nalwaysOnRequested\nboolean\nC\n0..1\nThis IE shall be present and set to true if the UE requests to change the PDU session to an always-on PDU session and this is allowed by local policy in the V-SMF or I-SMF.\nWhen present, it shall be set as follows:\n- true: request for an always-on PDU session\n- false (default): not a request for an always-on PDU session\nepsInterworkingInd\nEpsInterworkingIndication\nO\n0..1\nThis IE may be present if the indication has been received from AMF and, for a HR PDU session, it is allowed to be forwarded to H-SMF by operator configuration.\nWhen present, this IE shall indicate whether the PDU session may possibly be moved to EPS or EPC/ePDG and whether N26 interface to be used during EPS interworking procedures.\nsecondaryRatUsageReport\narray(SecondaryRatUsageReport)\nO\n1..N\nThis IE may be present to report usage data for a secondary RAT for QoS flows.\n(NOTE 2)\nsecondaryRatUsageInfo\narray(SecondaryRatUsageInfo)\nO\n1..N\nThis IE may be present to report usage data for a secondary RAT for QoS flows and/or the whole PDU session.\nanTypeCanBeChanged\nboolean\nC\n0..1\nThis IE shall be present and set to true to indicate that the Access Network Type associated to the PDU session can be changed (see clause 5.2.2.8.2.2), during a Service Request procedure (see clauses 4.2.3.2 and 4.3.3.3 of 3GPP TS 23.502 [3])), in response to paging or NAS notification indicating non-3GPP access, when the PDU Session for which the UE was paged or notified is in the List Of Allowed PDU Sessions provided by the UE, and the AMF received N2 SM Information only or N1 SM Container and N2 SM Information from the SMF in step 3a of clause 4.2.3.3 of 3GPP TS 23.502 [3].\nWhen present, it shall be set as follows:\n- true: the access type of the PDU session can be changed.\n- false (default): the access type of the PDU session cannot be changed.\nmaReleaseInd\nMaReleaseIndication\nC\n0..1\nThis IE shall be present if a MA PDU session is requested to be released over a single access, in the following cases:\n- when UE/AMF/V-SMF initiates MA PDU session release over one access; or\n- when UE deregisters from one access.\nWhen present, it shall indicate the access to be released.\nMAPDU\nmaNwUpgradeInd\nboolean\nC\n0..1\nThis IE shall be present if the PDU session is allowed to be upgraded to MA PDU session (see clause 6.4.2.2 of 3GPP TS 24.501 [7]).\nWhen present, it shall be set as follows:\n- true: the PDU session is allowed to be upgraded to MA PDU session\n- false (default): the PDU session is not allowed to be upgraded to MA PDU session\nMAPDU\nmaRequestInd\nboolean\nC\n0..1\nThis IE shall be present if a MA-PDU session is requested to be established (see clause 4.22.6.3 of 3GPP TS 23.502 [3]).\nWhen present, it shall be set as follows:\n- true: a MA-PDU session is requested\n- false (default): a MA-PDU session is not requested\nMAPDU\nunavailableAccesslnd\nUnavailableAccessIndication\nC\n0..1\nThis IE shall be present if an access of a MA-PDU session is unavailable (see clause 4.22.7 of 3GPP TS 23.502 [3]).\nWhen present, it shall indicate the access that is unavailable.\nMAPDU\npsaInfo\narray(PsaInformation)\nC\n1..N\nThis IE shall be present, for a PDU session with an I-SMF, if one or more PSAs UPF are inserted and/or removed by the I-SMF.\nDTSSA\nulclBpInfo\nUlclBpInformation\nC\n0..1\nThis IE shall be present, for a PDU session with an I-SMF, if an UL CL or BP UPF separate from the local PSA is inserted.\nDTSSA\nn4Info\nN4Information\nO\n0..1\nThis IE may be present if the I-SMF needs to send N4 information (e.g. traffic usage reporting) to the SMF for traffic offloaded at a PSA controlled by an I-SMF.\nDTSSA\nn4InfoExt1\nN4Information\nO\n0..1\nThis IE may be present if the I-SMF needs to send additional N4 information (e.g. traffic usage reporting) to the SMF for traffic offloaded at a PSA controlled by an I-SMF.\nDTSSA\nn4InfoExt2\nN4Information\nO\n0..1\nThis IE may be present if the I-SMF needs to send additional N4 information to the SMF (e.g. during a change of PSA).\nDTSSA\npresenceInLadn\nPresenceState\nC\n0..1\nThis IE shall be present during Xn based handover with I-SMF change, if the DNN corresponds to a LADN.\nWhen present, it shall be set to \"IN\" or \"OUT\" to indicate that the UE is in or out of the LADN service area.\nDTSSA\nvsmfPduSessionUri\nUri\nC\n0..1\nThis IE shall be present during any procedure when the V-SMF has changed, as specified in clause 4.23.4.3 of 3GPP TS 23.502 [3].\nWhen present, it shall include the callback URI representing the PDU session in the new V-SMF.\nDTSSA\nismfPduSessionUri\nUri\nC\n0..1\nThis IE shall be present during any procedure when the I-SMF has changed, as specified in clause 4.23.4.3 of 3GPP TS 23.502 [3].\nWhen present, it shall include the callback URI representing the PDU session in the new I-SMF.\nDTSSA\nvsmfId\nNfInstanceId\nC\n0..1\nThis IE shall be present during any procedure when the V-SMF has changed, as specified in clause 4.23.4.3 of 3GPP TS 23.502 [3].\nWhen present, it shall contain the identifier of the new V-SMF.\nDTSSA\nismfId\nNfInstanceId\nC\n0..1\nThis IE shall be present during any procedure when the I-SMF has changed, as specified in clause 4.23.4.3 of 3GPP TS 23.502 [3].\nWhen present, it shall contain the identifier of the new I-SMF.\nDTSSA\nvSmfServiceInstanceId\nstring\nO\n0..1\nThis IE may be present during any procedure when the V-SMF has changed, as specified in clause 4.23.4.3 of 3GPP TS 23.502 [3].\nWhen present, this IE shall contain the serviceInstanceId of the new V-SMF service instance serving the PDU session.\nThis IE may be used by the H-SMF to identify PDU sessions affected by a failure or restart of the V-SMF service (see clauses 6.2 and 6.3 of 3GPP TS 23.527 [24]).\nDTSSA\niSmfServiceInstanceId\nstring\nO\n0..1\nThis IE may be present during any procedure when the I-SMF has changed, as specified in clause 4.23.4.3 of 3GPP TS 23.502 [3].\nWhen present, this IE shall contain the serviceInstanceId of the new I-SMF service instance serving the PDU session.\nThis IE may be used by the SMF to identify PDU sessions affected by a failure or restart of the I-SMF service (see clauses 6.2 and 6.3 of 3GPP TS 23.527 [24]).\nDTSSA\ndlServingPlmnRateCtl\ninteger\nC\n0..1\nThe IE shall be present when the Serving PLMN Rate Control for Downlink data packets has changed since last update to the H-SMF (for HR PDU session) or SMF (for PDU sessions with an I-SMF).\nWhen present, this IE shall contain the maximum allowed number of Downlink NAS Data PDUs per deci hour of the serving PLMN, as specified in clause 5.31.14.2 of 3GPP TS 23.501 [2]. If Serving PLMN Rate Control is disabled, the IE shall be set to null value.\nMinimum: 10\nCIOT\ndnaiList\narray(Dnai)\nC\n1..N\nThis IE shall be present over N16a during UE Triggered Service Request procedure with I-SMF change, Xn based handover and Inter NG-RAN node N2 based handover with I-SMF change (see clauses 4.23.4.3, 4.23.11.3 and 4.23.7.3.3 in 3GPP TS 23.502 [3]).\nWhen present, it shall include the list of DNAIs supported by the new I-SMF.\nDTSSA\nsupportedFeatures\nSupportedFeatures\nC\n0..1\nThis IE shall be present if the vsmfId or the ismfId is present (i.e. during a change of V-SMF or I-SMF) and at least one feature defined in clause 6.1.8 is supported by the new V-SMF or I-SMF.\nIf this IE is absent when the vsmfId or the ismfId is present, the new V-SMF or I-SMF respectively shall be considered as not supporting any feature.\nroamingChargingProfile\nRoamingChargingProfile\nO\n0..1\nThis IE may be present during an inter-PLMN V-SMF change (including the inter-PLMN mobility from HPLMN with I-SMF to VPLMN). When present, it shall contain the Roaming Charging Profile applicable in the VPLMN (see clauses 5.1.9.1, 5.2.1.7 and 5.2.2.12.2 of 3GPP TS 32.255 [25]).\nmoExpDataCounter\nMoExpDataCounter\nC\n0..1\nThis IE shall be present if received from AMF.\nWhen present, this IE shall contain the MO Exception Data Counter.\nCIOT\nvplmnQos\nVplmnQos\nO\n0..1\nWhen present, this IE shall contain the VPLMN QoS to be applied to the QoS flow with default QoS of the PDU Session.\nVQOS\nsecurityResult\nSecurityResult\nC\n0..1\nThis IE shall be present if received from NG-RAN.\nWhen present, this IE shall contain the Security Result associated to the PDU session. See clause 9.3.1.59 of 3GPP TS 38.413 [9].\nupSecurityInfo\nUpSecurityInfo\nC\n0..1\nThis IE shall be present if received from NG-RAN during Xn handover procedure (see clause 5.2.2.8.2.16).\nWhen present, this IE shall contain the User Plane Security Information associated to the PDU session. See clause 9.3.1.60 of 3GPP TS 38.413 [9].\namfNfId\nNfInstanceId\nC\n0..1\nThis IE shall be present if it is received in the Update SM Context request.\nWhen present, it shall contain the identifier of the serving AMF.\nguami\nGuami\nC\n0..1\nThis IE shall be present if the amfNfId is present.\nWhen present, it shall contain the serving AMF's GUAMI.\nsecondaryRatUsageDataReportContainer\narray(SecondaryRatUsageDataReportContainer)\nC\n1..N\nThe IE shall be present during an EPS to 5GS handover procedure, if one or more instance of Secondary RAT Usage Data Report IE(s) are present and applicable to the PDU session.\nThe V-/I-SMF may determine to pass or not the information to the (H-)SMF based on operator policy;  if the V-/I-SMF determines to pass the information, the V-/I-SMF shall transparently forward this information to the (H-)SMF.\nWhen present, it shall contain Base64-encoded characters, encoding the Secondary RAT Usage Data Report in the Forward Relocation Complete Acknowledge message, as specified in Figure 8.132-1 of 3GPP TS 29.274 [16] (starting from octet 1).\nsmPolicyNotifyInd\nboolean\nC\n0..1\nThis IE shall be included by I-SMF to SMF, if it is received from AMF and it is not previously provided to the SMF.\nWhen present, this IE shall indicate that the SM Policy Association Establishment and Termination events shall be reported for the PDU session by the PCF for the SM Policy to the PCF for the UE:\n- true: SM Policy Association Establishment and Termination events shall be reported\n(NOTE 3)\nSPAE\npcfUeCallbackInfo\nPcfUeCallbackInfo\nC\n0..1\nThis IE shall be present when the smPolicyNotifyInd IE is present with value true.\nWhen present, this IE shall contain the callback information of the PCF for the UE to receive SM Policy Association Establishment and Termination events notification from the PCF for the SM Policy. (NOTE 3)\nSPAE\nsatelliteBackhaulCat\nSatelliteBackhaulCategory\nC\n0..1\nThis IE shall be present if the V-SMF/I-SMF and the anchor SMF supports the 5GSAT feature and:\n-\tthe satelliteBackhaulCat IE has been received from the AMF and there is a change of the satelliteBackhaulCat IE compared to what has been signalled earlier to the (H-)SMF (as determined from the SmContext); or\n-\tupon inter-AMF mobility (when a target AMF is taking over the control of the PDU session), the new AMF does not include the satelliteBackhaulCat IE and a satellite backhaul category had been signalled to the SMF (as determined from the SmContext).\nWhen present, this IE shall indicate the value received from the AMF or, in the latter case, the value \"NON_SATELLITE\" to indicate that there is no longer any satellite backhaul towards the new 5G AN serving the UE.\n5GSAT\nmaxIntegrityProtectedDataRateUl\nMaxIntegrityProtectedDataRate\nC\n0..1\nThis IE shall be present if received from the UE during PDU session modification procedure, see clause 4.3.3.2 of 3GPP TS 23.502 [3].\nWhen present, it shall indicate the maximum integrity protected data rate supported by the UE for uplink.\n(NOTE 5)\nmaxIntegrityProtectedDataRateDl\nMaxIntegrityProtectedDataRate\nC\n0..1\nThis IE shall be present if received from the UE during PDU session modification procedure, see clause 4.3.3.2 of 3GPP TS 23.502 [3].\nWhen present, it shall indicate the maximum integrity protected data rate supported by the UE for downlink.\n(NOTE 5)\nupCnxState\nUpCnxState\nC\n0..1\nThis IE shall be present to indicate the User Plane resource establishment status in the I-SMF/V-SMF, if an Update or Create request is required to be sent to the (H-)SMF before the User Plane resource for the PDU session is established during a service request procedure for a PDU session with an I-SMF/V-SMF (see clause 4.23.4.2 and clause 4.23.4.3 of 3GPP TS 23.502 [3]).\nWhen present, this IE shall be set as specified in clause 5.2.2.8.2.23.\necsAddrConfigInfos\narray(EcsAddrConfigInfo)\nC\n1..N\nThis IE shall be sent if the information is modified by the NEF.\nWhen present, this IE shall replace any earlier received ECS Address Configuration Information Parameters in SMF.\nHR-SBO\nhrsboInfo\nHrsboInfoFromVplmn\nC\n0..1\nThis IE shall be present in the following scenarios, for a HR PDU session, if the new V-SMF requests HR SBO authorization:\n-\tV-SMF insertion (i.e. H-PLMN to V-PLMN mobility); and\n-\tInter-PLMN V-SMF change (i.e. mobility between different V-PLMNs).\nThis IE shall also be present, for a HR PDU session, if the HR-SBO information signaled earlier by the V-SMF to the H-SMF needs to be changed, e.g. to signal a new V-EASDF IP address or the EAS IP Replacement capability of the new V-SMF upon a change of V-SMF.\nWhen present, this IE shall Include the information for HR-SBO as defined in clause 6.1.6.2.72.\nHR-SBO\naltSnssai\nSnssai\nC\n0..1\nThis IE shall be present when the PDU Session is to be transferred to an alternative S-NSSAI.\nWhen present, this IE shall indicate the alternative network slice to be used by the PDU session.\nSee clause 5.15.19 of 3GPP TS 23.501 [2].\nNSRP\nnsReplTerminInd\nboolean\nC\n0..1\nThis IE shall be present for a notification of termination of Network Slice Replacement, if the PDU Session is associated with the Alternative S-NSSAI and the replaced S-NSSAI is available again. The SMF shall transfer the PDU Session to the replaced S-NSSAI.\nWhen present, it shall be set as follows:\n- true: the network slice replacement is terminated\nThe presence of this IE with false value shall be prohibited.\nSee clause 5.15.19 of 3GPP TS 23.501 [2].\nNSRP\ndisasterRoamingInd\nboolean\nO\n0..1\nThis IE may be set if the V-SMF is indicated by the AMF that the UE is registered for Disaster Roaming service during a V-SMF change procedure. (NOTE 6)\nWhen present, this IE shall be set as follows:\n- true: the UE is registered for Disaster Roaming service\npduSetSupportInd\nboolean\nC\n0..1\nThis IE shall be included by I-SMF/V-SMF to SMF/H-SMF for a PDU session with an I-SMF or a Home-Routed PDU session if the support of the PDU Set based handling in the NG-RAN has been changed and during a V-SMF change.\n(NOTE 7)\nWhen present, this IE shall indicate whether the PDU Set based handling is supported by the NG-RAN:\n-\ttrue: the PDU Set based handling is supported\n-\tfalse: the PDU Set based handling is not supported\nPDUSH\necnMarkingCongestionInfoStatus\narray(EcnMarkingCongestionInfoStatus)\nC\n1..N\nThis IE shall be present:\n-\twhen the (target) V/I-SMF receives the ECN Marking or Congestion Monitoring Reporting Status from the (target) NG-RAN, e.g. during an PDU Session Establishment, an N2 based handover, an Xn based handover procedure, or an NG-RAN requested PDU Session Modification;\n-\tduring an N2 based handover or an Xn based handover procedure without V-SMF/ I-SMF change, when the V-SMF/I-SMF does not receive the ECN Marking or Congestion Monitoring Reporting Status from the target NG-RAN node, if QoS monitoring for congestion information or ECN marking for L4S was active before the handover, to report that QoS monitoring for congestion information and ECN marking for L4S are no longer active; and\n-\tduring an N2 based handover or an Xn based handover procedure with V-SMF/ I-SMF change, when the target V-SMF/I-SMF does not receive the ECN Marking or Congestion Monitoring Reporting Status, to report that QoS monitoring for congestion information and ECN marking for L4S are no longer active.\nWhen present, this IE shall contain a list of QoS flows with status for QoS monitoring for congestion information or for ECN marking for L4S.\nEMECI\nNOTE 1:\tIn shared networks, the PLMN ID that is communicated in this IE shall be that of the selected Core Network Operator.\nNOTE 2:\tAn SMF complying with this version of the specification should report secondary RAT usage using the secondaryRatUsageInfo attribute that replaces the secondaryRatUsageReport attribute.\nNOTE 3:\tIf the smPolicyNotifyInd IE is received with the value \"true\", the SMF shall forward the callback information of the PCF for the UE to the PCF for SM Policy if exists via SM Policy Association Modification. See clause 4.3.3.2 of 3GPP TS 23.502 [3].\nNOTE 4:\tThe attribute name does not follow the naming conventions specified in 3GPP TS 29.501 [5]. The attribute name is kept though as defined in the current specification for backward compatibility reason.\nNOTE 5:\tThe maxIntegrityProtectedDataRateUl and maxIntegrityProtectedDataRateDl IEs shall be ignored by the H-SMF or SMF if the Integrity protection maximum data rate in n1SmInfoFromUe IE is received.\nNOTE 6:\tThe H-SMF shall determine that the UE is not registered for Disaster Roaming service if the disasterRoamingInd is not present during a V-SMF change procedure.\nNOTE 7:\tThe (H-)SMF shall consider the PDU Set based handling is not supported if the pduSetSupportInd IE is absent during a V-SMF change.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.8.2.5",
        "clause_5.2.3.4",
        "ts_23.502_clause_4.4.4",
        "clause_6.1.6.4.4",
        "ts_23.502_clause_4.11.1.4.1",
        "clause_5.2.2.8.2.6",
        "clause_5.2.2.8.2.3",
        "clause_5.2.2.3.26",
        "clause_5.2.2.8.2.2",
        "ts_23.502_clause_4.2.3.3",
        "ts_24.501_clause_6.4.2.2",
        "ts_23.502_clause_4.22.6.3",
        "ts_23.502_clause_4.22.7",
        "ts_23.502_clause_4.23.4.3",
        "ts_23.501_clause_5.31.14.2",
        "clause_6.1.8",
        "ts_38.413_clause_9.3.1.59",
        "clause_5.2.2.8.2.16",
        "ts_38.413_clause_9.3.1.60",
        "ts_23.502_clause_4.3.3.2",
        "clause_4.23.4.2",
        "clause_5.2.2.8.2.23",
        "clause_6.1.6.2.72",
        "ts_23.501_clause_5.15.19",
        "table_6.1.6.2.11-1",
        "ts_29.274_figure_8.132-1",
        "ts_23.502",
        "ts_24.501",
        "ts_23.527",
        "ts_23.501",
        "ts_32.255",
        "ts_38.413",
        "ts_29.274",
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.12",
      "section_id": "6.1.6.2.12",
      "section_title": "Type: HsmfUpdatedData",
      "content": "Table 6.1.6.2.12-1: Definition of type HsmfUpdatedData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nn1SmInfoToUe\nRefToBinaryData\nC\n0..1\nThis IE shall be present if the H-SMF/SMF needs to send N1 SM information to the UE that does not need to be interpreted by the V-SMF/I-SMF. When present, this IE shall reference the n1SmInfoToUe binary data (see clause 6.1.6.4.4).\nn4Info\nN4Information\nO\n0..1\nThis IE may be present if the SMF needs to send N4 response information to the I-SMF (e.g. related with traffic usage reporting).\nDTSSA\nn4InfoExt1\nN4Information\nO\n0..1\nThis IE may be present if the SMF needs to send additional N4 response information to the I-SMF(e.g. related with traffic usage reporting).\nDTSSA\nn4InfoExt2\nN4Information\nO\n0..1\nThis IE may be present if the SMF needs to send additional N4 response information to the I-SMF (e.g. related with traffic usage reporting).\nDTSSA\ndnaiList\narray(Dnai)\nC\n1..N\nThis IE shall be present over N16a during UE Triggered Service Request procedure with I-SMF change, Xn based handover and Inter NG-RAN node N2 based handover with I-SMF change (see clauses 4.23.4.3, 4.23.11.3  and 4.23.7.3.3 in 3GPP TS 23.502 [3]).\nWhen present, it shall include the DNAI(s) of interest for this PDU Session.\nIf the I-SMF and the SMF support the DTSSA-Ext1 feature, when present, this IE should include the full list of DNAIs of interest for PDU session, including DNAIs that may not be supported by the I-SMF and excluding the ones supported by the Anchor SMF.\nDTSSA\nDTSSA-Ext1\nsupportedFeatures\nSupportedFeatures\nC\n0..1\nThis IE shall be present if the supportedFeatures IE was received in the request and at least one feature defined in clause 6.1.8 is supported by the updated PDU session resource.\nroamingChargingProfile\nRoamingChargingProfile\nO\n0..1\nThis IE may be present during an inter-PLMN V-SMF change (including the inter-PLMN mobility from HPLMN with I-SMF to VPLMN). When present, it shall contain the Roaming Charging Profile selected by the HPLMN (see clauses 5.1.9.1, 5.2.1.7 and 5.2.2.12.2 of 3GPP TS 32.255 [25]).\nhomeProvidedChargingId\nstring\nC\n0..1\nWhen present, this IE shall contain the Home provided Charging ID (see 3GPP TS 32.255 [25]).\nThis IE shall be present during a HPLMN to VPLMN mobility of a PDU session with I-SMF in HPLMN.\nThe string shall encode the Charging ID (32-bit unsigned integer value, with maximum value \"4294967295\") in decimal representation.\nPattern: '^(0|([1-9]{1}[0-9]{0,9}))$'\n(NOTE 3, NOTE 4)\nDTSSA\nhomeProvidedSmfChargingId\nSmfChargingId\nC\n0..1\nWhen present, this IE shall contain the Home provided String based Charging ID (see 3GPP TS 32.255 [25]).\nThis IE shall be present during a HPLMN to VPLMN mobility of a PDU session with I-SMF in HPLMN, if both the V-SMF and the H-SMF support the \"SCID\" feature. This IE shall also be included when the V-SMF changes, if the new V-SMF supports the \"SCID\" feature.\n(NOTE 5)\nDTSSA, SCID\nipv6MultiHomingInd\nboolean\nC\n0..1\nThis IE shall be present over N16a, if available and an I-SMF has been changed during the following procedures: Registration, Service Request, Xn based handover, Inter NG-RAN node N2 based handover (see clause 4.23 of 3GPP TS 23.502 [3]).\nWhen present, it shall be set as follows:\n- true: IPv6 multi-homing is permitted.\n- false (default): IPv6 multi-homing is not allowed.\nDTSSA\nupSecurity\nUpSecurity\nC\n0..1\nThis IE shall be present if the \"upSecurityInfo\" IE was received in the request (i.e. during an Xn handover), and there is a mismatch between security policy received and stored (see clause 5.2.2.8.2.16).\nWhen present, this IE shall indicate the security policy for integrity protection and encryption for the user plane of the PDU session.\nThis IE may be present during a handover from non-3GPP access to 3GPP access, to indicate the security policy for integrity protection and encryption for the user plane of the PDU session in the target access type.\nThis IE may be present when UE Integrity Protection Maximum Data Rate was received in the request, during a UE triggered PDU session modification procedure.\n(NOTE 1, NOTE 2)\nmaxIntegrityProtectedDataRateUl\nMaxIntegrityProtectedDataRate\nC\n0..1\nThis IE shall be present if the upSecurity IE is present and indicates that integrity protection is preferred or required.\nWhen present, it shall indicate the maximum integrity protected data rate supported by the UE for uplink.\n(NOTE 1)\nmaxIntegrityProtectedDataRateDl\nMaxIntegrityProtectedDataRate\nC\n0..1\nThis IE shall be present if the upSecurity IE is present and indicates that integrity protection is preferred or required.\nWhen present, it shall indicate the maximum integrity protected data rate supported by the UE for downlink.\n(NOTE 1)\nqosFlowsSetupList\narray(QosFlowSetupItem)\nC\n1..N\nThis IE shall be present during a handover between 3GPP and non-3GPP accesses.\nWhen present, it shall contain the set of QoS flow(s) to establish for the PDU session for the target access type.\n(NOTE 1)\nsessionAmbr\nAmbr\nC\n0..1\nThis IE shall be present during a handover between 3GPP and non-3GPP accesses.\nWhen present, this IE shall contain the Session AMBR authorized for the PDU session for the target access type.\n(NOTE 1)\nepsPdnCnxInfo\nEpsPdnCnxInfo\nC\n0..1\nThis IE shall be present during a handover from non-3GPP access to 3GPP access, if the PDU session may be moved to EPS during its lifetime.\n(NOTE 1)\nThe IE shall also be included when the EPS PDN Connection Context Information of the PDU session is changed, e.g. due to reselection of anchor SMF.\nepsBearerInfo\narray(EpsBearerInfo)\nC\n1..N\nThis IE shall be present during a handover from non-3GPP access to 3GPP access, if the PDU session may be moved to EPS during its lifetime.\nWhen present, it shall include the complete epsBearerInfo IE(s) for all EBIs.\n(NOTE 1)\npti\nProcedureTransactionId\nC\n0..1\nThis IE shall be present during a handover between 3GPP and non-3GPP accesses.\nWhen present, it shall contain the PTI value received in the corresponding request.\ninterPlmnApiRoot\nUri\nC\n0..1\nThis IE should be present if the information has changed. When present, it shall contain the apiRoot of the PDU session context to be used in inter-PLMN signalling request targeting the PDU session context.\nintraPlmnApiRoot\nUri\nC\n0..1\nThis IE should be present if the information has changed. When present, it shall contain the apiRoot of the PDU session context to be used in intra-PLMN signalling request targeting the PDU session context.\nhrsboInfo\nHrsboInfoFromHplmn\nC\n0..1\nThis IE shall be present in the following scenarios if the H-SMF supports the HR-SBO feature and if it receives a request for HR-SBO authorization in the Update request:\n-\tV-SMF insertion (i.e. H-PLMN to V-PLMN mobility); and\n-\tInter-PLMN V-SMF change (i.e. mobility between different V-PLMNs).\nThis IE shall also be present, for a HR PDU session, if the HR-SBO information signaled earlier by the H-SMF to the V-SMF needs to be changed, e.g. to signal a new Home DNS Server address.\nWhen present, this IE shall Include the information for HR-SBO as defined in clause 6.1.6.2.73.\nThe absence of this IE in an Update response when the Update request includes a request for HR SBO authorization shall be interpreted as indicating that HR-SBO is not allowed.\nHR-SBO\nNOTE 1:\tDuring a handover between 3GPP and non-3GPP accesses, the V-SMF or I-SMF shall delete any corresponding information received earlier for the source access type and use the new information received for the target access type.\nNOTE 2:\tDuring inter-system mobility from EPS to 5GS, the UE Integrity Protection Maximum Data Rate is not available at the SMF during PDU Session Creation. The UE will provide UE Integrity Protection Maximum Data Rate to the network within a subsequent UE triggered PDU session modification procedure, as specified in clause 4.3.3.2 of 3GPP TS 23.502 [3].\nNOTE 3:\tThe chargingId IE in SmContext (see clause 6.1.6.2.39) shall be set to the value received in the homeProvidedChargingId IE during a HPLMN to VPLMN mobility of a PDU session with I-SMF in HPLMN.\nNOTE 4:\tUsage of Charging ID with Uint32 value for roaming scenarios may lead to Charging ID collision between SMFs.\nNOTE 5:\tThe smfChargingId IE in SmContext (see clause 6.1.6.2.39) shall be set to the value in the homeProvidedSmfChargingId IE if received from the H-SMF.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1.6.4.4",
        "clause_6.1.8",
        "ts_23.502_clause_4.23",
        "clause_5.2.2.8.2.16",
        "clause_6.1.6.2.73",
        "ts_23.502_clause_4.3.3.2",
        "clause_6.1.6.2.39",
        "table_6.1.6.2.12-1",
        "ts_23.502",
        "ts_32.255"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.13",
      "section_id": "6.1.6.2.13",
      "section_title": "Type: ReleaseData",
      "content": "Table 6.1.6.2.13-1: Definition of type ReleaseData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\ncause\nCause\nC\n0..1\nThis IE shall be present, if the information is available. When present, this IE shall indicate the NF Service Consumer cause for the requested PDU session release.\nngApCause\nNgApCause\nC\n0..1\nThe V-SMF or I-SMF shall include this IE, if it is available and, for a HR PDU session, if this information is permitted to be sent to the H-SMF operator according to the V-SMF operator's policy. When present, this IE shall indicate the NGAP cause for the requested PDU session release.\n5gMmCauseValue\n5GMmCause\nC\n0..1\nThe V-SMF or I-SMF shall include this IE if it received it from the AMF and, for a HR PDU session, if this information is permitted to be sent to the H-SMF operator according to the V-SMF operator's policy.\nueLocation\nUserLocation\nC\n0..1\nThis IE shall be present, if available.\nWhen present, it shall contain the UE location information (see clause 5.2.3.4).\nueTimeZone\nTimeZone\nC\n0..1\nThis IE shall be present, if available.\nWhen present, it shall contain the UE Time Zone.\naddUeLocation\nUserLocation\nO\n0..1\nAdditional UE location.\nThis IE may be present, if anType previously reported is a non-3GPP access and a valid 3GPP access user location information is available.\nWhen present, it shall contain:\n-\tthe last known 3GPP access user location (see clause 5.2.3.4); and\n-\tthe timestamp, if available, indicating the UTC time when the addUeLocation information was acquired.\nsecondaryRatUsageReport\narray(SecondaryRatUsageReport)\nO\n1..N\nThis IE may be present to report usage data for a secondary RAT for QoS flows.\n(NOTE)\nsecondaryRatUsageInfo\narray(SecondaryRatUsageInfo)\nO\n1..N\nThis IE may be present to report usage data for a secondary RAT for QoS flows and/or the whole PDU session.\nn4Info\nN4Information\nO\n0..1\nThis IE may be present if the I-SMF needs to send N4 information (e.g. traffic usage reporting) to the SMF for traffic offloaded at a PSA controlled by an I-SMF.\nDTSSA\nn4InfoExt1\nN4Information\nO\n0..1\nThis IE may be present if the I-SMF needs to send additional N4 information (e.g. traffic usage reporting) to the SMF for traffic offloaded at a PSA controlled by an I-SMF.\nDTSSA\nn4InfoExt2\nN4Information\nO\n0..1\nThis IE may be present if the I-SMF needs to send additional N4 information (e.g. traffic usage reporting) to the SMF for traffic offloaded at a PSA controlled by an I-SMF.\nDTSSA\nNOTE:\tAn SMF complying with this version of the specification should report secondary RAT usage using the secondaryRatUsageInfo attribute that replaces the secondaryRatUsageReport attribute.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.3.4",
        "table_6.1.6.2.13-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.14",
      "section_id": "6.1.6.2.14",
      "section_title": "Type: HsmfUpdateError",
      "content": "Table 6.1.6.2.14-1: Definition of type HsmfUpdateError\nAttribute name\nData type\nP\nCardinality\nDescription\nerror\nProblemDetails\nM\n1\nMore information on the error shall be provided in the \"cause\" attribute of the \"ProblemDetails\" structure.\npti\nProcedureTransactionId\nC\n0..1\nThis IE shall be present if this is a response sent to a UE requested PDU session modification. When present, it shall contain the PTI value received in the corresponding request.\nn1smCause\nstring\nC\n0..1\nThis IE shall be present if the request included n1SmInfoFromUe.\nWhen present, it shall contain the 5GSM cause the H-SMF or SMF proposes the V-SMF or I-SMF to return to the UE. It shall be encoded as two characters in hexadecimal representation with each character taking a value of \"0\" to \"9\" or \"A\" to \"F\", and represent the cause value of the 5GSM cause IE specified in clause 9.11.4.2 of 3GPP TS 24.501 [7].\nPattern: \"^[A-F0-9]{2}$\"\nExample: the cause \"Invalid mandatory information\" shall be encoded as \"60\".\nSee NOTE.\nn1SmInfoToUe\nRefToBinaryData\nC\n0..1\nThis IE shall be present if the H-SMF or SMF needs to send N1 SM information to the UE that does not need to be interpreted by the V-SMF or I-SMF. When present, this IE shall reference the n1SmInfoToUe binary data (see clause 6.1.6.4.4).\nbackOffTimer\nDurationSec\nO\n0..1\nWhen present, this IE shall indicate a Back-off timer value, in seconds, that the V-SMF or I-SMF may use when rejecting the NAS message towards the UE.\nrecoveryTime\nDateTime\nO\n0..1\nTimestamp (in UTC) when the H-SMF or SMF service instance was (re)started (see clause 6.3 of 3GPP TS 23.527 [24]).\nNOTE:\tThis IE contains information that the V-SMF or I-SMF shall transfer to the UE without interpretation. It is sent as a separate IE rather than within the n1SmInfoToUE binary data because the 5GSM cause IE is defined as a \"V\" IE (i.e. without a Type field) in the NAS PDU Session Modification Reject message.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_24.501_clause_9.11.4.2",
        "clause_6.1.6.4.4",
        "ts_23.527_clause_6.3",
        "table_6.1.6.2.14-1",
        "ts_24.501",
        "ts_23.527"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.15",
      "section_id": "6.1.6.2.15",
      "section_title": "Type: VsmfUpdateData",
      "content": "Table 6.1.6.2.15-1: Definition of type VsmfUpdateData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nrequestIndication\nRequestIndication\nM\n1\nThis IE shall indicate the request type.\nsessionAmbr\nAmbr\nC\n1\nThis IE shall be present if the Session AMBR authorized for the PDU session is modified. When present, it shall contain the new Session AMBR authorized for the PDU session.\nqosFlowsAddModRequestList\narray(QosFlowAddModifyRequestItem)\nC\n1..N\nThis IE shall be present if QoS flows are requested to be established or modified.\nqosFlowsRelRequestList\narray(QosFlowReleaseRequestItem)\nC\n1..N\nThis IE shall be present if QoS flows are requested to be released.\nepsBearerInfo\narray(EpsBearerInfo)\nC\n1..N\nThis IE shall be present if the PDU session may be moved to EPS during its lifetime and the ePSBearerInfo has changed.\nWhen present, it shall only include epsBearerInfo IE(s) for new EBI or for EBIs for which the epsBearerInfo has changed. The complete epsBearerInfo shall be provided for an EBI that is included (i.e. the epsBearerInfo newly received for a given EBI replaces any epsBearerInfo previously received for this EBI).\nassignEbiList\narray(Arp)\nC\n1..N\nThis IE shall be present if the H-SMF requests EBIs to be assigned.\nrevokeEbiList\narray(EpsBearerId)\nC\n1..N\nThis IE shall be present if the H-SMF/SMF requests the V-SMF/I-SMF to revoke some EBI(s). When present, it shall contain the EBIs to revoke.\nmodifiedEbiList\narray(EbiArpMapping)\nC\n1..N\nThis IE shall be present if a PDU session modification procedure resulted in the change of ARP for a QoS flow that was already allocated an EBI.\npti\nProcedureTransactionId\nC\n0..1\nThis IE shall be present if the request is sent in response to a UE requested PDU session modification or release. When present, it shall contain the PTI value received in the corresponding request.\nn1SmInfoToUe\nRefToBinaryData\nC\n0..1\nThis IE shall be present if the H-SMF/SMF needs to send N1 SM information to the UE that does not need to be interpreted by the V-SMF/I-SMF. When present, this IE shall reference the n1SmInfoToUe binary data (see clause 6.1.6.4.4).\nalwaysOnGranted\nboolean\nC\n0..1\nThis IE shall be present if:\n-\tan alwaysOnRequested IE was received in an earlier V-SMF/I-SMF initiated Update request to change the PDU session to an always-on PDU session; or\n-\tthe H-SMF/SMF determines, based on local policy, that the PDU session needs to be established as an always-on PDU session.\nWhen present, it shall be set as follows:\n-\ttrue: always-on PDU session granted.\n-\tfalse (default): always-on PDU session not granted.\nhsmfPduSessionUri\nUri\nC\n0..1\nThis IE shall be included if:\n-\tan Update Request is sent to the V-SMF/I-SMF before the Create Response (e.g. for EPS bearer ID allocation as specified in clause 4.11.1.4.1 of 3GPP TS 23.502 [3], or for Secondary authorization/authentication as specified in clause 4.3.2.3 of 3GPP TS 23.502 [3]), and\n-\tthe H-SMF PDU Session Resource URI has not been previously provided to the V-SMF/I-SMF.\nThis IE shall not be included otherwise.\nWhen present, this IE shall include the URI representing the PDU session resource in the H-SMF.\nnewSmfId\nNfInstanceId\nC\n0..1\nThis IE may be present if the anchor SMF has changed and the SMF Instance ID of the new anchor SMF has not been already signalled to the I-SMF or V-SMF.\nWhen present, it shall carry the NF instance identifier of the new anchor SMF handling the PDU session.\nnewSmfPduSessionUri\nUri\nC\n0..1\nThis IE shall be present if the newSmfId is present.\nWhen present, it shall carry the URI representing the updated PDU session resource in the new anchor SMF.\nsupportedFeatures\nSupportedFeatures\nC\n0..1\nThis IE shall be present if \"hsmfPduSessionUri\" IE is present and at least one feature defined in clause 6.1.8 is supported.\ncause\nCause\nO\n0..1\nWhen present, this IE shall indicate the cause for the requested modification.\nn1smCause\nstring\nO\n0..1\nWhen present, this IE shall contain the 5GSM cause the H-SMF proposes the V-SMF/I-SMF to send to the UE. It shall be encoded as two characters in hexadecimal representation with each character taking a value of \"0\" to \"9\" or \"A\" to \"F\", and represent the cause value of the 5GSM cause IE specified in clause 9.11.4.2 of 3GPP TS 24.501 [7].\nExample: the cause \"Invalid mandatory information\" shall be encoded as \"60\".\nSee NOTE.\nbackOffTimer\nDurationSec\nO\n0..1\nWhen present, this IE shall indicate a Back-off timer value, in seconds, that the V-SMF/I-SMF may use when sending the NAS message (PDU Session Release Command) towards the UE.\nmaReleaseInd\nMaReleaseIndication\nC\n0..1\nThis IE shall be present if one access of a MA PDU session is to be released, when H-SMF or SMF initiates MA PDU session release over one access.\nWhen present, it shall indicate the access requested to be released.\nMAPDU\nmaAcceptedInd\nboolean\nC\n0..1\nThis IE shall be present if a request to modify a single access PDU session into a MA PDU session was accepted (see clause 4.22.6.3 of 3GPP TS 23.502 [3]).\nWhen present, it shall be set as follows:\n- true: MA PDU session\n- false (default): single access PDU session\nMAPDU\nadditionalCnTunnelInfo\nTunnelInfo\nC\n0..1\nThis IE shall be present for a MA-PDU session if the UE requested to establish resources for a MA PDU session over the other access.\nWhen present, it shall contain additional N9 tunnel information of the UPF controlled by the H-SMF or SMF.\nMAPDU\ndnaiList\narray(Dnai)\nC\n0..N\nThis IE shall be present if received from PCF during I-SMF Related Procedures with PCF (see clause 4.23.6.2 in 3GPP TS 23.502 [3]).\nWhen present, the IE shall include a list of DNAI(s) the SMF deems relevant for the PDU Session.\nIf the I-SMF and the SMF support the DTSSA-Ext1 feature, when present, this IE should include the full list of DNAIs of interest for PDU session, including DNAIs that may not be supported by the I-SMF and excluding the ones supported by the Anchor SMF.\nIf this IE is not present, the I-SMF shall consider that the dnaiList has not changed. If there is no more DNAI of interest for the PDU session, the dnaiList attribute shall be present and be encoded as an empty array.\nDTSSA\nDTSSA-Ext1\nn4Info\nN4Information\nO\n0..1\nThis IE may be present if the SMF needs to send N4 information to the I-SMF for the control of traffic offloaded at a PSA/BP/ULCL controlled by an I-SMF.\nDTSSA\nn4InfoExt1\nN4Information\nO\n0..1\nThis IE may be present if the SMF needs to send additional N4 information to the I-SMF for the control of traffic offloaded at a PSA/BP/ULCL controlled by an I-SMF.\nDTSSA\nn4InfoExt2\nN4Information\nO\n0..1\nThis IE may be present if the SMF needs to send additional N4 information to the I-SMF for the control of traffic offloaded at a PSA/BP/ULCL controlled by an I-SMF (e.g. during a change of PSA).\nDTSSA\nn4InfoExt3\nN4Information\nO\n0..1\nThis IE may be present if the SMF needs to send additional N4 information to the I-SMF for the control of traffic offloaded at a PSA/BP/ULCL controlled by an I-SMF (e.g. during simultaneous change of BP/ULCL and PSA).\nSCPBU\nsmallDataRateControlEnabled\nboolean\nC\n0..1\nThis IE shall be present if the applicability of small data rate control on the PDU session changes.\nWhen present, it shall be set as follows:\n-\ttrue: small data rate control is applicable.\n-\tfalse: small data rate control is not applicable.\nCIOT\nqosMonitoringInfo\nQosMonitoringInfo\nC\n0..1\nThis IE may be present if QoS monitoring has been activated for at least one QoS flow of the PDU session (see the qosMonitoringReq attribute in clause 6.1.6.2.22).\nDTSSA\nepsPdnCnxInfo\nEpsPdnCnxInfo\nC\n0..1\nThis IE shall be present if the PDU session may be moved to EPS during its lifetime and the EpsInterworkingIndication is changed to \"WITH_N26\".\nThe IE shall also be present when the EPS PDN Connection Context Information of the PDU session is changed, e.g. due to change of anchor SMF.\nn9DataForwardingInd\nboolean\nC\n0..1\nThis IE shall be present and set as specified in clauses 4.23.9.4 and 4.23.9.5 of 3GPP TS 23.502 [3] during simultaneous change of Branching Points or UL CLs controlled by I-SMF or controlled by different I-SMFs.\nWhen present, it shall be set as follows:\n- true: setup N9 forwarding tunnels between Branching Points or UL CLs;\n- false (default): N9 forwarding tunnels between Branching Points or UL CLs are not required to be setup (see clauses 5.2.2.8.3.6 and 5.2.2.8.3.10).\nN9FSC\nn9InactivityTimer\nDurationSec\nO\n0..1\nWhen present, this IE shall indicate an inactivity detection timer, in seconds, that the I-SMF may use to set the N9 forwarding tunnel inactive traffic detection timer in Branching Point or UL CL as specified in clauses 4.23.9.4 and 4.23.9.5 of 3GPP TS 23.502 [3].\nN9FSC\nhrsboInfo\nHrsboInfoFromHplmn\nO\n0..1\nThis IE may be present if the H-SMF and the V-SMF supports the HR-SBO feature and if the H-SMF needs to update the HR-SBO information towards the V-SMF, e.g. due to a change of the user subscription data or policy information.\nWhen present, this IE shall include the complete information for HR-SBO as defined in clause 6.1.6.2.73 and the V-SMF shall replace any earlier received HR-SBO information by the new HR-SBO information.\nHR-SBO\naltHplmnSnssai\nSnssai\nC\n0..1\nThis IE shall be present for a HR PDU session if the H-SMF determines to retain the PDU session for the alternative HPLMN S-NSSAI, during network slice replacement.\nWhen present, this IE shall indicate the alternative HPLMN S-NSSAI to be used by the HR PDU session.\nSee clause 5.15.19 of 3GPP TS 23.501 [2].\nNSRP\npduSessionRetainInd\nboolean\nC\n0..1\nThis IE shall be present and set to true, if the H-SMF determines to retain the PDU session for the alternative HPLMN S-NSSAI during network slice replacement.\nWhen present with true value, this IE indicates the PDU session is retained for the alternative HPLMN S-NSSAI.\nPresent with false value shall be prohibited.\nSee clause 4.3.3.3 of 3GPP TS 23.502 [3].\nNSRP\npendingUpdateInfoList\narray(PendingUpdateInfo)\nO\n0..N\nWhen present, this IE shall indicate the updated list of information that are not required to be updated in real-time to the (H-)SMF, i.e. the change of the listed information (e.g. UE location or Timezone) may be piggybacked in a subsequent essential update (e.g. to exchange the N1 message from the UE) to the (H-)SMF. The NF service consumer (i.e. I-SMF/V-SMF) should not trigger an Update to the (H-)SMF including only the change(s) of the listed information.\nWhen present, the NF service consumer (i.e. I-SMF/V-SMF) shall replace any pendingUpdateInfoList received earlier by the new information received in this IE.\nNOTE:\tThis IE contains information that the V-SMF shall transfer to the UE without interpretation. It is sent as a separate IE rather than within the n1SmInfoToUE binary data because the 5GSM cause IE is defined as a \"V\" IE (i.e. without a Type field) in the NAS PDU Session Release Command message.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1.6.4.4",
        "ts_23.502_clause_4.11.1.4.1",
        "ts_23.502_clause_4.3.2.3",
        "clause_6.1.8",
        "ts_24.501_clause_9.11.4.2",
        "ts_23.502_clause_4.22.6.3",
        "ts_23.502_clause_4.23.6.2",
        "clause_6.1.6.2.22",
        "clause_6.1.6.2.73",
        "ts_23.501_clause_5.15.19",
        "ts_23.502_clause_4.3.3.3",
        "table_6.1.6.2.15-1",
        "ts_23.502",
        "ts_24.501",
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.16",
      "section_id": "6.1.6.2.16",
      "section_title": "Type: VsmfUpdatedData",
      "content": "Table 6.1.6.2.16-1: Definition of type VsmfUpdatedData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nqosFlowsAddModList\narray(QosFlowItem)\nC\n1..N\nThis IE shall be present if QoS flows have been successfully established or modified. For each GBR QoS flow, the V-SMF/I-SMF may also indicate an alternative QoS profile which the NG-RAN currently fulfils in the currentQosProfileIndex IE or indicate that the NG-RAN cannot even fulfil the lowest alternative QoS profile.\nqosFlowsRelList\narray(QosFlowItem)\nC\n1..N\nThis IE shall be present if QoS flows have been successfully released.\nqosFlowsFailedtoAddModList\narray(QosFlowItem)\nC\n1..N\nThis IE shall be present if QoS flows failed to be established or modified.\nqosFlowsVsmfRejectedAddModList\narray(Qfi)\nO\n1..N\nThis IE may be present from V-SMF to H-SMF when the qosFlowsFailedtoAddModList IE is present.\nWhen present, this IE shall include the QFIs of the QoS flows failed to be established or modified due to rejection by the V-SMF.\nWhen the H-SMF subsequently send N1 Message to the UE to revert the update of QoS rules and QoS Flow level QoS parameters associated with the failed QoS Flow(s) indicated in the qosFlowsFailedtoAddModList IE, the H-SMF should exclude the QoS flow(s) that were failed to be established or modified due to rejection by the V-SMF. If all the failed QoS flow(s) were due to rejection by the V-SMF, the H-SMF should skip the subsequent N1 message update to the UE.\nqosFlowsFailedtoRelList\narray(QosFlowItem)\nC\n1..N\nThis IE shall be present if QoS flows failed to be released.\nn1SmInfoFromUe\nRefToBinaryData\nC\n0..1\nThis IE shall be present if the V-SMF/I-SMF has received known N1 SM information from the UE that does not need to be interpreted by the V-SMF/I-SMF. When present, this IE shall reference the n1SmInfoFromUe binary data (see clause 6.1.6.4.4).\nunknownN1SmInfo\nRefToBinaryData\nC\n0..1\nThis IE shall be present if the V-SMF/I-SMF has received unknown N1 SM information from the UE. When present, this IE shall reference the unknownN1SmInfo binary data (see clause 6.1.6.4.4).\nueLocation\nUserLocation\nC\n0..1\nThis IE shall be present if it is available and QoS flows have been successfully established, modified or released.\nWhen present, this IE shall contain the UE location information (see clause 5.2.3.4).\nueTimeZone\nTimeZone\nC\n0..1\nThis IE shall be present if it is available and QoS flows have been successfully established, modified or released.\nWhen present, this IE shall contain the new UE Time Zone.\naddUeLocation\nUserLocation\nO\n0..1\nAdditional UE location.\nThis IE may be present, if anType previously reported is a non-3GPP access and a valid 3GPP access user location information is available.\nWhen present, it shall contain:\n-\tthe last known 3GPP access user location (see clause 5.2.3.4); and\n-\tthe timestamp, if available, indicating the UTC time when the addUeLocation information was acquired.\nassignedEbiList\narray(EbiArpMapping)\nC\n1..N\nThis IE shall be present if the AMF assigned the requested EBI(s). When present, it shall contain the EBIs that were successfully assigned.\nfailedToAssignEbiList\narray(Arp)\nC\n1..N\nThis IE shall be present if the AMF failed to assign EBIs for a set of ARPs.\nreleasedEbiList\narray(EpsBearerId)\nC\n1..N\nThis IE shall be present if the NF Service Consumer requested the revoke EBI(s) or if the AMF revoked already assigned EBI(s) for this PDU session towards the V-SMF. This IE shall contain the list of EBI(s) released for this PDU session at the AMF.\nsecondaryRatUsageReport\narray(SecondaryRatUsageReport)\nO\n1..N\nThis IE may be present to report usage data for a secondary RAT for QoS flows.\n(NOTE)\nsecondaryRatUsageInfo\narray(SecondaryRatUsageInfo)\nO\n1..N\nThis IE may be present to report usage data for a secondary RAT for QoS flows and/or the whole PDU session.\nn4Info\nN4Information\nO\n0..1\nThis IE may be present if the I-SMF needs to send N4 response information to the SMF for the control of traffic offloaded at a PSA/BP/ULCL controlled by an I-SMF.\nDTSSA\nn4InfoExt1\nN4Information\nO\n0..1\nThis IE may be present if the I-SMF needs to send additional N4 response information to the SMF for the control of traffic offloaded at a PSA/BP/ULCL controlled by an I-SMF.\nDTSSA\nn4InfoExt2\nN4Information\nO\n0..1\nThis IE may be present if the I-SMF needs to send additional N4 response information to the SMF for the control of traffic offloaded at a PSA/BP/ULCL controlled by an I-SMF (e.g. during a change of PSA).\nDTSSA\nn4InfoExt3\nN4Information\nO\n0..1\nThis IE may be present if the I-SMF needs to send additional N4 response information to the SMF for the control of traffic offloaded at a PSA/BP/ULCL controlled by an I-SMF (e.g. during simultaneous change of BP/ULCL and PSA).\nSCPBU\nmodifiedEbiListNotDelivered\nboolean\nC\n0..1\nThis IE should be present with the value true when the modifiedEbiList IE was received in VsmfUpdateData in request but cannot be updated to the AMF, e.g., during (H-)SMF triggered PDU session modification procedure and the AMF doesn’t support the EAEA feature.\nWhen present, the IE shall be set as following:\n- true: the received modifiedEbiList was not delivered to the AMF.\n- false: the received modifiedEbiList was delivered to the AMF.\nAbsence of this IE means whether modifiedEbiList was delivered or not is unknown.\necnMarkingCongestionInfoStatus\narray(EcnMarkingCongestionInfoStatus)\nC\n1..N\nThis IE shall be present when the V/I-SMF receives the ECN Marking or Congestion Monitoring Reporting Status, e.g. during an PDU Session Modification procedure.\nWhen present, this IE shall contain a list of QoS flows with status for QoS monitoring for congestion information or for ECN marking for L4S.\nEMECI\npduSetSupportInd\nboolean\nC\n0..1\nThis IE shall be included when the V/I-SMF receives the PDU Set based Handling Indicator from NG-RAN, e.g. during an PDU Session Modification procedure.\nWhen present, this IE shall indicate whether the PDU Set based handling is supported by the NG-RAN:\n-\ttrue: the PDU Set based handling is supported.\n-\tfalse: the PDU Set based handling is not supported.\nPDUSH\nNOTE:\tAn SMF complying with this version of the specification should report secondary RAT usage using the secondaryRatUsageInfo attribute that replaces the secondaryRatUsageReport attribute.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1.6.4.4",
        "clause_5.2.3.4",
        "table_6.1.6.2.16-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.17",
      "section_id": "6.1.6.2.17",
      "section_title": "Type: StatusNotification",
      "content": "Table 6.1.6.2.17-1: Definition of type StatusNotification\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nstatusInfo\nStatusInfo\nM\n1\nThis IE shall contain status information about the PDU session.\nsmallDataRateStatus\nSmallDataRateStatus\nC\n0..1\nThis IE shall be present, if the NF Service Consumer has indicated support of CIoT and if the status is available.\nWhen present, it shall indicate the current small data rate control status for the PDU session.\nCIOT\napnRateStatus\nApnRateStatus\nC\n0..1\nThis IE shall be present, if the NF Service Consumer has indicated support of CIoT and if the status is available.\nWhen present, it shall indicate the current APN rate control status for the PDN connection (APN rates are shared by all PDN connections of the UE to this APN).\nCIOT\ntargetDnaiInfo\nTargetDnaiInfo\nC\n0..1\nThis IE shall be present if the I-SMF selection or removal for the current PDU session, or SMF selection during PDU Session re-establishment for SSC mode 2/3 is needed.\nWhen present, this IE shall include the target DNAI Information.\nEnEDGE\noldPduSessionRef\nUri\nC\n0..1\nThis IE shall be present if resourceStatus in statusInfo is \"UNCHANGED\", the SMF selection during PDU Session re-establishment for SSC mode 3 is needed and the runtime coordination between old SMF and AF is enabled.\nWhen present, this IE shall contain the URI of the PDU session resource in the old SMF. The URI shall be an absolute URI, including apiRoot (see clause 6.1.3.6.2).\nEnEDGE\nnewSmfId\nNfInstanceId\nC\n0..1\nThis IE may be present if the resourceStatus attribute in statusInfo is set to \"UPDATED\" and the cause IE in statusInfo is set to \"CHANGED_ANCHOR_SMF\". When present, it shall include the NF instance identifier of the new H-SMF or SMF (for a PDU session with an I-SMF) handling the PDU session, when it is changed within an SMF set.\nES3XX\nepsPdnCnxInfo\nEpsPdnCnxInfo\nC\n0..1\nThis IE shall be present when the EPS PDN Connection Context Information of the PDU session is changed, e.g. due to change of anchor SMF.\nWhen present, this IE shall include the EPS PDN Connection Context Information of the PDU session on the new anchor SMF.\nES3XX\ninterPlmnApiRoot\nUri\nC\n0..1\nThis IE should be present if the information has changed and, within the statusInfo IE, the resourceStatus IE is set to \"UPDATED\" and the cause IE set to \"CHANGED_ANCHOR_SMF\".\nWhen present, it shall contain the apiRoot of the PDU session context to be used in inter-PLMN signalling request targeting the PDU session context.\nintraPlmnApiRoot\nUri\nC\n0..1\nThis IE should be present if the information has changed and, within the statusInfo IE, the resourceStatus IE is set to \"UPDATED\" and the cause IE set to \"CHANGED_ANCHOR_SMF\".\nWhen present, it shall contain the apiRoot of the PDU session context to be used in intra-PLMN signalling request targeting the PDU session context.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1.3.6.2",
        "table_6.1.6.2.17-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.18",
      "section_id": "6.1.6.2.18",
      "section_title": "Type: QosFlowItem",
      "content": "Table 6.1.6.2.18-1: Definition of type QosFlowItem\nAttribute name\nData type\nP\nCardinality\nDescription\nqfi\nQfi\nM\n1\nThis IE shall contain the QoS Flow Identifier.\ncause\nCause\nO\n0..1\nWhen present, this IE shall contain cause information.\ncurrentQosProfileIndex\nInteger\nC\n0..1\nWhen present, this IE shall indicate the index of the currently fulfilled alternative QoS profile. This IE shall not be present if the nullQoSProfileIndex IE is present.\nnullQoSProfileIndex\nboolean\nC\n0..1\nThis IE shall be present and set to \"true\" if the NG-RAN cannot even fulfil the lowest alternative QoS profile. This IE shall not be present if the currentQosProfileIndex IE is present.\nngApCause\nNgApCause\nC\n0..1\nThe V-SMF or I-SMF shall include this IE if it is available and, for a HR PDU session, if this information is permitted to be sent to the H-SMF operator according to the V-SMF operator's policy. When present, this IE shall indicate the NGAP cause for the requested QoS Flow setup or modification failure.",
      "chunk_type": "procedure",
      "cross_references": [
        "table_6.1.6.2.18-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.19",
      "section_id": "6.1.6.2.19",
      "section_title": "Type: QosFlowSetupItem",
      "content": "Table 6.1.6.2.19-1: Definition of type QosFlowSetupItem\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nqfi\nQfi\nM\n1\nThis IE shall contain the QoS Flow Identifier.\nqosRules\nBytes\nM\n1\nThis IE shall contain the QoS Rule(s) associated to the QoS flow to be sent to the UE. It shall be encoded as the Qos rules IE specified in clause 9.11.4.13 of 3GPP TS 24.501 [7] (starting from octet 4).\nprotocDesc\nBytes\nO\n0..1\nWhen present, this IE shall contain the protocol description for PDU Set handling associated with the QoS Rule(s) to be sent to the UE. It shall be encoded as the Protocol description IE specified in clause 9.11.4.39 of 3GPP TS 24.501 [7] (starting from octet 4).\nPDUSH\nebi\nEpsBearerId\nC\n0..1\nThis IE shall be included when an EPS Bearer ID is allocated for the QoS Flow for interworking with EPS. When present, this IE shall contain the allocated EPS Bearer ID.\nqosFlowDescription\nBytes\nO\n0..1\nWhen present, this IE shall contain the description of the QoS Flow level Qos parameters to be sent to the UE. It shall be encoded as the Qos flow descriptions IE specified in clause 9.11.4.12 of 3GPP TS 24.501 [7] (starting from octet 1), encoding one single Qos flow description for the QoS flow to be set up.\nqosFlowProfile\nQosFlowProfile\nO\n0..1\nWhen present, this IE shall contain the description of the QoS Flow level Qos parameters.\nassociatedAnType\nQosFlowAccessType\nO\n0..1\nThis IE may be present if the QoS Flow belongs to MA PDU session.\nWhen present, this IE shall contain the indicated access type associated with the QoS Flow.\nMAPDU\ndefaultQosRuleInd\nboolean\nC\n0..1\nThis IE shall be present if available.\nWhen present, it shall be set as follows:\n-\ttrue: QoS Flow is associated with the default QoS Rule.\n-\tfalse: QoS Flow is not associated with the default QoS Rule.\n(NOTE)\necnMarkingCongestInfoReq\nEcnMarkingCongestionInfoReq\nO\n0..1\nWhen present, this IE shall indicate that ECN marking for the L4S or QoS monitoring for congestion information is requested in the NG-RAN.\nEMECI\nNOTE:\tAnchor SMF implementations complying with earlier versions of the specification may not support setting this Indication. If the attribute is absent, the I-SMF or V-SMF can determine whether the QoS Rule is the default QoS Rule by decoding the available qosRules IE. The absence of the attribute shall not be interpreted as meaning that the QoS flow is not associated with the default QoS Rule.",
      "chunk_type": "procedure",
      "cross_references": [
        "ts_24.501_clause_9.11.4.13",
        "ts_24.501_clause_9.11.4.39",
        "ts_24.501_clause_9.11.4.12",
        "table_6.1.6.2.19-1",
        "ts_24.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.20",
      "section_id": "6.1.6.2.20",
      "section_title": "Type: QosFlowAddModifyRequestItem",
      "content": "Table 6.1.6.2.20-1: Definition of type QosFlowAddModifyRequestItem\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nqfi\nQfi\nM\n1\nThis IE shall contain the QoS Flow Identifier.\nebi\nEpsBearerId\nC\n0..1\nThis IE shall be included when the EPS Bearer ID associated with a QoS Flow is modified. When present, this IE shall contain the EPS Bearer ID.\nqosRules\nBytes\nO\n0..1\nWhen present, this IE shall contain the QoS Rule(s) to be sent to the UE. It shall be encoded as the Qos rules IE specified in clause 9.11.4.13 of 3GPP TS 24.501 [7] (starting from octet 4).\nprotocDesc\nBytes\nO\n0..1\nWhen present, this IE shall contain the protocol description for PDU Set handling associated with the QoS Rule(s) to be sent to the UE. It shall be encoded as the Protocol description IE specified in clause 9.11.4.39 of 3GPP TS 24.501 [7] (starting from octet 4).\nPDUSH\nqosFlowDescription\nBytes\nO\n0..1\nWhen present, this IE shall contain the description of the QoS Flow level Qos parameters to be sent to the UE. It shall be encoded as the Qos flow descriptions IE specified in clause 9.11.4.12 of 3GPP TS 24.501 [7] (starting from octet 1), encoding one single Qos flow description for the QoS flow to be added or modified.\nqosFlowProfile\nQosFlowProfile\nO\n0..1\nWhen present, this IE shall contain the description of the QoS Flow level QoS parameters.\nWhen modifying a QoS flow, the IE shall only contain the QoS Flow profile's attributes which are modified.\nassociatedAnType\nQosFlowAccessType\nO\n0..1\nThis IE may be present if the QoS Flow belongs to MA PDU session.\nWhen present, this IE shall contain the indicated access type associated with the QoS Flow.\nMAPDU\necnMarkingCongestInfoReq\nEcnMarkingCongestionInfoReq\nO\n0..1\nWhen present, this IE shall indicate that ECN marking for the L4S or QoS monitoring for congestion information is requested in the NG-RAN.\nEMECI\ntscaiUl\nTscAssistanceInformation\nO\n0..1\nWhen present, this IE shall indicate TSCAI input parameters at the uplink flow direction.\nUEPSM\ntscaiDl\nTscAssistanceInformation\nO\n0..1\nWhen present, this IE shall indicate TSCAI input parameters at the downlink flow direction.\nUEPSM",
      "chunk_type": "procedure",
      "cross_references": [
        "ts_24.501_clause_9.11.4.13",
        "ts_24.501_clause_9.11.4.39",
        "ts_24.501_clause_9.11.4.12",
        "table_6.1.6.2.20-1",
        "ts_24.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.21",
      "section_id": "6.1.6.2.21",
      "section_title": "Type: QosFlowReleaseRequestItem",
      "content": "Table 6.1.6.2.21-1: Definition of type QosFlowReleaseRequestItem\nAttribute name\nData type\nP\nCardinality\nDescription\nqfi\nQfi\nM\n1\nThis IE shall contain the QoS Flow Identifier.\nqosRules\nBytes\nO\n0..1\nWhen present, this IE shall contain the QoS Rule(s) to be sent to the UE. It shall be encoded as the Qos rules IE specified in clause 9.11.4.13 of 3GPP TS 24.501 [7] (starting from octet 4).\nqosFlowDescription\nBytes\nO\n0..1\nWhen present, this IE shall contain the description of the QoS Flow level Qos parameters to be sent to the UE. It shall be encoded as the Qos flow descriptions IE specified in clause 9.11.4.12 of 3GPP TS 24.501 [7] (starting from octet 1), encoding one single Qos flow description for the QoS flow to be released.",
      "chunk_type": "procedure",
      "cross_references": [
        "ts_24.501_clause_9.11.4.13",
        "ts_24.501_clause_9.11.4.12",
        "table_6.1.6.2.21-1",
        "ts_24.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.22",
      "section_id": "6.1.6.2.22",
      "section_title": "Type: QosFlowProfile",
      "content": "Table 6.1.6.2.22-1: Definition of type QosFlowProfile\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\n5qi\n5Qi\nM\n1\nThis IE shall contain the 5G QoS Identifier (5QI) of the QoS flow.\nnonDynamic5Qi\nNonDynamic5Qi\nC\n0..1\nWhen present, this IE shall indicate the QoS Characteristics for a standardized or pre-configured 5QI for downlink and uplink.\nSee NOTE 1.\ndynamic5Qi\nDynamic5Qi\nC\n0..1\nWhen present, this IE shall indicate the QoS Characteristics for a Non-standardised or not pre-configured 5QI for downlink and uplink.\nSee NOTE 1.\narp\nArp\nC\n0..1\nThis IE shall be present when establishing a QoS flow; it may be present when modifying a QoS flow.\nWhen present, this IE shall contain the Allocation and Retention Priority (ARP) assigned to the QoS flow.\ngbrQosFlowInfo\nGbrQosFlowInformation\nC\n0..1\nThis IE shall be present when establishing a GBR QoS flow or if the GBR QoS flow information is modified.\nrqa\nReflectiveQoSAttribute\nO\n0..1\nThis IE may be present for a non-GBR QoS flow and it shall be ignored otherwise. When present, it shall indicate whether certain traffic on this QoS flow may be subject to Reflective QoS.\nadditionalQosFlowInfo\nAdditionalQosFlowInfo\nO\n0..1\nThis IE may be present for a non-GBR QoS flow. When present, this IE indicates that traffic for this QoS flow is likely to appear more often than traffic for other flows established for the PDU session. See clause 9.3.1.12 of 3GPP TS 38.413 [9].\nqosMonitoringReq\nQosMonitoringReq\nO\n0..1\nThis IE may be present to indicate the measurement of UL, or DL, or both UL/DL delays for the associated QoS flow. This IE may also be used to indicate the stop of corresponding measurement, by setting the value to \"NONE\". See clause 9.3.1.12 of 3GPP TS 38.413 [9].\nqosRepPeriod\nDurationSec\nO\n0..1\nThis IE should be present if QoS monitoring is required.\nWhen present, this IE shall indicate the reporting period. See clause 4.23.5.3 of 3GPP TS 23.502 [3].\npduSetQosDl\nPduSetQosPara\nO\n0..1\nThis IE should be present if PDU Set based QoS handling is enabled on the QoS flow for the DL direction. See clause 5.37.5 of 3GPP TS 23.501 [2].\nWhen present, this IE shall contain the PDU Set QoS parameters for the DL direction.\nPDUSH\npduSetQosUl\nPduSetQosPara\nO\n0..1\nThis IE should be present if PDU Set based QoS handling is enabled on the QoS flow for the UL direction. See clause 5.37.5 of 3GPP TS 23.501 [2].\nWhen present, this IE shall contain the PDU Set QoS parameters for the UL direction.\nPDUSH\nNOTE 1:\tEither the nonDynamic5Qi IE or the dynamic5Qi IE may be present when establishing a QoS flow. Either the nonDynamic5Qi IE or the dynamic5Qi IE may be present when modifying a QoS flow; when present, the received nonDynamic5Qi IE or dynamic5Qi IE shall replace any value received previously for this IE.",
      "chunk_type": "procedure",
      "cross_references": [
        "ts_38.413_clause_9.3.1.12",
        "ts_23.502_clause_4.23.5.3",
        "ts_23.501_clause_5.37.5",
        "table_6.1.6.2.22-1",
        "ts_38.413",
        "ts_23.502",
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.23",
      "section_id": "6.1.6.2.23",
      "section_title": "Type: GbrQosFlowInformation",
      "content": "Table 6.1.6.2.23-1: Definition of type GbrQosFlowInformation\nAttribute name\nData type\nP\nCardinality\nDescription\nmaxFbrDl\nBitRate\nM\n1\nThis IE shall contain the Maximum Bit Rate in Downlink. See 3GPP TS 23.501 [2].\nmaxFbrUl\nBitRate\nM\n1\nThis IE shall contain the Maximum Bit Rate in Uplink. See 3GPP TS 23.501 [2].\nguaFbrDl\nBitRate\nM\n1\nThis IE shall contain the Guaranteed Bit Rate in Downlink. See 3GPP TS 23.501 [2].\nguaFbrUl\nBitRate\nM\n1\nThis IE shall contain the Guaranteed Bit Rate in Uplink. See 3GPP TS 23.501 [2].\nnotifControl\nNotificationControl\nO\n0..1\nWhen present, this IE shall indicate whether notifications are requested from the RAN when the GFBR can no longer (or again) be fulfilled for a QoS flow during the lifetime of the QoS flow. See 3GPP TS 23.501 [2].\nmaxPacketLossRateDl\nPacketLossRate\nO\n0..1\nWhen present, this IE shall indicate the maximum rate for lost packets that can be tolerated in the downlink direction. See 3GPP TS 23.501 [2].\nmaxPacketLossRateUl\nPacketLossRate\nO\n0..1\nWhen present, this IE shall indicate the maximum rate for lost packets that can be tolerated in the Uplink direction. See 3GPP TS 23.501 [2].\nalternativeQosProfileList\narray(AlternativeQosProfile)\nO\n0..N\nWhen present, this IE shall indicate alternative QoS profiles for the QoS flow. An empty array shall be interpreted as a request to delete any list of alternative QoS profiles associated with this QoS flow.",
      "chunk_type": "procedure",
      "cross_references": [
        "table_6.1.6.2.23-1",
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.24",
      "section_id": "6.1.6.2.24",
      "section_title": "Type: QosFlowNotifyItem",
      "content": "Table 6.1.6.2.24-1: Definition of type QosFlowNotifyItem\nAttribute name\nData type\nP\nCardinality\nDescription\nqfi\nQfi\nM\n1\nThis IE shall contain the QoS Flow Identifier.\nnotificationCause\nNotificationCause\nM\n1\ncurrentQosProfileIndex\nInteger\nC\n0..1\nWhen present, this IE shall indicate the index of the currently fulfilled alternative QoS profile. This IE shall not be present if the nullQoSProfileIndex IE is present.\nnullQoSProfileIndex\nboolean\nC\n0..1\nThis IE shall be present and set to \"true\" if the NG-RAN cannot even fulfil the lowest alternative QoS profile. This IE shall not be present if the currentQosProfileIndex IE is present.",
      "chunk_type": "procedure",
      "cross_references": [
        "table_6.1.6.2.24-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.27",
      "section_id": "6.1.6.2.27",
      "section_title": "Type: SmContextRetrievedData",
      "content": "Table 6.1.6.2.27-1: Definition of type SmContextRetrievedData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nueEpsPdnConnection\nEpsPdnCnxContainer\nM\n1\nThis IE shall contain an MME/SGSN UE EPS PDN Connection including the mapped EPS bearer context(s), if the SM context type was not present in the request or if it was present and indicated a request to retrieve the UE EPS PDN Connection.\nThis IE shall be set to an empty string if the SM context type was present in the request and indicated a request to retrieve the complete SM context or the AF Coordination Information.\nsmContext\nSmContext\nC\n0..1\nThis IE shall be present if the SM context type was present in the request and indicated a request to retrieve the complete SM context.\nDTSSA\nsmallDataRateStatus\nSmallDataRateStatus\nC\n0..1\nThis IE shall be present during N26 based Interworking Procedures, if in the request the smContextType is set to \"EPS_PDN_CONNECTION\" and if the status is available (see clauses 4.11.1.1 and 4.11.1.3.2 in 3GPP TS 23.502 [3]).\nWhen present, it shall indicate the small data rate control status for the PDU session.\nCIOT\napnRateStatus\nApnRateStatus\nC\n0..1\nThis IE shall be present during N26 based Interworking Procedures, if in the request the smContextType is set to \"EPS_PDN_CONNECTION\" and if the status is available (see clauses 4.11.1.1 and 4.11.1.3.2 in 3GPP TS 23.502 [3]).\nWhen present, it shall indicate the APN rate control status for the PDN connection (APN rates are shared by all PDN connections of the UE to this APN).\nCIOT\ndlDataWaitingInd\nboolean\nC\n0..1\nThis IE shall be present, if the SM context type was not present in the request or if it was present and indicated a request to retrieve the UE EPS PDN Connection, and if downlink data buffered in the SMF/UPF needs to be forwarded to EPS (see clause 4.11.1.3.2A of 3GPP TS 23.502 [3]).\nWhen present, it shall be set as follows:\n-\ttrue: DL data needs to be sent to the UE;\n-\tfalse (default): no DL data needs to be sent to the UE.\nCIOT\nafCoordinationInfo\nAfCoordinationInfo\nC\n0..1\nThis IE shall be present if the SM context type was present in the request and indicated a request to retrieve the AF Coordination Information.\nEnEDGE",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.502_clause_4.11.1.3.2",
        "table_6.1.6.2.27-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.28",
      "section_id": "6.1.6.2.28",
      "section_title": "Type: TunnelInfo",
      "content": "Table 6.1.6.2.28-1: Definition of type TunnelInfo\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nipv4Addr\nIpv4Addr\nC\n0..1\nWhen present, this IE shall contain the GTP tunnel IPv4 address.\nAt least one of the ipv4Addr or ipv6Addr shall be present. Both may be present.\nipv6Addr\nIpv6Addr\nC\n0..1\nWhen present, this IE shall contain the GTP tunnel IPv6 address.\nAt least one of the ipv4Addr or ipv6Addr shall be present. Both may be present.\ngtpTeid\nTeid\nM\n1\nThis IE shall contain the 4-octet GTP tunnel endpoint identifier.\nIf both ipv4Addr and ipv6Addr are present, the TEID shall be shared by both addresses.\nanType\nAccessType\nC\n0..1\nThis IE shall be present over N16a/N16 in MA PDU session scenarios, to indicate the access type associated to the N9 tunnel.\nMAPDU",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.2.28-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.29",
      "section_id": "6.1.6.2.29",
      "section_title": "Type: StatusInfo",
      "content": "Table 6.1.6.2.29-1: Definition of type StatusInfo\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nresourceStatus\nResourceStatus\nM\n1\nThis IE shall indicate the status of the SM context or PDU session resource.\ncause\nCause\nO\n0..1\nWhen present, this IE shall indicate the cause for the resource status change.\nremoteError\nboolean\nO\n0..1\nThis IE may be present in the SM context Status Notification sent from the V-SMF or I-SMF to the AMF.\nWhen present, this IE shall indicate whether the cause indicated in the cause IE is originated by the remote entity or by the entity sending the message, as follows:\n-\ttrue: the error is originated by the remote entity (i.e. H-SMF or SMF for a PDU session with an I-SMF).\n-\tfalse: the error is originated by the entity sending the message (i.e. V-SMF/I-SMF).\nThis IE shall be present and set to true for a HR PDU session, or for a PDU session with an I-SMF, when the cause indicated in the cause IE is originated by the remote entity.\ncnAssistedRanPara\nCnAssistedRanPara\nC\n0..1\nThis attribute shall be present when the cause value is \"CN_ASSISTED_RAN_PARAMETER_TUNING\".\nWhen present, this IE shall include the SMF derived CN assisted RAN parameters tuning.\nCARPT\nanType\nAccessType\nC\n0..1\nThis IE shall indicate the access type of PDU session.\nHOFAIL",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.2.29-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.30",
      "section_id": "6.1.6.2.30",
      "section_title": "Type: VsmfUpdateError",
      "content": "Table 6.1.6.2.30-1: Definition of type VsmfUpdateError\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nerror\nExtProblemDetails\nM\n1\nMore information on the error shall be provided in the \"cause\" attribute of the \"ProblemDetails\" structure.\npti\nProcedureTransactionId\nC\n0..1\nThis IE shall be present if available. When present, it shall contain the PTI value received from the UE.\nn1smCause\nstring\nC\n0..1\nThis IE shall be present if available.\nWhen present, it shall contain the 5GSM cause received from the UE.\nIt shall be encoded as two characters in hexadecimal representation with each character taking a value of \"0\" to \"9\" or \"A\" to \"F\", and represent the cause value of the 5GSM cause IE specified in clause 9.11.4.2 of 3GPP TS 24.501 [7].\nPattern: \"^[A-F0-9]{2}$\"\nExample: the cause \"Invalid mandatory information\" shall be encoded as \"60\".\nSee NOTE.\nn1SmInfoFromUe\nRefToBinaryData\nC\n0..1\nThis IE shall be present if the V-SMF or I-SMF has received known N1 SM information from the UE that does not need to be interpreted by the V-SMF or I-SMF. When present, this IE shall reference the n1SmInfoFromUe binary data (see clause 6.1.6.4.4).\nunknownN1SmInfo\nRefToBinaryData\nC\n0..1\nThis IE shall be present if the V-SMF or I-SMF has received unknown N1 SM information from the UE. When present, this IE shall reference the unknownN1SmInfo binary data (see clause 6.1.6.4.4).\nfailedToAssignEbiList\narray(Arp)\nC\n1..N\nThis IE shall be present if the AMF failed to assign the requested EBIs.\nngApCause\nNgApCause\nC\n0..1\nThe V-SMF or I-SMF shall include this IE, if it is available and, for a HR PDU session, if this information is permitted to be sent to the H-SMF operator according to the V-SMF operator's policy.\n5gMmCauseValue\n5GMmCause\nC\n0..1\nThe V-SMF or I-SMF shall include this IE if it received it from the AMF and, for a HR PDU session, if this information is permitted to be sent to the H-SMF operator according to the V-SMF operator's policy.\nrecoveryTime\nDateTime\nO\n0..1\nTimestamp (in UTC) when the V-SMF or I-SMF service instance was (re)started (see clause 6.3 of 3GPP TS 23.527 [24]).\nn4Info\nN4Information\nO\n0..1\nThis IE may be present if the I-SMF needs to send N4 response information to the SMF for the control of traffic offloaded at a PSA/BP/ULCL controlled by an I-SMF.\nDTSSA\nn4InfoExt1\nN4Information\nO\n0..1\nThis IE may be present if the I-SMF needs to send additional N4 response information to the SMF for the control of traffic offloaded at a PSA/BP/ULCL controlled by an I-SMF.\nDTSSA\nn4InfoExt2\nN4Information\nO\n0..1\nThis IE may be present if the I-SMF needs to send additional N4 response information to the SMF for the control of traffic offloaded at a PSA/BP/ULCL controlled by an I-SMF (e.g. during a change of PSA).\nDTSSA\nn4InfoExt3\nN4Information\nO\n0..1\nThis IE may be present if the I-SMF needs to send additional N4 response information to the SMF for the control of traffic offloaded at a PSA/BP/ULCL controlled by an I-SMF (e.g. during simultaneous change of BP/ULCL and PSA).\nSCPBU\nretryAfter\nUinteger\nO\n0..1\nThis IE may be included if received from the AMF within an error response, e.g., during N1N2MessageTransfer service operation when UE is not responding to paging.\nWhen present, this IE indicates the period in number of seconds. The NF consumer, i.e. the (H-)SMF, should not send new update request to the V-SMF/I-SMF during the indicated period.\nNOTE:\tThis IE is sent as a separate IE rather than within the n1SmInfoFromUE binary data because the 5GSM cause IE is defined as a \"V\" IE (i.e. without a Type field) in the NAS PDU Session Modification Command Reject message.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_24.501_clause_9.11.4.2",
        "clause_6.1.6.4.4",
        "ts_23.527_clause_6.3",
        "table_6.1.6.2.30-1",
        "ts_24.501",
        "ts_23.527"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.31",
      "section_id": "6.1.6.2.31",
      "section_title": "Type: EpsPdnCnxInfo",
      "content": "Table 6.1.6.2.31-1: Definition of type EpsPdnCnxInfo\nAttribute name\nData type\nP\nCardinality\nDescription\npgwS8cFteid\nBytes\nM\n1\nBase64-encoded characters, encoding the PGW S8 F-TEID for Control Plane as specified in Figure 8.22-1 of 3GPP TS 29.274 [16] (starting from octet 1).\npgwNodeName\nBytes\nC\n0..1\nBase64-encoded characters, encoding the PGW FQDN IE as specified in Figure 8.66-1 of 3GPP TS 29.274 [16] (starting from octet 1). It shall be present, if it is available.\npgwChangeInfo\nBytes\nO\n0..1\nBase64-encoded characters, encoding the PGW Change Info IE as specified in Table 8.145-1 of 3GPP TS 29.274 [16] (starting from octet 1). See clause 31.5 of 3GPP TS 23.007 [45].\nlinkedBearerId\nEpsBearerId\nC\n0..1\nAn implementation complying with this version of the specification shall include this attribute and set it to the default bearer ID associated with the PDU session moved to EPS.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.274_clause_31.5",
        "table_6.1.6.2.31-1",
        "ts_29.274_table_8.145-1",
        "ts_29.274_figure_8.22-1",
        "ts_29.274_figure_8.66-1",
        "ts_23.007_clause_31.5",
        "ts_29.274",
        "ts_23.007"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.32",
      "section_id": "6.1.6.2.32",
      "section_title": "Type: EpsBearerInfo",
      "content": "Table 6.1.6.2.32-1: Definition of type EpsBearerInfo\nAttribute name\nData type\nP\nCardinality\nDescription\nebi\nEpsBearerId\nM\n1\nEPS Bearer ID\npgwS8uFteid\nBytes\nM\n1\nBase64-encoded characters, encoding the PGW S8 F-TEID for User Plane as specified in Figure 8.22-1 of 3GPP TS 29.274 [16] (starting from octet 1).\nbearerLevelQoS\nBytes\nM\n1\nBase64-encoded characters, encoding the Bearer QoS IE as specified in Figure 8.15-1 of 3GPP TS 29.274 [16] (starting from octet 1).",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.2.32-1",
        "ts_29.274_figure_8.22-1",
        "ts_29.274_figure_8.15-1",
        "ts_29.274"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.33",
      "section_id": "6.1.6.2.33",
      "section_title": "Type: PduSessionNotifyItem",
      "content": "Table 6.1.6.2.33-1: Definition of type PduSessionNotifyItem\nAttribute name\nData type\nP\nCardinality\nDescription\nnotificationCause\nNotificationCause\nM\n1",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.2.33-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.34",
      "section_id": "6.1.6.2.34",
      "section_title": "Type: EbiArpMapping",
      "content": "Table 6.1.6.2.34-1: Definition of type EbiArpMapping\nAttribute name\nData type\nP\nCardinality\nDescription\nepsBearerId\nEpsBearerId\nM\n1\nThis IE shall contain the EPS bearer identities.\narp\nArp\nM\n1\nThis IE shall contain the ARP corresponding to the EBI.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.2.34-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.35",
      "section_id": "6.1.6.2.35",
      "section_title": "Type: SmContextCreateError",
      "content": "Table 6.1.6.2.35-1: Definition of type SmContextCreateError\nAttribute name\nData type\nP\nCardinality\nDescription\nerror\nExtProblemDetails\nM\n1\nMore information on the error shall be provided in the \"cause\" attribute of the \"ProblemDetails\" structure.\nn1SmMsg\nRefToBinaryData\nC\n0..1\nThis IE shall be present, if an N1 SM information is received in the request and the SMF is able to return N1 SM information to the UE.\nWhen present, it shall reference the N1 SM Message binary data (see clause 6.1.6.4.2).\nn2SmInfo\nRefToBinaryData\nC\n0..1\nThis IE shall be present, if N2 SM information needs to be returned to the NG-RAN during Xn based handover procedure with I-SMF/V-SMF insertion, change or removal.\nWhen present, it shall reference the N2 SM Message binary data (see clause 6.1.6.4.3).\nn2SmInfoType\nN2SmInfoType\nC\n0..1\nThis IE shall be present if \"n2SmInfo\" attribute is present.\nWhen present, this IE shall indicate the NG AP IE type for the NG AP SMF related IE container carried in \"n2SmInfo\" attribute.\nrecoveryTime\nDateTime\nO\n0..1\nTimestamp (in UTC) when the SMF service instance was (re)started (see clause 6.3 of 3GPP TS 23.527 [24]).",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1.6.4.2",
        "clause_6.1.6.4.3",
        "ts_23.527_clause_6.3",
        "table_6.1.6.2.35-1",
        "ts_23.527"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.36",
      "section_id": "6.1.6.2.36",
      "section_title": "Type: SmContextUpdateError",
      "content": "Table 6.1.6.2.36-1: Definition of type SmContextUpdateError\nAttribute name\nData type\nP\nCardinality\nDescription\nerror\nExtProblemDetails\nM\n1\nMore information on the error shall be provided in the \"cause\" attribute of the \"ProblemDetails\" structure.\nn1SmMsg\nRefToBinaryData\nC\n0..1\nThis IE shall be present, if N1 SM Information needs to be returned to the UE.\nWhen present, it shall reference the N1 SM Message binary data (see clause 6.1.6.4.2).\nn2SmInfo\nRefToBinaryData\nC\n0..1\nThis IE shall be present, if N2 SM information needs to be returned to the NG-RAN.\nWhen present, it shall reference the N2 SM Message binary data (see clause 6.1.6.4.3).\nn2SmInfoType\nN2SmInfoType\nC\n0..1\nThis IE shall be present if \"n2SmInfo\" attribute is present.\nWhen present, this IE shall indicate the NG AP IE type for the NG AP SMF related IE container carried in \"n2SmInfo\" attribute.\nupCnxState\nUpCnxState\nC\n0..1\nThis IE shall be present if the SMF was requested to activate or deactivate the user plane connection of the PDU session in the corresponding request.\nWhen present, it shall be set as specified in clauses 5.2.2.3.2 and 5.2.2.3.16.\nrecoveryTime\nDateTime\nO\n0..1\nTimestamp (in UTC) when the SMF service instance was (re)started (see clause 6.3 of 3GPP TS 23.527 [24]).",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1.6.4.2",
        "clause_6.1.6.4.3",
        "ts_23.527_clause_6.3",
        "table_6.1.6.2.36-1",
        "ts_23.527"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.37",
      "section_id": "6.1.6.2.37",
      "section_title": "Type: PduSessionCreateError",
      "content": "Table 6.1.6.2.37-1: Definition of type PduSessionCreateError\nAttribute name\nData type\nP\nCardinality\nDescription\nerror\nProblemDetails\nM\n1\nMore information on the error shall be provided in the \"cause\" attribute of the \"ProblemDetails\" structure.\nn1smCause\nstring\nC\n0..1\nThis IE shall be present if the request included n1SmInfoFromUe.\nWhen present, it shall contain the 5GSM cause the H-SMF or SMF proposes the V-SMF or I-SMF to return to the UE. It shall be encoded as two characters in hexadecimal representation with each character taking a value of \"0\" to \"9\" or \"A\" to \"F\", and represent the cause value of the 5GSM cause IE specified in clause 9.11.4.2 of 3GPP TS 24.501 [7].\nPattern: \"^[A-F0-9]{2}$\"\nExample: the cause \"Invalid mandatory information\" shall be encoded as \"60\".\n(NOTE)\nn1SmInfoToUe\nRefToBinaryData\nC\n0..1\nThis IE shall be present if the H-SMF or SMF needs to send N1 SM information to the UE that does not need to be interpreted by the V-SMF or I-SMF. When present, this IE shall reference the n1SmInfoToUe binary data (see clause 6.1.6.4.4).\nbackOffTimer\nDurationSec\nO\n0..1\nWhen present, this IE shall indicate a Back-off timer value, in seconds, that the V-SMF or I-SMF may use when rejecting the NAS message towards the UE.\nrecoveryTime\nDateTime\nO\n0..1\nWhen present, this IE shall contain the timestamp (in UTC) of the event when the H-SMF or SMF service instance was (re)started (see clause 6.3 of 3GPP TS 23.527 [24]).\nNOTE:\tThis IE contains information that the V-SMF or I-SMF may transfer to the UE without interpretation. It is sent as a separate IE rather than within the n1SmInfoToUE binary data because the 5GSM cause IE is defined as a \"V\" IE (i.e. without a Type field) in the NAS PDU Session Establishment Reject message.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_24.501_clause_9.11.4.2",
        "clause_6.1.6.4.4",
        "ts_23.527_clause_6.3",
        "table_6.1.6.2.37-1",
        "ts_24.501",
        "ts_23.527"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.38",
      "section_id": "6.1.6.2.38",
      "section_title": "Type: MmeCapabilities",
      "content": "Table 6.1.6.2.38-1: Definition of type MmeCapabilities\nAttribute name\nData type\nP\nCardinality\nDescription\nnonIpSupported\nboolean\nC\n0..1\nThis IE shall be present if non-IP PDN type is supported. It may be present otherwise. When present, this IE shall be set as follows:\n- true: non-IP PDN type is supported;\n- false (default): non-IP PDN type is not supported.\nethernetSupported\nboolean\nC\n0..1\nThis IE shall be present if Ethernet PDN type is supported. It may be present otherwise. When present, this IE shall be set as follows:\n- true: Ethernet PDN type is supported;\n- false (default): Ethernet PDN type is not supported.\nupipSupported\nboolean\nC\n0..1\nThis IE shall be present if the MME supports User Plane Integrity Protection with EPS. It may be present otherwise. When present, this IE shall be set as follows:\n- true: User Plane Integrity Protection with EPS is supported;\n- false (default): User Plane Integrity Protection with EPS is not supported.\nNOTE:\tThe AMF should know the MME capability to support, or not, non-IP PDN type, Ethernet PDN type and User Plane Integrity Protection, through local configuration. Note however that the actual EPS support of User Plane Integrity Protection may depend on the target E-UTRAN coverage.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.2.38-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.39",
      "section_id": "6.1.6.2.39",
      "section_title": "Type: SmContext",
      "content": "Table 6.1.6.2.39-1: Definition of type SmContext\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\npduSessionId\nPduSessionId\nM\n1\nThis IE shall contain the PDU Session ID.\ndnn\nDnn\nM\n1\nThis IE shall contain the UE requested DNN of the PDU session.\nThe DNN shall be the full DNN (i.e. with both the Network Identifier and Operator Identifier) for a HR PDU session, and it should be the full DNN in LBO and non-roaming scenarios. If the Operator Identifier is absent, the serving core network operator shall be assumed.\nselectedDnn\nDnn\nC\n0..1\nThis IE shall be present, if another DNN other than the UE requested DNN is selected for this PDU session.\nWhen present, it shall contain the selected DNN. The DNN shall be the full DNN (i.e. with both the Network Identifier and Operator Identifier) for a HR PDU session, and it should be the full DNN in LBO and non-roaming scenarios. If the Operator Identifier is absent, the serving core network operator shall be assumed.\nsNssai\nSnssai\nM\n1\nThis IE shall contain the S-NSSAI for the serving PLMN.\naltSnssai\nSnssai\nC\n0..1\nThis IE shall be present if the network slice for the serving PLMN (as indicated in the sNssai IE) was replaced by an alternative S-NSSAI.\nWhen present, this IE shall indicate the alternative S-NSSAI for the serving PLMN.\nSee clause 5.15.19 of 3GPP TS 23.501 [2].\nNSRP\nhplmnSnssai\nSnssai\nC\n0..1\nThis IE shall be present for a HR PDU session, or a non-roaming PDU session if received from the AMF.\nWhen present, it shall contain the S-NSSAI for the HPLMN.\naltHplmnSnssai\nSnssai\nC\n0..1\nThis IE shall be present if the network slice for the HPLMN (as indicated in the hplmnSnssai IE) was replaced by an alternative S-NSSAI for the HPLMN.\nWhen present, this IE shall indicate the alternative S-NSSAI for the HPLMN.\nSee clause 5.15.19 of 3GPP TS 23.501 [2].\nNSRP\npduSessionType\nPduSessionType\nM\n1\nThis IE shall indicate the PDU session type.\ngpsi\nGpsi\nC\n0..1\nThis IE shall be present if it is available. When present, it shall contain the user's GPSI.\nhSmfUri\nUri\nC\n0..1\nThis IE shall be present in HR roaming scenarios. When present, it shall contain the API URI of the Nsmf_PDUSession service of the H-SMF. The API URI shall be formatted as specified in clause 6.1.1.\nsmfUri\nUri\nC\n0..1\nThis IE shall be present for a PDU session with an I-SMF. When present, it shall contain the API URI of the Nsmf_PDUSession service of the SMF. The API URI shall be formatted as specified in clause 6.1.1.\npduSessionRef\nUri\nC\n0..1\nThis IE shall be present for a HR PDU session or a PDU session with an I-SMF.\nWhen present, this IE shall include the absolute URI of the PDU Session in H-SMF or SMF, including apiRoot (see clause 6.1.3.6.2)\ninterPlmnApiRoot\nUri\nC\n0..1\nThis IE shall be present, if available.\nWhen present, it shall contain the apiRoot of the PDU session context to be used in inter-PLMN signalling request targeting the PDU session context.\n(NOTE 2)\nintraPlmnApiRoot\nUri\nC\n0..1\nThis IE shall be present, if available.\nWhen present, it shall contain the apiRoot of the PDU session context to be used in intra-PLMN signalling request targeting the PDU session context.\n(NOTE 2)\npcfId\nNfInstanceId\nO\n0..1\nWhen present, this IE shall contain the identifier of:\n-\tthe H-PCF selected by the AMF (for UE Policy), for a HR PDU session; or\n-\tthe V-PCF selected by the AMF (for Access and Mobility Policy), for a PDU session in LBO roaming scenarios; or\n-\tthe PCF selected by the AMF (for Access and Mobility Policy and/or UE Policy), for a PDU session in non-roaming scenarios.\npcfGroupId\nNfGroupId\nO\n0..1\nThis IE may be present in non-roaming and HR roaming scenarios.\nWhen present, this IE shall contain the identity of the (home) PCF group serving the UE for Access and Mobility Policy and/or UE Policy.\npcfSetId\nNfSetId\nO\n0..1\nThis IE may be present if the pcfId IE is present.\nWhen present, it shall contain the NF Set ID of the PCF indicated by the pcfId IE.\nselMode\nDnnSelectionMode\nC\n0..1\nThis IE shall be present if it is available. When present, it shall be set to:\n-\t\"VERIFIED\", if the requested DNN provided by UE or the selected DNN provided by the network corresponds to an explicitly subscribed DNN; or\n-\t\"UE_DNN_NOT_VERIFIED\", if the requested DNN provided by UE corresponds to the usage of a wildcard subscription; or\n-\t\"NW_DNN_NOT_VERIFIED\", if the selected DNN provided by network corresponds to the usage of a wildcard subscription.\nIf both the requested DNN (i.e. dnn IE) and selected DNN (i.e. selected Dnn IE) are present, the selMode shall be related to the selected DNN.\nudmGroupId\nNfGroupId\nO\n0..1\nWhen present, it shall indicate the identity of the UDM group serving the UE.\nroutingIndicator\nstring\nO\n0..1\nWhen present, it shall indicate the Routing Indicator of the UE.\nhNwPubKeyId\ninteger\nO\n0..1\nWhen present, it shall indicate the Home Network Public Key Identifier of the UE. (NOTE 1)\nsessionAmbr\nAmbr\nM\n1\nThis IE shall contain the Session AMBR granted to the PDU session.\nqosFlowsList\narray(QosFlowSetupItem)\nM\n1..N\nThis IE shall contain the set of QoS flow(s) established for the PDU session. It shall contain at least the Qos flow associated to the default Qos rule.\nThe qosRules attribute of each QosFlowSetupItem shall be set to an empty string.\nhSmfInstanceId\nNfInstanceId\nC\n0..1\nThis IE shall be present for a HR PDU session.\nWhen present, it shall contain the identifier of the home SMF.\nsmfInstanceId\nNfInstanceId\nC\n0..1\nThis IE shall be present for a PDU session with an I-SMF.\nWhen present, it shall contain the identifier of the SMF.\npduSessionSmfSetId\nNfSetId\nC\n0..1\nThis IE shall be present, if available.\nWhen present, this IE shall contain the NF Set ID of the home SMF as identified by hSmfInstanceId, or the SMF as identified by the smfInstanceId.\npduSessionSmfServiceSetId\nNfServiceSetId\nC\n0..1\nThis IE shall be present, if available.\nWhen present, this IE shall contain the NF Service Set ID of the PDUSession service instance (for this PDU session) in the home SMF or the SMF.\npduSessionSmfBinding\nSbiBindingLevel\nC\n0..1\nThis IE shall be present, if available.\nWhen present, this IE shall contain the SBI binding level of the PDU session resource in the home SMF or the SMF.\nenablePauseCharging\nboolean\nC\n0..1\nThis IE shall be present for a HR PDU session, if available.\nWhen present, it shall indicate whether the use of Pause of Charging is enabled for the PDU session (see clause 4.4.4 of 3GPP TS 23.502 [3]).\nWhen present, it shall be set as follows:\n- true: enable Pause of Charging;\n- false (default): disable Pause of Charging.\nueIpv4Address\nIpv4Addr\nC\n0..1\nThis IE shall be present if a UE IPv4 address to the PDU session.\nueIpv6Prefix\nIpv6Prefix\nC\n0..1\nThis IE shall be present if a UE IPv6 prefix to the PDU session.\nepsPdnCnxInfo\nEpsPdnCnxInfo\nC\n0..1\nThis IE shall be present if the PDU session may be moved to EPS during its lifetime.\nepsBearerInfo\narray(EpsBearerInfo)\nC\n1..N\nThis IE shall be present if the PDU session may be moved to EPS during its lifetime.\nmaxIntegrityProtectedDataRate\nMaxIntegrityProtectedDataRate\nC\n0..1\nThis IE shall be present if the upSecurity IE is present and indicates that integrity protection is preferred or required.\nWhen present, it shall indicate the maximum integrity protected data rate for uplink.\nIf the maxIntegrityProtectedDataRateDl IE is absent, this IE applies to both uplink and downlink.\nmaxIntegrityProtectedDataRateDl\nMaxIntegrityProtectedDataRate\nC\n0..1\nThis IE may be present if the upSecurity IE is present and indicates that integrity protection is preferred or required.\nWhen present, it shall indicate the maximum integrity protected data rate for downlink.\nalwaysOnGranted\nboolean\nC\n0..1\nThis IE shall be present if available. When present, it shall indicate whether this is an always On PDU session and it shall be set as follows:\n- true: always-on PDU session granted.\n- false (default): always-on PDU session not granted.\nupSecurity\nUpSecurity\nO\n0..1\nWhen present, this IE shall indicate the security policy for integrity protection and encryption for the user plane of the PDU session.\nhSmfServiceInstanceId\nstring\nO\n0..1\nThis IE may be present for a HR PDU session.\nWhen present, this IE shall contain the serviceInstanceId of the H-SMF service instance serving the PDU session.\nThis IE may be used by the V-SMF to identify PDU sessions affected by a failure or restart of the H-SMF service (see clause 6.2 of 3GPP TS 23.527 [24]).\nsmfServiceInstanceId\nstring\nO\n0..1\nThis IE may be present for a PDU session with an I-SMF.\nWhen present, this IE shall contain the serviceInstanceId of the SMF service instance serving the PDU session.\nThis IE may be used by the I-SMF to identify PDU sessions affected by a failure or restart of the SMF service (see clause 6.2 of 3GPP TS 23.527 [24]).\nrecoveryTime\nDateTime\nO\n0..1\nThis IE may be present if available.\nWhen present, this IE shall indicate the timestamp (in UTC) when the H-SMF or SMF service instance serving the PDU session was (re)started (see clause 6.3 of 3GPP TS 23.527 [24]).\nforwardingInd\nboolean\nC\n0..1\nThis IE shall be present, when downlink data packets are buffered at I-UPF. The SMF or I-SMF shall use this IE to inform the NF service consumer that a forwarding tunnel is needed for receiving the buffered downlink data packets, as specified in clause 4.23.4 of 3GPP TS 23.502 [3].\nWhen present, this IE shall be set as follows:\n- true: a forwarding tunnel is needed for sending buffered downlink data packets;\n- false (default): forwarding tunnel is not needed\npsaTunnelInfo\nTunnelInfo\nC\n0..1\nThis IE shall be present if available.\nWhen present, this IE shall contain the N9 tunnel information of PDU Session Anchor UPF controlled by SMF or H-SMF.\nchargingId\nstring\nC\n0..1\nThis IE shall be present for a HR PDU session, in scenarios with a V-SMF insertion/change/removal.\nWhen present, it shall contain the Charging ID of the PDU session (see 3GPP TS 32.255 [25]).\nThe string shall encode the Charging ID (32-bit unsigned integer value, with maximum value \"4294967295\") in decimal representation.\nPattern: '^(0|([1-9]{1}[0-9]{0,9}))$'\n(NOTE 4)\nsmfChargingId\nSmfChargingId\nC\n0..1\nThis IE shall be present if available for a HR PDU session, in scenarios with a V-SMF insertion/change/removal.\nWhen present, it shall contain the String based Charging ID of the PDU session (see 3GPP TS 32.255 [25]).\nSCID\nchargingInfo\nChargingInformation\nC\n0..1\nThis IE shall be present for a HR PDU session, if available and if the NF Service Consumer requesting the SM Context pertains to the same PLMN (i.e. if the Retrieve SM Context Request does not contain the servingNetwork attribute set to a different PLMN ID).\nWhen present, it shall contain the addresses of the V-CHF used for the PDU session.\nroamingChargingProfile\nRoamingChargingProfile\nC\n0..1\nThis IE shall be present for a HR PDU session, if available and if the NF Service Consumer requesting the SM Context pertains to the same PLMN (i.e. if the Retrieve SM Context Request does not contain the servingNetwork attribute set to a different PLMN ID).\nWhen present, it shall contain the Roaming Charging Profile selected by the HPLMN (see clauses 5.1.9.1, 5.2.1.7 and 5.2.2.12.2 of 3GPP TS 32.255 [25]).\nnefExtBufSupportInd\nboolean\nC\n0..1\nThis IE shall be present with value \"true\", if the anchor NEF has indicated support of Extended Buffering for mobile terminated data during SMF-NEF connection establishment.\nWhen present, this IE shall be set as following:\n- true:\tExtended Buffering supported by NEF\n- false (default): Extended Buffering not supported by NEF\nipv6Index\nIpIndex\nC\n0..1\nThis IE shall be present during I-SMF change scenarios, if IPv6 Index has previously been received by old I-SMF.\ndnAaaAddress\nIpAddress\nO\n0..1\nWhen present, this IE shall contain the address of DN-AAA server for UE IP Address allocation previously received by old I-SMF.\nredundantPduSessionInfo\nRedundantPduSessionInformation\nC\n0..1\nThis IE shall be present for a PDU session with an I-SMF, if this information has been received previously from the UE, the anchor SMF or the old I-SMF.\nranTunnelInfo\nQosFlowTunnel\nC\n0..1\nThis IE shall be present if the ranUnchangedInd IE is set to \"true\" in the SM context retrieve request.\nWhen present, this IE shall contain the N2 tunnel information of NG-RAN with associated QoS flows (see \"DL QoS Flow per TNL Information\" in clause 9.3.4.2 of 3GPP 38.413 [9]).\naddRanTunnelInfo\narray(QosFlowTunnel)\nC\n1..N\nThis IE shall be present if the ranUnchangedInd IE is set to \"true\" in the SM context retrieve request.\nWhen present, this IE shall contain the additional N2 tunnel information of NG-RAN together with associated QoS flows for split PDU session (see \"Additional DL QoS Flow per TNL Information\" in clause 9.3.4.2 of 3GPP 38.413 [9]).\nredRanTunnelInfo\nQosFlowTunnel\nC\n0..1\nThis IE shall be present if the ranUnchangedInd IE is set to \"true\" in the SM context retrieve request.\nWhen present, this IE shall contain the additional N2 tunnel information of NG-RAN together with associated QoS flows for Redundant QoS Flow(s) (see \"Redundant DL QoS Flow per TNL Information\" in clause 9.3.4.2 of 3GPP 38.413 [9]).\naddRedRanTunnelInfo\narray(QosFlowTunnel)\nC\n1..N\nThis IE shall be present if the ranUnchangedInd IE is set to \"true\" in the SM context retrieve request.\nWhen present, this IE shall contain the additional N2 tunnel information of NG-RAN together with associated QoS flows for Redundant QoS Flow(s) with split PDU session (see \"Additional Redundant DL QoS Flow per TNL Information\" in clause 9.3.4.2 of 3GPP 38.413 [9]).\nnspuSupportInd\nboolean\nC\n0..1\nThis IE shall be present and set to \"true\" if the enablePauseCharging in the SmContext data type is set to \"true\" and if the (H-)SMF and PSA UPF support Notify Start Pause of Charging via user plane feature as specified in clause 5.30 of 3GPP TS 29.244 [29].\nWhen present, it shall be set as follows:\n-\ttrue: Notify Start Pause of Charging via user plane feature is supported.\nsmfBindingInfo\nstring\nC\n0..1\nThis IE shall be present, if available.\nWhen present, this IE shall contain the Binding indications of the PDU session resource in the home SMF or the SMF and shall be set to the value of the 3gpp-Sbi-Binding header defined in clause 5.2.3.2.6 of 3GPP TS 29.500 [4], without the header name.\nsatelliteBackhaulCat\nSatelliteBackhaulCategory\nO\n0..1\nWhen present, this IE shall indicate the satellite backhaul category information last signalled towards the anchor SMF, if any.\nsscMode\nstring\nC\n0..1\nThis IE shall be present, if available.\nWhen present, this IE shall indicate the SSC mode applicable to the PDU session.\nWhen present, it shall be encoded as one character in hexadecimal representation, taking a value of \"0\" to \"7\", representing the 3 bits of the SSC mode value of the SSC mode IE specified in clause 9.11.4.16 of 3GPP TS 24.501 [7].\nPattern: \"^[0-7]$\"\nExample: SSC mode 3 shall be encoded as \"3\".\ndlsetSupportInd\nboolean\nC\n0..1\nThis IE shall be present and set to \"true\" if the (H-)SMF supports the \"DLSET\" feature as specified in clause 6.1.8.\nWhen present, it shall be set as follows:\n-\ttrue: the (H-)SMF supports the \"DLSET\" feature.\n-\tfalse: the (H-)SMF does not support the \"DLSET\" feature\nn9fscSupportInd\nboolean\nC\n0..1\nThis IE shall be present and set to \"true\" if the SMF supports the \"N9FSC\" feature as specified in clause 6.1.8.\nWhen present, it shall be set as follows:\n-\ttrue: \"N9FSC\" feature is supported.\nanchorSmfOauth2Required\nboolean\nO\n0..1\nThis IE may be present when the NF consumer (i.e. new I-SMF or new V-SMF) and the NF producer (i.e. the old I-SMF, V-SMF or SMF) belong to the same PLMN.\nWhen present, this IE shall indicate whether the H-SMF or SMF for a PDU session with an I-SMF requires Oauth2-based authorization for accessing its Nsmf_PDUSession service.\n- true: OAuth2 based authorization is required.\n- false: OAuth2 based authorization is not required.\nThe absence of this IE means that no indication is available about the usage of Oauth2 for authorization of the anchor SMF's Nsmf_PDUSession service.\n(NOTE 3)\nfullDnaiList\narray(Dnai)\nO\n1..N\nThis IE may be present to contain the full list of DNAIs of interest for PDU session, including DNAIs that may not be supported by the (source) I-SMF and excluding the ones supported by the Anchor SMF.\nDTSSA-Ext1\nhrsboAuthResult\nboolean\nC\n0..1\nThis IE shall be present for a HR PDU session, during a V-SMF change within the same PLMN (i.e. if the Retrieve SM Context Request does not contain the servingNetwork attribute set to a different PLMN ID), if HR-SBO was authorized by the H-SMF and the request indicates that the new V-SMF supports HR-SBO.\nWhen present, it shall Indicate whether HR-SBO request is authorized\n- true: authorized.\n- false: Not authorized.\nHR-SBO\nhDnsAddr\nIpAddress\nC\n0..1\nThis IE shall be present for a HR PDU session, during a V-SMF change within the same PLMN (i.e. if the Retrieve SM Context Request does not contain the servingNetwork attribute set to a different PLMN ID), if available, HR-SBO was authorized by the H-SMF and the request indicates that the new V-SMF supports HR-SBO.\nWhen present, this IE shall contain the DNS server address of HPLMN.\nHR-SBO\nhPlmnAddr\nIpAddress\nC\n0..1\nThis IE shall be present for a HR PDU session, during a V-SMF change within the same PLMN (i.e. if the Retrieve SM Context Request does not contain the servingNetwork attribute set to a different PLMN ID), if available, HR-SBO was authorized by the H-SMF and the request indicates that the new V-SMF supports HR-SBO.\nWhen present, this IE shall contain the HPLMN address information (e.g. H-UPF IP address on N6). The new V-SMF may configure the new V-EASDF to build EDNS Client Subnet option based on this HPLMN address information for target FQDN of DNS queries which are not authorized for HR-SBO.\nHR-SBO\nvplmnOffloadingInfoList\narray(VplmnOffloadingInfo)\nC\n1..N\nThis IE shall be present for a HR PDU session, during a V-SMF change within the same PLMN (i.e. if the Retrieve SM Context Request does not contain the servingNetwork attribute set to a different PLMN ID), if available, HR-SBO was authorized by the H-SMF and the request indicates that the new V-SMF supports HR-SBO.\nWhen present, it shall contain the list of V-PLMN Offloading policies that apply to the PDU session and whose offload identifiers are not yet known by the target V-SMF.\n(NOTE 5)\nHR-SBO\nvplmnDlAmbr\nVplmnDlAmbr\nC\n0..1\nThis IE shall be present for a HR PDU session, during a V-SMF change within the same PLMN (i.e. if the Retrieve SM Context Request does not contain the servingNetwork attribute set to a different PLMN ID), if available, HR-SBO was authorized by the H-SMF and the request indicates that the new V-SMF supports HR-SBO.\nWhen present, it shall contain the Authorized DL Session AMBR for Offloading for the V-PLMN.\nHR-SBO\noffloadIds\narray(OffloadIdentifier)\nC\n1...N\nThis IE shall be present for a HR PDU session, during a V-SMF change within the same PLMN (i.e. if the Retrieve SM Context Request does not contain the servingNetwork attribute set to a different PLMN ID), if available, HR-SBO was authorized by the H-SMF and the request indicates that the new V-SMF supports HR-SBO, and if the offloadIds are part of the storedOffloadIds included in the the Retrieve SM Context Request.\nWhen present, this IE shall contain a list of offload identifiers that apply to the PDU session and that are already known by the target V-SMF.\n(NOTE 5)\nHR-SBO\neasInfoToRefresh\nEasInfoToRefresh\nC\n0..1\nThis IE shall be present for a HR PDU session, during a V-SMF change within the same PLMN (i.e. if the Retrieve SM Context Request does not contain the servingNetwork attribute set to a different PLMN ID), if available, HR-SBO was authorized by the H-SMF and the request indicates that the new V-SMF supports HR-SBO.\nWhen present, it shall contain the EAS information to be refreshed for EAS re-discovery.\nHR-SBO\ntargetDnai\nDnai\nC\n0..1\nThis IE shall be present, for a HR PDU session, if it is received from H-SMF in AF triggered EAS re-discovery and edge relocation via interacting with HPLMN (see clause 6.7.3.2 of 3GPP TS 23.548 [74]).\nWhen present, this IE shall contain the target DNAI.\nHR-SBO\ntrafficInfluInfo\nTrafficInfluenceInfo\nC\n0..1\nThis IE shall be present for a HR PDU session, during a V-SMF change within the same PLMN (i.e. if the Retrieve SM Context Request does not contain the servingNetwork attribute set to a different PLMN ID), if available, HR-SBO was authorized by the H-SMF and the request indicates that the new V-SMF supports HR-SBO.\nWhen present, it shall contain the traffic influence information applicable at the VPLMN for the HR-SBO PDU session.\nHR-SBO\npendingUpdateInfoList\narray(PendingUpdateInfo)\nO\n1..N\nThis IE should be included by the old V-SMF/I-SMF if received from the (H-)SMF.\nWhen present, this IE shall indicate the list of information that are not required to be updated in real-time to the (H-)SMF, i.e. the change of the listed information (e.g. UE location or Timezone) may be piggybacked in a subsequent essential update (e.g. to exchange the N1 message from the UE) to the (H-)SMF. The NF service consumer (i.e. I-SMF/V-SMF) should not trigger an Update to the (H-)SMF including only the change(s) of the listed information.\nNOTE 1:\tIf present, this attribute shall be used together with routingIndicator. This attribute is only used by the HPLMN in roaming scenarios.\nNOTE 2:\tSee NOTE 7 of Table 6.1.6.2.10-1.\nNOTE 3:\tIf the anchorSmfOauth2Required IE was received in SmContextCreateData from the AMF, this IE shall be ignored by the new I-SMF or V-SMF.\nNOTE 4:\tUsage of Charging ID with Uint32 value for roaming scenarios may lead to Charging ID collision between SMFs.\nNOTE 5:\tThe same offloadId should not appear in both the vplmnOffloadingInfoList and offloadIds attributes. Both vplmnOffloadingInfoList and offloadIds attributes may be present when multiple offload identifers apply to the PDU session and some of them are already known by the target V-SMF while others are not yet known by the target V-SMF.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.501_clause_5.15.19",
        "clause_6.1.1",
        "clause_6.1.3.6.2",
        "ts_23.502_clause_4.4.4",
        "ts_23.527_clause_6.2",
        "ts_23.527_clause_6.3",
        "ts_23.502_clause_4.23.4",
        "clause_9.3.4.2",
        "ts_29.244_clause_5.30",
        "ts_29.500_clause_5.2.3.2.6",
        "ts_24.501_clause_9.11.4.16",
        "clause_6.1.8",
        "ts_23.548_clause_6.7.3.2",
        "table_6.1.6.2.39-1",
        "table_6.1.6.2.10-1",
        "ts_23.501",
        "ts_23.502",
        "ts_23.527",
        "ts_32.255",
        "ts_29.244",
        "ts_29.500",
        "ts_24.501",
        "ts_23.548"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.40",
      "section_id": "6.1.6.2.40",
      "section_title": "Type: ExemptionInd",
      "content": "The ExemptionInd indicates that the included NAS SM message was exempted from one or more NAS SM congestion control, e.g. DNN, and/or S-NSSAI based congestion control, activated in the AMF.\nTable 6.1.6.2.40-1: Definition of type ExemptionInd\nAttribute name\nData type\nP\nCardinality\nDescription\ndnnCongestion\nboolean\nC\n0..1\nThis IE shall be present and set to Yes if the included NAS Session Management message was exempted from the DNN based congestion activated in the AMF.\ntrue: Yesfalse (default): No\nsnssaiCongestion\nboolean\nC\n0..1\nThis IE shall be present and set to Yes if the included NAS Session Management message was exempted from the S-NSSAI only based congestion activated in the AMF.\ntrue: Yesfalse (default): No\nsnssaiDnnCongestion\nboolean\nC\n0..1\nThis IE shall be present and set to Yes if the included NAS Session Management message was exempted from the S-NSSAI and DNN based congestion activated in the AMF.\ntrue: Yesfalse (default): No",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.2.40-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.41",
      "section_id": "6.1.6.2.41",
      "section_title": "Type: PsaInformation",
      "content": "Table 6.1.6.2.41-1: Definition of type PsaInformation\nAttribute name\nData type\nP\nCardinality\nDescription\npsaInd\nPsaIndication\nM\n1\nThis IE shall indicate, for a PDU session with an I-SMF, if a PSA and UL CL or BP, or only a PSA is inserted or removed by the I-SMF.\ndnaiList\narray(Dnai)\nM\n1..N\nThis IE shall indicate the DNAI(s) supported by the PSA that is inserted or removed.\nueIpv6Prefix\nIpv6Prefix\nC\n0..1\nThis IE shall be present if a PSA and UL CL or BP is inserted or removed, and IPv6 multi-homing applies to the PDU session.\npsaUpfId\nNfInstanceId\nC\n0..1\nThis IE shall be present if a PSA UPF is inserted by the I-SMF. When present, it shall contain the identifier of the PSA UPF.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.2.41-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.42",
      "section_id": "6.1.6.2.42",
      "section_title": "Type: DnaiInformation",
      "content": "Table 6.1.6.2.42-1: Definition of type DnaiInformation\nAttribute name\nData type\nP\nCardinality\nDescription\ndnai\nDnai\nM\n1\nnoDnaiChangeInd\nboolean\nC\n0..1\nThis IE shall be sent by the SMF to the I-SMF during the insertion of a PSA and BP/UL CL controlled by I-SMF.\nWhen present, it shall be set as follows:\n- true: DNAI shall not be changed;\n- false: DNAI may be changed.\nnoLocalPsaChangeInd\nboolean\nC\n0..1\nThis IE shall be sent by the SMF to the I-SMF during the insertion of a PSA and BP/UL CL controlled by I-SMF.\nWhen present, it shall be set as follows:\n- true: local PSA shall not be changed;\n- false: local PSA may be changed.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.2.42-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.43",
      "section_id": "6.1.6.2.43",
      "section_title": "Type: N4Information",
      "content": "Table 6.1.6.2.43-1: Definition of type N4Information\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nn4MessageType\nN4MessageType\nM\n1\nThis IE shall indicate the PFCP message signalled in the n4MessagePayload.\nn4MessagePayload\nRefToBinaryData\nM\n1\nThis IE shall reference the N4 Message Payload binary data (for the n4Info attribute) or the N4 Information extension binary data (for the n4InfoExt1, n4InfoExt2 and n4InfoExt3 attributes), see clause 6.1.6.4.5.\nn4DnaiInfo\nDnaiInformation\nC\n0..1\nThis IE shall be present if the N4 information relates to a PSA. When present, it shall indicate the DNAI related to the N4 Information. If this IE is not present, this indicates N4 information relates to an UL CL or BP.\npsaUpfId\nNfInstanceId\nO\n0..1\nThis IE may be sent by SMF to I-SMF if multiple local PSAs are inserted for the PDU session.\nWhen present, it shall contain the identifier of the PSA UPF for which the N4 information applies.\nulClBpId\nNfInstanceId\nO\n0..1\nWhen present, it shall contain the identifier of the UL CL/BP for which the N4 information applies.\nn9UlPdrIdList\narray(Uint16)\nC\n1..N\nThis IE shall be sent by the anchor SMF to the (new) I-SMF as specified in clauses 4.23.9.4 and 4.23.9.5 of 3GPP TS 23.502 [3] during simultaneous change of Branching Points or UL CLs controlled by I-SMF or controlled by different I-SMFs, if EAS session continuity upon UL CL relocation is required.\nWhen present, it shall contain the list of Rule IDs of the UL PDR(s) included in the N4Information to establish the UL N9 data forwarding in the target Branching Point or UL CL towards the old Branching Point or UL CL.\nN9FSC",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1.6.4.5",
        "table_6.1.6.2.43-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.44",
      "section_id": "6.1.6.2.44",
      "section_title": "Type: IndirectDataForwardingTunnelInfo",
      "content": "Table 6.1.6.2.44-1: Definition of type IndirectDataForwardingTunnelInfo\nAttribute name\nData type\nP\nCardinality\nDescription\nipv4Addr\nIpv4Addr\nC\n0..1\nWhen present, this IE shall contain the GTP tunnel IPv4 address.\nAt least one of the ipv4Addr or ipv6Addr shall be present. Both may be present.\nipv6Addr\nIpv6Addr\nC\n0..1\nWhen present, this IE shall contain the GTP tunnel IPv6 address.\nAt least one of the ipv4Addr or ipv6Addr shall be present. Both may be present.\ngtpTeid\nTeid\nM\n1\nThis IE shall contain the 4-octet GTP tunnel endpoint identifier.\nIf both ipv4Addr and ipv6Addr are present, the TEID shall be shared by both addresses.\ndrbId\nDrbId\nC\n0..1\nThis IE shall be present if this is an indirect data forwarding tunnel for a specific Data Radio Bearer (see clause 9.3.1.77 of 3GPP TS 38.413 [9]).\nThis IE shall not present if the additionalTnlNb IE is present.\n(NOTE)\nadditionalTnlNb\nAdditionalTnlNb\nC\n0..1\nThis IE shall be present if this is an additional indirect data forwarding tunnel for multi-connectivity.\nWhen present, it shall be set to the value 1 to 3 to indicate whether this is the first, second or third additional indirect data forwarding tunnel for multi-connectivity.\nThis IE shall not present if the drbId IE is present. (NOTE)\nNOTE:\tIf neither the drbId IE nor the additionalTnlNb IE is present, the tunnel information shall correspond to the PDU session level indirect data forwarding tunnel (i.e. DL Forwarding UP TNL Information IE or UL Forwarding UP TNL Information IE of the Handover Request Acknowledge Transfer IE of clause 9.3.4.11 of 3GPP TS 38.413 [9]).",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_38.413_clause_9.3.1.77",
        "ts_38.413_clause_9.3.4.11",
        "table_6.1.6.2.44-1",
        "ts_38.413"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.45",
      "section_id": "6.1.6.2.45",
      "section_title": "Type: SmContextReleasedData",
      "content": "Table 6.1.6.2.45-1: Definition of type SmContextReleasedData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nsmallDataRateStatus\nSmallDataRateStatus\nC\n0..1\nThis IE shall be present, if the NF Service Consumer has indicated support of CIoT and if the status is available.\nWhen present, it shall indicate the current small data rate control status for the PDU session.\nCIOT\napnRateStatus\nApnRateStatus\nC\n0..1\nThis IE shall be present, if the NF Service Consumer has indicated support of CIoT and if the status is available.\nWhen present, it shall indicate the current APN rate control status for the PDN connection (APN rates are shared by all PDN connections of the UE to this APN).\nCIOT",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.2.45-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.46",
      "section_id": "6.1.6.2.46",
      "section_title": "Type: ReleasedData",
      "content": "Table 6.1.6.2.46-1: Definition of type ReleasedData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nsmallDataRateStatus\nSmallDataRateStatus\nC\n0..1\nThis IE shall be present, if the NF Service Consumer has indicated support of CIoT and if available.\nWhen present, it shall indicate the current small data rate control status for the PDU session.\nCIOT\napnRateStatus\nApnRateStatus\nC\n0..1\nThis IE shall be present, if the NF Service Consumer has indicated support of CIoT and if the status is available.\nWhen present, it shall indicate the current APN rate control status for the PDN connection (APN rates are shared by all PDN connections of the UE to this APN).\nCIOT\nn4Info\nN4Information\nO\n0..1\nThis IE may be present if the SMF needs to send N4 information (e.g. acknowledgement of traffic usage reporting) to the I-SMF for traffic offloaded at a PSA controlled by an I-SMF.\nDTSSA\nn4InfoExt1\nN4Information\nO\n0..1\nThis IE may be present if the SMF needs to send additional N4 information (e.g. acknowledgement of traffic usage reporting) to the I-SMF for traffic offloaded at a PSA controlled by an I-SMF.\nDTSSA\nn4InfoExt2\nN4Information\nO\n0..1\nThis IE may be present if the SMF needs to send additional N4 information (e.g. acknowledgement of traffic usage reporting) to the I-SMF for traffic offloaded at a PSA controlled by an I-SMF.\nDTSSA",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.2.46-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.47",
      "section_id": "6.1.6.2.47",
      "section_title": "Type: SendMoDataReqData",
      "content": "Table 6.1.6.2.47-1: Definition of type SendMoDataReqData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nmoData\nRefToBinaryData\nM\n1\nThis IE shall reference the mobile originated data (see clause 6.1.6.4.6).\nCIOT\nmoExpDataCounter\nMoExpDataCounter\nC\n0..1\nThis IE shall be included if the UE has accessed the network by using \"MO exception data\" RRC establishment cause and when the AMF decides to send a non-zero value to the SMF.\n(NOTE)\nWhen present, this IE shall contain the MO Exception Data Counter.\nCIOT\nueLocation\nUserLocation\nO\n0..1\nWhen present, this IE shall contain the user location.\nCIOT\nNOTE:\tThe AMF increments the MO Exception Data Counter when the UE establishes/resumes RRC with \"MO Exception Data\" RRC cause. The AMF may defer sending the moExpDataCounter attribute to the SMF based on local configuration.  The AMF resets the MO Exception Data Counter when receiving successful response from the SMF. The SMF however keeps incrementing the counter locally.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1.6.4.6",
        "table_6.1.6.2.47-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.48",
      "section_id": "6.1.6.2.48",
      "section_title": "Type: CnAssistedRanPara",
      "content": "Table 6.1.6.2.48-1: Definition of type CnAssistedRanPara\nAttribute name\nData type\nP\nCardinality\nDescription\nstationaryIndication\nStationaryIndication\nO\n0..1\nIdentifies whether the UE is stationary or mobile (see 3GPP TS 23.502 [3] clause 4.15.6.3).\ncommunicationDurationTime\nDurationSec\nO\n0..1\nIndicates for how long the UE will normally stay in CM-Connected for data transmission (see 3GPP TS 23.502 [3] clause 4.15.6.3).\nperiodicTime\nDurationSec\nO\n0..1\nIdentifies interval time of periodic communication (see 3GPP TS 23.502 [3] clause 4.15.6.3).\nscheduledCommunicationTime\nScheduledCommunicationTime\nO\n0..1\nIdentifies time and day of the week when the UE is available for communication (see 3GPP TS 23.502 [3] clause 4.15.6.3).\nscheduledCommunicationType\nScheduledCommunicationType\nO\n0..1\nIndicates that the Scheduled Communication Type (see 3GPP TS 23.502 [3] clause 4.15.6.3).\n(NOTE 2)\ntrafficProfile\nTrafficProfile\nO\n0..1\nIdentifies the type of data transmission: single packet transmission (UL or DL), dual packet transmission (UL with subsequent DL or DL with subsequent UL), and multiple packets transmission (see 3GPP TS 23.502 [3] clause 4.15.6.3).\nbatteryIndication\nBatteryIndication\nO\n0..1\nIndicates the power consumption type(s) of the UE (see 3GPP TS 23.502 [3] clause 4.15.6.3).\nNOTE 1:\tAt least one of optional parameters above shall be present.\nNOTE 2:\tThe value of attribute \"scheduledCommunicationType\" shall be used together with the value of \"scheduledCommunicationTime\".",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.502_clause_4.15.6.3",
        "table_6.1.6.2.48-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.49",
      "section_id": "6.1.6.2.49",
      "section_title": "Type: UlclBpInformation",
      "content": "Table 6.1.6.2.49-1: Definition of type UlclBpInformation\nAttribute name\nData type\nP\nCardinality\nDescription\nulclBpUpfId\nNfInstanceId\nC\n0..1\nThis IE shall be present if an UL CL or BP UPF separate from the local PSA is inserted by the I-SMF. When present, it shall contain the identifier of the UL CL or BP UPF.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.2.49-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.50",
      "section_id": "6.1.6.2.50",
      "section_title": "Type: TransferMoDataReqData",
      "content": "Table 6.1.6.2.50-1: Definition of type TransferMoDataReqData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nmoData\nRefToBinaryData\nM\n1\nThis IE shall reference the mobile originated data (see clause 6.1.6.4.6).\nCIOT\nmoExpDataCounter\nMoExpDataCounter\nC\n0..1\nThis IE shall be present if received from AMF.\nWhen present, this IE shall contain the MO Exception Data Counter.\nCIOT\nueLocation\nUserLocation\nO\n0..1\nWhen present, this IE shall contain the user location.\nCIOT",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1.6.4.6",
        "table_6.1.6.2.50-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.51",
      "section_id": "6.1.6.2.51",
      "section_title": "Type: TransferMtDataReqData",
      "content": "Table 6.1.6.2.51-1: Definition of type TransferMtDataReqData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nmtData\nRefToBinaryData\nM\n1\nThis IE shall reference the mobile terminated data (see clause 6.1.6.4.7).\nCIOT",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1.6.4.7",
        "table_6.1.6.2.51-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.52",
      "section_id": "6.1.6.2.52",
      "section_title": "Type: TransferMtDataError",
      "content": "Table 6.1.6.2.52-1: Definition of type TransferMtDataError as a list of to be combined data types\nData type\nCardinality\nDescription\nApplicability\nExtProblemDetails\n1\nDetail information of the problem\nTransferMtDataAddInfo\n1\nAdditional information to be returned in error response.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.2.52-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.53",
      "section_id": "6.1.6.2.53",
      "section_title": "Type: TransferMtDataAddInfo",
      "content": "Table 6.1.6.2.53-1: Definition of type TransferMtDataAddInfo\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nmaxWaitingTime\nDurationSec\nC\n0..1\nThis IE shall be present if available.\nWhen present, this IE shall contain the estimated maximum wait time (see clause 4.25.5 of 3GPP 23.502 [3]).\nCIOT",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_4.25.5",
        "table_6.1.6.2.53-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.54",
      "section_id": "6.1.6.2.54",
      "section_title": "Type: VplmnQos",
      "content": "Table 6.1.6.2.54-1: Definition of type VplmnQos\nAttribute name\nData type\nP\nCardinality\nDescription\n5qi\n5Qi\nO\n0..1\nWhen present, this IE shall contain the 5G QoS Identifier (5QI) accepted or requested for the QoS Flow associated with the default QoS rule.\nadd5QiList\narray(5Qi)\nO\n1..N\nThis IE may be present when 5qi IE is present.\nWhen present, this IE shall indicate the additional 5G QoS Identifier(s) accepted or requested for the QoS Flow associated with the default QoS rule.\narp\nArp\nO\n0..1\nWhen present, this IE shall contain the Allocation and Retention Priority (ARP) accepted by the VPLMN for the QoS Flow associated with the default QoS rule.\nsessionAmbr\nAmbr\nO\n0..1\nWhen present, this IE shall contain the highest Session-AMBR accepted by the VPLMN for the PDU session.\nmaxFbrDl\nBitRate\nO\n0..1\nWhen present, this IE shall contain the Maximum Bit Rate in Downlink accepted by the VPLMN for the QoS Flow associated with the default QoS rule (if this is a GBR QoS Flow). See 3GPP TS 23.501 [2].\nmaxFbrUl\nBitRate\nO\n0..1\nWhen present, this IE shall contain the Maximum Bit Rate in Uplink accepted by the VPLMN for the QoS Flow associated with the default QoS rule (if this is a GBR QoS Flow). See 3GPP TS 23.501 [2].\nguaFbrDl\nBitRate\nO\n0..1\nWhen present, this IE shall contain the Guaranteed Bit Rate in Downlink accepted by the VPLMN for the QoS Flow associated with the default QoS rule (if this is a GBR QoS Flow). See 3GPP TS 23.501 [2].\nguaFbrUl\nBitRate\nO\n0..1\nThis IE shall contain the Guaranteed Bit Rate in Uplink accepted by the VPLMN for the QoS Flow associated with the default QoS rule (if this is a GBR QoS Flow). See 3GPP TS 23.501 [2].\n5qiPL\n5QiPriorityLevel\nO\n0..1\nThis IE shall contain the 5QI Priority Level when a 5QI Priority Level value different from the standardized Default Priority Level value in the QoS characteristics Table 5.7.4-1 in 3GPP TS 23.501 [2] is required.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.2.54-1",
        "ts_23.501_table_5.7.4-1",
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.55",
      "section_id": "6.1.6.2.55",
      "section_title": "Type: DdnFailureSubs",
      "content": "Table 6.1.6.2.55-1: Definition of type DdnFailureSubs\nAttribute name\nData type\nP\nCardinality\nDescription\nddnFailureSubsInd\nboolean\nM\n1\nWhen present, it shall be set as follows:\n- true: Notification of DDN failure is subscribed.\n- false (default): Notification of DDN failure is not subscribed.\nddnFailureSubsInfoList\narray(DdnFailureSubInfo)\nC\n1..N\nThis IE shall be present, if notification of DDN failure is subscribed, to provide DDN failure subscription details.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.2.55-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.56",
      "section_id": "6.1.6.2.56",
      "section_title": "Type: RetrieveData",
      "content": "Table 6.1.6.2.56-1: Definition of type RetrieveData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nsmallDataRateStatusReq\nboolean\nC\n0..1\nThis IE shall be present and set to \"true\" if this is a request to retrieve the Small Data Rate Status of the PDU session.\nWhen present, it shall be set as follows:\n-\ttrue: small data rate control status is requested.\n-\tfalse (default): small data rate control status is not requested.\nCIOT\npduSessionContextType\nPduSessionContextType\nC\n0..1\nThis IE shall be present if this is a request to retrieve the AF Coordination Information during the change of SSC mode 3 PDU Session Anchor with multiple PDU Sessions, if the runtime coordination between old SMF and AF is enabled (see clause 4.3.5.2 of 3GPP TS 23.502 [3]).\nEnEDGE",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.502_clause_4.3.5.2",
        "table_6.1.6.2.56-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.57",
      "section_id": "6.1.6.2.57",
      "section_title": "Type: RetrievedData",
      "content": "Table 6.1.6.2.57-1: Definition of type RetrievedData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nsmallDataRateStatus\nSmallDataRateStatus\nC\n0..1\nThis IE shall be present if the information has been requested in the request and is available.\nWhen present, it shall indicate the current small data rate control status for the PDU session.\nCIOT\nafCoordinationInfo\nAfCoordinationInfo\nC\n0..1\nThis IE shall be present if the PDU Session Context type was present in the request and indicated a request to retrieve the AF Coordination Information.\nEnEDGE",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.2.57-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.58",
      "section_id": "6.1.6.2.58",
      "section_title": "Type: SecurityResult",
      "content": "Table 6.1.6.2.58-1: Definition of type SecurityResult\nAttribute name\nData type\nP\nCardinality\nDescription\nintegrityProtectionResult\nProtectionResult\nC\n0..1\nThis IE shall be included if available.\nIf present, this IE indicates whether UP integrity protection is performed or not for the concerned PDU session.\nconfidentialityProtectionResult\nProtectionResult\nC\n0..1\nThis IE shall be included if available.\nIf present, this IE indicates whether UP ciphering is performed or not for the concerned PDU session.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.2.58-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.59",
      "section_id": "6.1.6.2.59",
      "section_title": "Type: UpSecurityInfo",
      "content": "Table 6.1.6.2.59-1: Definition of type UpSecurityInfo\nAttribute name\nData type\nP\nCardinality\nDescription\nupSecurity\nUpSecurity\nM\n1\nThis IE shall indicate the security policy for integrity protection and encryption for the user plane of the PDU session. See clause 9.3.1.60 of 3GPP TS 38.413 [9].\nmaxIntegrityProtectedDataRateUl\nMaxIntegrityProtectedDataRate\nC\n0..1\nThis IE shall be present if the upSecurity IE is present and indicates that integrity protection is preferred or required. See clause 9.3.1.60 of 3GPP TS 38.413 [9].\nWhen present, it shall indicate the maximum integrity protected data rate supported by the UE for uplink.\nmaxIntegrityProtectedDataRateDl\nMaxIntegrityProtectedDataRate\nC\n0..1\nThis IE shall be present if the upSecurity IE is present and indicates that integrity protection is preferred or required.\nWhen present, it shall indicate the maximum integrity protected data rate supported by the UE for downlink.\nsecurityResult\nSecurityResult\nC\n0..1\nThis IE shall be included if available.\nIf present, this IE shall contain the Security Result associated to the PDU session. See clause 9.3.1.60 of 3GPP TS 38.413 [9].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_38.413_clause_9.3.1.60",
        "table_6.1.6.2.59-1",
        "ts_38.413"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.60",
      "section_id": "6.1.6.2.60",
      "section_title": "Type: DdnFailureSubInfo",
      "content": "Table 6.1.6.2.60-1: Definition of type DdnFailureSubInfo\nAttribute name\nData type\nP\nCardinality\nDescription\nnotifyCorrelationId\nstring\nM\n1\nThis IE shall indicate the notification correlation Id provided by the NF service consumer (e.g. AMF) when subscribing to the notification of the DDN Failure, which shall be returned by the SMF when a DDN Failure is notified for this subscription. This parameter can be useful if the NF service consumer has multiple subscriptions for the same PDU session.\ndddTrafficDescriptorList\narray(DddTrafficDescriptor)\nC\n1..N\nThis IE shall be present if it is received from the UDM. When present, it shall contain a list of Traffic Descriptors related to the event of DDN Failure for which the subscription applies.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.2.60-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.61",
      "section_id": "6.1.6.2.61",
      "section_title": "Type: AlternativeQosProfile",
      "content": "Table 6.1.6.2.61-1: Definition of type AlternativeQosProfile\nAttribute name\nData type\nP\nCardinality\nDescription\nindex\nInteger\nM\n1\nWhen present, this IE shall contain the index identifying the alternative QoS profile.\nMinimum = 1. Maximum = 8.\nguaFbrDl\nBitRate\nO\n0..1\nWhen present, this IE shall contain the Guaranteed Bit Rate in Downlink. See 3GPP TS 23.501 [2].\nguaFbrUl\nBitRate\nO\n0..1\nWhen present, this IE shall contain the Guaranteed Bit Rate in Uplink. See 3GPP TS 23.501 [2].\npacketDelayBudget\nPacketDelBudget\nO\n0..1\nWhen present, this IE shall indicate the packet delay budget.\npacketErrRate\nPacketErrRate\nO\n0..1\nWhen present, this IE shall indicate the packet error rate.\nmaxDataBurstVol\ninteger\nO\n0..1\nUnsigned integer indicating Maximum Data Burst Volume (see clauses 5.7.3.7 and 5.7.4 of 3GPP TS 23.501 [8]), expressed in Bytes.\nMinimum = 1. Maximum = 2000000.\nThis IE may only be present for a Delay Critical GBR QoS flow.\nIf absent, the maximum data burst volume included in dynamic5Qi or nonDynamic5Qi attribute shall be applied for the alternative QoS Profile of a Delay Critical GBR QoS flow. It the IE is also absent in nonDynamic5Qi, the default value of the Maximum Data Burst Volume shall be applied.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.2.61-1",
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.62",
      "section_id": "6.1.6.2.62",
      "section_title": "Type: ProblemDetailsAddInfo",
      "content": "Table 6.1.6.2.62-1: Definition of type ProblemDetailsAddInfo\nAttribute name\nData type\nP\nCardinality\nDescription\nremoteError\nboolean\nO\n0..1\nWhen present, this IE shall indicate whether the error is originated by the remote entity or by the entity sending the response, as follows:\n- true: the error is originated by the remote entity (i.e. H-SMF/SMF or AMF).\n- false: the error is originated by the entity sending the response (i.e. V-SMF/I-SMF).\nThis IE shall be present and set to \"true\" for a HR PDU session or for a PDU session with an I-SMF, when the V-SMF/I-SMF retuns an error response to the AMF that was originated by the H-SMF/SMF, or when the V-SMF/I-SMF returns an error response to the H-SMF/SMF that was originated by the AMF.\nThis IE may be present if the error is originated by the V-SMF/I-SMF.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.2.62-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.63",
      "section_id": "6.1.6.2.63",
      "section_title": "Type: ExtProblemDetails",
      "content": "Table 6.1.6.2.63-1: Definition of type ExtProblemDetails as a list of to be combined data types\nData type\nCardinality\nDescription\nApplicability\nProblemDetails\n1\nDetail information of the problem\nProblemDetailsAddInfo\n1\nAdditional information to be returned in error response.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.2.63-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.64",
      "section_id": "6.1.6.2.64",
      "section_title": "Type: QosMonitoringInfo",
      "content": "Table 6.1.6.2.64-1: Definition of type QosMonitoringInfo\nAttribute name\nData type\nP\nCardinality\nDescription\nqosMonitoringInd\nboolean\nC\n0..1\nThis IE shall be present and set to \"true\" if QoS monitoring activated for QoS flows of the PDU session is performed using end to end accumulated packet delay reporting in UL GTP-U packets (see clause 5.33.3.3 of 3GPP TS 23.501 [2]).\n-\tTrue: QoS monitoring is performed using end to end accumulated packet delay reporting in UL GTP-U packets (see clause 5.33.3.3 of 3GPP TS 23.501 [2]).\n-\tFalse (default): QoS monitoring is performed using UPF and RAN time information in GTP-U packets (see clause 5.33.3.2 of 3GPP TS 23.501 [2]).\nWhen this attribute is present and set to \"true\", the I-SMF shall provision the I-UPF to report an end to end accumulated packet delay in UL GTP-U packets as specified in 3GPP TS 29.244 [29].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.501_clause_5.33.3.3",
        "ts_23.501_clause_5.33.3.2",
        "table_6.1.6.2.64-1",
        "ts_23.501",
        "ts_29.244"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.65",
      "section_id": "6.1.6.2.65",
      "section_title": "Type: IpAddress",
      "content": "Table 6.1.6.2.65-1: Definition of type IpAddress\nAttribute name\nData type\nP\nCardinality\nDescription\nipv4Addr\nIpv4Addr\nC\n0..1\nIndicate an IPv4 Address\nipv6Addr\nIpv6Addr\nC\n0..1\nIndicate an IPv6 Address\nipv6Prefix\nIpv6Prefix\nC\n0..1\nIndicate an IPv6 Prefix\nNOTE:\tEither ipv4Addr, or ipv6Addr, or ipv6Prefix shall be present.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.2.65-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.66",
      "section_id": "6.1.6.2.66",
      "section_title": "Type: RedundantPduSessionInformation",
      "content": "Table 6.1.6.2.66-1: Definition of type RedundantPduSessionInformation\nAttribute name\nData type\nP\nCardinality\nDescription\nrsn\nRsn\nM\n1\nRSN\npduSessionPairId\ninteger\nO\n0..1\nPDU Session Pair ID",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.2.66-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.67",
      "section_id": "6.1.6.2.67",
      "section_title": "Type: QosFlowTunnel",
      "content": "Table 6.1.6.2.67-1: Definition of type QosFlowTunnel\nAttribute name\nData type\nP\nCardinality\nDescription\nqfiList\narray(Qfi)\nM\n1..N\nThis IE shall contain the list of QoS Flow Identifiers.\ntunnelInfo\nTunnelInfo\nM\n1\nThis IE shall contain the RAN Tunnel Information.",
      "chunk_type": "procedure",
      "cross_references": [
        "table_6.1.6.2.67-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.68",
      "section_id": "6.1.6.2.68",
      "section_title": "Type: TargetDnaiInfo",
      "content": "Table 6.1.6.2.68-1: Definition of type TargetDnaiInfo\nAttribute name\nData type\nP\nCardinality\nDescription\ntargetDnai\nDnai\nC\n0..1\nThis IE shall be present if the I-SMF selection/ removal or SMF selection per target DNAI is needed.\nWhen present, this IE shall contain the target DNAI.\nThis IE shall be absent for an SMF triggered I-SMF removal due to the DNAI being no longer used by the PDU Session.\nsmfSelectionType\nSmfSelectionType\nM\n1\nThis IE shall indicate the I-SMF selection or removal for the current PDU session or SMF selection during PDU Session re-establishment for SSC mode 2/3.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.2.68-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.69",
      "section_id": "6.1.6.2.69",
      "section_title": "Type: AfCoordinationInfo",
      "content": "Table 6.1.6.2.69-1: Definition of type AfCoordinationInfo\nAttribute name\nData type\nP\nCardinality\nDescription\nsourceDnai\nDnai\nC\n0..1\nThis IE shall be present if available. If present, this IE shall contain the source DNAI.\nsourceUeIpv4Addr\nIpv4Addr\nC\n0..1\nThis IE shall be present if available. If present, this IE shall contain the IPv4 Address of the served UE for the source DNAI.\nsourceUeIpv6Prefix\nIpv6Prefix\nC\n0..1\nThis IE shall be present if available. If present, this IE shall contain the Ipv6 Address Prefix of the served UE for the source DNAI.\nnotificationInfoList\narray(NotificationInfo)\nC\n1..N\nThis IE shall be present if available. If present, this IE shall contain the list of the Notification Correlation ID and Notification URI provided by the NF service consumers.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.2.69-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.70",
      "section_id": "6.1.6.2.70",
      "section_title": "Type: NotificationInfo",
      "content": "Table 6.1.6.2.70-1: Definition of type NotificationInfo\nAttribute name\nData type\nP\nCardinality\nDescription\nnotifId\nstring\nM\n1\nNotification Correlation ID provided by the NF service consumer.\nnotifUri\nUri\nM\n1\nIdentifies the recipient of Notifications sent by the SMF.\nupBufferInd\nboolean\nC\n0..1\nThis IE shall be present, if available.\nWhen present, it shall be set as follows:\n- true: uplink buffering is required;\n- false (default): uplink buffering is not required.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.2.70-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.71",
      "section_id": "6.1.6.2.71",
      "section_title": "Type: AnchorSmfFeatures",
      "content": "The AnchorSmfFeatures indicates a list of features supported by the (H-)SMF to the AMF.\nTable 6.1.6.2.71-1: Definition of type AnchorSmfFeatures\nAttribute name\nData type\nP\nCardinality\nDescription\npsetrSupportInd\nboolean\nC\n0..1\nThis IE shall be present and set to \"true\" if the (H-)SMF supports the \"PSETR\" feature as specified in clause 6.8.1 of 3GPP TS 23.527 [24]. It may be present otherwise.\nWhen present, it shall be set as follows:\n-\ttrue: the (H-)SMF supports the \"PSETR\" feature\n-\tfalse: the (H-)SMF does not support the \"PSETR\" feature.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.527_clause_6.8.1",
        "table_6.1.6.2.71-1",
        "ts_23.527"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.72",
      "section_id": "6.1.6.2.72",
      "section_title": "Type: HrsboInfoFromVplmn",
      "content": "Table 6.1.6.2.72-1: Definition of type HrsboInfoFromVplmn\nAttribute name\nData type\nP\nCardinality\nDescription\nhrsboAuthReqInd\nboolean\nC\n0..1\nThis IE shall be present, for a HR PDU session, if the V-SMF requests HR SBO authorization:\n-\tin a Create Request; and\n-\tin an Update Request sent during a V-SMF insertion (i.e. H-PLMN to V-PLMN mobility) and during an Inter-PLMN V-SMF change (i.e. mobility between different V-PLMNs).\nWhen present, this IE shall be set to true to indicate that authorization of Session Breakout for HR Session in VPLMN is requested.\nvEasdfAddr\nIpAddress\nC\n0..1\nThis IE shall be present during a request for HR-SBO authorization, when using the EAS Discovery procedure with V-EASF for HR-SBO (see clause 6.7.2.3 of 3GPP TS 23.548 [39]) and if available, or if the V-EASDF IP address previously signaled to the H-SMF needs to be changed e.g. as a result of a V-SMF change.\nWhen present, this IE shall contain the IP Address of the (new) V-EASDF.\nlocalDnsAddr\nIpAddress\nO\n0..1\nThis IE may be present during the EAS Discovery Procedure with Local DNS for HR-SBO (see clause 6.7.2.4 of 3GPP TS 23.548 [39]) after UL-CL/BP insertion.\nWhen present, it shall be set to the address of the Local DNS Server/Resolver.\neasRediscoveryInd\nboolean\nC\n0..1\nThis IE shall be present, for a HR PDU session, if the UE indicates the support of EAS rediscovery and the V-SMF requests EAS rediscovery in an Update Request sent during a V-SMF insertion (i.e. H-PLMN to V-PLMN mobility) and during an Inter-PLMN V-SMF change (i.e. mobility between different V-PLMNs).\nWhen present, this IE shall be set to true to indicate that EAS rediscovery is requested.\neasInfoToRefresh\nEasInfoToRefresh\nC\n0..1\nThis IE shall be present if the easRediscoveryInd is set to true and the V-SMF receives the information in SM context from source V-SMF or H-SMF.\nWhen present, it shall contain the EAS information to be refreshed for EAS re-discovery.\nstoredOffloadIds\narray(OffloadIdentifier)\nC\n1...N\nThe IE shall be present when the V-SMF service instance has stored a list of offload identifiers which were received from any H-SMF from the Home PLMN during previous signalling procedures for this HR-SBO PDU session and also for other HR-SBO PDU sessions.\nWhen present, this IE shall contain the list of offload identifiers of the HPLMN that are known by the V-SMF service instance.\n(NOTE 1)\neasIpReplSupportInd\nboolean\nO\n0..1\nWhen present, this IE shall indicate the V-SMF capability to support EAS IP Replacement at the VPLMN for HR-SBO traffic.\ntrue: supported\nfalse (default): not supported\nvEasdfSecurityInfo\narray(DnsServerSecurityInformation)\nO\n1..N\nWhen present, this IE shall contain one or more DNS server security information with length of two octets container(s), set with the V-EASDF security information.\n(NOTE 2)\nlocalDnsSecurityInfo\narray(DnsServerSecurityInformation)\nO\n1..N\nWhen present, this IE shall contain one or more DNS server security information with length of two octets container(s), set with the Local DNS Server/Resolver security information.\n(NOTE 2)\nNOTE 1:\tThe H-SMF assumes that the V-SMF does not know any Offload Identifiers of the HPLMN if this IE is absent.\nNOTE 2:\tThe V-SMF shall ensure that the V-EASDF security information or Local DNS Server/Resolver security information that it provides to the H-SMF is consistent with the DNS security protocol(s) supported by the UE that is received in the PCO IE from the UE.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.548_clause_6.7.2.3",
        "ts_23.548_clause_6.7.2.4",
        "table_6.1.6.2.72-1",
        "ts_23.548"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.73",
      "section_id": "6.1.6.2.73",
      "section_title": "Type: HrsboInfoFromHplmn",
      "content": "Table 6.1.6.2.73-1: Definition of type HrsboInfoFromHplmn\nAttribute name\nData type\nP\nCardinality\nDescription\nhrsboAuthResult\nboolean\nC\n0..1\nThis IE shall be present, for a HR PDU session, if the H-SMF received a request for HR SBO authorization:\n-\tin a Create Response; and\n-\tin an Update Response sent during a V-SMF insertion (i.e. H-PLMN to V-PLMN mobility) and during an Inter-PLMN V-SMF change (i.e. mobility between different V-PLMNs).\nWhen present, this IE shall indicate whether HR-SBO request is authorized as follows:\n- true: authorized.\n- false: Not authorized.\nhDnsAddr\nIpAddress\nC\n0..1\nThis IE shall be present, when using the EAS Discovery procedure with V-EASF for HR-SBO (see clause 6.7.2.3 of 3GPP TS 23.548 [39]) or the EAS discovery procedure with V-EASDF using IP replacement mechanism for supporting HR-SBO (see clause 6.7.2.5 of 3GPP TS 23.548 [39]), if available.\nWhen present, this IE shall contain the DNS server address of HPLMN to be used:\n- for DNS requests related with traffic not to be subject to HR-SBO, to configure the V-EASDF when using the EAS Discovery procedure with V-EASF for HR-SBO (see clause 6.7.2.3 of 3GPP TS 23.548 [39]), or\n- for DNS requests related to traffic subject to HR-SBO, to configure the UPF in VPLMN to perform IP replacement when using the EAS discovery procedure with V-EASDF using IP replacement mechanism for supporting HR-SBO (see clause 6.7.2.5 of 3GPP TS 23.548 [39]). (NOTE 3).\nhPlmnAddr\nIpAddress\nO\n0..1\nThis IE may be present when using the EAS Discovery procedure with V-EASF for HR-SBO (see clause 6.7.2.3 of 3GPP TS 23.548 [39]).\nWhen present, this IE shall contain the HPLMN address information (e.g. H-UPF IP address on N6) to be used by the V-SMF to configure the V-EASDF to build EDNS Client Subnet option for target FQDN of DNS queries which are not authorized for HR-SBO.\nvplmnOffloadingInfoList\narray(VplmnOffloadingInfo)\nO\n0..N\nWhen present, this IE shall include VPLMN specific Offloading Information list applicable to the PDU session and whose offload identifiers are not yet known by the V-SMF service instance or whose offload identifier's version has changed.\n(NOTE 5)(NOTE 6)\nvplmnDlAmbr\nVplmnDlAmbr\nO\n0..1\nWhen present, it shall contain the Authorized DL Session AMBR for Offloading for the V-PLMN.\noffloadIds\narray(OffloadIdentifier)\nC\n0..N\nWhen present, this IE shall include a list of specific Offload Ids applicable for the PDU session and that are part of the StoredOffloadIds included in the corresponding request message.\n(NOTE 5)(NOTE 6)\ninternalGroupIds\narray(GroupId)\nO\n1..N\nWhen present, this IE shall include the list of internal group identifier if the UE belongs to any subscribed internal group(s).\ntargetDnai\nDnai\nC\n0..1\nThis IE shall be present, for a HR PDU session, if the H-SMF receives the target DNAI from AF during AF triggered EAS re-discovery and edge relocation via interacting with HPLMN (see clause 6.7.3.2 of 3GPP TS 23.548 [74]).\nWhen present, this IE shall contain the target DNAI.\ntrafficInfluInfo\nTrafficInfluenceInfo\nO\n0..1\nThis IE may be present for a HR-SBO PDU session, when the AF interacts with the HPLMN to influence the HR-SBO PDU session at VPLMN, e.g. if the H-SMF receives the EAS IP replacement information from AF during AF triggered EAS re-discovery and edge relocation via interacting with HPLMN (see clause 6.7.3.2 of 3GPP TS 23.548 [74]).\nWhen present, it shall include AF traffic influence information that applies at the VPLMN to the HR-SBO PDU session.\nNOTE 1:\tThe H-SMF sends the V-EASDF address received from the V-SMF to the UE in n1SmInfoToUe attribute when using the EAS Discovery procedure with V-EASDF for HR-SBO (see clause 6.7.2.3 of 3GPP TS 23.548 [39]).\nNOTE 2:\tThe H-SMF sends the Local DNS Server/Resolver address received from the V-SMF to the UE in n1SmInfoToUe attribute when using the EAS Discovery Procedure with Local DNS for HR-SBO (see clause 6.7.2.4 of 3GPP TS 23.548 [39]).\nNOTE 3:\tThe H-SMF also sends the DNS server IP address of the HPLMN to the UE in n1SmInfoToUe attribute (via PCO) when using the EAS discovery procedure with V-EASDF using IP replacement mechanism for supporting HR-SBO (see clause 6.7.2.5 of 3GPP TS 23.548 [39]).\nNOTE 4:\tThe H-SMF sends the EAS rediscovery indication and EAS information to be refreshed for EAS re-discovery received from the V-SMF to the UE in n1SmInfoToUe attribute.\nNOTE 5:\tWhen the H-SMF determines that the V-SMF service instance has already received the corresponding Vplmn Offloading Info based on the storedOffloadIds provided by the V-SMF service instance in the corresponding request message and the associated vplmnOffloadInfo has not changed, then in the corresponding response message, the H-SMF shall include the corresponding offload identifier in the offloadIds attribute; otherwise, the H-SMF shall include it in the vplmnOffloadingInfoList attribute. The H-SMF shall always provision a complete list of vplmnOffloadingInfo and/or offloadIds.\nNOTE 6:\tThe V-SMF service instance shall always overwrite any vplmnOffloadingInfoList and the offloadIds stored for the PDU session with the latest vplmnOffloadingInfo and/or offloadIds received. The H-SMF may request the V-SMF to remove all vplmnOffloadingInfo provisioned earlier for a HR-SBO PDU session by provisioning an empty vplmnOffloadingInfo array. When the V-SMF receives a VplmnOffloadingInfo containing an offloadId which is known by the V-SMF, it shall consider that the vplmnOffloadingInfo for the offloadId has changed if the offloadId does not contain a version field or if the offload id has an incremented version number, and if so, the V-SMF service instance shall enforce the changed vplmnOffloadingInfo for the HR-SBO PDU session and also for any other HR-SBO PDU sessions with the same offloadId.\nNOTE 7:\tThe H-SMF sends the V-EASDF (i.e. DNS server) security information received from the V-SMF to the UE in n1SmInfoToUe attribute (via PCO) (see Annex T.4 of 3GPP TS 33.501 [17]).",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.548_clause_6.7.2.3",
        "ts_23.548_clause_6.7.2.5",
        "ts_23.548_clause_6.7.3.2",
        "ts_23.548_clause_6.7.2.4",
        "table_6.1.6.2.73-1",
        "ts_23.548",
        "ts_33.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.74",
      "section_id": "6.1.6.2.74",
      "section_title": "Type: EasInfoToRefresh",
      "content": "Table 6.1.6.2.74-1: Definition of type EasInfoToRefresh\nAttribute name\nData type\nP\nCardinality\nDescription\nipv4AddressRanges\narray(Ipv4AddressRange)\nC\n1..N\nThis IE shall be present if available.\nWhen present, this IE includes the list of impacted ranges of IPv4 addresses which needs to be refreshed.\nipv6AddressRanges\narray(Ipv6AddressRange)\nC\n1..N\nThis IE shall be present if available.\nWhen present, this IE includes the list of impacted ranges of IPv6 addresses which needs to be refreshed.\nfqdnList\narray(Fqdn)\nC\n1..N\nThis IE shall be present if available.\nWhen present, this IE includes the list of impacted FQDNs which needs to be refreshed.\nNOTE:\tAt least one of the addressing parameters (ipv4AddressRanges, ipv6AddressRanges or fqdnList) shall be included in the EasInfoToRefresh.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.2.74-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.75",
      "section_id": "6.1.6.2.75",
      "section_title": "Type: EcnMarkingCongestionInfoReq",
      "content": "Table 6.1.6.2.75-1: Definition of type EcnMarkingCongestionInfoReq\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\necnMarkingRanReq\nEcnMarkingReq\nC\n0..1\nThis IE shall be present when ECN marking for L4S is requested in the NG-RAN.\nWhen present, it shall indicate whether ECN marking for L4S is requested for the UL, the DL or both the UL and the DL, or indicate to stop ECN marking for L4S.\n(NOTE)\nEMECI\necnMarkingUpfReq\nEcnMarkingReq\nC\n0..1\nThis IE shall be present when QoS monitoring for congestion monitoring is requested in the NG-RAN to enable ECN marking for L4S in the PSA UPF.\nWhen present, it shall indicate whether ECN marking for L4S is requested for the UL, the DL or both the UL and the DL, or indicate to stop ECN marking for L4S.\n(NOTE)\nEMECI\ncongestionInfoReq\nCongestionInfoReq\nC\n0..1\nThis IE shall be present when QoS monitoring for congestion monitoring is requested in the NG-RAN to enable Network Exposure of 5GS information.\nWhen present, this IE shall contain QoS monitoring for congestion information as described in clause 5.45.3 of TS 23.501 [2].\n(NOTE)\nEMECI\nNOTE:\tEither the ecnMarkingRanReq IE, ecnMarkingUpfReq IE or the congestionInfoReq IE shall be present.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.501_clause_5.45.3",
        "table_6.1.6.2.75-1",
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.76",
      "section_id": "6.1.6.2.76",
      "section_title": "Type: EcnMarkingCongestionInfoStatus",
      "content": "Table 6.1.6.2.76-1: Definition of type EcnMarkingCongestionInfoStatus\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nqfi\nQfi\nM\n1\nThis IE shall contain the QoS Flow Identifier.\nEMECI\nactivationStatus\nActivationStatus\nM\n1\nThis IE shall indicate the established QoS Flows status (active/not active) for QoS monitoring for congestion information or established QoS Flows status (active/not active) for ECN marking for L4S.\nEMECI",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.2.76-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.77",
      "section_id": "6.1.6.2.77",
      "section_title": "Type: TscAssistanceInformation",
      "content": "Table 6.1.6.2.77-1: Definition of type TscAssistanceInformation\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nperiodicity\nUint32\nO\n0..1\nWhen present, this IE shall indicate the time period between start of two data bursts in milliseconds.\nUEPSM\nn6JitterInformation\nN6JitterInformation\nO\n0..1\nWhen present, this IE shall indicate the downlink N6 jitter range associated with downlink Periodicity.\nUEPSM",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.2.77-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.78",
      "section_id": "6.1.6.2.78",
      "section_title": "Type: N6JitterInformation",
      "content": "Table 6.1.6.2.78-1: Definition of type N6JitterInformation\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nlowerJitterInfo\nInt32\nC\n0..1\nWhen present, this IE shall indicate the Lower DL Jitter Measurement. This IE shall be encoded as a signed32 binary integer value containing the downlink packet Jitter (i.e. positive or negative deviation of the arrival time of first packet of a Data Burst compared to the ideal Data Burst start time which is determined based on the DL periodicity) measured in milliseconds. (See also clause 5.27.2 of 3GPP TS 23.501 [2])\nUEPSM\nhigherJitterInfo\nInt32\nC\n0..1\nWhen present, this IE shall indicate the Higher DL Jitter Measurement. This IE shall be encoded as a signed32 binary integer value containing the downlink packet Jitter (i.e. positive or negative deviation of the arrival time of first packet of a Data Burst compared to the ideal Data Burst start time which is determined based on the DL periodicity) measured in milliseconds. (See also clause 5.27.2 of 3GPP TS 23.501 [2])\nUEPSM",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.501_clause_5.27.2",
        "table_6.1.6.2.78-1",
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.79",
      "section_id": "6.1.6.2.79",
      "section_title": "Type: TrafficInfluenceInfo",
      "content": "Table 6.1.6.2.79-1: Definition of type TrafficInfluenceInfo\nAttribute name\nData type\nP\nCardinality\nDescription\ntraffInfluData\narray(TrafficInfluenceData)\nC\n1..N\nAn array of traffic influence data, where each traffic influence data entry comprises the Service Data Flow description and the Application Function influence on traffic routing Enforcement Control parameters of a PCC rule.\ntraffContDecs\nmap(TrafficControlData)\nC\n1..N\nMap of Traffic Control data policy decisions. The key used in this map for each entry shall be the tcId attribute of the corresponding TrafficControlData.\nThis IE shall be present if the traffInfluData IE contains at least one TrafficInfluenceData entry with the refTcData IE present.\nWhen present, the TrafficControlData shall include the tcId attribute and may include the following attributes:\n- trafficSteeringPolIdDl\n- trafficSteeringPolIdUl\n- routeToLocs\n- maxAllowedUpLat\n- easIpReplaceInfos\n- simConnInd\n- simConnTerm\n- upPathChgEvent\n- candDnaiInd\nSee clause 4.2.6.2.6.2 of 3GPP TS 29.512 [30].",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.512_clause_4.2.6.2.6.2",
        "table_6.1.6.2.79-1",
        "ts_29.512"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.2.80",
      "section_id": "6.1.6.2.80",
      "section_title": "Type: TrafficInfluenceData",
      "content": "Table 6.1.6.2.80-1: Definition of type TrafficInfluenceData\nAttribute name\nData type\nP\nCardinality\nDescription\nflowInfos\narray(FlowInformation)\nC\n1..N\nAn array of Ethernet or IP flow packet filter information.\nappId\nstring\nC\n0..1\nA reference to the application detection filter configured at the UPF.\nprecedence\nUinteger\nO\n0..1\nDetermines the order in which this Traffic Influence Data entry is applied relative to other Traffic Influence Data entries within the same PDU session. It shall be included if the \"flowInfos\" attribute is included or may be included if the \"appId\" attribute is included.\nrefTcData\narray(string)\nO\n1..N\nA reference to the TrafficControlData policy decision type. It is the tcId described in clause 5.6.2.10 of 3GPP TS 29.512 [30].\n(NOTE)\nNOTE:\tArrays are only introduced for future compatibility. In this release of the specification the maximum number of elements in the array is 1.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.512_clause_5.6.2.10",
        "table_6.1.6.2.80-1",
        "ts_29.512"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.3.1",
      "section_id": "6.1.6.3.1",
      "section_title": "Introduction",
      "content": "This clause defines simple data types and enumerations that can be referenced from data structures defined in the previous clauses.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.502_6.1.6.3.2",
      "section_id": "6.1.6.3.2",
      "section_title": "Simple data types",
      "content": "The simple data types defined in table 6.1.6.3.2-1 shall be supported.\nTable 6.1.6.3.2-1: Simple data types\nType Name\nType Definition\nDescription\nProcedureTransactionId\ninteger\nUnsigned integer representing a Procedure Transaction Identity, within the range 0 to 255, as specified in 3GPP TS 24.007 [8].\nEpsBearerId\ninteger\nInteger identifying an EPS bearer, within the range 0 to 15, as specified in clause 11.2.3.1.5, bits 5 to 8, of 3GPP TS 24.007 [8].\nEpsPdnCnxContainer\nstring\nString with format \"byte\" as defined in OpenAPI Specification [15], i.e. base64-encoded characters, encoding the UeEpsPdnConnection IE specified in Table 7.3.1-2 or Table 7.3.6-2 of 3GPP TS 29.274 [16] for the N26 interface.\nEpsBearerContainer\nstring\nString with format \"byte\" as defined in OpenAPI Specification [15], i.e. base64-encoded characters, encoding the Bearer Context IE specified in Table 7.3.2-2 of 3GPP TS 29.274 [16].\nTeid\nstring\n4-octet GTP tunnel endpoint identifier, as defined in 3GPP TS 29.274 [16], in hexadecimal representation. Each character in the string shall take a value of \"0\" to \"9\" or \"a\" to \"f\" or \"A\" to \"F\" and shall represent 4 bits. The most significant character representing the 4 most significant bits of the TEID shall appear first in the string, and the character representing the 4 least significant bit of the TEID shall appear last in the string.\nPattern: \"^[A-Fa-f0-9]{8}\"\nExample:\nA GTP TEID 0x5BD60076 shall be encoded as \"5BD60076\".\nEpsBearerContextStatus\nstring\nEPS bearer context status, as defined in octets 3 and 4 of the EPS bearer context status IE in clause 9.9.2.1 of 3GPP TS 24.301 [27], in hexadecimal representation. Each character in the string shall take a value of \"0\" to \"9\" or \"a\" to \"f\" or \"A\" to \"F\" and shall represent 4 bits. The most significant character representing the 4 most significant bits of the EPS bearer context status shall appear first in the string, and the character representing the 4 least significant bit of the EPS bearer context status shall appear last in the string.\nPattern: '^[A-Fa-f0-9]{4}$'\nExample:\nAn EPS bearer context status IE where only the EBIs 2, 5, 6 and 9 are active shall be encoded as \"6402\".\nDrbId\ninteger\nUnsigned integer representing a Data Radio Bearer Identity, within the range 1 to 32, as specified in clause 9.3.1.53 of 3GPP TS 38.413 [9].\nAdditionalTnlNb\ninteger\nUnsigned integer, within the range 1 to 3, indicating whether this is the first, second or third additional indirect data forwarding tunnel for multi-connectivity.\nForwardingBearerContainer\nstring\nString with format \"byte\" as defined in OpenAPI Specification [15], i.e. base64-encoded characters, encoding the Bearer Context IE within Context Acknowledge specified in Table 7.3.7-2 of 3GPP TS 29.274 [16].\nSecondaryRatUsageDataReportContainer\nstring\nString with format \"byte\" as defined in OpenAPI Specification [15], i.e. base64-encoded characters, encoding the Secondary RAT Usage Data Report IE within Forward Relocation Complete  Acknowledge specified in Table 7.3.4-1 of 3GPP TS 29.274 [16] (starting from octet 1).\nDnsServerSecurityInformation\nstring\nString with format \"byte\" as defined in OpenAPI Specification [15], i.e. base64-encoded characters, encoding the DNS server security information with length of two octets container specified in clause 10.5.6.3.1 of 3GPP TS 24.008 [47].\nPduSessionPriority\ninteger\nUnsigned integer representing the priority of the PDU session, within the range 0 to 31 (where 0 indicates the highest priority and 31 indicates the lowest priority), that is used to determine the SBI Message Priority (SMP) to set in subsequent signaling related to this PDU session as specified in clauses 5.22.2 and 5.22.3 of 3GPP TS 23.501 [2].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_24.007_clause_11.2.3.1.5",
        "ts_24.301_clause_9.9.2.1",
        "ts_38.413_clause_9.3.1.53",
        "ts_24.008_clause_10.5.6.3.1",
        "table_6.1.6.3.2-1",
        "table_7.3.1-2",
        "ts_29.274_table_7.3.6-2",
        "ts_29.274_table_7.3.2-2",
        "ts_29.274_table_7.3.7-2",
        "ts_29.274_table_7.3.4-1",
        "ts_24.007",
        "ts_29.274",
        "ts_24.301",
        "ts_38.413",
        "ts_24.008",
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.3.3",
      "section_id": "6.1.6.3.3",
      "section_title": "Enumeration: UpCnxState",
      "content": "The enumeration UpCnxState represents the state of the user plane connection of a PDU session. It shall comply with the provisions defined in table 6.1.6.3.3-1.\nTable 6.1.6.3.3-1: Enumeration UpCnxState\nEnumeration value\nDescription\n\"ACTIVATED\"\nA N3 tunnel is established between the 5G-AN and UPF.\n\"DEACTIVATED\"\nNo N3 tunnel is established between the 5G-AN and UPF.\n\"ACTIVATING\"\nA N3 tunnel is being established (the 5G-AN's F-TEID for downlink traffic is not assigned yet).\n\"SUSPENDED\"\nA N3 tunnel is suspended between the 5G-AN and UPF.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.3.3-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.3.4",
      "section_id": "6.1.6.3.4",
      "section_title": "Enumeration: HoState",
      "content": "The enumeration HoState represents the handover state of a PDU session. It shall comply with the provisions defined in table 6.1.6.3.4-1.\nTable 6.1.6.3.4-1: Enumeration HoState\nEnumeration value\nDescription\n\"NONE\"\nNo handover is in progress for the PDU session.\n\"PREPARING\"\nA handover is in preparation for the PDU session; see clause 5.2.2.3.4.1.\n\"PREPARED\"\nA handover is prepared for the PDU session; see clause 5.2.2.3.4.1.\n\"COMPLETED\"\nThe handover is completed.\n\"CANCELLED\"\nThe handover is cancelled.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.3.4.1",
        "table_6.1.6.3.4-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.3.5",
      "section_id": "6.1.6.3.5",
      "section_title": "Enumeration: RequestType",
      "content": "The enumeration RequestType indicates the type of a PDU session creation request. It shall comply with the provisions defined in table 6.1.6.3.5-1.\nTable 6.1.6.3.5-1: Enumeration RequestType\nEnumeration value\nDescription\n\"INITIAL_REQUEST\"\nRequest to establish a new PDU session.\n\"EXISTING_PDU_SESSION\"\nRequest referring to an existing PDU session.\n\"INITIAL_EMERGENCY_REQUEST\"\nRequest to establish a new PDU session for Emergency Services.\n\"EXISTING_EMERGENCY_PDU_SESSION\"\nRequest referring to an existing PDU session for Emergency Services.\nNOTE:\tClause 9.11.3.47 of 3GPP TS 24.501 [7] defines a specific Request type value in NAS PDUs for a MA PDU request. This shall be mapped to the maRequestInd attribute in the Create SM Context Request, Update SM Context Request, Create Request and Update Request. Accordingly, no corresponding value is defined in the RequestType enumeration.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_24.501_clause_9.11.3.47",
        "table_6.1.6.3.5-1",
        "ts_24.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.3.6",
      "section_id": "6.1.6.3.6",
      "section_title": "Enumeration: RequestIndication",
      "content": "The enumeration RequestIndication indicates the request type. It shall comply with the provisions defined in table 6.1.6.3.6-1.\nTable 6.1.6.3.6-1: Enumeration RequestIndication\nEnumeration value\nDescription\n\"UE_REQ_PDU_SES_MOD\"\nUE Requested PDU Session Modification\n\"UE_REQ_PDU_SES_REL\"\nUE Requested PDU Session Release\n\"PDU_SES_MOB\"\nPDU Session Mobility (e.g. between 3GPP and non-3GPP access, or from EPS to 5GS with N26 interface)\n\"NW_REQ_PDU_SES_AUTH\"\nNetwork Requested PDU Session Authentication. This value is used for the procedures with a secondary authorization/ authentication in an Update request initiated by an H-SMF/SMF during e.g. the PDU Session establishment procedure to inform the V-SMF/I-SMF that the H-SMF/SMF decided to initiate the optional PDU Session establishment authentication/authorization procedure (see clause 4.3.2.3 in 3GPP TS 23.502 [3]).\n\"NW_REQ_PDU_SES_MOD\"\nNetwork Requested PDU Session Modification\n\"NW_REQ_PDU_SES_REL\"\nNetwork Requested PDU Session Release\n\"EBI_ASSIGNMENT_REQ\"\nEPS Bearer ID Assignment Request or EPS Bearer ID Revocation Request\n\"REL_DUE_TO_5G_AN_REQUEST\"\n5G-AN Requested PDU Session Resource Release",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.502_clause_4.3.2.3",
        "table_6.1.6.3.6-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.3.7",
      "section_id": "6.1.6.3.7",
      "section_title": "Enumeration: NotificationCause",
      "content": "The enumeration NotificationCause indicates the cause of a notification. It shall comply with the provisions defined in table 6.1.6.3.7-1.\nTable 6.1.6.3.7-1: Enumeration NotificationCause\nEnumeration value\nDescription\n\"QOS_FULFILLED\"\nThe QoS targets are fulfilled again for the GBR QoS flow.\n\"QOS_NOT_FULFILLED\"\nThe QoS targets are no longer fulfilled for the GBR QoS flow.\n\"UP_SEC_FULFILLED\"\nThe user plane security enforcement \"Preferred\" is fulfilled again for the PDU session.\n\"UP_SEC_NOT_FULFILLED\"\nThe user plane security enforcement \"Preferred\" (or \"Required\" during a handover failure scenario) is not fulfilled for the PDU session.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.3.7-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.3.8",
      "section_id": "6.1.6.3.8",
      "section_title": "Enumeration: Cause",
      "content": "The enumeration Cause indicates a cause information. It shall comply with the provisions defined in table 6.1.6.3.8-1.\nTable 6.1.6.3.8-1: Enumeration Cause\nEnumeration value\nDescription\n\"REL_DUE_TO_HO\"\nRelease due to Handover\n\"EPS_FALLBACK\"\nMobility due to EPS fallback for IMS voice is on-going.\n\"REL_DUE_TO_UP_SEC\"\nRelease due to user plane Security requirements that cannot be fulfilled.\n\"DNN_CONGESTION\"\nRelease due to the DNN based congestion control.\n\"S_NSSAI_CONGESTION\"\nRelease due to the S-NSSAI based congestion control.\n\"REL_DUE_TO_REACTIVATION\"\nRelease due to PDU session reactivation.\n\"5G_AN_NOT_RESPONDING\"\nThe 5G AN did not respond to the request initiated by the network.\n\"REL_DUE_TO_SLICE_NOT_AVAILABLE\"\nRelease due to the associated S-NSSAI becomes no longer available (e.g. the validity time of the S-NSSAI expires, or the S-NSSAI is decommissioned, etc.).\n\"REL_DUE_TO_DUPLICATE_SESSION_ID\"\nRelease due to a UE request to establish a new PDU session with an identical PDU session Id.\n\"PDU_SESSION_STATUS_MISMATCH\"\nRelease due to mismatch of PDU Session status between UE and AMF.\n\"HO_FAILURE\"\nHandover preparation failure\n\"INSUFFICIENT_UP_RESOURCES\"\nFailure to activate the User Plane connection of a PDU session due to insufficient user plane resources.\n\"PDU_SESSION_HANDED_OVER\"\nThe PDU session is handed over to another system or access.\n\"PDU_SESSION_RESUMED\"\nResume the user plane connection of the PDU session.\n\"CN_ASSISTED_RAN_PARAMETER_TUNING\"\nSMF derived CN assisted RAN parameters tuning.\n\"ISMF_CONTEXT_TRANSFER\"\nThe PDU session shall be transferred from old I-SMF to new I-SMF.\n\"SMF_CONTEXT_TRANSFER\"\nThe PDU session shall be transferred from old SMF to new SMF.\n\"REL_DUE_TO_PS_TO_CS_HO\"\nRelease due to 5G SRVCC from NG-RAN to 3GPP UTRAN, as specified in clause 6.5.4 of 3GPP TS 23.216 [35].\n\"REL_DUE_TO_SUBSCRIPTION_CHANGE\"\nPDU session release due to UE subscription changes, triggered by the SMF e.g. due to the removal of subscribed DNNs, or by the AMF e.g. due to ODB changes.\n\"HO_CANCEL\"\nHandover cancellation\n\"REL_DUE_TO_SLICE_NOT_AUTHORIZED\"\nRelease due to Network Slice-Specific Authentication and Authorization failure or revocation.\n\"PDU_SESSION_HAND_OVER_FAILURE\"\nFailure to handover PDU session to another access\n\"DDN_FAILURE_STATUS\"\nDDN failure status reporting\n\"REL_DUE_TO_CP_ONLY_NOT_APPLICABLE\"\nRelease due to Control Plane Only indication associated with PDU Session is not applicable any longer\n\"NOT_SUPPORTED_WITH_ISMF\"\nPDU session release due to a requested functionality that is not supported for a PDU session with an I-SMF/V-SMF.\n\"CHANGED_ANCHOR_SMF\"\nThe anchor SMF of the PDU session is changed.\n\"CHANGED_INTERMEDIATE_SMF\"\nThe intermediate SMF (e.g. I-SMF or V-SMF) is changed.\n\"TARGET_DNAI_NOTIFICATION\"\nNotify the target DNAI for I-SMF selection for the current PDU Session, or SMF selection during PDU Session re-establishment for SSC mode 2/3.\n\"REL_DUE_TO_VPLMN_QOS_FAILURE\"\nRelease due to QoS not complying with VPLMN QoS constraints, i.e. VPLMN QoS constraints are required for the PDU session and the H-SMF provides QoS parameters not complying with VPLMN QoS required by the V-SMF.\n\"REL_DUE_TO_SMF_NOT_SUPPORT_PSETR\"\nRelease the PDU session due to the (H-)SMF does not support the PSETR feature when the V/I-SMF has failed.\n\"REL_DUE_TO_SNPN_SNPN_MOBILITY\"\nRelease due to the PDU session is rejected by the new AMF during registration procedure as the continuity of the PDU Session cannot be supported between networks with SNPN-SNPN mobility.\n\"REL_DUE_TO_NO_HR_AGREEMENT\"\nRelease due to the PDU session is rejected by the new AMF during registration procedure as the continuity of the PDU Session cannot be supported between networks with inter-PLMN mobility where no HR agreement exists.\n\"REL_DUE_TO_SNSSAI_DENIED\"\nRelease due to the subscriber does not have the necessary subscription to access the SNSSAI.\n\"REL_DUE_TO_DNN_DENIED\"\nRelease due to the subscriber does not have the necessary subscription to access the DNN.\n\"REL_DUE_TO_PDUTYPE_DENIED\"\nRelease due to the subscriber does not have the necessary subscription for the requested PDU session type.\n\"REL_DUE_TO_SSC_DENIED\"\nRelease due to the subscriber does not have the necessary subscription for the requested SSC mode.\n\"REL_DUE_TO_SUBSCRIPTION_DENIED\"\nRelease due to an error, other than those listed in this table, due to lack of necessary subscription to serve the UE request.\n\"REL_DUE_TO_DNN_NOT_SUPPORTED\"\nRelease due to the DNN is not supported by the SMF.\n\"REL_DUE_TO_PDUTYPE_NOT_SUPPORTED\"\nRelease due to the requested PDU session type is not supported by the SMF for the PDN corresponding to the DNN.\n\"REL_DUE_TO_SSC_NOT_SUPPORTED\"\nRelease due to the requested SSC mode is not supported by the SMF for the PDN corresponding to the DNN.\n\"REL_DUE_TO_INSUFFICIENT_RESOURCES_SLICE\"\nRelease due to insufficient resources for the specific slice.\n\"REL_DUE_TO_INSUFFICIENT_RESOURCES_SLICE_DNN\"\nRelease due to insufficient resources for the specific slice and DNN.\n\"REL_DUE_TO_DNN_CONGESTION\"\nThe SMF has detected congestion for the requested DNN and performs overload control for that DNN which does not allow the PDU session to be established.\n\"REL_DUE_TO_S_NSSAI_CONGESTION\"\nThe SMF has detected congestion for the requested S-NSSAI and performs overload control for that S-NSSAI which does not allow the PDU session to be established.\n\"REL_DUE_TO_PEER_NOT_RESPONDING\"\nNo response is received from a remote peer, or the remote peer is known to be not reachable, e.g. to indicate that no response has been received from the H-SMF for a HR PDU session or the SMF for a PDU session with I-SMF.\n\"REL_DUE_TO_NETWORK_FAILURE\"\nThe request is rejected due to a network problem.\n\"REL_DUE_TO_UPF_NOT_RESPONDING\"\nThe request is rejected due to no response received from the UPF.\n\"REL_DUE_TO_NO_EPS_5GS_CONTINUITY\"\nIt is used during an EPS to 5GS Idle mode mobility or handover, if the PDU session does not support seamless session continuity to 5GS.\n\"REL_DUE_TO_NOT_SUPPORTED_WITH_ISMF\"\nThe request is rejected due to a requested functionality that is not supported for a PDU session with an I-SMF/V-SMF.\n\"REL_DUE_TO_EXCEEDED_UE_SLICE_DATA_RATE\"\nThe request is rejected due to the maximum bit rate per S-NSSAI per UE is exceeded, when the SMF receives the same application error from the PCF.\n\"REL_DUE_TO_EXCEEDED_SLICE_DATA_RATE\"\nThe request is rejected due to the maximum bit rate per S-NSSAI is exceeded, when the SMF receives the same application error from the PCF.\n\"REL_DUE_TO_CONTEXT_NOT_FOUND\"\nIt is used when no context corresponding to the request exists in the SMF.\n\"REL_DUE_TO_UNSPECIFIED_REASON\"\nRelease due to unspecified reasons.\n\"REL_DUE_TO_MOB_ACCESS_RESTRICTIONS\"\nRelease due to Mobility Restrictions or Access Restrictions (e.g. CAG restrictions).\n\"REL_DUE_TO_SLICE_INACTIVITY\"\nRelease due to slice inactivity (i.e. slice-specific inactivity period for the PDU session expires), as specified in clause 5.15.15.3 of 3GPP TS 23.501 [2] and clause 5.11.2 of 3GPP TS 29.244 [29].\n\"REL_DUE_TO_NSI_NOT_AVAILABLE\"\nRelease due to the associated Network Slice Instance is congested or not available, as specified in clause 5.2.16.3.3 of 3GPP TS 23.502 [3].\n\"REL_DUE_TO_MBSR_NOT_AUTHORIZED\"\nRelease due to the MBSR authorization status is changed from \"authorized\" to \"not authorized\".\n\"DEACT_DUE_TO_UE_OUT_OF_SLICE_SUPPORT_AREA\"\nUser Plane deactivation due to the UE moving out of the network slice area of support or availability, as specified in clause 4.3.7 of 3GPP TS 23.502 [3].\n\"REJECT_DUE_TO_N1_SM_ERROR\"\nThe PDU Session is rejected due to N1 SM Error, e.g. PDU session establishment rejected due to Operator Determined Barring.\n\"REL_DUE_TO_DUPLICATE_SESSION_EPDG\"\nRelease due to a new PDU session with an identical PDU session Id was established from another anchor SMF via an ePDG.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.216_clause_6.5.4",
        "ts_23.501_clause_5.15.15.3",
        "ts_23.501_clause_5.11.2",
        "ts_23.502_clause_5.2.16.3.3",
        "ts_23.502_clause_4.3.7",
        "table_6.1.6.3.8-1",
        "ts_29.244_clause_5.11.2",
        "ts_23.216",
        "ts_23.501",
        "ts_29.244",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.3.9",
      "section_id": "6.1.6.3.9",
      "section_title": "Enumeration: ResourceStatus",
      "content": "The enumeration ResourceStatus indicates the status of an SM context or PDU session resource. It shall comply with the provisions defined in table 6.1.6.3.9-1.\nTable 6.1.6.3.9-1: Enumeration ResourceStatus\nEnumeration value\nDescription\nApplicability\n\"RELEASED\"\nThe SM context or PDU session resource is released.\n\"UNCHANGED\"\nThe status of SM context or PDU session resource is not changed.\n\"TRANSFERRED\"\nThe SM context shall be transferred.\n\"UPDATED\"\nThe SM context or PDU session resource context has changed:\n-\tThe access type of PDU session is changed.\n-\tThe anchor SMF (H-SMF or SMF) or intermediate SMF (I-SMF or V-SMF) has changed within the SMF set.\n-\tThe SM context with the I-SMF in the source access needs to be released but without releasing the PDU session in the AMF (see clauses 5.2.2.5.1 and 5.2.2.10.1).\nHOFAIL\nES3XX\nDTSSA\n\"ALT_ANCHOR_SMF\"\nThe V-SMF has established the PDU session towards an alternative H-SMF during PDU session establishment for HR PDU session, as specified in clause 4.3.2.2.2 of 3GPP TS 23.502 [3], or the I-SMF has established the PDU session towards an alternative SMF during PDU session establishment for a PDU session with I-SMF (see clause 4.23.5.1 of 3GPP TS 23.502 [3]).\nAASN",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.502_clause_4.3.2.2.2",
        "ts_23.502_clause_4.23.5.1",
        "table_6.1.6.3.9-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.3.10",
      "section_id": "6.1.6.3.10",
      "section_title": "Enumeration: DnnSelectionMode",
      "content": "The enumeration DnnSelectionMode indicates whether the DNN of a PDU session being established corresponds to an explicitly subscribed DNN or to the usage of a wildcard subscription. It shall comply with the provisions defined in table 6.1.6.3.10-1.\nTable 6.1.6.3.10-1: Enumeration DnnSelectionMode\nEnumeration value\nDescription\n\"VERIFIED\"\nUE or network provided DNN is authorized based on the explicitly subscribed DNN, subscription verified\n\"UE_DNN_NOT_VERIFIED\"\nUE provided DNN is authorized based on the wildcard DNN, subscription not verified\n\"NW_DNN_NOT_VERIFIED\"\nNetwork provided DNN is authorized based on the wildcard DNN, subscription not verified",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.3.10-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.3.11",
      "section_id": "6.1.6.3.11",
      "section_title": "Enumeration: EpsInterworkingIndication",
      "content": "The enumeration EpsInterworkingIndication indicates whether and how the PDU session will possibly be moved to EPS or EPC/ePDG.\nTable 6.1.6.3.11-1: Enumeration EpsInterworkingIndication\nEnumeration value\nDescription\n\"NONE\"\nThe PDU session cannot be moved to EPS and EPC/ePDG.\n(NOTE)\n\"WITH_N26\"\nThe PDU session may possibly be moved to EPS or EPC/ePDG, with N26 interface supported during EPS interworking procedures.\nThis may correspond to:- a PDU session or an MA-PDU session with a 3GPP access; or- a MA PDU Session with a non-3GPP access for a UE registered to the same PLMN over both 3GPP and non-3GPP accesses, i.e. served by the same AMF for both accesses.\n\"WITHOUT_N26\"\nThe PDU session may possibly be moved to EPS or EPC/ePDG, without N26 interface supported during EPS interworking procedures.\nThis may correspond to:- a PDU session or an MA-PDU session with a 3GPP access; or- a MA PDU Session with a non-3GPP access for a UE registered to the same PLMN over both 3GPP and non-3GPP accesses, i.e. served by the same AMF for both accesses.\n\"IWK_NON_3GPP\"\nThe PDU session via non-3GPP access may possibly be moved to EPS.\nNOTE:\tSee clause 4.11.5 of 3GPP TS 23.502 [3] for the setting of the EpsInterworkingIndication by the AMF and its handling by the SMF.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.502_clause_4.11.5",
        "table_6.1.6.3.11-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.3.12",
      "section_id": "6.1.6.3.12",
      "section_title": "Enumeration: N2SmInfoType",
      "content": "Table 6.1.6.3.12-1: Enumeration N2SmInfoType\nEnumeration value\nDescription\n\"PDU_RES_SETUP_REQ\"\nPDU Session Resource Setup Request Transfer\n\"PDU_RES_SETUP_RSP\"\nPDU Session Resource Setup Response Transfer\n\"PDU_RES_SETUP_FAIL\"\nPDU Session Resource Setup Unsuccessful Transfer\n\"PDU_RES_REL_CMD\"\nPDU Session Resource Release Command Transfer\n\"PDU_RES_REL_RSP\"\nPDU Session Resource Release Response Transfer\n\"PDU_RES_MOD_REQ\"\nPDU Session Resource Modify Request Transfer\n\"PDU_RES_MOD_RSP\"\nPDU Session Resource Modify Response Transfer\n\"PDU_RES_MOD_FAIL\"\nPDU Session Resource Modify Unsuccessful Transfer\n\"PDU_RES_NTY\"\nPDU Session Resource Notify Transfer\n\"PDU_RES_NTY_REL\"\nPDU Session Resource Notify Released Transfer\n\"PDU_RES_MOD_IND\"\nPDU Session Resource Modify Indication Transfer\n\"PDU_RES_MOD_CFM\"\nPDU Session Resource Modify Confirm Transfer\n\"PATH_SWITCH_REQ\"\nPath Switch Request Transfer\n\"PATH_SWITCH_SETUP_FAIL\"\nPath Switch Request Setup Failed Transfer\n\"PATH_SWITCH_REQ_ACK\"\nPath Switch Request Acknowledge Transfer\n\"PATH_SWITCH_REQ_FAIL\"\nPath Switch Request Unsuccessful Transfer\n\"HANDOVER_REQUIRED\"\nHandover Required Transfer\n\"HANDOVER_CMD\"\nHandover Command Transfer\n\"HANDOVER_PREP_FAIL\"\nHandover Preparation Unsuccessful Transfer\n\"HANDOVER_REQ_ACK\"\nHandover Request Acknowledge Transfer\n\"HANDOVER_RES_ALLOC_FAIL\"\nHandover Resource Allocation Unsuccessful Transfer\n\"SECONDARY_RAT_USAGE\"\nSecondary RAT Data Usage Report Transfer\n\"PDU_RES_MOD_IND_FAIL\"\nPDU Session Resource Modify Indication Unsuccessful Transfer\n\"UE_CONTEXT_RESUME_REQ\"\nUE Context Resume Request Transfer\n\"UE_CONTEXT_RESUME_RSP\"\nUE Context Resume Response Transfer\n\"UE_CONTEXT_SUSPEND_REQ\nUE Context Suspend Request Transfer",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.3.12-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.3.13",
      "section_id": "6.1.6.3.13",
      "section_title": "Enumeration: MaxIntegrityProtectedDataRate",
      "content": "Table 6.1.6.3.13-1: Enumeration MaxIntegrityProtectedDataRate\nEnumeration value\nDescription\n\"64_KBPS\"\n64 kbps\n\"MAX_UE_RATE\"\nFull data rate",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.3.13-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.3.14",
      "section_id": "6.1.6.3.14",
      "section_title": "Enumeration: MaReleaseIndication",
      "content": "The enumeration MaReleaseIndication indicates the access type over which the MA PDU session is requested to be released.\nTable 6.1.6.3.14-1: Enumeration MaReleaseIndication\nEnumeration value\nDescription\n\"REL_MAPDU_OVER_3GPP\"\nThe MA PDU session over 3GPP access is to be released or has been released.\n\"REL_MAPDU_OVER_N3GPP\"\nThe MA PDU session over Non-3GPP access is to be released or has been released.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.3.14-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.3.15",
      "section_id": "6.1.6.3.15",
      "section_title": "Enumeration: SmContextType",
      "content": "The enumeration SmContextType represents the type of SM context information requested during a Retrieve SM Context service operation. It shall comply with the provisions defined in table 6.1.6.3.15-1.\nTable 6.1.6.3.15-1: Enumeration SmContextType\nEnumeration value\nDescription\n\"EPS_PDN_CONNECTION\"\nUE EPS PDN Connection.\n\"SM_CONTEXT\"\nComplete SM Context (i.e. 5G SM context including EPS context information as defined in clause 6.1.6.2.39)\n\"AF_COORDINATION_INFO\"\nAF Coordination Information",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1.6.2.39",
        "table_6.1.6.3.15-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.3.16",
      "section_id": "6.1.6.3.16",
      "section_title": "Enumeration: PsaIndication",
      "content": "The enumeration PsaIndication indicates whether a PSA and an UL CL or BP, or only a PSA has been inserted or removed to/from the data path of a PDU session by an I-SMF. It shall comply with the provisions defined in table 6.1.6.3.16-1.\nTable 6.1.6.3.16-1: Enumeration PsaIndication\nEnumeration value\nDescription\n\"PSA_INSERTED\"\nA PSA and UL CL or BP has been inserted into the data path of the PDU session.\n\"PSA_REMOVED\"\nA PSA and UL CL or BP has been removed from the data path of the PDU session.\n\"PSA_INSERTED_ONLY\"\nA PSA has been inserted into the data path of the PDU session and the UL CL or BP is not changed.\n\"PSA_REMOVED_ONLY\"\nA PSA has been removed from the data path of the PDU session and the UL CL or BP is not changed.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.3.16-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.3.17",
      "section_id": "6.1.6.3.17",
      "section_title": "Enumeration: N4MessageType",
      "content": "The enumeration N4MessageType indicates the PFCP message type sent within a N4 Message Payload. It shall comply with the provisions defined in table 6.1.6.3.17-1.\nTable 6.1.6.3.17-1: Enumeration N4MessageType\nEnumeration value\nDescription\n\"PFCP_SES_EST_REQ\"\nPFCP Session Establishment Request\n\"PFCP_SES_EST_RSP\"\nPFCP Session Establishment Response\n\"PFCP_SES_MOD_REQ\"\nPFCP Session Modification Request\n\"PFCP_SES_MOD_RSP\"\nPFCP Session Modification Response\n\"PFCP_SES_DEL_REQ\"\nPFCP Session Deletion Request\n\"PFCP_SES_DEL_RSP\"\nPFCP Session Deletion Response\n\"PFCP_SES_REP_REQ\"\nPFCP Session Report Request\n\"PFCP_SES_REP_RSP\"\nPFCP Session Report Response",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.3.17-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.3.18",
      "section_id": "6.1.6.3.18",
      "section_title": "Enumeration: QosFlowAccessType",
      "content": "The enumeration QoSFlowAccessType indicates the access type which the QoS Flow is associated with.\nTable 6.1.6.3.18-1: Enumeration QosFlowAccessType\nEnumeration value\nDescription\n\"3GPP\"\nThe QoS Flow is only associated with 3GPP access.\n\"NON_3GPP\"\nThe QoS Flow is only associated with Non-3GPP access.\n\"3GPP_AND_NON_3GPP\"\nThe QoS Flow is associated with both 3GPP access and Non-3GPP access.",
      "chunk_type": "procedure",
      "cross_references": [
        "table_6.1.6.3.18-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.3.19",
      "section_id": "6.1.6.3.19",
      "section_title": "Enumeration: UnavailableAccessIndication",
      "content": "The enumeration UnavailableAccessIndication indicates the access type of the MA PDU session that is unavailable.\nTable 6.1.6.3.19-1: Enumeration UnavailableAccessIndication\nEnumeration value\nDescription\n\"3GA_UNAVAILABLE\"\nThe 3GPP access of the MA PDU session is unavailable.\n\"N3GA_UNAVAILABLE\"\nThe Non-3GPP access of the MA PDU session is unavailable.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.3.19-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.3.20",
      "section_id": "6.1.6.3.20",
      "section_title": "Enumeration: ProtectionResult",
      "content": "The enumeration ProtectionResult indicates whether the security policy indicated as \"preferred\" is performed or not.\nTable 6.1.6.3.20-1: Enumeration ProtectionResult\nEnumeration value\nDescription\n\"PERFORMED\"\nThe security policy indicated as \"preferred\" is performed\n\"NOT_PERFORMED\"\nThe security policy indicated as \"preferred\" is not performed",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.3.20-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.3.21",
      "section_id": "6.1.6.3.21",
      "section_title": "Enumeration: QosMonitoringReq",
      "content": "The enumeration QosMonitoringReq indicates the measurement of UL, or DL, or both UL/DL delays, or no measurements are required.\nTable 6.1.6.3.21-1: Enumeration QosMonitoringReq\nEnumeration value\nDescription\n\"UL\"\nMeasurement of UL delay.\n\"DL\"\nMeasurement of DL delay.\n\"BOTH\"\nMeasurement of both UL/DL delays.\n\"NONE\"\nNo measurements are required. This value shall be used to stop on-going UL and/or DL measurements.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.3.21-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.3.22",
      "section_id": "6.1.6.3.22",
      "section_title": "Enumeration: Rsn",
      "content": "The enumeration Rsn indicates the RSN value which differentiates the PDU sessions that are handled redundantly (see clause 5.33.2.1 of 3GPP TS 23.501 [2]).\nTable 6.1.6.3.22-1: Enumeration Rsn\nEnumeration value\nDescription\n\"V1\"\nV1\n\"V2\"\nV2\n\"NONE\"\nThis value indicates that no RSN value is available (NOTE)\nNOTE:\tThis value shall be used in a Create Request if a PDU Session Pair ID was received from the UE without an RSN value.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.501_clause_5.33.2.1",
        "ts_23.501_table_6.1.6.3.22-1",
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.3.23",
      "section_id": "6.1.6.3.23",
      "section_title": "Enumeration: SmfSelectionType",
      "content": "The enumeration SmfSelectionType represents the I-SMF selection or removal for the current PDU Session, or the SMF selection during PDU Session re-establishment for SSC mode 2/3. It shall comply with the provisions defined in table 6.1.6.3.23-1.\nTable 6.1.6.3.23-1: Enumeration SmfSelectionType\nEnumeration value\nDescription\n\"CURRENT_PDU_SESSION\"\nI-SMF selection or removal for the current PDU Session.\n\"NEXT_PDU_SESSION\"\nSMF selection for the next PDU Session, i.e. the re-established PDU session for SSC mode 2/3.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.3.23-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.3.24",
      "section_id": "6.1.6.3.24",
      "section_title": "Enumeration: PduSessionContextType",
      "content": "The enumeration PduSessionContextType represents the type of PDU Session information requested during a Retrieve service operation. It shall comply with the provisions defined in table 6.1.6.3.24-1.\nTable 6.1.6.3.24-1: Enumeration PduSessionContextType\nEnumeration value\nDescription\n\"AF_COORDINATION_INFO\"\nAF Coordination Information",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.3.24-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.3.25",
      "section_id": "6.1.6.3.25",
      "section_title": "Enumeration: PendingUpdateInfo",
      "content": "The enumeration PendingUpdateInfo indicates the information that are not required to be updated in real-time.\nTable 6.1.6.3.25-1: Enumeration PendingUpdateInfo\nEnumeration value\nDescription\n\"UE_LOCATION\"\nUE Location\n\"TIMEZONE\"\nTimezone\n\"ACCESS_TYPE\"\nAccess Type\n\"RAT_TYPE\"\nRadio Access Type\n\"AMF_ID\"\nServing AMF Identifier",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.3.25-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.3.26",
      "section_id": "6.1.6.3.26",
      "section_title": "Enumeration: EstablishmentRejectionCause",
      "content": "The enumeration EstablishmentRejectionCause indicates the reason to reject the PDU session establishment request.\nTable 6.1.6.3.26-1: Enumeration EstablishmentRejectionCause\nEnumeration value\nDescription\n\"OPERATOR_DETERMINED_BARRING\"\nPDU Session Establishment to be rejected due to Operator Determined Barring.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.3.26-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.3.27",
      "section_id": "6.1.6.3.27",
      "section_title": "Enumeration: EcnMarkingReq",
      "content": "Table 6.1.6.3.27-1: Enumeration EcnMarkingReq\nEnumeration value\nDescription\nApplicability\nUL\nECN marking for L4S for the UL.\nDL\nECN marking for L4S for the DL.\nBOTH\nECN marking for L4S for the UL and the DL.\nSTOP\nStop ECN marking for L4S.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.3.27-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.3.28",
      "section_id": "6.1.6.3.28",
      "section_title": "Enumeration: CongestionInfoReq",
      "content": "Table 6.1.6.3.28-1: Enumeration CongestionInfoReq\nEnumeration value\nDescription\nApplicability\nUL\nIndicates to NG-RAN to report the congestion information of the QoS Flow on UL direction.\nDL\nIndicates to NG-RAN to report the congestion information of the QoS Flow on DL direction.\nBOTH\nIndicates to NG-RAN to report the congestion information of the QoS Flow on UL and DL directions.\nSTOP\nIndicates to NG-RAN to stop reporting the congestion information of the QoS Flow.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.3.28-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.3.29",
      "section_id": "6.1.6.3.29",
      "section_title": "Enumeration: ActivationStatus",
      "content": "Table 6.1.6.3.29-1: Enumeration ActivationStatus\nEnumeration value\nDescription\nApplicability\nACTIVE\nIndicates that the established QoS Flows status for QoS monitoring for congestion information or for ECN marking for L4S is active.\nNOT_ACTIVTE\nIndicates that the established QoS Flows status for QoS monitoring for congestion information or for ECN marking for L4S is not active.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.3.29-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.4.1",
      "section_id": "6.1.6.4.1",
      "section_title": "Introduction",
      "content": "This clause defines the binary data that shall be supported in a binary body part in an HTTP multipart message (see clauses 6.1.2.2.2 and 6.1.2.4).\nTable 6.1.6.4.1-1: Binary Data Types\nName\nClause defined\nContent type\nN1 SM Message\n6.1.6.4.2\nvnd.3gpp.5gnas\nN2 SM Information\n6.1.6.4.3\nvnd.3gpp.ngap\nn1SmInfoFromUe\n6.1.6.4.4\nvnd.3gpp.5gnas\nn1SmInfoToUe\n6.1.6.4.4\nvnd.3gpp.5gnas\nunknownN1SmInfo\n6.1.6.4.4\nvnd.3gpp.5gnas\nN4 Message Payload\n6.1.6.4.5\nvnd.3gpp.pfcp",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.4.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.4.2",
      "section_id": "6.1.6.4.2",
      "section_title": "N1 SM Message",
      "content": "N1 SM Message shall encode a 5GS NAS SM message as specified in 3GPP TS 24.501 [7], using the vnd.3gpp.5gnas content-type.\nN1 SM Message may encode any 5GS NAS SM message specified in 3GPP TS 24.501 [7], as summarized in Table 6.1.6.4.2-1.\nTable 6.1.6.4.2-1: N1 SM Message content\n5GS NAS message\nReference\n(3GPP TS 24.501 [7])\nPDU session establishment request\n8.3.1\nPDU session establishment accept\n8.3.2\nPDU session establishment reject\n8.3.3\nPDU session authentication command\n8.3.4\nPDU session authentication complete\n8.3.5\nPDU session authentication result\n8.3.6\nPDU session modification request\n8.3.7\nPDU session modification reject\n8.3.8\nPDU session modification command\n8.3.9\nPDU session modification complete\n8.3.10\nPDU session modification command reject\n8.3.11\nPDU session release request\n8.3.12\nPDU session release reject\n8.3.13\nPDU session release command\n8.3.14\nPDU session release complete\n8.3.15\n5GSM status\n8.3.16\nService-level authentication command\n8.3.17\nService-level authentication complete\n8.3.18\nRemote UE Report\n8.3.19\nRemote UE Report Response\n8.3.20",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.4.2-1",
        "ts_24.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.4.3",
      "section_id": "6.1.6.4.3",
      "section_title": "N2 SM Information",
      "content": "N2 SM Information shall encode NG Application Protocol (NGAP) IEs, as specified in clause 9.3 of 3GPP TS 38.413 [9] (ASN.1 encoded), using the vnd.3gpp.ngap content-type.\nN2 SM Information may encode any NGAP SMF related IE specified in 3GPP TS 38.413 [9], as summarized in Table 6.1.6.4.3-1.\nTable 6.1.6.4.3-1: N2 SM Information content\nN2 SM IE\nReference\n(3GPP TS 38.413 [9])\nRelated NGAP message\nPDU Session Resource Setup Request Transfer\n9.3.4.1\nPDU SESSION RESOURCE SETUP REQUEST\nINITIAL CONTEXT SETUP REQUEST\nHANDOVER REQUEST\nPDU Session Resource Setup Response Transfer\n9.3.4.2\nPDU SESSION RESOURCE SETUP RESPONSE\nINITIAL CONTEXT SETUP RESPONSE\nPDU Session Resource Setup Unsuccessful Transfer\n9.3.4.16\nPDU SESSION RESOURCE SETUP RESPONSE\nINITIAL CONTEXT SETUP RESPONSE\nPDU Session Resource Release Command Transfer\n9.3.4.12\nPDU SESSION RESOURCE RELEASE COMMAND\nPDU Session Resource Release Response Transfer\n9.3.4.21\nPDU SESSION RESOURCE RELEASE RESPONSE\nUE CONTEXT RELEASE COMPLETE\nPDU Session Resource Modify Request Transfer\n9.3.4.3\nPDU SESSION RESOURCE MODIFY REQUEST\nPDU Session Resource Modify Response Transfer\n9.3.4.4\nPDU SESSION RESOURCE MODIFY RESPONSE\nPDU Session Resource Modify Unsuccessful Transfer\n9.3.4.17\nPDU SESSION RESOURCE MODIFY RESPONSE\nPDU Session Resource Notify Transfer\n9.3.4.5\nPDU SESSION RESOURCE NOTIFY\nPDU Session Resource Notify Released Transfer\n9.3.4.13\nPDU SESSION RESOURCE NOTIFY\nPDU Session Resource Modify Indication Transfer\n9.3.4.6\nPDU SESSION RESOURCE MODIFY INDICATION\nPDU Session Resource Modify Confirm Transfer\n9.3.4.7\nPDU SESSION RESOURCE MODIFY CONFIRM\nPDU Session Resource Modify Indication Unsuccessful Transfer\n9.3.4.22\nPDU SESSION RESOURCE MODIFY CONFIRM\nPath Switch Request Transfer\n9.3.4.8\nPATH SWITCH REQUEST\nPath Switch Request Setup Failed Transfer\n9.3.4.15\nPATH SWITCH REQUEST\nPath Switch Request Acknowledge Transfer\n9.3.4.9\nPATH SWITCH REQUEST ACKNOWLEDGE\nPath Switch Request Unsuccessful Transfer\n9.3.4.20\nPATH SWITCH REQUEST ACKNOWLEDGE\nPATH SWITCH REQUEST FAILURE\nHandover Required Transfer\n9.3.4.14\nHANDOVER REQUIRED\nHandover Request Acknowledge Transfer\n9.3.4.11\nHANDOVER REQUEST ACKNOWLEDGE\nHandover Resource Allocation Unsuccessful Transfer\n9.3.4.19\nHANDOVER REQUEST ACKNOWLEDGE\nHandover Command Transfer\n9.3.4.10\nHANDOVER COMMAND\nHandover Preparation Unsuccessful Transfer\n9.3.4.18\nHANDOVER COMMAND\nSecondary RAT Data Usage Report Transfer\n9.3.4.23\nSECONDARY RAT DATA USAGE REPORT\nUE Context Resume Request Transfer\n9.3.4.24\nUE CONTEXT RESUME REQUEST\nUE Context Resume Response Transfer\n9.3.4.25\nUE CONTEXT RESUME RESPONSE\nUE Context Suspend Request Transfer\n9.3.4.26\nUE CONTEXT SUSPEND REQUEST",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_38.413_clause_9.3",
        "table_6.1.6.4.3-1",
        "ts_38.413"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.4.4",
      "section_id": "6.1.6.4.4",
      "section_title": "n1SmInfoFromUe, n1SmInfoToUe, unknownN1SmInfo",
      "content": "n1SmInfoFromUe, n1SmInfoToUe and unknownN1SmInfo shall encode one or more NAS SM IEs, including the Type and Length fields, as specified in 3GPP TS 24.501 [7], using the vnd.3gpp.5gnas content-type.\nClause 5.2.3.1 specifies the information that shall be included in these payloads.\nn1SmInfoFromUe and n1SmInfoToUe may encode the 5GS NAS IEs listed in tables 6.1.6.4.4-1 and 6.1.6.4.4-2.\nTable 6.1.6.4.4-1: n1SmInfoFromUE content\n5GS NAS IE\nReference\n(3GPP TS 24.501 [7])\nRelated NAS SM message\nMessage type\n9.7\nAll NAS SM messages\nPDU session type\n9.11.4.11\nPDU Session Establishment Request\nSSC mode\n9.11.4.16\nPDU Session Establishment Request\nMaximum number of supported packet filters\n9.11.4.9\nPDU Session Establishment Request\nPDU Session Modification Request\nIntegrity protection maximum data rate\n9.11.4.7\nPDU Session Modification Request\n(NOTE 3)\nSM PDU DN request container\n9.11.4.15\nPDU Session Establishment Request\nExtended protocol configuration options\n9.11.4.6\nPDU Session Establishment Request\nPDU Session Authentication Complete\nPDU Session Modification Request\nPDU Session Modification Complete\nPDU Session Modification Command Reject\nPDU Session Release Request\nPDU Session Release Complete\nEAP message\n9.11.2.2\nPDU Session Authentication Complete\nRequested QoS rules\n9.11.4.13\nPDU Session Modification Request\nRequested QoS flow descriptions\n9.11.4.12\nPDU Session Modification Request\n5GSM cause\n9.11.4.2\nPDU Session Modification Request\nPDU Session Release Request\nPDU Session Release Complete\n(NOTE 2)\n5GSM capability\n9.11.4.1\nPDU Session Establishment Request\nPDU Session Modification Request\n(NOTE 1)\nMapped EPS bearer contexts\n9.11.4.8\nPDU Session Modification Request\nRemote UE context connected\n9.11.4.29\nRemote UE Report\nRemote UE context disconnected\n9.11.4.29\nRemote UE Report\nNon-3GPP delay budget\n9.11.4.37\nPDU Session Modification Request\nURSP rule enforcement reports\n9.11.4.38\nPDU Session Establishment Request\nPDU Session Modification Request\nNOTE 1:\tThe 5GSM capability IE shall be encoded as received from the UE. It may contain UE capabilities that the V-SMF (or I-SMF) only needs to transfer to the H-SMF (or SMF), e.g. support of reflective QoS, or support of multi-homed IPv6 PDU session, and/or capabilities to be interpreted and used by the V-SMF (or I-SMF).\nNOTE 2:\tThe 5GSM cause IE shall be encoded as received from the UE.This information is defined as a \"V\" IE (i.e. without a Type field) in other NAS messages, e.g. PDU Session Modification Command Reject message, in which case it shall be sent as a separate n1SmCause IE over N16/N16a and not within the n1SmInfoToUE binary data.\nNOTE 3:\tThis information is defined as a \"V\" IE (i.e. without a Type field) in other NAS messages, e.g. PDU Session Establishment Request, in which case it shall be sent as separate maximum integrity protected data rate IEs over N16/N16a and not within the n1SmInfoFromUE binary data.\nTable 6.1.6.4.4-2: n1SmInfoToUE parameters\n5GS NAS IE\nReference\n(3GPP TS 24.501 [7])\nRelated NAS SM message\nMessage type\n9.7\nAll NAS SM messages\nRQ timer value\n9.11.2.3\nPDU Session Establishment Accept\nPDU Session Modification Command\nEAP message\n9.11.2.2\nPDU Session Establishment Accept\nPDU Session Establishment Reject\nPDU Session Authentication Command\nPDU Session Authentication Result\nPDU Session Release Command\nAllowed SSC mode\n9.11.4.5\nPDU Session Establishment Reject\nExtended protocol configuration options\n9.11.4.6\nPDU Session Establishment Accept\nPDU Session Establishment Reject\nPDU Session Authentication Command\nPDU Session Authentication Result\nPDU Session Modification Reject\nPDU Session Modification Command\nPDU Session Release Reject\nPDU Session Release Command\n5GSM cause\n9.11.4.2\nPDU Session Establishment Accept\nPDU Session Modification Command\n(NOTE 1)\nMapped EPS bearer contexts\n9.11.4.8\nPDU Session Establishment Accept\nPDU Session Modification Command\nATSSS container\n9.11.4.22\nPDU Session Establishment Accept\nPDU Session Modification Command\nN3QAI\n9.11.4.36\nPDU Session Establishment Accept\nPDU Session Modification Command\n(NOTE 2)\nNOTE:\tThis IE indicates the 5GSM cause the H-SMF (or SMF) requires the V-SMF (or I-SMF) to send to the UE. The V-SMF (or I-SMF) shall transfer the received value to the UE without interpretation.This information is defined as a \"V\" IE (i.e. without a Type field) in other NAS messages, e.g. PDU Session Establishment Reject message, in which case it shall be sent as a separate n1SmCause IE over N16/N16a and not within the n1SmInfoToUE binary data.\nNOTE 2:\tN3QAI is configured in SMF based on the S-NSSAI and DNN for PIN service (see clause 5.44.3.3 of 3GPP TS 23.501 [2]).\nThe Message Type shall be present and encoded as the first 5GS NAS IE in any n1SmInfoFromUe, n1SmInfoToUe and unknownN1SmInfo binary data, to enable the receiver to decode the 5GS NAS IEs.\nNOTE:\tThe Information Element Identifier (see clause 11.2.1.1.3 of 3GPP TS 24.007 [8]) of a 5GS NAS IE uniquely identifies an IE in a given message.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.3.1",
        "ts_23.501_clause_5.44.3.3",
        "ts_24.007_clause_11.2.1.1.3",
        "table_6.1.6.4.4-1",
        "table_6.1.6.4.4-2",
        "ts_24.501",
        "ts_9.11",
        "ts_23.501",
        "ts_24.007"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.4.5",
      "section_id": "6.1.6.4.5",
      "section_title": "N4 Message Payload",
      "content": "The N4 Message Payload shall encode a PFCP session related message as specified in 3GPP TS 29.244 [29], using the vnd.3gpp.pfcp content-type.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.244"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.4.6",
      "section_id": "6.1.6.4.6",
      "section_title": "Mobile Originated Data",
      "content": "Mobile Originated Data shall encode the Data Contents of the CIoT small data container or Payload Container specified in 3GPP TS 24.501 [7], using the vnd.3gpp.5gnas content-type, as summarized in Table 6.1.6.4.6-1.\nTable 6.1.6.4.6-1: Mobile Originated Data\nMobile Originated Data\nReference\n(3GPP TS 24.501 [7])\nRelated NAS SM message\nData contents in octet 4 to octet up to 257 of CIoT small data container contents.\n9.11.3.18B\n(Figure 9.11.3.18B.2)\nControl Plane Service Request\nPayload container contents in octets 4 to n\n9.11.3.39\n(Figure 9.11.3.39.1)\nControl Plane Service Request\nUL NAS Transport",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.4.6-1",
        "figure_9.11.3.18",
        "figure_9.11.3.39.1",
        "ts_24.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.6.4.7",
      "section_id": "6.1.6.4.7",
      "section_title": "Mobile Terminated Data",
      "content": "Mobile Terminated Data shall encode the Data Contents of the Payload Container specified in 3GPP TS 24.501 [7], using the vnd.3gpp.5gnas content-type, as summarized in Table 6.1.6.4.7-1.\nTable 6.1.6.4.7-1: Mobile Terminated Data\nMobile Terminated Data\nReference\n(3GPP TS 24.501 [7])\nRelated NAS SM message\nPayload container contents in octets 4 to n\n9.11.3.39\n(Figure 9.11.3.39.1)\nDL NAS Transport",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.4.7-1",
        "figure_9.11.3.39.1",
        "ts_24.501"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.7.1",
      "section_id": "6.1.7.1",
      "section_title": "General",
      "content": "HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS 29.500 [4].\nThe Cause codes mapping performed by AMF between the following HTTP responses returned by the SMF services to the AMF and the 5GMM related values is specified in clause 4.3.2 of 3GPP TS 29.524 [34].\nIn order to enable the AMF to figure out whether a request (e.g. PDU session establishment request) fails at the V-SMF/I-SMF or at the H-SMF/SMF for a HR PDU session or a PDU session with an I-SMF:\n-\ta V-SMF/I-SMF that returns an HTTP error response to the AMF that was originated by the H-SMF/SMF shall include the remoteError attribute set to \"true\" in the ProblemDetails information in the HTTP error response;\n-\ta V-SMF/I-SMF that originates an error to the AMF may include the remoteError attribute set to \"false\" in the ProblemDetails information in the HTTP error response.\nFor a HR PDU session or a PDU session with an I-SMF,  if the V-SMF or I-SMF needs to reject the request from the AMF or the H-SMF/SMF because the H-SMF/SMF or the AMF is not reachable respectively (even after retrying alternative endpoint addresses e.g. according to the Binding Indication when available), the V-SMF or I-SMF shall send a 504 Gateway Timeout response including a problemDetails data structure with the cause attribute set to \"PEER_NOT_RESPONDING\" and with the remoteError attribute set to \"false\".",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5.2.4",
        "ts_29.524_clause_4.3.2",
        "ts_29.500",
        "ts_29.524"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.7.2",
      "section_id": "6.1.7.2",
      "section_title": "Protocol Errors",
      "content": "Protocol errors handling shall be supported as specified in clause 5.2.7 of 3GPP TS 29.500 [4].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_5.2.7",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.7.3",
      "section_id": "6.1.7.3",
      "section_title": "Application Errors",
      "content": "The common application errors defined in Table 5.2.7.2-1 of 3GPP TS 29.500 [4] may be used for the Nsmf_PDUSession service.\nThe following application errors listed in Table 6.1.7.3-1 are specific to the Nsmf_PDUSession service.\nTable 6.1.7.3-1: Application errors\nApplication Error\nHTTP status code\nDescription\nN1_SM_ERROR\n403 Forbidden\nThis indicates that an error, other than those listed in this table, was detected when processing the N1 SM information received in the request, e.g. N1 SM protocol error, or a PDU session establishment is rejected due to Operator Determined Barring.\nN2_SM_ERROR\n403 Forbidden\nThis indicates that an error, other than those listed in this table, was detected when processing the N2 SM information received in the request, e.g. N2 SM protocol error.\nSNSSAI_DENIED\n403 Forbidden\nThe subscriber does not have the necessary subscription to access the SNSSAI.\nDNN_DENIED\n403 Forbidden\nThe subscriber does not have the necessary subscription to access the DNN.\nPDUTYPE_DENIED\n403 Forbidden\nThe subscriber does not have the necessary subscription for the requested PDU session type.\nSSC_DENIED\n403 Forbidden\nThe subscriber does not have the necessary subscription for the requested SSC mode.\nSUBSCRIPTION_DENIED\n403 Forbidden\nThis indicates an error, other than those listed in this table, due to lack of necessary subscription to serve the UE request.\nDNN_NOT_SUPPORTED\n403 Forbidden\nThe DNN is not supported by the SMF.\nPDUTYPE_NOT_SUPPORTED\n403 Forbidden\nThe requested PDU session type is not supported by the SMF for the PDN corresponding to the DNN.\nSSC_NOT_SUPPORTED\n403 Forbidden\nThe requested SSC mode is not supported by the SMF for the PDN corresponding to the DNN.\nHOME_ROUTED_ROAMING_REQUIRED\n403 Forbidden\nIt is used in LBO roaming, if the V-SMF is not able to process some part of the N1 SM information that requires Home Routed Roaming.\nOUT_OF_LADN_SERVICE_AREA\n403 Forbidden\nThe PDU session corresponds to a LADN and the UE is outside of the LADN Service Area.\nN2_SM_ERROR\n403 Forbidden\nThis indicates that an error, other than those listed in this table, was detected when processing the N2 SM information received in the request, e.g. N2 SM protocol error.\nPRIORITIZED_SERVICES_ONLY\n403 Forbidden\nThe SMF was notified that the UE is reachable only for regulatory prioritized service and the PDU Session to be activated is not for a regulatory prioritized service.\nPDU_SESSION_ANCHOR_CHANGE\n403 Forbidden\nThe SMF decided to change the PDU Session Anchor for the PDU Session.\nTARGET_MME_CAPABILITY\n403 Forbidden\nA request to retrieve an SM context is rejected due to the target MME not capable to support the PDU session.\nNO_EPS_5GS_CONTINUITY\n403 Forbidden\nIt is used during an EPS to 5GS Idle mode mobility or handover, if the PDU session does not support seamless session continuity to 5GS.\nUNABLE_TO_PAGE_UE\n403 Forbidden\nThe request is rejected due to a temporarily inability to page the UE.\nUE_NOT_RESPONDING\n403 Forbidden\nThe UE did not respond to the request initiated by the network, e.g. paging.\nREJECTED_BY_UE\n403 Forbidden\nThe request is rejected by the UE.\nREJECTED_DUE_VPLMN_POLICY\n403 Forbidden\nThe request is rejected due to VPLMN operator policy.\nHO_TAU_IN_PROGRESS\n403 Forbidden\nThe request is rejected temporarily due to a mobilty procedure in progress.\nINTEGRITY_PROTECTED_MDR_NOT_ACCEPTABLE\n403 Forbidden\nThe integrity protected maximum data rate value provided by the UE is not acceptable for the PDU session based on local policy at the SMF. This error is applicable when the UP Security Policy for the PDU Session is determined to have Integrity Protection set to \"Required\".\nAn NF service consumer that receives this error cause may use it for maintaining KPIs.\nEBI_EXHAUSTED\n403 Forbidden\nThe allocation of EPS Bearer ID failed due to exhaustion of EBI as the maximum number of EBIs has already been allocated to the UE.\nEBI_REJECTED_LOCAL_POLICY\n403 Forbidden\nThe allocation of EPS Bearer ID was rejected due to local policy in the Serving PLMN.\nEBI_REJECTED_NO_N26\n403 Forbidden\nThe allocation of EPS Bearer ID was rejected when the AMF is in a serving PLMN that does not support 5GS-EPS interworking procedures with N26 interface.\nDEFAULT_EPS_BEARER_INACTIVE\n403 Forbidden\nIt is used during EPS to 5GS mobility if the default EPS bearer context of the PDU session is reported as inactive by the UE in the epsBearerCtxStatus attribute.\nHANDOVER_RESOURCE_ALLOCATION_FAILURE\n403 Forbidden\nIt is used during a N2 handover preparation or an EPS to 5GS handover preparation, if no resource is allocated by the target NG-RAN for the PDU session.\nLATE_OVERLAPPING_REQUEST\n403 Forbidden\nThe request is rejected because it collides with an existing SM context or PDU session context with a more recent origination timestamp (see clause 5.2.3.3).\nDEFAULT_EBI_NOT_TRANSFERRED\n403 Forbidden\nIt is used during 5GS to EPS mobility if the EBI of the default EPS bearer is included in the notToTransferEbiList attribute.\nNOT_SUPPORTED_WITH_ISMF\n403 Forbidden\nThe request is rejected due to a requested functionality that is not supported for a PDU session with an I-SMF/V-SMF.\nSERVICE_NOT_AUTHORIZED_BY_NEXT_HOP\n403 Forbidden\nThe SMF is not authorized to access service provided by next hop NF producer, e.g. H-SMF or SMF or old I-SMF or old V-SMF.\nNO_DATA_FORWARDING\n403 Forbidden\nThe request to setup data forwarding tunnels is rejected because none of the EPS bearer contexts received in the request body contains an F-TEID for DL data forwarding.\nS_NSSAI_UNAVAILABLE_DUE_TO_NSAC\n403 Forbidden\nThe NSACF has returned error for the requested S-NSSAI and hence the PDU Session cannot be transferred from non-3gpp to 3gpp.\nEXCEEDED_UE_SLICE_DATA_RATE\n403 Forbidden\nThe request is rejected due to the maximum bit rate per S-NSSAI per UE is exceeded, when the SMF receives the same application error from the PCF.\nEXCEEDED_SLICE_DATA_RATE\n403 Forbidden\nThe request is rejected due to the maximum bit rate per S-NSSAI is exceeded, when the SMF receives the same application error from the PCF.\nCONTEXT_NOT_FOUND\n404 Not Found\nIt is used when no context corresponding to the request exists in the SMF.\nHIGHER_PRIORITY_REQUEST_ONGOING\n409 Conflict\nThe request is rejected temporarily due to procedure for higher priority session in progress.\nUE_IN_CM_IDLE_STATE\n409 Conflict\nThe request is rejected due to the UE being in CM-IDLE state for the PDU session associated to non-3GPP access.\nINSUFFICIENT_RESOURCES_SLICE\n500 Internal Server Error\nThe request cannot be provided due to insufficient resources for the specific slice.\nINSUFFICIENT_RESOURCES_SLICE_DNN\n500 Internal Server Error\nThe request cannot be provided due to insufficient resources for the specific slice and DNN.\nDNN_CONGESTION\n503 Service Unavailable\nThe SMF has detected congestion for the requested DNN and performs overload control for that DNN which does not allow the PDU session to be established.\nS_NSSAI_CONGESTION\n503 Service Unavailable\nDuring PDU session establishment, the SMF has detected congestion for the requested S-NSSAI (including the congestion due to NSAC failure) and performs overload control for that S-NSSAI which does not allow the PDU session to be established.\nDuring handover between 3GPP access and non-3GPP access, the SMF has detected congestion for the requested S-NSSAI on the target access (e.g., due to NSAC) and performs overload control for that S-NSSAI on the target access which does not allow the PDU session to be handover to the target access.\nPEER_NOT_RESPONDING\n504 Gateway Timeout\nNo response is received from a remote peer, or the remote peer is known to be not reachable, e.g. to indicate that no response has been received from the H-SMF for a HR PDU session or the SMF for a PDU session with I-SMF.\nNETWORK_FAILURE\n504 Gateway Timeout\nThe request is rejected due to a network problem.\nUPF_NOT_RESPONDING\n504 Gateway Timeout\nThe request is rejected due to no response received from the UPF.\nUE_NOT_REACHABLE\n504 Gateway Timeout\nThe UE is not reachable for service.",
      "chunk_type": "general",
      "cross_references": [
        "clause_5.2.3.3",
        "ts_29.500_table_5.2.7.2-1",
        "table_6.1.7.3-1",
        "table_403",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.8",
      "section_id": "6.1.8",
      "section_title": "Feature Negotiation",
      "content": "The feature negotiation mechanism specified in clause 6.6 of 3GPP TS 29.500 [4] shall be used to negotiate the features applicable between the SMF and the NF Service Consumer, for the Nsmf_PDUSession service, if any.\nThe NF Service Consumer shall indicate the features it supports for the Nsmf_PDUSession service, if any, by including the supportedFeatures attribute in the HTTP POST request when requesting the SMF to create an SM context or a PDU session resource. In scenarios with a change of NF Service Consumer (e.g. change of AMF, V-SMF or I-SMF change), the new NF Service Consumer shall indicate the features it supports for the Nsmf_PDUSession service, if any, by including the supportedFeatures attribute in the HTTP POST request when requesting the SMF to update an SM context or a PDU session resource to change the NF Service Consumer.\nThe SMF shall determine the supported features for the created SM context or PDU session resource, or for the updated SM context or PDU session resource in scenarios with a change of NF Service Consumer, as specified in clause 6.6 of 3GPP TS 29.500 [4] and shall indicate the supported features by including the supportedFeatures attribute in the representation of the SM context or PDU session resource it returns in the HTTP response confirming the creation or the modification of the resource.\nIn scenario with a change of SMF within the SMF Set, the new SMF needs not to indicate the features it supports in update request, since the new SMF supports the same features as the old SMF.\nThe syntax of the supportedFeatures attribute is defined in clause 5.2.2 of 3GPP TS 29.571 [13].\nThe following features are defined for the Nsmf_PDUSession service.\nTable 6.1.8-1: Features of supportedFeatures attribute used by Nsmf_PDUSession service\nFeature Number\nFeature\nM/O\nDescription\n1\nCIOT\nO\nCellular IoT\nSupport of this feature implies the support of all the CIoT features specified in clause 5.31 of 3GPP TS 23.501 [2], including in particular corresponding SMF PDUSession service's extensions to support:\n-\tNB-IoT and LTE-M RAT types;\n-\tControl Plane CIoT 5GS Optimisation;\n-\tRate control of user data;\n-\tIdle mode mobility with data forwarding between EPS and 5GS using N26 interface.\nThe SMF shall indicate its support of this feature in supportedFeatures attribute in its profile registered in NRF.\nA NF service consumer (e.g. AMF) shall only select SMF(s) that supports this feature for PDU sessions with Control Plane CIoT 5GS Optimisation enabled.\n2\nMAPDU\nO\nMulti-Access PDU Session\nAn SMF that supports this feature shall support the procedures specified in3GPP TS 23.501 [2] and 3GPP TS 23.502 [3] related to Access Traffic Steering, Switching and Splitting.\n3\nDTSSA\nO\nDeployments Topologies with specific SMF Service Areas\nA NF Service Consumer and an SMF that support this feature shall support the procedures specified in clause 5.34 of 3GPP TS 23.501 [2] and in clause 4.23 of 3GPP TS 23.502 [3].\n4\nCARPT\nO\nSMF derived CN Assisted RAN parameters Tuning.\nA NF Service Consumer (e.g. AMF) and an SMF that support this feature shall support exchanging SMF derived CN assisted RAN parameters in Notify SM Context Status service operation (see clause 5.2.2.5.1).\n5\nCTXTR\nO\nThis feature bit indicates whether the NF Service Consumer (e.g. AMF) and SMF supports Network Function/NF Service Context Transfer Procedures specified in clause 4.26 of 3GPP TS 23.502 [3].\nThe SMF shall only trigger these context transfer procedures if the NF Service Consumer has indicated support of this feature.\n6\nVQOS\nO\nVPLMN QoS\nAn SMF that supports this feature shall support:\n-\tthe handling of QoS constraints from the VPLMN during a HR PDU session establishment as specified in clause 4.3.2.2.2 of 3GPP TS 23.502 [3]; and\n-\tQoS modification requests initiated by the VPLMN, as specified in clause 4.3.3.3 of 3GPP TS 23.502 [3].\n7\nHOFAIL\nM\nThis feature bit indicates whether the NF Service Consumer (e.g. AMF, V-SMF, I-SMF) and SMF supports the Notify (SM Context) Status procedure to indicate a handover failure with the Resource Status set to \"UPDATED\" between 3GPP access and non-3GPP access as specified in clauses 5.2.2.5.1 and 5.2.2.10.1.\nThe SMF shall only trigger such a resource status notify procedure if the NF Service Consumer has indicated support of this feature.\n8\nES3XX\nM\nExtended Support of HTTP 307/308 redirection\nAn NF Service Consumer (e.g. AMF, V-SMF, I-SMF) that supports this feature shall support handling of HTTP 307/308 redirection for any service operation of the PDUSession service. An NF Service Consumer that does not support this feature does only support HTTP redirection as specified for 3GPP Release 15.\n9\nDCE2ER\nO\nDual Connectivity based end to end Redundant User Plane Paths\nAn NF service consumer (e.g. I-SMF) and SMF that supports this feature shall support the procedures specified in clause 5.33.2.1 of 3GPP TS 23.501 [2].\n10\nAASN\nM\nThis feature bit indicates whether the NF Service Consumer (e.g. AMF) and the SMF support the Notify SM Context Status procedure to indicate that the PDU session is established towards an alternative anchor SMF, as specified in clause 5.2.2.5.1.\nThe SMF shall only trigger such a Notify SM Context Status procedure if the NF Service Consumer has indicated support of this feature.\n11\nEnEDGE\nO\nEnhancement of Edge Computing in 5G Core network\nA NF Service Consumer and an SMF that support this feature shall support to signal the target DNAI in Notify (SM Context) Status and Create SM Context service operations, support to signal the URI of the SM Context resource in Notify SM Context Status, Create SM Context and create service operations / signal the URI of the PDU Session resource in Notify (SM Context) Status, Create SM Context and create service operations to retrieve the AF Coordination Information, as specified in 3GPP TS 23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS 23.548 [39].\n12\nSCPBU\nO\nSimultaneous Change of PSA and BP or UL CL\nThis feature bit indicates whether the NF Service Consumer (e.g. I-SMF) and the SMF support the n4InfoExt3 IE included in VsmfUpdateData, VsmfUpdatedData or VsmfUpdateError to support the simultaneous change of PSA and BP or UL CL controlled by I-SMF.\nThe SMF shall only include the n4InfoExt3 IE in VsmfUpdateData if the NF Service Consumer has indicated support of this feature.\n13\nENPN\nO\nEnhanced support of Non-Public Networks\nSupport of this feature implies the support of the Remote Provisioning of UEs in Onboarding Network procedures, as specified in clause 5.30.2.10.4 of 3GPP TS 23.501 [2] and clause 4.3.2.2.1 of 3GPP TS 23.502 [3].\nThe SMF shall indicate its support of this feature in supportedFeatures attribute in its profile registered in NRF.\nA NF service consumer (e.g. AMF) shall select SMF(s) that supports this feature to setup PDU sessions for Remote Provisioning of UEs in Onboarding Network.\n14\nSPAE\nO\nSM Policy Association Events\nThis feature bit indicates whether the NF Service Consumer (e.g. AMF) and the SMF supports the SM Policy Association establishment and termination event notification information handling, i.e. whereby the PCF for UE subscribes to SM Policy Association events to the PCF for SM Policy via the AMF and SMF, as specified in clause 4.3.2.2.1 and clause 4.3.3.2 of 3GPP TS 23.502 [3].\n15\n5GSAT\nO\nThis feature bit indicates whether the NF Service Consumer (e.g. AMF, V-SMF, I-SMF) and SMF support the reporting of satellite backhaul information, as specified in clause 5.43.4 of 3GPP TS 23.501 [2].\n16\nUPIPE\nO\nUser Plane Integrity Protection with EPS\nAn NF service consumer (e.g. AMF) and SMF that supports this feature shall support the User Plane Integrity Protection with EPS specified in clauses 4.11.1 and 4.11.5.3 of 3GPP TS 23.502 [3].\n17\nBIUMR\nO\nThis feature bit indicates whether the NF Service Consumer (e.g. AMF, V-SMF, I-SMF) and SMF supports Binding Indication Update for multiple resource contexts specified in clauses 6.12.1 and 5.2.3.2.6 of 3GPP TS 29.500 [4].\n18\nACSCR\nO\nAbsence of smfUri and hSmfUri attributes in Create SM Context Request for procedures with I-SMF/V-SMF insertion/change other than PDU session establishment and EPS to 5GS mobility procedures.\nThis feature bit indicates that the NF Service Consumer (e.g. AMF) supports not including, and the I-SMF/V-SMF supports not receiving, the smfUri and hSmfUri attributes in the Create SM Context request in procedures with I-SMF/V-SMF insertion/change other than PDU session establishment and EPS to 5GS mobility procedures.\nAn NF Service Consumer and I-SMF/V-SMF complying with this release of the specification shall support this feature if the DTSSA feature is supported.\nThe support of this feature may remove the need for the AMF to fetch the smfUri or hsmfUri from the NRF where the anchor SMF profile is registered, e.g. enable the AMF to skip an inter-PLMN NF Discovery procedure towards the HPLMN during a V-SMF insertion/change when the AMF can determine by other means (e.g. using the anchorSmfSupportedFeatures attribute in PDU session context received over N14) whether the HPLMN supports the DTSSA feature, and accordingly, to fasten the execution of mobility (e.g. handover) scenarios.\n19\nPSETR\nO\nThis feature bit indicates that the SMF is able to (re)select an alternative peer SMF (when available) when it detects the peer SMF has failed. See also clause 6.8 in 3GPP TS 23.527 [24]. An SMF implementation (complying with this release of the specification) should support the PSETR feature (i.e. support reselecting a peer SMF service instance when the peer SMF fails)\n20\nDLSET\nO\nThis feature bit indicates that the PDU session resources served by the SMF are not exclusively bound to a SMF service instance, i.e. they are shared by multiple SMF service instances. See also clause 6.8 in 3GPP TS 23.527 [24].\n21\nN9FSC\nO\nN9 Forwarding between Branching Points or UL CLs controlled by the same or different I-SMFs for EAS Session Continuity.\nAn NF Service Consumer and I-SMF/SMF that support this feature shall support the procedures specified in clauses 4.23.9.4 and 4.23.9.5 of 3GPP TS 23.502 [3] related to the N9 forwarding tunnel establishment between Branching Points or UL CLs controlled by the same or different I-SMFs to support EAS session continuity.\n22\nDTSSA-Ext1\nO\nThis feature bit indicates that the full list of DNAIs of interest for PDU session, including DNAIs that may not be supported by the I-SMF and excluding the ones supported by the anchor SMF, can be provisioned by the anchor SMF or handled by the I-SMF, which enables the (target) I-SMF to receive such information earlier during an I-SMF insertion or change procedures, so that the I-SMF can decide to insert UL CL/BP and/or a local PSA earlier to save some  signalling transactions.\n23\n5GSATB\nO\nThis feature bit indicates whether the NF Service Consumer (e.g. AMF) is aware that the UE is accessing over a gNB using GEO satellite backhaul and GEO Satellite ID needs to be updated at the SMF (see clause 5.43.2 of 3GPP TS 23.501 [2].\n24\nHR-SBO\nO\nHome Routed Session BreakOut\nAn NF service consumer (e.g. AMF and V-SMF) and SMF that supports this feature shall support local traffic routing in VPLMN for HR-SBO specified in clause 6.7 of 3GPP TS 23.548 [39].\n25\nN3GPS\nO\nNon-3GPP Access Path Switching\nAn SMF or NF service consumer that supports this feature shall support the procedures specified in 3GPP TS 23.501 [2] and 3GPP TS 23.502 [3] related to non-3GPP access path switching while maintaining two N2 connections for non-3GPP access.\n26\nNSRP\nO\nNetwork Slice Replacement\nAn NF service consumer (e.g., AMF, V-SMF or I-SMF) and SMF that supports this feature shall support network slice replacement as specified in clause 5.15.19 of 3GPP TS 23.501 [2].\n27\nUPCSMT\nO\nUser Plane Connection Suspend State and MT handling\nThis feature bit indicates whether the SMF supports the user plane connection suspend state for a UE entering RRC_Suspend or RRC_Inactive with long eDRX mode and to invoke Namf_MT EnableUEReachability service operation upon receiving subsequent DL Data Notification from the UPF.\n28\nPSER\nO\nPDU Session Establishment Rejection\nA SMF which support this feature shall allow the NF service consumer (i.e. the AMF) to indicate in the Create SM Context request that the PDU session establishment shall be rejected and shall reject the PDU session establishment according to the specific rejection cause received from the NF Service Consumer.\n29\nSCID\nM\nString based Charging Identifier\nA H-SMF shall indicate support of this feature when the SMF, the PCF and the CHF in the HPLMN all support handing of String based Charging Identifier, as specified in 3GPP TS 32.255 [25].\nA V-SMF shall indicate support of this feature when the SMF and the CHF in the VPLMN both support handing of String based Charging Identifier, as specified in 3GPP TS 32.255 [25].\n30\nPDUSH\nO\nPDU Set based Handling for eXtended Reality (XR) and interactive media services\nAn SMF which supports this feature shall support the requirements specified in clause 5.37.5 of 3GPP TS 23.501 [2], including the signaling of PDU Set QoS parameters and the Protocol Description for UL traffic over the N16/N16a interface.\n31\nEMECI\nO\nECN marking for L4S and/or Exposure of congestion information for eXtended Reality (XR) and interactive media services\nAn SMF which supports this feature shall support the requirements specified in clauses 5.37.3 and/or 5.37.4 of 3GPP TS 23.501 [2], including the signaling of ECN marking and/or Congestion Information Reporting request and status over the N16/N16a interface.\n32\nUEPSM\nO\nUE power saving management for eXtended Reality (XR) and interactive media services\nAn SMF which supports this feature shall support the requirements specified in clause 5.37.8 of 3GPP TS 23.501 [2], including the signaling of Traffic Assistance Information (with the Periodicity and N6 Jitter Information) over the N16/N16a interface to enable Connected mode DRX power saving.\n33\nSAR\nO\nSlice Area Restriction\nBoth SMF and AMF supporting this feature shall support handling of the S-NSSAI of the PDU session that is subject to slice area restriction and the AMF indicates the S-NSSAI of the PDU session is subject to slice area restriction.\nWhen the UE moves from an AMF supporting this feature to another AMF which does not support this feature, the SMF shall consider the S-NSSAI of the PDU session is no longer subject to area restriction.\nFeature number: The order number of the feature within the supportedFeatures attribute (starting with 1).\nFeature: A short name that can be used to refer to the bit and to the feature.\nM/O: Defines if the implementation of the feature is mandatory (\"M\") or optional (\"O\").\nDescription: A clear textual description of the feature.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.6",
        "ts_29.571_clause_5.2.2",
        "ts_23.501_clause_5.31",
        "ts_23.501_clause_5.34",
        "ts_23.501_clause_4.23",
        "clause_5.2.2.5.1",
        "ts_23.502_clause_4.26",
        "ts_23.502_clause_4.3.2.2.2",
        "ts_23.502_clause_4.3.3.3",
        "ts_23.501_clause_5.33.2.1",
        "ts_23.501_clause_5.30.2.10.4",
        "ts_23.501_clause_4.3.2.2.1",
        "clause_4.3.2.2.1",
        "ts_23.502_clause_4.3.3.2",
        "ts_23.501_clause_5.43.4",
        "ts_23.527_clause_6.8",
        "ts_23.501_clause_5.43.2",
        "ts_23.548_clause_6.7",
        "ts_23.501_clause_5.15.19",
        "ts_23.501_clause_5.37.5",
        "ts_23.501_clause_5.37.8",
        "table_6.1.8-1",
        "ts_23.502_clause_4.23",
        "ts_23.502_clause_4.3.2.2.1",
        "ts_29.500",
        "ts_29.571",
        "ts_23.501",
        "ts_23.502",
        "ts_23.548",
        "ts_23.527",
        "ts_32.255"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.9",
      "section_id": "6.1.9",
      "section_title": "Security",
      "content": "As indicated in 3GPP TS 33.501 [17] and 3GPP TS 29.500 [4], the access to the Nsmf_PDUSession API may be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [18]), based on local configuration, using the \"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [19]) plays the role of the authorization server.\nIf OAuth2 authorization is used, an NF Service Consumer, prior to consuming services offered by the Nsmf_PDUSession API, shall obtain a \"token\" from the authorization server, by invoking the Access Token Request service, as described in 3GPP TS 29.510 [19], clause 5.4.2.2.\nNOTE 1:\tWhen multiple NRFs are deployed in a network, the NRF used as authorization server is the same NRF that the NF Service Consumer used for discovering the Nsmf_PDUSession service.\nNOTE 2:\tThe security credentials for accessing a child resource URI of an sm-contexts or pdu-sessions collection distributed on different processing instances or hosts are the same as for accessing the collection URI.\nThe Nsmf_PDUSession API defines a single scope \"nsmf-pdusession\" for the entire service, and it does not define any additional scopes at resource and operation level.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.510_clause_5.4.2.2",
        "ts_33.501",
        "ts_29.500",
        "ts_29.510"
      ]
    },
    {
      "chunk_id": "ts_29.502_6.1.10",
      "section_id": "6.1.10",
      "section_title": "HTTP redirection",
      "content": "An HTTP request may be redirected to a different SMF service instance, within the same SMF or a different SMF of an SMF set, e.g. when an SMF service instance is part of an SMF (service) set or when using indirect communications (see 3GPP TS 29.500 [4]). See also the ES3XX feature in clause 6.1.8.\nAn SCP that reselects a different SMF producer instance will return the NF Instance ID of the new SMF producer instance in the 3gpp-Sbi-Producer-Id header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].\nIf an SMF within an SMF set redirects a service request to a different SMF of the set using an 307 Temporary Redirect or 308 Permanent Redirect status code, the identity of the new SMF towards which the service request is redirected shall be indicated in the 3gpp-Sbi-Target-Nf-Id header of the 307 Temporary Redirect or 308 Permanent Redirect response as specified in clause 6.10.9.1 of 3GPP TS 29.500 [4].\nFor a HR PDU session or a PDU session with an I-SMF, the V-SMF or I-SMF shall update the AMF upon detecting a change of the H-SMF or SMF within the SMF set, by sending an SM context status notification with the resourceStatus set to \"UPDATED\", the cause in statusInfo set to \"CHANGED_ANCHOR_SMF\" and with the new H-SMF or SMF identity (see clause 5.2.2.5.1).\nNOTE:\tThis allows the AMF to receive the NF Instance ID of the new SMF handling the PDU session and to send the NF Instance ID of the last known SMF handling the PDU session during inter-AMF mobility.\nAnnex A (normative):OpenAPI specification\nA.1\tGeneral\nThis Annex specifies the formal definition of the Nsmf_PDUSession service. It consists of OpenAPI 3.0.0 specifications, in YAML format.\nThis Annex takes precedence when being discrepant to other parts of the specification with respect to the encoding of information elements and methods within the API(s).\nNOTE:\tThe semantics and procedures, as well as conditions, e.g. for the applicability and allowed combinations of attributes or values, not expressed in the OpenAPI definitions but defined in other parts of the specification also apply.\nInformative copies of the OpenAPI specification files contained in this 3GPP Technical Specification are available on a Git-based repository, that uses the GitLab software version control system (see 3GPP TS 29.501 [5] clause 5.3.1 and 3GPP TR 21.900 [7] clause 5B).\nA.2\tNsmf_PDUSession API\nopenapi: 3.0.0\ninfo:\nversion: '1.3.2'\ntitle: 'Nsmf_PDUSession'\ndescription: |\nSMF PDU Session Service.\n© 2025, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\nAll rights reserved.\nexternalDocs:\ndescription: 3GPP TS 29.502 V18.10.0; 5G System; Session Management Services; Stage 3\nurl: https://www.3gpp.org/ftp/Specs/archive/29_series/29.502/\nservers:\n- url: '{apiRoot}/nsmf-pdusession/v1'\nvariables:\napiRoot:\ndefault: https://example.com\ndescription: >\napiRoot as defined in clause 4.4 of 3GPP TS 29.501. The sm-contexts and pdu-sessions\nresources can be distributed on different processing instances or hosts. Thus the\nauthority and/or deployment-specific string of the apiRoot of the created individual\nsm context and pdu-session resources' URIs may differ from the authority and/or\ndeployment-specific string of the apiRoot of the sm-contexts and pdu-sessions\ncollections' URIs.\nsecurity:\n- {}\n- oAuth2ClientCredentials:\n- nsmf-pdusession\npaths:\n/sm-contexts:\npost:\nsummary:  Create SM Context\ntags:\n- SM contexts collection\noperationId: PostSmContexts\nrequestBody:\ndescription: representation of the SM context to be created in the SMF\nrequired: true\ncontent:\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextCreateData'\nbinaryDataN1SmMessage:\ntype: string\nformat: binary\nbinaryDataN2SmInformation:\ntype: string\nformat: binary\nbinaryDataN2SmInformationExt1:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmMessage:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmInformation:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmInformationExt1:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\ncallbacks:\nsmContextStatusNotification:\n'{$request.body#/smContextStatusUri}':\npost:\nrequestBody:  # contents of the callback message\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/SmContextStatusNotification'\nresponses:\n'204':\ndescription: successful notification\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\nresponses:\n'201':\ndescription: successful creation of an SM context\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextCreatedData'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextCreatedData'\nbinaryDataN2SmInformation:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN2SmInformation:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\nheaders:\nLocation:\ndescription: >\nContains the URI of the newly created resource, according to the structure:\n{apiRoot}/nsmf-pdusession/<apiVersion>/sm-contexts/{smContextRef}\nrequired: true\nschema:\ntype: string\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\ndescription: unsuccessful creation of an SM context - bad request\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextCreateError'\napplication/problem+json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextCreateError'\nbinaryDataN1SmMessage:\ntype: string\nformat: binary\nbinaryDataN2SmMessage:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmMessage:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmMessage:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\n'401':\n$ref: '#/components/responses/401'\n'403':\ndescription: unsuccessful creation of an SM context - forbidden\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextCreateError'\napplication/problem+json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextCreateError'\nbinaryDataN1SmMessage:\ntype: string\nformat: binary\nbinaryDataN2SmMessage:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmMessage:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmMessage:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\n'404':\ndescription: unsuccessful creation of an SM context - not found\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextCreateError'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextCreateError'\nbinaryDataN1SmMessage:\ntype: string\nformat: binary\nbinaryDataN2SmMessage:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmMessage:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmMessage:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: '#/components/responses/413'\n'415':\n$ref: '#/components/responses/415'\n'429':\n$ref: '#/components/responses/429'\n'500':\ndescription: unsuccessful creation of an SM context - internal server error\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextCreateError'\napplication/problem+json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextCreateError'\nbinaryDataN1SmMessage:\ntype: string\nformat: binary\nbinaryDataN2SmMessage:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmMessage:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmMessage:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\n'502':\n$ref: '#/components/responses/502'\n'503':\ndescription: unsuccessful creation of an SM context - service unavailable\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextCreateError'\napplication/problem+json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextCreateError'\nbinaryDataN1SmMessage:\ntype: string\nformat: binary\nbinaryDataN2SmMessage:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmMessage:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmMessage:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\n'504':\ndescription: unsuccessful creation of an SM context - gateway timeout\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextCreateError'\napplication/problem+json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextCreateError'\nbinaryDataN1SmMessage:\ntype: string\nformat: binary\nbinaryDataN2SmMessage:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmMessage:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmMessage:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n/sm-contexts/{smContextRef}/retrieve:\npost:\nsummary:  Retrieve SM Context\ntags:\n- Individual SM context\noperationId: RetrieveSmContext\nparameters:\n- name: smContextRef\nin: path\ndescription:  SM context reference\nrequired: true\nschema:\ntype: string\nrequestBody:\ndescription: parameters used to retrieve the SM context\nrequired: false\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/SmContextRetrieveData'\nresponses:\n'200':\ndescription: successful retrieval of an SM context\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/SmContextRetrievedData'\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\n'504':\n$ref: 'TS29571_CommonData.yaml#/components/responses/504'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n/sm-contexts/{smContextRef}/modify:\npost:\nsummary:  Update SM Context\ntags:\n- Individual SM context\noperationId: UpdateSmContext\nparameters:\n- name: smContextRef\nin: path\ndescription:  SM context reference\nrequired: true\nschema:\ntype: string\nrequestBody:\ndescription: representation of the updates to apply to the SM context\nrequired: true\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextUpdateData'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextUpdateData'\nbinaryDataN1SmMessage:\ntype: string\nformat: binary\nbinaryDataN2SmInformation:\ntype: string\nformat: binary\nbinaryDataN2SmInformationExt1:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmMessage:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmInformation:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmInformationExt1:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\nresponses:\n'200':\ndescription: successful update of an SM context with content in the response\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextUpdatedData'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextUpdatedData'\nbinaryDataN1SmMessage:\ntype: string\nformat: binary\nbinaryDataN2SmInformation:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmMessage:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmInformation:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\n'204':\ndescription: successful update of an SM context without content in the response\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\ndescription: unsuccessful update of an SM context - bad request\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextUpdateError'\napplication/problem+json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextUpdateError'\nbinaryDataN1SmMessage:\ntype: string\nformat: binary\nbinaryDataN2SmInformation:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmMessage:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmInformation:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\n'401':\n$ref: '#/components/responses/401'\n'403':\ndescription: unsuccessful update of an SM context - forbidden\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextUpdateError'\napplication/problem+json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextUpdateError'\nbinaryDataN1SmMessage:\ntype: string\nformat: binary\nbinaryDataN2SmInformation:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmMessage:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmInformation:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\n'404':\ndescription: unsuccessful update of an SM context - not found\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextUpdateError'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextUpdateError'\nbinaryDataN1SmMessage:\ntype: string\nformat: binary\nbinaryDataN2SmInformation:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmMessage:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmInformation:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: '#/components/responses/413'\n'415':\n$ref: '#/components/responses/415'\n'429':\n$ref: '#/components/responses/429'\n'500':\ndescription: unsuccessful update of an SM context - Internal server error\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextUpdateError'\napplication/problem+json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextUpdateError'\nbinaryDataN1SmMessage:\ntype: string\nformat: binary\nbinaryDataN2SmInformation:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmMessage:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmInformation:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\n'502':\n$ref: '#/components/responses/502'\n'503':\ndescription: unsuccessful update of an SM context - Service Unavailable\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextUpdateError'\napplication/problem+json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextUpdateError'\nbinaryDataN1SmMessage:\ntype: string\nformat: binary\nbinaryDataN2SmInformation:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmMessage:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmInformation:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\n'504':\ndescription: unsuccessful update of an SM context - gateway timeout\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextUpdateError'\napplication/problem+json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextUpdateError'\nbinaryDataN1SmMessage:\ntype: string\nformat: binary\nbinaryDataN2SmInformation:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmMessage:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN2SmInformation:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n/sm-contexts/{smContextRef}/release:\npost:\nsummary:  Release SM Context\ntags:\n- Individual SM context\noperationId: ReleaseSmContext\nparameters:\n- name: smContextRef\nin: path\ndescription:  SM context reference\nrequired: true\nschema:\ntype: string\nrequestBody:\ndescription: representation of the data to be sent to the SMF when releasing the SM context\nrequired: false\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextReleaseData'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/SmContextReleaseData'\nbinaryDataN2SmInformation:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN2SmInformation:\ncontentType:  application/vnd.3gpp.ngap\nheaders:\nContent-Id:\nschema:\ntype: string\nresponses:\n'200':\ndescription: successful release of a PDU session with content in the response\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/SmContextReleasedData'\n'204':\ndescription: successful release of an SM context without content in the response\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n/sm-contexts/{smContextRef}/send-mo-data:\npost:\nsummary:  Send MO Data\ntags:\n- Individual SM context\noperationId: SendMoData\nparameters:\n- name: smContextRef\nin: path\ndescription:  SM context reference\nrequired: true\nschema:\ntype: string\nrequestBody:\ndescription: representation of the content of Send MO Data Request\nrequired: true\ncontent:\nmultipart/related:  # message with a binary body part\nschema:\ntype: object\nproperties:\njsonData:\n$ref: '#/components/schemas/SendMoDataReqData'\nbinaryMoData:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryMoData:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nresponses:\n'204':\ndescription: successful sending of MO data\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: '#/components/responses/400'\n'401':\n$ref: '#/components/responses/401'\n'403':\n$ref: '#/components/responses/403'\n'404':\n$ref: '#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: '#/components/responses/413'\n'415':\n$ref: '#/components/responses/415'\n'429':\n$ref: '#/components/responses/429'\n'500':\n$ref: '#/components/responses/500'\n'502':\n$ref: '#/components/responses/502'\n'503':\n$ref: '#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n/pdu-sessions:\npost:\nsummary:  Create\ntags:\n- PDU sessions collection\noperationId: PostPduSessions\nrequestBody:\ndescription: representation of the PDU session to be created in the H-SMF or SMF\nrequired: true\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/PduSessionCreateData'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/PduSessionCreateData'\nbinaryDataN1SmInfoFromUe:\ntype: string\nformat: binary\nbinaryDataUnknownN1SmInfo:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmInfoFromUe:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataUnknownN1SmInfo:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\ncallbacks:\nstatusNotification:\n'{$request.body#/vsmfPduSessionUri}':\npost:\nsummary:  Notify Status\ntags:\n- Individual PDU session (V-SMF)\noperationId: NotifyStatus\nrequestBody:\n$ref: '#/components/requestBodies/NotifyStatusRequestBody'\nresponses:\n'204':\ndescription: successful notificationof the status change\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\nstatusNotification-ismf:\n'{$request.body#/ismfPduSessionUri}':\npost:\nsummary:  Notify Status\ntags:\n- Individual PDU session (I-SMF)\noperationId: NotifyStatus-isfm\nrequestBody:\n$ref: '#/components/requestBodies/NotifyStatusRequestBody'\nresponses:\n'204':\ndescription: successful notificationof the status change\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\nupdate:\n'{$request.body#/vsmfPduSessionUri}/modify':\npost:\nsummary:  Update (initiated by H-SMF)\ntags:\n- Individual PDU session (V-SMF)\noperationId: ModifyPduSession\nrequestBody:\n$ref: '#/components/requestBodies/VsmfUpdateRequestBody'\nresponses:\n'200':\n$ref: '#/components/responses/VsmfUpdateResponse200'\n'204':\ndescription: successful update of a PDU session without content in the response\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: '#/components/responses/VsmfUpdateError'\n'403':\n$ref: '#/components/responses/VsmfUpdateError'\n'404':\n$ref: '#/components/responses/VsmfUpdateError'\n'409':\n$ref: '#/components/responses/VsmfUpdateError'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: '#/components/responses/VsmfUpdateError'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: '#/components/responses/VsmfUpdateError'\n'504':\n$ref: '#/components/responses/VsmfUpdateError'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\nupdate-ismf:\n'{$request.body#/ismfPduSessionUri}/modify':\npost:\nsummary:  Update (initiated by SMF)\ntags:\n- Individual PDU session (I-SMF)\noperationId: ModifyPduSession-ismf\nrequestBody:\n$ref: '#/components/requestBodies/VsmfUpdateRequestBody'\nresponses:\n'200':\n$ref: '#/components/responses/VsmfUpdateResponse200'\n'204':\ndescription: successful update of a PDU session without content in the response\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: '#/components/responses/VsmfUpdateError'\n'403':\n$ref: '#/components/responses/VsmfUpdateError'\n'404':\n$ref: '#/components/responses/VsmfUpdateError'\n'409':\n$ref: '#/components/responses/VsmfUpdateError'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: '#/components/responses/VsmfUpdateError'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: '#/components/responses/VsmfUpdateError'\n'504':\n$ref: '#/components/responses/VsmfUpdateError'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ntransferMtData:\n'{$request.body#/vsmfPduSessionUri}/transfer-mt-data':\npost:\nsummary:  Transfer MT Data (by H-SMF)\ntags:\n- Individual PDU session (V-SMF)\noperationId: TransferMtData\nrequestBody:\ndescription: representation of the content of Transfer MT Data Request\nrequired: true\ncontent:\nmultipart/related:  # message with a binary body part\nschema:\ntype: object\nproperties:\njsonData:\n$ref: '#/components/schemas/TransferMtDataReqData'\nbinaryMtData:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryMtData:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nresponses:\n'204':\ndescription: successful transfering of MT data\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\n'504':\ndescription: unsuccessful delivery of mobile terminated data - gateway timeout\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TransferMtDataError'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ntransferMtData-ismf:\n'{$request.body#/ismfPduSessionUri}/transfer-mt-data':\npost:\nsummary:  Transfer MT Data (by SMF)\ntags:\n- Individual PDU session (I-SMF)\noperationId: TransferMtData-ismf\nrequestBody:\ndescription: representation of the content of Transfer MT Data Request\nrequired: true\ncontent:\nmultipart/related:  # message with a binary body part\nschema:\ntype: object\nproperties:\njsonData:\n$ref: '#/components/schemas/TransferMtDataReqData'\nbinaryMtData:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryMtData:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nresponses:\n'204':\ndescription: successful transfering of MT data\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\n'504':\ndescription: unsuccessful delivery of mobile terminated data - gateway timeout\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/TransferMtDataError'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\nresponses:\n'201':\ndescription: successful creation of a PDU session\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/PduSessionCreatedData'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/PduSessionCreatedData'\nbinaryDataN1SmInfoToUe:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmInfoToUe:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nheaders:\nLocation:\ndescription: >\nContains the URI of the newly created resource, according to the structure:\n{apiRoot}/nsmf-pdusession/<apiVersion>/pdu-sessions/{pduSessionRef}\nrequired: true\nschema:\ntype: string\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: '#/components/responses/PduSessionCreateError'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: '#/components/responses/PduSessionCreateError'\n'404':\n$ref: '#/components/responses/PduSessionCreateError'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: '#/components/responses/PduSessionCreateError'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: '#/components/responses/PduSessionCreateError'\n'504':\n$ref: '#/components/responses/PduSessionCreateError'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n/pdu-sessions/{pduSessionRef}/modify:\npost:\nsummary:  Update (initiated by V-SMF or I-SMF)\ntags:\n- Individual PDU session (H-SMF or SMF)\noperationId: UpdatePduSession\nparameters:\n- name: pduSessionRef\nin: path\ndescription:  PDU session reference\nrequired: true\nschema:\ntype: string\nrequestBody:\ndescription: representation of the updates to apply to the PDU session\nrequired: true\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/HsmfUpdateData'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/HsmfUpdateData'\nbinaryDataN1SmInfoFromUe:\ntype: string\nformat: binary\nbinaryDataUnknownN1SmInfo:\ntype: string\nformat: binary\nbinaryDataN4Information:\ntype: string\nformat: binary\nbinaryDataN4InformationExt1:\ntype: string\nformat: binary\nbinaryDataN4InformationExt2:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmInfoFromUe:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataUnknownN1SmInfo:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4Information:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt1:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt2:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nresponses:\n'200':\ndescription: successful update of a PDU session with content in the response\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/HsmfUpdatedData'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/HsmfUpdatedData'\nbinaryDataN1SmInfoToUe:\ntype: string\nformat: binary\nbinaryDataN4Information:\ntype: string\nformat: binary\nbinaryDataN4InformationExt1:\ntype: string\nformat: binary\nbinaryDataN4InformationExt2:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmInfoToUe:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4Information:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt1:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt2:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\n'204':\ndescription: successful update of a PDU session without content in the response\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: '#/components/responses/HsmfUpdateError'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: '#/components/responses/HsmfUpdateError'\n'404':\n$ref: '#/components/responses/HsmfUpdateError'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: '#/components/responses/HsmfUpdateError'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: '#/components/responses/HsmfUpdateError'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n/pdu-sessions/{pduSessionRef}/release:\npost:\nsummary:  Release\ntags:\n- Individual PDU session (H-SMF or SMF)\noperationId: ReleasePduSession\nparameters:\n- name: pduSessionRef\nin: path\ndescription:  PDU session reference\nrequired: true\nschema:\ntype: string\nrequestBody:\ndescription: data sent to H-SMF or SMF when releasing the PDU session\nrequired: false\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/ReleaseData'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties:\njsonData:\n$ref: '#/components/schemas/ReleaseData'\nbinaryDataN4Information:\ntype: string\nformat: binary\nbinaryDataN4InformationExt1:\ntype: string\nformat: binary\nbinaryDataN4InformationExt2:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN4Information:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt1:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt2:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nresponses:\n'200':\ndescription: successful release of a PDU session with content in the response\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/ReleasedData'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties:\njsonData:\n$ref: '#/components/schemas/ReleasedData'\nbinaryDataN4Information:\ntype: string\nformat: binary\nbinaryDataN4InformationExt1:\ntype: string\nformat: binary\nbinaryDataN4InformationExt2:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN4Information:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt1:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt2:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\n'204':\ndescription: successful release of a PDU session\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n/pdu-sessions/{pduSessionRef}/retrieve:\npost:\nsummary:  Retrieve\ntags:\n- Individual PDU session (H-SMF or SMF)\noperationId: RetrievePduSession\nparameters:\n- name: pduSessionRef\nin: path\ndescription:  PDU session reference\nrequired: true\nschema:\ntype: string\nrequestBody:\ndescription: representation of the content of the Retrieve Request\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/RetrieveData'\nresponses:\n'200':\ndescription: successful information retrieval\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/RetrievedData'\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\n'504':\n$ref: 'TS29571_CommonData.yaml#/components/responses/504'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\n/pdu-sessions/{pduSessionRef}/transfer-mo-data:\npost:\nsummary:  Transfer MO Data\ntags:\n- Individual PDU session (H-SMF or SMF)\noperationId: TransferMoData\nparameters:\n- name: pduSessionRef\nin: path\ndescription:  PDU session reference\nrequired: true\nschema:\ntype: string\nrequestBody:\ndescription: representation of the content of Transfer MO Data Request\nrequired: true\ncontent:\nmultipart/related:  # message with a binary body part\nschema:\ntype: object\nproperties:\njsonData:\n$ref: '#/components/schemas/TransferMoDataReqData'\nbinaryMoData:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryMoData:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nresponses:\n'204':\ndescription: successful transfering of MO data\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ncomponents:\nsecuritySchemes:\noAuth2ClientCredentials:\ntype: oauth2\nflows:\nclientCredentials:\ntokenUrl: '{nrfApiRoot}/oauth2/token'\nscopes:\nnsmf-pdusession: Access to the nsmf-pdusession API\nschemas:\n#\n# STRUCTURED DATA TYPES\n#\nSmContextCreateData:\ndescription: Data within Create SM Context Request\ntype: object\nproperties:\nsupi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\nunauthenticatedSupi:\ntype: boolean\ndefault:  false\nroamingUeInd:\ntype: boolean\npei:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Pei'\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\npduSessionId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionId'\ndnn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nselectedDnn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nsNssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\naltSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nhplmnSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\naltHplmnSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nservingNfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nguami:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Guami'\nserviceName:\n$ref: 'TS29510_Nnrf_NFManagement.yaml#/components/schemas/ServiceName'\nservingNetwork:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid'\nrequestType:\n$ref: '#/components/schemas/RequestType'\nn1SmMsg:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nanType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nadditionalAnType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nratType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RatType'\npresenceInLadn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PresenceState'\nperLadnDnnSnssaiInd:\ntype: boolean\ndefault: false\nueLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nueTimeZone:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/TimeZone'\naddUeLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nsmContextStatusUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nhSmfUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nhSmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nsmfUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nsmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nadditionalHsmfUri:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nminItems: 1\nadditionalHsmfId:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nminItems: 1\nadditionalSmfUri:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nminItems: 1\nadditionalSmfId:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nminItems: 1\noldPduSessionId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionId'\npduSessionsActivateList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionId'\nminItems: 1\nueEpsPdnConnection:\n$ref: '#/components/schemas/EpsPdnCnxContainer'\nhoState:\n$ref: '#/components/schemas/HoState'\npcfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\npcfGroupId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfGroupId'\npcfSetId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfSetId'\nnrfUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nsupportedFeatures:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nanchorSmfFeatures:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nadditionalAnchorSmfFeatures:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nminItems: 1\nselMode:\n$ref: '#/components/schemas/DnnSelectionMode'\nbackupAmfInfo:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BackupAmfInfo'\nminItems: 1\ntraceData:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/TraceData'\nudmGroupId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfGroupId'\nroutingIndicator:\ntype: string\nhNwPubKeyId:\ntype: integer\nepsInterworkingInd:\n$ref: '#/components/schemas/EpsInterworkingIndication'\nindirectForwardingFlag:\ntype: boolean\ndirectForwardingFlag:\ntype: boolean\ntargetId:\n$ref: 'TS29518_Namf_Communication.yaml#/components/schemas/NgRanTargetId'\nepsBearerCtxStatus:\n$ref: '#/components/schemas/EpsBearerContextStatus'\ncpCiotEnabled:\ntype: boolean\ndefault: false\ncpOnlyInd:\ntype: boolean\ndefault: false\ninvokeNef:\ntype: boolean\ndefault: false\nmaRequestInd:\ntype: boolean\ndefault: false\nmaNwUpgradeInd:\ntype: boolean\ndefault: false\nn3gPathSwitchSupportInd:\ntype: boolean\ndefault: false\nn2SmInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn2SmInfoType:\n$ref: '#/components/schemas/N2SmInfoType'\nn2SmInfoExt1:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn2SmInfoTypeExt1:\n$ref: '#/components/schemas/N2SmInfoType'\nsmContextRef:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nsmContextSmfPlmnId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid'\nsmContextSmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nsmContextSmfSetId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfSetId'\nsmContextSmfServiceSetId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfServiceSetId'\nsmContextSmfBinding:\n$ref: 'TS29518_Namf_Communication.yaml#/components/schemas/SbiBindingLevel'\nupCnxState:\n$ref: '#/components/schemas/UpCnxState'\nsmallDataRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SmallDataRateStatus'\napnRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ApnRateStatus'\nextendedNasSmTimerInd:\ntype: boolean\ndefault: false\ndlDataWaitingInd:\ntype: boolean\ndefault: false\nddnFailureSubs:\n$ref: '#/components/schemas/DdnFailureSubs'\nsmfTransferInd:\ntype: boolean\ndefault: false\noldSmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\noldSmContextRef:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nwAgfInfo:\n$ref: 'TS29510_Nnrf_NFManagement.yaml#/components/schemas/WAgfInfo'\ntngfInfo:\n$ref: 'TS29510_Nnrf_NFManagement.yaml#/components/schemas/TngfInfo'\ntwifInfo:\n$ref: 'TS29510_Nnrf_NFManagement.yaml#/components/schemas/TwifInfo'\nranUnchangedInd:\ntype: boolean\nsamePcfSelectionInd:\ntype: boolean\ndefault: false\ntargetDnai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'\nnrfManagementUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nnrfDiscoveryUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nnrfAccessTokenUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nnrfOauth2Required:\ntype: object\ndescription: 'Map indicating whether the NRF requires Oauth2-based authorization for\naccessing its services. The key of the map shall be the name of an NRF service, e.g.\n\"nnrf-nfm\" or \"nnrf-disc\"'\nadditionalProperties:\ntype: boolean\nminProperties: 1\nsmfBindingInfo:\ntype: string\npvsInfo:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ServerAddressingInfo'\nminItems: 1\nonboardingInd:\ntype: boolean\ndefault: false\noldPduSessionRef:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nsmPolicyNotifyInd:\ntype: boolean\ndefault: false\npcfUeCallbackInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PcfUeCallbackInfo'\nsatelliteBackhaulCat:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SatelliteBackhaulCategory'\nupipSupported:\ntype: boolean\ndefault: false\ndisasterRoamingInd:\ntype: boolean\ndefault: false\nanchorSmfOauth2Required:\ntype: boolean\nsmContextSmfOauth2Required:\ntype: boolean\ngeoSatelliteId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/GeoSatelliteId'\nhrsboAllowedInd:\ntype: boolean\ndefault: false\nestabRejectionInd:\ntype: boolean\nenum:\n- true\nestabRejectionCause:\n$ref: '#/components/schemas/EstablishmentRejectionCause'\nsliceAreaRestrictInd:\ntype: boolean\nenum:\n- true\nueLevelMeasConfig:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UeLevelMeasurementsConfiguration'\nrequired:\n- servingNfId\n- servingNetwork\n- anType\n- smContextStatusUri\nSmContextCreatedData:\ndescription: Data within Create SM Context Response\ntype: object\nproperties:\nhSmfUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nsmfUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\npduSessionId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionId'\nsNssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nadditionalSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nupCnxState:\n$ref: '#/components/schemas/UpCnxState'\nn2SmInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn2SmInfoType:\n$ref: '#/components/schemas/N2SmInfoType'\nallocatedEbiList:\ntype: array\nitems:\n$ref: '#/components/schemas/EbiArpMapping'\nminItems: 1\nhoState:\n$ref: '#/components/schemas/HoState'\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nsmfServiceInstanceId:\ntype: string\nrecoveryTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nsupportedFeatures:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nselectedSmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nselectedOldSmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\ninterPlmnApiRoot:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nudmGroupId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfGroupId'\npcfGroupId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfGroupId'\npduSessionPrio:\n$ref: '#/components/schemas/PduSessionPriority'\nSmContextUpdateData:\ndescription: Data within Update SM Context Request\ntype: object\nproperties:\npei:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Pei'\nservingNfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nguami:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Guami'\nservingNetwork:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid'\nbackupAmfInfo:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BackupAmfInfo'\nminItems: 1\nnullable: true\nanType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nadditionalAnType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nanTypeToReactivate:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nanTypeOfN1N2Info:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nratType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RatType'\npresenceInLadn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PresenceState'\nueLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nueTimeZone:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/TimeZone'\naddUeLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nupCnxState:\n$ref: '#/components/schemas/UpCnxState'\nhoState:\n$ref: '#/components/schemas/HoState'\ntoBeSwitched:\ntype: boolean\ndefault: false\nfailedToBeSwitched:\ntype: boolean\nn1SmMsg:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn2SmInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn2SmInfoType:\n$ref: '#/components/schemas/N2SmInfoType'\ntargetId:\n$ref: 'TS29518_Namf_Communication.yaml#/components/schemas/NgRanTargetId'\ntargetServingNfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nsmContextStatusUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\ndataForwarding:\ntype: boolean\ndefault: false\nn9ForwardingTunnel:\n$ref: '#/components/schemas/TunnelInfo'\nn9DlForwardingTnlList:\ntype: array\nitems:\n$ref: '#/components/schemas/IndirectDataForwardingTunnelInfo'\nminItems: 1\nn9UlForwardingTnlList:\ntype: array\nitems:\n$ref: '#/components/schemas/IndirectDataForwardingTunnelInfo'\nminItems: 1\nn9DlForwardingTunnel:\n$ref: '#/components/schemas/TunnelInfo'\nn9InactivityTimer:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\nepsBearerSetup:\ntype: array\nitems:\n$ref: '#/components/schemas/EpsBearerContainer'\nminItems: 0\nrevokeEbiList:\ntype: array\nitems:\n$ref: '#/components/schemas/EpsBearerId'\nminItems: 1\nrelease:\ntype: boolean\ndefault: false\ncause:\n$ref: '#/components/schemas/Cause'\nngApCause:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NgApCause'\n5gMmCauseValue:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/5GMmCause'\nsNssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\ntraceData:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/TraceData'\nepsInterworkingInd:\n$ref: '#/components/schemas/EpsInterworkingIndication'\nanTypeCanBeChanged:\ntype: boolean\ndefault: false\nn2SmInfoExt1:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn2SmInfoTypeExt1:\n$ref: '#/components/schemas/N2SmInfoType'\nmaReleaseInd:\n$ref: '#/components/schemas/MaReleaseIndication'\nmaNwUpgradeInd:\ntype: boolean\ndefault: false\nmaRequestInd:\ntype: boolean\ndefault: false\nn3gPathSwitchExecutionInd:\ntype: boolean\nenum:\n- true\nexemptionInd:\n$ref: '#/components/schemas/ExemptionInd'\nsupportedFeatures:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nmoExpDataCounter:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/MoExpDataCounter'\nextendedNasSmTimerInd:\ntype: boolean\nforwardingFTeid:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nforwardingBearerContexts:\ntype: array\nitems:\n$ref: '#/components/schemas/ForwardingBearerContainer'\nminItems: 1\nddnFailureSubs:\n$ref: '#/components/schemas/DdnFailureSubs'\nskipN2PduSessionResRelInd:\ntype: boolean\ndefault: false\nsecondaryRatUsageDataReportContainer:\ntype: array\nitems:\n$ref: '#/components/schemas/SecondaryRatUsageDataReportContainer'\nminItems: 1\nsmPolicyNotifyInd:\ntype: boolean\nenum:\n- true\npcfUeCallbackInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PcfUeCallbackInfo'\nsatelliteBackhaulCat:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SatelliteBackhaulCategory'\ncnBasedMt:\ntype: boolean\nenum:\n- true\ngeoSatelliteId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/GeoSatelliteId'\naltSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\naltHplmnSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nnsReplTerminInd:\ntype: boolean\nenum:\n- true\nsliceAreaRestrictInd:\ntype: boolean\nueLevelMeasConfig:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UeLevelMeasurementsConfiguration'\nSmContextUpdatedData:\ndescription: Data within Update SM Context Response\ntype: object\nproperties:\nupCnxState:\n$ref: '#/components/schemas/UpCnxState'\nhoState:\n$ref: '#/components/schemas/HoState'\nreleaseEbiList:\ntype: array\nitems:\n$ref: '#/components/schemas/EpsBearerId'\nminItems: 1\nallocatedEbiList:\ntype: array\nitems:\n$ref: '#/components/schemas/EbiArpMapping'\nminItems: 1\nmodifiedEbiList:\ntype: array\nitems:\n$ref: '#/components/schemas/EbiArpMapping'\nminItems: 1\nn1SmMsg:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn2SmInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn2SmInfoType:\n$ref: '#/components/schemas/N2SmInfoType'\nepsBearerSetup:\ntype: array\nitems:\n$ref: '#/components/schemas/EpsBearerContainer'\nminItems: 1\ndataForwarding:\ntype: boolean\nn3DlForwardingTnlList:\ntype: array\nitems:\n$ref: '#/components/schemas/IndirectDataForwardingTunnelInfo'\nminItems: 1\nn3UlForwardingTnlList:\ntype: array\nitems:\n$ref: '#/components/schemas/IndirectDataForwardingTunnelInfo'\nminItems: 1\nn9UlForwardingTunnel:\n$ref: '#/components/schemas/TunnelInfo'\ncause:\n$ref: '#/components/schemas/Cause'\nmaAcceptedInd:\ntype: boolean\ndefault: false\nsupportedFeatures:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nforwardingFTeid:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nforwardingBearerContexts:\ntype: array\nitems:\n$ref: '#/components/schemas/ForwardingBearerContainer'\nminItems: 1\nselectedSmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nselectedOldSmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\ninterPlmnApiRoot:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nanchorSmfFeatures:\n$ref: '#/components/schemas/AnchorSmfFeatures'\npduSessionPrio:\n$ref: '#/components/schemas/PduSessionPriority'\nSmContextReleaseData:\ndescription: Data within Release SM Context Request\ntype: object\nproperties:\ncause:\n$ref: '#/components/schemas/Cause'\nngApCause:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NgApCause'\n5gMmCauseValue:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/5GMmCause'\nueLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nueTimeZone:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/TimeZone'\naddUeLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nvsmfReleaseOnly:\ntype: boolean\ndefault: false\nn2SmInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn2SmInfoType:\n$ref: '#/components/schemas/N2SmInfoType'\nismfReleaseOnly:\ntype: boolean\ndefault: false\nSmContextReleasedData:\ndescription: Data within Release SM Context Response\ntype: object\nproperties:\nsmallDataRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SmallDataRateStatus'\napnRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ApnRateStatus'\nSmContextStatusNotification:\ndescription: Data within Notify SM Context Status Request\ntype: object\nproperties:\nstatusInfo:\n$ref: '#/components/schemas/StatusInfo'\nsmallDataRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SmallDataRateStatus'\napnRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ApnRateStatus'\nddnFailureStatus:\ntype: boolean\ndefault: false\nnotifyCorrelationIdsForddnFailure:\ntype: array\nitems:\ntype: string\nminItems: 1\nnewIntermediateSmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nnewSmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nnewSmfSetId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfSetId'\noldSmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\noldSmContextRef:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\naltAnchorSmfUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\naltAnchorSmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\ntargetDnaiInfo:\n$ref: '#/components/schemas/TargetDnaiInfo'\noldPduSessionRef:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\ninterPlmnApiRoot:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\ntargetDnai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'\nrequired:\n- statusInfo\nPduSessionCreateData:\ndescription: Data within Create Request\ntype: object\nproperties:\nsupi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'\nunauthenticatedSupi:\ntype: boolean\ndefault: false\npei:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Pei'\npduSessionId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionId'\ndnn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nselectedDnn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nsNssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\naltSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nhplmnSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nvsmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nismfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nservingNetwork:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid'\nrequestType:\n$ref: '#/components/schemas/RequestType'\nepsBearerId:\ntype: array\nitems:\n$ref: '#/components/schemas/EpsBearerId'\nminItems: 1\npgwS8cFteid:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nvsmfPduSessionUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nismfPduSessionUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nvcnTunnelInfo:\n$ref: '#/components/schemas/TunnelInfo'\nicnTunnelInfo:\n$ref: '#/components/schemas/TunnelInfo'\nn9ForwardingTunnelInfo:\n$ref: '#/components/schemas/TunnelInfo'\nadditionalCnTunnelInfo:\n$ref: '#/components/schemas/TunnelInfo'\nanType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nadditionalAnType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nratType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RatType'\nueLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nueTimeZone:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/TimeZone'\naddUeLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nn1SmInfoFromUe:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nunknownN1SmInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nsupportedFeatures:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nhPcfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\npcfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\npcfGroupId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfGroupId'\npcfSetId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfSetId'\nhoPreparationIndication:\ntype: boolean\nselMode:\n$ref: '#/components/schemas/DnnSelectionMode'\nalwaysOnRequested:\ntype: boolean\ndefault: false\nudmGroupId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfGroupId'\nroutingIndicator:\ntype: string\nhNwPubKeyId:\ntype: integer\nepsInterworkingInd:\n$ref: '#/components/schemas/EpsInterworkingIndication'\nvSmfServiceInstanceId:\ntype: string\niSmfServiceInstanceId:\ntype: string\nrecoveryTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nroamingChargingProfile:\n$ref: 'TS32291_Nchf_ConvergedCharging.yaml#/components/schemas/RoamingChargingProfile'\nchargingId:\ntype: string\npattern: '^(0|([1-9]{1}[0-9]{0,9}))$'\nsmfChargingId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SmfChargingId'\noldPduSessionId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionId'\nepsBearerCtxStatus:\n$ref: '#/components/schemas/EpsBearerContextStatus'\namfNfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nguami:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Guami'\nmaxIntegrityProtectedDataRateUl:\n$ref: '#/components/schemas/MaxIntegrityProtectedDataRate'\nmaxIntegrityProtectedDataRateDl:\n$ref: '#/components/schemas/MaxIntegrityProtectedDataRate'\ncpCiotEnabled:\ntype: boolean\ndefault: false\ncpOnlyInd:\ntype: boolean\ndefault: false\ninvokeNef:\ntype: boolean\ndefault: false\nmaRequestInd:\ntype: boolean\ndefault: false\nmaNwUpgradeInd:\ntype: boolean\ndefault: false\ndnaiList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'\nminItems: 1\npresenceInLadn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PresenceState'\nsecondaryRatUsageInfo:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SecondaryRatUsageInfo'\nminItems: 1\nsmallDataRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SmallDataRateStatus'\napnRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ApnRateStatus'\ndlServingPlmnRateCtl:\ntype: integer\nminimum: 10\nupSecurityInfo:\n$ref: '#/components/schemas/UpSecurityInfo'\nvplmnQos:\n$ref: '#/components/schemas/VplmnQos'\noldSmContextRef:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nredundantPduSessionInfo:\n$ref: '#/components/schemas/RedundantPduSessionInformation'\noldPduSessionRef:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nsmPolicyNotifyInd:\ntype: boolean\ndefault: false\npcfUeCallbackInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PcfUeCallbackInfo'\nsatelliteBackhaulCat:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SatelliteBackhaulCategory'\nupipSupported:\ntype: boolean\ndefault: false\nupCnxState:\n$ref: '#/components/schemas/UpCnxState'\ndisasterRoamingInd:\ntype: boolean\ndefault: false\nhrsboInfo:\n$ref: '#/components/schemas/HrsboInfoFromVplmn'\necsAddrConfigInfos:\ntype: array\nitems:\n$ref: 'TS29503_Nudm_PP.yaml#/components/schemas/EcsAddrConfigInfo'\nminItems: 1\npduSetSupportInd:\ntype: boolean\ndefault: false\necnMarkingCongestionInfoStatus:\ntype: array\nitems:\n$ref: '#/components/schemas/EcnMarkingCongestionInfoStatus'\nminItems: 1\nrequired:\n- dnn\n- servingNetwork\n- anType\noneOf:\n- required: [ vsmfId, vsmfPduSessionUri ]\n- required: [ ismfId, ismfPduSessionUri ]\nPduSessionCreatedData:\ndescription: Data within Create Response\ntype: object\nproperties:\npduSessionType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionType'\nsscMode:\ntype: string\npattern: '^[0-7]$'\nhcnTunnelInfo:\n$ref: '#/components/schemas/TunnelInfo'\ncnTunnelInfo:\n$ref: '#/components/schemas/TunnelInfo'\nadditionalCnTunnelInfo:\n$ref: '#/components/schemas/TunnelInfo'\nsessionAmbr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ambr'\nqosFlowsSetupList:\ntype: array\nitems:\n$ref: '#/components/schemas/QosFlowSetupItem'\nminItems: 1\nhSmfInstanceId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nsmfInstanceId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\npduSessionId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionId'\nsNssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nadditionalSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nenablePauseCharging:\ntype: boolean\ndefault: false\nueIpv4Address:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\nueIpv6Prefix:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix'\nn1SmInfoToUe:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nepsPdnCnxInfo:\n$ref: '#/components/schemas/EpsPdnCnxInfo'\nepsBearerInfo:\ntype: array\nitems:\n$ref: '#/components/schemas/EpsBearerInfo'\nminItems: 1\nsupportedFeatures:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nmaxIntegrityProtectedDataRate:\n$ref: '#/components/schemas/MaxIntegrityProtectedDataRate'\nmaxIntegrityProtectedDataRateDl:\n$ref: '#/components/schemas/MaxIntegrityProtectedDataRate'\nalwaysOnGranted:\ntype: boolean\ndefault: false\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nupSecurity:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UpSecurity'\nroamingChargingProfile:\n$ref: 'TS32291_Nchf_ConvergedCharging.yaml#/components/schemas/RoamingChargingProfile'\nhSmfServiceInstanceId:\ntype: string\nsmfServiceInstanceId:\ntype: string\nrecoveryTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\ndnaiList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'\nminItems: 1\nipv6MultiHomingInd:\ntype: boolean\ndefault: false\nmaAcceptedInd:\ntype: boolean\ndefault: false\nhomeProvidedChargingId:\ntype: string\npattern: '^(0|([1-9]{1}[0-9]{0,9}))$'\nhomeProvidedSmfChargingId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SmfChargingId'\nnefExtBufSupportInd:\ntype: boolean\ndefault: false\nsmallDataRateControlEnabled:\ntype: boolean\ndefault: false\nueIpv6InterfaceId:\ntype: string\npattern: '^[A-Fa-f0-9]{16}$'\nipv6Index:\n$ref: 'TS29519_Policy_Data.yaml#/components/schemas/IpIndex'\ndnAaaAddress:\n$ref: '#/components/schemas/IpAddress'\nredundantPduSessionInfo:\n$ref: '#/components/schemas/RedundantPduSessionInformation'\nnspuSupportInd:\ntype: boolean\ninterPlmnApiRoot:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nintraPlmnApiRoot:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nudmGroupId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfGroupId'\npcfGroupId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfGroupId'\nhrsboInfo:\n$ref: '#/components/schemas/HrsboInfoFromHplmn'\npendingUpdateInfoList:\ntype: array\nitems:\n$ref: '#/components/schemas/PendingUpdateInfo'\nminItems: 1\nrequired:\n- pduSessionType\n- sscMode\noneOf:\n- required: [ hSmfInstanceId ]\n- required: [ smfInstanceId ]\nHsmfUpdateData:\ndescription: Data within Update Request towards H-SMF, or from I-SMF to SMF\ntype: object\nproperties:\nrequestIndication:\n$ref: '#/components/schemas/RequestIndication'\npei:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Pei'\nvcnTunnelInfo:\n$ref: '#/components/schemas/TunnelInfo'\nicnTunnelInfo:\n$ref: '#/components/schemas/TunnelInfo'\nadditionalCnTunnelInfo:\n$ref: '#/components/schemas/TunnelInfo'\nservingNetwork:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid'\nanType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nadditionalAnType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nratType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RatType'\nueLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nueTimeZone:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/TimeZone'\naddUeLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\npauseCharging:\ntype: boolean\npti:\n$ref: '#/components/schemas/ProcedureTransactionId'\nn1SmInfoFromUe:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nunknownN1SmInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nqosFlowsRelNotifyList:\ntype: array\nitems:\n$ref: '#/components/schemas/QosFlowItem'\nminItems: 1\nqosFlowsVsmfRejectedList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Qfi'\nminItems: 1\nqosFlowsNotifyList:\ntype: array\nitems:\n$ref: '#/components/schemas/QosFlowNotifyItem'\nminItems: 1\nNotifyList:\ntype: array\nitems:\n$ref: '#/components/schemas/PduSessionNotifyItem'\nminItems: 1\n# The attribute name does not follow the naming conventions specified in 3GPP TS 29.501. The attribute name is kept though as defined in the current specification for backward compatibility reason.\nepsBearerId:\ntype: array\nitems:\n$ref: '#/components/schemas/EpsBearerId'\nminItems: 0\nhoPreparationIndication:\ntype: boolean\nrevokeEbiList:\ntype: array\nitems:\n$ref: '#/components/schemas/EpsBearerId'\nminItems: 1\ncause:\n$ref: '#/components/schemas/Cause'\nngApCause:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NgApCause'\n5gMmCauseValue:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/5GMmCause'\nalwaysOnRequested:\ntype: boolean\ndefault: false\nepsInterworkingInd:\n$ref: '#/components/schemas/EpsInterworkingIndication'\nsecondaryRatUsageReport:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SecondaryRatUsageReport'\nminItems: 1\nsecondaryRatUsageInfo:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SecondaryRatUsageInfo'\nminItems: 1\nanTypeCanBeChanged:\ntype: boolean\ndefault: false\nmaReleaseInd:\n$ref: '#/components/schemas/MaReleaseIndication'\nmaNwUpgradeInd:\ntype: boolean\ndefault: false\nmaRequestInd:\ntype: boolean\ndefault: false\nunavailableAccessInd:\n$ref: '#/components/schemas/UnavailableAccessIndication'\npsaInfo:\ntype: array\nitems:\n$ref: '#/components/schemas/PsaInformation'\nminItems: 1\nulclBpInfo:\n$ref: '#/components/schemas/UlclBpInformation'\nn4Info:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt1:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt2:\n$ref: '#/components/schemas/N4Information'\npresenceInLadn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PresenceState'\nvsmfPduSessionUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nvsmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nvSmfServiceInstanceId:\ntype: string\nismfPduSessionUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nismfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\niSmfServiceInstanceId:\ntype: string\ndlServingPlmnRateCtl:\ntype: integer\nminimum: 10\nnullable: true\ndnaiList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'\nminItems: 1\nsupportedFeatures:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nroamingChargingProfile:\n$ref: 'TS32291_Nchf_ConvergedCharging.yaml#/components/schemas/RoamingChargingProfile'\nmoExpDataCounter:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/MoExpDataCounter'\nvplmnQos:\n$ref: '#/components/schemas/VplmnQos'\nsecurityResult:\n$ref: '#/components/schemas/SecurityResult'\nupSecurityInfo:\n$ref: '#/components/schemas/UpSecurityInfo'\namfNfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nguami:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Guami'\nsecondaryRatUsageDataReportContainer:\ntype: array\nitems:\n$ref: '#/components/schemas/SecondaryRatUsageDataReportContainer'\nminItems: 1\nsmPolicyNotifyInd:\ntype: boolean\nenum:\n- true\npcfUeCallbackInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PcfUeCallbackInfo'\nsatelliteBackhaulCat:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SatelliteBackhaulCategory'\nmaxIntegrityProtectedDataRateUl:\n$ref: '#/components/schemas/MaxIntegrityProtectedDataRate'\nmaxIntegrityProtectedDataRateDl:\n$ref: '#/components/schemas/MaxIntegrityProtectedDataRate'\nupCnxState:\n$ref: '#/components/schemas/UpCnxState'\necsAddrConfigInfos:\ntype: array\nitems:\n$ref: 'TS29503_Nudm_PP.yaml#/components/schemas/EcsAddrConfigInfo'\nminItems: 1\nhrsboInfo:\n$ref: '#/components/schemas/HrsboInfoFromVplmn'\naltSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nnsReplTerminInd:\ntype: boolean\nenum:\n- true\ndisasterRoamingInd:\ntype: boolean\nenum:\n- true\npduSetSupportInd:\ntype: boolean\necnMarkingCongestionInfoStatus:\ntype: array\nitems:\n$ref: '#/components/schemas/EcnMarkingCongestionInfoStatus'\nminItems: 1\nrequired:\n- requestIndication\nHsmfUpdatedData:\ndescription: Data within Update Response from H-SMF, or from SMF to I-SMF\ntype: object\nproperties:\nn1SmInfoToUe:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn4Info:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt1:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt2:\n$ref: '#/components/schemas/N4Information'\ndnaiList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'\nminItems: 1\nsupportedFeatures:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\nroamingChargingProfile:\n$ref: 'TS32291_Nchf_ConvergedCharging.yaml#/components/schemas/RoamingChargingProfile'\nhomeProvidedChargingId:\ntype: string\npattern: '^(0|([1-9]{1}[0-9]{0,9}))$'\nhomeProvidedSmfChargingId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SmfChargingId'\nupSecurity:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UpSecurity'\nmaxIntegrityProtectedDataRateUl:\n$ref: '#/components/schemas/MaxIntegrityProtectedDataRate'\nmaxIntegrityProtectedDataRateDl:\n$ref: '#/components/schemas/MaxIntegrityProtectedDataRate'\nipv6MultiHomingInd:\ntype: boolean\ndefault: false\nqosFlowsSetupList:\ntype: array\nitems:\n$ref: '#/components/schemas/QosFlowSetupItem'\nminItems: 1\nsessionAmbr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ambr'\nepsPdnCnxInfo:\n$ref: '#/components/schemas/EpsPdnCnxInfo'\nepsBearerInfo:\ntype: array\nitems:\n$ref: '#/components/schemas/EpsBearerInfo'\nminItems: 1\npti:\n$ref: '#/components/schemas/ProcedureTransactionId'\ninterPlmnApiRoot:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nintraPlmnApiRoot:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nhrsboInfo:\n$ref: '#/components/schemas/HrsboInfoFromHplmn'\nReleaseData:\ndescription: Data within Release Request\ntype: object\nproperties:\ncause:\n$ref: '#/components/schemas/Cause'\nngApCause:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NgApCause'\n5gMmCauseValue:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/5GMmCause'\nueLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nueTimeZone:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/TimeZone'\naddUeLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nsecondaryRatUsageReport:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SecondaryRatUsageReport'\nminItems: 1\nsecondaryRatUsageInfo:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SecondaryRatUsageInfo'\nminItems: 1\nn4Info:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt1:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt2:\n$ref: '#/components/schemas/N4Information'\nReleasedData:\ndescription: Data within Release Response\ntype: object\nproperties:\nsmallDataRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SmallDataRateStatus'\napnRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ApnRateStatus'\nn4Info:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt1:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt2:\n$ref: '#/components/schemas/N4Information'\nVsmfUpdateData:\ndescription: Data within Update Request towards V-SMF, or from SMF to I-SMF\ntype: object\nproperties:\nrequestIndication:\n$ref: '#/components/schemas/RequestIndication'\nsessionAmbr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ambr'\nqosFlowsAddModRequestList:\ntype: array\nitems:\n$ref: '#/components/schemas/QosFlowAddModifyRequestItem'\nminItems: 1\nqosFlowsRelRequestList:\ntype: array\nitems:\n$ref: '#/components/schemas/QosFlowReleaseRequestItem'\nminItems: 1\nepsBearerInfo:\ntype: array\nitems:\n$ref: '#/components/schemas/EpsBearerInfo'\nminItems: 1\nassignEbiList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Arp'\nminItems: 1\nrevokeEbiList:\ntype: array\nitems:\n$ref: '#/components/schemas/EpsBearerId'\nminItems: 1\nmodifiedEbiList:\ntype: array\nitems:\n$ref: '#/components/schemas/EbiArpMapping'\nminItems: 1\npti:\n$ref: '#/components/schemas/ProcedureTransactionId'\nn1SmInfoToUe:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nalwaysOnGranted:\ntype: boolean\ndefault: false\nhsmfPduSessionUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nnewSmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nnewSmfPduSessionUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nsupportedFeatures:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\ncause:\n$ref: '#/components/schemas/Cause'\nn1smCause:\ntype: string\nbackOffTimer:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\nmaReleaseInd:\n$ref: '#/components/schemas/MaReleaseIndication'\nmaAcceptedInd:\ntype: boolean\ndefault: false\nadditionalCnTunnelInfo:\n$ref: '#/components/schemas/TunnelInfo'\ndnaiList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'\nn4Info:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt1:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt2:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt3:\n$ref: '#/components/schemas/N4Information'\nsmallDataRateControlEnabled:\ntype: boolean\nqosMonitoringInfo:\n$ref: '#/components/schemas/QosMonitoringInfo'\nepsPdnCnxInfo:\n$ref: '#/components/schemas/EpsPdnCnxInfo'\nn9DataForwardingInd:\ntype: boolean\ndefault: false\nn9InactivityTimer:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\nhrsboInfo:\n$ref: '#/components/schemas/HrsboInfoFromHplmn'\naltHplmnSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\npduSessionRetainInd:\ntype: boolean\nenum:\n- true\npendingUpdateInfoList:\ntype: array\nitems:\n$ref: '#/components/schemas/PendingUpdateInfo'\nrequired:\n- requestIndication\nVsmfUpdatedData:\ndescription: Data within Update Response from V-SMF, or from I-SMF to SMF\ntype: object\nproperties:\nqosFlowsAddModList:\ntype: array\nitems:\n$ref: '#/components/schemas/QosFlowItem'\nminItems: 1\nqosFlowsRelList:\ntype: array\nitems:\n$ref: '#/components/schemas/QosFlowItem'\nminItems: 1\nqosFlowsFailedtoAddModList:\ntype: array\nitems:\n$ref: '#/components/schemas/QosFlowItem'\nminItems: 1\nqosFlowsVsmfRejectedAddModList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Qfi'\nminItems: 1\nqosFlowsFailedtoRelList:\ntype: array\nitems:\n$ref: '#/components/schemas/QosFlowItem'\nminItems: 1\nn1SmInfoFromUe:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nunknownN1SmInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nueLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nueTimeZone:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/TimeZone'\naddUeLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nassignedEbiList:\ntype: array\nitems:\n$ref: '#/components/schemas/EbiArpMapping'\nminItems: 1\nfailedToAssignEbiList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Arp'\nminItems: 1\nreleasedEbiList:\ntype: array\nitems:\n$ref: '#/components/schemas/EpsBearerId'\nminItems: 1\nsecondaryRatUsageReport:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SecondaryRatUsageReport'\nminItems: 1\nsecondaryRatUsageInfo:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SecondaryRatUsageInfo'\nminItems: 1\nn4Info:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt1:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt2:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt3:\n$ref: '#/components/schemas/N4Information'\nmodifiedEbiListNotDelivered:\ntype: boolean\necnMarkingCongestionInfoStatus:\ntype: array\nitems:\n$ref: '#/components/schemas/EcnMarkingCongestionInfoStatus'\nminItems: 1\npduSetSupportInd:\ntype: boolean\nStatusNotification:\ndescription: Data within Notify Status Request\ntype: object\nproperties:\nstatusInfo :\n$ref: '#/components/schemas/StatusInfo'\nsmallDataRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SmallDataRateStatus'\napnRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ApnRateStatus'\ntargetDnaiInfo:\n$ref: '#/components/schemas/TargetDnaiInfo'\noldPduSessionRef:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nnewSmfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nepsPdnCnxInfo:\n$ref: '#/components/schemas/EpsPdnCnxInfo'\ninterPlmnApiRoot:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nintraPlmnApiRoot:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nrequired:\n- statusInfo\nQosFlowItem:\ndescription: Individual QoS flow\ntype: object\nproperties:\nqfi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Qfi'\ncause:\n$ref: '#/components/schemas/Cause'\ncurrentQosProfileIndex:\ntype: integer\nminimum: 1\nmaximum: 8\nnullQoSProfileIndex:\ntype: boolean\nngApCause:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NgApCause'\nrequired:\n- qfi\nQosFlowSetupItem:\ndescription: Individual QoS flow to setup\ntype: object\nproperties:\nqfi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Qfi'\nqosRules:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nprotocDesc:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nebi:\n$ref: '#/components/schemas/EpsBearerId'\nqosFlowDescription:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nqosFlowProfile:\n$ref: '#/components/schemas/QosFlowProfile'\nassociatedAnType:\n$ref: '#/components/schemas/QosFlowAccessType'\ndefaultQosRuleInd:\ntype: boolean\necnMarkingCongestInfoReq:\n$ref: '#/components/schemas/EcnMarkingCongestionInfoReq'\nrequired:\n- qfi\n- qosRules\nQosFlowAddModifyRequestItem:\ndescription: Individual QoS flow requested to be created or modified\ntype: object\nproperties:\nqfi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Qfi'\nebi:\n$ref: '#/components/schemas/EpsBearerId'\nqosRules:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nprotocDesc:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nqosFlowDescription:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nqosFlowProfile:\n$ref: '#/components/schemas/QosFlowProfile'\nassociatedAnType:\n$ref: '#/components/schemas/QosFlowAccessType'\necnMarkingCongestInfoReq:\n$ref: '#/components/schemas/EcnMarkingCongestionInfoReq'\ntscaiUl:\n$ref: '#/components/schemas/TscAssistanceInformation'\ntscaiDl:\n$ref: '#/components/schemas/TscAssistanceInformation'\nrequired:\n- qfi\nQosFlowReleaseRequestItem:\ndescription: Individual QoS flow requested to be released\ntype: object\nproperties:\nqfi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Qfi'\nqosRules:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nqosFlowDescription:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nrequired:\n- qfi\nQosFlowProfile:\ndescription: QoS flow profile\ntype: object\nproperties:\n5qi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/5Qi'\nnonDynamic5Qi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NonDynamic5Qi'\ndynamic5Qi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dynamic5Qi'\narp:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Arp'\ngbrQosFlowInfo:\n$ref: '#/components/schemas/GbrQosFlowInformation'\nrqa:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ReflectiveQoSAttribute'\nadditionalQosFlowInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AdditionalQosFlowInfo'\nqosMonitoringReq:\n$ref: '#/components/schemas/QosMonitoringReq'\nqosRepPeriod:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\npduSetQosDl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSetQosPara'\npduSetQosUl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSetQosPara'\nrequired:\n- 5qi\nGbrQosFlowInformation:\ndescription: GBR QoS flow information\ntype: object\nproperties:\nmaxFbrDl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\nmaxFbrUl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\nguaFbrDl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\nguaFbrUl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\nnotifControl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NotificationControl'\nmaxPacketLossRateDl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PacketLossRate'\nmaxPacketLossRateUl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PacketLossRate'\nalternativeQosProfileList:\ntype: array\nitems:\n$ref: '#/components/schemas/AlternativeQosProfile'\nrequired:\n- maxFbrDl\n- maxFbrUl\n- guaFbrDl\n- guaFbrUl\nQosFlowNotifyItem:\ndescription: Notification related to a QoS flow\ntype: object\nproperties:\nqfi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Qfi'\nnotificationCause:\n$ref: '#/components/schemas/NotificationCause'\ncurrentQosProfileIndex:\ntype: integer\nminimum: 1\nmaximum: 8\nnullQoSProfileIndex:\ntype: boolean\nrequired:\n- qfi\n- notificationCause\nSmContextRetrieveData:\ndescription: Data within Retrieve SM Context Request\ntype: object\nproperties:\ntargetMmeCap:\n$ref: '#/components/schemas/MmeCapabilities'\nsmContextType:\n$ref: '#/components/schemas/SmContextType'\nservingNetwork:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PlmnId'\nnotToTransferEbiList:\ntype: array\nitems:\n$ref: '#/components/schemas/EpsBearerId'\nminItems: 1\nranUnchangedInd:\ntype: boolean\ndefault: false\nhrsboSupportInd:\ntype: boolean\ndefault: false\nstoredOffloadIds:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/OffloadIdentifier'\nminItems: 1\nSmContextRetrievedData:\ndescription: Data within Retrieve SM Context Response\ntype: object\nproperties:\nueEpsPdnConnection:\n$ref: '#/components/schemas/EpsPdnCnxContainer'\nsmContext:\n$ref: '#/components/schemas/SmContext'\nsmallDataRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SmallDataRateStatus'\napnRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ApnRateStatus'\ndlDataWaitingInd:\ntype: boolean\ndefault: false\nafCoordinationInfo:\n$ref: '#/components/schemas/AfCoordinationInfo'\nrequired:\n- ueEpsPdnConnection\nMmeCapabilities:\ndescription: MME capabilities\ntype: object\nproperties:\nnonIpSupported:\ntype: boolean\ndefault: false\nethernetSupported:\ntype: boolean\ndefault: false\nupipSupported:\ntype: boolean\ndefault: false\nTunnelInfo:\ndescription: Tunnel Information\ntype: object\nproperties:\nipv4Addr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\nipv6Addr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr'\ngtpTeid:\n$ref: '#/components/schemas/Teid'\nanType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nrequired:\n- gtpTeid\nStatusInfo:\ndescription: Status of SM context or of PDU session\ntype: object\nproperties:\nresourceStatus:\n$ref: '#/components/schemas/ResourceStatus'\ncause:\n$ref: '#/components/schemas/Cause'\nremoteError:\ntype: boolean\ncnAssistedRanPara:\n$ref: '#/components/schemas/CnAssistedRanPara'\nanType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/AccessType'\nrequired:\n- resourceStatus\nEpsPdnCnxInfo:\ndescription: EPS PDN Connection Information from H-SMF to V-SMF, or from SMF to I-SMF\ntype: object\nproperties:\npgwS8cFteid:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\npgwNodeName:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\npgwChangeInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nlinkedBearerId:\n$ref: '#/components/schemas/EpsBearerId'\nrequired:\n- pgwS8cFteid\nEpsBearerInfo:\ndescription: EPS Bearer Information from H-SMF to V-SMF, or from SMF to I-SMF\ntype: object\nproperties:\nebi:\n$ref: '#/components/schemas/EpsBearerId'\npgwS8uFteid:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nbearerLevelQoS:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Bytes'\nrequired:\n- ebi\n- pgwS8uFteid\n- bearerLevelQoS\nPduSessionNotifyItem:\ndescription: Notification related to a PDU session\ntype: object\nproperties:\nnotificationCause:\n$ref: '#/components/schemas/NotificationCause'\nrequired:\n- notificationCause\nEbiArpMapping:\ndescription: EBI to ARP mapping\ntype: object\nproperties:\nepsBearerId:\n$ref: '#/components/schemas/EpsBearerId'\narp:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Arp'\nrequired:\n- epsBearerId\n- arp\nSmContextCreateError:\ndescription: Error within Create SM Context Response\ntype: object\nproperties:\nerror:\n$ref: '#/components/schemas/ExtProblemDetails'\nn1SmMsg:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn2SmInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn2SmInfoType:\n$ref: '#/components/schemas/N2SmInfoType'\nrecoveryTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nrequired:\n- error\nSmContextUpdateError:\ndescription: Error within Update SM Context Response\ntype: object\nproperties:\nerror:\n$ref: '#/components/schemas/ExtProblemDetails'\nn1SmMsg:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn2SmInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn2SmInfoType:\n$ref: '#/components/schemas/N2SmInfoType'\nupCnxState:\n$ref: '#/components/schemas/UpCnxState'\nrecoveryTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nrequired:\n- error\nPduSessionCreateError:\ndescription: Error within Create Response\ntype: object\nproperties:\nerror:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\nn1smCause:\ntype: string\npattern: '^[A-F0-9]{2}$'\nn1SmInfoToUe:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nbackOffTimer:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\nrecoveryTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nrequired:\n- error\nHsmfUpdateError:\ndescription: Error within Update Response from H-SMF, or from SMF to I-SMF\ntype: object\nproperties:\nerror:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\npti:\n$ref: '#/components/schemas/ProcedureTransactionId'\nn1smCause:\ntype: string\npattern: '^[A-F0-9]{2}$'\nn1SmInfoToUe:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nbackOffTimer:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\nrecoveryTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nrequired:\n- error\nVsmfUpdateError:\ndescription: Error within Update Response from V-SMF, or from I-SMF to SMF\ntype: object\nproperties:\nerror:\n$ref: '#/components/schemas/ExtProblemDetails'\npti:\n$ref: '#/components/schemas/ProcedureTransactionId'\nn1smCause:\ntype: string\npattern: '^[A-F0-9]{2}$'\nn1SmInfoFromUe:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nunknownN1SmInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nfailedToAssignEbiList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Arp'\nminItems: 1\nngApCause:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NgApCause'\n5gMmCauseValue:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/5GMmCause'\nrecoveryTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nn4Info:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt1:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt2:\n$ref: '#/components/schemas/N4Information'\nn4InfoExt3:\n$ref: '#/components/schemas/N4Information'\nretryAfter:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'\nrequired:\n- error\nSmContext:\ndescription: Complete SM Context\ntype: object\nproperties:\npduSessionId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionId'\ndnn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nselectedDnn:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\nsNssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\naltSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\nhplmnSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\naltHplmnSnssai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\npduSessionType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PduSessionType'\ngpsi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Gpsi'\nhSmfUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nsmfUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\npduSessionRef:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\ninterPlmnApiRoot:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nintraPlmnApiRoot:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\npcfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\npcfGroupId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfGroupId'\npcfSetId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfSetId'\nselMode:\n$ref: '#/components/schemas/DnnSelectionMode'\nudmGroupId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfGroupId'\nroutingIndicator:\ntype: string\nhNwPubKeyId:\ntype: integer\nsessionAmbr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ambr'\nqosFlowsList:\ntype: array\nitems:\n$ref: '#/components/schemas/QosFlowSetupItem'\nminItems: 1\nhSmfInstanceId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nsmfInstanceId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\npduSessionSmfSetId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfSetId'\npduSessionSmfServiceSetId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfServiceSetId'\npduSessionSmfBinding:\n$ref: 'TS29518_Namf_Communication.yaml#/components/schemas/SbiBindingLevel'\nenablePauseCharging:\ntype: boolean\ndefault: false\nueIpv4Address:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\nueIpv6Prefix:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix'\nepsPdnCnxInfo:\n$ref: '#/components/schemas/EpsPdnCnxInfo'\nepsBearerInfo:\ntype: array\nitems:\n$ref: '#/components/schemas/EpsBearerInfo'\nminItems: 1\nmaxIntegrityProtectedDataRate:\n$ref: '#/components/schemas/MaxIntegrityProtectedDataRate'\nmaxIntegrityProtectedDataRateDl:\n$ref: '#/components/schemas/MaxIntegrityProtectedDataRate'\nalwaysOnGranted:\ntype: boolean\ndefault: false\nupSecurity:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UpSecurity'\nhSmfServiceInstanceId:\ntype: string\nsmfServiceInstanceId:\ntype: string\nrecoveryTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'\nforwardingInd:\ntype: boolean\ndefault: false\npsaTunnelInfo:\n$ref: '#/components/schemas/TunnelInfo'\nchargingId:\ntype: string\npattern: '^(0|([1-9]{1}[0-9]{0,9}))$'\nsmfChargingId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SmfChargingId'\nchargingInfo:\n$ref: 'TS29512_Npcf_SMPolicyControl.yaml#/components/schemas/ChargingInformation'\nroamingChargingProfile:\n$ref: 'TS32291_Nchf_ConvergedCharging.yaml#/components/schemas/RoamingChargingProfile'\nnefExtBufSupportInd:\ntype: boolean\ndefault: false\nipv6Index:\n$ref: 'TS29519_Policy_Data.yaml#/components/schemas/IpIndex'\ndnAaaAddress:\n$ref: '#/components/schemas/IpAddress'\nredundantPduSessionInfo:\n$ref: '#/components/schemas/RedundantPduSessionInformation'\nranTunnelInfo:\n$ref: '#/components/schemas/QosFlowTunnel'\naddRanTunnelInfo:\ntype: array\nitems:\n$ref: '#/components/schemas/QosFlowTunnel'\nminItems: 1\nredRanTunnelInfo:\n$ref: '#/components/schemas/QosFlowTunnel'\naddRedRanTunnelInfo:\ntype: array\nitems:\n$ref: '#/components/schemas/QosFlowTunnel'\nminItems: 1\nnspuSupportInd:\ntype: boolean\nsmfBindingInfo:\ntype: string\nsatelliteBackhaulCat:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SatelliteBackhaulCategory'\nsscMode:\ntype: string\npattern: '^[0-7]$'\ndlsetSupportInd:\ntype: boolean\nn9fscSupportInd:\ntype: boolean\nanchorSmfOauth2Required:\ntype: boolean\nfullDnaiList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'\nminItems: 1\nhrsboAuthReqInd:\ntype: boolean\nhDnsAddr:\n$ref: '#/components/schemas/IpAddress'\nhPlmnAddr:\n$ref: '#/components/schemas/IpAddress'\nvplmnOffloadingInfoList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/VplmnOffloadingInfo'\nminItems: 1\nvplmnDlAmbr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/VplmnDlAmbr'\noffloadIds:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/OffloadIdentifier'\nminItems: 1\ntargetDnai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'\ntrafficInfluInfo:\n$ref: '#/components/schemas/TrafficInfluenceInfo'\npendingUpdateInfoList:\ntype: array\nitems:\n$ref: '#/components/schemas/PendingUpdateInfo'\nminItems: 1\neasInfoToRefresh:\n$ref: '#/components/schemas/EasInfoToRefresh'\nrequired:\n- pduSessionId\n- dnn\n- sNssai\n- pduSessionType\n- sessionAmbr\n- qosFlowsList\nExemptionInd:\ndescription: Exemption Indication\ntype: object\nproperties:\ndnnCongestion:\ntype: boolean\ndefault: false\nsnssaiOnlyCongestion:\ntype: boolean\ndefault: false\nsnssaiDnnCongestion:\ntype: boolean\ndefault: false\nPsaInformation:\ndescription: PSA Information\ntype: object\nproperties:\npsaInd:\n$ref: '#/components/schemas/PsaIndication'\ndnaiList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'\nminItems: 1\nueIpv6Prefix:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix'\npsaUpfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nDnaiInformation:\ndescription: DNAI Information\ntype: object\nproperties:\ndnai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'\nnoDnaiChangeInd:\ntype: boolean\nnoLocalPsaChangeInd:\ntype: boolean\nrequired:\n- dnai\nN4Information:\ndescription: N4 Information\ntype: object\nproperties:\nn4MessageType:\n$ref: '#/components/schemas/N4MessageType'\nn4MessagePayload:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nn4DnaiInfo:\n$ref: '#/components/schemas/DnaiInformation'\npsaUpfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nulClBpId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nn9UlPdrIdList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uint16'\nminItems: 1\nrequired:\n- n4MessageType\n- n4MessagePayload\nIndirectDataForwardingTunnelInfo:\ndescription: Indirect Data Forwarding Tunnel Information\ntype: object\nproperties:\nipv4Addr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\nipv6Addr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr'\ngtpTeid:\n$ref: '#/components/schemas/Teid'\ndrbId:\n$ref: '#/components/schemas/DrbId'\nadditionalTnlNb:\n$ref: '#/components/schemas/AdditionalTnlNb'\nrequired:\n- gtpTeid\nnot:\nrequired: [ drbId, additionalTnlNb ]\nSendMoDataReqData:\ndescription: Data within Send MO Data Request\ntype: object\nproperties:\nmoData:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nmoExpDataCounter:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/MoExpDataCounter'\nueLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nrequired:\n- moData\nCnAssistedRanPara:\ndescription: SMF derived CN assisted RAN parameters tuning\ntype: object\nproperties:\nstationaryIndication:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/StationaryIndication'\ncommunicationDurationTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\nperiodicTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\nscheduledCommunicationTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ScheduledCommunicationTime'\nscheduledCommunicationType:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ScheduledCommunicationType'\ntrafficProfile:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/TrafficProfile'\nbatteryIndication:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BatteryIndication'\nUlclBpInformation:\ndescription: UL CL or BP Information\ntype: object\nproperties:\nulclBpUpfId:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'\nTransferMoDataReqData:\ndescription: Data within Transfer MO Data Request\ntype: object\nproperties:\nmoData:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nmoExpDataCounter:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/MoExpDataCounter'\nueLocation:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UserLocation'\nrequired:\n- moData\nTransferMtDataReqData:\ndescription: Data within Transfer MT Data Request\ntype: object\nproperties:\nmtData:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nrequired:\n- mtData\nTransferMtDataError:\ndescription: Transfer MT Data Error Response\nallOf:\n- $ref: '#/components/schemas/ExtProblemDetails'\n- $ref: '#/components/schemas/TransferMtDataAddInfo'\nTransferMtDataAddInfo:\ndescription: Transfer MT Data Error Response Additional Information\ntype: object\nproperties:\nmaxWaitingTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\nVplmnQos:\ndescription: VPLMN QoS\ntype: object\nproperties:\n5qi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/5Qi'\nadd5QiList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/5Qi'\nminItems: 1\narp:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Arp'\nsessionAmbr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ambr'\nmaxFbrDl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\nmaxFbrUl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\nguaFbrDl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\nguaFbrUl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\n5qiPL:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/5QiPriorityLevel'\nDdnFailureSubs:\ndescription: DDN Failure Subscription\ntype: object\nproperties:\nddnFailureSubsInd:\ntype: boolean\ndefault: false\nddnFailureSubsInfoList:\ntype: array\nitems:\n$ref: '#/components/schemas/DdnFailureSubInfo'\nminItems: 1\nDdnFailureSubInfo:\ndescription: DDN Failure Subscription Information\ntype: object\nrequired:\n- notifyCorrelationId\nproperties:\nnotifyCorrelationId:\ntype: string\ndddTrafficDescriptorList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DddTrafficDescriptor'\nminItems: 1\nRetrieveData:\ndescription: Data within Retrieve Request\ntype: object\nproperties:\nsmallDataRateStatusReq:\ntype: boolean\ndefault: false\npduSessionContextType:\n$ref: '#/components/schemas/PduSessionContextType'\nRetrievedData:\ndescription: Data within Retrieve Response\ntype: object\nproperties:\nsmallDataRateStatus:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/SmallDataRateStatus'\nafCoordinationInfo:\n$ref: '#/components/schemas/AfCoordinationInfo'\nSecurityResult:\ndescription: Security Result\ntype: object\nproperties:\nintegrityProtectionResult:\n$ref: '#/components/schemas/ProtectionResult'\nconfidentialityProtectionResult:\n$ref: '#/components/schemas/ProtectionResult'\nUpSecurityInfo:\ndescription: User Plane Security Information\ntype: object\nproperties:\nupSecurity:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/UpSecurity'\nmaxIntegrityProtectedDataRateUl:\n$ref: '#/components/schemas/MaxIntegrityProtectedDataRate'\nmaxIntegrityProtectedDataRateDl:\n$ref: '#/components/schemas/MaxIntegrityProtectedDataRate'\nsecurityResult:\n$ref: '#/components/schemas/SecurityResult'\nrequired:\n- upSecurity\nAlternativeQosProfile:\ndescription: Alternative QoS Profile\ntype: object\nproperties:\nindex:\ntype: integer\nminimum: 1\nmaximum: 8\nguaFbrDl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\nguaFbrUl:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\npacketDelayBudget:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PacketDelBudget'\npacketErrRate:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/PacketErrRate'\nmaxDataBurstVol:\ntype: integer\nminimum: 1\nmaximum: 2000000\nrequired:\n- index\nExtProblemDetails:\ndescription: Extended Problem Details\nallOf:\n- $ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\n- $ref: '#/components/schemas/ProblemDetailsAddInfo'\nProblemDetailsAddInfo:\ndescription: Problem Details Additional Information\ntype: object\nproperties:\nremoteError:\ntype: boolean\nQosMonitoringInfo:\ndescription: QoS Monitoring Information\ntype: object\nproperties:\nqosMonitoringInd:\ntype: boolean\ndefault: false\nIpAddress:\ndescription: IP Address\ntype: object\noneOf:\n- required:\n- ipv4Addr\n- required:\n- ipv6Addr\n- required:\n- ipv6Prefix\nproperties:\nipv4Addr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\nipv6Addr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr'\nipv6Prefix:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix'\nRedundantPduSessionInformation:\ndescription: Redundant PDU Session Information\ntype: object\nproperties:\nrsn:\n$ref: '#/components/schemas/Rsn'\npduSessionPairId:\ntype: integer\nminimum: 0\nmaximum: 255\nrequired:\n- rsn\nQosFlowTunnel:\ndescription: Tunnel Information per QoS Flow\ntype: object\nproperties:\nqfiList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Qfi'\nminItems: 1\ntunnelInfo:\n$ref: '#/components/schemas/TunnelInfo'\nrequired:\n- qfiList\n- tunnelInfo\nTargetDnaiInfo:\ndescription: Target DNAI Information\ntype: object\nproperties:\ntargetDnai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'\nsmfSelectionType:\n$ref: '#/components/schemas/SmfSelectionType'\nrequired:\n- smfSelectionType\nAfCoordinationInfo:\ndescription: AF Coordination Information\ntype: object\nproperties:\nsourceDnai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'\nsourceUeIpv4Addr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'\nsourceUeIpv6Prefix:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix'\nnotificationInfoList:\ntype: array\nitems:\n$ref: '#/components/schemas/NotificationInfo'\nminItems: 1\nNotificationInfo:\ndescription: >\nNotification Correlation ID and Notification URI provided by the NF service consumer\ntype: object\nproperties:\nnotifId:\ntype: string\nnotifUri:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\nupBufferInd:\ntype: boolean\ndefault: false\nrequired:\n- notifId\n- notifUri\nAnchorSmfFeatures:\ndescription: Anchor SMF supported features\ntype: object\nproperties:\npsetrSupportInd:\ntype: boolean\nHrsboInfoFromVplmn:\ndescription: HR-SBO Information in request message\ntype: object\nproperties:\nhrsboAuthReqInd:\ntype: boolean\nenum:\n- true\nvEasdfAddr:\n$ref: '#/components/schemas/IpAddress'\nlocalDnsAddr:\n$ref: '#/components/schemas/IpAddress'\neasRediscoveryInd:\ntype: boolean\nenum:\n- true\neasInfoToRefresh:\n$ref: '#/components/schemas/EasInfoToRefresh'\nstoredOffloadIds:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/OffloadIdentifier'\nminItems: 1\neasIpReplSupportInd:\ntype: boolean\ndefault: false\nvEasdfSecurityInfo:\ntype: array\nitems:\n$ref: '#/components/schemas/DnsServerSecurityInformation'\nminItems: 1\nlocalDnsSecurityInfo:\ntype: array\nitems:\n$ref: '#/components/schemas/DnsServerSecurityInformation'\nminItems: 1\nHrsboInfoFromHplmn:\ndescription: HR-SBO Information in response message\ntype: object\nproperties:\nhrsboAuthResult:\ntype: boolean\nhDnsAddr:\n$ref: '#/components/schemas/IpAddress'\nhPlmnAddr:\n$ref: '#/components/schemas/IpAddress'\nvplmnOffloadingInfoList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/VplmnOffloadingInfo'\nvplmnDlAmbr:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/VplmnDlAmbr'\noffloadIds:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/OffloadIdentifier'\ninternalGroupIds:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/GroupId'\nminItems: 1\ntargetDnai:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'\ntrafficInfluInfo:\n$ref: '#/components/schemas/TrafficInfluenceInfo'\nEasInfoToRefresh:\ndescription: EAS information to be refreshed for EAS re-discovery\ntype: object\nproperties:\nipv4AddressRanges:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4AddressRange'\nminItems: 1\nipv6AddressRanges:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6AddressRange'\nminItems: 1\nfqdnList:\ntype: array\nitems:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Fqdn'\nminItems: 1\nEcnMarkingCongestionInfoReq:\ndescription: ECN Marking or Congestion Information Request\ntype: object\nproperties:\necnMarkingRanReq:\n$ref: '#/components/schemas/EcnMarkingReq'\necnMarkingUpfReq:\n$ref: '#/components/schemas/EcnMarkingReq'\ncongestionInfoReq:\n$ref: '#/components/schemas/CongestionInfoReq'\noneOf:\n- required: [ ecnMarkingRanReq ]\n- required: [ ecnMarkingUpfReq ]\n- required: [ congestionInfoReq ]\nEcnMarkingCongestionInfoStatus:\ndescription: ECN Marking or Congestion Information Status\ntype: object\nproperties:\nqfi:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Qfi'\nactivationStatus:\n$ref: '#/components/schemas/ActivationStatus'\nrequired:\n- qfi\n- activationStatus\nTscAssistanceInformation:\ndescription: TSC Assistance Information\ntype: object\nproperties:\nperiodicity:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uint32'\nn6JitterInformation:\n$ref: '#/components/schemas/N6JitterInformation'\nN6JitterInformation:\ndescription: Jitter information associated with the Periodicity in downlink\ntype: object\nproperties:\nlowerJitterInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Int32'\nhigherJitterInfo:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Int32'\nTrafficInfluenceInfo:\ndescription: Traffic influence information applicable at the VPLMN for an HR-SBO PDU session\ntype: object\nproperties:\ntraffInfluData:\ntype: array\nitems:\n$ref: '#/components/schemas/TrafficInfluenceData'\nminItems: 1\ntraffContDecs:\ntype: object\ndescription: >\nMap of Traffic Control data policy decisions. The key used in this map for each entry\nis the tcId attribute of the corresponding TrafficControlData.\nadditionalProperties:\n$ref: 'TS29512_Npcf_SMPolicyControl.yaml#/components/schemas/TrafficControlData'\nminProperties: 1\nTrafficInfluenceData:\ndescription: >\nTraffic influence data comprising the Service Data Flow description and the Application\nFunction influence on traffic routing Enforcement Control parameters of a PCC rule.\ntype: object\nproperties:\nflowInfos:\ntype: array\nitems:\n$ref: 'TS29512_Npcf_SMPolicyControl.yaml#/components/schemas/FlowInformation'\nminItems: 1\ndescription: An array of IP flow packet filter information.\nappId:\ntype: string\ndescription: A reference to the application detection filter configured at the UPF.\nprecedence:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'\nrefTcData:\ntype: array\nitems:\ntype: string\nminItems: 1\nmaxItems: 1\ndescription: >\nA reference to the TrafficControlData policy decision type. It is the tcId described\nin clause 5.6.2.10 of 3GPP TS 29.512 [30].\n#\n# SIMPLE DATA TYPES\n#\nProcedureTransactionId:\ndescription: Procedure Transaction Identifier\ntype: integer\nminimum: 0\nmaximum: 255\nEpsBearerId:\ndescription: EPS Bearer Identifier\ntype: integer\nminimum: 0\nmaximum: 15\nEpsPdnCnxContainer:\ndescription: UE EPS PDN Connection container from SMF to AMF\ntype: string\nformat: byte\nEpsBearerContainer:\ndescription: EPS Bearer container from SMF to AMF\ntype: string\nformat: byte\nTeid:\ntype: string\ndescription: GTP Tunnel Endpoint Identifier\npattern: '^[A-Fa-f0-9]{8}$'\nEpsBearerContextStatus:\ndescription: EPS bearer context status\ntype: string\npattern: '^[A-Fa-f0-9]{4}$'\nDrbId:\ndescription: Data Radio Bearer Identity\ntype: integer\nminimum: 1\nmaximum: 32\nAdditionalTnlNb:\ndescription: indicates first, second or third additional indirect data forwarding tunnel\ntype: integer\nminimum: 1\nmaximum: 3\nForwardingBearerContainer:\ndescription: Forwarding Bearer Container\ntype: string\nformat: byte\nSecondaryRatUsageDataReportContainer:\ndescription: Secondary Rat Usage Data Report Container\ntype: string\nformat: byte\nDnsServerSecurityInformation:\ndescription: DNS server security information\ntype: string\nformat: byte\nPduSessionPriority:\ndescription: The priority of the PDU session\ntype: integer\n#\n# ENUMERATIONS\n#\nUpCnxState:\nanyOf:\n- type: string\nenum:\n- ACTIVATED\n- DEACTIVATED\n- ACTIVATING\n- SUSPENDED\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nUser Plane Connection State. Possible values are\n- ACTIVATED\n- DEACTIVATED\n- ACTIVATING\n- SUSPENDED\nHoState:\nanyOf:\n- type: string\nenum:\n- NONE\n- PREPARING\n- PREPARED\n- COMPLETED\n- CANCELLED\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nHandover state. Possible values are\n- NONE\n- PREPARING\n- PREPARED\n- COMPLETED\n- CANCELLED\nRequestType:\nanyOf:\n- type: string\nenum:\n- INITIAL_REQUEST\n- EXISTING_PDU_SESSION\n- INITIAL_EMERGENCY_REQUEST\n- EXISTING_EMERGENCY_PDU_SESSION\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nRequest Type in Create (SM context) service operation. Possible values are\n- INITIAL_REQUEST\n- EXISTING_PDU_SESSION\n- INITIAL_EMERGENCY_REQUEST\n- EXISTING_EMERGENCY_PDU_SESSION\nRequestIndication:\nanyOf:\n- type: string\nenum:\n- UE_REQ_PDU_SES_MOD\n- UE_REQ_PDU_SES_REL\n- PDU_SES_MOB\n- NW_REQ_PDU_SES_AUTH\n- NW_REQ_PDU_SES_MOD\n- NW_REQ_PDU_SES_REL\n- EBI_ASSIGNMENT_REQ\n- REL_DUE_TO_5G_AN_REQUEST\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nRequest Indication in Update (SM context) service operation. Possible values are\n- UE_REQ_PDU_SES_MOD\n- UE_REQ_PDU_SES_REL\n- PDU_SES_MOB\n- NW_REQ_PDU_SES_AUTH\n- NW_REQ_PDU_SES_MOD\n- NW_REQ_PDU_SES_REL\n- EBI_ASSIGNMENT_REQ\n- REL_DUE_TO_5G_AN_REQUEST\nNotificationCause:\nanyOf:\n- type: string\nenum:\n- QOS_FULFILLED\n- QOS_NOT_FULFILLED\n- UP_SEC_FULFILLED\n- UP_SEC_NOT_FULFILLED\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nCause for generating a notification. Possible values are\n- QOS_FULFILLED\n- QOS_NOT_FULFILLED\n- UP_SEC_FULFILLED\n- UP_SEC_NOT_FULFILLED\nCause:\nanyOf:\n- type: string\nenum:\n- REL_DUE_TO_HO\n- EPS_FALLBACK\n- REL_DUE_TO_UP_SEC\n- DNN_CONGESTION\n- S_NSSAI_CONGESTION\n- REL_DUE_TO_REACTIVATION\n- 5G_AN_NOT_RESPONDING\n- REL_DUE_TO_SLICE_NOT_AVAILABLE\n- REL_DUE_TO_DUPLICATE_SESSION_ID\n- PDU_SESSION_STATUS_MISMATCH\n- HO_FAILURE\n- INSUFFICIENT_UP_RESOURCES\n- PDU_SESSION_HANDED_OVER\n- PDU_SESSION_RESUMED\n- CN_ASSISTED_RAN_PARAMETER_TUNING\n- ISMF_CONTEXT_TRANSFER\n- SMF_CONTEXT_TRANSFER\n- REL_DUE_TO_PS_TO_CS_HO\n- REL_DUE_TO_SUBSCRIPTION_CHANGE\n- HO_CANCEL\n- REL_DUE_TO_SLICE_NOT_AUTHORIZED\n- PDU_SESSION_HAND_OVER_FAILURE\n- DDN_FAILURE_STATUS\n- REL_DUE_TO_CP_ONLY_NOT_APPLICABLE\n- NOT_SUPPORTED_WITH_ISMF\n- CHANGED_ANCHOR_SMF\n- CHANGED_INTERMEDIATE_SMF\n- TARGET_DNAI_NOTIFICATION\n- REL_DUE_TO_VPLMN_QOS_FAILURE\n- REL_DUE_TO_SMF_NOT_SUPPORT_PSETR\n- REL_DUE_TO_SNPN_SNPN_MOBILITY\n- REL_DUE_TO_NO_HR_AGREEMENT\n- REL_DUE_TO_UNSPECIFIED_REASON\n- REL_DUE_TO_MOB_ACCESS_RESTRICTIONS\n- REL_DUE_TO_SLICE_INACTIVITY\n- REL_DUE_TO_NSI_NOT_AVAILABLE\n- REL_DUE_TO_DNN_DENIED\n- REL_DUE_TO_PDUTYPE_DENIED\n- REL_DUE_TO_SSC_DENIED\n- REL_DUE_TO_SUBSCRIPTION_DENIED\n- REL_DUE_TO_DNN_NOT_SUPPORTED\n- REL_DUE_TO_PDUTYPE_NOT_SUPPORTED\n- REL_DUE_TO_SSC_NOT_SUPPORTED\n- REL_DUE_TO_INSUFFICIENT_RESOURCES_SLICE\n- REL_DUE_TO_INSUFFICIENT_RESOURCES_SLICE_DNN\n- REL_DUE_TO_DNN_CONGESTION\n- REL_DUE_TO_S_NSSAI_CONGESTION\n- REL_DUE_TO_PEER_NOT_RESPONDING\n- REL_DUE_TO_NETWORK_FAILURE\n- REL_DUE_TO_UPF_NOT_RESPONDING\n- REL_DUE_TO_NO_EPS_5GS_CONTINUITY\n- REL_DUE_TO_NOT_SUPPORTED_WITH_ISMF\n- REL_DUE_TO_EXCEEDED_UE_SLICE_DATA_RATE\n- REL_DUE_TO_EXCEEDED_SLICE_DATA_RATE\n- REL_DUE_TO_CONTEXT_NOT_FOUND\n- REL_DUE_TO_MBSR_NOT_AUTHORIZED\n- DEACT_DUE_TO_UE_OUT_OF_SLICE_SUPPORT_AREA\n- REJECT_DUE_TO_N1_SM_ERROR\n- REL_DUE_TO_DUPLICATE_SESSION_EPDG\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nCause information. Possible values are\n- REL_DUE_TO_HO\n- EPS_FALLBACK\n- REL_DUE_TO_UP_SEC\n- DNN_CONGESTION\n- S_NSSAI_CONGESTION\n- REL_DUE_TO_REACTIVATION\n- 5G_AN_NOT_RESPONDING\n- REL_DUE_TO_SLICE_NOT_AVAILABLE\n- REL_DUE_TO_DUPLICATE_SESSION_ID\n- PDU_SESSION_STATUS_MISMATCH\n- HO_FAILURE\n- INSUFFICIENT_UP_RESOURCES\n- PDU_SESSION_HANDED_OVER\n- PDU_SESSION_RESUMED\n- CN_ASSISTED_RAN_PARAMETER_TUNING\n- ISMF_CONTEXT_TRANSFER\n- SMF_CONTEXT_TRANSFER\n- REL_DUE_TO_PS_TO_CS_HO\n- REL_DUE_TO_SUBSCRIPTION_CHANGE\n- HO_CANCEL\n- REL_DUE_TO_SLICE_NOT_AUTHORIZED\n- PDU_SESSION_HAND_OVER_FAILURE\n- DDN_FAILURE_STATUS\n- REL_DUE_TO_CP_ONLY_NOT_APPLICABLE\n- NOT_SUPPORTED_WITH_ISMF\n- CHANGED_ANCHOR_SMF\n- CHANGED_INTERMEDIATE_SMF\n- TARGET_DNAI_NOTIFICATION\n- REL_DUE_TO_VPLMN_QOS_FAILURE\n- REL_DUE_TO_SMF_NOT_SUPPORT_PSETR\n- REL_DUE_TO_SNPN_SNPN_MOBILITY\n- REL_DUE_TO_NO_HR_AGREEMENT\n- REL_DUE_TO_UNSPECIFIED_REASON\n- REL_DUE_TO_MOB_ACCESS_RESTRICTIONS\n- REL_DUE_TO_SLICE_INACTIVITY\n- REL_DUE_TO_NSI_NOT_AVAILABLE\n- REL_DUE_TO_DNN_DENIED\n- REL_DUE_TO_PDUTYPE_DENIED\n- REL_DUE_TO_SSC_DENIED\n- REL_DUE_TO_SUBSCRIPTION_DENIED\n- REL_DUE_TO_DNN_NOT_SUPPORTED\n- REL_DUE_TO_PDUTYPE_NOT_SUPPORTED\n- REL_DUE_TO_SSC_NOT_SUPPORTED\n- REL_DUE_TO_INSUFFICIENT_RESOURCES_SLICE\n- REL_DUE_TO_INSUFFICIENT_RESOURCES_SLICE_DNN\n- REL_DUE_TO_DNN_CONGESTION\n- REL_DUE_TO_S_NSSAI_CONGESTION\n- REL_DUE_TO_PEER_NOT_RESPONDING\n- REL_DUE_TO_NETWORK_FAILURE\n- REL_DUE_TO_UPF_NOT_RESPONDING\n- REL_DUE_TO_NO_EPS_5GS_CONTINUITY\n- REL_DUE_TO_NOT_SUPPORTED_WITH_ISMF\n- REL_DUE_TO_EXCEEDED_UE_SLICE_DATA_RATE\n- REL_DUE_TO_EXCEEDED_SLICE_DATA_RATE\n- REL_DUE_TO_CONTEXT_NOT_FOUND\n- REL_DUE_TO_MBSR_NOT_AUTHORIZED\n- DEACT_DUE_TO_UE_OUT_OF_SLICE_SUPPORT_AREA\n- REJECT_DUE_TO_N1_SM_ERROR\n- REL_DUE_TO_DUPLICATE_SESSION_EPDG\nResourceStatus:\nanyOf:\n- type: string\nenum:\n- RELEASED\n- UNCHANGED\n- TRANSFERRED\n- UPDATED\n- ALT_ANCHOR_SMF\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nStatus of SM context or PDU session resource. Possible values are\n- RELEASED\n- UNCHANGED\n- TRANSFERRED\n- UPDATED\n- ALT_ANCHOR_SMF\nDnnSelectionMode:\nanyOf:\n- type: string\nenum:\n- VERIFIED\n- UE_DNN_NOT_VERIFIED\n- NW_DNN_NOT_VERIFIED\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nDNN Selection Mode. Possible values are\n- VERIFIED\n- UE_DNN_NOT_VERIFIED\n- NW_DNN_NOT_VERIFIED\nEpsInterworkingIndication:\nanyOf:\n- type: string\nenum:\n- NONE\n- WITH_N26\n- WITHOUT_N26\n- IWK_NON_3GPP\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nEPS Interworking Indication. Possible values are\n- NONE\n- WITH_N26\n- WITHOUT_N26\n- IWK_NON_3GPP\nN2SmInfoType:\nanyOf:\n- type: string\nenum:\n- PDU_RES_SETUP_REQ\n- PDU_RES_SETUP_RSP\n- PDU_RES_SETUP_FAIL\n- PDU_RES_REL_CMD\n- PDU_RES_REL_RSP\n- PDU_RES_MOD_REQ\n- PDU_RES_MOD_RSP\n- PDU_RES_MOD_FAIL\n- PDU_RES_NTY\n- PDU_RES_NTY_REL\n- PDU_RES_MOD_IND\n- PDU_RES_MOD_CFM\n- PATH_SWITCH_REQ\n- PATH_SWITCH_SETUP_FAIL\n- PATH_SWITCH_REQ_ACK\n- PATH_SWITCH_REQ_FAIL\n- HANDOVER_REQUIRED\n- HANDOVER_CMD\n- HANDOVER_PREP_FAIL\n- HANDOVER_REQ_ACK\n- HANDOVER_RES_ALLOC_FAIL\n- SECONDARY_RAT_USAGE\n- PDU_RES_MOD_IND_FAIL\n- UE_CONTEXT_RESUME_REQ\n- UE_CONTEXT_RESUME_RSP\n- UE_CONTEXT_SUSPEND_REQ\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nN2 SM Information Type. Possible values are\n- PDU_RES_SETUP_REQ\n- PDU_RES_SETUP_RSP\n- PDU_RES_SETUP_FAIL\n- PDU_RES_REL_CMD\n- PDU_RES_REL_RSP\n- PDU_RES_MOD_REQ\n- PDU_RES_MOD_RSP\n- PDU_RES_MOD_FAIL\n- PDU_RES_NTY\n- PDU_RES_NTY_REL\n- PDU_RES_MOD_IND\n- PDU_RES_MOD_CFM\n- PATH_SWITCH_REQ\n- PATH_SWITCH_SETUP_FAIL\n- PATH_SWITCH_REQ_ACK\n- PATH_SWITCH_REQ_FAIL\n- HANDOVER_REQUIRED\n- HANDOVER_CMD\n- HANDOVER_PREP_FAIL\n- HANDOVER_REQ_ACK\n- HANDOVER_RES_ALLOC_FAIL\n- SECONDARY_RAT_USAGE\n- PDU_RES_MOD_IND_FAIL\n- UE_CONTEXT_RESUME_REQ\n- UE_CONTEXT_RESUME_RSP\n- UE_CONTEXT_SUSPEND_REQ\nMaxIntegrityProtectedDataRate:\nanyOf:\n- type: string\nenum:\n- 64_KBPS\n- MAX_UE_RATE\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nMaximum Integrity Protected Data Rate. Possible values are\n- 64_KBPS\n- MAX_UE_RATE\nMaReleaseIndication:\nanyOf:\n- type: string\nenum:\n- REL_MAPDU_OVER_3GPP\n- REL_MAPDU_OVER_N3GPP\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nMulti-Access PDU session release Indication. Possible values are\n- REL_MAPDU_OVER_3GPP\n- REL_MAPDU_OVER_N3GPP\nSmContextType:\nanyOf:\n- type: string\nenum:\n- EPS_PDN_CONNECTION\n- SM_CONTEXT\n- AF_COORDINATION_INFO\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nType of SM Context information. Possible values are\n- EPS_PDN_CONNECTION\n- SM_CONTEXT\n- AF_COORDINATION_INFO\nPsaIndication:\nanyOf:\n- type: string\nenum:\n- PSA_INSERTED\n- PSA_REMOVED\n- PSA_INSERTED_ONLY\n- PSA_REMOVED_ONLY\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nIndication of whether a PSA is inserted or removed. Possible values are\n- PSA_INSERTED\n- PSA_REMOVED\n- PSA_INSERTED_ONLY\n- PSA_REMOVED_ONLY\nN4MessageType:\nanyOf:\n- type: string\nenum:\n- PFCP_SES_EST_REQ\n- PFCP_SES_EST_RSP\n- PFCP_SES_MOD_REQ\n- PFCP_SES_MOD_RSP\n- PFCP_SES_DEL_REQ\n- PFCP_SES_DEL_RSP\n- PFCP_SES_REP_REQ\n- PFCP_SES_REP_RSP\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nN4 Message Type. Possible values are\n- PFCP_SES_EST_REQ\n- PFCP_SES_EST_RSP\n- PFCP_SES_MOD_REQ\n- PFCP_SES_MOD_RSP\n- PFCP_SES_DEL_REQ\n- PFCP_SES_DEL_RSP\n- PFCP_SES_REP_REQ\n- PFCP_SES_REP_RSP\nQosFlowAccessType:\nanyOf:\n- type: string\nenum:\n- 3GPP\n- NON_3GPP\n- 3GPP_AND_NON_3GPP\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nAccess type associated with a QoS Flow. Possible values are\n- 3GPP\n- NON_3GPP\n- 3GPP_AND_NON_3GPP\nUnavailableAccessIndication:\nanyOf:\n- type: string\nenum:\n- 3GA_UNAVAILABLE\n- N3GA_UNAVAILABLE\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nIndicates the access type of a MA PDU session that is unavailable. Possible values are\n- 3GA_UNAVAILABLE\n- N3GA_UNAVAILABLE\nProtectionResult:\nanyOf:\n- type: string\nenum:\n- PERFORMED\n- NOT_PERFORMED\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nProtection Result of the security policy indicated as \"preferred\". Possible values are\n- PERFORMED\n- NOT_PERFORMED\nQosMonitoringReq:\nanyOf:\n- type: string\nenum:\n- UL\n- DL\n- BOTH\n- NONE\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nQoS monitoring request. Possible values are\n- UL\n- DL\n- BOTH\n- NONE\nRsn:\nanyOf:\n- type: string\nenum:\n- V1\n- V2\n- NONE\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nRedundancy Sequence Number. Possible values are\n- V1\n- V2\n- NONE\nSmfSelectionType:\nanyOf:\n- type: string\nenum:\n- CURRENT_PDU_SESSION\n- NEXT_PDU_SESSION\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nSmf Selection Type. Possible values are\n- CURRENT_PDU_SESSION\n- NEXT_PDU_SESSION\nPduSessionContextType:\nanyOf:\n- type: string\nenum:\n- AF_COORDINATION_INFO\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nType of PDU Session information. Possible values are\n- AF_COORDINATION_INFO\nPendingUpdateInfo:\nanyOf:\n- type: string\nenum:\n- UE_LOCATION\n- TIMEZONE\n- ACCESS_TYPE\n- RAT_TYPE\n- AMF_ID\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nPending Update Information. Possible values are\n- UE_LOCATION\n- TIMEZONE\n- ACCESS_TYPE\n- RAT_TYPE\n- AMF_ID\nEstablishmentRejectionCause:\nanyOf:\n- type: string\nenum:\n- OPERATOR_DETERMINED_BARRING\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nPDU Session Establishment Rejection Cause. Possible values are\n- OPERATOR_DETERMINED_BARRING\nEcnMarkingReq:\nanyOf:\n- type: string\nenum:\n- UL\n- DL\n- BOTH\n- STOP\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nECN Marking Request Type. Possible values are\n- UL\n- DL\n- BOTH\n- STOP\nCongestionInfoReq:\nanyOf:\n- type: string\nenum:\n- UL\n- DL\n- BOTH\n- STOP\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nCongestion Information Request Type. Possible values are\n- UL\n- DL\n- BOTH\n- STOP\nActivationStatus:\nanyOf:\n- type: string\nenum:\n- ACTIVE\n- NOT_ACTIVE\n- type: string\ndescription: >\nThis string provides forward-compatibility with future\nextensions to the enumeration but is not used to encode\ncontent defined in the present version of this API.\ndescription: |\nActivation Status. Possible values are\n- ACTIVE\n- NOT_ACTIVE\n#\n# HTTP request bodies\n#\nrequestBodies:\n'VsmfUpdateRequestBody':\ndescription: representation of updates to apply to the PDU session\nrequired: true\ncontent:\napplication/json:   # message without binary body part\nschema:\n$ref: '#/components/schemas/VsmfUpdateData'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties:     # Request parts\njsonData:\n$ref: '#/components/schemas/VsmfUpdateData'\nbinaryDataN1SmInfoToUe:\ntype: string\nformat: binary\nbinaryDataN4Information:\ntype: string\nformat: binary\nbinaryDataN4InformationExt1:\ntype: string\nformat: binary\nbinaryDataN4InformationExt2:\ntype: string\nformat: binary\nbinaryDataN4InformationExt3:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmInfoToUe:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4Information:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt1:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt2:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt3:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\n'NotifyStatusRequestBody':\ndescription: representation of the status notification\nrequired: true\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/StatusNotification'\n#\n# HTTP responses\n#\nresponses:\n'VsmfUpdateResponse200':\ndescription: successful update of a PDU session with content in the response\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/VsmfUpdatedData'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/VsmfUpdatedData'\nbinaryDataN1SmInfoFromUe:\ntype: string\nformat: binary\nbinaryDataUnknownN1SmInfo:\ntype: string\nformat: binary\nbinaryDataN4Information:\ntype: string\nformat: binary\nbinaryDataN4InformationExt1:\ntype: string\nformat: binary\nbinaryDataN4InformationExt2:\ntype: string\nformat: binary\nbinaryDataN4InformationExt3:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmInfoFromUe:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataUnknownN1SmInfo:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4Information:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt1:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt2:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt3:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\n'PduSessionCreateError':\ndescription: unsuccessful creation of a PDU session\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/PduSessionCreateError'\napplication/problem+json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/PduSessionCreateError'\nbinaryDataN1SmInfoToUe:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmInfoToUe:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\n'HsmfUpdateError':\ndescription: unsuccessful update of a PDU session\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/HsmfUpdateError'\napplication/problem+json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/HsmfUpdateError'\nbinaryDataN1SmInfoToUe:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmInfoToUe:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\n'VsmfUpdateError':\ndescription: unsuccessful update of a PDU session\ncontent:\napplication/json: # message without binary body part\nschema:\n$ref: '#/components/schemas/VsmfUpdateError'\napplication/problem+json:\nschema:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\nmultipart/related:  # message with binary body part(s)\nschema:\ntype: object\nproperties: # Request parts\njsonData:\n$ref: '#/components/schemas/VsmfUpdateError'\nbinaryDataN1SmInfoFromUe:\ntype: string\nformat: binary\nbinaryDataUnknownN1SmInfo:\ntype: string\nformat: binary\nbinaryDataN4Information:\ntype: string\nformat: binary\nbinaryDataN4InformationExt1:\ntype: string\nformat: binary\nbinaryDataN4InformationExt2:\ntype: string\nformat: binary\nbinaryDataN4InformationExt3:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryDataN1SmInfoFromUe:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataUnknownN1SmInfo:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4Information:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt1:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt2:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\nbinaryDataN4InformationExt3:\ncontentType:  application/vnd.3gpp.pfcp\nheaders:\nContent-Id:\nschema:\ntype: string\n'400':\ndescription: Bad request\ncontent:\napplication/problem+json:\nschema:\n$ref: '#/components/schemas/ExtProblemDetails'\n'401':\ndescription: Unauthorized\ncontent:\napplication/problem+json:\nschema:\n$ref: '#/components/schemas/ExtProblemDetails'\n'403':\ndescription: Forbidden\ncontent:\napplication/problem+json:\nschema:\n$ref: '#/components/schemas/ExtProblemDetails'\n'404':\ndescription: Not Found\ncontent:\napplication/problem+json:\nschema:\n$ref: '#/components/schemas/ExtProblemDetails'\n'413':\ndescription: Content Too Large\ncontent:\napplication/problem+json:\nschema:\n$ref: '#/components/schemas/ExtProblemDetails'\n'415':\ndescription: Unsupported Media Type\ncontent:\napplication/problem+json:\nschema:\n$ref: '#/components/schemas/ExtProblemDetails'\n'429':\ndescription: Too Many Requests\ncontent:\napplication/problem+json:\nschema:\n$ref: '#/components/schemas/ExtProblemDetails'\n'500':\ndescription: Internal Server Error\ncontent:\napplication/problem+json:\nschema:\n$ref: '#/components/schemas/ExtProblemDetails'\n'502':\ndescription: Bad Gateway\ncontent:\napplication/problem+json:\nschema:\n$ref: '#/components/schemas/ExtProblemDetails'\n'503':\ndescription: Service Unavailable\ncontent:\napplication/problem+json:\nschema:\n$ref: '#/components/schemas/ExtProblemDetails'\nAnnex B (Informative):HTTP Multipart Messages\nB.1\tExample of HTTP multipart message\nB.1.1\tGeneral\nThis clause provides a (partial) example of HTTP multipart message. The example does not aim to be a complete representation of the HTTP message, e.g. additional information or headers can be included.\nThis Annex is informative and the normative descriptions in this specification prevail over the description in this Annex if there is any difference.\nB.1.2\tExample HTTP multipart message with N1 SM Message binary data\nPOST /example.com/nsmf-pdusession/v1/sm-contexts HTTP/2\nContent-Type: multipart/related; type=\"application/json\"; boundary=----Boundary\nContent-Length: xyz\n------Boundary\nContent-Type: application/json\n{\n\"supi\": \"imsi-<IMSI>\",\n\"pduSessionId\": 235,\n\"dnn\": \"<DNN>\",\n\"sNssai\": {\n\"sst\": 0\n},\n\"servingNfId\": \"<AMF Identifier>\",\n\"n1SmMsg\": {\n\"contentId\": \"n1msg\"\n},\n\"anType\": \"3GPP_ACCESS\",\n\"smContextStatusUri\": \"<URI>\"\n}\n------Boundary\nContent-Type: application/vnd.3gpp.5gnas\nContent-Id: n1msg\n{ … N1 SM Message binary data …}\n------Boundary\nAnnex C (Normative):ABNF grammar for 3GPP SBI HTTP custom headers\nC.1\tGeneral\nThis Annex contains a self-contained set of ABNF rules, comprising the re-used rules from IETF RFCs, and the rules defined by the 3GPP custom headers defined in this specification (see clause 6.1.2.3).\nThis grammar may be used as input to existing tools to help implementations to parse 3GPP custom headers.\nC.2\tABNF definitions (Filename: \"TS29502_CustomHeaders.abnf\")\n; ----------------------------------------\n;   RFC 5234\n; ----------------------------------------\nHTAB  = %x09 ; horizontal tab\nSP    = %x20\nDIGIT = %x30-39 ; 0-9\n; ----------------------------------------\n;   RFC 9110\n; ----------------------------------------\nOWS = *( SP / HTAB )\ndate1       = day SP month SP year ; e.g., 02 Jun 1982\nday         = 2DIGIT\nmonth       = %x4A.61.6E ; \"Jan\", case-sensitive\n/ %x46.65.62 ; \"Feb\", case-sensitive\n/ %x4D.61.72 ; \"Mar\", case-sensitive\n/ %x41.70.72 ; \"Apr\", case-sensitive\n/ %x4D.61.79 ; \"May\", case-sensitive\n/ %x4A.75.6E ; \"Jun\", case-sensitive\n/ %x4A.75.6C ; \"Jul\", case-sensitive\n/ %x41.75.67 ; \"Aug\", case-sensitive\n/ %x53.65.70 ; \"Sep\", case-sensitive\n/ %x4F.63.74 ; \"Oct\", case-sensitive\n/ %x4E.6F.76 ; \"Nov\", case-sensitive\n/ %x44.65.63 ; \"Dec\", case-sensitive\nyear        = 4DIGIT\nday-name    = %x4D.6F.6E ; Mon\n/ %x54.75.65 ; Tue\n/ %x57.65.64 ; Wed\n/ %x54.68.75 ; Thu\n/ %x46.72.69 ; Fri\n/ %x53.61.74 ; Sat\n/ %x53.75.6E ; Sun\ntime-of-day = hour \":\" minute \":\" second\nhour        = 2DIGIT\nminute      = 2DIGIT\nsecond      = 2DIGIT\n; ----------------------------------------\n;   3GPP TS 29.502\n;\n;   Version: 18.5.0 (December 2023)\n;\n;   (c) 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\n; ----------------------------------------\n;\n; Header: 3gpp-Sbi-Origination-Timestamp\n;\nSbi-Origination-Timestamp-Header = \"3gpp-Sbi-Origination-Timestamp:\" OWS day-name \",\"\nSP date1 SP time-of-day \".\" milliseconds SP \"GMT\" OWS\nmilliseconds                     = 3DIGIT\nAnnex D (Informative):Charging Identifier Handling\nD.1\tUsage of Charging ID and SMF Charging ID\nD.1.1\tGeneral\nThe Charging ID has been defined (from Rel-15 onwards) as a Uint32 value which is unique within one SMF (the V-SMF or H-SMF that assigns it). To avoid possible charging identifiers' collision in H-SMF for Home Routed PDU sessions, an SMF Charging ID has been defined (from Rel-18 onwards) as a string which contains the Uint32 value and the SMF NF Instance ID (see 3GPP TS 29.571 [13]).\nThis clause summarizes the principles on using Charging ID and SMF Charging ID for HR PDU sessions, especially when not all the V-SMF(s) and H-SMF of a PDU session support the SMF Charging ID.\nThis Annex is informative and the normative requirements in this specification or in other 3GPP specifications prevail over the description in this Annex if there is any difference.\nD.1.2\tHPLMN supporting the SMF Charging ID\nAn SMF, CHF and PCF complying with Rel-18 onwards support the SMF Charging ID.\nIf the HPLMN (H-SMF, CHF and PCF) supports the SMF Charging ID, the H-SMF indicates support of the SCID (String based Charging Identifier) feature (in its NF Profile in NRF and towards the V-SMF).\nThe HPLMN uses the SMF Charging ID as the charging identifier for the PDU session.\nIf the VPLMN supports the SMF Charging ID:\n-\tThe VPLMN uses the SMF Charging ID as the charging identifier for the PDU session.\nIf the VPLMN does not support the SMF Charging ID (e.g. the V-SMF complies with a release earlier than Rel-18):\n-\tThe VPLMN uses the Charging ID as the charging identifier for the PDU session.\n-\tThe VPLMN only provides the Charging ID to the H-SMF during the HR PDU session establishment. The H-SMF derives the SMF Charging ID using the received Charging ID and V-SMF Instance ID.\nD.1.3\tHPLMN not supporting the SMF Charging ID\nWhen the HPLMN does not support the SMF Charging ID (e.g. the H-SMF complies with a release earlier than Rel-18), the charging identifier used by both the V-SMF and the H-SMF is the Charging ID.\nNOTE:\tThis applies even if the V-SMF supports the SCID feature.\nD.1.4\tTransfer of (SMF) Charging ID between SMFs\nThe following principles applies to support mobility scenarios where the source and/or target (V-) SMF may or may not support the SCID feature:\n-\tDuring a HR PDU session establishment:\n-\tthe V-SMF provides the Charging ID to the H-SMF; and\n-\tthe V-SMF additionally provides the SMF Charging ID if both the V-SMF and H-SMF support the SCID feature.\n-\tDuring a V-SMF change or insertion:\n-\tthe Charging ID is passed from the source (V-)SMF to the target V-SMF;\n-\tthe SMF Charging ID is also passed from the source (V-)SMF to the target V-SMF, if it is available at the source (V-)SMF and both the source and target (V-)SMFs support the SCID feature; and\n-\tthe H-SMF provides the SMF Charging ID to the new V-SMF if both the H-SMF and the new V-SMF support the SCID feature.\nNOTE:\tThis enables the SMF Charging ID to be used by the new V-SMF and H-SMF, when both the new V-SMF and H-SMF support the SCID feature but the source V-SMF does not support the SCID feature.\n-\tDuring EPS to 5GS mobility:\n-\tthe H-SMF provides the Charging ID to the new V-SMF; and\n-\tthe H-SMF additionally provides the SMF Charging ID to the new V-SMF if both the H-SMF and the V-SMF support the SCID feature.\nAnnex E (informative):Change history\nChange history\nDate\nMeeting\nTDoc\nCR\nRev\nCat\nSubject/Comment\nNew version\n2017-10\nCT4#80\nC4-175050\nInitial Draft.\n0.1.0\n2017-10\nCT4#80\nC4-175392\nInclusion of pCRs agreed during CT4#80.\n0.2.0\n2017-12\nCT4#81\nC4-176435\nInclusion of pCRs agreed during CT4#81.\n0.3.0\n2018-01\nCT4#82\nC4-181389\nInclusion of pCRs agreed during CT4#82.\n0.4.0\n2018-03\nCT4#83\nC4-182432\nInclusion of pCRs agreed during CT4#83.\n0.5.0\n2018-03\nCT#79\nCP-180030\nPresented for information\n1.0.0\n2018-04\nCT4#84\nC4-183514\nInclusion of pCRs agreed during CT4#84.\n1.1.0\n2018-05\nCT4#85\nC4-184619\nInclusion of pCRs agreed during CT4#85.\n1.2.0\n2018-06\nCT#80\nCP-181100\nPresented for approval\n2.0.0\n2018-06\nCT#80\nApproved in CT#80.\n15.0.0\n2018-09\nCT#81\nCP-182055\n0002\nF\nCorrections to missing application errors in API response body description\n15.1.0\n2018-09\nCT#81\nCP-182068\n0006\nB\nAdd support for 5G Trace\n15.1.0\n2018-09\nCT#81\nCP-182055\n0007\nF\nError Responses\n15.1.0\n2018-09\nCT#81\nCP-182055\n0015\nF\nNetwork Sharing\n15.1.0\n2018-09\nCT#81\nCP-182055\n0016\nF\nRAT Type in Create and Update (SM Context) service operations\n15.1.0\n2018-09\nCT#81\nCP-182055\n0001\n1\nF\nApplication specific error cause for Not Acceptable Integrity Protection Max Data Rate\n15.1.0\n2018-09\nCT#81\nCP-182055\n0008\n1\nF\nEBI Assignment for Home Routed PDU sessions\n15.1.0\n2018-09\nCT#81\nCP-182055\n0010\n1\nF\nReturning the H-SMF URI to the AMF\n15.1.0\n2018-09\nCT#81\nCP-182055\n0014\n1\nF\nN2 SM signalling\n15.1.0\n2018-09\nCT#81\nCP-182055\n0017\n1\nF\nSupporting AMF changes\n15.1.0\n2018-09\nCT#81\nCP-182055\n0018\n1\nF\nVPLMN S-NSSAI during mobility from EPS to 5GC with N26\n15.1.0\n2018-09\nCT#81\nCP-182055\n0009\n2\nF\nHTTP message retransmissions and requests colliding with existing contexts\n15.1.0\n2018-09\nCT#81\nCP-182055\n0029\nF\nRejected PDU session during Xn handover\n15.1.0\n2018-09\nCT#81\nCP-182055\n0033\nF\nDescription of Structured data types\n15.1.0\n2018-09\nCT#81\nCP-182055\n0034\nF\nHandling of LADN service area during handovers\n15.1.0\n2018-09\nCT#81\nCP-182055\n0036\nF\nMapping to stage 2 service operation names\n15.1.0\n2018-09\nCT#81\nCP-182055\n0039\nF\nStateless AMF support updates\n15.1.0\n2018-09\nCT#81\nCP-182055\n0040\nF\nQoS rule structure improvement\n15.1.0\n2018-09\nCT#81\nCP-182055\n0020\n1\nF\nNRF URI for PCF Selection\n15.1.0\n2018-09\nCT#81\nCP-182055\n0022\n1\nF\nBackUp AMF Info\n15.1.0\n2018-09\nCT#81\nCP-182055\n0031\n1\nF\nNGAP causes\n15.1.0\n2018-09\nCT#81\nCP-182055\n0024\n1\nF\nEPS Interworking Ind\n15.1.0\n2018-09\nCT#81\nCP-182050\n0021\n2\nF\nReferences to common NonDynamic5Qi and Dynamic5Qi data types\n15.1.0\n2018-09\nCT#81\nCP-182055\n0025\n1\nF\nNot Allowed Slice\n15.1.0\n2018-09\nCT#81\nCP-182055\n0005\n3\nF\nN2 SM Information Type Definition\n15.1.0\n2018-09\nCT#81\nCP-182055\n0028\n1\nF\nOpenAPI corrections\n15.1.0\n2018-09\nCT#81\nCP-182055\n0032\n1\nF\nAge of User Location\n15.1.0\n2018-09\nCT#81\nCP-182055\n0037\n1\nF\nDetecting SMF Failure and Restart\n15.1.0\n2018-09\nCT#81\nCP-182055\n0041\nF\nPresenceState reference\n15.1.0\n2018-09\nCT#81\nCP-182055\n0030\n2\nF\nURIs of created SM context and PDU session resources\n15.1.0\n2018-09\nCT#81\nCP-182055\n0023\n2\nF\n5G MM Cause\n15.1.0\n2018-09\nCT#81\nCP-182055\n0042\nF\nAPI version number update\n15.1.0\n2018-12\nCT#82\nCP-183013\n0044\n2\nF\nIndDirect Forwarding Flag\n15.2.0\n2018-12\nCT#82\nCP-183013\n0045\n1\nF\nData Forwarding IE\n15.2.0\n2018-12\nCT#82\nCP-183013\n0047\nF\nAlignments with NAS 5GS Session Management\n15.2.0\n2018-12\nCT#82\nCP-183013\n0048\n1\nF\nAlignments with NGAP\n15.2.0\n2018-12\nCT#82\nCP-183013\n0049\nF\nCorrections to N2 Handover and Inter-AMF change or mobility procedures\n15.2.0\n2018-12\nCT#82\nCP-183013\n0050\n2\nF\nIndication of Access Type can be changed\n15.2.0\n2018-12\nCT#82\nCP-183013\n0051\nF\nRoaming Charging Profile negotiation for Home Routed PDU sessions\n15.2.0\n2018-12\nCT#82\nCP-183013\n0052\nF\nService restart detection by direct signalling between NFs\n15.2.0\n2018-12\nCT#82\nCP-183013\n0053\nF\nUse of the serviceName attribute by the Notify SM Context Status service operation\n15.2.0\n2018-12\nCT#82\nCP-183013\n0054\nF\nCardinality of arrays\n15.2.0\n2018-12\nCT#82\nCP-183013\n0055\nF\nData type of serviceName attribute\n15.2.0\n2018-12\nCT#82\nCP-183013\n0056\nF\nHTTP status code \"501 Not Implemented\"\n15.2.0\n2018-12\nCT#82\nCP-183013\n0057\nF\nCase conventions\n15.2.0\n2018-12\nCT#82\nCP-183013\n0058\nF\nResource URI structure of Nsmf_PDUSession service\n15.2.0\n2018-12\nCT#82\nCP-183013\n0059\nF\nEPS bearer identity and data type definitions\n15.2.0\n2018-12\nCT#82\nCP-183013\n0060\n3\nF\nEPC Interworking in Home Routed Roaming\n15.2.0\n2018-12\nCT#82\nCP-183013\n0061\n1\nF\nCorrection to EPS Interworking Indication\n15.2.0\n2018-12\nCT#82\nCP-183013\n0063\nF\nPresence condition of targetServingNfId\n15.2.0\n2018-12\nCT#82\nCP-183013\n0064\n2\nF\nPDU session removal during interworking with N26\n15.2.0\n2018-12\nCT#82\nCP-183013\n0067\n1\nF\nComplete the SSC mode 3 in the home routed roaming scenario\n15.2.0\n2018-12\nCT#82\nCP-183013\n0068\n2\nF\nClarification on EBI allocation\n15.2.0\n2018-12\nCT#82\nCP-183013\n0069\n1\nF\nCorrect description of Request type\n15.2.0\n2018-12\nCT#82\nCP-183190\n0071\n3\nF\nPDU Session Id Duplication\n15.2.0\n2018-12\nCT#82\nCP-183013\n0072\n1\nF\nService Instance\n15.2.0\n2018-12\nCT#82\nCP-183013\n0075\n2\nF\nA new cause value 'PDU_Session_Status_Mismatch' for Cause Data Type\n15.2.0\n2018-12\nCT#82\nCP-183013\n0076\n2\nF\nUDM group Id\n15.2.0\n2018-12\nCT#82\nCP-183013\n0077\n2\nF\nAlways-on PDU sessions\n15.2.0\n2018-12\nCT#82\nCP-183013\n0078\n2\nF\nHandover Failure scenarios\n15.2.0\n2018-12\nCT#82\nCP-183013\n0079\nF\nRelease of PDU session during 5GS to EPS mobility\n15.2.0\n2018-12\nCT#82\nCP-183013\n0080\n1\nF\nMandatory HTTP status codes\n15.2.0\n2018-12\nCT#82\nCP-183013\n0081\n1\nF\nClarification of API URI definition\n15.2.0\n2018-12\nCT#82\nCP-183013\n0082\nF\nAPI version\n15.2.0\n2018-12\nCT#82\nCP-183013\n0083\nF\nexternalDocs field in OpenAPI document\n15.2.0\n2018-12\nCT#82\nCP-183013\n0084\nF\nLocation Header\n15.2.0\n2018-12\nCT#82\nCP-183169\n0085\n1\nF\nRegular Expression Patterns\n15.2.0\n2018-12\nCT#82\nCP-183013\n0086\nF\nCorrect reference of EPS to 5GS handover\n15.2.0\n2018-12\nCT#82\nCP-183013\n0087\nF\nSecondary RAT usage data reporting\n15.2.0\n2018-12\nCT#82\nCP-183013\n0088\n1\nF\nOAuth2 requirements\n15.2.0\n2018-12\nCT#82\nCP-183081\n0089\nF\nSMF Network Function Instance\n15.2.0\n2018-12\nMaxIntegrityProtectedDataRate spare quote fixed in yaml-file\n15.2.1\n2019-03\nCT#83\nCP-190018\n0090\nF\nOpenAPI correction\n15.3.0\n2019-03\nCT#83\nCP-190018\n0091\n1\nF\nSecondary RAT usage reporting\n15.3.0\n2019-03\nCT#83\nCP-190018\n0092\n1\nF\nTarget ID during inter NG-RAN node N2 based handover and EPS to 5GS Handover\n15.3.0\n2019-03\nCT#83\nCP-190018\n0093\nF\nIndirect data forwarding timer\n15.3.0\n2019-03\nCT#83\nCP-190018\n0095\nF\nAPI version update\n15.3.0\n2019-03\nCT#83\nCP-190018\n0096\n2\nF\nClarification on the use of pduSessionsActivateList during EPS to 5GS Idle Mode Mobility Procedure.\n15.3.0\n2019-03\nCT#83\nCP-190018\n0097\nF\nCause information\n15.3.0\n2019-03\nCT#83\nCP-190018\n0098\n2\nF\nUpdate ReleaseSMContext Service Operation Description for PDU Session Release due to Change of Set of Network Slices\n15.3.0\n2019-03\nCT#83\nCP-190018\n0099\n1\nF\nTrigger Conditions for SMContext Update\n15.3.0\n2019-03\nCT#83\nCP-190018\n0100\n1\nF\nTrigger Conditions for SMContext Release\n15.3.0\n2019-03\nCT#83\nCP-190018\n0102\n1\nF\nStatus Notify for HO\n15.3.0\n2019-03\nCT#83\nCP-190018\n0103\n1\nF\nProvide Resource URI before PDU Session Creation Response\n15.3.0\n2019-03\nCT#83\nCP-190018\n0104\n1\nF\nAllocated EBIs during EPS to 5GS Preparation with N26\n15.3.0\n2019-06\nCT#84\nCP-191029\n0106\n1\nF\nChange of access type in home routed roaming scenario\n15.4.0\n2019-06\nCT#84\nCP-191029\n0107\n1\nF\nEPS bearer synchronization upon EPS to 5GS idle mode mobility using N26\n15.4.0\n2019-06\nCT#84\nCP-191029\n0109\nF\nRemoving multiple redundant appearances of major version number\n15.4.0\n2019-06\nCT#84\nCP-191029\n0112\n1\nF\nApplication Error \"S-NSSAI_CONGESTION\"\n15.4.0\n2019-06\nCT#84\nCP-191029\n0113\n3\nF\nClarification on Sending SMContextStatusNotify\n15.4.0\n2019-06\nCT#84\nCP-191029\n0117\n1\nF\nEssential Correction of HPLMN SNSSAI during SM Context Creation\n15.4.0\n2019-06\nCT#84\nCP-191029\n0118\n2\nF\nHandover Preparation Failure\n15.4.0\n2019-06\nCT#84\nCP-191029\n0129\n2\nF\nStorage of OpenAPI specification files\n15.4.0\n2019-06\nCT#84\nCP-191029\n0133\n2\nF\nLocation header in redirect response\n15.4.0\n2019-06\nCT#84\nCP-191029\n0135\n2\nF\nCorrect Nsmf_PDUSession_Create to support Mobility Restriction\n15.4.0\n2019-06\nCT#84\nCP-191029\n0139\n1\nF\nCorrection of Procedure of Handover using UpdateSmContext\n15.4.0\n2019-06\nCT#84\nCP-191029\n0141\n1\nF\nSecondary RAT Usage reporting at PDU session level\n15.4.0\n2019-06\nCT#84\nCP-191029\n0142\nF\nMapped EPS bearer contexts in n1SmInfoFromUe\n15.4.0\n2019-06\nCT#84\nCP-191029\n0143\n1\nF\nTarget ID sent to the SMF\n15.4.0\n2019-06\nCT#84\nCP-191029\n0144\nF\nCopyright Note in YAML file\n15.4.0\n2019-06\nCT#84\nCP-191029\n0145\n1\nF\nCorrection on GPSI for PDU session\n15.4.0\n2019-06\nCT#84\nCP-191029\n0148\nF\n3GPP TS 29.502 API version update\n15.4.0\n2019-06\nCT#84\nCP-191048\n0147\nB\n3GPP TS 29.502 API version update\n16.0.0\n2019-06\nCT#84\nCP-191049\n0116\n4\nF\nUpdates to CreateSMContext for eNS Support\n16.0.0\n2019-06\nCT#84\nCP-191050\n0130\n4\nB\nPDU Session Establishment support Control Plane CIoT Optimization\n16.0.0\n2019-06\nCT#84\nCP-191051\n0115\n2\nB\nATSSS: MA-PDU Session Establishment\n16.0.0\n2019-06\nCT#84\nCP-191051\n0136\n2\nB\nMA PDU Session Update\n16.0.0\n2019-06\nCT#84\nCP-191051\n0137\n5\nB\nMA PDU Session Release over a Single Access\n16.0.0\n2019-06\nCT#84\nCP-191054\n0108\n1\nB\nUpdates to reference model for ETSUN\n16.0.0\n2019-06\nCT#84\nCP-191054\n0124\n1\nB\nUpdate SM context service operation for additional PDU Session Anchor and Branching Point or UL CL controlled by I-SMF\n16.0.0\n2019-06\nCT#84\nCP-191054\n0123\n2\nB\nUpdate Retrieve SM Context service operation from Source I-SMF or SMF\n16.0.0\n2019-06\nCT#84\nCP-191054\n0110\n2\nB\nSM context transfer between I-SMFs or V-SMFs\n16.0.0\n2019-06\nCT#84\nCP-191054\n0122\n2\nB\nUpdate Release SM Context service operation for I-SMF change and removal\n16.0.0\n2019-06\nCT#84\nCP-191054\n0121\n6\nB\nUpdate Create SM context service operation for the I-SMF insertion and change\n16.0.0\n2019-06\nCT#84\nCP-191054\n0134\n3\nB\nUpdate Create SM context service operation for the I-SMF insertion and change\n16.0.0\n2019-06\nCT#84\nCP-191059\n0140\n1\nF\nEPS Interworking Indication for N3GPP\n16.0.0\n2019-06\nCT#84\nCP-191059\n0131\n3\nF\nExemption Indication\n16.0.0\n2019-09\nCT#85\nCP-192193\n0149\n3\nB\nI-SMF insertion implications on Nsmf_PDUSession_Update across N16a\n16.1.0\n2019-09\nCT#85\nCP-192193\n0151\n3\nB\nImplications of Policy Update Procedures with I-SMF on Nsmf_PDUSession_Update across N16a\n16.1.0\n2019-09\nCT#85\nCP-192193\n0153\n1\nB\nImplications of I-SMF insertion on Create service operation\n16.1.0\n2019-09\nCT#85\nCP-192193\n0154\nB\nPDU session establishment with I-SMF insertion - Create SM Context service operation\n16.1.0\n2019-09\nCT#85\nCP-192193\n0155\n1\nB\nTransfer of NAS SM Information between I-SMF and SMF\n16.1.0\n2019-09\nCT#85\nCP-192193\n0156\nB\nUpdates to resources model and operations for PDU sessions with an I-SMF\n16.1.0\n2019-09\nCT#85\nCP-192193\n0157\nB\nRelease of a PDU session with an I-SMF\n16.1.0\n2019-09\nCT#85\nCP-192193\n0158\nB\nNotify status of a PDU session with an I-SMF\n16.1.0\n2019-09\nCT#85\nCP-192193\n0159\nB\nUpdate of a PDU session with an I-SMF\n16.1.0\n2019-09\nCT#85\nCP-192029\n0160\n1\nB\nInsertion of a PSA and UL CL/BP  into the data path of a PDU session with an I-SMF\n16.1.0\n2019-09\nCT#85\nCP-192193\n0161\n1\nB\nRemoval of a PSA and UL CL/BP from the data path of a PDU session with an I-SMF\n16.1.0\n2019-09\nCT#85\nCP-192193\n0162\n1\nB\nChange of a PSA for IPv6 multi-homing or UL CL controlled by I-SMF\n16.1.0\n2019-09\nCT#85\nCP-192193\n0163\n1\nB\nN4 notifications for traffic usage reporting from I-SMF to SMF\n16.1.0\n2019-09\nCT#85\nCP-192193\n0164\nB\nService Request with I-SMF insertion/change/removal or with V-SMF change\n16.1.0\n2019-09\nCT#85\nCP-192193\n0165\nB\nRetrieve SM Context Request to or from SMF\n16.1.0\n2019-09\nCT#85\nCP-192193\n0166\nB\nN26 based interworking with I-SMF\n16.1.0\n2019-09\nCT#85\nCP-192193\n0168\n3\nB\nEnd Marker indication during Xn/N2 handover for HR roaming and for I-SMF insertion\n16.1.0\n2019-09\nCT#85\nCP-192194\n0169\n1\nB\nSMF selection with Delegated Discovery\n16.1.0\n2019-09\nCT#85\nCP-192193\n0171\n1\nB\nPDUSession_CreateSMContext – Parameters Updating\n16.1.0\n2019-09\nCT#85\nCP-192193\n0172\n1\nB\nReleaseSMContext – I-SMF Only Indication\n16.1.0\n2019-09\nCT#85\nCP-192193\n0173\n1\nB\nPDUSession_UpdateSMContext - N3/N9 Forwarding Tunnel Info\n16.1.0\n2019-09\nCT#85\nCP-192193\n0174\n1\nB\nMissing \"UE presence in LADN service area\" attribute\n16.1.0\n2019-09\nCT#85\nCP-192193\n0175\n2\nB\nMissing \"Secondary RAT usage data\" attributes\n16.1.0\n2019-09\nCT#85\nCP-192193\n0177\n1\nF\nCorrection to Retrieve SM Context service operation during N2 based HO\n16.1.0\n2019-09\nCT#85\nCP-192102\n0179\n2\nA\nN2 Handover Preparation Failure\n16.1.0\n2019-09\nCT#85\nCP-192102\n0181\nA\nRelease of Indirect Data Forwarding Tunnels during 5GS to EPS handover\n16.1.0\n2019-09\nCT#85\nCP-192123\n0182\nB\nHandling of requests which collide with an existing SM context / PDU session context\n16.1.0\n2019-09\nCT#85\nCP-192128\n0183\nF\nDeactivation of the User Plane connection during handover procedure\n16.1.0\n2019-09\nCT#85\nCP-192134\n0184\n1\nB\nClarification on Additional Access Type\n16.1.0\n2019-09\nCT#85\nCP-192134\n0185\n1\nB\nIndications for MA PDU Session\n16.1.0\n2019-09\nCT#85\nCP-192193\n0186\n1\nB\nItem 14 - Update reference to stage 2 procedure for I-SMF insertion, change, removal\n16.1.0\n2019-09\nCT#85\nCP-192133\n0187\nB\nServing Network Identifier for Stand-alone Non-Public Networks\n16.1.0\n2019-09\nCT#85\nCP-192193\n0188\n1\nB\nETSUN_Create service operation for buffered data forwarding\n16.1.0\n2019-09\nCT#85\nCP-192193\n0189\n1\nB\nETSUN_SM Context Request with buffered data forwarding\n16.1.0\n2019-09\nCT#85\nCP-192193\n0190\n1\nB\nETSUN_Update Service Operation with I-V-SMF change\n16.1.0\n2019-09\nCT#85\nCP-192193\n0191\n1\nB\nETSUN_Update SM Context for buffered data forwarding\n16.1.0\n2019-09\nCT#85\nCP-192193\n0192\n4\nB\nMissing attributes in SM Context\n16.1.0\n2019-09\nCT#85\nCP-192193\n0194\n2\nB\nETSUN alignments to ReleaseSMContext service operation\n16.1.0\n2019-09\nCT#85\nCP-192193\n0195\n2\nB\nETSUN alignments to RetrieveSMContext service operation\n16.1.0\n2019-09\nCT#85\nCP-192132\n0198\n1\nB\nSmall Data Rate Control Status during PDU session establishment\n16.1.0\n2019-09\nCT#85\nCP-192123\n0199\nF\nCRLF between Header fields and Data\n16.1.0\n2019-09\nCT#85\nCP-192120\n0201\nF\n3GPP TS 29.502 API version update\n16.1.0\n2019-10\nCorrupted references corrected\n16.1.1\n2019-12\nCT#86\nCP-193057\n0202\n1\nF\nDelegated discovery parameter mapping in stage 3\n16.2.0\n2019-12\nCT#86\nCP-193056\n0203\nB\nN4 information in Update Request / Response\n16.2.0\n2019-12\nCT#86\nCP-193056\n0204\n1\nB\nIndirect data forwarding tunnels for N2 handover with I-SMF\n16.2.0\n2019-12\nCT#86\nCP-193056\n0205\nB\nContents of Sm context in SmContextRetrievedData\n16.2.0\n2019-12\nCT#86\nCP-193051\n0206\n1\nB\nMA PDU session Accepted indication\n16.2.0\n2019-12\nCT#86\nCP-193051\n0207\n1\nB\nEstablishment of N9 tunnel per access network for a MA PDU session\n16.2.0\n2019-12\nCT#86\nCP-193051\n0209\nB\nATSSS container: ATSSS rules, Measurement Assistance Info, Network Steering Info\n16.2.0\n2019-12\nCT#86\nCP-193036\n0210\n1\nF\nForwarding of Origination Time Stamp to PCF\n16.2.0\n2019-12\nCT#86\nCP-193049\n0211\n1\nB\nConnection suspend\n16.2.0\n2019-12\nCT#86\nCP-193049\n0212\n2\nB\nConnection resume\n16.2.0\n2019-12\nCT#86\nCP-193051\n0213\n1\nB\nMA PDU Network Upgrade Allowed indication\n16.2.0\n2019-12\nCT#86\nCP-193051\n0215\n2\nB\nAccess Type Associated with QoS Flow\n16.2.0\n2019-12\nCT#86\nCP-193056\n0217\n1\nB\nUpdate Description for I-SMF Scenario\n16.2.0\n2019-12\nCT#86\nCP-193057\n0218\n1\nB\nDelegated Discovery Parameters Conveyance in HTTP/2 Headers\n16.2.0\n2019-12\nCT#86\nCP-193049\n0220\n2\nB\nServing PLMN Rate Control\n16.2.0\n2019-12\nCT#86\nCP-193049\n0222\n1\nB\nAPN Rate Control attribute during PDU Session Establishment across N11 and N16\n16.2.0\n2019-12\nCT#86\nCP-193128\n0223\n4\nB\nAdding Rate Control attributes to the Release operations\n16.2.0\n2019-12\nCT#86\nCP-193049\n0224\n2\nB\nAdding Rate Control attributes to the Update operations\n16.2.0\n2019-12\nCT#86\nCP-193056\n0226\nF\nsmContextRef attribute in SmContextCreateData\n16.2.0\n2019-12\nCT#86\nCP-193049\n0227\nB\nControl Plane Only Indicator\n16.2.0\n2019-12\nCT#86\nCP-193168\n0228\n2\nB\nMobile Originated Data Transfer for Control Plane CIoT 5GS Optimisation\n16.2.0\n2019-12\nCT#86\nCP-193056\n0230\n1\nB\nSecondary RAT Data Usage Report\n16.2.0\n2019-12\nCT#86\nCP-193051\n0231\n1\nB\nMA PDU request indication\n16.2.0\n2019-12\nCT#86\nCP-193129\n0232\n4\nB\nSMF derived CN assisted RAN parameters turning\n16.2.0\n2019-12\nCT#86\nCP-193026\n0234\n1\nA\nSecondary RAT Data Usage Report\n16.2.0\n2019-12\nCT#86\nCP-193036\n0235\n1\nF\nAdd Reference to 3GPP TS 29.524\n16.2.0\n2019-12\nCT#86\nCP-193057\n0236\n3\nB\nSM Transfer indication\n16.2.0\n2019-12\nCT#86\nCP-193057\n0237\n2\nB\nSM Context Transfer between SMFs\n16.2.0\n2019-12\nCT#86\nCP-193056\n0238\n1\nF\nClarification to the buffered data handling in PduSessionCreateData\n16.2.0\n2019-12\nCT#86\nCP-193056\n0241\n2\nB\nMissing DNAI list across N16a\n16.2.0\n2019-12\nCT#86\nCP-193061\n0243\n2\nB\nPDU Session Release due to SRVCC\n16.2.0\n2019-12\nCT#86\nCP-193036\n0244\n1\nF\nEditorial Correction\n16.2.0\n2019-12\nCT#86\nCP-193044\n0246\nF\n3GPP TS 29.502 API version update\n16.2.0\n2020-03\nCT#87\nCP-200039\n0247\n2\nF\nAdd Corresponding API descriptions in clause 5.1\n16.3.0\n2020-03\nCT#87\nCP-200016\n0248\n3\nF\nPCF Set ID and PCF Group ID\n16.3.0\n2020-03\nCT#87\nCP-200035\n0249\n3\nB\nN3 terminations of W-AGF, TNGF and TWIF for UPF selection\n16.3.0\n2020-03\nCT#87\nCP-200035\n0250\n2\nB\nAdding references to stage 2 procedures for wireline access\n16.3.0\n2020-03\nCT#87\nCP-200042\n0251\n4\nF\nClarification to 3GPP vendor specific content subtypes\n16.3.0\n2020-03\nCT#87\nCP-200033\n0252\n2\nF\nClarification to apnRateStatus attribute description\n16.3.0\n2020-03\nCT#87\nCP-200017\n0253\n2\nF\nEditor's note related to change of PSA\n16.3.0\n2020-03\nCT#87\nCP-200017\n0254\n2\nF\nHandover between ePDG/EPS to 5GS with I-SMF insertion or removal\n16.3.0\n2020-03\nCT#87\nCP-200017\n0255\n2\nF\nMissing DTSSA applicability\n16.3.0\n2020-03\nCT#87\nCP-200017\n0256\n3\nF\nFeature negotiation extension to support change of AMF, V-SMF or I-SMF\n16.3.0\n2020-03\nCT#87\nCP-200031\n0257\n2\nB\nReporting that an access of a MA PDU session is unavailable\n16.3.0\n2020-03\nCT#87\nCP-200031\n0258\n3\nB\nRequest Type parameter of a MA-PDU session\n16.3.0\n2020-03\nCT#87\nCP-200033\n0259\n2\nB\nScope and Services offered by SMF\n16.3.0\n2020-03\nCT#87\nCP-200020\n0260\n3\nF\nDNN encoding in SMF PDUSession API\n16.3.0\n2020-03\nCT#87\nCP-200017\n0261\n3\nB\nHome Provided Charging ID and Roaming Charging Profile\n16.3.0\n2020-03\nCT#87\nCP-200039\n0262\n2\nF\nCorrection - formatting consistency\n16.3.0\n2020-03\nCT#87\nCP-200017\n0263\n2\nB\nCorrections on the descriptions for the data types related to I-SMF\n16.3.0\n2020-03\nCT#87\nCP-200031\n0264\nF\nmaNwUpgradeInd in PduSessionCreateData\n16.3.0\n2020-03\nCT#87\nCP-200031\n0265\nF\nanType in TunnelInfo\n16.3.0\n2020-03\nCT#87\nCP-200042\n0266\nF\nVoid a non-existent clause\n16.3.0\n2020-03\nCT#87\nCP-200042\n0268\nB\nPDU Session Release Due to UE Subscription Change\n16.3.0\n2020-03\nCT#87\nCP-200017\n0269\n1\nB\nDNAI list\n16.3.0\n2020-03\nCT#87\nCP-200017\n0270\n1\nB\nEnd Marker Indication\n16.3.0\n2020-03\nCT#87\nCP-200017\n0271\n1\nB\nhoCompleteIndication in 5GS to EPS handover\n16.3.0\n2020-03\nCT#87\nCP-200017\n0272\nB\nNotify Ipv6MultiHomingInd during I-SMF change procedure\n16.3.0\n2020-03\nCT#87\nCP-200055\n0273\n1\nA\nLinked EPS Bearer ID\n16.3.0\n2020-03\nCT#87\nCP-200017\n0274\n1\nB\nqosRules in SM Context\n16.3.0\n2020-03\nCT#87\nCP-200017\n0275\n1\nB\nDefinition of smContextRef and Target ID\n16.3.0\n2020-03\nCT#87\nCP-200053\n0276\n1\nA\nEPS bearer ID correction\n16.3.0\n2020-03\nCT#87\nCP-200020\n0277\n1\nF\nSupport 504 error code in retrieve SM Context service operation\n16.3.0\n2020-03\nCT#87\nCP-200020\n0278\n1\nB\nSupport PDN type Ethernet at 5GS to EPS mobility with N26\n16.3.0\n2020-03\nCT#87\nCP-200017\n0290\n2\nB\nUPF Instance ID\n16.3.0\n2020-03\nCT#87\nCP-200017\n0292\n1\nF\nHandover Cancel\n16.3.0\n2020-03\nCT#87\nCP-200033\n0293\n1\nB\nMO Data Transfer N16\n16.3.0\n2020-03\nCT#87\nCP-200033\n0294\n1\nB\nMO Exception Data Delivery CP CIOT\n16.3.0\n2020-03\nCT#87\nCP-200033\n0295\n1\nB\nMO Exception Data Delivery UP CIOT\n16.3.0\n2020-03\nCT#87\nCP-200033\n0296\n1\nB\nMT Data Transfer N16\n16.3.0\n2020-03\nCT#87\nCP-200042\n0297\n1\nF\nVPLMN QoS\n16.3.0\n2020-03\nCT#87\nCP-200042\n0298\nF\nMulti-part message example\n16.3.0\n2020-03\nCT#87\nCP-200033\n0299\n1\nB\nNEF Extended Buffering Supporting Indication\n16.3.0\n2020-03\nCT#87\nCP-200033\n0300\nF\nRemoval of Serving PLMN Rate Control\n16.3.0\n2020-03\nCT#87\nCP-200034\n0301\n2\nC\nNew cause value for NSSAA failure and revocation\n16.3.0\n2020-03\nCT#87\nCP-200138\n0302\n4\nF\nPreventing PDU Session release when handover between 3GPP and non-3GPP fails\n16.3.0\n2020-03\nCT#87\nCP-200020\n0303\n1\nB\nEBI list not to be transferred\n16.3.0\n2020-03\nCT#87\nCP-200017\n0304\nF\nV-SMF insertion or removal\n16.3.0\n2020-03\nCT#87\nCP-200033\n0305\n1\nB\nExtended NAS-SM timer indication for UEs using CE mode B\n16.3.0\n2020-03\nCT#87\nCP-200033\n0306\nF\nFeature definition for support of CIoT features\n16.3.0\n2020-03\nCT#87\nCP-200033\n0307\nB\nIdle mode mobility between EPS and 5GS with data forwarding\n16.3.0\n2020-03\nCT#87\nCP-200033\n0308\nF\nMobile Originated Data\n16.3.0\n2020-03\nCT#87\nCP-200033\n0309\n2\nB\nAvailability after DDN Failure\n16.3.0\n2020-03\nCT#87\nCP-200017\n0310\nF\nClarification to N4Information type\n16.3.0\n2020-03\nCT#87\nCP-200052\n0314\nF\n3GPP TS 29.502 Rel16 API version and External doc update\n16.3.0\n2020-07\nCT#88\nCP-201018\n0316\n1\nF\nIntegrity protection maximum data rate in Create Request/Response\n16.4.0\n2020-07\nCT#88\nCP-201046\n0317\nF\nCorrection to the Resource URI structure\n16.4.0\n2020-07\nCT#88\nCP-201046\n0319\n2\nB\nRetrieval of Rate Control Status over N16/N16a\n16.4.0\n2020-07\nCT#88\nCP-201055\n0320\nF\nStorage of YAML files in ETSI Forge\n16.4.0\n2020-07\nCT#88\nCP-201031\n0321\n1\nF\nURI of the Nsmf_PDUSession service\n16.4.0\n2020-07\nCT#88\nCP-201031\n0322\nF\nV-SMF and I-SMF service instance Id\n16.4.0\n2020-07\nCT#88\nCP-201055\n0323\n1\nF\nSupported Headers Tables for Response types 2xx and 3xx\n16.4.0\n2020-07\nCT#88\nCP-201055\n0324\n1\nF\nBinary Data Types Table\n16.4.0\n2020-07\nCT#88\nCP-201046\n0325\n1\nF\nMaximum UP resources activation of 2 PDU sessions\n16.4.0\n2020-07\nCT#88\nCP-201055\n0326\n1\nF\nRAN Initiated QoS Flow Mobility failure scenario\n16.4.0\n2020-07\nCT#88\nCP-201031\n0327\n2\nF\nPDU Session Resource Notify Released Transfer\n16.4.0\n2020-07\nCT#88\nCP-201031\n0328\n1\nF\nSecurity Result\n16.4.0\n2020-07\nCT#88\nCP-201034\n0329\n1\nF\nsNssai during EPS to 5GS interworking\n16.4.0\n2020-07\nCT#88\nCP-201048\n0332\n1\nF\nStage 2 procedures for wireline access\n16.4.0\n2020-07\nCT#88\nCP-201044\n0333\n1\nB\nInform SMF that UE deregisters from one access\n16.4.0\n2020-07\nCT#88\nCP-201046\n0334\n2\nB\nNotification Correlation ID related to event Availability after DDN Failure\n16.4.0\n2020-07\nCT#88\nCP-201018\n0335\n2\nF\nBinary IE Encoding\n16.4.0\n2020-07\nCT#88\nCP-201044\n0336\n1\nF\nMAPDU via Non-3GPP Access\n16.4.0\n2020-07\nCT#88\nCP-201031\n0337\n1\nF\nSM Context Transfer\n16.4.0\n2020-07\nCT#88\nCP-201055\n0338\n1\nF\nData type column in Resource URI variables Table\n16.4.0\n2020-07\nCT#88\nCP-201068\n0339\n1\nB\nInter-system handover with direct data forwarding\n16.4.0\n2020-07\nCT#88\nCP-201031\n0340\nF\nRegistration with I-SMF insertion/change/removal and UP connection establishment\n16.4.0\n2020-07\nCT#88\nCP-201055\n0341\n1\nF\nAdd custom operation Name\n16.4.0\n2020-07\nCT#88\nCP-201047\n0342\n2\nF\nImplicit PDU Session Release\n16.4.0\n2020-07\nCT#88\nCP-201046\n0343\n3\nF\nAligning \"MO Exception data\" handling with stage 2 - NEF\n16.4.0\n2020-07\nCT#88\nCP-201044\n0344\n1\nF\nMA-PDU Session Release\n16.4.0\n2020-07\nCT#88\nCP-201202\n0345\n2\nF\nN4 information exchanged over N16a during PDU session release\n16.4.0\n2020-07\nCT#88\nCP-201044\n0346\n1\nF\nMA PDU Session re-activation\n16.4.0\n2020-07\nCT#88\nCP-201037\n0347\n1\nB\nAlternative QoS Profiles\n16.4.0\n2020-07\nCT#88\nCP-201031\n0348\n1\nF\nMissing N2 SM Info in SmContextCreateError\n16.4.0\n2020-07\nCT#88\nCP-201037\n0349\n1\nB\nQoS Monitoring Request to NG-RAN\n16.4.0\n2020-07\nCT#88\nCP-201031\n0350\n1\nF\nApplication errors from I-SMF to SMF\n16.4.0\n2020-07\nCT#88\nCP-201031\n0351\n1\nF\nPduSessionCreatedData from SMF to I-SMF\n16.4.0\n2020-07\nCT#88\nCP-201031\n0352\n1\nF\nRequestIndication\n16.4.0\n2020-07\nCT#88\nCP-201031\n0353\nF\nURIs in SmContextCreatedData\n16.4.0\n2020-07\nCT#88\nCP-201055\n0355\n1\nF\nSelected DNN\n16.4.0\n2020-07\nCT#88\nCP-201055\n0356\n1\nF\nError Handling in Nsmf_PDUSession Service\n16.4.0\n2020-07\nCT#88\nCP-201046\n0357\n1\nF\nClarification on CP Only Indication related issue in Update SM Context service\n16.4.0\n2020-07\nCT#88\nCP-201044\n0360\nF\nEPSInterworkingInd for MA PDU without N26\n16.4.0\n2020-07\nCT#88\nCP-201018\n0361\n1\nA\nTEID encoding clarification\n16.4.0\n2020-07\nCT#88\nCP-201073\n0365\nF\n29.502 Rel16 API version and External doc update\n16.4.0\n2020-09\nCT#89\nCP-202104\n0366\n1\nF\nRelease PDU Session if NSSAA Re-Authentication and Re-Authorization Fails\n16.5.0\n2020-09\nCT#89\nCP-202114\n0367\n2\nF\nCorrect the Condition of upCnxState in SmContextCreateData\n16.5.0\n2020-09\nCT#89\nCP-202114\n0368\n2\nF\nPDU session deactivation\n16.5.0\n2020-09\nCT#89\nCP-202092\n0369\n3\nF\nCallback URI correction\n16.5.0\n2020-09\nCT#89\nCP-202092\n0370\n2\nF\nRequest Type\n16.5.0\n2020-09\nCT#89\nCP-202107\n0371\n1\nF\nQoS Monitoring\n16.5.0\n2020-09\nCT#89\nCP-202016\n0373\n2\nF\nError handling for PDU sessions with an I-SMF or V-SMF\n16.5.0\n2020-09\nCT#89\nCP-202107\n0374\nF\nIndicating that NG-RAN cannot fulfil the least preferred Alternative QoS Profile\n16.5.0\n2020-09\nCT#89\nCP-202092\n0375\n1\nF\nHandover Cancel 5GS to EPS\n16.5.0\n2020-09\nCT#89\nCP-202114\n0376\n2\nF\nQosRules during I-SMF and V-SMF Insertion\n16.5.0\n2020-09\nCT#89\nCP-202092\n0377\n1\nF\nService Access Authorization between SMFs\n16.5.0\n2020-09\nCT#89\nCP-202206\n0381\n2\nF\nH-SMF/SMF sending IPv6 Interface Identifier to V-SMF/I-SMF\n16.5.0\n2020-09\nCT#89\nCP-202096\n0383\nF\n29.502 Rel-16 API version and External doc update\n16.5.0\n2020-12\nCT#90\nCP-203072\n0385\n2\nF\nHTTP 3xx redirection\n16.6.0\n2020-12\nCT#90\nCP-203048\n0386\nF\nStorage of YAML files in 3GPP Forge\n16.6.0\n2020-12\nCT#90\nCP-203046\n0387\n1\nF\nQoS monitoring of a PDU session based on GTP-U path monitoring\n16.6.0\n2020-12\nCT#90\nCP-203082\n0390\n2\nF\nBinding Information for the old V/I-SMF and SMF\n16.6.0\n2020-12\nCT#90\nCP-203083\n0391\n3\nF\nRemote NF is not reachable\n16.6.0\n2020-12\nCT#90\nCP-203041\n0392\n2\nF\nService operations invoked in DDN Failure event\n16.6.0\n2020-12\nCT#90\nCP-203029\n0394\n1\nF\nEBI and ARP mapping update\n16.6.0\n2020-12\nCT#90\nCP-203046\n0395\n1\nF\nQoS Monitoring Reporting Frequency\n16.6.0\n2020-12\nCT#90\nCP-203051\n0396\n1\nF\nCorrection on H-PCF\n16.6.0\n2020-12\nCT#90\nCP-203051\n0397\n1\nF\nIPv6 Index for I-SMF\n16.6.0\n2020-12\nCT#90\nCP-203029\n0398\nF\nVPLMN QoS Constraints\n16.6.0\n2020-12\nCT#90\nCP-203036\n0401\nF\n29.502 Rel16 API version and External doc update\n16.6.0\n2021-03\nCT#91\nCP-210049\n0404\n2\nF\nHandover Failure during EPS to 5GS Handover with AMF Re-allocation\n16.7.0\n2021-03\nCT#91\nCP-210045\n0405\n1\nF\nStop of QoS Monitoring\n16.7.0\n2021-03\nCT#91\nCP-210037\n0408\n1\nF\nError Responses for Indirect Communication\n16.7.0\n2021-03\nCT#91\nCP-210040\n0409\nF\nCharging ID of HR PDU session upon V-SMF change\n16.7.0\n2021-03\nCT#91\nCP-210040\n0410\nF\nHandover between 3GPP and non-3GPP accesses with I-SMF insertion/removal or V-SMF change\n16.7.0\n2021-03\nCT#91\nCP-210167\n0411\n2\nF\nRedundancy Sequence Number for Dual Connectivity based end to end Redundant User Plane Paths\n16.7.0\n2021-03\nCT#91\nCP-210166\n0413\n2\nF\nQoS parameters handling during handover between 3GPP and non-3GPP accesses\n16.7.0\n2021-03\nCT#91\nCP-210040\n0415\n1\nF\nDNNs in I-SMF\n16.7.0\n2021-03\nCT#91\nCP-210040\n0416\n1\nF\nI-SMF&V-SMF Release Only\n16.7.0\n2021-03\nCT#91\nCP-210060\n0417\nF\nIncomplete CR Implementation\n16.7.0\n2021-03\nCT#91\nCP-210040\n0422\nF\nrequestIndication for EBI revocation\n16.7.0\n2021-03\nCT#91\nCP-210060\n0423\n2\nF\nAlternative Anchor SMF Notification to AMF\n16.7.0\n2021-03\nCT#91\nCP-210054\n0425\nF\n29.502 Rel-16 API version and External doc update\n16.7.0\n2021-03\nCT#91\nCP-210165\n0407\n1\nF\nData Types Descriptions\n17.0.0\n2021-03\nCT#91\nCP-210021\n0414\n2\nB\nHome Network Public Key identifier as additional input for SMF service\n17.0.0\n2021-03\nCT#91\nCP-210034\n0418\n2\nB\nUPF ID for N4 Information\n17.0.0\n2021-03\nCT#91\nCP-210021\n0419\nF\nCorrection to apiVersion placeholder\n17.0.0\n2021-03\nCT#91\nCP-210034\n0421\n1\nF\nEpsInterworkingIndication Update\n17.0.0\n2021-03\nCT#91\nCP-210029\n0424\nF\n29.502 Rel-17 API version and External doc update\n17.0.0\n2021-06\nCT#92\nCP-211025\n0427\nB\nSupport of Notify Start Pause of Charging via User Plane\n17.1.0\n2021-06\nCT#92\nCP-211022\n0428\n1\nB\nAdding samePcfSelectionIndication in Nsmf_PDUSession service to support SPSFAS\n17.1.0\n2021-06\nCT#92\nCP-211059\n0430\n3\nA\nNotify PDU session control is taken over by another SMF\n17.1.0\n2021-06\nCT#92\nCP-211031\n0431\n1\nB\n(I-)SMF discovery based on DNAI\n17.1.0\n2021-06\nCT#92\nCP-211023\n0432\n1\nF\nhNRF from NSSF in home PLMN\n17.1.0\n2021-06\nCT#92\nCP-211120\n0433\n1\nF\nOpenAPI Reference\n17.1.0\n2021-06\nCT#92\nCP-211046\n0435\n1\nF\nSimultaneous change of Branching Point or UL CL and additional PSA\n17.1.0\n2021-06\nCT#92\nCP-211082\n0437\n1\nA\nDNN Selection Mode\n17.1.0\n2021-06\nCT#92\nCP-211062\n0439\n1\nA\nAMF ID in HsmfUpdateData\n17.1.0\n2021-06\nCT#92\nCP-211068\n0441\n3\nA\nNG-RAN tunnel information during mobility registration with I-SMF/V-SMF change\n17.1.0\n2021-06\nCT#92\nCP-211054\n0442\n1\nF\nCorrection on SmContextUpdateData\n17.1.0\n2021-06\nCT#92\nCP-211028\n0443\n2\nF\nSecondary authorization/authentication by an DN-AAA\n17.1.0\n2021-06\nCT#92\nCP-211049\n0444\n2\nB\nI-SMF/V-SMF Restoration procedure\n17.1.0\n2021-06\nCT#92\nCP-211028\n0445\n1\nF\nData forwarding during 5GS to EPS handover\n17.1.0\n2021-06\nCT#92\nCP-211059\n0446\n1\nA\nRedirect Responses\n17.1.0\n2021-06\nCT#92\nCP-211059\n0448\nA\n3xx description correction for SCP\n17.1.0\n2021-06\nCT#92\nCP-211082\n0453\n1\nA\nUser location included in session management messages\n17.1.0\n2021-06\nCT#92\nCP-211082\n0455\nA\nMissing Procedure\n17.1.0\n2021-06\nCT#92\nCP-211050\n0456\nF\n29.502 Rel-17 API version and External doc update\n17.1.0\n2021-09\nCT#93\nCP-212026\n0472\nF\nCorrection of Content-Type\n17.2.0\n2021-09\nCT#93\nCP-212026\n0471\n1\nB\nSMF Response in case of AN-Requested PDU Session Resource Release\n17.2.0\n2021-09\nCT#93\nCP-212026\n0480\n1\nF\nCorrections to the API URI\n17.2.0\n2021-09\nCT#93\nCP-212031\n0462\nB\nDownlink Tunnel Info of NG-RAN in I-SMF selection per DNAI\n17.2.0\n2021-09\nCT#93\nCP-212031\n0461\n2\nB\nAF Coordination Information\n17.2.0\n2021-09\nCT#93\nCP-212032\n0478\n1\nF\nSelecting the same PCF for AMF and SMF in pure 5GS\n17.2.0\n2021-09\nCT#93\nCP-212042\n0468\n1\nB\nPDUSession API extensions for Redundant PDU Sessions\n17.2.0\n2021-09\nCT#93\nCP-212047\n0463\nF\nBinding Indication\n17.2.0\n2021-09\nCT#93\nCP-212047\n0469\nF\nrequestType IE in Create (SM Context) service request\n17.2.0\n2021-09\nCT#93\nCP-212047\n0470\n1\nF\nSecondary RAT Usage Report\n17.2.0\n2021-09\nCT#93\nCP-212047\n0473\n1\nF\nCorrection on remoteError and Snssai\n17.2.0\n2021-09\nCT#93\nCP-212047\n0460\n1\nF\nDNAI removal\n17.2.0\n2021-09\nCT#93\nCP-212059\n0483\nF\n29.502 Rel-17 API version and External doc update\n17.2.0\n2021-09\nCT#93\nCP-212061\n0459\nA\nChange of ULCL/BP and/or local PSA\n17.2.0\n2021-09\nCT#93\nCP-212064\n0466\n1\nA\nHandover from 5GS to ePDG\n17.2.0\n2021-09\nCT#93\nCP-212079\n0476\n1\nA\nmaking vcnTunnelInfo optional on N16\n17.2.0\n2021-09\nCT#93\nCP-212079\n0475\n1\nA\nS-NSSAI Not Supported in Handover\n17.2.0\n2021-12\nCT#94\nCP-213100\n0485\n1\nB\nProvisioning Server Information During PDU Session Establishment\n17.3.0\n2021-12\nCT#94\nCP-213093\n0486\nF\nFeature name of Enhancement of Edge Computing in 5G Core network\n17.3.0\n2021-12\nCT#94\nCP-213085\n0487\nF\nPDU session release upon removal of DNN subscription\n17.3.0\n2021-12\nCT#94\nCP-213085\n0488\n1\nF\nranUnchangedInd setting after EPS to 5GS handover\n17.3.0\n2021-12\nCT#94\nCP-213102\n0489\n1\nB\nNF service consumer cleanup\n17.3.0\n2021-12\nCT#94\nCP-213093\n0490\n1\nB\nRemove the Editor's Note on AF Coordination Information\n17.3.0\n2021-12\nCT#94\nCP-213093\n0491\n1\nB\nI-SMF removal for target DNAI\n17.3.0\n2021-12\nCT#94\nCP-213108\n0492\n4\nB\nNotification for SM Policy Association Events\n17.3.0\n2021-12\nCT#94\nCP-213112\n0493\n1\nB\nSending UUAA Authentication message\n17.3.0\n2021-12\nCT#94\nCP-213122\n0494\n1\nB\nVoid I-SMF/V-SMF Restoration procedure from normal specification clauses\n17.3.0\n2021-12\nCT#94\nCP-213115\n0495\n1\nD\n29.502 Element name corrections\n17.3.0\n2021-12\nCT#94\nCP-213087\n0498\n1\nF\nInformative note for NotifyList attribute not complying with 29.501 naming conventions\n17.3.0\n2021-12\nCT#94\nCP-213111\n0499\n1\nB\nReporting of satellite backhaul category to SMF\n17.3.0\n2021-12\nCT#94\nCP-213123\n0500\n1\nB\nSupport of User Plane Integrity Protection for Interworking from 5GS to EPS\n17.3.0\n2021-12\nCT#94\nCP-213087\n0502\n1\nB\nUpdating Binding Indication for multiple resource contexts feature\n17.3.0\n2021-12\nCT#94\nCP-213134\n0504\nA\n409 Response Code for I-SMF Update\n17.3.0\n2021-12\nCT#94\nCP-213134\n0506\n1\nA\nUE requested PDU session release\n17.3.0\n2021-12\nCT#94\nCP-213144\n0508\n1\nA\nVPLMN triggered QoS modification for QoS flow associated with default QoS Rule\n17.3.0\n2021-12\nCT#94\nCP-213121\n0510\nF\n29.502 Rel-17 API version and External doc update\n17.3.0\n2022-03\nCT#95\nCP-220047\n0512\n2\nB\nSNPN onboarding impacts on SMF\n17.4.0\n2022-03\nCT#95\nCP-220023\n0515\nB\nIndicating the possible use of OAuth2 authorization in Create SM Context\n17.4.0\n2022-03\nCT#95\nCP-220055\n0516\nF\nSecondary RAT data usage reporting during AN Release procedure\n17.4.0\n2022-03\nCT#95\nCP-220069\n0518\n4\nA\nNotify change of anchor SMF or intermediate SMF\n17.4.0\n2022-03\nCT#95\nCP-220031\n0519\n1\nF\nSMF triggered I-SMF removal\n17.4.0\n2022-03\nCT#95\nCP-220024\n0520\n1\nF\nSupport of ODB\n17.4.0\n2022-03\nCT#95\nCP-220030\n0521\n2\nB\nNSAC during change of Access-type of a PDU-Session\n17.4.0\n2022-03\nCT#95\nCP-220024\n0522\nF\nUE Registration procedure - V-SMF insertion, change and removal\n17.4.0\n2022-03\nCT#95\nCP-220025\n0523\n1\nF\nFormatting of Description fields\n17.4.0\n2022-03\nCT#95\nCP-220025\n0524\n1\nB\nInter-PLMN mobility of PDU sessions\n17.4.0\n2022-03\nCT#95\nCP-220079\n0526\n1\nA\nHandover of a PDU session with I-SMF from 3GPP to non-3GPP access\n17.4.0\n2022-03\nCT#95\nCP-220030\n0527\n1\nB\nApplication errors for network slice data rate control\n17.4.0\n2022-03\nCT#95\nCP-220082\n0529\nA\nDownlink UE Integrity Protection Max Data Rate in SM Context\n17.4.0\n2022-03\nCT#95\nCP-220082\n0531\n2\nA\nUE Integrity Protection Max Data Rate during Inter-System Mobility\n17.4.0\n2022-03\nCT#95\nCP-220025\n0533\n1\nB\nPLMN Id of the SMF\n17.4.0\n2022-03\nCT#95\nCP-220025\n0535\n1\nB\nServingNetwork in SmContextRetrieveData\n17.4.0\n2022-03\nCT#95\nCP-220064\n0538\n1\nF\nNGAP cause in network (e.g. H-SMF, SMF) requested PDU session modification\n17.4.0\n2022-03\nCT#95\nCP-220082\n0539\n1\nF\nSMF URI attributes in Create SM Context for PDU sessions with I-SMF/V-SMF\n17.4.0\n2022-03\nCT#95\nCP-220064\n0540\n1\nF\nSSC Mode in SmContext and error in QoS constraints from the VPLMN\n17.4.0\n2022-03\nCT#95\nCP-220225\n0542\n1\nB\nIndication from AMF to SMF\n17.4.0\n2022-03\nCT#95\nCP-220066\n0545\nF\n29.502 Rel-17 API version and External doc update\n17.4.0\n2022-03\nCT#95\nCP-220146\n0547\nF\nPVS Info attribute definition\n17.4.0\n2022-06\nCT#96\nCP-221027\n0548\n1\nF\nCorrection to smfPduSessionUri\n17.5.0\n2022-06\nCT#96\nCP-221029\n0549\n3\nF\nClarification on hoPreparationIndication\n17.5.0\n2022-06\nCT#96\nCP-221045\n0550\n2\nF\nNotify change of anchor SMF\n17.5.0\n2022-06\nCT#96\nCP-221050\n0551\n1\nF\nDuplicate PDU Session Handling\n17.5.0\n2022-06\nCT#96\nCP-221050\n0553\n1\nF\nN9 forwarding tunnel between BPs/ULCLs controlled by I-SMF\n17.5.0\n2022-06\nCT#96\nCP-221045\n0554\n1\nF\nMobility between HPLMN and VPLMN\n17.5.0\n2022-06\nCT#96\nCP-221045\n0555\n1\nF\nHome S-NSSAI in LBO PDU session with I-SMF\n17.5.0\n2022-06\nCT#96\nCP-221050\n0556\nF\nHTTP Request\n17.5.0\n2022-06\nCT#96\nCP-221064\n0558\n1\nA\nMissing hoState in HsmfUpdateData\n17.5.0\n2022-06\nCT#96\nCP-221061\n0560\n3\nA\nOperation Type for UP Activation via N16a\n17.5.0\n2022-06\nCT#96\nCP-221061\n0562\n1\nA\nPDN Context Info Update on Anchor SMF Reselection\n17.5.0\n2022-06\nCT#96\nCP-221043\n0563\nF\nRemote UE Report\n17.5.0\n2022-06\nCT#96\nCP-221050\n0564\n1\nF\nReleased PDU Sessions during Registration\n17.5.0\n2022-06\nCT#96\nCP-221339\n0566\n2\nF\nProtocol support for restoration procedures for Home Routed PDU Sessions or PDU sessions with an I-SMF\n17.5.0\n2022-06\nCT#96\nCP-221029\n0567\nF\nRemoval of apiVersion from resource URI variables tables\n17.5.0\n2022-06\nCT#96\nCP-221051\n0568\nF\n29.502 Rel-17 API version and External doc update\n17.5.0\n2022-09\nCT#97\nCP-222043\n0570\nF\nEssential correction to PduSessionCreatedData\n17.6.0\n2022-09\nCT#97\nCP-222031\n0572\nF\nMulticast MBS session procedures\n17.6.0\n2022-09\nCT#97\nCP-222039\n0573\n1\nF\nDisaster Roaming service indication\n17.6.0\n2022-09\nCT#97\nCP-222089\n0575\n1\nF\nhSmfUri and smfUri in Create SM Context Request\n17.6.0\n2022-09\nCT#97\nCP-222043\n0578\n1\nF\nOauth Required Indication\n17.6.0\n2022-09\nCT#97\nCP-222067\n0582\n1\nA\nQoS Flows Failed to Resume\n17.6.0\n2022-09\nCT#97\nCP-222058\n0583\nF\n29.502 Rel-17 API version and External doc update\n17.6.0\n2022-09\nCT#97\nCP-222023\n0571\nB\nPGW Change Info\n18.0.0\n2022-09\nCT#97\nCP-222024\n0577\n1\nB\nPopulating a fullDnaiList to (new) I-SMF\n18.0.0\n2022-09\nCT#97\nCP-222025\n0585\nF\n29.502 Rel-18 API version and External doc update\n18.0.0\n2022-12\nCT#98\nCP-223035\n0588\n1\nB\nSupport of RRC_INACTIVE with long eDRX\n18.1.0\n2022-12\nCT#98\nCP-223029\n0589\n1\nF\nMissing mandatory status codes in OpenAPI\n18.1.0\n2022-12\nCT#98\nCP-223039\n0590\nF\nIncorrect stage 2 references\n18.1.0\n2022-12\nCT#98\nCP-223060\n0592\nA\nHandling of PDU sessions for Emergency services\n18.1.0\n2022-12\nCT#98\nCP-223039\n0596\n1\nF\nProcedures with Create service operation\n18.1.0\n2022-12\nCT#98\nCP-223036\n0600\n1\nA\nCreate SM Context service operation for multicast MBS session related procedures\n18.1.0\n2022-12\nCT#98\nCP-223036\n0603\nA\nAdd the description of MBS using update SM context service\n18.1.0\n2022-12\nCT#98\nCP-223093\n0604\n1\nA\nCharging Id Format\n18.1.0\n2022-12\nCT#98\nCP-223033\n0605\nF\n29.502 Rel-18 API version and External doc update\n18.1.0\n2023-03\nCT#99\nCP-230029\n0610\n1\nF\nStatus code 504 in Create Response\n18.2.0\n2023-03\nCT#99\nCP-230041\n0611\n3\nB\nAdding GEO satellite ID attribute\n18.2.0\n2023-03\nCT#99\nCP-230029\n0612\nF\nStrings with Base64-encoded characters\n18.2.0\n2023-03\nCT#99\nCP-230086\n0616\n1\nA\nNetwork Triggered Service Request for a context in Suspend State\n18.2.0\n2023-03\nCT#99\nCP-230030\n0617\n1\nB\nClarification on the SMF behaviour with cnBasedMt\n18.2.0\n2023-03\nCT#99\nCP-230029\n0618\n1\nF\nSM context / PDU session release cause for Mobility or Access Restrictions\n18.2.0\n2023-03\nCT#99\nCP-230029\n0619\n1\nB\nPopulating Group ID during 4G to 5G mobility\n18.2.0\n2023-03\nCT#99\nCP-230074\n0622\n1\nA\nNSAC during HO between Access Types\n18.2.0\n2023-03\nCT#99\nCP-230029\n0623\n1\nB\nRetry Timer via N16/N16a\n18.2.0\n2023-03\nCT#99\nCP-230029\n0624\n1\nB\nVplmn QoS Flow Rejection\n18.2.0\n2023-03\nCT#99\nCP-230095\n0626\n1\nA\nCorrection on EBI Assignment over N16/N16a\n18.2.0\n2023-03\nCT#99\nCP-230033\n0630\n2\nB\nPDU Session for supporting HR-SBO in VPLMN\n18.2.0\n2023-03\nCT#99\nCP-230033\n0631\n1\nB\nECS Configuration Information in roaming\n18.2.0\n2023-03\nCT#99\nCP-230071\n0632\nF\n29.502 Rel-18 API version and External doc update\n18.2.0\n2023-06\nCT#100\nCP-231028\n0629\n5\nF\nLocation header description\n18.3.0\n2023-06\nCT#100\nCP-231033\n0634\n1\nB\nVPLMN Specific Offloading Information\n18.3.0\n2023-06\nCT#100\nCP-231033\n0635\n2\nB\nHR-SBO information handling upon V-SMF insertion or change\n18.3.0\n2023-06\nCT#100\nCP-231048\n0637\n1\nB\nReason for S-NSSAI Not Available\n18.3.0\n2023-06\nCT#100\nCP-231046\n0639\n3\nB\nSupport for non-3GPP access path switching\n18.3.0\n2023-06\nCT#100\nCP-231069\n0640\n5\nF\nAdding remoteError in Status Notification in Home Routed PDU Release\n18.3.0\n2023-06\nCT#100\nCP-231048\n0642\n2\nB\nSupport of Alternative S-NSSAI\n18.3.0\n2023-06\nCT#100\nCP-231205\n0643\n2\nB\nSupport of Network Slice usage control\n18.3.0\n2023-06\nCT#100\nCP-231093\n0648\n1\nA\nCorrection on EPS to 5GS Handover\n18.3.0\n2023-06\nCT#100\nCP-231033\n0652\nB\nH-SMF updating the HR-SBO information to V-SMF\n18.3.0\n2023-06\nCT#100\nCP-231028\n0653\nF\nClarification on the release of duplicated PDU Session\n18.3.0\n2023-06\nCT#100\nCP-231030\n0654\n3\nB\nResolving Editor's Notes for support of RRC_INACTIVE with long eDRX\n18.3.0\n2023-06\nCT#100\nCP-231069\n0656\n1\nF\nInvoking Namf_MT service for UE in RRC_SUSPEND\n18.3.0\n2023-06\nCT#100\nCP-231033\n0658\n1\nB\nHPLMN address information\n18.3.0\n2023-06\nCT#100\nCP-231033\n0659\nF\nUpdate of the HR-SBO Ind\n18.3.0\n2023-06\nCT#100\nCP-231048\n0660\n1\nB\nChange of Network Slice instance for PDU Sessions\n18.3.0\n2023-06\nCT#100\nCP-231049\n0661\n2\nB\nUpdate on LADN aspects for SMF\n18.3.0\n2023-06\nCT#100\nCP-231070\n0663\nF\n29.502 Rel-18 API version and External doc update\n18.3.0\n2023-09\nCT#101\nCP-232058\n0666\n1\nB\nPriority Level addition to QoS constraints\n18.4.0\n2023-09\nCT#101\nCP-232043\n0668\n1\nB\nAdd new cause for deactivation of user plane connection\n18.4.0\n2023-09\nCT#101\nCP-232061\n0670\n2\nA\nInclude upipSupported Indication in SM Context Transfer\n18.4.0\n2023-09\nCT#101\nCP-232043\n0671\n1\nB\nPDU Session Release during Network Slice Replacement Procedure\n18.4.0\n2023-09\nCT#101\nCP-232043\n0672\n3\nB\nPDU Session Retention during Network Slice Replacement Procedure\n18.4.0\n2023-09\nCT#101\nCP-232033\n0673\nF\nCorrection of ABNF rule of 3gpp-Sbi-Origination-Timestamp header\n18.4.0\n2023-09\nCT#101\nCP-232036\n0674\n2\nF\nData types defined for HR-SBO\n18.4.0\n2023-09\nCT#101\nCP-232036\n0675\n1\nB\nRetrieval of SM context with HR-SBO information\n18.4.0\n2023-09\nCT#101\nCP-232150\n0676\n4\nB\nAvoidance of unnecessary interworking on N16 and N16a\n18.4.0\n2023-09\nCT#101\nCP-232053\n0678\n2\nB\nSupport of Mobile Base Station Relay in SMF services\n18.4.0\n2023-09\nCT#101\nCP-232034\n0679\n1\nB\nSmall Data Transmission in RRC_INACTIVE\n18.4.0\n2023-09\nCT#101\nCP-232152\n0680\n2\nB\nEAS rediscovery indication\n18.4.0\n2023-09\nCT#101\nCP-232036\n0682\nB\nInternal Group Identifier for HR-SBO subscription from V-SMF to AF\n18.4.0\n2023-09\nCT#101\nCP-232063\n0685\n1\nA\nHome S-NSSAI in EPC to 5GS handover with AMF relocation\n18.4.0\n2023-09\nCT#101\nCP-232060\n0686\nF\n29.502 Rel-18 API version and External doc update\n18.4.0\n2023-12\nCT#102\nCP-233038\n0688\n1\nB\nV-SMF change based on target DNAI\n18.5.0\n2023-12\nCT#102\nCP-233081\n0689\n3\nB\nEAS information to be refreshed for EAS re-discovery\n18.5.0\n2023-12\nCT#102\nCP-233036\n0691\n1\nB\nError for NG-RAN initiated Connection Inactive procedure\n18.5.0\n2023-12\nCT#102\nCP-233044\n0692\nF\nCorrection on the description of DateTime\n18.5.0\n2023-12\nCT#102\nCP-233046\n0694\n1\nF\nRemove Editor’s Note on PDU Session Retention\n18.5.0\n2023-12\nCT#102\nCP-233028\n0696\n1\nF\nHTTP RFCs obsoleted by IETF RFC 9110, 9111 and 9113\n18.5.0\n2023-12\nCT#102\nCP-233043\n0698\n1\nF\nRemoval of non-3GPP path switching capability between V-SMF and H-SMF\n18.5.0\n2023-12\nCT#102\nCP-233056\n0700\n1\nF\nCorrection on epsInterworkingIndication\n18.5.0\n2023-12\nCT#102\nCP-233071\n0702\nA\nCorrection on HsmfUpdateError, VsmfUpdateError and PduSessionCreateError\n18.5.0\n2023-12\nCT#102\nCP-233071\n0704\n2\nA\nCorrection on UE Integrity Protection Maximum Data Rate\n18.5.0\n2023-12\nCT#102\nCP-233044\n0705\n2\nF\nClarifications on DL/UL N9 Tunnel CN Info\n18.5.0\n2023-12\nCT#102\nCP-233074\n0706\n4\nB\nDescribe HR-SBO related procedures and Offload Identifiers in VPLMN offload policy\n18.5.0\n2023-12\nCT#102\nCP-233066\n0708\n1\nA\ndisasterRoamingInd in mobility procedure\n18.5.0\n2023-12\nCT#102\nCP-233038\n0709\nB\nReplace hrsboRspInfo with hrsboInfo\n18.5.0\n2023-12\nCT#102\nCP-233044\n0710\nF\nmaxIntegrityProtectedDataRate in the PduSessionCreatedData\n18.5.0\n2023-12\nCT#102\nCP-233053\n0711\n4\nB\nPDU set Parameters between the V/I-SMF and the (H-)SMF\n18.5.0\n2023-12\nCT#102\nCP-233029\n0712\n2\nB\nIndication of PDU Session Establishment Rejection\n18.5.0\n2023-12\nCT#102\nCP-233056\n0714\n2\nF\nString Based Charging Id Support\n18.5.0\n2023-12\nCT#102\nCP-233044\n0716\n2\nF\nRejection of PDU Session Establishment due to ODB\n18.5.0\n2023-12\nCT#102\nCP-233046\n0718\n1\nF\nProcedure Description for PDU session release due to slice inactivity\n18.5.0\n2023-12\nCT#102\nCP-233030\n0719\nF\nProblemDetails RFC 7807 obsoleted by 9457\n18.5.0\n2023-12\nCT#102\nCP-233053\n0720\nB\nMaximum Data Burst Volume in Alternative QoS Profile\n18.5.0\n2023-12\nCT#102\nCP-233044\n0721\nF\nRemoval of the uavAuthenticated IE from Create SM Context Request\n18.5.0\n2023-12\nCT#102\nCP-233053\n0723\n1\nB\nSupport of ECN marking for L4S between the V/I-SMF and the (H-)SMF\n18.5.0\n2023-12\nCT#102\nCP-233031\n0724\n1\nB\nRoaming UE Indication for Emergency Session\n18.5.0\n2023-12\nCT#102\nCP-233053\n0727\n1\nB\nPeriodicity and N6 Jitter Information associated with Periodicity between the V/I-SMF and the (H-)SMF\n18.5.0\n2023-12\nCT#102\nCP-233030\n0728\nD\nEditorial correction on the name of Remote UE Report Response\n18.5.0\n2023-12\nCT#102\nCP-233060\n0729\nF\n29.502 Rel-18 API version and External doc update\n18.5.0\n2024-03\nCT#103\nCP-240074\n0735\nA\nicnTunnelInfo and vcnTunnelInfo during EPS to 5GS handover\n18.6.0\n2024-03\nCT#103\nCP-240034\n0736\n1\nB\nPDU Set QoS parameters for UL and DL traffic\n18.6.0\n2024-03\nCT#103\nCP-240034\n0737\n1\nB\nProtocol Description for UL traffic\n18.6.0\n2024-03\nCT#103\nCP-240053\n0738\nF\nClarification to the EPS Interworking Indication\n18.6.0\n2024-03\nCT#103\nCP-240031\n0739\nB\nTraffic Influence information for HR-SBO\n18.6.0\n2024-03\nCT#103\nCP-240031\n0740\n1\nB\nV-EASDF security information\n18.6.0\n2024-03\nCT#103\nCP-240040\n0741\n1\nF\nAccess Type of N1/N2 Information in Update SM Context Request\n18.6.0\n2024-03\nCT#103\nCP-240029\n0744\n1\nB\nNG-RAN initiated Connection Inactive Updates\n18.6.0\n2024-03\nCT#103\nCP-240032\n0745\n1\nF\nRejection cause if the number of UEs in the network slice has been exceeded\n18.6.0\n2024-03\nCT#103\nCP-240046\n0746\n1\nB\nSupport of sending Non-3GPP QoS Assistance Information from SMF to UE\n18.6.0\n2024-03\nCT#103\nCP-240034\n0747\nB\nUpdate EcnMarkingCongestionInfoReq to support UPF-L4S\n18.6.0\n2024-03\nCT#103\nCP-240034\n0748\nB\nInclude pduSetSupportInd in PDU Session Modification procedure\n18.6.0\n2024-03\nCT#103\nCP-240071\n0750\n1\nA\nN2 handover for the PDU Session is not accepted in SMF\n18.6.0\n2024-03\nCT#103\nCP-240042\n0751\n1\nB\nAlternative S-NSSAI in SM Context\n18.6.0\n2024-03\nCT#103\nCP-240042\n0752\nF\nNetwork Slice Replacement in roaming\n18.6.0\n2024-03\nCT#103\nCP-240053\n0753\n1\nF\nEXCEEDED_SLICE_DATA_RATE error for PDU session establishment with V/I-SMF\n18.6.0\n2024-03\nCT#103\nCP-240042\n0754\n1\nF\nNetwork slice replacement termination\n18.6.0\n2024-03\nCT#103\nCP-240031\n0755\n1\nF\nRemoval of VplmnOffloadingInfo for PDU session\n18.6.0\n2024-03\nCT#103\nCP-240056\n0756\nF\n29.502 Rel-18 API version and External doc update\n18.6.0\n2024-06\nCT#104\nCP-241042\n0758\n1\nF\nCorrection on PDU session release condition due to network slice replacement\n18.7.0\n2024-06\nCT#104\nCP-241042\n0759\n1\nF\nClarification on PDU session establishment when network slice replacement happens\n18.7.0\n2024-06\nCT#104\nCP-241049\n0762\n1\nF\nNsmf_PDUSession API features for XRM support\n18.7.0\n2024-06\nCT#104\nCP-241049\n0763\n2\nF\nProtocol Description for UL traffic\n18.7.0\n2024-06\nCT#104\nCP-241049\n0764\nF\nECN marking/Congestion Information Reporting Status during Xn and N2 handovers\n18.7.0\n2024-06\nCT#104\nCP-241028\n0765\nF\nFeatures supported by the Anchor SMF\n18.7.0\n2024-06\nCT#104\nCP-241042\n0766\n2\nB\nPDU session subject to area restriction for the S-NSSAI\n18.7.0\n2024-06\nCT#104\nCP-241050\n0767\n2\nF\nCorrection on Handover Failure Handling\n18.7.0\n2024-06\nCT#104\nCP-241050\n0768\n1\nF\nCorrection on Status Notification for Duplicate PDU Sessions\n18.7.0\n2024-06\nCT#104\nCP-241031\n0769\n2\nF\ndlAmbr for HR-SBO PDU session\n18.7.0\n2024-06\nCT#104\nCP-241031\n0770\n1\nF\nCorrection on the Removal of VplmnOffloadingInfo for PDU session\n18.7.0\n2024-06\nCT#104\nCP-241031\n0771\n1\nF\nTraffic influence information Correction\n18.7.0\n2024-06\nCT#104\nCP-241031\n0772\n1\nF\nUpdates on vEasdfSecurityInfo\n18.7.0\n2024-06\nCT#104\nCP-241050\n0773\nF\nCorrection on application errors of insufficient resource\n18.7.0\n2024-06\nCT#104\nCP-241050\n0774\n2\nF\nCorrection on SupportedFeatures\n18.7.0\n2024-06\nCT#104\nCP-241050\n0775\nF\nRelease the PDU Session when S-NSSAI is not supported via ReleaseSMContext\n18.7.0\n2024-06\nCT#104\nCP-241050\n0776\n1\nF\nInclusion of S-NSSAI for Serving PLMN for V-SMF insertion and inter PLMN change\n18.7.0\n2024-06\nCT#104\nCP-241050\n0777\n1\nF\nClarification on inter AMF change with a User Plane connection establishment\n18.7.0\n2024-06\nCT#104\nCP-241028\n0779\n1\nF\n504 Gateway Timeout in Update SM Context procedure\n18.7.0\n2024-06\nCT#104\nCP-241031\n0780\nB\nDNS Security Information of vEASDF/Local DNS Server/Resolver\n18.7.0\n2024-06\nCT#104\nCP-241031\n0781\nF\nService operations supported in HR-SBO\n18.7.0\n2024-06\nCT#104\nCP-241049\n0783\n2\nF\nCondition on Maximum Data Burst Volume\n18.7.0\n2024-06\nCT#104\nCP-241050\n0784\nF\nFeature negotiation correction\n18.7.0\n2024-06\nCT#104\nCP-241047\n0785\n1\nF\nURSP rule enforcement reports in roaming\n18.7.0\n2024-06\nCT#104\nCP-241052\n0786\nF\n29.502 Rel-18 API version and External doc update\n18.7.0\n2024-09\nCT#105\nCP-242053\n0794\n1\nF\nCorrection on RFC Clause Reference\n18.8.0\n2024-12\nCT#106\nCP-243022\n0798\n1\nF\nPDU Session Priority\n18.9.0\n2024-12\nCT#106\nCP-243029\n0805\nF\nRAN-triggered ECN Marking or Congestion Information Status change\n18.9.0\n2024-12\nCT#106\nCP-243022\n0819\n1\nF\nUpdate the Nsmf_PDUSession API to support UE level measurement trace\n18.9.0\n2024-12\nCT#106\nCP-243022\n0825\n2\nF\nMapped Slices Support for Non-Roaming Scenarios\n18.9.0\n2024-12\nCT#106\nCP-243068\n0829\nF\nAPI version and External doc update\n18.9.0\n2025-03\nCT#107\nCP-250023\n0839\n1\nF\nVPLMN QoS Constraints supporting Multiple 5QIs\n18.10.0\n2025-03\nCT#107\nCP-250136\n0854\nF\nAPI version and External doc update\n18.10.0",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.1.8",
        "ts_29.500_clause_6.10.3.4",
        "ts_29.500_clause_6.10.9.1",
        "clause_5.2.2.5.1",
        "ts_29.501_clause_5.3.1",
        "ts_29.501_clause_5",
        "ts_29.501_clause_4.4",
        "ts_29.512_clause_5.6.2.10",
        "clause_6.1.2.3",
        "clause_5.1",
        "clause_16.3.0",
        "table_16.4.0",
        "ts_29.500",
        "ts_29.501",
        "ts_21.900",
        "ts_29.502",
        "ts_29.512",
        "ts_29.571",
        "ts_15.1",
        "ts_15.2",
        "ts_29.524",
        "ts_16.6",
        "ts_17.3",
        "ts_18.4"
      ]
    }
  ]
}