{
  "metadata": {
    "specification_id": "ts_29.011",
    "version": "18.0.0",
    "title": "3GPP TS 29.011",
    "file_path": "/content/drive/MyDrive/RAG_thesis/data/29_series/29011-i00/29011-i00.docx"
  },
  "export_info": {
    "export_date": "2025-07-26T09:18:32.757265",
    "total_chunks": 55
  },
  "chunks": [
    {
      "chunk_id": "ts_29.011_1",
      "section_id": "1",
      "section_title": "Scope",
      "content": "The scope of this Technical Specification is to provide a detailed specification for interworking between the A interface protocol and the Mobile Application Part for handling of supplementary services. The MAP interfaces of interest are the B-, C-, D- and E-interfaces.\nThe A-, C-, D- and E-interfaces are physical interfaces while the B-interface is an internal interface defined for modelling purposes. Information relating to the modelling interface is not normative in this specification.\nSupplementary service signalling may be passed by the MSC/VLR between the A- and E-interfaces after inter-MSC handover. This procedure is transparent as far as supplementary services are concerned therefore interworking concerning this process is not described in this specification.\nClause 2 describes general procedures for interworking between the A- and D- physical interfaces.\nClause 3 describes the general procedures for the SS version negotiation.\nClause 4 describes the mapping of layer 3 radio path messages with Transaction Capabilities (TC) transaction sublayer messages for interworking between the A- and D- physical interfaces.\nClause 5 describes specific interworking procedures for all interfaces relating to call related SS activity.\nClause 6 describes specific interworking procedures for all interfaces relating to call independent SS activity. Clause 6 also covers the interworking between the MAP User (see 3GPP TS 29.002) and the SS handling functions of the network entities (see 3GPP TS 24.010 and 3GPP TS 24.080).\nReference is made to the following Technical Specifications:\n-\t3GPP TS 22.004 and 3GPP TS 22.08x and 3GPP TS 22.09x-series,\tfor definition of supplementary services;\n-\t3GPP TS 23.011, 3GPP TS 23.08x and 3GPP TS 23.09x-series,\tfor technical realisation of supplementary services;\n-\t3GPP TS 24.010, 3GPP TS 24.080, 3GPP TS 24.08x and 3GPP TS 24.09x-series,\tfor radio path signalling procedures for supplementary services;\n-\t3GPP TS 29.002 (MAP).",
      "chunk_type": "general",
      "cross_references": [
        "clause_2",
        "clause_3",
        "clause_4",
        "clause_5",
        "clause_6",
        "ts_29.002",
        "ts_24.010",
        "ts_24.080",
        "ts_22.004",
        "ts_22.08",
        "ts_22.09",
        "ts_23.011",
        "ts_23.08",
        "ts_23.09",
        "ts_24.08",
        "ts_24.09"
      ]
    },
    {
      "chunk_id": "ts_29.011_1.1",
      "section_id": "1.1",
      "section_title": "Normative references",
      "content": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non‑specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies.  In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t3GPP TS 22.004: \"General on supplementary services\".\n[3]\t3GPP TS 22.024: \"Description of Charge Advice Information (CAI)\".\n[4]\t3GPP TS 22.082: \"Call Forwarding (CF) supplementary services - Stage 1\".\n[5]\t3GPP TS 22.086: \"Advice of Charge (AoC) supplementary services - Stage 1\".\n[6]\t3GPP TS 22.093: \"Completion of Calls to Busy Subscriber - Stage 1\".\n[7]\t3GPP TS 23.011: \"Technical realization of supplementary services\".\n[8]\t3GPP TS 23.086: \"Advice of Charge (AoC) supplementary services - Stage 2\".\n[9]\t3GPP TS 23.093: \"Completion of Calls to Busy Subscriber - Stage 2\".\n[10]\t3GPP TS 24.008: \"Mobile radio interface layer 3 specification\".\n[11]\t3GPP TS 24.010: \"Mobile radio interface layer 3  Supplementary services specification  General aspects\".\n[12]\t3GPP TS 24.072: \"Call Deflection supplementary service - Stage 3\".\n[13]\t3GPP TS 24.080: \"Mobile radio interface layer 3 supplementary services specification  Formats and coding\".\n[14]\t3GPP TS 24.081: \"Line identification supplementary services - Stage 3\".\n[15]\t3GPP TS 24.082: \"Call Forwarding (CF) supplementary services - Stage 3\".\n[16]\t3GPP TS 24.083: \"Call Waiting (CW) and Call Hold (HOLD) supplementary services - Stage 3\".\n[17]\t3GPP TS 24.084: \"Multi Party (MPTY) supplementary services - Stage 3\".\n[18]\t3GPP TS 24.085: \"Closed User Group (CUG) supplementary services - Stage 3\".\n[19]\t3GPP TS 24.086: \"Advice of Charge (AoC) supplementary services - Stage 3\".\n[20]\t3GPP TS 24.088: \"Call Barring (CB) supplementary services - Stage 3\".\n[21]\t3GPP TS 24.090: \"Unstructured supplementary services operation - Stage 3\".\n[22]\t3GPP TS 24.091: \"Explicit Call Transfer (ECT) supplementary services - Stage 3\".\n[23]\t3GPP TS 24.093: \"Completion of Calls to Busy Subscriber - Stage 3\".\n[24]\t3GPP TS 29.002: \"Mobile Application Part (MAP) specification\".\n[25]\t3GPP TS 29.010: \"Information element mapping between Mobile Station - Base Station System and BSS ‑ Mobile-services Switching Centre (MS - BSS - MSC)  Signalling procedures and the Mobile Application Part (MAP)\".\n[26]\t3GPP TS 23.088: \"Call Barring (CB) Supplementary Service; Stage 2\".",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905",
        "ts_22.004",
        "ts_22.024",
        "ts_22.082",
        "ts_22.086",
        "ts_22.093",
        "ts_23.011",
        "ts_23.086",
        "ts_23.093",
        "ts_24.008",
        "ts_24.010",
        "ts_24.072",
        "ts_24.080",
        "ts_24.081",
        "ts_24.082",
        "ts_24.083",
        "ts_24.084",
        "ts_24.085",
        "ts_24.086",
        "ts_24.088",
        "ts_24.090",
        "ts_24.091",
        "ts_24.093",
        "ts_29.002",
        "ts_29.010",
        "ts_23.088"
      ]
    },
    {
      "chunk_id": "ts_29.011_1.2",
      "section_id": "1.2",
      "section_title": "Definitions and abbreviations",
      "content": "Abbreviations used in this specification are listed in 3GPP TR 21.905.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_21.905"
      ]
    },
    {
      "chunk_id": "ts_29.011_2",
      "section_id": "2",
      "section_title": "Introduction",
      "content": "This clause describes general procedure at the MSC/VLR for SS interworking between the A- and D-interfaces.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.011_2.1",
      "section_id": "2.1",
      "section_title": "MSC/VLR procedures for handling supplementary service signalling received over the A-interface",
      "content": "Upon receipt of supplementary service signalling on the A-interface, the MSC/VLR shall:\n-\tperform any internal SS checks or procedures appropriate to the signal (see clauses 4 and 5);\n-\tif necessary request access to the HLR over the D-interface using the procedures defined in this specification and MAP, 3GPP TS 29.002;\n-\tuse the version indicator received from the MS to set up the right AC context name towards the HLR (see clause 3). The version indicator is described in 3GPP TS 24.010 and 3GPP TS 24.080. AC names are defined in 3GPP TS 29.002;\n-\tperform mapping between layer 3 messages on the radio path and TC transaction sublayer messages as required (see clause 3).",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_3",
        "ts_29.002",
        "ts_24.010",
        "ts_24.080"
      ]
    },
    {
      "chunk_id": "ts_29.011_2.2",
      "section_id": "2.2",
      "section_title": "MSC/VLR procedures for handling supplementary service signalling received over the D-interface",
      "content": "Upon receipt of supplementary service signalling on the D-interface, the MSC/VLR shall:\n-\tperform any internal SS checks or procedures appropriate to the signal (see clauses 4 and 5);\n-\thandle any information elements according to the screening indicator procedure as described in 3GPP TS 24.010;\n-\tperform mapping between TC transaction sublayer messages and layer 3 messages on the radio path as required (see clause 3).",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_3",
        "ts_24.010"
      ]
    },
    {
      "chunk_id": "ts_29.011_3",
      "section_id": "3",
      "section_title": "SS version negotiation",
      "content": "This clause describes the general procedures for the call related and call independent supplementary services version negotiation.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.011_3.1",
      "section_id": "3.1",
      "section_title": "Call related supplementary services interworking",
      "content": "No interworking identified.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.011_3.2",
      "section_id": "3.2",
      "section_title": "Call independent supplementary services interworking",
      "content": "On receipt of the REGISTER message from the MS, the MSC/VLR will include the appropriate AC name in the dialogue control portion of the BEGIN message based on the following rules:\n-\tif no version indicator is present, no AC name is included in the BEGIN message towards the HLR (no AC name indicates \"version1\");\n-\tif the version indicator is less or equal to the highest AC name the MSC/VLR and HLR both support, the \"dialogue\" will be handled according to the AC name corresponding to the version indicator and to the SS operation received;\n-\tif the version indicator is greater than the highest commonly supported AC name within the network (MSC/VLR, HLR), the \"dialogue\" will be handled according to this highest AC name if the request from the MS can also be fulfilled with this version of the \"dialogue\".\nThe selection of the highest commonly supported AC name by the network is described in 3GPP TS 29.002.\nIt should be noted that unknown parameters of the extension field within the Facility Information Element shall be forwarded to a phase 2 HLR according to the Extensibility rules as defined in 3GPP TS 29.002. They may be discarded when sent to a phase 1 HLR.\nAccording to this version of the standards, the highest AC name is \"version3\".\nThe description method employed in the clauses 4 to 6 is tabled showing the mapping of parameter values. The exact values of the parameters and parameter tags can be found in the referenced specifications.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.011_4",
      "section_id": "4",
      "section_title": "Mapping between TC transaction sublayer messages and layer 3 radio path messages",
      "content": "This clause describes the mapping of TC transaction sublayer messages to layer 3 radio path messages over the external interfaces. The precise coding of these messages is given in other technical specifications.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.011_4.1",
      "section_id": "4.1",
      "section_title": "D-interface to A-interface mapping",
      "content": "Table 4.1 shows the mapping of TC transaction sublayer messages to layer 3 messages on the radio path.\nTable 4.1: Mapping of TC transaction sublayer messages to layer 3 radio path messages\nTC transaction sublayer message\nLayer 3 radio path message\nBEGIN\nREGISTER (note 1)\nCONTINUE (note 2)\nFACILITY/REGISTER (note 3)\nEND (note 2)\nRELEASE COMPLETE/REGISTER (note 3)\nABORT (note 2)\nRELEASE COMPLETE\nNOTE 1:\tAC name is not mapped to a version indicator.\nNOTE 2:\tThe user information field if present is discarded.\nNOTE 3:\tA CONTINUE or END is mapped to REGISTER if a new transaction has to be established.",
      "chunk_type": "general",
      "cross_references": [
        "table_4.1"
      ]
    },
    {
      "chunk_id": "ts_29.011_4.2",
      "section_id": "4.2",
      "section_title": "A-interface to D-interface mapping",
      "content": "Table 4.2 shows the mapping of layer 3 radio path messages to TC transaction sublayer messages.\nTable 4.2: Mapping of layer 3 radio path messages to TC transaction sublayer messages\nLayer 3 radio path message\nTC transaction sublayer message\nREGISTER\nBEGIN (note)\nFACILITY\nCONTINUE\nRELEASE COMPLETE\nEND\nNOTE:\tThe right AC name shall be included, see clause 3.",
      "chunk_type": "general",
      "cross_references": [
        "clause_3",
        "table_4.2"
      ]
    },
    {
      "chunk_id": "ts_29.011_4.3",
      "section_id": "4.3",
      "section_title": "Procedures",
      "content": "The mapping from TC Transaction Sublayer messages to Layer 3 radio path messages must include a replacement of the tag and length of the Component Portion in the Transaction Sublayer message with the Information element identifier and length of the Facility Information Element for the Layer 3 message. Similarly for the reverse mapping. However, if a version indicator is received an AC name will be provided in the BEGIN message, see clause 3.\nAll transaction sublayer messages, except the ABORT message, will normally contain one or more components. If components are included, the conversion algorithm described below applies. If a message does not contain a component, then the corresponding message is also sent without a component: messages shall not be withheld by the interworking function.\nFor call independent SS operations each message shall only contain a single component. If a message contains more than one component then a RELEASE COMPLETE message with the cause \"Facility rejected\" (see 3GPP TS 24.008) and without any component shall be sent on the radio path (see 3GPP TS 24.010).\nTC Transaction sublayer messages can also contain a dialogue portion. If a user-information is received within this dialogue portion, it will not be conveyed in a Layer 3 radio path message.\nIf an ABORT message is received in TC, a RELEASE COMPLETE message is to be sent on the radio path. The RELEASE COMPLETE message shall not contain any component. If a cause is to be provided to the MS, one of the cause codes of 3GPP TS 24.008 shall be used.\nIf an ABORT message with a dialogue portion indicating \"version fallback\" (e.g. the cause \"AC-not-supported\") is received in TC then, if the MSC does not re-attempt the \"dialogue\" (e.g. by using a different AC name), it shall send a RELEASE COMPLETE to the MS with the cause \"Facility rejected\" (see 3GPP TS 24.008) and without any component.\nIf an END message with a dialogue portion indicating \"dialogue refused\" is received in TC then the MSC shall send a RELEASE COMPLETE to the MS with the cause \"Facility rejected\" (see 3GPP TS 24.008) and without any component.\nIf a layer 3 radio path message or a component in the layer 3 radio path message is rejected by the MSC, the MSC shall:\n-\treturn a RELEASE COMPLETE message to the MS. If the reject condition is not associated with a component, one of the cause codes of 3GPP TS 24.008 shall be inserted, as described below. If it is a component (except a REJECT component), a REJECT component with the appropriate problem code shall be inserted in the RELEASE COMPLETE message, as described below. If the reject condition concerns a REJECT component the RELEASE COMPLETE message may be empty;\n-\tterminate the transaction with the VLR by use of an ABORT message.\nIf a dialogue cannot be established with the HLR because no common AC name is available then the MSC shall send a RELEASE COMPLETE to the MS with the cause \"Facility rejected\".",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_3",
        "ts_24.008",
        "ts_24.010"
      ]
    },
    {
      "chunk_id": "ts_29.011_5.1",
      "section_id": "5.1",
      "section_title": "SS management in connection establishment phase",
      "content": "When a CM connection is being set up between an MS and an MSC, setting up of a connection between the MSC and the VLR to request access proceeds as for normal call set-up (see 3GPP TS 29.002). Moreover, the MSC will also assess the capabilities of the MS according to the screening indicator (see 3GPP TS 24.010 and 3GPP TS 24.080). As the call set-up proceeds, the following supplementary services may apply:",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.002",
        "ts_24.010",
        "ts_24.080"
      ]
    },
    {
      "chunk_id": "ts_29.011_5.1.1",
      "section_id": "5.1.1",
      "section_title": "Line Identification services",
      "content": "These supplementary services (described in 3GPP TS 24.081) require interworking in the MSC between both 3GPP TS 24.008, MAP (3GPP TS 29.002) and the fixed network protocol, see also 3GPP TS 29.010.",
      "chunk_type": "general",
      "cross_references": [
        "ts_24.081",
        "ts_24.008",
        "ts_29.002",
        "ts_29.010"
      ]
    },
    {
      "chunk_id": "ts_29.011_5.1.1.1",
      "section_id": "5.1.1.1",
      "section_title": "Calling Line Identification Presentation (CLIP)",
      "content": "The signalling at invocation of the CLIP supplementary service is shown in figure 5.1.\nMS           MSC                                        VLR+-+           +-+                                        +-+¦ ¦           ¦ ¦                                        ¦ ¦¦ ¦           ¦ ¦SEND INFORMATION FOR INCOMING CALL SETUP¦ ¦¦ ¦           ¦ ¦--------------------------------------->¦ ¦¦ ¦           ¦ ¦                                        ¦ ¦¦ ¦           ¦ ¦            COMPLETE CALL               ¦ ¦¦ ¦   SETUP   ¦ ¦<---------------------------------------¦ ¦¦ ¦<----------¦ ¦                                        ¦ ¦¦ ¦           ¦ ¦                                        ¦ ¦\nFigure 5.1: Signalling for CLIP supplementary service\nWhen a call terminates at a mobile subscriber, the MSC obtains information on what supplementary services are active by analysing the SS-Data parameter in the MAP_COMPLETE_CALL service primitive on the B-interface. If this parameter indicates that the CLIP service is provided (and CLIR is not indicated in the incoming call set-up message from the PSTN), then the number of the calling subscriber (if received in the incoming call set-up) shall be mapped onto the Calling Party BCD number parameter in the SETUP message sent to the mobile. Exact values of the parameter and parameter tags are indicated in 3GPP TS 24.080 and 3GPP TS 24.081.",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.1",
        "ts_24.080",
        "ts_24.081"
      ]
    },
    {
      "chunk_id": "ts_29.011_5.1.1.2",
      "section_id": "5.1.1.2",
      "section_title": "Calling Line Identification Restriction (CLIR)",
      "content": "The signalling at invocation of the CLIR supplementary service is shown in figure 5.2.\nMS           MSC                                        VLR+-+           +-+                                        +-+¦ ¦           ¦ ¦                                        ¦ ¦¦ ¦   SETUP   ¦ ¦SEND INFORMATION FOR OUTGOING CALL SETUP¦ ¦¦ ¦---------->¦ ¦--------------------------------------->¦ ¦¦ ¦           ¦ ¦                                        ¦ ¦¦ ¦           ¦ ¦           COMPLETE CALL                ¦ ¦¦ ¦           ¦ ¦<---------------------------------------¦ ¦¦ ¦           ¦ ¦                                        ¦ ¦\nFigure 5.2: Signalling for CLIR supplementary service\nWhen a call originates at a mobile subscriber, the MSC obtains information on what supplementary services are active by analysing the SS-Data parameter in the MAP_COMPLETE_CALL service primitive on the B-interface. If this parameter indicates that the CLIR service is provided and if the CLIR service shall be invoked (according to the presentation mode and possible subscriber request), then this information is indicated in the initial address message sent using the fixed network protocol (if possible).\nIf this parameter indicates that the CLIR service is not provided and the calling subscriber has attempted to invoke CLIR, then the call set-up shall be rejected as defined in 3GPP TS 24.081.",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.2",
        "ts_24.081"
      ]
    },
    {
      "chunk_id": "ts_29.011_5.1.1.3",
      "section_id": "5.1.1.3",
      "section_title": "Connected Line Identification Presentation (COLP)",
      "content": "The signalling at invocation of the COLP supplementary service is shown in figure 5.3.\nMS          MSC                                        VLR+-+          +-+                                        +-+¦ ¦          ¦ ¦                                        ¦ ¦¦ ¦  SETUP   ¦ ¦SEND INFORMATION FOR OUTGOING CALL SETUP¦ ¦¦ ¦--------->¦ ¦--------------------------------------->¦ ¦¦ ¦          ¦ ¦                                        ¦ ¦¦ ¦          ¦ ¦             COMPLETE CALL              ¦ ¦¦ ¦ CONNECT  ¦ ¦<---------------------------------------¦ ¦¦ ¦<---------¦ ¦                                        ¦ ¦¦ ¦          ¦ ¦                                        ¦ ¦\nFigure 5.3: Signalling for COLP supplementary service\nWhen a call originates at a mobile subscriber, the MSC obtains information on what supplementary services are active by analysing the SS-Data parameter in the MAP_COMPLETE_CALL service primitive on the B-interface. If this parameter indicates that the COLP service is provided, then if the connected line identity is made available by the terminating network (i.e. no interworking or presentation restrictions apply) then the connected number is passed to the calling mobile subscriber in the ConnectedNumber parameter in the CONNECT message.",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.3"
      ]
    },
    {
      "chunk_id": "ts_29.011_5.1.1.4",
      "section_id": "5.1.1.4",
      "section_title": "Connected Line Identification Restriction (COLR)",
      "content": "The signalling at invocation of the COLR supplementary service is shown in figure 5.4.\nMS           MSC                                        VLR+-+           +-+                                        +-+¦ ¦           ¦ ¦                                        ¦ ¦¦ ¦           ¦ ¦SEND INFORMATION FOR INCOMING CALL SETUP¦ ¦¦ ¦           ¦ ¦--------------------------------------->¦ ¦¦ ¦           ¦ ¦                                        ¦ ¦¦ ¦           ¦ ¦            COMPLETE CALL               ¦ ¦¦ ¦   SETUP   ¦ ¦<---------------------------------------¦ ¦¦ ¦<----------¦ ¦                                        ¦ ¦¦ ¦           ¦ ¦                                        ¦ ¦\nFigure 5.4: Signalling for COLR supplementary service\nWhen a call terminates at a mobile subscriber, the MSC obtains information on what supplementary services are active by analysing the SS-Data parameter in the MAP_COMPLETE_CALL service primitive on the B-interface. If this parameter indicates that the COLR service is provided, then this information is sent to the originating network using the fixed network protocol (if possible).",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.4"
      ]
    },
    {
      "chunk_id": "ts_29.011_5.1.2.1",
      "section_id": "5.1.2.1",
      "section_title": "Notification to served mobile subscriber",
      "content": "As described in 3GPP TS 22.082, when a subscriber has any (set of) Call Forwarding service(s) active, a notification of this fact is sent to the MS at mobile originated call set-up from the served mobile subscriber. The signalling for this notification is shown in figure 5.5.\nMS           MSC                                        VLR+-+           +-+                                        +-+¦ ¦  SETUP    ¦ ¦                                        ¦ ¦¦ ¦---------->¦ ¦SEND INFORMATION FOR OUTGOING CALL SETUP¦ ¦¦ ¦           ¦ ¦--------------------------------------->¦ ¦¦ ¦ ALERTING/ ¦ ¦                                        ¦ ¦¦ ¦ CONNECT/  ¦ ¦            COMPLETE CALL               ¦ ¦¦ ¦ FACILITY  ¦ ¦<---------------------------------------¦ ¦¦ ¦<----------¦ ¦                                        ¦ ¦¦ ¦           ¦ ¦                                        ¦ ¦\nFigure 5.5: Signalling for notification of invocation of Call Forwarding supplementary service\nThe MSC obtains information on what supplementary services are active by analysing the SS-Data parameter in the MAP_COMPLETE_CALL service primitive on the B-interface. If this parameter indicates that a call forwarding service is active, then any of the ALERTING, CONNECT or FACILITY messages may be used to convey the required NotifySS operation in a Facility information element. Exact values of the parameter and parameter tags are indicated in 3GPP TS 24.080 and 3GPP TS 24.082.",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.5",
        "ts_22.082",
        "ts_24.080",
        "ts_24.082"
      ]
    },
    {
      "chunk_id": "ts_29.011_5.1.3.1",
      "section_id": "5.1.3.1",
      "section_title": "Offering a waiting call",
      "content": "The signalling for this situation is shown in figure 5.6.\nMS           MSC                                        VLR+-+           +-+                                        +-+¦ ¦           ¦ ¦                                        ¦ ¦¦ ¦           ¦ ¦SEND INFORMATION FOR INCOMING CALL SETUP¦ ¦¦ ¦           ¦ ¦--------------------------------------->¦ ¦¦ ¦           ¦ ¦                                        ¦ ¦¦ ¦           ¦ ¦            PROCESS CW                  ¦ ¦¦ ¦   SETUP   ¦ ¦<---------------------------------------¦ ¦¦ ¦<----------¦ ¦                                        ¦ ¦¦ ¦           ¦ ¦                                        ¦ ¦\nFigure 5.6: Signalling for setting up a waiting call\nA waiting call is offered to a busy MS using a normal SETUP message including a \"Signal\" information element with value #7 (call waiting tone on), as described in 3GPP TS 24.083. This is the required MSC behaviour if it has received a MAP_PROCESS_CALL_WAITING service primitive as a response to a MAP_SEND_INFO_FOR_INCOMING_CALL service primitive on the B-interface. Exact values of the parameter and parameter tag are indicated in 3GPP TS 24.008.",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.6",
        "ts_24.083",
        "ts_24.008"
      ]
    },
    {
      "chunk_id": "ts_29.011_5.1.3.2",
      "section_id": "5.1.3.2",
      "section_title": "Notification of waiting call to calling subscriber",
      "content": "The signalling for this notification is shown in figure 5.7.\nMS                    MSC+-+                    +-+¦ ¦                    ¦ ¦¦ ¦      ALERTING      ¦ ¦¦ ¦<-------------------¦ ¦¦ ¦                    ¦ ¦\nFigure 5.7: Signalling for notification of waiting call to calling subscriber\nIf there are no network interworking limitations between the originating and destination MSCs, then the calling MS receives notification of his waiting call as follows: A Facility Information element in the ALERTING message includes a NotifySS operation with the following parameters:\n-\tSS-Code parameter indicates \"callWaiting\";\n-\tCallIsWaitingIndicator parameter indicates \"callIsWaiting\".\nExact values of the parameter and parameter tags are indicated in 3GPP TS 24.080 and 3GPP TS 24.083.",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.7",
        "ts_24.080",
        "ts_24.083"
      ]
    },
    {
      "chunk_id": "ts_29.011_5.1.4.1",
      "section_id": "5.1.4.1",
      "section_title": "Explicit invocation of a CUG call",
      "content": "The signalling for this situation is shown in figure 5.8.\nMS           MSC                                        VLR+-+           +-+                                        +-+¦ ¦           ¦ ¦                                        ¦ ¦¦ ¦   SETUP   ¦ ¦SEND INFORMATION FOR OUTGOING CALL SETUP¦ ¦¦ ¦---------->¦ ¦--------------------------------------->¦ ¦¦ ¦           ¦ ¦                                        ¦ ¦\nFigure 5.8: Signalling at explicit invocation of a CUG call\nWhen a subscriber to the CUG supplementary service sets up a call, an explicit invocation involves transport of a ForwardCUG-Info operation in a Facility information element in the SETUP message. Parameter mapping between the air-interface SETUP message and the B-interface MAP_SEND_INFO_FOR_OUTGOING_CALL service primitive shall take place in the MSC. Exact values of the parameter and parameter tags are indicated in 3GPP TS 24.080 and 3GPP TS 24.085. The parameter tags and values are mapped as follows:\nTable 5.1: Mapping of parameter names and values for explicit invocation of a CUG call\n3GPP TS 24.080 parameter name\n3GPP TS 29.002 parameter name\ncug-Index\ncug-Index\nsuppressPrefCUG\nsuppressPrefCUG\nsuppressOA\nsuppressOutgoingAccess",
      "chunk_type": "general",
      "cross_references": [
        "table_5.1",
        "figure_5.8",
        "ts_24.080",
        "ts_24.085",
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.011_5.1.4.2",
      "section_id": "5.1.4.2",
      "section_title": "Notification of CUG invocation to served MS",
      "content": "The signalling for this situation is shown in figure 5.9.\nMS                MSC                                        VLR+-+                +-+                                        +-+¦ ¦                ¦ ¦                                        ¦ ¦¦ ¦                ¦ ¦SEND INFORMATION FOR INCOMING CALL SETUP¦ ¦¦ ¦                ¦ ¦--------------------------------------->¦ ¦¦ ¦                ¦ ¦                                        ¦ ¦¦ ¦CALL PROCEEDING/¦ ¦             COMPLETE CALL              ¦ ¦¦ ¦    FACILITY    ¦ ¦<---------------------------------------¦ ¦¦ ¦<---------------¦ ¦                                        ¦ ¦¦ ¦                ¦ ¦                                        ¦ ¦\nFigure 5.9: Signalling flow for notification of CUG invocation to served MS\nThe network may indicate to the MS that a CUG has been invoked for the outgoing call by sending a NotifySS operation in the Facility information element in the FACILITY or CALL PROCEEDING message towards MSa. The parameter to be included in this operation (cug-Index) is obtained from the MAP_COMPLETE_CALL service primitive. Exact values of the parameter and parameter tags are indicated in 3GPP TS 24.080 and 3GPP TS 24.085.",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.9",
        "ts_24.080",
        "ts_24.085"
      ]
    },
    {
      "chunk_id": "ts_29.011_5.1.4.3",
      "section_id": "5.1.4.3",
      "section_title": "Notification of rejection of CUG invocation to served MS",
      "content": "The signalling for this situation is shown in figure 5.10.\nMS                MSC                                              VLR+-+                +-+                                              +-+¦ ¦      SETUP     ¦ ¦   SEND INFORMATION FOR OUTGOING CALL SETUP   ¦ ¦¦ ¦--------------->¦ ¦--------------------------------------------->¦ ¦¦ ¦                ¦ ¦                                              ¦ ¦¦ ¦                ¦ ¦SEND INFORMATION FOR OUTGOING CALL SETUP ERROR¦ ¦¦ ¦                ¦ ¦<---------------------------------------------¦ ¦¦ ¦  DISCONNECT/   ¦ ¦                                              ¦ ¦¦ ¦   RELEASE/     ¦ ¦                                              ¦ ¦¦ ¦RELEASE COMPLETE¦ ¦                                              ¦ ¦¦ ¦<---------------¦ ¦                                              ¦ ¦¦ ¦                ¦ ¦                                              ¦ ¦\nFigure 5.10: Signalling flow for notification of rejection of CUG invocation to served MS\nWhen an attempted CUG call is rejected for CUG related reasons, mapping of parameter values take places in order to inform the MSa of the failure in the DISCONNECT, RELEASE or RELEASE COMPLETE message. If the call is rejected by the serving VLR, a mapping of errors received on the B-interface (as response to MAP_SEND_INFO_FOR_OUTGOING_CALL) to diagnostics (in the diagnostics field of the Facility Rejected cause value) must be performed. The mapping from error code to diagnostic is as follows (detailed values of tags, cause values and diagnostics are found in 3GPP TS 29.002, 3GPP TS 24.008, and 3GPP TS 24.080 respectively):\nTable 5.2: Mapping of 3GPP TS 29.002 error causes to diagnostics at notification of rejection of CUG invocation to served MS\n3GPP TS 29.002 error cause\nFacility rejected #29 diagnostic field\noutgoingCallsBarredWithinCUG\nOutgoing calls barred within the CUG\nnoCUG-Selected\nNo CUG selected\nunknownCUG-Index\nUnknown CUG index\nindexIncompatibleWith RequestedBasicService\nIndex incompatible with requested basic service\nIf there are no network interworking restrictions (i.e. originating MSC = gateway MSC = terminating MSC), interworking between MAP and the air-interface takes place also for rejection of CUG calls by terminating end. The signalling for this situation is shown in figure 5.11.\nMSa                MSC                    HLR+-+                +-+                     +-+¦ ¦                ¦ ¦                     ¦ ¦¦ ¦                ¦ ¦ SEND_ROUTING_INFO/  ¦ ¦¦ ¦                ¦ ¦SEND_ROUTING_INFO_SMS¦ ¦¦ ¦                ¦ ¦      (for MSb)      ¦ ¦¦ ¦                ¦ ¦-------------------->¦ ¦¦ ¦  DISCONNECT/   ¦ ¦                     ¦ ¦¦ ¦    RELEASE/    ¦ ¦                     ¦ ¦¦ ¦RELEASE COMPLETE¦ ¦  SEND_ROUTING_INFO  ¦ ¦¦ ¦<---------------¦ ¦<--------------------¦ ¦¦ ¦                ¦ ¦                     ¦ ¦\nFigure 5.11: Signalling flow for notification of rejection of CUG invocation from terminating end\nThe mapping from error code to diagnostic is as follows (detailed values of tags, cause values and diagnostics are found in 3GPP TS 29.002, 3GPP TS 24.008, and 3GPP TS 24.080 respectively):\nTable 5.3: Mapping of 3GPP TS 29.002 error causes to cause values at notification of rejection by terminating end\n3GPP TS 29.002 error cause\nCause information element (cause value)\ncalledPartySSInteractionViolation\nFacility Rejected #29,     Diagnostic = CUG call failure,     unspecified\nincomingCallsBarredWithinCUG\nIncoming calls barred within the CUG #55\nsubscriberNotMemberOfCUG\nUser not a member of CUG #87\nrequestedBasicServiceViolatesCUG-Constraints\nFacility Rejected #29",
      "chunk_type": "general",
      "cross_references": [
        "ts_24.008_table_5.2",
        "ts_24.008_table_5.3",
        "figure_5.10",
        "figure_5.11",
        "ts_29.002",
        "ts_24.008",
        "ts_24.080"
      ]
    },
    {
      "chunk_id": "ts_29.011_5.1.4.4",
      "section_id": "5.1.4.4",
      "section_title": "Notification of CUG invocation to terminating MS",
      "content": "The signalling for this situation is shown in figure 5.12.\nMS         MSC                                           VLR+-+       +-+                                            +-+¦ ¦       ¦ ¦                                            ¦ ¦¦ ¦       ¦ ¦  SEND INFORMATION FOR INCOMING CALL SETUP  ¦ ¦¦ ¦       ¦ ¦------------------------------------------->¦ ¦¦ ¦       ¦ ¦                                            ¦ ¦¦ ¦       ¦ ¦    COMPLETE CALL/ PROCESS CALL WAITING     ¦ ¦¦ ¦       ¦ ¦<-------------------------------------------¦ ¦¦ ¦ SETUP ¦ ¦                                            ¦ ¦¦ ¦<------¦ ¦                                            ¦ ¦¦ ¦       ¦ ¦                                            ¦ ¦\nFigure 5.12: Signalling flow for notification of CUG invocation to terminating end\nWhen a CUG call arrives at the terminating end, the CUG index associated with the invoked CUG may be passed to the mobile station. The cug-Index parameter is obtained from the fixed network connection establishment request message, or if no fixed network protocol is involved (i.e. originating = terminating MSC), it is obtained from the MAP_COMPLETE_CALL or MAP_PROCESS_CALL_WAITING service primitive. Its value is mapped onto the cug-Index parameter in the NotifySS operation in the Facility Information element of the SETUP message on the air-interface. Exact values of the parameter and parameter tags are indicated in 3GPP TS 24.080 and 3GPP TS 24.085.",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.12",
        "ts_24.080",
        "ts_24.085"
      ]
    },
    {
      "chunk_id": "ts_29.011_5.1.5.1",
      "section_id": "5.1.5.1",
      "section_title": "Notification of Charging information to served MS, mobile originated call",
      "content": "The signalling for this situation is shown in figure 5.13.\nMSa         MSC               VLR+-+          +-+               +-+¦ ¦          ¦ ¦               ¦ ¦¦ ¦          ¦ ¦ COMPLETE CALL ¦ ¦¦ ¦          ¦ ¦<--------------¦ ¦¦ ¦ CONNECT/ ¦ ¦               ¦ ¦¦ ¦ FACILITY ¦ ¦               ¦ ¦¦ ¦<---------¦ ¦               ¦ ¦¦ ¦          ¦ ¦               ¦ ¦\nFigure 5.13: Signalling flow for notification of Mobile originated Charging Information to served MS\nThe network may indicate charging information to the MS at mobile originated call set-up. The MSC knows charging information is applicable due to the inclusion of an SS-Code indicating Advice Of Charge Charging or Advice Of Charge Information in the MAP_COMPLETE_CALL service indication from the VLR. This parameter's value is mapped onto the SS-Code parameter in the ForwardChargeAdvice operation which is to be sent to the MS together with the relevant charging parameters. The ForwardChargeAdvice operation shall be sent in the facility information element of either the CONNECT or the FACILITY message. Exact values of the parameter and parameter tags are indicated in 3GPP TS 24.080 and 3GPP TS 24.085.",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.13",
        "ts_24.080",
        "ts_24.085"
      ]
    },
    {
      "chunk_id": "ts_29.011_5.1.5.2",
      "section_id": "5.1.5.2",
      "section_title": "Notification of Charging information to served MS, mobile terminated call",
      "content": "The signalling for this situation is shown in figure 5.14.\nMSb         MSC                VLR+-+          +-+               +-+¦ ¦          ¦ ¦               ¦ ¦¦ ¦          ¦ ¦ COMPLETE CALL ¦ ¦¦ ¦          ¦ ¦<--------------¦ ¦¦ ¦ FACILITY ¦ ¦               ¦ ¦¦ ¦<---------¦ ¦               ¦ ¦¦ ¦          ¦ ¦               ¦ ¦\nFigure 5.14: Signalling flow for notification of Mobile terminated Charging Information to served MS\nThe network may indicate charging information to the MS at mobile terminated call set-up. The MSC knows charging information is applicable due to the inclusion of an SS-Code indicating Advice Of Charge Charging or Advice of Charge Information in the SS-Data parameter included in the MAP_COMPLETE_CALL service indication from the VLR. This parameter's value is mapped onto the SS-Code parameter in the ForwardChargeAdvice operation which is to be sent to the MS together with the relevant charging parameters. The ForwardChargeAdvice operation shall be sent in the facility information element of the FACILITY message. Exact values of the parameter and parameter tags are indicated in 3GPP TS 24.080 and 3GPP TS 24.085.",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.14",
        "ts_24.080",
        "ts_24.085"
      ]
    },
    {
      "chunk_id": "ts_29.011_5.1.6",
      "section_id": "5.1.6",
      "section_title": "Call Barring services",
      "content": "These supplementary services (described in 3GPP TS 24.088) require the following interworking in the MSC:",
      "chunk_type": "general",
      "cross_references": [
        "ts_24.088"
      ]
    },
    {
      "chunk_id": "ts_29.011_5.1.6.1",
      "section_id": "5.1.6.1",
      "section_title": "Barring of outgoing calls",
      "content": "The signalling for this situation is shown in figure 5.15.\nMS          MSC                                                 VLR+-+          +-+                                                 +-+¦ ¦          ¦ ¦   SEND INFORMATION FOR OUTGOING CALL SETUP/     ¦ ¦¦ ¦          ¦ ¦   SEND INFORMATION FOR MOBILE ORIGINATED SMS    ¦ ¦¦ ¦          ¦ ¦------------------------------------------------>¦ ¦¦ ¦          ¦ ¦                                                 ¦ ¦¦ ¦          ¦ ¦  SEND INFORMATION FOR OUTGOING CALL SETUP ERROR/¦ ¦¦ ¦          ¦ ¦SEND INFORMATION FOR MOBILE ORIGINATED SMS ERROR/¦ ¦¦ ¦ RELEASE  ¦ ¦                  ERROR                          ¦ ¦¦ ¦ COMPLETE ¦ ¦<------------------------------------------------¦ ¦¦ ¦<---------¦ ¦                                                 ¦ ¦¦ ¦          ¦ ¦                                                 ¦ ¦\nFigure 5.15: Signalling flow for barring of an outgoing call\nIf the error code \"CallBarred\" is received as a response to the MAP_SEND_INFO_FOR_OUTGOING_CALL or MAP_SEND_INFO_FOR_MO_SMS service primitives on the B-interface, then a RELEASE COMPLETE message with a NotifySS operation shall be sent to the originating MS, as described in 3GPP TS 24.088. The mapping of 3GPP TS 29.002 callBarringCause to 3GPP TS 24.008 cause values is shown in table 5.4. Exact values of the parameter and parameter tags are indicated in 3GPP TS 24.080, 3GPP TS 24.088 and 3GPP TS 24.008.\nTable 5.4: Mapping of 3GPP TS 29.002 callBarringCause to 3GPP TS 24.008 cause values at barring of outgoing call\n3GPP TS 29.002 callBarringCause\n3GPP TS 24.008 Cause value\nbarringServiceActive\n#31: Normal Unspecified\noperatorBarring\n#8: Operator Determined Barring\n(None)\n#21: Call Rejected",
      "chunk_type": "general",
      "cross_references": [
        "table_5.4",
        "ts_24.080_table_5.4",
        "figure_5.15",
        "ts_24.088",
        "ts_29.002",
        "ts_24.008",
        "ts_24.080"
      ]
    },
    {
      "chunk_id": "ts_29.011_5.1.6.2",
      "section_id": "5.1.6.2",
      "section_title": "Barring of incoming calls",
      "content": "The signalling for this situation is shown in figure 5.16.\nMSa                 GMSC                    HLRb+-+                  +-+                     +-+¦ ¦                  ¦ ¦ SEND_ROUTING_INFO/  ¦ ¦¦ ¦                  ¦ ¦SEND_ROUTING_INFO_SMS¦ ¦¦ ¦                  ¦ ¦      (for MSb)      ¦ ¦¦ ¦                  ¦ ¦-------------------->¦ ¦¦ ¦                  ¦ ¦                     ¦ ¦¦ ¦   DISCONNECT/    ¦ ¦  SEND_ROUTING_INFO/ ¦ ¦¦ ¦    RELEASE/      ¦ ¦         ERROR       ¦ ¦¦ ¦ RELEASE COMPLETE ¦ ¦<--------------------¦ ¦¦ ¦<-----------------¦ ¦                     ¦ ¦¦ ¦                  ¦ ¦                     ¦ ¦\nFigure 5.16: Signalling flow for barring of an incoming call\nIf the error code \"CallBarred\" is received as a response to the MAP_SEND_ROUTING_INFO or MAP_SEND_ROUTING_INFO_FOR_SM service primitives on the D-interface, then if no network interworking limitations apply, a NotifySS operation shall be sent to the originating MS in the first clearing message, as described in 3GPP TS 24.088. The mapping of 3GPP TS 29.002 error causes to 3GPP TS 24.008 cause values is shown in table 5.5. Exact values of the parameter and parameter tags are indicated in 3GPP TS 24.080, 3GPP TS 24.088 and 3GPP TS 24.008.\nTable 5.5: Mapping of 3GPP TS 29.002 error causes to cause values at barring of incoming call\n3GPP TS 29.002 error cause\nCause value\nbarringServiceActive\n#21: Call Rejected\noperatorBarring\n#21: Call Rejected\nanonymousCallRejection\n#31: Normal, unspecified (NOTE)\n(None)\n#21: Call Rejected\nNOTE:\tThe GMSC will play an announcement towards the calling user to signal that the call is rejected due to anonymous call rejection. See 3GPP TS 23.088 [26].",
      "chunk_type": "general",
      "cross_references": [
        "table_5.5",
        "ts_24.080_table_5.5",
        "figure_5.16",
        "ts_24.088",
        "ts_29.002",
        "ts_24.008",
        "ts_24.080",
        "ts_23.088"
      ]
    },
    {
      "chunk_id": "ts_29.011_5.1.7",
      "section_id": "5.1.7",
      "section_title": "CCBS call outcome",
      "content": "For the purpose of monitoring the destination B (the target of a CCBS request activated by subscriber A), the HLR on the B-side needs to know the outcome of a CCBS call. A CCBS call is a call being set-up after acceptation of a recall (indication to subscriber A that B is idle). Thus, in case of a CCBS call, on receipt of call related messages from the MS, the MSC shall send (via the VLR) the MAP_STATUS_REPORT to the HLR.\nMS                  MSC                  VLR                  HLR+-+                  +-+                  +-+                  +-+¦ ¦    SETUP         ¦ ¦                  ¦ ¦                  ¦ ¦¦ ¦<-----------------¦ ¦                  ¦ ¦                  ¦ ¦¦ ¦                  ¦ ¦                  ¦ ¦                  ¦ ¦¦ ¦    CONNECT/      ¦ ¦                  ¦ ¦                  ¦ ¦¦ ¦    ALERTING/     ¦ ¦                  ¦ ¦                  ¦ ¦¦ ¦    DISCONNECT/   ¦ ¦                  ¦ ¦                  ¦ ¦¦ ¦    RELEASE/      ¦ ¦                  ¦ ¦                  ¦ ¦¦ ¦    RELEASE       ¦ ¦                  ¦ ¦                  ¦ ¦¦ ¦    COMPLETE      ¦ ¦                  ¦ ¦                  ¦ ¦¦ ¦----------------->¦ ¦                  ¦ ¦                  ¦ ¦¦ ¦                  ¦ ¦CCBS CALL DELIVERY¦ ¦                  ¦ ¦¦ ¦                  ¦ ¦----------------->¦ ¦                  ¦ ¦¦ ¦                  ¦ ¦                  ¦ ¦  STATUS_REPORT   ¦ ¦¦ ¦                  ¦ ¦                  ¦ ¦----------------->¦ ¦¦ ¦                  ¦ ¦                  ¦ ¦                  ¦ ¦\nFigure 5.16a: Signalling for CCBS call outcome\nThe CONNECT or ALERTING messages imply that the call establishment has been successful. Then the value of the Outcome information element in the MAP_STATUS_REPORT is set to success.\nThe DISCONNECT and RELEASE are, in this case, error messages and can contain different causes (e.g. Call Rejected or User Busy). The MSC translates the message and/or the cause received into the proper value for the Outcome information element (Failure or Busy).\nExact coding and values of the messages and parameter tags can be found in 3GPP TS 24.008 and 3GPP TS 29.002.",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.16",
        "ts_24.008",
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.011_5.2",
      "section_id": "5.2",
      "section_title": "SS Management in stable connection state",
      "content": "When a stable CM connection is set up between a mobile station and the network, the following supplementary services may apply:",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.011_5.2.1.1",
      "section_id": "5.2.1.1",
      "section_title": "Notification of invocation of CFB to served mobile subscriber",
      "content": "As described in 3GPP TS 22.082, when the Call Forwarding on MS Busy service is invoked by the network, a notification of this fact may be sent to the MS. The signalling for the situation when the user is NDUB is shown in figure 5.17. Note that if the subscriber is not NDUB, this notification does not apply.\nMS           MSC                                        VLR+-+           +-+                                        +-+¦ ¦           ¦ ¦                                        ¦ ¦¦ ¦           ¦ ¦SEND INFORMATION FOR INCOMING CALL SETUP¦ ¦¦ ¦           ¦ ¦--------------------------------------->¦ ¦¦ ¦           ¦ ¦                                        ¦ ¦¦ ¦           ¦ ¦            COMPLETE CALL               ¦ ¦¦ ¦           ¦ ¦<---------------------------------------¦ ¦¦ ¦           NDUB                                       ¦ ¦¦ ¦        established                                   ¦ ¦¦ ¦           ¦ ¦                                        ¦ ¦¦ ¦ FACILITY  ¦ ¦                                        ¦ ¦¦ ¦<----------¦ ¦                                        ¦ ¦¦ ¦           ¦ ¦                                        ¦ ¦\nFigure 5.17: Signalling for notification of invocation of CFB supplementary service\nThe MSC obtains information on what supplementary services are active by analysing the SS-Data parameter in the MAP_COMPLETE_CALL service primitive on the B-interface. If this parameter indicates that CFB is active, then the FACILITY message may be used to convey the required NotifySS operation in a Facility information element. Exact values of the parameter and parameter tags are indicated in 3GPP TS 24.080 and 3GPP TS 24.082.",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.17",
        "ts_22.082",
        "ts_24.080",
        "ts_24.082"
      ]
    },
    {
      "chunk_id": "ts_29.011_5.2.2",
      "section_id": "5.2.2",
      "section_title": "Call Hold service (HOLD)",
      "content": "As described in 3GPP TS 24.083, an MS can at any time during the active phase of a call signal invocation of the Call Hold supplementary service towards the network. This is done by use of the HOLD message (defined in 3GPP TS 24.080). When the MSC receives such a message, it requests access to the VLR and sends the MAP_INVOKE_SS service primitive to the VLR (as described in 3GPP TS 29.002). The interworking function triggers this behaviour by sending an internal MAP_INVOKE_SS signal to the MAP Service User of the MSC, indicating the following parameter values:\n-\tSS-Code = Call Hold;\n-\tBS-Code = Basic service of the on-going call.\nThe signalling for this situation is shown in figure 5.18. Exact values of the parameter and parameter tags are indicated in 3GPP TS 24.080, 3GPP TS 24.083 and 3GPP TS 29.002.\nMS           MSC              VLR+-+           +-+              +-+¦ ¦           ¦ ¦              ¦ ¦¦ ¦   HOLD    ¦ ¦  INVOKESS    ¦ ¦¦ ¦---------->¦ ¦------------->¦ ¦¦ ¦           ¦ ¦              ¦ ¦¦ ¦           ¦ ¦ INVOKESS ACK ¦ ¦¦ ¦ HOLD ACK/ ¦ ¦<-------------¦ ¦¦ ¦ HOLD REJ  ¦ ¦              ¦ ¦¦ ¦<----------¦ ¦              ¦ ¦¦ ¦           ¦ ¦              ¦ ¦\nFigure 5.18: Signalling flow at invocation of Call Hold supplementary service\nIf the A_INVOKE_SS signal from the MAP Service User in the MSC is empty, the HOLD ACKNOWLEDGE message is returned to the MS. If it refers to an error, the mapping of error causes takes place according to table 5.6. Exact values of the parameter tags are indicated in 3GPP TS 24.080 and 3GPP TS 29.002.\nTable 5.6: Mapping of 3GPP TS 29.002 operation errors to 3GPP TS 24.080 HOLD REJECT causes\n3GPP TS 29.002 operation error\n3GPP TS 24.080 HOLD REJECT cause\nSystemFailure\n#63: Service/Option not available\nDataMissing\n#100: Invalid Information Element contents\nUnexpectedDataValue\n#100: Invalid Info. element contents\nCallBarred\n#29: Facility Rejected\nIllegalSS-Operation\n#50: Requested Facility not subscribed\nSS-ErrorStatus\n#50: Requested facility not subscribed\nSS-NotAvailable\n#69: Requested facility not implemented\nNote that Call Retrieval requires no communication on the B-interface, and thus no interworking requirements have been identified.",
      "chunk_type": "general",
      "cross_references": [
        "table_5.6",
        "ts_24.080_table_5.6",
        "figure_5.18",
        "ts_24.083",
        "ts_24.080",
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.011_5.2.3",
      "section_id": "5.2.3",
      "section_title": "Multi Party service (MPTY)",
      "content": "As described in 3GPP TS 24.084, an MS can at any time during the active phase of a call signal invocation of the Multi Party supplementary service towards the network. This is done by including a BuildMPTY operation (defined in 3GPP TS 24.080) in a FACILITY message. When the MSC receives such a request, it requests access to the VLR and sends the MAP_INVOKE_SS service primitive to the VLR (as described in 3GPP TS 29.002). The interworking function triggers this behaviour by sending an internal MAP_INVOKE_SS signal to the MAP Service User of the MSC, indicating the following parameter values:\n-\tSS-Code = MPTY;\n-\tBS-Code = Basic Service Code of the on-going calls.\nNote that the MSC does not allow the MPTY to be invoked if the two calls are not telephony calls.\nThe signalling for this situation is shown in figure 5.19.\nMS            MSC              VLR+-+           +-+              +-+¦ ¦           ¦ ¦              ¦ ¦¦ ¦ buildMPTY ¦ ¦   INVOKESS   ¦ ¦¦ ¦---------->¦ ¦------------->¦ ¦¦ ¦           ¦ ¦              ¦ ¦¦ ¦           ¦ ¦ INVOKESS ACK ¦ ¦¦ ¦ buildMPTY ¦ ¦<-------------¦ ¦¦ ¦<----------¦ ¦              ¦ ¦¦ ¦           ¦ ¦              ¦ ¦\nFigure 5.19: Signalling flow at invocation of Multi Party supplementary service\nIf the A_INVOKE_SS signal from the MAP Service User in the MSC is empty, the BuildMPTY return result is returned to the MS in a FACILITY message. If it refers to an error, the mapping of errors takes place according to table 5.7.\nTable 5.7: Mapping of 3GPP TS 29.002 operation errors to 3GPP TS 24.080 BuildMPTY errors\n3GPP TS 29.002 operation error\n3GPP TS 24.080 BuildMPTY error\nSystemFailure\nSystemFailure\nDataMissing\nSystemFailure\nUnexpectedDataValue\nSystemFailure\nCallBarred\nIllegalSS-Operation\nIllegalSS-Operation\nIllegalSS-Operation\nSS-ErrorStatus\nSS-ErrorStatus\nSS-NotAvailable\nSS-NotAvailable\nNote that Holding, Retrieving and Splitting a multi party requires no communication on the B-interface, and thus no interworking requirements have been identified.",
      "chunk_type": "general",
      "cross_references": [
        "table_5.7",
        "ts_29.002_table_5.7",
        "figure_5.19",
        "ts_24.084",
        "ts_24.080",
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.011_5.2.4",
      "section_id": "5.2.4",
      "section_title": "Advice of Charge services",
      "content": "Notification of Charging information to served MS during the call\nThe network may indicate revised charging parameters (as required according to 3GPP TS 22.024, 3GPP TS 22.086, 3GPP TS 23.086 and 3GPP TS 24.086) to the MS during a call. The parameters are forwarded to MSa using the ForwardChargeAdvice operation in the facility information element of the FACILITY message. Exact values of the parameter and parameter tags are indicated in 3GPP TS 24.080 and 3GPP TS 24.085.",
      "chunk_type": "general",
      "cross_references": [
        "ts_22.024",
        "ts_22.086",
        "ts_23.086",
        "ts_24.086",
        "ts_24.080",
        "ts_24.085"
      ]
    },
    {
      "chunk_id": "ts_29.011_5.2.5",
      "section_id": "5.2.5",
      "section_title": "Explicit Call Transfer service (ECT)",
      "content": "As described in 3GPP TS 24.091, an MS can at any time during the active phase of a call signal invocation of the Explicit Call Transfer supplementary service towards the network. This is done by including a ExplicitCT operation (defined in 3GPP TS 24.080) in a FACILITY message. When the MSC receives such a request, it requests access to the VLR and sends the MAP_INVOKE_SS service primitive to the VLR (as described in 3GPP TS 29.002). The interworking function triggers this behaviour by sending an internal MAP_INVOKE_SS signal to the MAP Service User of the MSC, indicating the following parameter values:\n-\tSS-Code = ect;\n-\tBS-Code = Basic Service Code of the on-going calls.\nNote that the MSC does not allow the ECT to be invoked if the two calls are not telephony calls.\nThe signalling for this situation is shown in the following figure 5.21.\nMS            MSC              VLR+-+           +-+              +-+¦ ¦           ¦ ¦              ¦ ¦¦ ¦ explicitCT¦ ¦   INVOKESS   ¦ ¦¦ ¦---------->¦ ¦------------->¦ ¦¦ ¦           ¦ ¦              ¦ ¦¦ ¦           ¦ ¦ INVOKESS ACK ¦ ¦¦ ¦ explicitCT¦ ¦<-------------¦ ¦¦ ¦<----------¦ ¦              ¦ ¦¦ ¦           ¦ ¦              ¦ ¦\nFigure 5.21: Signalling flow at invocation of Explicit Call Transfer supplementary service\nIf the A_INVOKE_SS signal from the MAP Service User in the MSC is empty, the ExplicitCT return result is returned to the MS in a DISCONNECT/RELEASE/RELEASE COMPLETE message. If it refers to an error, the mapping of errors takes place according to table 5.8.\nTable 5.7: Mapping of 3GPP TS 29.002 operation errors to 3GPP TS 24.080 ExplicitCT errors\n3GPP TS 29.002 operation error\n3GPP TS 24.080 ExplicitCT error\nSystemFailure\nSystemFailure\nDataMissing\nSystemFailure\nUnexpectedDataValue\nSystemFailure\nCallBarred\nCallBarred\nIllegalSS-Operation\nIllegalSS-Operation\nSS-ErrorStatus\nSS-ErrorStatus\nSS-NotAvailable\nSS-NotAvailable",
      "chunk_type": "general",
      "cross_references": [
        "table_5.8",
        "ts_29.002_table_5.7",
        "figure_5.21",
        "ts_24.091",
        "ts_24.080",
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.011_5.3",
      "section_id": "5.3",
      "section_title": "SS Management in disconnecting phase",
      "content": "When a CM connection is being released, the following supplementary services may apply:",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.011_5.3.1",
      "section_id": "5.3.1",
      "section_title": "Call Forwarding services",
      "content": "Notification of invocation of CFNRy to served mobile subscriber\nAs described in 3GPP TS 22.082, when the Call Forwarding on No Reply service is invoked by the network, a notification of this fact may be sent to the MS as the call attempt is disconnected. The signalling for this situation is shown in figure 5.20.\nMS                MSC                                       VLR+-+                +-+                                        +-+¦ ¦                ¦ ¦                                        ¦ ¦¦ ¦                ¦ ¦SEND INFORMATION FOR INCOMING CALL SETUP¦ ¦¦ ¦                ¦ ¦--------------------------------------->¦ ¦¦ ¦                ¦ ¦                                        ¦ ¦¦ ¦                ¦ ¦            COMPLETE CALL               ¦ ¦¦ ¦                ¦ ¦<---------------------------------------¦ ¦¦ ¦     SETUP      ¦ ¦                                        ¦ ¦¦ ¦<---------------¦ ¦                                        ¦ ¦¦ ¦       :        ¦ ¦                                        ¦ ¦¦ ¦       :        NRCT                                       ¦ ¦¦ ¦              Timeout                                      ¦ ¦¦ ¦                ¦ ¦                                        ¦ ¦¦ ¦   FACILITY/    ¦ ¦                                        ¦ ¦¦ ¦   DISCONNECT   ¦ ¦                                        ¦ ¦¦ ¦    RELEASE/    ¦ ¦                                        ¦ ¦¦ ¦RELEASE COMPLETE¦ ¦                                        ¦ ¦¦ ¦<---------------¦ ¦                                        ¦ ¦¦ ¦                ¦ ¦                                        ¦ ¦\nFigure 5.20: Signalling for notification of invocation of CFNRy supplementary service\nThe MSC obtains information on what supplementary services are active by analysing the SS-Data parameter in the MAP_COMPLETE_CALL service primitive on the B-interface. If this parameter indicates that CFNRy is active, then if required, either one of the DISCONNECT, RELEASE, RELEASE COMPLETE or FACILITY messages may be used to convey the required NotifySS operation in a Facility information element. Exact values of the parameter and parameter tags are indicated in 3GPP TS 24.080 and 3GPP TS 24.082.",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.20",
        "ts_22.082",
        "ts_24.080",
        "ts_24.082"
      ]
    },
    {
      "chunk_id": "ts_29.011_5.3.2",
      "section_id": "5.3.2",
      "section_title": "CCBS Request Activation",
      "content": "As described in 3GPP TS 22.093, when subscriber A encounters a busy destination B, subscriber A can request the CCBS supplementary service (i.e. activate a CCBS request against destination B).\nThe signalling for this situation is shown in figure 5.21.\nMS                  MSC                  VLR                  HLR+-+                  +-+                  +-+                  +-+¦ ¦    DISCONNECT    ¦ ¦                  ¦ ¦                  ¦ ¦¦ ¦<-----------------¦ ¦                  ¦ ¦                  ¦ ¦¦ ¦                  ¦ ¦                  ¦ ¦                  ¦ ¦¦ ¦     RELEASE      ¦ ¦                  ¦ ¦                  ¦ ¦¦ ¦----------------->¦ ¦                  ¦ ¦                  ¦ ¦¦ ¦                  ¦ ¦  CCBS REQUEST    ¦ ¦                  ¦ ¦¦ ¦                  ¦ ¦----------------->¦ ¦ REGISTER_CC ENTRY¦ ¦¦ ¦                  ¦ ¦                  ¦ ¦----------------->¦ ¦¦ ¦                  ¦ ¦                  ¦ ¦                  ¦ ¦¦ ¦                  ¦ ¦                  ¦ ¦  REGISTER_CC     ¦ ¦¦ ¦                  ¦ ¦                  ¦ ¦     ENTRY_ACK    ¦ ¦¦ ¦                  ¦ ¦                  ¦ ¦  REGISTER_CC     ¦ ¦¦ ¦                  ¦ ¦                  ¦ ¦     ENTRY_ERROR  ¦ ¦¦ ¦                  ¦ ¦                  ¦ ¦<-----------------¦ ¦¦ ¦                  ¦ ¦CCBS REQUEST ERROR¦ ¦                  ¦ ¦¦ ¦                  ¦ ¦ CCBS REQUEST ACK ¦ ¦                  ¦ ¦¦ ¦                  ¦ ¦<-----------------¦ ¦                  ¦ ¦¦ ¦ RELEASE COMPLETE ¦ ¦                  ¦ ¦                  ¦ ¦¦ ¦<-----------------¦ ¦                  ¦ ¦                  ¦ ¦¦ ¦                  ¦ ¦                  ¦ ¦                  ¦ ¦\nFigure 5.21: Signalling for CCBS Request Activation\nThe MS request the activation of CCBS in a Facility information element of a RELEASE message in response to a DISCONNECT message containing the diagnostic CCBS is possible and the Allowed Actions information element set to Recall is possible. Then, the MSC transmits the request in an Invoke component together with the call information towards the VLR in a CCBS_REQUEST message on the B-interface. The VLR forwards it in a MAP_REGISTER_CC_ENTRY on the D-interface.\nThe outcome of the activation is sent back by the HLR in a MAP_REGISTER_CC_ENTRY_ACK or a MAP_REGISTER_CC_ENTRY_ERROR message. This outcome is subsequently mapped and inserted in the Facility information element of the RELEASE COMPLETE message from the MSC to the MS.\nExact values of the parameters and parameter tags are indicated in 3GPP TS 24.008, 3GPP TS 24.080, 3GPP TS 24.093 and 3GPP TS 29.002.",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.21",
        "ts_22.093",
        "ts_24.008",
        "ts_24.080",
        "ts_24.093",
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.011_5.3.3.1",
      "section_id": "5.3.3.1",
      "section_title": "Call Deflection Operation Request",
      "content": "As described in 3GPP TS 24.072, a MS may signal invocation of the Call Deflection supplementary service for a mobile terminated call at any time after call confirmation until the call is accepted.\nThe signalling for this situation is shown in figure 5.22.\nMS            MSC                                                  VLR+-+            +-+                                                  +-+¦ ¦            ¦ ¦                                                  ¦ ¦¦ ¦ DISCONNECT ¦ ¦ COMPLETE CALL ERROR / PROCESS CALL WAITING ERROR ¦ ¦¦ ¦----------->¦ ¦------------------------------------------------->¦ ¦¦ ¦            ¦ ¦                                                  ¦ ¦¦ ¦            ¦ ¦                                                  ¦ ¦\nFigure 5.22: Signalling of a Call Deflection Request\nThe MS requests Invocation of Call Deflection by including a CallDeflection operation (defined in 3GPP TS 24.080) in a DISCONNECT message. The parameters of the CallDeflection operation of the DISCONNECT message shall be transferred by the MSC to the VLR with the B-interface COMPLETE_CALL_ERROR or PROCESS_CALL_WAITING_ERROR message.",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.22",
        "ts_24.072",
        "ts_24.080"
      ]
    },
    {
      "chunk_id": "ts_29.011_5.3.3.2",
      "section_id": "5.3.3.2",
      "section_title": "Call Deflection Operation Response",
      "content": "Optimal Routeing of late call forwarding is not invoked\nThe signalling for this situation is shown in figure 5.23.\nMS            MSC                                                  VLR+-+            +-+                                                  +-+¦ ¦            ¦ ¦                                                  ¦ ¦¦ ¦            ¦ ¦ COMPLETE CALL ERROR / PROCESS CALL WAITING ERROR ¦ ¦¦ ¦            ¦ ¦------------------------------------------------->¦ ¦¦ ¦            ¦ ¦                                                  ¦ ¦¦ ¦            ¦ ¦  SEND INFORMATION FOR INCOMING CALL SETUP ACK /  ¦ ¦¦ ¦            ¦ ¦  SEND INFORMATION FOR INCOMING CALL SETUP ERROR  ¦ ¦¦ ¦  RELEASE   ¦ ¦<-------------------------------------------------¦ ¦¦ ¦<-----------¦ ¦                                                  ¦ ¦¦ ¦            ¦ ¦                                                  ¦ ¦\nFigure 5.23: Mapping of Call Deflection Response without SOR\nThe MSC shall send a CallDeflection return result to the MS if the SEND_INFO_FOR_INCOMING_CALL_ACK message is received from the VLR and the invocation of Optimal Routeing is not requested. The MSC shall send a CallDeflection return error to the MS if a SEND_INFORMATION_FOR_INCOMING_CALL_SETUP ERROR message is received from the VLR. The MSC shall obtain the value of the CallDeflection error from the error received in the SEND_INFORMATION_FOR_INCOMING_CALL_SETUP ERROR message.\nOptimal Routeing of late call forwarding is invoked:\nThe signalling for this situation is shown in figure 5.24.\nMS                  MSC                  VLR                 GMSC+-+                  +-+                  +-+                  +-+¦ ¦                  ¦ ¦ SEND INFORMATION ¦ ¦                  ¦ ¦¦ ¦                  ¦ ¦ FOR INCOMING CALL¦ ¦                  ¦ ¦¦ ¦                  ¦ ¦    SETUP ACK     ¦ ¦                  ¦ ¦¦ ¦                  ¦ ¦<-----------------¦ ¦                  ¦ ¦¦ ¦                  ¦ ¦                                       ¦ ¦¦ ¦                  ¦ ¦          RESUME CALL HANDLING         ¦ ¦¦ ¦                  ¦ ¦-------------------------------------->¦ ¦¦ ¦                  ¦ ¦                                       ¦ ¦¦ ¦                  ¦ ¦       RESUME CALL HANDLING ACK /      ¦ ¦¦ ¦                  ¦ ¦       RESUME CALL HANDLING ERROR      ¦ ¦¦ ¦                  ¦ ¦<--------------------------------------¦ ¦¦ ¦     RELEASE      ¦ ¦                                       ¦ ¦¦ ¦<-----------------¦ ¦                                       ¦ ¦¦ ¦                  ¦ ¦                                       ¦ ¦\nFigure 5.24: Mapping of Call Deflection Response in case of SOR\nIf for a Call Deflection Request Optimal Routeing of late call forwarding is invoked the MSC shall send a CallDeflection return result to the MS if the MAP_RESUME_CALL_HANDLING_ACK is received from the GMSC. If a MAP_RESUME_CALL_HANDLING_ERROR message with error \"ForwardingFailed\" is received from the GMSC the MSC shall send a CallDeflection return error \"ForwardingFailed\" to the MS. Reception of other errors than \"ForwardingFailed\" in the MAP_RESUME_CALL_HANDLING_ERROR message shall lead to local processing in the MSC.\nExact values of the parameters and parameter tags are indicated in 3GPP TS 24.080 and 3GPP TS 29.002.",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.23",
        "figure_5.24",
        "ts_24.080",
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.011_6.1.1",
      "section_id": "6.1.1",
      "section_title": "Connection establishment phase",
      "content": "Call independent supplementary service management takes place on a separate, dedicated CM connection between the mobile station and the MSC. When a request to open such a connection arrives at the MSC, the MSC will request access permission from the VLR, as described in 3GPP TS 29.002. It will also assess the capabilities of the MS according to the screening indicator, as described in 3GPP TS 24.010 and 3GPP TS 24.080. The signalling for this situation is shown in figure 6.1.\nMS                          MSC               MAP User in MSC+-+                          +-+                        +-+¦ ¦                          ¦ ¦                        ¦ ¦¦ ¦   CM service request     ¦ ¦                        ¦ ¦¦ ¦   (CM service type =     ¦ ¦                        ¦ ¦¦ ¦        SS Activation)    ¦ ¦                        ¦ ¦¦ ¦------------------------->¦ ¦    A_CM_SERV_REQ       ¦ ¦¦ ¦                          ¦ ¦  (CM service type =    ¦ ¦¦ ¦                          ¦ ¦      SS Activation)    ¦ ¦¦ ¦                          ¦ ¦----------------------->¦ ¦¦ ¦                          ¦ ¦                        ¦ ¦\nFigure 6.1: Signalling flow for SS connection establishment",
      "chunk_type": "general",
      "cross_references": [
        "figure_6.1",
        "ts_29.002",
        "ts_24.010",
        "ts_24.080"
      ]
    },
    {
      "chunk_id": "ts_29.011_6.1.2",
      "section_id": "6.1.2",
      "section_title": "Connection established",
      "content": "At this stage of the connection, the version negotiation mechanism will be invoked as described in clause 3. The abstract definition of the protocol used for call independent SS operations is imported directly from 3GPP TS 29.002 into 3GPP TS 24.080.\nThe signalling for invocation of a supplementary service operation is shown in figure 6.2, while figure 6.3 shows the signalling for returning the result of the supplementary service operation. Tables 6.1 and 6.2 show the mapping of 3GPP TS 24.080 operation codes to MAP service primitives, and vice versa respectively. The detailed mapping of the contents of the facility information elements to the service primitives triggering the MAP user are described in subclause 6.3.\nMS                          MSC             MAP User in MSC+-+                          +-+                        +-+¦ ¦                          ¦ ¦                        ¦ ¦¦ ¦    REGISTER/FACILITY     ¦ ¦                        ¦ ¦¦ ¦      (SS OPERATION)      ¦ ¦                        ¦ ¦¦ ¦------------------------->¦ ¦SS_SERVICE PRIMITIVE REQ¦ ¦¦ ¦                          ¦ ¦----------------------->¦ ¦¦ ¦                          ¦ ¦                        ¦ ¦\nFigure 6.2: Signalling flow for SS operation invocation\nChoice of service primitive on the basis of received facility information element is as follows:\nTable 6.1: Mapping of 3GPP TS 24.080 operations to 3GPP TS 29.002 service primitives\nFacility information element operation\nService primitive for MAP Service user\nRegisterSS\nA_REGISTER_SS\nEraseSS\nA_ERASE_SS\nActivateSS\nA_ACTIVATE_SS\nDeactivateSS\nA_DEACTIVATE_SS\nInterrogateSS\nA_INTERROGATE_SS\nRegisterPassword\nA_REGISTER_PASSWORD\nProcessUnstructuredSS-Request\nA_PROCESS_UNSTRUCTURED_SS_REQUEST\nEraseCC-Entry\nA_ERASE_CC_ENTRY\nMS                          MSC               MAP User in MSC+-+                          +-+                        +-+¦ ¦                          ¦ ¦                        ¦ ¦¦ ¦    REGISTER/FACILITY     ¦ ¦SS_SERVICE PRIMITIVE CNF¦ ¦¦ ¦      (SS OPERATION)      ¦ ¦<-----------------------¦ ¦¦ ¦<-------------------------¦ ¦                        ¦ ¦¦ ¦                          ¦ ¦                        ¦ ¦\nFigure 6.3: Signalling flow for SS operation return result\nChoice of facility information element on the basis of received service primitive is as follows:\nTable 6.2: Mapping of 3GPP TS 29.002 service primitives to 3GPP TS 24.080 operations\nService primitive for MAP Service user\nFacility information element operation\nA_REGISTER_SS\nRegisterSS\nA_ERASE_SS\nEraseSS\nA_ACTIVATE_SS\nActivateSS\nA_DEACTIVATE_SS\nDeactivateSS\nA_INTERROGATE_SS\nInterrogateSS\nA_REGISTER_PASSWORD\nRegisterPassword\nA_PROCESS_UNSTRUCTURED_SS_REQUEST\nProcessUnstructuredSS-Request\nA_UNSTRUCTURED_SS_REQUEST\nUnstructuredSS-Request\nA_UNSTRUCTURED_SS_NOTIFY\nProcessUnstructuredSS-Notify\nA_GET_PASSWORD\nGetPassword\nA_REGISTER_CC_ENTRY\nAccessRegisterCCEntry\nA_ERASE_CC_ENTRY\nEraseCCEntry",
      "chunk_type": "general",
      "cross_references": [
        "clause_3",
        "clause_6.3",
        "ts_24.080_table_6.1",
        "ts_29.002_table_6.2",
        "figure_6.2",
        "figure_6.3",
        "ts_29.002",
        "ts_24.080"
      ]
    },
    {
      "chunk_id": "ts_29.011_6.1.3",
      "section_id": "6.1.3",
      "section_title": "Connection release",
      "content": "A supplementary service control connection is usually released by the network. The signalling for this situation is shown in figure 6.4.\nMS                    MSC            MAP User in MSC+-+                    +-+                     +-+¦ ¦                    ¦ ¦                     ¦ ¦¦ ¦                    ¦ ¦      A_CM_REL_COMP  ¦ ¦¦ ¦  RELEASE COMPLETE  ¦ ¦<--------------------¦ ¦¦ ¦<-------------------¦ ¦                     ¦ ¦¦ ¦                    ¦ ¦                     ¦ ¦\nFigure 6.4: Signalling flow for SS connection release by the network\nHowever, in exceptional circumstances, the MS may request release of the connection. The signalling for this situation is shown in figure 6.5.\nMS                   MSC              MAP User in MSC+-+                    +-+                      +-+¦ ¦                    ¦ ¦                      ¦ ¦¦ ¦  RELEASE COMPLETE  ¦ ¦                      ¦ ¦¦ ¦------------------->¦ ¦     A_CM_SERV_REL    ¦ ¦¦ ¦                    ¦ ¦--------------------->¦ ¦¦ ¦                    ¦ ¦                      ¦ ¦\nFigure 6.5: Signalling flow for SS connection release by the MS",
      "chunk_type": "general",
      "cross_references": [
        "figure_6.4",
        "figure_6.5"
      ]
    },
    {
      "chunk_id": "ts_29.011_6.2.1",
      "section_id": "6.2.1",
      "section_title": "Connection establishment phase",
      "content": "Call independent supplementary service management takes place on a separate, dedicated CM connection between the mobile station and the MSC. The MSC may need to open a connection towards the MS (as described in 3GPP TS 24.008) to send the Network initiated SS operation to the MS. Detailed mapping rules are described in subclause 6.3.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3",
        "ts_24.008"
      ]
    },
    {
      "chunk_id": "ts_29.011_6.2.2",
      "section_id": "6.2.2",
      "section_title": "Connection established",
      "content": "The abstract definition of the protocol used for call independent SS operations is imported directly from 3GPP TS 29.002 into 3GPP TS 24.080.\nThe signalling for invocation of a Network initiated SS operation is shown in figure 6.6, while figure 6.7 shows the signalling for returning the result of supplementary service operation.\nChoice of facility information element on the basis of received service primitive is described in table 6.2.\nMS                   MSC                MAP User in MSC+-+                    +-+                        +-+¦ ¦                    ¦ ¦SS_SERVICE PRIMATIVE REQ¦ ¦¦ ¦                    ¦ ¦<-----------------------¦ ¦¦ ¦ REGISTER/FACILITY  ¦ ¦                        ¦ ¦¦ ¦   (SS OPERATION)   ¦ ¦                        ¦ ¦¦ ¦<-------------------¦ ¦                        ¦ ¦¦ ¦                    ¦ ¦                        ¦ ¦\nFigure 6.6: Signalling flow for Network Initiated SS operation invocation\nChoice of service primitive on the basis of received facility information element is described in table 6.2.\nMS                   MSC                MAP User in MSC+-+                    +-+                        +-+¦ ¦      FACILITY      ¦ ¦                        ¦ ¦¦ ¦   (SS OPERATION)   ¦ ¦                        ¦ ¦¦ ¦------------------->¦ ¦                        ¦ ¦¦ ¦                    ¦ ¦SS_SERVICE PRIMATIVE CNF¦ ¦¦ ¦                    ¦ ¦----------------------->¦ ¦¦ ¦                    ¦ ¦                        ¦ ¦\nFigure 6.7: Signalling flow for Network Initiated SS operation return result",
      "chunk_type": "general",
      "cross_references": [
        "table_6.2",
        "figure_6.6",
        "figure_6.7",
        "ts_29.002",
        "ts_24.080"
      ]
    },
    {
      "chunk_id": "ts_29.011_6.2.3",
      "section_id": "6.2.3",
      "section_title": "Connection release",
      "content": "A Network initiated SS connection is usually released by the network. The signalling for this situation is shown in figure 6.4.\nHowever, in exceptional circumstances, the MS may request release of the connection. The signalling for this situation is shown in figure 6.5.",
      "chunk_type": "general",
      "cross_references": [
        "figure_6.4",
        "figure_6.5"
      ]
    },
    {
      "chunk_id": "ts_29.011_6.2.4",
      "section_id": "6.2.4",
      "section_title": "ForwardCheckSSIndication",
      "content": "When a mobile station first makes contact with the network after there has been a HLR restart, an indication may be sent by the HLR to the MS to inform of possible unintended consequences with respect to supplementary services. This indication is a separate service in the MAP (MAP_FORWARD_CHECK_SS_INDICATION service), and the abstract definition of its operation (ForwardCheckSSIndication) is imported into the 3GPP TS 24.080 protocol.\nUpon receipt of ForwardCheckSSIndication from the VLR, the MSC shall create a new call independent SS transaction and then send ForwardCheckSSIndication (see 3GPP TS 24.010).\nThe MSC is only required to deliver ForwardCheckSSIndication if there is an active RR connection to the MS. The network shall not page the MS in order to deliver ForwardCheckSSIndication.\nMS                  MSC                  VLR                  HLR+-+                  +-+                  +-+                  +-+¦ ¦                  ¦ ¦                  ¦ ¦ForwardCheckSSInd.¦ ¦¦ ¦                  ¦ ¦                  ¦ ¦<-----------------¦ ¦¦ ¦                  ¦ ¦ForwardCheckSSInd.¦ ¦                  ¦ ¦¦ ¦                  ¦ ¦<-----------------¦ ¦                  ¦ ¦¦ ¦ForwardCheckSSInd.¦ ¦                  ¦ ¦                  ¦ ¦¦ ¦<-----------------¦ ¦                  ¦ ¦                  ¦ ¦¦ ¦                  ¦ ¦                  ¦ ¦                  ¦ ¦\nFigure 6.8: ForwardCheckSSIndication",
      "chunk_type": "general",
      "cross_references": [
        "figure_6.8",
        "ts_24.080",
        "ts_24.010"
      ]
    },
    {
      "chunk_id": "ts_29.011_6.2.5",
      "section_id": "6.2.5",
      "section_title": "CCBS Recall",
      "content": "As described in 3GPP TS 22.093, when destination B, target of a CCBS request activated by subscriber A, becomes idle, the network shall automatically recall subscriber A. When subscriber A accepts the recall, the network will automatically generate a CCBS call to destination B.\nThe signalling for this situation is shown in figure 6.9.\nMS                  MSC                  VLR                    HLR+-+                  +-+                  +-+                    +-+¦ ¦                  ¦ ¦                  ¦ ¦ REMOTE_USER FREE   ¦ ¦¦ ¦                  ¦ ¦                  ¦ ¦<-------------------¦ ¦¦ ¦                  ¦ ¦     CCBS RUF     ¦ ¦                    ¦ ¦¦ ¦                  ¦ ¦<-----------------¦ ¦                    ¦ ¦¦ ¦CM SERVICE PROMPT ¦ ¦                  ¦ ¦                    ¦ ¦¦ ¦<-----------------¦ ¦                  ¦ ¦                    ¦ ¦¦ ¦       ...        ¦ ¦                  ¦ ¦                    ¦ ¦¦ ¦ Procedure defined¦ ¦                  ¦ ¦                    ¦ ¦¦ ¦  in 3GPP TS 24.093    ¦ ¦                  ¦ ¦                    ¦ ¦¦ ¦       ...        ¦ ¦                  ¦ ¦                    ¦ ¦¦ ¦                  ¦ ¦                  ¦ ¦                    ¦ ¦¦ ¦      SETUP       ¦ ¦                  ¦ ¦                    ¦ ¦¦ ¦----------------->¦ ¦                  ¦ ¦                    ¦ ¦¦ ¦                  ¦ ¦   CCBS RUF ACK   ¦ ¦                    ¦ ¦¦ ¦                  ¦ ¦----------------->¦ ¦                    ¦ ¦¦ ¦                  ¦ ¦                  ¦ ¦REMOTE_USER FREE_ACK¦ ¦¦ ¦                  ¦ ¦                  ¦ ¦------------------->¦ ¦¦ ¦                  ¦ ¦                  ¦ ¦                    ¦ ¦\nFigure 6.9: Signalling for CCBS Recall\nThe indication of destination B idle is sent in the MAP_REMOTE_USER_FREE service primitive. It is transmitted on the D-interface and relayed on the B-interface. Then, the recall procedure starts with the establishment of a CC connection initiated by the network with the CM SERVICE PROMPT message. The following exchange of message concerns only the A-interface and is not described here since it is already done in 3GPP TS 24.093.\nThe acceptation of the recall by the user is implicit in the SETUP message sent by the MS to the MSC. This message contains the call information previously sent to the MS and the indication that the call in its establishment phase is a CCBS call. The MSC informs the HLR of this acceptation by sending a MAP_REMOTE_USER_FREE_ACK message on the B-interface and further on the D-interface.\nIn case an error occurs (e.g. MS not reachable or Incompatible terminal), at any time of the recall procedure (i.e. just after the error has been received), the MSC shall send the MAP_REMOTE_USER_FREE_ERROR with the appropriate value for the Error information element.\nExact values of the parameters and parameter tags are indicated in 3GPP TS 24.008, 3GPP TS 24.093 and 3GPP TS 29.002.",
      "chunk_type": "requirement",
      "cross_references": [
        "figure_6.9",
        "ts_22.093",
        "ts_24.093",
        "ts_24.008",
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.011_6.2.6",
      "section_id": "6.2.6",
      "section_title": "CCBS Monitoring",
      "content": "The monitoring process is initiated by the network. It is started on the B-side as soon as subscriber B becomes a target of a CCBS request. It is started on the A-side when subscriber A is found to be busy or suspends a request while being offered a recall. Since the status of a subscriber is linked to its activity, a message sent by the MS to the MSC may lead to the transmission of a message containing the new status on the D-interface (i.e. the MAP_STATUS_REPORT service primitive). This message contains a Status information element which can take the value Idle, Not_Reachable or Not Idle.\nSeveral situations might occur, they are described in the figure 6.10.\nMS                  MSC                  VLR                  HLR   +-+                  +-+                  +-+                  +-+   ¦ ¦                  ¦ ¦                  ¦ ¦                  ¦ ¦a. ¦ ¦CM SERVICE REQUEST¦ ¦                  ¦ ¦                  ¦ ¦   ¦ ¦----------------->¦ ¦                  ¦ ¦                  ¦ ¦   ¦ ¦                  ¦ ¦   MS ACTIVITY    ¦ ¦                  ¦ ¦   ¦ ¦                  ¦ ¦----------------->¦ ¦                  ¦ ¦___¦ ¦                  ¦ ¦                  ¦ ¦   STATUS REPORT  ¦ ¦   ¦ ¦                  ¦ ¦                  ¦ ¦----------------->¦ ¦b. ¦ ¦   IMSI DETACH    ¦ ¦                  ¦ ¦                  ¦ ¦   ¦ ¦----------------->¦ ¦                  ¦ ¦                  ¦ ¦   ¦ ¦                  ¦ ¦   DETACH IMSI    ¦ ¦                  ¦ ¦   ¦ ¦                  ¦ ¦----------------->¦ ¦                  ¦ ¦___¦ ¦                  ¦ ¦                  ¦ ¦   STATUS REPORT  ¦ ¦   ¦ ¦                  ¦ ¦                  ¦ ¦----------------->¦ ¦c. ¦ ¦   RELEASE        ¦ ¦                  ¦ ¦                  ¦ ¦   ¦ ¦----------------->¦ ¦                  ¦ ¦                  ¦ ¦   ¦ ¦                  ¦ ¦   CALL END       ¦ ¦                  ¦ ¦   ¦ ¦                  ¦ ¦----------------->¦ ¦                  ¦ ¦___¦ ¦                  ¦ ¦                  ¦ ¦   STATUS REPORT  ¦ ¦d. ¦ ¦   SETUP          ¦ ¦                  ¦ ¦----------------->¦ ¦   ¦ ¦----------------->¦ ¦                  ¦ ¦                  ¦ ¦   ¦ ¦                  ¦ ¦   NOT IDLE       ¦ ¦                  ¦ ¦   ¦ ¦                  ¦ ¦----------------->¦ ¦                  ¦ ¦___¦ ¦                  ¦ ¦                  ¦ ¦   STATUS REPORT  ¦ ¦   ¦ ¦                  ¦ ¦                  ¦ ¦----------------->¦ ¦   ¦ ¦                  ¦ ¦                  ¦ ¦                  ¦ ¦\nFigure 6.10: Signalling for CCBS Monitoring\nFor all these situations (from a to d), the transmission of the MAP_STATUS_REPORT service primitive depends on the possible change of status of the MS. The detailed behaviour of this procedure is described in 3GPP TS 23.093.\nExact coding and values of the messages are indicated in 3GPP TS 24.008 and 3GPP TS 29.002.",
      "chunk_type": "general",
      "cross_references": [
        "figure_6.10",
        "ts_23.093",
        "ts_24.008",
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.011_6.3.1",
      "section_id": "6.3.1",
      "section_title": "Operation codes",
      "content": "The same operation codes are used for equivalent operations in 3GPP TS 24.080 and 3GPP TS 29.002 for call independent supplementary service management.",
      "chunk_type": "general",
      "cross_references": [
        "ts_24.080",
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.011_6.3.2",
      "section_id": "6.3.2",
      "section_title": "Error codes",
      "content": "For call independent supplementary service management, the same error codes are used for equivalent error types in 3GPP TS 24.080 and 3GPP TS 29.002.\nThe RETURN ERROR components are also constructed in the same way on both sides of the interface.",
      "chunk_type": "general",
      "cross_references": [
        "ts_24.080",
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.011_6.3.3",
      "section_id": "6.3.3",
      "section_title": "Parameter tags and parameter values",
      "content": "The same parameter tags and parameter values are used for equivalent parameters in 3GPP TS 24.080 and 3GPP TS 29.002.\nAnnex A (informative):Change history\nChange history\nDate\nMeeting\nTDoc\nCR\nRev\nCat\nSubject/Comment\nNew version\nApr 1999\nTransferred to 3GPP CN1\nCN#03\nApproved at CN#03\n3.0.0\nCN#11\nApproved at CN#11\n4.0.0\nCN#16\nReferences  updated\n4.0.1\nCN#16\nRel-5 created after CN#16\n5.0.0\nCN#26\nRel-6 created after CN#26\n6.0.0\nCT#36\nUpgraded unchanged from Rel-6\n7.0.0\nCT#42\nUpgraded unchanged from Rel-7\n8.0.0\n2009-12\nUpdate to Rel-9 version (MCC)\n9.0.0\n2011-03\nUpdate to Rel-10 version (MCC)\n10.0.0\n2011-12\n0001\nCause code mapping\n11.0.0\n2014-09\nUpdate to Rel-12 version (MCC)\n12.0.0\n2015-12\nUpdate to Rel-13 version (MCC)\n13.0.0\n2017-03\nUpdate to Rel-14 version (MCC)\n14.0.0\n2018-06\nUpdate to Rel-15 version (MCC)\n15.0.0\n2020-07\nUpdate to Rel-16 version (MCC)\n16.0.0\n2022-03\nCT#95e\n-\n-\n-\n-\nUpdate to Rel-17 version (MCC)\n17.0.0\n2024-03\n-\n-\n-\n-\n-\nUpdate to Rel-18 version (MCC)\n18.0.0",
      "chunk_type": "parameter",
      "cross_references": [
        "ts_24.080",
        "ts_29.002"
      ]
    }
  ]
}