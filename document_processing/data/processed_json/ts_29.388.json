{
  "metadata": {
    "specification_id": "ts_29.388",
    "version": "18.0.0",
    "title": "3GPP TS 29.388",
    "file_path": "/content/drive/MyDrive/RAG_thesis/data/29_series/29388-i00/29388-i00.docx"
  },
  "export_info": {
    "export_date": "2025-07-26T08:51:40.252232",
    "total_chunks": 54
  },
  "chunks": [
    {
      "chunk_id": "ts_29.388_1",
      "section_id": "1",
      "section_title": "Scope",
      "content": "The present document describes the Diameter-based V4 interface between the V2X Control Function and the Home Subscriber Server (HSS) defined for V2X services.\nThis specification defines the Diameter application for V4 reference point between the V2X Control Function and the HSS. The interactions between the V2X Control Function and the HSS are specified.\nThe stage 2 description for V2X service features in EPS is specified in 3GPP TS 23.285 [2].",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.285"
      ]
    },
    {
      "chunk_id": "ts_29.388_2",
      "section_id": "2",
      "section_title": "References",
      "content": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non‑specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t3GPP TS 23.285: \"Architecture enhancements for V2X services; Stage 2\".\n[3]\tIETF RFC 6733: \"Diameter Base Protocol\".\n[4]\t3GPP TS 33.210: \"3G Security; Network Domain Security; IP Network Layer Security\".\n[5]\tIETF RFC 4960: \"Stream Control Transmission Protocol\".\n[6]\t3GPP TS 29.229: \"Cx and Dx interfaces based on the Diameter protocol\".\n[7]\tIETF RFC 5234: \"Augmented BNF for Syntax Specifications: ABNF\".\n[8]\t3GPP TS 23.003: \"Numbering, addressing and identification\".\n[9]\t3GPP TS 29.228: \"IP multimedia (IM) Subsystem Cx and Dx Interfaces; Signalling flows and Message Elements\".\n[10]\t3GPP TS 29.272: \"Evolved Packet System; MME and SGSN Related Interfaces Based on Diameter Protocol\".\n[11]\t3GPP TS 29.329: \"Sh Interface based on the Diameter protocol\".\n[12]\tIETF RFC 7683: \"Diameter Overload Indication Conveyance\".\n[13]\tIETF RFC 7944: \"Diameter Routing Message Priority\".\n[14]\t3GPP TS 23.007: \"Restoration procedures\".\n[15]\t3GPP TS 29.344: \"Proximity-services (ProSe) Function to Home Subscriber Server (HSS) aspects\".\n[16]\tIETF RFC 8583: \"Diameter Load Information Conveyance\".",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905",
        "ts_23.285",
        "ts_33.210",
        "ts_29.229",
        "ts_23.003",
        "ts_29.228",
        "ts_29.272",
        "ts_29.329",
        "ts_23.007",
        "ts_29.344"
      ]
    },
    {
      "chunk_id": "ts_29.388_3.1",
      "section_id": "3.1",
      "section_title": "Definitions",
      "content": "For the purposes of the present document, the terms and definitions given in 3GPP TR 21.905 [1] and the following apply. A term defined in the present document takes precedence over the definition of the same term, if any, in 3GPP TR 21.905 [1].\nexample: text used to clarify abstract rules by applying them literally.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_21.905"
      ]
    },
    {
      "chunk_id": "ts_29.388_3.2",
      "section_id": "3.2",
      "section_title": "Abbreviations",
      "content": "For the purposes of the present document, the abbreviations given in 3GPP TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in 3GPP TR 21.905 [1].\nProSe\tProximity-based Services\nV2X\tVehicle-to-Everything",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905"
      ]
    },
    {
      "chunk_id": "ts_29.388_4.1",
      "section_id": "4.1",
      "section_title": "Introduction",
      "content": "The V4 reference point between the V2X Control Function and the HSS is defined in the 3GPP TS 23.285 [2].\nThis document describes the V4 interface related procedures, message parameters and protocol specifications.\nThe V4 interface allows the V2X Control Function to retrieve V2X related subscription data in order to authorise access from the UE for V2X services.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.285"
      ]
    },
    {
      "chunk_id": "ts_29.388_5.1",
      "section_id": "5.1",
      "section_title": "Introduction",
      "content": "This clause describes the Diameter-based V4 interface related procedures and information elements exchanged between the V2X Control Function and the HSS.\nIn the tables that describe the Information Elements transported by each Diameter command, each Information Element is marked as (M) Mandatory, (C) Conditional or (O) Optional in the \"Cat.\" column. For the correct handling of the Information Element according to the category type, see the description detailed in clause 6 of the 3GPP TS 29.228 [9].",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.228_clause_6",
        "ts_29.228"
      ]
    },
    {
      "chunk_id": "ts_29.388_5.2.1",
      "section_id": "5.2.1",
      "section_title": "General",
      "content": "This procedure shall be used between the V2X Control Function and the HSS for authorization of the UE for V2X services. The procedure shall be invoked by the V2X Control Function and is used:\n-\tto request V2X related subscription data.\nThis procedure is mapped to the commands ProSe-Subscriber-Information-Request/Answer (PIR/PIA) in the Diameter application specified in clause 6. Table 5.2.1-1 and table 5.2.1-2 detail the involved information elements.\nTable 5.2.1-1: V2X Subscriber Information Retrieval Request\nInformation Element Name\nMapping to Diameter AVP\nCat.\nDescription\nIMSI\nUser-Name (See IETF RFC 6733 [3])\nM\nThis information element shall contain the user IMSI, formatted according to 3GPP TS 23.003 [8], clause 2.2.\nSupported Features\n(See 3GPP TS 29.229 [6])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nTable 5.2.1-2: V2X Subscriber Information Retrieval Answer\nInformation Element Name\nMapping to Diameter AVP\nCat.\nDescription\nResult(See 6)\nResult-Code / Experimental-Result\nM\nThis IE shall contain the result of the operation.\nThe Result-Code AVP shall be used to indicate success / errors as defined in the Diameter base protocol.\nThe Experimental-Result AVP shall be used for V4 errors. This is a grouped AVP which shall contain the 3GPP Vendor ID in the Vendor-Id AVP, and the error code in the Experimental-Result-Code AVP.\nThe following errors are applicable:\n-\tUser Unknown-\tUnknown V2X Subscription-\tV2X Not Allowed\nV2X Subscription Data\n(See 6.3.2)\nV2X-Subscription-Data\nC\nThis information element shall contain the V2X Subscription Data that gives the user permission to use V2X.\nMSISDN\n(See 3GPP TS 29.329 [11])\nMSISDN\nC\nThis information element shall contain the user MSISDN, formatted according to 3GPP TS 29.329 [11]. It shall be present if available.\nVisited PLMN Id\n(See 3GPP TS 29.272 [10])\nVisited-PLMN-Id\nC\nThis IE shall contain the MCC and the MNC of the PLMN where the UE is registered, see 3GPP TS 23.003 [8].\nIt shall be present if the UE is roaming in a PLMN different from the Home PLMN.\nSupported Features\n(See 3GPP TS 29.229 [6])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nReset-IDs\n(See 3GPP TS 29.272 [10])\nReset-ID\nO\nThe Reset-ID uniquely identifies a fallible resource in the HSS's realm on which the user (IMSI) depends. In the event of a restart of the fallible resource a Reset message containing the Reset-ID will exactly identify the impacted subscribers.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6",
        "ts_23.003_clause_2.2",
        "table_5.2.1-1",
        "table_5.2.1-2",
        "ts_23.003",
        "ts_29.229",
        "ts_29.329",
        "ts_29.272"
      ]
    },
    {
      "chunk_id": "ts_29.388_5.2.2",
      "section_id": "5.2.2",
      "section_title": "Detailed Behaviour of the V2X Control Function",
      "content": "The V2X Control Function shall make use of this procedure to request V2X related subscription data.\nIf the V2X Control Function retrieved the V2X related subscription data, the V2X Control Function shall perform the authorisation for V2X as described in the 3GPP TS 23.285 [2].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.285"
      ]
    },
    {
      "chunk_id": "ts_29.388_5.2.3",
      "section_id": "5.2.3",
      "section_title": "Detailed Behaviour of the HSS",
      "content": "When receiving a V2X Subscriber Information Retrieval Request the HSS shall check if the IMSI for whom data is requested exists in the HSS. If not, an Experimental-Result of DIAMETER_ERROR_USER_UNKNOWN shall be returned.\nIf the IMSI exists but there is not any V2X subscription data for the IMSI, the HSS shall return an Experimental-Result of DIAMETER_ERROR_UNKNOWN_V2X_SUBSCRIPTION.\nIf the UE is not allowed to use V2X in the visited PLMN, the HSS shall return an Experimental-Result of DIAMETER_ERROR_V2X_NOT_ALLOWED. Otherwise, the HSS shall return a Result-Code of DIAMETER_SUCCESS and shall store V2X Control Function identity (the V2X Control Function identity is received within the Origin-Host AVP) and download the V2X subscription data to the V2X Control Function. The HSS shall provide the Visited PLMN ID of where the UE is registered if the UE is roaming in a PLMN different from the Home PLMN.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.388_5.3.1",
      "section_id": "5.3.1",
      "section_title": "General",
      "content": "The Update V2X Subscriber Data procedure shall be used between the V2X Control Function and the HSS to update the subscriber related data downloaded by means of the V2X Subscriber Information Retrieval operation (see clause 5.2) and stored in the V2X Control Function.\nIt shall be used to update subscriber related data in the V2X Control Function due to administrative changes of the user data in the HSS, i.e. if the user was given a subscription and the subscription has changed. It shall be used at least to perform the following:\n-\tupdate of all of V2X subscription data of the subscriber,\n-\tupdate of a subset of the V2X subscription data of the subscriber,\n-\tdeletion of the V2X subscription data of the subscriber.\nThe procedure will also be triggered when the VPLMN has changed.\nThis procedure is mapped to the commands Update-ProSe-Subscriber-Data-Request/Answer (UPR/UPA) in the Diameter application specified in clause 6.\nTable 5.3.1-1 specifies the involved information elements for the request.\nTable 5.3.1-2 specifies the involved information elements for the answer.\nTable 5.3.1-1: Update V2X Subscriber Data Request\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nIMSI\nUser-Name (See IETF RFC 6733 [3])\nM\nThis information element shall contain the user IMSI, formatted according to 3GPP TS 23.003 [8], clause 2.2.\nSupported Features\n(See 3GPP TS 29.229 [6])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nV2X Subscription Data (See 6.3.2)\nV2X-Subscription-Data\nC\nThis information element shall contain the V2X Subscription Data that gives the user permission to use V2X service.\nVisited PLMN Id\n(See 3GPP TS 29.272 [10])\nVisited-PLMN-Id\nC\nThis IE shall contain the MCC and the MNC of the PLMN where the UE is registered, see 3GPP TS 23.003 [8].\nIt shall be present if the UE is roaming in a PLMN different from the Home PLMN.\nV2X Update Flags\n(See 6.3.4)\nV2X-Update-Flags\nM\nThis Information Element shall contain a bit mask. See clause 6.3.6 for the meaning of the bits.\nReset-IDs\n(See 3GPP TS 29.272 [10])\nReset-ID\nO\nThe Reset-ID uniquely identifies a fallible resource in the HSS's realm on which the user (IMSI) depends. In the event of a restart of the fallible resource a Reset message containing the Reset-ID will exactly identify the impacted subscribers.\nTable 5.3.1-2: Update V2X Subscriber Data Answer\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nSupported Features\n(See 3GPP TS 29.229 [6])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nResult\n(See 6.4)\nResult-Code / Experimental-Result\nM\nThis IE shall contain the result of the operation.\nThe Result-Code AVP shall be used to indicate success / errors as defined in the Diameter base protocol.\nThe Experimental-Result AVP shall be used for V4 errors. This is a grouped AVP which shall contain the 3GPP Vendor ID in the Vendor-Id AVP, and the error code in the Experimental-Result-Code AVP.\nThe following errors are applicable in this case:\n-\tUser Unknown\n-\tUnknown V2X Subscription",
      "chunk_type": "definition",
      "cross_references": [
        "clause_5.2",
        "clause_6",
        "ts_23.003_clause_2.2",
        "clause_6.3.6",
        "table_5.3.1-1",
        "table_5.3.1-2",
        "ts_23.003",
        "ts_29.229",
        "ts_29.272"
      ]
    },
    {
      "chunk_id": "ts_29.388_5.3.2",
      "section_id": "5.3.2",
      "section_title": "Detailed behaviour of the V2X Control Function",
      "content": "When receiving an Update V2X Subscriber Data request, the V2X Control Function shall check whether the IMSI is known.\nIf it is not known, a result code of DIAMETER_ERROR_USER_UNKNOWN shall be returned.\nIf it is known, the V2X Control Function shall update the corresponding data according to the indication as sent in the request, and acknowledge the Update V2X Subscriber Data message by returning an Update V2X Subscriber Data Answer. If the V2X-Update-Flags indicates that the V2X subscription data is to be deleted, the V2X Control Function shall delete the associated V2X UE context if it has been stored before.\nIf the update of the subscription data succeeds in the V2X Control Function, the Result-Code shall be set to DIAMETER_SUCCESS.\nIf the V2X Control Function cannot fulfil the received request for other reasons, e.g. due to a database error, it shall set the Result-Code to DIAMETER_UNABLE_TO_COMPLY. In this case, the V2X Control Function shall mark the subscription record \"Subscriber data to be restored in the HSS\".",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.388_5.3.3",
      "section_id": "5.3.3",
      "section_title": "Detailed behaviour of the HSS",
      "content": "The HSS shall make use of this procedure to update the relevant subscriber related data in the V2X Control Function to replace a specific part of the user data stored in the V2X Control Function with the data sent.\nIf the V2X related subscription data is updated or revoked, the HSS sends the updated V2X subscription data to the V2X Control Function. The HSS shall include the V2X-Update-Flags to indicate which part of the data is updated. If all of the V2X subscription data is to be removed, the HSS shall set the \"Removal of all V2X Subscription Data\" bit of the V2X-Update-Flags, and the HSS shall delete the V2X Control Function Identity if it is stored for this subscriber.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.388_5.4.1",
      "section_id": "5.4.1",
      "section_title": "General",
      "content": "This procedure shall be used between the V2X Control Function and the HSS when the HSS needs to be notified about:\n-\trevocation of authorization for V2X service on one PLMN.\n-\tremoval of the subscription data from the V2X Control Function either by an MMI interaction or automatically.\nThis procedure is mapped to the commands ProSe-Notify-Request/Answer (PNR/PNA) in the Diameter application specified in clause 6. Table 5.4.1-1 and table 5.4.1-2 detail the involved information elements.\nTable 5.4.1-1: V2X Notify Request\nInformation Element Name\nMapping to Diameter AVP\nCat.\nDescription\nIMSI\nUser-Name (See IETF RFC 6733 [3])\nC\nThis information element shall contain the user IMSI, formatted according to 3GPP TS 23.003 [8], clause 2.2.\nIt shall be present if the revocation is for a specific UE.\nSupported Features\n(See 3GPP TS 29.229 [6])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nPLMN ID (see 3GPP TS 29.272 [10])\nVisited-PLMN-Id\nC\nThis information element shall contain the MCC and the MNC of the PLMN where the UE's authorization for V2X service is revoked, see 3GPP TS 23.285 [2].\nIt shall be present if the V2X Control Function revokes the authorization for V2X service in a specific PLMN.\nV2X Notify Flags\n(see 6.3.5)\nV2X-Notify-Flags\nC\nThis Information Element shall contain a bit mask. See 6.3.7 for the meaning of the bits.\nTable 5.4.1-2: V2X Notify Answer\nInformation Element Name\nMapping to Diameter AVP\nCat.\nDescription\nResult(See 6)\nResult-Code / Experimental-Result\nM\nThis IE shall contain the result of the operation.\nThe Result-Code AVP shall be used to indicate success / errors as defined in the Diameter base protocol.\nThe Experimental-Result AVP shall be used for V4 errors. This is a grouped AVP which shall contain the 3GPP Vendor ID in the Vendor-Id AVP, and the error code in the Experimental-Result-Code AVP.\nThe following errors are applicable:\n-\tUser Unknown\n-\tUnknown V2X Subscription\nSupported Features\n(See 3GPP TS 29.229 [6])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6",
        "ts_23.003_clause_2.2",
        "table_5.4.1-1",
        "table_5.4.1-2",
        "ts_23.003",
        "ts_29.229",
        "ts_29.272",
        "ts_23.285"
      ]
    },
    {
      "chunk_id": "ts_29.388_5.4.2",
      "section_id": "5.4.2",
      "section_title": "Detailed Behaviour of the V2X Control Function",
      "content": "The V2X Control Function shall make use of this procedure to revoke authorization for V2X service.\nThe V2X Control Function shall make use of this procedure to inform the HSS when the subscription data is deleted from the V2X Function database due to MMI interaction or automatically.\nThe V2X Control Function shall send the updated V2X Permission and the PLMN ID for which the V2X Permission is to be updated. If the revocation is for a single UE in the indicated PLMN, the V2X Function shall include IMSI in the request.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.388_5.4.3",
      "section_id": "5.4.3",
      "section_title": "Detailed Behaviour of the HSS",
      "content": "When receiving a V2X Notify Request the HSS shall check if the IMSI, if present in the message, exists in the HSS. If not, an Experimental-Result of DIAMETER_ERROR_USER_UNKNOWN shall be returned.\nIf the IMSI exists but there is not any V2X subscription data for the IMSI and the PLMN ID as indicated by the Visited-PLMN-Id AVP in the request, the HSS shall return an Experimental-Result of DIAMETER_ERROR_UNKNOWN_V2X_SUBSCRIPTION.\nIf the V2X-Notify-Flags indicates revocation of authorization for V2X service, and\n-\tif the IMSI exists and there is V2X subscription data for the IMSI and the PLMN ID as indicated by the Visited-PLMN-Id AVP in the request, the HSS shall revoke V2X service as indicated by the VNR Flags received in the request on that PLMN for the user and update the V2X Subscription data accordingly. The HSS shall set the result code to DIAMETER_SUCCESS.\n-\tif IMSI is not present in the message, the HSS shall check if there are any users subscribed to V2X subscription for the PLMN as indicated by the Visited-PLMN-Id AVP in the request, and if yes, revoke V2X service as indicated by the VNR Flags received in the request on that PLMN for all the impacted users and update their V2X Subscription data accordingly. The HSS shall set the result code to DIAMETER_SUCCESS.\nIf the VNR Flags indicates the subscription data is deleted from the V2X Control Function, the HSS shall remove the V2X Function Identity for the subscriber and set the result code to DIAMETER_SUCCESS.\nFor any other reasons if the HSS cannot fulfil the received request, e.g. due to a database error, it shall set the result code to DIAMETER_UNABLE_TO_COMPLY.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.388_5.5.1",
      "section_id": "5.5.1",
      "section_title": "General",
      "content": "The Reset Procedure shall be used by the HSS, after a restart, to indicate to the V2X Control Function that a failure has occurred.\nThe Reset Procedure may also be used by the HSS as part of operation and maintenance actions e.g. to allow planned HSS outage without service interruption.\nThis procedure is mapped to the commands Reset-Request/Answer (RSR/RSA) in the Diameter application specified in clause  6.\nTable 5.5.1-1 specifies the involved information elements for the request.\nTable 5.5.1-2 specifies the involved information elements for the answer.\nTable 5.5.1-1: Reset Request\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nUser Id List\n(See 3GPP TS 29.272 [10])\nUser-Id\nO\nThis IE shall contain a list of V2X User-Ids where an V2X User-Id comprises the leading digits of an IMSI (i.e. MCC, MNC, leading digits of MSIN) and it shall identify the set of subscribers whose IMSIs begin with the User-Id. The HSS may include this information element if the occurred failure is limited to subscribers identified by one or more User-Ids.\nSupported Features\n(See 3GPP TS 29.229 [6])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nReset-IDs\n(See 3GPP TS 29.272 [10])\nReset-ID\nO\nIf present, this information element identifies together with the HSS's realm the set of impacted subscribers.\nTable 5.5.1-2: Reset Answer\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nSupported Features\n(See 3GPP TS 29.229 [6])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nResult\n(See 6.4)\nResult-Code / Experimental-Result\nM\nThis IE shall contain the result of the operation.\nThe Result-Code AVP shall be used to indicate success / errors as defined in the Diameter Base Protocol.\nThe Experimental-Result AVP shall be used for V4 errors. This is a grouped AVP which shall contain the 3GPP Vendor ID in the Vendor-Id AVP, and the error code in the Experimental-Result-Code AVP.\nThere are no Experimental-Result codes applicable for this command.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6",
        "table_5.5.1-1",
        "table_5.5.1-2",
        "ts_29.272",
        "ts_29.229"
      ]
    },
    {
      "chunk_id": "ts_29.388_5.5.2",
      "section_id": "5.5.2",
      "section_title": "Detailed behaviour of the V2X Control Function",
      "content": "When receiving a Reset message the V2X Control Function shall mark all impacted subscriber records \"Subscriber Data Confirmed in HSS\" as \"Not Confirmed\", as defined in 3GPP TS 23.007 [14]. If the Reset-IDs IE is supported and received, the V2X Control Function shall make use of the Reset-IDs (together with the HSS's realm) in order to determine which subscriber records are impacted (i.e. check whether at least one received Reset-ID is associated with the subscriber, and the HSS's realm identity received in the Origin-Realm AVP matches the value stored after successful V2X-Subscriber-Information retrieval); otherwise the V2X Control Function shall make use of the HSS Identity received in the Origin-Host AVP (by comparing it with the value stored after successful V2X-Subscriber-Information retrieval) and may make use of the received User-Id-List (if any) in order to determine which subscriber records are impacted.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.007"
      ]
    },
    {
      "chunk_id": "ts_29.388_5.5.3",
      "section_id": "5.5.3",
      "section_title": "Detailed behaviour of the HSS",
      "content": "The HSS shall make use of this procedure in order to indicate to all relevant V2X Control Functions that the HSS has restarted and may have lost the current V2X Control Function Identity of some of its subscribers who may be currently roaming in the V2X Control Function Area and that the HSS, therefore, cannot send an Update V2X Subscriber Data messages when needed.\nIf the Reset-ID feature is not supported by the V2X Control Function and the HSS, the HSS may include a list of User Ids identifying a subset of subscribers served by the HSS, if the occurred failure is limited to those subscribers.\nIf the Reset-ID feature is supported by the V2X Control Function, the HSS optionally may include one (or several) Reset-ID AVPs identifying e.g. failed hardware components if the occured failure is limited to those subscribers associated with e.g. the identified failed hardware components.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.388_6.1.1",
      "section_id": "6.1.1",
      "section_title": "Use of Diameter base protocol",
      "content": "The Diameter Base Protocol as specified in IETF RFC 6733 [3] shall apply except as modified by the defined support of the methods and the defined support of the commands and AVPs, result and error codes as specified in this specification. Unless otherwise specified, the procedures (including error handling and unrecognised information handling) shall be used unmodified as specified in IETF RFC 6733 [3].",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.388_6.1.2",
      "section_id": "6.1.2",
      "section_title": "Securing Diameter Messages",
      "content": "For secure transport of Diameter messages, see 3GPP TS 33.210 [4].",
      "chunk_type": "general",
      "cross_references": [
        "ts_33.210"
      ]
    },
    {
      "chunk_id": "ts_29.388_6.1.3",
      "section_id": "6.1.3",
      "section_title": "Accounting Functionality",
      "content": "Accounting functionality (Accounting Session State Machine, related command codes and AVPs) shall not be used on the V4 interface.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.388_6.1.4",
      "section_id": "6.1.4",
      "section_title": "Use of Sessions",
      "content": "Between the V2X Control Function and the HSS, Diameter sessions shall be implicitly terminated. An implicitly terminated session is one for which the server does not maintain state information. The client shall not send any re-authorization or session termination requests to the server.\nThe Diameter base protocol includes the Auth-Session-State AVP as the mechanism for the implementation of implicitly terminated sessions.\nThe client (server) shall include in its requests (responses) the Auth-Session-State AVP set to the value NO_STATE_MAINTAINED (1), as described in IETF RFC 6733 [3]. As a consequence, the server shall not maintain any state information about this session and the client shall not send any session termination request. Neither the Authorization-Lifetime AVP nor the Session-Timeout AVP shall be present in requests or responses.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.388_6.1.5",
      "section_id": "6.1.5",
      "section_title": "Transport Protocol",
      "content": "Diameter messages over the V4 interface shall make use of SCTP, see IETF RFC 4960 [5].",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.388_6.1.6",
      "section_id": "6.1.6",
      "section_title": "Routing Considerations",
      "content": "This clause specifies the use of the Diameter routing AVPs Destination-Realm and Destination-Host.\nThe V4 reference point is defined as an intra-operator interface, and both the V2X Control Function and the HSS are located in the home PLMN of the UE that requests V2X. If the V2X Control Function knows the address/name of the HSS for a certain user, both the Destination-Realm and Destination-Host AVPs shall be present in the request. Otherwise, the Destination-Realm AVP shall be present and the command shall be routed to the next Diameter node. Consequently, the Destination-Host AVP is declared as optional in the ABNF for all requests initiated by the V2X Control Function.\nThe HSS obtains the Destination-Host AVP to use in requests towards the V2X Control Function, from the Origin-Host AVP received in previous requests from the V2X Control Function. Consequently, the Destination-Host AVP is declared as mandatory in the ABNF for all requests initiated by the HSS.\nIf the Vendor-Specific-Application-ID AVP is received in any of the commands defined in this specification, it shall be ignored by the receiving node, and it shall not be used for routing purposes.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.388_6.1.7",
      "section_id": "6.1.7",
      "section_title": "Advertising Application Support",
      "content": "The V2X Control Function and the HSS shall advertise support of the Diameter V4 Application by including the value of the application identifier in the Auth-Application-Id AVP within the Vendor-Specific-Application-Id grouped AVP of the Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands.\nThe vendor identifier value of 3GPP (10415) shall be included in the Supported-Vendor-Id AVP of the Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands, and in the Vendor-Id AVP within the Vendor-Specific-Application-Id grouped AVP of the Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands.\nThe Vendor-Id AVP included in Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands that is not included in the Vendor-Specific-Application-Id AVPs as described above shall indicate the manufacturer of the Diameter node as per IETF RFC 6733 [3].",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.388_6.1.8",
      "section_id": "6.1.8",
      "section_title": "Diameter Application Identifier",
      "content": "The V4 interface protocol shall be defined as an IETF vendor specific Diameter application, where the vendor is 3GPP. The vendor identifier assigned by IANA to 3GPP (http://www.iana.org/assignments/enterprise-numbers) is 10415.\nThe Diameter application identifier assigned to the V4 interface application is 16777355 (allocated by IANA).",
      "chunk_type": "parameter",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.388_6.1.9",
      "section_id": "6.1.9",
      "section_title": "Use of the Supported-Features AVP",
      "content": "When new functionality is introduced on the V4 interface, it should be defined as optional. If backwards incompatible changes cannot be avoided, the new functionality shall be introduced as a new feature and support advertised with the Supported-Features AVP. The usage of the Supported-Features AVP on the V4 interface is consistent with the procedures for the dynamic discovery of supported features as defined in clause 7.2 of 3GPP TS 29.229 [6].\nWhen extending the application by adding new AVPs for a feature, the new AVPs shall have the M bit cleared and the AVP shall not be defined mandatory in the command ABNF.\nAs defined in 3GPP TS 29.229 [6], the Supported-Features AVP is of type grouped and contains the Vendor-Id, Feature-List-ID and Feature-List AVPs. On the all reference points as specified in this specification, the Supported-Features AVP is used to identify features that have been defined by 3GPP and hence, for features defined in this document, the Vendor-Id AVP shall contain the vendor ID of 3GPP (10415). If there are multiple feature lists defined for the reference point, the Feature-List-ID AVP shall differentiate those lists from one another.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.229_clause_7.2",
        "ts_29.229"
      ]
    },
    {
      "chunk_id": "ts_29.388_6.2.1",
      "section_id": "6.2.1",
      "section_title": "Introduction",
      "content": "This clause defines the Command code values and related ABNF for each command described in this specification.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.388_6.2.2",
      "section_id": "6.2.2",
      "section_title": "Command-Code Values",
      "content": "This clause defines Command-Code values for the V4 interface application as allocated by IANA.\nEvery command is defined by means of the ABNF syntax IETF RFC 5234 [7], according to the rules in IETF RFC 6733 [3]. In the case, the definition and use of an AVP is not specified in this document, the guidelines in IETF RFC 6733 [3] shall apply.\nThe Vendor-Specific-Application-Id AVP shall not be included in any command sent by Diameter nodes supporting applications defined in this specification. If the Vendor-Specific-Application-Id AVP is received in any of the commands defined in this specification, it shall be ignored by the receiving node.\nNOTE:\tThe Vendor-Specific-Application-Id is included as an optional AVP in all Command Code Format specifications defined in this specification in order to overcome potential interoperability issues with intermediate Diameter agents non-compliant with the IETF RFC 6733 [3].\nThe following Command Codes are defined in this specification:\nTable 6.2.2-1: Command-Code values for V4\nCommand-Name\nAbbreviation\nCode\nClause\nProSe-Subscriber-Information-Request\nPIR\n8388664\n6.2.3\nProSe-Subscriber-Information-Answer\nPIA\n8388664\n6.2.4\nUpdate-ProSe-Subscriber-Data-Request\nUPR\n8388665\n6.2.5\nUpdate-ProSe-Subscriber-Data-Answer\nUPA\n8388665\n6.2.6\nProSe-Notify-Request\nPNR\n8388666\n6.2.7\nProSe-Notify-Answer\nPNA\n8388666\n6.2.8\nReset-Request\nRSR\n322\n6.2.9\nReset-Answer\nRSA\n322\n6.2.10\nFor these commands, the Application-ID field shall be set to 16777355 (application identifier of the V4 interface application, allocated by IANA).",
      "chunk_type": "general",
      "cross_references": [
        "table_6.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.388_6.2.3",
      "section_id": "6.2.3",
      "section_title": "ProSe-Subscriber-Information-Request (PIR) Command",
      "content": "The ProSe-Subscriber-Information-Request (PIR) command, indicated by the Command-Code field set to 8388664 and the \"R\" bit set in the Command Flags field, is sent from the V2X Control Function to the HSS. The ProSe-Subscriber-Information-Request (PIR) is originally defined in 3GPP TS 29.344 [15].\nMessage Format when used over the V4 application:\n< ProSe-Subscriber-Information-Request > ::=\t< Diameter Header: 8388664, REQ, PXY, 16777355 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ Destination-Host ]\n{ Destination-Realm }\n{ User-Name }\n*[ Supported-Features ]\n[ OC-Supported-Features ]\n*[ Proxy-Info ]\n*[ Route-Record ]\n*[ AVP ]",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.344"
      ]
    },
    {
      "chunk_id": "ts_29.388_6.2.4",
      "section_id": "6.2.4",
      "section_title": "ProSe-Subscriber-Information-Answer (PIA) Command",
      "content": "The ProSe-Subscriber-Information-Answer (PIA) command, indicated by the Command-Code field set to 8388664 and the \"R\" bit cleared in the Command Flags field, is sent from the HSS to the V2X Control Function. The ProSe-Subscriber-Information-Answer (PIA) is originally defined in 3GPP TS 29.344 [15].\nMessage Format when used over the V4 application:\n< ProSe-Subscriber-Information-Answer > ::=\t< Diameter Header: 8388664, PXY, 16777355 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ V2X-Subscription-Data ]\n[ MSISDN ]\n[ Visited-PLMN-Id ]\n*[ Supported-Features ]\n[ OC-Supported-Features ]\n[ OC-OLR ]\n*[ Load ]\n*[ Reset-ID ]\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.344"
      ]
    },
    {
      "chunk_id": "ts_29.388_6.2.5",
      "section_id": "6.2.5",
      "section_title": "Update-ProSe-Subscriber-Data-Request (UPR) Command",
      "content": "The Update-ProSe-Subscriber-Data-Request (UPR) command, indicated by the Command-Code field set to 8388665 and the 'R' bit set in the Command Flags field, is sent from the HSS to the V2X Control Function. The Update-ProSe-Subscriber-Data-Request (UPR) is originally defined in 3GPP TS 29.344 [15].\nMessage Format when used over the V4 application:\n< Update-ProSe-Subscriber-Data-Request > ::=\t< Diameter Header: 8388665, REQ, PXY, 16777355 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n{ Destination-Host }\n{ Destination-Realm }\n{ User-Name }\n*[ Supported-Features ]\n[ V2X-Subscription-Data ]\n[ Visited-PLMN-Id ]\n{ V2X-Update-Flags }\n*[ Reset-ID ]\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.344"
      ]
    },
    {
      "chunk_id": "ts_29.388_6.2.6",
      "section_id": "6.2.6",
      "section_title": "Update-ProSe-Subscriber-Data-Answer (UPA) Command",
      "content": "The Update-ProSe-Subscriber-Data-Answer (UPA) command, indicated by the Command-Code field set to 8388665 and the 'R' bit cleared in the Command Flags field, is sent from the V2X Control Function to the HSS. The Update-ProSe-Subscriber-Data-Answer (UPA) is originally defined in 3GPP TS 29.344 [15].\nMessage Format when used over the V4 application:\n< Update-ProSe-Subscriber-Data-Answer> ::=\t< Diameter Header: 8388665, PXY, 16777355 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n*[ Supported-Features ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.344"
      ]
    },
    {
      "chunk_id": "ts_29.388_6.2.7",
      "section_id": "6.2.7",
      "section_title": "ProSe-Notify-Request (PNR) Command",
      "content": "The ProSe-Notify-Request (VNR) command, indicated by the Command-Code field set to 8388666 and the \"R\" bit set in the Command Flags field, is sent from the V2X Control Function to the HSS. The ProSe-Nofity-Request (PNR) is originally defined in 3GPP TS 29.344 [15].\nMessage Format when used over the V4 application:\n< ProSe-Notify-Request > ::=\t< Diameter Header: 8388666, REQ, PXY, 16777355 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ Destination-Host ]\n{ Destination-Realm }\n[ User-Name ]\n[ Visited-PLMN-Id ]\n[ V2X-Notify-Flags ]\n*[ Supported-Features ]\n[ OC-Supported-Features ]\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.344"
      ]
    },
    {
      "chunk_id": "ts_29.388_6.2.8",
      "section_id": "6.2.8",
      "section_title": "ProSe-Notify-Answer (PNA) Command",
      "content": "The ProSe-Notify-Answer (VNA) command, indicated by the Command-Code field set to 8388666 and the \"R\" bit cleared in the Command Flags field, is sent from the HSS to the V2X Control Function. The ProSe-Nofity-Answer (PNA) is originally defined in 3GPP TS 29.344 [15].\nMessage Format when used over the V4 application:\n< ProSe-Notify-Answer > ::=\t< Diameter Header: 8388666, PXY, 16777355 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n*[ Supported-Features ]\n[ OC-Supported-Features ]\n[ OC-OLR ]\n*[ Load ]\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.344"
      ]
    },
    {
      "chunk_id": "ts_29.388_6.2.9",
      "section_id": "6.2.9",
      "section_title": "Reset-Request (RSR) Command",
      "content": "The Reset-Request (RSR) command, indicated by the Command-Code field set to 322 and the 'R' bit set in the Command Flags field, is sent from HSS to the V2X Control Function.\nMessage Format when used over the V4 application:\n< Reset-Request> ::=\t< Diameter Header: 322, REQ, PXY, 16777355 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Origin-Host }\n{ Origin-Realm }\n{ Destination-Host }\n{ Destination-Realm }\n*[ Supported-Features ]\n*[ User-Id ]\n*[ Reset-ID ]\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.388_6.2.10",
      "section_id": "6.2.10",
      "section_title": "Reset-Answer (RSA) Command",
      "content": "The Reset-Answer (RSA) command, indicated by the Command-Code field set to 322 and the 'R' bit cleared in the Command Flags field, is sent from V2X Control Function to HSS.\nMessage Format when used over the V4 application:\n< Reset-Answer> ::=\t< Diameter Header: 322, PXY, 16777355 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n*[ Supported-Features ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.388_6.3.1",
      "section_id": "6.3.1",
      "section_title": "General",
      "content": "The following table specifies the Diameter AVPs defined for the V4 interface protocol, their AVP Code values, types, possible flag values and whether or not the AVP may be encrypted. The Vendor-ID header of all AVPs defined in this specification shall be set to 3GPP (10415).\nTable 6.3.1-1: V4 specific Diameter AVPs\nAVP Flag rules\nAttribute Name\nAVP Code\nClause defined\nValue Type\nMust\nMay\nShould not\nMust not\nMay Encr.\nV2X-PC5-Allowed-PLMN\n4600\n6.3.3\nGrouped\nM,V\nNo\nV2X-Update-Flags\n4601\n6.3.4\nUnsigned32\nM,V\nNo\nV2X-Notify-Flags\n4602\n6.3.5\nUnsigned32\nM,V\nNo\nPLMN-Allowed-PC5-RATs\n4603\n6.3.10\nGrouped\nV\nM\nNo\nPC5-RAT-Type\n4604\n6.3.11\nEnumerated\nV\nM\nNo\nNOTE 1:\tThe AVP header bit denoted as \"M\", indicates whether support of the AVP is required. The AVP header bit denoted as \"V\", indicates whether the optional Vendor-ID field is present in the AVP header. For further details, see IETF RFC 6733 [3].\nNOTE 2:\tIf the M-bit is set for an AVP and the receiver does not understand the AVP, it shall return a rejection. If the M-bit is not set for an AVP, the receiver shall not return a rejection, whether or not it understands the AVP. If the receiver understands the AVP but the M-bit value does not match with the definition in this table, the receiver shall ignore the M-bit.\nThe following table specifies the Diameter AVPs re-used by the V4 interface protocol from existing Diameter Applications, including a reference to their respective specifications and when needed, a short description of their use within V4.\nAny other AVPs from existing Diameter Applications, except for the AVPs from the Diameter base protocol, do not need to be supported. The AVPs from the Diameter base protocol are not included in table 6.3.1-2, but they may be re-used for the V4 protocol.\nTable 6.3.1-2: V4 re-used Diameter AVPs\nAttribute Name\nReference\nComments\nM-bit\nV2X-Subscription-Data\n3GPP TS 29.272 [10]\nSee clause 6.3.2.\nVisited-PLMN-Id\n3GPP TS 29.272 [10]\nUser-Name\nIETF RFC 6733 [3]\nUser-Id\n3GPP TS 29.272 [10]\nReset-ID\n3GPP TS 29.272 [10]\nMSISDN\n3GPP TS 29.329 [11]\nSupported-Features\n3GPP TS 29.229 [6]\nFeature-List-ID\n3GPP TS 29.229 [6]\nFeature-List\n3GPP TS 29.229 [6]\nOC-Supported-Features\nIETF RFC 7683 [12]\nSee clause 6.3.6\nMust set\nOC-OLR\nIETF RFC 7683 [12]\nSee clause 6.3.7\nMust set\nDRMP\nIETF RFC 7944 [13]\nSee clause 6.3.8\nMust not set\nLoad\nIETF RFC 8583 [16]\nSee clause 6.3.9\nMust not set\nNOTE 1:\tThe M-bit settings for re-used AVPs override those of the defining specifications that are referenced. Values include: \"Must set\", \"Must not set\". If the M-bit setting is blank, then the defining specification applies.\nNOTE 2:\tIf the M-bit is set for an AVP and the receiver does not understand the AVP, it shall return a rejection. If the M-bit is not set for an AVP, the receiver shall not return a rejection, whether or not it understands the AVP. If the receiver understands the AVP but the M-bit value does not match with the definition in this table, the receiver shall ignore the M-bit.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.272_clause_6.3.2",
        "clause_6.3.6",
        "clause_6.3.7",
        "clause_6.3.8",
        "clause_6.3.9",
        "table_6.3.1-1",
        "table_6.3.1-2",
        "ts_29.272",
        "ts_29.329",
        "ts_29.229"
      ]
    },
    {
      "chunk_id": "ts_29.388_6.3.2",
      "section_id": "6.3.2",
      "section_title": "V2X-Subscription-Data",
      "content": "The V2X-Subscription-Data AVP is of type Group. It shall contain the V2X related subscription data. The V2X-Subscription-Data is originally defined in 3GPP TS 29.272 [10].\nAVP format when used over V4 interface:\nV2X-Subscription-Data ::= <AVP header: 1688 10415>\n[ V2X-PC5-Allowed-PLMN ]\n*[AVP]",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.272"
      ]
    },
    {
      "chunk_id": "ts_29.388_6.3.3",
      "section_id": "6.3.3",
      "section_title": "V2X-PC5-Allowed-PLMN",
      "content": "The V2X-PC5-Allowed-PLMN AVP is of type Grouped. It shall contain the PLMN where the UE is authorised to use V2X communication over PC5, and for each indicated PLMN, the RAT(s) over which the UE is authorized to perform V2X communication over PC5 reference point.\nAVP format\nV2X-PC5-Allowed-PLMN ::= <AVP header: 4600 10415>\n*[ Visited-PLMN-Id ]\n*[ PLMN-Allowed-PC5-RATs ]\n*[AVP]\nIf the Visited-PLMN-Id AVP is absent, the PLMN-Allowed-PC5-RATs AVP shall be absent.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.388_6.3.4",
      "section_id": "6.3.4",
      "section_title": "V2X-Update-Flags",
      "content": "The V2X-Update-Flags AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits is defined in table 6.3.4-1:\nTable 6.3.4-1: V2X-Update-Flags\nBit\nName\nDescription\n0\nUpdate\nThis bit, when set, indicates that the V2X subscriber related data are updated.\n1\nRemoval\nThis bit, when set, indicates that all of the V2X subscriber related data are removed.\n2\nReset-ID Update\nThis bit, when set, indicates that the complete list on Reset-IDs is updated.\n3\nReset-ID Removal\nThis bit, when set, indicates that the complete list on Reset-IDs is removed.\nNOTE:\tBits not defined in this table shall be cleared by the sending HSS and discarded by the receiving V2X Control Function.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.3.4-1"
      ]
    },
    {
      "chunk_id": "ts_29.388_6.3.5",
      "section_id": "6.3.5",
      "section_title": "V2X-Notify-Flags",
      "content": "The V2X-Notify-Flags AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 6.3.5-1:\nTable 6.3.5-1: V2X-Notify-Flags\nbit\nname\nDescription\n0\nV2X communication over PC5 Revoked\nThis bit, when set, shall indicate to the HSS that the authorization for V2X communication over PC5 is to be revoked on the indicated PLMN.\n1\nPurged UE\nThis bit, when set, shall indicate to the HSS that the subscriber's data has been deleted from the V2X Control Function.\nNOTE 1:\tBits not defined in this table shall be cleared by the sending V2X Control Function and discarded by the receiving HSS.\nNOTE 2:\tIf Purged UE bit is set, all other bits in this table shall be cleared by the sending V2X Control Function and discarded by the receiving HSS.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.3.5-1"
      ]
    },
    {
      "chunk_id": "ts_29.388_6.3.6",
      "section_id": "6.3.6",
      "section_title": "OC-Supported-Features",
      "content": "The OC-Supported-Features AVP is of type Grouped and it is defined in IETF RFC 7683 [12]. This AVP is used to support Diameter overload control mechanism, see Annex A for more information.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.388_6.3.7",
      "section_id": "6.3.7",
      "section_title": "OC-OLR",
      "content": "The OC-OLR AVP is of type Grouped and it is defined in IETF RFC 7683 [12]. This AVP is used to support Diameter overload control mechanism, see Annex A for more information.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.388_6.3.8",
      "section_id": "6.3.8",
      "section_title": "DRMP",
      "content": "The DRMP AVP is of type Enumerated and it is defined in IETF RFC 7944 [13]. This AVP allows the HSS and the V2X Control Function to indicate the relative priority of Diameter messages over the V4 interface.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.388_6.3.9",
      "section_id": "6.3.9",
      "section_title": "Load",
      "content": "The Load AVP is of type Grouped and it is defined in IETF RFC 8583 [16]. This AVP is used to support Diameter load control mechanism, see Annex D for more information.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.388_6.3.10",
      "section_id": "6.3.10",
      "section_title": "PLMN-Allowed-PC5-RATs",
      "content": "The PLMN-Allowed-PC5-RATs AVP is of type Grouped. It shall contain the RAT(s) over the indicated PLMN where the UE is authorized to perform V2X communication over PC5 reference point.\nAVP format\nV2X-PC5-Allowed-PLMN ::= <AVP header: 4603 10415>\n{ Visited-PLMN-Id }\n1*{ PC5-RAT-Type }\n*[AVP]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.388_6.3.11",
      "section_id": "6.3.11",
      "section_title": "PC5-RAT-Type",
      "content": "The PC5-RAT-Type AVP (AVP code 4604) is of type Enumerated, it is used to identify the PC5 radio technology to perform V2X communication over PC5 reference point.\nThe following values are defined:\nLTE (0)\nThis value shall be used to indicate that the RAT is PC5 LTE.\nNR (1)\nThis value shall be used to indicate that the RAT is PC5 NR.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.388_6.4.1",
      "section_id": "6.4.1",
      "section_title": "General",
      "content": "This clause defines result code values that shall be supported by all Diameter implementations that conform to this specification.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.388_6.4.2",
      "section_id": "6.4.2",
      "section_title": "Success",
      "content": "Result codes that fall within the Success category shall be used to inform a peer that a request has been successfully completed. The Result-Code AVP values defined in the Diameter base protocol IETF RFC 6733 [3] shall be applied.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.388_6.4.3.1",
      "section_id": "6.4.3.1",
      "section_title": "General",
      "content": "Errors that fall within the Permanent Failures category shall be used to inform the peer that the request has failed, and should not be attempted again. The Result-Code AVP values defined in the Diameter base protocol IETF RFC 6733 [3] shall be applied. When one of the result codes defined here is included in a response, it shall be inside an Experimental-Result AVP and the Result-Code AVP shall be absent.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.388_6.4.3.2",
      "section_id": "6.4.3.2",
      "section_title": "DIAMETER_ERROR_USER_UNKNOWN (5001)",
      "content": "This result code shall be sent by the HSS to indicate that the user identified by the IMSI is unknown. This error code is defined in 3GPP TS 29.229 [6].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.229"
      ]
    },
    {
      "chunk_id": "ts_29.388_6.4.3.3",
      "section_id": "6.4.3.3",
      "section_title": "DIAMETER_ERROR_UNKNOWN_V2X_SUBSCRIPTION (5690)",
      "content": "This result code shall be sent by the HSS to indicate that no V2X subscription is associated with the IMSI.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.388_6.4.3.4",
      "section_id": "6.4.3.4",
      "section_title": "DIAMETER_ERROR_V2X_NOT_ALLOWED (5691)",
      "content": "This result code shall be sent by the HSS to indicate that V2X is not allowed to be used in the specific PLMN where the UE is registered.\nAnnex A (normative):Diameter overload control mechanism\nA.1\tGeneral\nDiameter overload control mechanism is an optional feature.\nIETF RFC 7683 [12] specifies a Diameter overload control mechanism which includes the definition and the transfer of related AVPs between Diameter nodes.\nIt is recommended to make use of IETF RFC 7683 [12] on the V4 interface where, when applied, the V2X Control Function shall behave as reacting nodes and the HSS as a reporting node.\nA.2\tHSS behaviour\nThe HSS requests traffic reduction from the V2X Control Function when it is in an overload situation, including OC-OLR AVP in answer commands as described in IETF RFC 7683 [12].\nThe HSS identifies that it is in an overload situation by implementation specific means. For example, the HSS may take into account the traffic over the V4 interface or other interfaces, the level of usage of internal resources (CPU, memory), the access to external resources, etc.\nThe HSS determines the specific contents of OC-OLR AVP in overload reports and the HSS decides when to send OC-OLR AVPs by implementation specific means.\nA.3\tV2X Control Function behaviour\nThe V2X Control Function applies required traffic reduction received in answer commands to subsequent applicable requests, as per IETF RFC 7683 [12].\nThe V2X Control Function achieves requested traffic reduction by implementation specific means. For example, the V2X Control Function may implement message throttling with prioritization or a message retaining mechanism for operations that can be postponed.\nAnnex B (Informative):Diameter overload node behaviour\nB.1\tMessage prioritization\nThis clause describes possible behaviours of the V2X Control Function regarding message prioritisation in an informative purpose.\nThe V2X Control Function may take the following into account when making throttling decisions:\n-\tIdentification of the procedures that can be deferred, so to avoid to drop non deferrable procedures;\n-\tPrioritisation of certain types of request (e.g. between V2X-Subscriber-Information-Request (PIR) and V2X-Notify-Request (PNR)) according to the context of their use, in particular:\n-\tHigher prioritisation for commands that are related to a registered user for a service, so to avoid the interruption of the registered service for the user.\nAnnex C (normative):Diameter message priority mechanism\nC.1\tGeneral\nIETF RFC 7944 [13] specifies a Diameter routing message priority mechanism that allows Diameter nodes to indicate the relative priority of Diameter messages. With this information, other Diameter nodes may leverage the relative priority of Diameter messages into routing, resource allocation and also abatement decisions when overload control is applied.\nC.2\tV4 interface\nC.2.1\tGeneral\nThe Diameter message priority mechanism is an optional feature.\nIt is recommended to make use of IETF RFC 7944 [13] over the V4 interface of an operator network when the overload control defined in Annex A is applied on this V4 interface.\nC.2.2\tHSS and V2X Control Function behaviour\nWhen the HSS and the V2X Control Function support the Diameter message priority mechanism over the V4 interface, the HSS and the V2X Control Function shall comply with IETF RFC 7944 [13]. In particular, when priority is required, the HSS and the V2X Control Function shall include the DRMP AVP indicating a priority level in the requests it sends, and prioritise received requests according to the priority level received within the DRMP AVP. They shall prioritise received answers according to the priority level received within the DRMP AVP if present, otherwise according to the priority level of the corresponding request. They shall include the DRMP AVP in the answer to a received request if the required priority of the answer is different from the one of the request. The HSS and the V2X Control Function decisions for a required priority and for the priority level value are implementation specific.\nDiameter requests related to high priority traffic should contain a DRMP AVP with a high priority of which the level value is operator dependent.\nD.1\tGeneral\nDiameter load control mechanism is an optional feature.\nIETF RFC 8583 [16] specifies a Diameter load control mechanism which includes the definition and the transfer of related AVPs between Diameter nodes.\nIt is recommended to make use of IETF draft-ieft-dime-load-08 [16] on the V4 interface where, when applied, the V2X Control Function shall behave as reacting node and the HSS as a reporting node.\nD.2\tHSS behaviour\nThe HSS may report its current load by including a Load AVP of type HOST in answer commands as described in IETF RFC 8583 [16].\nThe HSS calculates its current load by implementation specific means. For example, the HSS may take into account the traffic over the V4 interface or other interfaces, the level of usage of internal resources (e.g. CPU, memory), the access to external resources, etc.\nThe HSS determines when to send Load AVPs of type HOST by implementation specific means.\nD.3\tV2X Control Function behaviour\nWhen performing next hop Diameter Agent selection for requests that are routed based on realm, the V2X Control Function may take into account load values from Load AVPs of type PEER received from candidate next hop Diameter nodes, as per IETF RFC 8583 [16].\nAnnex E (informative):Change history\nChange history\nDate\nMeeting\nTDoc\nCR\nRev\nCat\nSubject/Comment\nNew version\n2016-10\nCT4#74bis\nSkeleton, Implementation of C4-165230, C4-165231\n0.1.0\n2016-10\nCT4#74bis\nEditorial correction to the numbering of clauses\n0.1.1\n2016-11\nCT4#75\nImplementation of C4-166239, C4-166242\n0.2.0\n2017-02\nCT4#76\nImplementation of C4-171299, C4-171301, C4-171303, C4-171305.\n0.3.0\n2017-03\nCT#75\nCP-170014\nPresented for information and approval\n1.0.0\n2017-03\nCT#75\n3GPP TS approved in CT#75\n14.0.0\n2017-06\nCT#76\nCP-171032\n0001\n1\nLoad Control\n14.1.0\n2018-06\nCT#80\n-\n-\n-\nUpdate to Rel-15 version (MCC)\n15.0.0\n2019-09\nCT#85\nCP-192094\n0002\n1\ndraft-ietf-dime-load published as RFC 8583\n15.1.0\n2020-06\nCT#88e\nCP-201049\n0004\n-\nAuthorized PLMNs and RATs for V2X\n16.0.0\n2022-04\n-\n-\n-\n-\n-\nUpdate to Rel-17 version (MCC)\n17.0.0\n2024-03\n-\n-\n-\n-\n-\nUpdate to Rel-18 version (MCC)\n18.0.0",
      "chunk_type": "requirement",
      "cross_references": []
    }
  ]
}