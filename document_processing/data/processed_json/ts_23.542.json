{
  "metadata": {
    "specification_id": "ts_23.542",
    "version": "18.5.0",
    "title": "3GPP TS 23.542",
    "file_path": "/content/drive/MyDrive/RAG_thesis/data/23_series/23542-i50/23542-i50.docx"
  },
  "export_info": {
    "export_date": "2025-07-26T09:28:55.586187",
    "total_chunks": 263
  },
  "chunks": [
    {
      "chunk_id": "ts_23.542_1",
      "section_id": "1",
      "section_title": "Scope",
      "content": "The present document specifies the application enabler layer architecture, procedures and information flows necessary for enabling PIN applications over 3GPP networks. The specification includes the capabilities (e.g. PIN management, discovery of elements, capabilities and services related to PIN) at the application enablement layer that fulfil the deployment and operational requirements of PIN applications over 3GPP networks. The PIN enabler capabilities applies to 5GS.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_2",
      "section_id": "2",
      "section_title": "References",
      "content": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non‑specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t3GPP TS 22.261: \"Service requirements for the 5G system\".\n[3]\t3GPP TS 22.101: \"Service Principles\".\n[4]\t3GPP TS 23.501: \"System architecture for the 5G System (5GS)\"\n[5]\t3GPP TS 23.502: \"Procedures for the 5G System (5GS)\"\n[6]\t3GPP TS 37.355: \"LTE Positioning Protocol (LPP)\"\n[7]\t3GPP TS 23.222: \"Functional architecture and information flows to support Common API Framework for 3GPP Northbound APIs; Stage 2\"\n[8]\t3GPP TS 33.122: \"Security aspects of Common API Framework (CAPIF) for 3GPP northbound APIs\"",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905",
        "ts_22.261",
        "ts_22.101",
        "ts_23.501",
        "ts_23.502",
        "ts_37.355",
        "ts_23.222",
        "ts_33.122"
      ]
    },
    {
      "chunk_id": "ts_23.542_3.1",
      "section_id": "3.1",
      "section_title": "Terms",
      "content": "For the purposes of the present document, the terms given in TR 21.905 [1] and the following apply. A term defined in the present document takes precedence over the definition of the same term, if any, in TR 21.905 [1].\nAccess Control Information: A set of information that assists the authorized PINE in a PIN to access 5GS network via PEGC, for example, the username or password.\nPIN enabler: Refers to the overall functionality provided by the entities such as PIN Client, PIN Gateway Client, PIN Management Client, and PIN server in support of applications as per the architecture specified in clause 6\nPIN management: Refers to the set of operations related to creation, modification, maintenance and removal of PIN.\nPIN Profile: A set of data and information about the PIN and PIN elements belonging to a PIN.\nNOTE:\t3GPP TS 22.101 [3] clause 26a lists information that can be included in a PINE profile.\nService Switch: A mechanism to switch the service traffic flow between Application server and PINE to application server and other PINE.\nFor the purposes of the present document, the following terms given in 3GPP TS 22.261 [2] apply:\nPersonal IoT Network\nPIN direct connection\nPIN Element\nPIN Element with Gateway Capability\nPIN Element with Management Capability",
      "chunk_type": "general",
      "cross_references": [
        "clause_6",
        "ts_22.101_clause_26",
        "ts_21.905",
        "ts_22.101",
        "ts_22.261"
      ]
    },
    {
      "chunk_id": "ts_23.542_3.2",
      "section_id": "3.2",
      "section_title": "Symbols",
      "content": "For the purposes of the present document, the following symbols apply:\nSymbol format (EW)\n<symbol>\t<Explanation>",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_3.3",
      "section_id": "3.3",
      "section_title": "Abbreviations",
      "content": "For the purposes of the present document, the abbreviations given in TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in TR 21.905 [1].\nPIN\tPersonal IoT Network\nPINAPP\tPersonal IoT Network Application\nPEMC\tPIN Element with Management Capability\nPEGC\tPIN Element with Gateway Capability\nPINE\tPIN Element",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905"
      ]
    },
    {
      "chunk_id": "ts_23.542_5.1",
      "section_id": "5.1",
      "section_title": "General",
      "content": "This clause specifies architectural requirements for enabling Personal IoT Networks in different functional aspects.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_5.2.1.1",
      "section_id": "5.2.1.1",
      "section_title": "General",
      "content": "This clause specifies general requirements for the architecture.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_5.2.1.2",
      "section_id": "5.2.1.2",
      "section_title": "Requirements",
      "content": "[AR-5.2.1.2-a]\tThe application enablement layer architecture shall support deployment of personal IoT network.\n[AR-5.2.1.2-b]\tThe application enablement layer architecture shall support different deployment models in conjunction with an operator's 3GPP network.\n[AR-5.2.1.2-c]\tThe application enablement layer architecture shall be compatible with the 3GPP network system.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_5.2.2.1",
      "section_id": "5.2.2.1",
      "section_title": "General",
      "content": "This clause specifies PIN management requirements for the architecture.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_5.2.2.2",
      "section_id": "5.2.2.2",
      "section_title": "Requirements",
      "content": "[AR-5.2.2.2-a]\tThe application enablement layer architecture shall provide mechanisms to create PIN for UE or PIN elements.\n[AR-5.2.2.2-b]\tThe application enablement layer architecture shall provide mechanisms to delete PIN, either triggered by PINEs or by PIN server.\n[AR-5.2.2.2-c]\tThe application enablement layer architecture shall support the mechanisms of PIN modification procedure, for example, PEMC/PEGC relocation.\n[AR-5.2.2.2-d]\tThe application enablement layer architecture shall support the deployment and mechanism of multiple PEMCs/PEGCs.\n[AR-5.2.2.2-e]\tThe application enablement layer architecture shall support mechanisms to obtain PIN server endpoint address.\n[AR-5.2.2.2-f]\tThe application enablement layer architecture shall support the mechanisms to perform PIN discovery, and enable the PINEs to join/leave the PIN.\n[AR-5.2.2.2-g]\tThe application enablement layer architecture shall support the mechanisms of PINE registration to PIN server.\n[AR-5.2.2.2-h]\tThe application enablement layer architecture shall support mechanisms to maintain, configure, update the PIN profile/PIN client profile.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_5.2.3.1",
      "section_id": "5.2.3.1",
      "section_title": "General",
      "content": "This clause specifies PIN communication requirements for the architecture.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_5.2.3.2",
      "section_id": "5.2.3.2",
      "section_title": "Requirements",
      "content": "[AR-5.2.3.2-a]\tThe application enablement layer architecture shall provide mechanisms to configure routing information in PEGC to enable the PINE to access the network provided by PEGC.\n[AR-5.2.3.2-b]\tThe application enablement layer architecture shall provide mechanisms to support the PIN and the PINEs in PIN to consume the 5GS communication.\n[AR-5.2.3.2-c]\tThe application enablement layer architecture shall provide mechanisms to support the PEMC/PEGC to request the 5GS resource for PIN.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_5.2.4.1",
      "section_id": "5.2.4.1",
      "section_title": "General",
      "content": "This clause specifies service switch requirements for the architecture.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_5.2.4.2",
      "section_id": "5.2.4.2",
      "section_title": "Requirements",
      "content": "[AR-5.2.4.2-a]\tThe application enablement layer architecture shall provide mechanisms to support the service switching in a PIN between different PINE for achieving better service experience.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_5.2.5.1",
      "section_id": "5.2.5.1",
      "section_title": "General",
      "content": "This clause specifies application server discovery requirements for the architecture.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_5.2.5.2",
      "section_id": "5.2.5.2",
      "section_title": "Requirements",
      "content": "[AR-5.2.5.2-a]\tThe application enablement layer architecture shall provide mechanisms to support the application server discovery for PIN.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_5.2.6.1",
      "section_id": "5.2.6.1",
      "section_title": "General",
      "content": "This clause specifies service continuity requirements for the architecture.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_5.2.6.2",
      "section_id": "5.2.6.2",
      "section_title": "Requirements",
      "content": "[AR-5.2.6.2-a]\tThe application enablement layer architecture shall provide mechanisms to support the PEGC relocation procedure to enable service continuity.\n[AR-5.2.6.2-b]\tThe application enablement layer architecture shall provide mechanisms to change the communication from via PEGC to via 5GS, and enable the service continuity.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_5.2.7.1",
      "section_id": "5.2.7.1",
      "section_title": "General",
      "content": "This clause specifies PIN security requirements.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_5.2.7.2",
      "section_id": "5.2.7.2",
      "section_title": "Requirements",
      "content": "[AR-5.2.7.2-a]\tCommunication between the functional entities of the application enablement layer architecture shall be protected.\n[AR-5.2.7.2-b]\tAccess control mechanisms for authenticating functional entities of the application enablement layer architecture shall be provided.\n[AR-5.2.7.2-c]\tAccess control mechanisms for authorizing interactions between functional entities of the application enablement layer architecture shall be provided.\n[AR-5.2.7.2-d]\tMutual authentication and authorization between functional entities of the application enablement layer architecture shall be provided.\n[AR-5.2.7.2-e]\tMechanisms for replay protection of messages exchanged between functional entities of the application enablement layer architecture shall be provided.\n[AR-5.2.7.2-f]\tMechanisms for integrity protection of messages exchanged between functional entities of the application enablement layer architecture shall be provided.\n[AR-5.2.7.2-g]\tMechanisms for privacy protection of the user shall be provided.\n[AR-5.2.7.2-h]\tMechanisms for confidentiality protection of the user’s sensitive information (e.g., identity, location) shall be provided.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_5.2.8.1",
      "section_id": "5.2.8.1",
      "section_title": "General",
      "content": "This clause specifies the requirements for PIN subscription service.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_5.2.8.2",
      "section_id": "5.2.8.2",
      "section_title": "Requirements",
      "content": "[AR-5.2.8.2-a]\tThe application enablement layer architecture shall provide subscription and notification mechanisms enabling to receive PIN modification information changes.\n[AR-5.2.8.2-b]\tThe application enablement layer architecture shall provide subscription and notification mechanisms enabling to receive PIN management information changes.\n[AR-5.2.8.2-c]\tThe application enablement layer architecture shall provide subscription and notification mechanisms enabling to receive PIN profile information changes.\n[AR-5.2.8.2-d]\tThe application architecture shall provide subscription and notification mechanisms enabling to receive PIN connectivity information changes.\n[AR-5.2.8.2-e]\tThe application enablement architecture shall provide subscription and notification mechanisms enabling to receive PIN service continuity information changes.\n[AR-5.2.7.2-f]\tThe application enablement layer architecture shall provide subscription and notification mechanisms enabling a PINE/PEGC/PIN server to receive changes in PIN status information of PIN from an PEMC.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_5.2.9.1",
      "section_id": "5.2.9.1",
      "section_title": "General",
      "content": "This clause specifies the requirements for PIN application KPIs.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_5.2.9.2",
      "section_id": "5.2.9.2",
      "section_title": "Requirements",
      "content": "[AR-5.2.9.2-a]\tThe application enablement layer architecture shall provide mechanisms for the PEGC to publish its KPIs that the PEGC supported or gateway requirements.\n[AR-5.2.9.2-b]\tThe application enablement layer architecture shall provide mechanisms for the application client to publish its KPIs to operate effectively within the PIN or application level requirements.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_6.1",
      "section_id": "6.1",
      "section_title": "General",
      "content": "This clause provides the overall architecture description:\n-\tClause 6.2 describes the functional architecture;\n-\tClause 6.3 describes the functional entities;\n-\tClause 6.4 describes the reference points;\n-\tClause 6.5 describes the cardinality of functional entities and reference points.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6.2",
        "clause_6.3",
        "clause_6.4",
        "clause_6.5"
      ]
    },
    {
      "chunk_id": "ts_23.542_6.2",
      "section_id": "6.2",
      "section_title": "Architecture",
      "content": "This clause describes the architecture for enabling personal IoT networks in a reference point representation, where existing interactions between any two functions (e.g., PINE, PEGC, PEMC, PIN-Server, etc.) is shown by an appropriate reference point (e.g. PIN-1, PIN-2, etc.).\nThis clause provides the reference point representation:\n-\tClause 6.2.1 describes the reference point representation of the general architecture.\n-\tClause 6.2.2 describes the reference point representation for users accessing PIN services from outside the PIN.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.2.1",
        "clause_6.2.2"
      ]
    },
    {
      "chunk_id": "ts_23.542_6.2.1",
      "section_id": "6.2.1",
      "section_title": "General Architecture",
      "content": "Figure 6.2.1-1 illustrates the reference point representation of the architecture for PINAPP.\nFigure 6.2.1-1: PINAPP architecture\nThe PIN elements contains PIN client and/or application clients. The PIN Element with gateway capability (PEGC) performs the role of an entity supporting gateway capability for PIN. The PIN Element with management capability (PEMC) performs the role of an entity supporting management capability for PIN. A PIN includes at least one PEGC and at least one PEMC. The roles of UEs acting as PEGC and PEMC in 5GS are specified in clause 5.44 of 3GPP TS 23.501 [4].\nThe PIN enabler architecture consists of PIN client deployed in PIN element and PIN server deployed in Data network. The following interaction are supported in the PIN enabler architecture:\n-\tThe PIN client interacts with Application Client on the PINE over PIN-1 to provide and consume services in the PIN.\n-\tThe PIN server interacts with Application Server(s) over PIN-9. These interactions are supported using the CAPIF architecture as specified in 3GPP TS 23.222 [7].\n-\tThe PIN server interacts with 3GPP networks over PIN-8 to consume 3GPP network services.\n-\tThe PIN management client(s) interact with PIN server over PIN-6 for services related to management of PIN.\n-\tThe PIN client(s) interact with PIN server over PIN-10. These interactions traverse via the PEGC.\n-\tThe PIN gateway client(s) interact with PIN server over PIN-7.\n-\tPIN client(s) interact with PIN gateway client over PIN-2.\n-\tPIN management client interacts with PIN gateway client(s) over PIN-4.\n-\tPIN management client interacts with PIN client(s) over PIN-3.\n-\tA PIN client interacts with other PIN client(s) over PIN-5.\nNOTE 1:\tIt is possible that an application client on PIN elements can communicate with application server directly via 5GS or indirectly via PEGC.\nNOTE 2:\tIt is possible that an application client can communicate with other application client in the same PIN directly or via PEGC.\nNOTE 3:\tIt is possible that an application client can communicate with other application client in another PIN via PEGC.\nNOTE 4:\tThere is no restrict that only one PEMC/PEGC deployed in PIN. It is possible that in a PIN, multiple PEMCs/PEGCs are deployed.\nNOTE 5:\tPIN-5 is out-of-scope of the current release of the specification.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.501_clause_5.44",
        "figure_6.2.1-1",
        "ts_23.501",
        "ts_23.222"
      ]
    },
    {
      "chunk_id": "ts_23.542_6.2.2",
      "section_id": "6.2.2",
      "section_title": "Architecture of user accessing services provided by PIN Element from outside the PIN",
      "content": "The Figure 6.2.2-1 shows the application architecture to enable authorized user to access services provided by PIN element behind the PEGC. For simplicity, not all functional elements of Figure 6.2.2-1 are shown in below Figure 6.2.2-1.\nFigure 6.2.2-1: PINAPP architecture of User accessing services provided by PIN Element from outside the PIN\nThe interactions between PEGC and PIN client of the authorized user are supported over interface PIN-11. The interactions between PEMC and PIN client of the authorized user are supported over interface PIN-12. The authorized user uses PIN-12 to configure the policies in a PIN.\nNOTE1:\tThe authorized user is allowed to manage a PIN due to authorized user has PIN-12 interface to communicate with PEMC.",
      "chunk_type": "general",
      "cross_references": [
        "figure_6.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_6.3.1",
      "section_id": "6.3.1",
      "section_title": "General",
      "content": "This clause describes the functional entities of the architecture for enabling personal IoT networks.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_6.3.2",
      "section_id": "6.3.2",
      "section_title": "PIN client",
      "content": "The PIN enabler layer entity residing in the PIN elements that provides the client side functionalities required for application clients in order to consume the services offered by the PIN or to offer services for other PIN elements to consume.\nIt provides the following functionalities:\n-\tRegistration of the available service and capabilities;\n-\tService discovery of other PIN elements and application server;\n-\tCommunication with PIN clients of other PIN elements;\n-\tSelection of relay for direct communication;\n-\tMaintaining the PIN profile;\n-\tPerform to join/leave a PIN;\n-\tSupport to discover the available PIN; and\n-\tSupport to receive the information to access the 5G core network via PEGC.\n-\tSupport service switch internal PIN.\n-\tSupport PIN service continuity of PEGC relocation or changing to 5GS communication.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_6.3.3",
      "section_id": "6.3.3",
      "section_title": "PIN Management Client",
      "content": "A PIN Element with Management Capability is a PIN Element that provides a means for an authorized administrator to configure and manage a PIN.\nIt provides following functionalities:\n-\tFor a network operator or authorized user to configure the policies of the PIN;\n-\tProvide life span information of the PIN to the authorized user or the PIN elements;\n-\tMaintain the list of PIN elements who joined the PIN. Maintaining available PIN services;\n-\tMaintain the PIN profile for each PIN and PINE in PIN;\n-\tTo configure and manage a PIN, including:\n-\tauthorizing the PIN elements requesting to join the PIN;\n-\tauthorizing the PEGC and configure the parameters in PEGC to support PINE communication (via 5GS or direct communication);\n-\tconfiguring PIN elements to enable discovery of services offered by other PIN Elements;\n-\tadd PIN elements to the PIN;\n-\tconfigure PIN elements to enable direct communications;\n-\tconfigure PIN elements to communicate with each other when gateway device is unavailable.\n-\tsupport the PIN server endpoint address delivery to PIN elements;\n-\tsupport the credentials delivery to PIN elements;\nNOTE:\tWhen gateway device is unavailable, the configurations are required to enable direct communication.\n-\tSupport service switch internal PIN.\n-\tSupport PIN service continuity of PEGC relocation or changing to 5GS communication.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_6.3.4",
      "section_id": "6.3.4",
      "section_title": "PIN Gateway Client",
      "content": "A PIN Element with Gateway Capability is a PIN Element that has the ability to provide connectivity to a PINE for data and signaling exchange with PEMC, other PIN Elements or the DN. It may act as both the Layer-3 type relay which transparently forwards the traffic for PINE, and the application layer relay which terminates the PIN-2 reference points, processes the PIN management messages from/to the PINE, and performs authorization check.\nIt provides the following functionalities when acting as application layer relay:\n-\tMaintain the PIN profile for each PIN and PINE in PIN;\n-\tMaintain the access control information for each PIN and each PINE in PIN;\n-\tSupport to trigger the PDU session modification towards 5GS to request the resource for PIN;\n-\tEnable the 5GS communication or direct communication;\n-\tSupport delivery of PIN server address;\n-\tSupport to deliver the credentials to PINE;\n-\tSupport PIN discovery function;\n-\tSupport service switch within the PIN.\n-\tSupport PIN service continuity of PEGC relocation or changing to 5GS communication.\nIt provides the following functionalities when acting as Layer-3 type relay:\n-\tReceives the packet from the PINE and forwards the traffic to network transparently\n-    Receives the packet from the PINE and forwards the traffic transparently or another PINE transparently\n-\tReceives the packet from the Network and forwards the packet towards to the PINE transparently",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_6.3.5",
      "section_id": "6.3.5",
      "section_title": "PIN server",
      "content": "A PIN server is deployed at network that provides server side functionalities required for managing the PIN.\nIt provides the following functionalities:\n-\tProvisioning of configuration information to the PIN elements;\n-\tMaintain the PIN profile for each PIN and PINE in PIN;\n-\tPIN Management (Creation, modification and deletion) of PIN;\n-\tDetermine the access control information of PEGC/PINE in PIN;\n-\tAuthorization of the PINE to be added/removed into/from the PIN\n-\tSupport PIN discovery and application server discovery\n-\tSupport service switch internal PIN.\n-\tSupport PIN service continuity of PEGC relocation or changing to 5GS communication.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_6.3.6",
      "section_id": "6.3.6",
      "section_title": "Application Client",
      "content": "An application client is the application resident in the PIN elements.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_6.4.1",
      "section_id": "6.4.1",
      "section_title": "General",
      "content": "This clause defines the reference points between functional entities of PINAPP.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_6.4.2",
      "section_id": "6.4.2",
      "section_title": "PIN-1",
      "content": "The interactions related to enabling PINAPP, between the Application client and the PIN client.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_6.4.3",
      "section_id": "6.4.3",
      "section_title": "PIN-2",
      "content": "This reference point exists between PIN client and PEGC which connects PIN client of UE to PEGC. The PIN client uses this interface to communicate with other PIN clients within PIN or to access 3GPP network.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_6.4.4",
      "section_id": "6.4.4",
      "section_title": "PIN-3",
      "content": "This reference point exists between the PIN client and PEMC and following functionalities are supported over this reference point:\n-\tAuthorizing PIN clients to access PIN;\n-\tDiscovery of services offered by other PIN elements;\n-\tDiscovery and selection of PIN elements;\n-\tNotifying the PIN information modification details (e.g. PEMC change, PEGC change, PIN capabilities change).",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_6.4.5",
      "section_id": "6.4.5",
      "section_title": "PIN-4",
      "content": "This reference point exists between the PEGC and PEMC and following functionalities are supported over this reference point:\n-\tAuthorizing PEGC for PIN access;\n-\tNotification of PIN elements joining or leaving the PIN by PEMC to PEGC;\n-\tDelivery of PIN dynamic profile information by PEMC to PEGC whenever it changes;",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_6.4.6",
      "section_id": "6.4.6",
      "section_title": "PIN-5",
      "content": "This reference point exists between the one PIN client and another PIN client and it supports direct connection over 3GPP or non-3GPP RAT. It also connects to PIN client of a PIN element to the PIN client of another PIN element.\nNOTE:\tPIN-5 is out-of-scope of this release.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_6.4.7",
      "section_id": "6.4.7",
      "section_title": "PIN-6",
      "content": "This reference point exists between the PEMC and PIN server and supports the following functionalities:\n-\tAuthorization of PEMC;\n-\tNotifying PIN server whenever a PIN element joins or leaves the PIN, whenever a PIN client updates its capabilities;\n-\tNotifying PIN server of PEGC replacement;\n-\tDelivery of PIN dynamic profile information;",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_6.4.8",
      "section_id": "6.4.8",
      "section_title": "PIN-7",
      "content": "This reference point exists between the PEGC and PIN server for the interactions related to enabling PINAPP",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_6.4.9",
      "section_id": "6.4.9",
      "section_title": "PIN-8",
      "content": "This reference point exists between the PIN server and 3GPP core network for the interactions related to enabling PINAPP. It supports:\n-\tUE's (PINE) location information retrieval as specified in clause 4.15.3 of 3GPP TS 23.502 [5].",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.502_clause_4.15.3",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_23.542_6.4.10",
      "section_id": "6.4.10",
      "section_title": "PIN-9",
      "content": "This reference point exists between the application server and PIN server for the interactions related to enabling PINAPP. This reference point is an instance of CAPIF-2/2e reference point as specified in 3GPP TS 23.222 [7].",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.222"
      ]
    },
    {
      "chunk_id": "ts_23.542_6.4.11",
      "section_id": "6.4.11",
      "section_title": "PIN-10",
      "content": "This reference point exists between the PIN client in PIN element and PIN server for the interactions related to enabling PINAPP.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_6.4.12",
      "section_id": "6.4.12",
      "section_title": "PIN-11",
      "content": "This reference point exists between the PEGC and PIN client from outside the PIN to access the services provided by PIN elements within the PIN.\nPIN-11 utilizes Uu reference point as described in 3GPP TS 23.501[4].",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_23.542_6.4.13",
      "section_id": "6.4.13",
      "section_title": "PIN-12",
      "content": "This reference point exists between the PEMC and PIN client for configuring and managing the PIN from outside the PIN.\nPIN-12 utilizes Uu reference point as described in 3GPP TS 23.501[5].",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_23.542_6.5.1",
      "section_id": "6.5.1",
      "section_title": "Application Client (AC)",
      "content": "The following cardinality rules apply for application client:\na)\tone or more application clients per PIN client.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_6.5.2",
      "section_id": "6.5.2",
      "section_title": "PEMC",
      "content": "The following cardinality rules apply for PEMC:\na)\tone or more PEMCs per PIN.\nb)\tOnly one PEMC in certain PIN is assigned as primary role and other PEMCs if any are assigned with secondary role.\nc)\tOne PEMC can act as PEMC for multiple PINs.\nd)\tOne PEMC per UE.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_6.5.3",
      "section_id": "6.5.3",
      "section_title": "PEGC",
      "content": "The following cardinality rules apply for PEGC:\na)\tone or more PEGCs per PIN.\na)\tFor a certain PINE in PIN, one PEGC acts as default PEGC and other PEGCs act as backup.\nc)\tOne PEGC can act as PEGC for multiple PINs.\nd)\tOne PEGC per UE.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_6.5.4",
      "section_id": "6.5.4",
      "section_title": "PIN server",
      "content": "The following cardinality rules apply for PIN server:\na)\tone PIN server per PIN.\nb)\tMultiple PINs per PIN server.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_6.5.5",
      "section_id": "6.5.5",
      "section_title": "PIN client",
      "content": "The following cardinality rules apply for PIN client:\na)\tone or more PIN clients per PIN.\nb)\tone PIN client per PIN element.\nc)\tone PIN client per UE.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_7.1",
      "section_id": "7.1",
      "section_title": "General",
      "content": "The following clauses list identities and commonly used values that are used in this technical specification.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_7.2.1",
      "section_id": "7.2.1",
      "section_title": "General",
      "content": "The following clauses specify a collection of identities that are associated with entities defined and being used in this specification.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_7.2.2",
      "section_id": "7.2.2",
      "section_title": "PIN ID",
      "content": "The PIN ID is a unique value in PLMN that identifies the PIN.\nThe PIN ID consists of two parts as follow:\n-\tA string assigned by the PIN server which is unique for each PIN; and\n-\tAn identifier of PIN server (i.e. PIN server ID or domain name).",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_7.2.3",
      "section_id": "7.2.3",
      "section_title": "PIN server ID",
      "content": "The PIN server ID is a globally unique value that identifies the PIN server.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_7.2.4",
      "section_id": "7.2.4",
      "section_title": "PIN client ID",
      "content": "The PIN client ID is a globally unique value that identifies the PIN client.\nThe PIN client ID is used for general identities for PINE, PEMC and PEGC.\nFor PEMC and PEGC, the PIN client ID may also be PEMC ID and PEGC ID.\nFor the PINE, the PIN client ID may also be PINE ID.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_7.2.5",
      "section_id": "7.2.5",
      "section_title": "Application Client ID (ACID)",
      "content": "The ACID identifies the client side of a particular application, for e.g. SA6Video viewer, SA6MsgClient etc. For example, all SA6MsgClient clients will share the same ACID.\nIn case that the UE is running mobile OS, the ACID is a pair of OSId and OSAppId.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_7.2.6",
      "section_id": "7.2.6",
      "section_title": "UE ID",
      "content": "The UE ID uniquely identifies a particular UE within a PLMN domain. Following identities are examples that can be used:\na)\tGPSI, as defined in 3GPP TS 23.501 [4].\nNOTE:\tTo protect privacy of the user, MSISDN can be used as GPSI only after obtaining user's consent.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_23.542_7.2.7",
      "section_id": "7.2.7",
      "section_title": "UE Location",
      "content": "The UE location identifies where the UE is connected to the network or the position of the UE. It provides consistent definition of the UE's location across the UE and network entities. Following values are examples of UE locations that can be used:\na)\tCell Identity, Tracking Area Identity, GPS Coordinates, Geographical/Geodetic Information, Current Location Retrieved, Age of Location Information, Current RAT Type or civic addresses as defined in 3GPP TS 23.502 [5] clause 4.15.3 and TS 37.355[6].",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.502_clause_4.15.3",
        "ts_23.502",
        "ts_37.355"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.1",
      "section_id": "8.1",
      "section_title": "General",
      "content": "The PINE communicates with the PEMC via direct way (i.e., via WiFi, BlueTooth), or indirect way relayed by a PEGC. PINE determines to use direct way or indirect way based on the capabilites of access types supported by the PINE, PEMC and PEGC.\nThe Application layer must be able to influence the RAT selection for establishing connectivity to the PIN.\nNOTE 1:\tHow the Application layer is able to influence the RAT selection is up to implementation.\nIn order to support the PIN enabler layer communication, the IP address or port number of PIN enabler layer (PIN client) should be negotiated among PINE, PEGC and PEMC, for example, during PIN create procedure or device direct connection.\nNOTE 2:\tIf the direct connection is not available, the PINE/PEMC/PEGC sends the broadcast message to network with dedicate port number, and only the target port number of PIN client can response the message, which the procedure is out of scope.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.2.1",
      "section_id": "8.2.1",
      "section_title": "General",
      "content": "This clause provides descriptions for Information Elements which are commonly used in several procedures.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.2.2.0",
      "section_id": "8.2.2.0",
      "section_title": "PIN Profile in a PIN",
      "content": "PIN profile information include static and semi-static data and default configuration that are needed for configuration of Personal IoT Networks, such as the PEMC, PEGC and PIN server end point addresses. Information in a PIN profile is infrequently changed.\nDynamic PIN profile information includes data that are updated more frequently due to operations of a PIN, e.g. caused by PINE join or PINE leave operations. Example information include PINE lists and the services that PINEs provide.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.2.2.1",
      "section_id": "8.2.2.1",
      "section_title": "PIN Profile in a PIN",
      "content": "PIN profile includes information about the static data needed for configuration for the Personal IoT networks.\nTable 8.2.2.1-1: PIN Profile\nParameter Name\nParameter Description\nPIN Server\nPEMC\nPEGC\nPIN ID\nThe identifier of the PIN\nY\nY\nY\nPIN Description\nHuman-readable description of the PIN, for example, the company name, location or the type of service.\nY\nY\nY\nDuration\nSpecifies the time period of how long the PIN can be active\nY\nY\nY\nMaximum number of PIN elements\nMaximum number of PINEs allowed to join the PIN\nY\nY\nN\nAllowed PIN service\nList of service that can be offered within a PIN:\n> PIN service Provider Identifier\n> PIN service type\n> PIN service Feature\nY\nY\nN\nAllowed PEMC list\nThe list of PINE static information for PINE(s) that can be allowed to take the role of PEMC:\n> PINE ID\n> GPSI\n> Role (e.g., primary, secondary or both)\n> Port number (see NOTE)\nY\nY\nY\nAllowed PEGC list\nThe list of PINE static information for PINE(s) that can be allowed to take the role as PEGC:\n> PINE identifier\n> GPSI\n> Role (e.g., primary, backup or both)\n> Port number (see NOTE)\nY\nY\nY\nPIN Server ID\nThe identifier of the PIN server that serves the PIN\nN\nY\nY\nPIN server Endpoint\nThe endpoint information (e.g., URI, FQDN) or a static IP address used to communicate with the PIN server.\nN\nY\nY\nAllowed PIN elements list\nList of PINEs which can be allowed to join the PIN\n> PINE ID\nY\nY\nY\nNOTE:\tNAT aspects are not specified in the current release.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.2.2.1-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.2.2.2",
      "section_id": "8.2.2.2",
      "section_title": "Dynamic profile information of a PIN",
      "content": "Dynamic profile information of a PIN contains the PIN dynamic data needed for management of the Personal IoT networks.\nTable 8.2.2.2-1 describes the list of parameters that are classified as dynamic profile information and which are maintained at the PIN server, PEMC and PEGC. PIN dynamic profile information maintained at these entities are updated based on the events occurring in the PIN. Below are some of the events (not exhaustive):\n-\tPINE joins or leaves the PIN;\n-\tRole of PEMC or PEGC changes;\n-\tWhen the services offered by the PIN changes;\n-\tWhen a PINE updates the services it offers;\n-\tWhen a PINE joins or leaves the PIN;\nTable 8.2.2.2-1: Dynamic profile information of a PIN\nParameter Name\nParameter Description\nPIN Server\nPEMC\nPEGC\nPIN ID\nThe identifier of the PIN\nY\nY\nY\nCurrent PIN services\nList of services that are currently offered within a PIN\nY\nY\nN\nPIN state\nIndicates the current state of the PIN (activated or de-activated). When the PIN is in deactivated state services offered by the PIN are inaccessible and no PIN elements can join the PIN. Also PEGC closes all the communication channel it has created for the flow of application traffic from PIN elements via 5GS to the application server\nY\nY\nY\nCurrent PEMC list\nThe list of PINE dynamic information for PINE(s) that currently have the role of PEMC:\n> PINE identifier\n> Role (e.g., primary or secondary)\n> PEMC current IP address\n> Duration or time period allowed as PEMC\n> Heartbeat timer value (see NOTE 2)\nY\nY\nY\nCurrent PEGC list\nThe list of PINE dynamic information for PINE(s) that currently have the role of PEGC:\n> PINE identifier\n> Role (e.g., primary or backup)\n> PEGC current IP address\n> Duration or time period allowed as PEGC\n> Maximum number of served PINE(s)\n> List of currently served PINE(s) information\n> Heartbeat timer value (see NOTE 3)\nY\nY\nY\nPIN Elements List\nList of PIN elements currently registered/joined the PIN and their details\n> PINE ID\nY\nY\nY\n> Endpoint information of each PINE (e.g. URI, FQDN, IP address, port number) used to communicate with the PINE (NOTE 1).\nY\nY\nY\n> Services offered by the PIN element\nY\nY\nN\n> Reachability information of the PIN element\nNOTE: Reachability information of the PIN element may include the IP address which is internally routable via PEGC (like LAN or Layer 2 gateway) or routable via 5GS.\nY\nY\nY\n> List of application clients for this PIN element:\nY\nY\nY\n>> Minimum KPIs required by each application client to operate effectively within the PIN (e.g., PIN bandwidth, PIN request rate, PIN response time)\nY\nY\nY\n>> Operational schedules of each application client (e.g., time windows)\nY\nY\nY\n> Identifier of the default PEGC authorized to service this PIN element. The PIN element will use this PEGC as the primary PEGC to relay PIN communications. Location and/or schedule information for the default PEGC may also be included such that the default PEGC may be selected by the PIN element based on its current location and proximity to the default PEGC and/or the availability schedule of the default PEGC.\nY\nY\nY\n> Identifiers of backup PEGCs authorized to service this PIN element. The list is in prioritized order (the first PEGC listed will serve as the first backup PEGC). If the default PEGC is not available, the PIN element will use this prioritized list of PEGCs to relay PIN communications. Location and/or schedule information for each of the backup PEGCs may also be included such that a backup PEGC may be selected by the PIN element based on its current location and proximity to a backup PEGC and/or the availability schedule of the PEGC.\nY\nY\nY\n> Heartbeat timer value defining the periodicity of heartbeat requests this PIN element sends to the PEMC to indicate this PIN element is still available within the PIN.\nY\nY\nY\nNOTE 1:\tThe port number is the port used by a PINE to expose a service within the PIN.\nNOTE 2:\tThe heartbeat timer value defining the periodicity of heartbeat requests that the  PEMC sends to the PIN server to indicate the PEMC is still available and serving as a PEMC.\nNOTE 3:\tThe heartbeat timer value defining the periodicity of heartbeat requests that the PEGC sends to the PEMC to indicate the PEGC is still available and serving as a PEGC.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.2.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.2.2.3",
      "section_id": "8.2.2.3",
      "section_title": "PIN client profile",
      "content": "Table 8.2.2.3-1 describes the list of information elements that needs to be shared by the PIN element when requesting to join the PIN.\nTable 8.2.2.3-1: PIN client profile\nParameter Name\nStatus\nParameter Description\nPIN ID\nM\nThe identifier of the PIN to which the PIN element wants to join\nUE identifier\nO\nPIN Element or UE identifier\nPIN client ID\nM\nThe unique identity of the PIN client within PIN\nName of the device\nO\nHuman-readable name of the device (i.e. door sensor, watch, smart TV, etc) along with manufacturer details\nPINE role\nO\nRole of PINE: PEMC, PEGC, other\nApplication List\nO\nList of application identities\n> Application Identity\nO\nIdentity of the application\n> Application schedule\nO\nOperational schedules of each application (e.g., time windows) which the\n> Application KPIs\nO\nMinimum KPIs required by each application to operate effectively within the PIN (e.g., PIN bandwidth, PIN request rate, PIN response time)\ncapabilities\nM\ncapabilities of the PIN client like whether it can be assigned with the role of PEMC or PEGC etc.\nVisibility\nM\nDetermines whether this PIN element is discoverable by other PIN elements within PIN, discoverable by other UEs outside the PIN etc.,\naccess type\nM\nAccess type supported for the communication\nLayer-2 details\nO\nLayer-2 address of the PIN element\nRequired services\nO\nIdentifies the list of services the PINE wants to consume\nSupported services\nO\nIdentifies the list of services the PINE is providing.\nPort number\nM\nPort number of PIN client on PINE to support PIN enabler layer communication.\nNOTE: The port number is the port used by a PINE to expose a service within the PIN.\nUE location\nO\nThe location information of the UE. The UE location is described in clause 7.2.7.",
      "chunk_type": "general",
      "cross_references": [
        "clause_7.2.7",
        "table_8.2.2.3-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.3.1",
      "section_id": "8.3.1",
      "section_title": "General",
      "content": "Some of the PIN management procedures involves the PIN server and hence the PINE requires the PIN server endpoint address before triggering the PIN management procedures, for example, the PIN creation procedure. Also there could be multiple PIN servers deployed within a PLMN and it is important to PIN elements to discover the appropriate PIN server to connect.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.3.2.1",
      "section_id": "8.3.2.1",
      "section_title": "Static PIN server discovery",
      "content": "The aim of PIN server discovery procedure is to receive one or more endpoint information (e.g. URI(s), FQDN(s), IP address(es)) of PIN server. And the PEMC, PEGC, PIN elements are all able to receive the PIN server endpoint information.\nThe PIN server can be discovered by the following method:\n-\tpre-configured in the PIN elements or PIN clients;\n-\tconfigured by the user;\n-\tderived from HPLMN identifier for non-roaming scenario or from VPLMN identifier for roaming scenario.\n-\tDNS query for PIN server.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.3.2.2",
      "section_id": "8.3.2.2",
      "section_title": "Procedures of PIN server discovery via PEGC",
      "content": "Some of the PIN elements can have the application interaction towards the PEGC, for example, via WiFi or Bluetooth, and in these case the PEGC can provide the PIN server end point information to PIN elements.\nFor some of the PEGC, it has the open access capability to accept the application layer connection from the PIN elements.\nPre-conditions:\n1.\tThe PIN elements or PIN client has application layer connection with PEGC;\n2.\tThe UE Identifier or PIN client Identifier is available;\n3.\tThe PEGC supports the open access and can reroute the request from PINE to PEMC behind the PEGC;\nFigure 8.3.2.2-1: Procedures of PIN server discovery via PEGC\n1.\tThe PINE sends PIN server discovery request to PEGC. The requests include the GPSI, MAC address, if has, UE location.\n2.\t(Optional) The PEGC can directly deliver the PIN server discovery response to PINE, including PIN server end point information to PIN elements. The end point information of PIN server includes URI(s), FQDN(s), IP address(es)) of PIN server.\n3.\tIf the PINE has open access to PEGC, that the PEGC should route the PIN server discovery request to PEMC that behind the PEGC.\n4-5.\tThe PEMC delivers the PIN server discovery response to PEGC and the PEGC routes the response to PINE, including PIN server end point information to PIN elements. The end point information of PIN server includes URI(s), FQDN(s), IP address(es)) of PIN server.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_8.3.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.3.3.1",
      "section_id": "8.3.3.1",
      "section_title": "General",
      "content": "The following information flows are specified for PIN creation:\n-\tPIN server discovery request and response;",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.3.3.2",
      "section_id": "8.3.3.2",
      "section_title": "PIN server discovery request",
      "content": "Table 8.3.3.2-1 describes information elements in the PIN server discovery request from the PINE to the PEGC/PEMC.\nTable 8.3.3.2-1: PIN server discovery request\nInformation element\nStatus\nDescription\nUE Identifier\nM\nThe identifier of the hosting UE (i.e. GPSI or identity token) or PINE.\nMAC address\nO\nMAC address of the device.\nUE location\nO\nThe location information of the UE. The UE location is described in clause 7.2.7.",
      "chunk_type": "general",
      "cross_references": [
        "clause_7.2.7",
        "table_8.3.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.3.3.3",
      "section_id": "8.3.3.3",
      "section_title": "PIN server discovery response",
      "content": "Table 8.3.3.3-1 describes information elements in the PIN server discovery response from the PEGC/PEMC to the PINE.\nTable 8.3.3.3-1: PIN server discovery response\nInformation element\nStatus\nDescription\nSuccessful response\nO\n(see NOTE)\nIndicates that the PIN server discovery request was successful.\n> PIN server endpoint information\nM\nIncludes URI(s), FQDN(s), IP address(es)) of PIN server.\nFailure response\nO\n(see NOTE)\nIndicates that the PIN server discovery request failed.\n> Cause\nM\nProvides the cause for PIN server discovery request failure.\nNOTE:\tAt least one of the IE shall be present.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.3.3.3-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.4.1",
      "section_id": "8.4.1",
      "section_title": "General",
      "content": "The PINE (including PEMC and PEGC) should have a registration procedure in PIN server, before consuming the certain PIN service.\nThe registration procedure includes the direct registration and indirect registration.\n-\tDirect registration:\n-\tFor the PEMC, the PEMC sends PINE Registration Request (MAC address, vendor name, device description, PEMC Address) to the PIN server. After successful registration in PIN server, the PIN server allocates the PIN client ID to this PEMC and the PEMC receives the role of PEMC.\n-\tThe PINE can also directly register to the PIN server via the PEGC, if the PEMC/PIN server has already provided the PIN server address to the PINE. And if the PINE is accessing the PEGC without any registration and authorization, the PEGC may reject the message from the PINE and request the PINE to perform the registration.\n-\tIndirect registration:\n-\tFor the PINE and PEGC, the PEMC substitutes the PINE/PEGC to register on PIN server with the device metadata from PINE/PEGC (MAC address, vendor name, device description, PINE/PEGC Address). After successful registration in PIN server, the PIN server allocates the PIN client ID to PINE/PEGC.\nAt the network side, a PIN server should be deployed. During the PINE registration procedure, the PIN server is responsible for the authorization of the request of the role of PEMC from PINE. The PIN server has this verification procedure with 5GC, which the procedure is defined in SA2 specification.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.4.2.1",
      "section_id": "8.4.2.1",
      "section_title": "General",
      "content": "The PINE may register to the PIN server via either the PEMC or the PEGC depends on the communication range, supported RATs.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.4.2.2.1",
      "section_id": "8.4.2.2.1",
      "section_title": "PINE registration directly to PIN server",
      "content": "Figure 8.4.2.2.1-1 illustrates PIN registration procedure based on request/response model.\nPre-conditions:\n1.\tThe PINE has been pre-configured or has discovered the address (e.g. IP address, FQDN, URI) of the PIN server;\n2.\tThe UE Identifier is available;\n3.\tThe PINE has been authorized to communicate with the PIN server;\nFigure 8.4.2.2.1-1: PINE registration directly to PIN server\n1.\tThe PINE (including PINE/PEMC/PEGC) sends a PINE Registration Request to the PIN server. The request includes the security credentials of the PINE received during authorization procedure and also the request may include the GPSI, MAC address, vendor name, device description, PINE Address.\nIf the PEMC trigger the request, this registration request carries the PIN ID of the PIN for which it is intending to register as PEMC and the PIN element may indicate whether it is to be assigned with primary or secondary PEMC role.\n2.\tThe PIN server checks whether the UE identified by the GPSI has subscribed to be a PEMC. Also, the PIN server can check the whether the UE identified by the GPSI has subscribed to be a PEMC itself. If subscribed, it checks the subscription of PINE whether the requesting PIN element can be assigned with primary or secondary role and authorize the PIN element accordingly. In case if the PIN has already been created, the requesting PIN element is assigned with the secondary PEMC role irrespective of the role requested by the PIN element.\n3.\tThe PIN server responds to the PINE with PINE Registration Response with allocated PIN client ID in successful response.\nIf the registration procedure fails, the PIN server should give the failure response that indicates the cause of registration request failure.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.4.2.2.1-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.4.2.2.2",
      "section_id": "8.4.2.2.2",
      "section_title": "PINE registration indirectly to PIN server",
      "content": "The following procedure defines the PEMC can substitute the PINE/PEGC to register into PIN server.\nPre-conditions:\n1.\tThe PEMC has been pre-configured or has discovered the address (e.g. IP address, FQDN, URI) of the PIN server;\n2.\tThe UE Identifier or PIN client Identifier is available;\n3.\tThe PEMC has been authorized to communicate with the PIN server;\n4.\tThe PINE/PEGC has already received the IP address of PEMC.\nFigure 8.4.2.2.2-1: PINE registration indirectly to PIN server\n1.\tThe PINE/PEGC sends PINE Registration Request to the PEMC. The request includes the security credentials of the PINE received during authorization procedure and also the request may include the GPSI, MAC address, vendor name, device description, PINE Address.\n2.\tIf the PEMC receives the PINE Registration Request from PINE, the PEMC may represent the PINE to register into PIN server by sending the PINE registration request to PIN server.\nIf the PEMC represents the PINEs to perform registration procedure, it should send a PINE Registration Request to PIN server including an Indication of representation registration and Lists of PINEs/PEGCs.\n3.\tThe PIN server responds to the PEMC with PINE Registration Response with allocated PIN client ID in successful response.\nWhen the PINE Registration Request that containing Indication of representation registration, the PIN server shall verify whether PINE(s) and PEGC(s) included in the List of PINEs/PEGCs are allowed to fullfill the requested role or not. The PIN server responses to PEMC with a successful response and may include a list of accepted registration information and a list of rejected registration information (if any). If all the PINEs in the Lists of PINEs/PEGCs are rejected, the PIN server sends a failure response including the failure cause.\n4.\tThe PEMC sends the response received in step 3 to the PINE/PEGC.\nWhen the PEMC receiving the PINE Registration response from PIN server, the PEMC should extract the accepted registration information and rejected registration information (if any) for all the PINEs, and send the result to each PINE in the Lists of PINEs/PEGCs.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.4.2.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.4.2.2.3",
      "section_id": "8.4.2.2.3",
      "section_title": "PINE registration via PEGC before join",
      "content": "The PINE registration towards the PIN server via the PEGC based on request/response model is depicted in figure 8.4.2.2.3-1.\nPre-conditions:\n1.\tThe PINE has been pre-configured or has discovered the address (e.g. IP address, FQDN, URI) of the PIN server;\n2.\tThe PINE already establishes the connection with PEGC;\nFigure 8.4.2.2.3-1: PINE registration to PIN server via PEGC before join\n1.\tThe PINE sends PIN registration request to the PIN server. The PIN registration request is routed to the PEGC. The PINE device identity, device credentials and other necessary formation which is also needed for PIN service authorization are included.\n2.\tThe PEGC identifies the received message is the PIN registration request which is allowed to be forwarded regardless the PINE is authorized or not.\n3.\tThe PEGC forwards the PIN registration request towards the PIN server.\n4.\tThe PIN server performs service authorization and verifies the PINE device with the information in the registration request. If authorized, the PIN server allocates the PIN client ID, authorization and security credentials for the PINE.\n5.\tThe PINE server returns the PIN registration response to the PEGC.\n6.\tThe PEGC forwards the PIN registration response to the PINE.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.4.2.2.3-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.4.2.2.4",
      "section_id": "8.4.2.2.4",
      "section_title": "PINE registration during the PIN join via the PEGC",
      "content": "Pre-conditions:\n1.\tThe PINE has been pre-configured or has discovered the address (e.g. IP address, FQDN, URI) of the PIN server;\n2.\tThe PINE already establishes the connection with PEGC;\n3.\tThe PINE may get the PIN information from the PEMC, PEGC via PIN announcement after connecting to PEMC or PEGC.\nFigure 8.4.2.2.4-1 illustrates the PINE registration during the PIN join via the PEGC procedure based on request/response model.\nFigure 8.4.2.2.4-1: PINE registration to PIN server during PIN join via PEGC\n1.\tThe PINE sends PIN join/discovery request to the PEGC. The PINE device identity is included.\n-\tFor the PIN join request, the PIN ID is included.\n-\tFor the PIN discovery request, the discovery criteria are included.\n2.\tThe PEGC identifies the received message is the PIN join/discovery request, and the PINE is not registered and authorized due to no PIN client ID and credentials in the message.\n3.\tThe PEGC returns the PIN join/discovery reject message to the PINE. The registration and authorization indication are also included to instruct the PINE to perform registration.\n4.\tThe PINE if not registered, initiates the PIN registration towards the PIN server via the PEGC as described in clause 8.4.2.2.1.\n5-6.\tAfter the registration, the PINE will use the PIN client ID and credentials to initiate the PIN join/discovery again.",
      "chunk_type": "general",
      "cross_references": [
        "clause_8.4.2.2.1",
        "figure_8.4.2.2.4-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.4.2.2.5",
      "section_id": "8.4.2.2.5",
      "section_title": "PINE de-registration directly to PIN server",
      "content": "Figure 8.4.2.2.5-1 illustrates PIN de-registration procedure based on request/response model.\nPre-conditions:\n1.\tThe PINE has been pre-configured or has discovered the address (e.g. IP address, FQDN, URI) of the PIN server and is already registered with the PIN server;\n2.\tThe UE Identifier is available;\n3.\tThe PINE has been authorized to communicate with the PIN server;\nFigure 8.4.2.2.5-1: PINE de-registration directly to PIN server\n1.\tThe PINE (including PINE/PEMC/PEGC) sends a PINE de-registration Request to the PIN server. The request includes the security credentials of the PINE received during authorization procedure and also the request may include the GPSI, MAC address, vendor name, device description, PIN element ID/PIN client ID, PINE Address.\n2.\tThe PIN server checks whether the UE identified by the GPSI has active registration with the PIN server.\n3.\tThe PIN server responds to the PINE with PINE de-registration response which contains the status of the PINE de-registration request. If the PINE is successfully de-registered, the PIN server deletes all the configuration information it has related to the PIN element that is being de-registered. If the de-registration procedure fails, the PIN server should give the failure response to indicates that indicates the cause of de-registration request failure.\n8.4.2.2.6\tPINE de-registration indirectly to PIN server\nFigure 8.4.2.2.6-1 illustrates PINE De-registration request to PIN Server indirectly via PEMC based on request/response model.\nPre-conditions:\n1.\tThe PEMC has been pre-configured or has discovered the address (e.g. IP address, FQDN, URI) of the PIN server;\n2.\tThe UE Identifier or PIN client Identifier is available;\n3.\tThe PEMC has been authorized to communicate with the PIN server;\n4.\tThe PINE/PEGC has already received the IP address of PEMC.\nFigure 8.4.2.2.6-1: PINE de-registration indirectly to PIN server\n1.\tThe PINE (including PINE/PEMC/PEGC) sends a PINE de-registration Request to the PEMC. The request includes the security credentials of the PINE received during authorization procedure and also the request may include the GPSI, MAC address, vendor name, device description, PIN element ID/PIN client ID, PIN ID, PINE Address.\n2.\tThe PEMC sends the PINE de-registration request to PIN server.\n3.\tThe PIN server checks whether the UE identified by the GPSI has active registration with the PIN server. The PIN server responds to the PINE with PINE de-registration response which contains the status of the PINE de-registration request. If the PINE is successfully de-registered, the PIN server deletes all the configuration information it has related to the PIN element that is being de-registered. If the de-registration procedure fails, the PIN server should give the failure response that indicates the cause of de-registration request failure.\n4.\tThe PEMC sends the response received in step 3 to the PINE/PEGC.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.4.2.2.5-1",
        "figure_8.4.2.2.6-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.4.2.2.7",
      "section_id": "8.4.2.2.7",
      "section_title": "PINE update registration to PIN server",
      "content": "Figure 8.4.2.2.7-1 illustrates PIN update registration procedure based on request/response model.\nPre-conditions:\n1.\tThe PINE has been pre-configured or has discovered the address (e.g. IP address, FQDN, URI) of the PIN server and is already registered with the PIN server;\n2.\tThe UE Identifier is available;\n3.\tThe PINE has been authorized to communicate with the PIN server;\nFigure 8.4.2.2.7-1: PINE update registration to PIN server\n1.\tThe PINE (including PINE/PEMC/PEGC) sends a PINE update registration request to the PIN server directly or via PEGC. The request includes the security credentials of the PINE received during authorization procedure and also the request may include the GPSI, MAC address, vendor name, device description, PIN element ID/PIN client ID, PINE Address.\nIf the registration request is sent from PINE to PEGC, the PEGC delivers the PINE update registration request to the PIN server.\n2.\tThe PIN server checks whether the UE identified by the GPSI has active registration with the PIN server.\n3.\tThe PIN server responds to the PINE with PINE update registration response directly or via PEGC which contains the status of the PINE update registration request. If the update registration procedure fails, the PIN server should give the failure response to indicates that indicates the cause of update registration request failure.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.4.2.2.7-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.4.2.3.1",
      "section_id": "8.4.2.3.1",
      "section_title": "General",
      "content": "The following information flows are specified for PIN registration:\n-\tPINE Registration request and response;",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.4.2.3.2",
      "section_id": "8.4.2.3.2",
      "section_title": "PINE Registration request",
      "content": "Table 8.4.2.3.2-1 describes information elements in the PINE Registration request from the PINE (including PEMC, PEGC, PINEs) to the PIN server.\nTable 8.4.2.3.2-1: PINE Registration request (PINE/PEGC to PIN server, or PEMC represents PINE/PEGC to PIN server)\nInformation element\nStatus\nDescription\nUE Identifier\nM\nThe identifier of the hosting UE (i.e. GPSI or identity token) of PINE/ PEMC/PEGC\nSecurity credentials\nM\nSecurity credentials resulting from a successful authorization for the PIN service.\nIndication of representation registration\nO\nIf PEMC represents PINE/PEGC to perform registration to PIN server, this indication is included.\nLists of PINEs/PEGCs\n> MAC address\nO\nMAC address of the requested PINEs.\n> Vendor name\nO\nThe vendor name of the PINE\n> Device description\nO\nDescription of the device.\n> PINE Address\nM\nThe IP address of PINE, if available.\n> Port number\nM\nPort number of PIN client on PINE/PEMC/PEGC to support PIN enabler layer communication.\nThe port number is the port used by a PINE to expose a service within the PIN.\n> PINE Capabilities\nO\nIdentify whether the PINE is capable of becoming a PEMC, a PEGC or both.\n> > Maximum number of PINEs (see NOTE)\nO\nIndicates the maximum number of PINE that can be managed by the PEMC or PEGC\nServices that PINE provide\nO\nIndicate the service that PINE can provide.\nNOTE:\tOnly present if PINE Capabilities is present.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.4.2.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.4.2.3.3",
      "section_id": "8.4.2.3.3",
      "section_title": "PINE Registration response",
      "content": "Table 8.4.2.3.3-1 describes information elements in the PINE Registration response from the PIN server to the PINE (including PEMC, PEGC, PINEs).\nTable 8.4.2.3.3-1: PINE Registration response\nInformation element\nStatus\nDescription\nSuccessful response\nO\n(see NOTE)\nIndicates that the PINE Registration request was successful.\n> PIN client ID\nM\nIdentifier of the newly assigned PIN client ID to PINEs.\n> Role of PEMC\nO\nThe UE identified by the GPSI has subscribed to be a PEMC.\n> Role of PEGC\nO\nThe UE identified by the GPSI has subscribed to be a PEGC.\nFailure response\nO\n(see NOTE)\nIndicates that the PIN registration request failed.\n> Cause\nM\nProvides the cause for PIN registration request failure.\nNOTE:\tAt least one of the IE shall be present.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.4.2.3.3-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.4.2.3.4",
      "section_id": "8.4.2.3.4",
      "section_title": "PINE de-registration request",
      "content": "Table 8.4.2.3.4-1 describes information elements in the PINE de-registration request from the PINE (including PEMC, PEGC, PINEs) to the PIN server.\nTable 8.4.2.3.4-1: PINE de-registration request\nInformation element\nStatus\nDescription\nUE Identifier\nM\nThe identifier of the hosting UE (i.e. GPSI or identity token) of PINE/PEMC/PEGC\nSecurity credentials\nM\nSecurity credentials resulting from a successful authorization for the PIN service.\nMAC address\nO\nMAC address of the requested PINEs.\nVendor name\nO\nThe vendor name of the PINE\nDevice description\nO\nGive the description of the device.\nPINE Address\nO\nThe IP address of PINE, if available.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.4.2.3.4-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.4.2.3.5",
      "section_id": "8.4.2.3.5",
      "section_title": "PINE de-registration response",
      "content": "Table 8.4.2.3.5-1 describes information elements in the PINE de-registration response from the PIN server to the PINE (including PEMC, PEGC, PINEs).\nTable 8.4.2.3.5-1: PINE de-registration response\nInformation element\nStatus\nDescription\nDe-registration status\nM\nIndicates whether the PINE de-registration request was successful or not. Includes the cause of the failure if the de-registration fails.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.4.2.3.5-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.4.2.3.6",
      "section_id": "8.4.2.3.6",
      "section_title": "PINE update registration request",
      "content": "Table 8.4.2.3.6-1 describes information elements in the PINE update registration request from the PINE (including PEMC, PEGC, PINEs) to the PIN server.\nTable 8.4.2.3.6-1: PINE update registration request\nInformation element\nStatus\nDescription\nUE Identifier\nM\nThe identifier of the hosting UE (i.e. GPSI or identity token) of PINE/PEMC/PEGC\nSecurity credentials\nM\nSecurity credentials resulting from a successful authorization for the PIN service.\nMAC address\nO\nMAC address of the requested PINEs.\nVendor name\nO\nThe vendor name of the PINE\nDevice description\nO\nGive the description of the device.\nPINE Address\nO\nThe IP address of PINE, if available.\nPort number\nM\nPort number of PIN client on PINE/PEMC/PEGC to support PIN enabler layer communication.\nThe port number is the port used by a PINE to expose a service within the PIN.\nPINE Capabilities\nO\nIdentify whether the PINE is capable of becoming a PEMC, a PEGC or both.\n> Maximum number of PINEs (see NOTE)\nO\nIndicates the maximum number of PINE that can be managed by the PEMC or PEGC\nServices that PINE provide\nO\nIndicate the service that PINE can provide.\nNOTE:\tOnly present if PINE Capabilities is present.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.4.2.3.6-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.4.2.3.7",
      "section_id": "8.4.2.3.7",
      "section_title": "PINE update registration response",
      "content": "Table 8.4.2.3.7-1 describes information elements in the PINE de-registration response from the PIN server to the PINE (including PEMC, PEGC, PINEs).\nTable 8.4.2.3.7-1: PINE update registration response\nInformation element\nStatus\nDescription\nUpdate registration status\nM\nIndicates whether the PINE update registration request was successful or not. Includes the cause of the failure if the update registration fails.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.4.2.3.7-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.2.1",
      "section_id": "8.5.2.1",
      "section_title": "General",
      "content": "After the UE or PINE acquires the role of PEMC and receives the address of PIN server, the UE or PINE can trigger a creation of PIN towards PIN server.\nBelow are the possible scenarios when the PEMC request for the creation of PIN:\n-\tNo PIN elements or PEGC have established connection with PEMC;\n-\tOne or more PIN elements including PEGCs, PEMCs have established connection with PEMC via non-3GPP access. In this case the PEMC can trigger creation of PIN with these PIN elements in group.\nAfter the creation of PIN is accepted by network, the PIN server responds to PEMC containing the details of the PIN including the PIN ID, the PEGC information, access control information configured in PEGC etc.\nAt the network side, a PIN server should be deployed. The PIN server is responsible for the authorization of the Creation request of PIN, and arranges the PEGC information about access control to PIN.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.5.2.2",
      "section_id": "8.5.2.2",
      "section_title": "Procedure",
      "content": "8.5.2.2.1\tPIN creation procedure\nFigure 8.5.2.2.1-1 illustrates PIN creation procedure based on request/response model.\nPre-conditions:\n1.\tThe UE or PINE has been pre-configured or has discovered the address (e.g. IP address, FQDN, URI) of the PIN server;\n2.\tThe UE Identifier or PIN client Identifier is available;\n3.\tThe UE or PINE has already been registered in PIN server;\n4.\tThe UE or PINE has been authorized to communicate with the PIN server;\n5.\tPINE 1 is assigned the role of PEMC by PIN server and PINE-2 is the PEGC of the PIN;\nFigure 8.5.2.2.1-1: PIN creation procedure\n1.\tThe PEMC sends a PIN creation request to the PIN server in order to create a PIN. The PIN creation request includes the security credentials of the UE or PINE-1 received during authorization procedure and may include the UE identifier such as GPSI, PIN client ID, UE location and PIN client profile(s) information.\nThe PEMC can request to create a PIN including the details of other PIN elements (list of PINEs) that has already established connection with it. The details of the PIN elements could be for example, UE identifier such as GPSI, PIN client ID, UE location and PIN client profile(s) information.\nIf there are no other PIN elements in the request, the PEMC requests to create a PIN including itself.\nIn order to save the procedure of several PEMCs to be involved into the certain PIN as individual PEMC, the PEMC can have the additional PEMC GPSIs/PIN client ID in the PIN create request, to indicate additional PEMCs that are allowed to manage the PIN. This procedure doesn’t have conflict with that other PEMC requests to join the certain PIN and becomes PEMC separately.\nThe PEMC creates the PIN profile and delivers the PIN profile to PIN server.\nNOTE 1:\tFor a certain PIN, only one PEMC at a time can be assigned with primary role and other PEMCs if any are assigned with secondary role.\nThe PIN creation request also includes service that PINE can provide.\n2.\tUpon receiving the request, the PIN server performs an authorization check to verify whether the PEMC (PINE 1) has authorization to perform the PIN creation operation.\n3.\tThe PIN server sends a successful PIN creation response to PEMC, which includes a newly assigned PIN ID to indicate the PIN. It also includes the list of PIN elements and their identifier which are authorized and made as member of the newly created PIN if the PIN creation request contains the list of PIN elements to be included in the PIN.\nIf the PIN creation request fails, the PIN server should give the failure response indicating the cause of PIN creation request failure.\nThe member of newly created PIN may include PEMC and (optional) the list of PIN elements which are authorized to be added into the PIN by PIN server.\nIf there are no other PIN elements in the PIN creation request and the PIN creation is successful, the PIN server indicates the PEMC to be the PEGC. The PEMC who has already had the role of PEMC can also has the role of PEGC.\nThe PIN server may determine the list of candidates PEGCs for this PIN according to the gateway capability provided by PINE during PINE registration procedure. Only the PINE that has the capability of gateway can be selected as the PEGCs for this PIN.\nIf no PEGCs are available for this PIN, the PIN server initiates PIN create response with PIN creation failure to PEMC.\nNOTE 2:\tThe PEMC may validate if the PEGCs provided by the PIN server are available at the PINE by performing the PEGC discovery procedure as described in clause 8.9.2.1.5.\nIf the one or more PEGCs are indicated in the PIN creation response, the PIN server indicates the PIN client ID/GPSI of one PINE to be the PEGC. Also, the assigned IP address or port number is delivered in the PIN creation response to PEMC. And, the PIN Server also sends the PEGC information about access control in the response, including:\n-\tAccess control information includes: user name, account, SSID, BSSID. All the information is used by PIN elements in PIN to access 5G or access other application outside of PIN;\nThe PIN server or PEMC can decide the access control information in certain PEGC.\n-\tIf the access control information decided by PIN server, the PIN server sends the access control information to PEMC via PIN creation response. And the PEMC delivers the access control information to PEGC via PIN creation notification request.\n-\tIf the access control information decided by PEMC, the PEMC delivers the access control information to PEGC via PIN creation notification request.\nIt is possible for PIN server to indicate several devices as PEGCs in a PIN. And it is possible for PIN server to indicate the PEGC and PEMC is the same device in a PIN.\nThe PIN server may update the PIN profile and delivers the updated PIN profile to PEMC.\n4a-4c.\t[Optional] If the PIN creation response contains the list of PIN elements, the PEMC generates the PIN creation notification request to individual PINEs based on the list received in step 3. This notification request includes the PIN ID of the newly created PIN and also contains an indication that the PIN element is made the member of the newly created PIN.\nDuring this step, the PEMC may distribute the Access control information to PINE, to be used by PIN elements in PIN to access 5G or access other application outside of PIN.\nThe updated the PIN profile may be synchronized to PEGC or PINEs.\n5a-5c. [Optional] The individual PIN elements sends the PIN creation notification response to acknowledge the receipt of the notification. The PIN elements receiving the PIN creation notification request with joined indication shall not join the PIN by issuing the PIN join request since they are already made as the member of the PIN.\nAfter the procedure above, the PINE-1 (PEMC) creates a PIN with PEGC (PINE-2) and other accepted PIN elements in PIN.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_8.9.2.1.5",
        "figure_8.5.2.2.1-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.2.3",
      "section_id": "8.5.2.3",
      "section_title": "Information flows",
      "content": "8.5.2.3.1\tGeneral\nThe following information flows are specified for PIN creation:\n-\tPIN creation request and response;\n-\tPIN creation notification request and response;\n8.5.2.3.2\tPIN creation request\nTable 8.5.2.3.2-1 describes information elements in the PIN creation request from the PINE/PEGC to the PIN server.\nTable 8.5.2.3.2-1: PIN creation request\nInformation element\nStatus\nDescription\nUE Identifier\nM\nThe identifier of the hosting UE (i.e. GPSI or identity token) or the PIN client ID of PEMC\nSecurity credentials\nM\nSecurity credentials resulting from a successful authorization for the PIN service.\nPIN client profile(s)\nO\nProfiles of PIN clients. The PIN client profiles are further described in Table 8.2.2.3.\nUE location\nO\nThe location information of the UE. The UE location is described in clause 7.2.7.\nLists of PINEs\nO\nThe PINEs that has already communicated with PEMC directly, and intend to add these PINE into PIN.\nAdditional PEMCs\nO\nIndicate additional PEMCs that are allowed to manage the PIN.\nServices that PINE provide\nO\nIndicate the service that PINE can provide.\n8.5.2.3.3\tPIN creation response\nTable 8.5.2.3.3-1 describes information elements in the PIN creation response from the PIN server to the PEMC.\nTable 8.5.2.3.3-1: PIN creation response\nInformation element\nStatus\nDescription\nSuccessful response\nO\nIndicates that the PIN creation request was successful.\n> PIN ID\nM\nIdentifier of the newly created PIN.\n> Expiration time\nM\nIndicates the expiration time of the PIN.\n> Heartbeat Timer\nM\nAssigned PEMC/PEGC/PINE heartbeat timer. The PIN server assigns the heartbeat to PEMC/PEGC/PINE individually.\n> Lists of PINEs\nO\nList of PIN elements and their identifier which are authorized and made as member of the newly created PIN if the PIN creation request contains the list of PIN elements to be included in the PIN.\n> PEGC information\nO\nIncludes the PEGC information for example,\n>> Identifier of PEGCs\nM\nIndicates the PINE identifier authorized to be the PEGCs of this PIN.\n>> PEGC address\nO\nAssigned IP address or port number of PEGC\n>> Access control information\nO\nIncludes: user name, account, SSID, BSSID. All the information is used by PIN elements in PIN to access 5G or access other application outside of PIN\nFailure response\nO\nIndicates that the PIN creation request failed.\n> Cause\nM\nProvides the cause for PIN creation request failure.\n8.5.2.3.4\tPIN creation notification request\nTable 8.5.2.3.4-1 describes information elements in the PIN creation notification request from the PEMC to the PEGC and PIN elements.\nTable 8.5.2.3.4-1: PIN creation notification request\nInformation element\nStatus\nDescription\nPIN ID\nM\nIdentifier of the newly created PIN.\nIndication\nM\nIndicates whether the PIN element is made the member of the newly created PIN.\n> PEGC information\nO\nIncludes the PEGC information for example,\n>> Identifier of PEGCs\nO\nIndicates the PINE identifier that to be the PEGCs of this PIN.\n>> PEGC address\nO\nAssigned IP address or port number of PEGC\n>> Access control information\nO\nIncludes: user name, account, SSID, BSSID. All the information is used by PIN elements in PIN to access 5G or access other application outside of PIN\n> Heartbeat Timer\nM\nHeartbeat timer value assigned to PEGC/PINE\n8.5.2.3.5\tPIN creation notification response\nTable 8.5.2.3.5-1 describes information elements in the PIN creation notification response from the PEGC, PIN elements to the PEMC.\nTable 8.5.2.3.5-1: PIN creation notification response\nInformation element\nStatus\nDescription\nSuccessful response\nO (see NOTE)\nIndicates that the PIN creation notification request was successful.\nFailure response\nO (see NOTE)\nIndicates that the PIN creation notification request failed.\n> Cause\nM\nIndicates the cause of PIN creation notification request failure.\nNOTE: \tAt least one of the IE shall be present.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_7.2.7",
        "table_8.5.2.3.2-1",
        "table_8.2.2.3",
        "table_8.5.2.3.3-1",
        "table_8.5.2.3.4-1",
        "table_8.5.2.3.5-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.3.1",
      "section_id": "8.5.3.1",
      "section_title": "General",
      "content": "The PIN which is in use can be deleted based on the decision by PEMC or PIN server as described below:\n-\tDecided by PEMC. The PEMC of a PIN decides to delete the PIN and sends request to PIN server. The PIN server accepts the request and deletes the PIN.\n-\tDecided by PIN server. If the PIN is configured to exist for a particular duration and if it continues to exist post the duration the PIN server can decide to delete the PIN and release the resources associated with the PIN.\nOnce the PIN is deleted, the PIN elements in PIN shall not be able to utilize the services by the PIN or 5GS anymore and cannot access the application server. The network resources allocated for this PIN will be released.\nSince the configuration related to the duration of the PIN is available with PEMC and when the duration of the PIN expires, the PEMC can directly delete the PIN locally and without having to be authorized by the PIN server. After the PIN is deleted by PEMC, the PEMC can update the status of PIN to the PIN server.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.5.3.2.1",
      "section_id": "8.5.3.2.1",
      "section_title": "PIN delete procedure involving PIN server",
      "content": "Figure 8.5.3.2.1-1 illustrates PIN delete procedure triggered by PEMC based on request/response model.\nPre-conditions:\n1.\tPIN is successfully created and in use;\n2.\tPEMC of the PIN decides to delete the PIN which could be based on the request from the authorized user or for any other reason which are implementation specific.\nFigure 8.5.3.2.1-1: PIN delete procedure involving PIN server\n1.\tThe PEMC sends a PIN delete request to the PIN server to request to delete the PIN. The PIN delete request includes the security credentials of the PIN client received during PIN client authorization procedure and PIN ID. The PIN ID identifies the PIN to be deleted.\nNOTE:\tThe security credentials delivery and the authorization procedure happen at application layer.\n2.\tUpon receiving the request, the PIN server validates the PIN delete request and verifies the security credentials.\n3.\tUpon successful authorization, the PIN server sends a successful PIN delete response to PEMC.\nAfter the PIN is deleted which is indicated by PIN ID, the access control information in PEGC is also disabled and the PIN elements in this PIN cannot access to 5GS via PEGC anymore.\n4.\tWhen the PIN is deleted, the PEMC sends the PIN delete notification request to the PEGC containing the PIN ID of the deleted PIN.\n5.   PEMC sends the PIN delete notification request to the PIN elements containing the PIN ID of the deleted PIN.\n6.\tThe PEGC sends the PIN delete notification response to acknowledge the receipt of the notification and disables the 5GS connection permission and access control information for the PIN elements in this PIN.\n7.   The PIN elements in this PIN sends the PIN delete notification response to acknowledge the receipt of the notification. The PIN elements in this PIN can delete the information about this PIN, for example, the PIN profile.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_8.5.3.2.1-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.3.2.2",
      "section_id": "8.5.3.2.2",
      "section_title": "PEMC decided PIN deletion",
      "content": "The PEMC can directly trigger the PIN delete procedure, for example, when the duration associated with the PIN expires, without having to be authorized from PIN server. After the PIN is deleted successfully, the PEMC updates the PIN status to PIN server.\nFigure 8.5.3.2.2-1 illustrates PIN delete locally procedure triggered by PEMC based on request/response model.\nPre-conditions:\n1.\tPIN is successfully created and in use;\n2.\tPEMC of the PIN decides to delete the PIN.\nFigure 8.5.3.2.2-1: PIN delete locally by PEMC\n0.\tThe duration associated with the PIN expires and PEMC decides to delete the PIN.\n1.\tThe PEMC deletes the PIN which indicated by PIN ID locally. The PEGC information and the information related to this PIN such as PIN profile, PIN dynamic profile are also deleted.\n2-5.\tThe same procedures as step 4-7 defined in Figure 8.5.2.2.1-1.\n6.   The PEMC sends the PIN delete notification request to the PIN server that the PIN is deleted locally and this notification request contains the PIN ID of the deleted PIN.\n7.\tThe PIN server sends the PIN delete notification response to acknowledge the receipt of the notification.\n8.5.3.2.3\tPIN delete procedure triggered by PIN server\nFigure 8.5.3.2.3-1 illustrates PIN delete procedure triggered by PIN server based on request/response model.\nPre-conditions:\n1.\tPIN is successfully created and in use;\n2.\tThe PIN server decides to delete a PIN.\nFigure 8.5.3.2.3-1: PIN delete procedure triggered by PEMC\n1.\tAn event occurs at the PIN server that satisfies the trigger conditions for deleting the PIN. This event could the PIN continues to exist post the expiry of duration associated with it or the PIN server decides to not provide any PIN service in this PIN.\n2.\tIf the PIN server decides to delete the PIN, the PIN server sends a PIN delete notification request to PEMC.\n3.\tThe PEMC sends the PIN delete notification response to the PIN server to acknowledge the receipt of the notification.\n4-7. The same as step 4 – 7 in Figure 8.5.3.2.2-1",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.5.3.2.2-1",
        "figure_8.5.2.2.1-1",
        "figure_8.5.3.2.3-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.3.3.1",
      "section_id": "8.5.3.3.1",
      "section_title": "General",
      "content": "The following information flows are specified for PIN creation:\n-\tPIN delete request and response;\n-\tPIN delete notification request and response;",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.5.3.3.2",
      "section_id": "8.5.3.3.2",
      "section_title": "PIN delete request",
      "content": "Table 8.5.3.3.2-1 describes information elements in the PIN delete request from the PEMC to the PIN server.\nTable 8.5.3.3.2-1: PIN delete request\nInformation element\nStatus\nDescription\nPIN ID\nM\nIdentifier of the deleted PIN.\nSecurity credentials\nM\nSecurity credentials resulting from a successful authorization for the PIN service.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.3.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.3.3.3",
      "section_id": "8.5.3.3.3",
      "section_title": "PIN delete response",
      "content": "Table 8.5.3.3.3-1: PIN delete response\nInformation element\nStatus\nDescription\nSuccessful response\nO\nIndicates that the PIN delete request was successful.\nFailure response\nO\nIndicates that the PIN delete request failed.\n> Cause\nM\nProvides the cause for PIN delete request failure.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.3.3.3-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.3.3.4",
      "section_id": "8.5.3.3.4",
      "section_title": "PIN delete notification request",
      "content": "Table 8.5.3.3.4-1: PIN delete notification request\nInformation element\nStatus\nDescription\nPIN ID\nM\nIdentifier of the deleted PIN.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.3.3.4-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.3.3.5",
      "section_id": "8.5.3.3.5",
      "section_title": "PIN delete notification response",
      "content": "Table 8.5.3.3.5-1: PIN delete notification response\nInformation element\nStatus\nDescription\nSuccessful response\nO\nIndicates that the PIN delete notification request was successful.\nFailure response\nO\nIndicates that the PIN delete notification request failed.\n> Cause\nO\nIndicates the cause of PIN delete notification request failure.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.3.3.5-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.4.1",
      "section_id": "8.5.4.1",
      "section_title": "General",
      "content": "This clause describes the procedures for the configuration and use of multiple PEMCs and PEGCs in a PIN.\nFor a PIN having a large number of PIN elements, covering a large area, and/or requiring extra reliability, multiple PIN Elements may be assigned the role of PEMC and/or PEGC.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.5.4.2",
      "section_id": "8.5.4.2",
      "section_title": "Procedure",
      "content": "8.5.4.2.1\tPIN configuration with default and backup PEGCs\nFigure 8.5.4.2.1-1 illustrates a procedure for configuring a new PIN Element, when requesting to join, with a default PEGC and one or more backup PEGCs.\nPre-conditions:\n1.\tThe PEMC is pre-configured or has discovered the address (e.g. IP address, FQDN, URI) of the PIN server.\n2.\tThe PEMC is authorized to access the PIN server.\n3.\tThe PEMC has registered to the PIN server.\n4.\tThe PEMC has requested and has been authorized by the PIN server to create a PIN.\n5.\tThe required KPIs of the PIN have been configured.\n6.\tPINE-1, PINE-2, PEGC-A and PEGC-B have registered to the PEMC and PIN server.\n7. \tPINE-1, PINE-2, PEGC-A and PEGC-B have subscribed with the PEMC for the PIN status as specified in clause 8.5.X.2.1.\nFigure 8.5.4.2.2-1: Multiple PEGC configuration for a PIN\n1.\tPEGCs (e.g., PEGC-A and PEGC-B) shall join the PIN by sending PIN management PINE join into PIN requests to the PEMC. The PIN Client Profile information (supported PIN roles, supported PEGC KPIs, Supported PEGC schedule, UE location) shall be included in the requests. The PEMC shall use this information to determine whether multiple PEGCs are needed to meet the required KPIs of the PIN and which PIN elements (e.g., PEGC-A and PEGC-B) are able to serve as PEGCs. The PEMC shall configure multiple PEGCs (e.g., PEGC-A and PEGC-B) with a role of PEGC if needed. The PEMC shall then send a PIN profile update to the PIN server informing the PIN server that of the multiple PEGCs.\n2.\tWhen PINEs (e.g., PINE-1) send a PIN management PINE join into PIN request to the PEMC, PIN Client Profile information (application KPIs, application schedule, UE location) shall be included in the request. The PEMC shall use this information and the PEGC information the PEMC received in step 1 to determine the optimal default and backup PEGCs for the PINE. For example, PEMC assigns PEGC-A as the default PEGC for PINE-1, and PEGC-B as the backup PEGC for PINE-1.\n3.\tThe PEMC shall send a default PEGC (e.g., PEGC-A) PIN status notification to update its local PIN Profile information to reflect that a PINE (e.g., PINE-1) is authorized to relay PIN communications via the PEGC.\n4.\tThe PEMC shall send any backup PEGCs (e.g., PEGC-B) PIN status notification to update their local PIN Profile information to reflect that a PINE (e.g., PINE-1) is authorized to relay PIN communications via the PEGC.\n5.\tThe PEMC shall return a PIN management PINE join into PIN response to PINE-1. The response shall include updated PIN client profile information informing the PINE that it shall use a specified PEGC (e.g., PEGC-A) as its default PEGC, and a specified PEGC (e.g., PEGC-B) as its backup PEGC.\n6.\tThe PEMC shall send a PIN profile update to the PIN server informing the PIN server of a PEGC (e.g., PEGC-A) serving as the default PEGC for a PINE (e.g., PINE-1) and any PEGCs (e.g., PEGC-B) serving as backup PEGCs for a PINE.\n7.\tSteps 2 to 6 may be repeated for any additional PINEs joining the PIN. For example, based on PIN client profile information provided by PINE-2, the PEMC configures PEGC-B to serve as the default PEGC for PINE-2 and PEGC-A to serve as the backup PEGC for PINE-2.\n8.5.4.2.2\tPIN management with multiple PEMCs\nFigure 8.5.4.2.2-1 illustrates a procedure for managing the PIN with multiple PEMCs. PIN elements when registering with the PIN indicates that they have the capability to act as PEMC and are assigned with primary or secondary PEMC role as described in the subclause 8.4.2.2.1.\nPre-conditions:\n1.\tA PIN owner or admin creates a PIN and configured multiple PEMCs.\n2.\tPEMC-S is assigned with the role of secondary PEMC and PEMC-P is assigned with the role of primary PEMC.\n3.\tPEMC-S has direct connection or PIN direct connection with the PEMC-P.\nFigure 8.5.4.2.2-1: PIN management with multiple PEMCs\n1. \tPEMC-S receives a request from PIN owner or PIN admin to perform any of the PIN management operations. Some of the PIN management operations (PIN profile update, PIN element removal) shall be performed by secondary PEMC (PEMC-S) itself and some operations (PIN deletion, PIN activation and PIN deactivation) can be sent to primary PEMC (PEMC-P) which shall be validated and executed by the PEMC-P.\n2. \tPEMC-S prepares the corresponding request including the required details for the requested operation and sends it to PEMC-P. These requests shall carry the PIN client ID of the PEMC-S mandatorily.\n3. \tPEMC-P on receiving the request checks whether the PEMC-S is authorized as secondary PEMC in-order to perform the operation.\n4. \tIf the authorization succeeds, PEMC-P proceeds with the requested operation.\n5. \tPEMC-P sends the response to PEMC-S containing the status or result of the requested operation.\nNOTE:\tOnly the operations that are required to be performed by the PIN owner or PIN admin can be performed through secondary PEMC and all other operations like PIN discovery, PIN service discovery, authorizing PIN elements to join PIN etc., cannot be handled by the secondary PEMC.\n8.5.4.2.3\tNotifying the PIN elements of PEGC details\nFigure 8.5.4.2.3-1 illustrates a procedure for notifying the PIN elements about the change in default or backup PEGC when multiple PIN elements have the PEGC capability.\nPre-conditions:\n1.\tThe PIN is configured and PEGC-1 is the designed PEGC.\n2.\tPIN elements have subscribed for PIN status as specified in clause 8.5.9.2.1.\nFigure 8.5.4.2.3-1: Notifying the PIN elements of PEGC details\n1.\tPEGC-2 is authorized to join the PIN as specified in the sub-clause 8.4 and is assigned with the role of PEGC.\n2.\tUpon joining the PIN, the PEMC determines the list of PIN elements for which PEGC-2 can act as default PEGC or backup PEGC.  (e.g. PEGC-2 is designated to be the backup PEGC for PINE-1 and default for PINE-2).\n3.\tThe PEMC sends the PIN status notify to PINE-1 indicating that PEGC-2 is the backup PEGC for PINE-1 as specified in as specified in clause 8.5.9.2.2.\n4.\tThe PEMC sends the PIN status notify to PINE-2 indicating that PEGC-2 is the default PEGC for PINE-2 as specified in as specified in clause 8.5.9.2.2.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_8.5",
        "clause_8.4.2.2.1",
        "clause_8.5.9.2.1",
        "clause_8.4",
        "clause_8.5.9.2.2",
        "figure_8.5.4.2.1-1",
        "figure_8.5.4.2.2-1",
        "figure_8.5.4.2.3-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.5.1",
      "section_id": "8.5.5.1",
      "section_title": "General",
      "content": "The PIN profile recovery procedure describes how the PEMC retrieves a PIN profile from a PIN server.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.5.5.2",
      "section_id": "8.5.5.2",
      "section_title": "Procedure",
      "content": "Pre-conditions:\n1.\tThe PEMC in a PIN has been pre-configured or has discovered the address (e.g. IP address, FQDN, URI) of the PIN server;\n2.\tThe PIN has already been created and a PIN ID is distributed by PIN server;\n3.\tThe PEMC has been authorized to communicate with the PIN server;\n4.\tA PIN client has already received the role of PEMC from PIN server;\nFigure 8.5.5.2-1: Query PIN profile procedure\n1.\tThe PEMC sends PIN Profile Query requests (PEMC ID, PIN ID) to the PIN server.\n2.\tThe PIN server determines whether the PEMC is one of the managers of the PIN. The PIN Server validates if the PEMC is authorized to perform the operation; if the PEMC is authorized, the PIN Server verifies if the PEMC is authorized to manage the PIN. The PIN server processes the request.\n3.\tThe PIN server responds to the PEMC with the PIN Profile, which includes for example, the PIN name, PIN description, List of Device Info (PINE), PIN duration, PEGC information or others. The device information is the information of PINE that in the PIN.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_8.5.5.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.5.3.1",
      "section_id": "8.5.5.3.1",
      "section_title": "General",
      "content": "The following information flows are specified for PIN profile retrieval:\n-\tPIN Profile Query request and response;",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.5.5.3.2",
      "section_id": "8.5.5.3.2",
      "section_title": "PIN Profile Query request",
      "content": "Table 8.5.5.3.2-1 describes information elements in the PIN Profile Query request from the PEMC to the PIN server.\nTable 8.5.5.3.2-1: PIN Profile Query request\nInformation element\nStatus\nDescription\nPIN ID\nM\nIdentifier of the deleted PIN.\nSecurity credentials\nM\nSecurity credentials resulting from a successful authorization for the PIN service.\nIdentifier of PEMC\nM\nIndicates the PINE identifier authorized to be the PEMC of this PIN.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.5.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.5.3.3",
      "section_id": "8.5.5.3.3",
      "section_title": "PIN Profile Query Response",
      "content": "Table 8.5.5.3.3-1 describes information elements in the PIN Profile Query response from the PIN server to PEMC.\nTable 8.5.5.3.3-1: PIN Profile Query Response\nInformation element\nStatus\nDescription\nSuccessful response\nO\nIndicates that the PIN Profile Query request was successful.\n> PIN profile\nM\nThe PIN profile information retrieved from PIN server. The details of PIN profile information is described in clause 8.2.2.1.\nFailure response\nO\nIndicates that the PIN Profile Query request failed.\n> Cause\nO\nIndicates the cause of PIN Profile Query request failure.",
      "chunk_type": "general",
      "cross_references": [
        "clause_8.2.2.1",
        "table_8.5.5.3.3-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.6",
      "section_id": "8.5.6",
      "section_title": "Credential Provision",
      "content": "NOTE:\tIn the current release, PIN client authentication (e.g.: PINE, PEMC or PEGC) relies on pre-provisioned information and no dynamic credential provision procedure is defined, and authorization within the PIN is defined in clause 8.10.",
      "chunk_type": "general",
      "cross_references": [
        "clause_8.10"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.7.1",
      "section_id": "8.5.7.1",
      "section_title": "General",
      "content": "Before the PINE trigger the PINE join into the PIN, the PINE should discover the available PIN.\nFor a certain PIN element, the PIN should be discovered and the PIN element can decide whether to join in the PIN. There are two situations that the PIN elements can discover the PIN as following:\n-\tIf the PIN elements can have an application layer communication with the PEMC which manages a PIN, the PIN elements can receive the PIN ID, PIN description and the PIN service that a PIN can provide, and decides whether to join the PIN;\n-\tThe PEGC can be set as open access and the PIN element can communicate with PIN server to receive the PIN ID, PIN description and the PIN service that a PIN can provide from PIN server via the PEGC.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.5.7.2.1",
      "section_id": "8.5.7.2.1",
      "section_title": "Procedures of PIN discovery based on PEMC",
      "content": "Pre-conditions:\n1.\tThe UE Identifier or PIN client Identifier is available;\n2.\tThe PIN client has been authorized to communicate with the PEMC;\n3.\tThe UE or PIN client has already received the role of PEMC from PIN server;\n4.\tThe PIN element has already had an application layer connection with a PEMC which manages a PIN.\nFigure 8.5.7.2.1-1: Procedures of PIN discovery based on PEMC\n1. \tThe PIN client sends the PIN discovery request to PEMC. The PIN discovery request includes the security credentials of the UE or PIN client and may include the UE identifier such as GPSI if available, PIN client ID, UE location, Security credentials, the service that PINE wants to consume.\n2.\tThe PEMC performs an authorization check to verify whether PINE is allowed to perform the operation.\n3.\tThe PEMC sends the PIN discovery response to PIN element including the configuration information of the PIN(s), which are offering the services requested by the PINE in the PIN discovery request. The configuration information includes PIN ID, PIN description (Human-readable description of the PIN, for example, the company name, location or the type of service), services that each PIN can provide and the PEMC IP address.\nThe PIN client receives the configuration information and decides whether to join in the PIN.\nIf the PIN element has already had a communication connection with the PEMC, which managements of a PIN, the PIN element can receive the PIN ID, PIN description information and IP address of PEMC and decides whether to join the PIN.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_8.5.7.2.1-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.7.2.2",
      "section_id": "8.5.7.2.2",
      "section_title": "Procedures of PIN discovery with assistance of PIN server via PEGC",
      "content": "Some of the PIN elements can have the application layer connection with the PEGC, for example, via WiFi or Bluetooth, and the PIN element can have the communication with PIN server to receive the lists of PIN ID and corresponding PIN description information. And the PIN elements can decide whether to join in the PIN.\nFigure 8.5.7.2.2-1 illustrates PIN server discovery via PEGC based on request/response model.\nPre-conditions:\n1.\tThe PIN elements or PIN client has application layer connection with PEGC;\n2.\tThe UE Identifier or PIN client Identifier is available;\n3.\tThe PEGC has been authorized to communicate with the PIN server;\n4.\tThe PIN element has already had an application layer connection with a PEGC, and the PEGC can route the PIN discovery request to PIN server.\n5.\tThe PINE has already received the PIN server IP address.\nFigure 8.5.7.2.2-1: PIN discovery based on PIN server\n1.\tThe PIN client sends the PIN discovery request to PIN server via PEGC. The PEGC routes the PIN discovery request to PIN server. The PIN discovery request includes the security credentials of the UE or PIN client and may include the UE identifier such as GPSI, PIN client ID, UE location, Security credentials, the service that PINE wants to consume.\nThe PIN client can have the filter information in the PIN discovery request for example, the interesting area, the interesting type of PIN and etc.\n2.\tUpon receiving the request, the PIN server performs an authorization check to verify whether the PIN client has authorization to perform the operation.\nThe PIN server can decide the candidate PINs according to the filter information from PIN discovery request and the PIN Profile. The PIN server may determine the PIN which the PIN profile accords with the filter information in PIN discovery request. The candidate PINs can be multiple.\n3.\tThe PIN server sends a successful PIN discovery response to PIN client via PEGC, which includes the configuration information to PIN elements. The configuration includes PIN ID, PIN description (Human-readable description of the PIN, for example, the company name, location or the type of service), services that each PIN can provide and the corresponding PEMC IP address.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_8.5.7.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.7.3.1",
      "section_id": "8.5.7.3.1",
      "section_title": "General",
      "content": "The following information flows are specified for PIN discovery:\n-\tPIN discovery request and response;",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.5.7.3.2",
      "section_id": "8.5.7.3.2",
      "section_title": "PIN discovery request",
      "content": "Table 8.5.7.3.2-1 describes information elements in the PIN discovery request from the PINE to the PEMC/PIN server.\nTable 8.5.7.3.2-1: PIN discovery request\nInformation element\nStatus\nDescription\nUE identifier\nM\nThe identifier of the hosting UE (i.e. GPSI or identity token) of PINE\nSecurity credentials\nM\nSecurity credentials resulting from a successful authorization for the PIN service.\nUE location\nO\nThe location information of the UE. The UE location is described in clause 7.2.7.\nFilter information\nO\nSet of characteristics to determine required PIN\n> Requested PIN service\nO\nIndicate the service that PINE wants to consume in the PIN\n> Service area\nO\nIndicate the service area of a PIN.",
      "chunk_type": "general",
      "cross_references": [
        "clause_7.2.7",
        "table_8.5.7.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.7.3.3",
      "section_id": "8.5.7.3.3",
      "section_title": "PIN discovery response",
      "content": "Table 8.5.7.3.3-1 describes information elements in the PIN discovery response from the PEMC/PIN server to PINE.\nTable 8.5.7.3.3-1: PIN discovery response\nInformation element\nStatus\nDescription\nSuccessful response\nO\n(see NOTE)\nIndicates that the PIN discovery request was successful.\n> PIN IDs\nM\nIdentifier of the candidate PIN.\n>> PIN Description\nO\nHuman-readable description of the PIN, for example, the company name, location or the type of service.\n>> PIN service\nO\nList of service that a PIN can provide, including the services provided by PINE or the service that can provided by application client on PINE:\n> PIN service Provider Identifier\n> PIN service type\n> PIN service Feature\n>> PEMC information\nO\nIncluding the address or identifier of PEMC\nFailure response\nO\n(see NOTE)\nIndicates that the PIN discovery request failed.\n> Cause\nM\nProvides the cause for PIN discovery request failure.\nNOTE:\tAt least one of the IE shall be present.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.7.3.3-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.8.1",
      "section_id": "8.5.8.1",
      "section_title": "General",
      "content": "After the PIN is created by the PEMC, the other PIN elements can be added into the PIN. For the PIN elements that have already added into the PIN, they can be removed from a certain PIN by the PEMC.\nWhen a PIN element is added into a PIN, the PEMC should configure the PIN elements with the necessary permission, for example, to be able to access to 5GS via the PEGC.\nWhen a PIN element is added into a PIN, the PINE can indicate the service it can provide. The service includes both the service that PIN client in PINE can provide and the service that application client on PINE can provide.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.5.8.2.1",
      "section_id": "8.5.8.2.1",
      "section_title": "PIN client requests to join into a PIN",
      "content": "Figure 8.5.8.2.1-1 illustrates procedure of PIN client requests to join into a PIN, based on request/response model.\nPre-conditions:\n1.\tThe UE (PIN client) has been pre-configured or has discovered the address (e.g. IP address, FQDN, URI) of the PEMC;\n2.\tThe UE Identifier or PIN client Identifier is available;\n3.\tThe PIN client has been authorized to communicate with the PEMC and already has application layer connection with PEMC;\n4.\tThe PIN client has already received the list of PIN ID, corresponding PEMC IP address and configuration information related to each PIN;\nFigure 8.5.8.2.1-1: PIN client requests to join into a PIN\n1.\tThe PIN client sends the PIN Management PINE join into PIN request to PEMC to join the PIN. The request includes the security credentials of the PIN client received during authorization procedure and may include the UE identifier such as GPSI, PIN client ID, UE location, PIN ID and PIN client profile(s) information as defined in clause 8.5.8.3.2.\nThe request also includes service that PINE can provide. In the request, both the service that PIN client in PINE can provide and the service that application client on PINE can provide.\n2.\tUpon receiving the request, the PEMC performs an authorization check to verify whether the PIN client has authorization to join the PIN. The authorization procedure is defined in clause 8.10.\n3.\tThe PEMC sends a successful PIN Management PINE join into PIN response to PIN client. Also, the access control information for the PIN client is also included, for example, user name, account, SSID, BSSID. All the information is used by PIN elements in PIN to access 5G or access the network provided by PEGC. The PEMC also provides lifetime of the PIN, identity, address of PEGC and may also provide unique PIN client ID to identify the PIN element within a PIN.\n4.\tThe PEMC sends PIN status notify to the PIN server containing the details of the new PIN client that joined the PIN, including PIN client ID, GPSI and etc.\n5.\tThe PEMC sends PIN status notify to the PEGC and other PIN elements that subscribed for PIN status notification which contains the details of the new PIN client that joined the PIN. And the PEGC decides to enables the PINE to access 5GS.\n6-8.\tThe PEMC/PEGC/PINE updates PIN profile with the details of the new PIN client that joined the PIN and the service that the PINE can provide.",
      "chunk_type": "general",
      "cross_references": [
        "clause_8.5.8.3.2",
        "clause_8.10",
        "figure_8.5.8.2.1-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.8.2.2",
      "section_id": "8.5.8.2.2",
      "section_title": "Procedure of PIN elements decides to leave the PIN",
      "content": "The following procedure defines the PIN elements decides to leave the PIN.\nPre-conditions:\n1.\tThe PIN client has already been added into a PIN;\n2.\tThe UE Identifier or PIN client Identifier is available;\n3.\tThe PIN client has been authorized to communicate with the PEMC and already has the application layer connection with the PEMC;\nFigure 8.5.8.2.2-1: PIN client decides to leave a PIN\n1.\tThe PINE decides to leave a PIN, and sends the PIN Management PINE leave from PIN request to PEMC to leave the PIN. The request includes the security credentials of the UE or PIN client received during authorization procedure and may include the UE identifier such as GPSI, PIN client ID and PIN ID.\n2.\tThe PEMC authorizes the request, and decides to remove a PIN client from a PIN which indicated by PIN client ID or UE GPSI. The authorization procedure is defined in clause 8.10.\n3.\tThe PEMC sends the PIN Management PINE leave from PIN response to PINE to notify that the PIN client is not the member of the PIN anymore.\n4-5.\tThe PEMC sends the PIN status notify Request to the PEGC, PIN server and PIN elements that subscribed for PIN status notification which contains the details of the PIN client that requested to leave the PIN. The details of the PINE include PIN client ID, GPSI and etc.\n6-8.\tThe PEMC/PEGC/PIN server updates the dynamic profile information of the PIN to remove the details of the PIN client that requested to leave the PIN. The PEGC disables the access control information for this PINE. The PEGC stops relaying traffic to the PINE.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_8.10",
        "figure_8.5.8.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.8.2.3",
      "section_id": "8.5.8.2.3",
      "section_title": "Procedure of PEMC removes the PIN elements from a PIN",
      "content": "The following procedure defines the PIN elements decides to leave the PIN.\nPre-conditions:\n1.\tThe PIN client has already been added into a PIN;\n2.\tThe UE Identifier or PIN client Identifier is available;\n3.\tThe PIN client has been authorized to communicate with the PEMC and already has the application layer connection with PEMC;\nFigure 8.5.8.2.3-1: Remove a PIN element from a PIN by PEMC\n1.\tThe PEMC decides to remove the PINE (identified by GPSI, PIN client ID and in certain PIN identified by PIN ID).\n2.\tThe PEMC sends the PIN status notify to the PINE that this PINE has been removed from the PIN that identified by PIN ID.\n3-4.\tThe PEMC sends the PIN status notify to the PEGC, PIN elements subscribed for PIN status notification and PIN server containing the details of the PIN client that is removed from the PIN. The details of the PINE include PIN client ID, GPSI and etc.\n5-7.\tThe PEMC/PEGC/PIN server updates the dynamic profile information of the PIN to remove the details of the PIN client that is removed from the PIN. The PEGC disables the access control information for this PINE. The PEGC stops relaying traffic to the PINE.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_8.5.8.2.3-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.8.2.4",
      "section_id": "8.5.8.2.4",
      "section_title": "PINE join into PIN via PEGC",
      "content": "The PINE joins the PIN via the PEGC is depicted in Figure 8.5.8.2.4-1.\nPre-conditions:\n1.\tThe PINE has been pre-configured or has discovered the address (e.g. IP address, FQDN, URI) of the PEMC;\n2.\tThe PINE already establishes the connection with PEGC;\n3.\tThe PIN information to join is available at the PINE via e.g., PIN discovery procedure.\nFigure 8.5.8.2.4-1: PINE join into PIN via PEGC\n1.\tThe PINE sends PIN Management PINE join into PIN request to the PEGC. The PIN Management PINE join into PIN request contains the PIN ID which identifies the PIN to join, PINE client ID and credentials if available, PEMC identity/PIN server address.\nThe request also includes service that PINE can provide.\n2.\tThe PEGC identifies the received message is the PIN Management PINE join into PIN request and perform the authorization. If authorized, the PEGC determines to forward the PIN Management PINE join into PIN request to the PEMC or the PIN server.\nIf authorization in PEGC is failed, directly skip to step 6.\nThe PEGC can decide to perform either Option 1 (from step 3a to step 3b) or Option 2 (from step 4a to step 4d). If direct communication between PEGC and PEMC always available, the PEGC performs Option 1.\n3.\t(Option 1, step 3a and step 3b) The PEGC forwards the PIN Management PINE join into PIN request to the PEMC in step 3a, based on the PEMC identity in step 1 or by resolving the PIN ID. The PEMC authorized the PINE to join the PIN, and returns the PIN Management PINE join into PIN response to the PEGC in step 3b.\n4.\t(Option 2, from step 4a to step 4d) The PEGC forwards the PIN Management PINE join into PIN request to the PIN server in step 4a based on the PIN server address in step 1 or by resolving the PIN ID. The PIN server forwards the PIN Management PINE join into PIN request to the PEMC in step 4b, and the PEMC authorized the PINE to join the PIN, and returns the PIN Management PINE join into PIN response to the PIN server in step 4c. Further the PIN server return the PIN server to the PEGC in step 4d.\n5.\tAfter the join, the PEMC update the PIN and may notify other entities (e.g., existing joined members, PIN server). The PEMC triggers the PIN status notify to PEGC/PINE as indicated in step 5-6 of procedure Figure 8.5.8.2.2-1.\n6.\tThe PEGC return the PIN Management PINE join into PIN response to the PINE.\nIf authorization in PEGC is failed, PEGC generates the PIN Management PINE join into PIN response to the PINE for the authorization failure.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.5.8.2.4-1",
        "figure_8.5.8.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.8.2.5",
      "section_id": "8.5.8.2.5",
      "section_title": "PINE leave via PEGC",
      "content": "The PINE leaves the PIN via the PEGC is depicted in figure 8.5.8.2.5-1.\nPre-conditions:\n1.\tThe PINE has been pre-configured or has discovered the address (e.g. IP address, FQDN, URI) of the PEMC or PIN server;\n2.\tThe PINE already establishes the connection with PEGC;\n3.\tThe PEGC acts as the application layer relay as defined in 6.3.4\nFigure 8.5.8.2.5-1: PINE leave via the PEGC\n1.\tThe PINE determines to leave the PIN and sends PIN Management PINE leave from PIN request to the PEGC. The PIN Management PINE leave from PIN request contains the PIN ID which identifies the PIN to leave, PINE client ID and credentials if available, PEMC identify/PIN server address[optional].\n2.\tThe PEGC identifies the received message is the PIN Management PINE leave from PIN request and perform the authorization. If authorized, the PEGC determines to forward the PIN leave request to the PEMC or the PIN server.\nIf authorization in PEGC is failed, directly skip to step 6.\nThe PEGC can decide to perform either Option 1 (from step 3a to step 3b) or Option 2 (from step 4a to step 4d). If direct communication between PEGC and PEMC always available, the PEGC performs Option 1.\n3.\t(Option 1, step 3a and step 3b) If PEGC determine to forward the PIN Management PINE leave from PIN request to the PEMC in step 2, PEGC forwards the PIN Management PINE leave from PIN request to the PEMC based on the PEMC identity in step 1 or by resolving the PIN ID.\nThe PEMC authorized the PINE to leave the PIN, and returns the PIN Management PINE leave from PIN response to the PEGC.\n4.\t(Option 2, step 4a and step 4d) If PEGC determine to forward the PIN Management PINE leave from PIN request to the PIN Sever in step2, the PEGC forwards the PIN Management PINE leave from PIN request to the PIN server based on the PIN server address in step 1 or by resolving the PIN ID. The PIN server forwards the PIN Management PINE leave from PIN request to the PEMC, and the PEMC authorized the PINE to leave the PIN, and returns the PIN Management PINE leave from PIN response to the PIN server. Further the PIN server return the PIN Management PINE leave from PIN response to the PEGC.\n5.\tFurther, the PEMC updates the PIN and may notify other entities (e.g., existing joined members, PIN server).\n6.\tThe PEGC returns the PIN Management PINE leave from PIN response to the PINE. The PEGC disables the access control information for this PINE. The PEGC stops relaying traffic to the PINE.\nIf authorization in PEGC is failed, PEGC generates the PIN Management PINE leave from PIN response to the PINE for the authorization failure.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.5.8.2.5-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.8.3.1",
      "section_id": "8.5.8.3.1",
      "section_title": "General",
      "content": "The following information flows are specified for PIN creation:\n-\tPIN Management PINE join into PIN request and response;\n-\tPIN Management PINE leave from PIN request and response;",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.5.8.3.2",
      "section_id": "8.5.8.3.2",
      "section_title": "PIN Management PINE join into PIN request",
      "content": "Table 8.5.8.3.2-1 describes information elements in the PIN Management PINE join into PIN request from the PINE to PEMC, from PINE to PEGC, from PEGC to PEMC, from PIN server to PEMC.\nTable 8.5.8.3.2-1: PIN Management PINE join into PIN request\nInformation element\nStatus\nDescription\nPIN ID\nM\nIdentifier of the PIN that wants to join in.\nSecurity credentials\nM\nSecurity credentials resulting from a successful authorization for the PIN service.\nPIN client ID\nM\nThe PIN client ID of PINE\nPEMC ID\nO\nIdentifier of the PEMC that PEGC should send request to.\nUE Identifier\nM\nThe identifier of the hosting UE (i.e. GPSI or identity token) or the PIN client ID of PEMC\nPIN client profile(s)\nO\nProfiles of PIN clients. The PIN client profiles are further described in Table 8.2.2.3.\nPIN server endpoint information\nO\nIncludes URI(s), FQDN(s), IP address(es)) of PIN server.\nUE location\nO\nThe location information of the UE. The UE location is described in clause 7.2.7.\nServices that PINE provide\nO\nIndicate the service that PINE can provide.",
      "chunk_type": "general",
      "cross_references": [
        "clause_7.2.7",
        "table_8.5.8.3.2-1",
        "table_8.2.2.3"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.8.3.3",
      "section_id": "8.5.8.3.3",
      "section_title": "PIN Management PINE join into PIN response",
      "content": "Table 8.5.8.3.3-1 describes information elements in the PIN Management PINE join into PIN response from the PEMC to PINE, from PEGC to PINE, from PEMC to PEGC, from PEMC to PIN server.\nTable 8.5.8.3.3-1: PIN Management PINE join into PIN response\nInformation element\nStatus\nDescription\nSuccessful response\nO\n(see NOTE)\nIndicates that the PIN Management PINE join into PIN request was successful.\n> Updated PIN client profile\nO\nPIN client profile information updated by the PEMC (e.g., default and backup PEGCs assigned to PINE).\n> Heartbeat Timer\nM\nHeartbeat timer value assigned to PINE\n> Lifetime of the PIN\nM\nIndicates the lifetime of PIN.\n> Identifier of PEGCs\nO\nIndicates the PINE identifier authorized to be the PEGCs of this PIN.\n>> PEGC address\nO\nAssigned IP address or port number of PEGC\n> PEGC information\nO\nIncludes the PEGC information for example,\n>> Access control information\nO\nIncludes: user name, account, SSID, BSSID. All the information is used by PIN elements in PIN to access 5G or access other application outside of PIN\nFailure response\nO\n(see NOTE)\nIndicates that the PIN Management PINE join into PIN request failed.\n> Cause\nM\nProvides the cause for PIN Management PINE join into PIN request failure.\nNOTE:\tAt least one of the IE shall be present.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.8.3.3-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.8.3.4",
      "section_id": "8.5.8.3.4",
      "section_title": "PIN Management PINE leave from PIN request",
      "content": "Table 8.5.8.3.4-1 describes information elements in the PIN Management PINE leave from PIN request from the PINE to PEMC.\nTable 8.5.8.3.4-1: PIN Management PINE leave from PIN request\nInformation element\nStatus\nDescription\nPIN ID\nM\nIdentifier of the PIN that wants to leave from.\nSecurity credentials\nM\nSecurity credentials resulting from a successful authorization for the PIN service.\nPIN client ID\nM\nThe PIN client ID of PINE\nUE Identifier\nM\nThe identifier of the hosting UE (i.e. GPSI or identity token) or the PIN client ID of PEMC",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.8.3.4-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.8.3.5",
      "section_id": "8.5.8.3.5",
      "section_title": "PIN Management PINE leave from PIN response",
      "content": "Table 8.5.8.3.5-1 describes information elements in the PIN Management PINE leave from PIN response from the PEMC to PINE.\nTable 8.5.8.3.5-1: PIN Management PINE leave from PIN response\nInformation element\nStatus\nDescription\nSuccessful response\nO\n(see NOTE)\nIndicates that the PIN Management PINE leave from PIN request was successful.\nFailure response\nO\nIndicates that the PIN Management PINE leave from PIN request failed.\n> Cause\nM\n(see NOTE)\nProvides the cause for PIN Management PINE leave from PIN request failure.\nNOTE:\tAt least one of the IE shall be present.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.8.3.5-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.9.1",
      "section_id": "8.5.9.1",
      "section_title": "General",
      "content": "The PIN status update is used by the PINE, PEGC and PIN server to be notified of PIN status information by the PEMC.\nPIN status information includes the following information:\n-\tPINE add/remove into/from the PIN;\n-\tPEGC/PEMC relocation in the PIN;\n-\tPIN profile update;\n-\tPIN state changes;",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.5.9.2.1",
      "section_id": "8.5.9.2.1",
      "section_title": "PIN status subscribe",
      "content": "Figure 8.5.9.2.1-1 illustrates the PIN status subscribe procedure.\nPre-conditions:\n1.\tThe PINE/PEGC/PIN server has already received the address of PEMC;\n2.\tThe PINE/PEGC/PIN server has been authorized to communicate with PEMC;\nFigure 8.5.9.2.1-1: PIN status subscribe\n1.\tThe PINE/PEGC/PIN server sends the PIN status subscribe request to the PEMC. The PIN status subscribe request includes the PIN client ID along with the security credentials, Event ID.\n2.\tUpon receiving the request from the PINE/PEGC/PIN server, the PEMC checks if the PINE/PEGC/PIN server is authorized to subscribe for information of the requested PIN status information. The authorization check may apply to an individual PIN. If the request is authorized, the PEMC creates and stores the subscription for PIN.\n3.\tIf the processing of the request is successful, the PEMC sends a PIN status subscribe response to the PINE/PEGC/PIN server, which includes the subscription identifier and may include the expiration time, indicating when the subscription will automatically expire. To maintain the subscription, the PINE/PEGC/PIN server shall send a PIN status update request prior to the expiration time. If a new PIN status update request is not received prior to the expiration time, the PEMC shall treat the PINE/PEGC/PIN server as implicitly unsubscribed.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.5.9.2.1-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.9.2.2",
      "section_id": "8.5.9.2.2",
      "section_title": "PIN status notify",
      "content": "Figure 8.5.9.2.2-1 illustrates the PIN status notify procedure.\nPre-conditions:\n1.\tThe PINE/PEGC/PIN has subscribed with the PEMC for the PIN status as specified in clause 8.5.9.2.1.\nFigure 8.5.9.2.2-1: PIN status notify procedure\n1.\tWhen an event occurs at the PEMC that satisfies trigger conditions for notifying (e.g. to provide updated PIN status, for example when a PINE joins into the PIN) a PINE/PEGC/PIN server.\nThe status information of PIN is updated including the following cases:\n-\tPIN modification: The PIN modification includes the PEMC/PEGC relocation and the PINE joins into PIN or leaves the PIN;\n-\tPIN profile updates: The PIN profiles is referred to the section 8.2.2, and the updated PIN profile may be coordinated to other PINEs;\n-\tPIN state changes: Whenever the PIN state is changed from activated to de-activated or vice-versa;\n2.\tThe PEMC sends an PIN status notify to the PINE/PEGC/PIN server with the updated PIN status information.\nThe PIN status information notification includes the following parameters:\n-\tPIN modification: If the PEMC decides the PEMC/PEGC relocation, the PEMC includes the parameters about the newly assigned PEMCs and PEGCs in the PIN status update request, for example, the PEMC/PEGC ID or address, the PEGC information in Table 8.5.2.3.3-1 about access control information and etc;\n-\tPINE management: If the PEMC decides the PINE to join or leave the PIN, the PEMC includes the parameters about the newly added/removed PINE in the PIN status update request, for example, the PIN client ID or address, the PIN client profile and etc. Also if the PINE is removed from the PIN, the parameters about the removed PINE should be included in the PIN status update request;\n-\tPIN profile update: If the PIN profile is updated, the PEMC includes the parameters about updated PIN profile in the PIN status update request;\n-\tPIN state changes: Whenever the PIN state is changed from activated to de-activated or vice-versa;\n3.\tUpon receiving the notification, the PINE, PEGC or PIN server updates the PIN profile according to the information in the PIN status notify.\n8.5.9.2.3\tPIN status update\nFigure 8.5.9.2.3-1 illustrates the PIN status update procedure.\nPre-conditions:\n1.\tThe PINE/PEGC/PIN server has subscribed with the PEMC for PIN status information as specified in 8.5.9.2.1;\nFigure 8.5.9.2.3-1: PIN status update\n1.\tThe PINE/PEGC/PIN server sends a PIN status update request to the PEMC. The PIN status update request includes the security credentials and the subscription identifier. It may also include subscribed events, notification target address and proposed expiration time.\n2.\tUpon receiving the request from the PINE/PEGC/PIN server, the PEMC checks if the PINE/PEGC/PIN server is authorized to update the subscription information. If the request is authorized, the PEMC updates the stored subscription for PIN status information.\n3.\tIf the processing of the request is successful, the PEMC sends a PIN status update response to the PINE/PEGC/PIN server, which may include the expiration time, indicating when the subscription will automatically expire. To maintain the subscription, the PINE/PEGC/PIN server shall send an PIN status information subscription update request prior to the expiration time. If a PIN status update request is not received prior to the expiration time, the PEMC shall treat the PINE/PEGC/PIN server as implicitly unsubscribed.\n8.5.9.2.4\tPIN status unsubscribe\nFigure 8.5.9.2.4-1 illustrates the PIN status unsubscribe procedure.\nPre-conditions:\n1.\tThe PINE/PEGC/PIN server has subscribed with the PEMC for PIN status information as specified in 8.5.9.2.1;\nFigure 8.5.9.2.4-1: PIN status unsubscribe\n1.\tThe PINE/PEGC/PIN server sends a PIN status unsubscribe request to the PEMC. The PIN status unsubscribe request includes the security credentials and the subscription identifier.\n2.\tUpon receiving the request from the PINE/PEGC/PIN server, the PEMC checks if the PINE/PEGC/PIN server is authorized to unsubscribe. If the request is authorized, the PEMC cancels the subscription for PIN status information.\n3.\tIf the processing of the request is successful, the PEMC sends a PIN status unsubscribe response to the PINE/PEGC/PIN server.",
      "chunk_type": "general",
      "cross_references": [
        "clause_8.5.9.2.1",
        "clause_8.2.2",
        "table_8.5.2.3.3-1",
        "figure_8.5.9.2.2-1",
        "figure_8.5.9.2.3-1",
        "figure_8.5.9.2.4-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.9.3.1",
      "section_id": "8.5.9.3.1",
      "section_title": "General",
      "content": "The following information flows are specified for PIN status:\n-\tPIN status subscribe;\n-\tPIN status notify;\n-\tPIN status update;\n-\tPIN status unsubscribe;",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.5.9.3.2",
      "section_id": "8.5.9.3.2",
      "section_title": "PIN status subscribe request",
      "content": "Table 8.5.9.3.2-1: PIN status subscribe request\nInformation element\nStatus\nDescription\nPIN client ID\nM\nUnique identifier of the PINE/PEGC/PIN server.\nSubscribed Events IDs\nM\nIdentifies PIN status event for which the subscriber is notified, more than one PIN status event IDs can be provided.\nEvent IDs:\n- PIN modification\n- PINE management (PINE join/leave)\n- PIN profile update\n- PIN state\nSecurity credentials\nM\nSecurity credentials resulting from a successful authorization for the PIN service.\nPIN ID\nM\nThe identifier of PIN.\nNotification Target Address\nO\nThe Notification target address (e.g. URL) where the notifications destined for the PINE/PEGC/PIN server should be sent to.\nProposed expiration time\nO\nProposed expiration time for the subscription",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.9.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.9.3.3",
      "section_id": "8.5.9.3.3",
      "section_title": "PIN status subscribe response",
      "content": "Table 8.5.9.3.3-1: PIN status subscribe response\nInformation element\nStatus\nDescription\nSuccessful response\nO\nIndicates that the subscription request was successful.\n> Subscription ID\nM\nSubscription identifier corresponding to the subscription.\n> Expiration time\nO\nIndicates the expiration time of the subscription. To maintain an active subscription, a subscription update is required before the expiration time.\n> Successfully subscribed event IDs\nO\nIndicates the successfully subscribed event IDs.\nFailure response\nO\nIndicates that the subscription request failed.\n> Cause\nO\nIndicates the cause of subscription request failure\n> Unsuccessfully subscribed event IDs\nO\nIndicates the unsuccessfully subscribed event IDs.\nNOTE:\tIf some of the event ID is accepted to subscribe and others are rejected, the service provider should indicate the event ID that accepted and rejected individually to service consumer.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.9.3.3-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.9.3.4",
      "section_id": "8.5.9.3.4",
      "section_title": "PIN status notify",
      "content": "Table 8.5.9.3.4-1 describes information elements in the PIN status notify from the PEMC to PEMC/PEGC/PINE/PIN server.\nTable 8.5.9.3.4-1: PIN status notify\nInformation element\nStatus\nDescription\nPIN Status event type\nM\nIdentifies PIN status event types contained in the notification; more than one PIN status event type can be provided.\nPIN status event types\n- PIN modification\n- PINE management (PINE join/leave)\n- PIN profile update\n- PIN state (Activated or de-activated)\nPIN ID\nM\nIndicate identifier of the PIN that status event related to\nPINE management\nO\nIndicates the PINE join/leave the PIN and PINE removed, this IE is present if the PIN status event type is PINE management.\nPIN modification\nO\nIndicates the modification of PIN as indicated in section 8.5.10 for example the PEMC/PEGC relocation, this IE is present if the PIN status event type is PIN modification.\nPIN profiles update\nO\nIndicates a PIN profile update that indicated in section 8.2.2, this IE is present if the PIN status event type are PIN modification, PINE management, and is PIN profile update.\nPIN state\nO\nIndicates the state of a PIN.",
      "chunk_type": "general",
      "cross_references": [
        "clause_8.5.10",
        "clause_8.2.2",
        "table_8.5.9.3.4-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.9.3.5",
      "section_id": "8.5.9.3.5",
      "section_title": "PIN status update request",
      "content": "Table 8.5.9.3.5-1: PIN status update request\nInformation element\nStatus\nDescription\nSubscription ID\nM\nSubscription identifier corresponding to the subscription.\nSecurity credentials\nM\nSecurity credentials resulting from a successful authorization for the PIN service.\nPIN ID\nM\nThe identifier of PIN.\nSubscribed Events\nO\nIdentifies PIN status event types for which the subscriber is notified, more than one PIN status event type can be provided.\nPIN status event types\n- PIN modification\n- PINE management (PINE join/leave)\n- PIN profile update\n- PIN state\nNotification Target Address\nO\nThe Notification target address (e.g. URL) where the notifications destined for the PINE/PEGC/PIN server should be sent to.\nProposed expiration time\nO\nProposed expiration time for the subscription",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.9.3.5-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.9.3.6",
      "section_id": "8.5.9.3.6",
      "section_title": "PIN status update response",
      "content": "Table 8.5.9.3.6-1: PIN status update response\nInformation element\nStatus\nDescription\nSuccessful response (see NOTE)\nO\nIndicates that the subscription update request was successful.\n> Expiration time\nO\nIndicates the expiration time of the subscription. To maintain an active subscription, a subscription update is required before the expiration time.\nFailure response (see NOTE)\nO\nIndicates that the subscription update request failed.\n> Cause\nM\nIndicates the cause of subscription update request failure\nNOTE:\tOne IE is included in the response.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.9.3.6-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.9.3.7",
      "section_id": "8.5.9.3.7",
      "section_title": "PIN status unsubscribe request",
      "content": "Table 8.5.9.3.7-1: PIN status unsubscribe request\nInformation element\nStatus\nDescription\nSubscription ID\nM\nSubscription identifier corresponding to the subscription.\nSecurity credentials\nM\nSecurity credentials resulting from a successful authorization for the PIN service.\n8.5.9.3.8\tPIN status unsubscribe response\nTable 8.5.9.3.8-1: PIN status unsubscribe response\nInformation element\nStatus\nDescription\nSuccessful response (see NOTE)\nO\nIndicates that the unsubscribe request was successful.\nFailure response (see NOTE)\nO\nIndicates that the unsubscribe request failed.\n> Cause\nM\nIndicates the cause of unsubscribe request failure\nNOTE:\tOne IE is included in the response.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.9.3.7-1",
        "table_8.5.9.3.8-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.10.1",
      "section_id": "8.5.10.1",
      "section_title": "General",
      "content": "This clause describes PIN modification functionality.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.5.10.2.2",
      "section_id": "8.5.10.2.2",
      "section_title": "PIN modification after local PEMC failure",
      "content": "Figure 8.5.10.2.2-1 describes the PIN modification procedure to perform a PEMC role change due to the failure of the PEMC. An authorised administrator is the owner of the PIN and accesses PIN configuration using an application on a UE, which is one of the PEMC for the PIN. The authorised administrator can manage the PIN locally or through the 5G network. This procedure describes a PEMC (e.g., an authorized administrator on a UE) managing the PIN remotely via the 5G network.\nThe procedure may be used e.g. when a PEMC is available on a UE for PIN management by an authorised administrator. When there is a local PEMC failure, the authorized administrator can be enabled to manage the PIN remotely, via the 5G network, using the following steps.\nPre-conditions:\n1.\tThe PIN server has authorized the creation of the PIN.\n2.\tThe authorized administrator is the owner of the PIN and has created the PIN.\n3.\tThe authorized administrator configures the active PEMC to provide PIN management for the PIN. UE/PEMC1 is the inactive PEMC.\n4.\tThe active PEMC, PEGC, PINE-1, PINE-2, and the UE/PEMC1 are members of the PIN. PINE-1 has PEMC capability.\n5.\tThe authorized administrator leaves the local area of the PIN (e.g., in a home) and is able to access the PIN remotely through the 5G network. As a result, the authorized administrator is able to manage the PIN through the 5G network.\n6.\tThe UE/PEMC1 is subscribed to the PEGC for PIN connectivity notifications\nFigure 8.5.10.2.2-1: PIN Modification after local PEMC failure\n1.\tThe UE/PEMC1 may detect that PEMC2 is unavailable or failed. In step 1a, the UE/PEMC1 may receive a PIN connectivity notification from PEGC indicating that there is a communication failure with PEMC2. Otherwise, in step 1b, the UE/PEMC1 may detect that PEMC2 is unavailable by using the PIN heartbeat mechanism or if a communication timeout happens with PEMC2.\n2.\tIf UE/PEMC1 has detected that PEMC2 is unavailable or failed in step 1, an authorized administrator on UE/PEMC1 sends a PIN configuration request to the PIN server through the 5G network. The request includes the security credentials of the authorized administrator, the UE ID, the PIN ID, PIN member ID, authorization type indicating the role change (e.g., the request may indicate that PINE-1 be assigned the new PEMC).\n3.\tIf the PIN Server has received a PIN Configuration request in step 2, the PIN server processes the modification request and checks if the authorized administrator is allowed to modify the PIN. The PIN server verifies that PINE-1 has the capability to serve as a PEMC using information in the PIN profile.\n4. \tIf the authorized administrator is allowed to perform PIN modification or if the PIN Server has detected that PEMC2 is unavailable or failed and has determined that PINE-1 can be reassigned as the new PEMC, the PIN server sends a PIN management request to PINE-1 to assign PINE-1 as the new PEMC and provides PIN profile information to PINE-1.\n5.\tPINE-1 processes the PIN management request indicating the PEMC assignment and a PIN management response to the PIN server indicating if the assignment was successful.\n6.\tIf the PIN management response in step 5 was successful, the PIN server notifies the other members of the PIN that PINE-1 will be the new PEMC for the PIN and updates PIN profile information.\n7.\tIf the PIN Server has received a PIN Configuration request in step 2, the PIN server sends a PIN configuration response to the UE/PEMC1, the response includes the updated PIN profile information if the PEGC assignment was successful; otherwise, the response indicates that the assignment failed.\n8.\tIf the PEGC assignment was successful, the PIN communications resume with PINE-1 serving as the new PEMC.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.5.10.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.10.2.3",
      "section_id": "8.5.10.2.3",
      "section_title": "PIN modification with PEGC role change",
      "content": "Figure 8.5.10.2.3-1 describes a PIN modification procedure to perform a PEGC role change due to the unavailability of the PEGC. This procedure describes a PEMC detecting the unavailability of a PEGC (e.g. PEGC leaves the local service area of the PIN) and performing a PIN modification with the PIN Server to assign a new PEGC. As part of PIN management, a PEMC receives periodic PIN heartbeat messages from PEGCs to ensure PIN routing is available for members of the PIN at all times. If a PEMC does not receive the periodic PIN heartbeat messages from the PEGC, then the PEMC needs to assign a new PEGC or request the PIN server to assign the new PEGC.\nPre-conditions:\n1.\tThe PIN server has authorized the PEMC to create PINs.\n2.\tThe PEMC creates a local PIN with members: PEMC, UE serving as PEGC, PINE1, and PINE2.\n3.\tThe PEMC maintains a PIN profile with information on the capabilities of each PIN member.\n4.\tPINE2 is a PIN member that also has gateway capability.\nFigure 8.5.10.2.3-1: PIN Modification due to PEGC unavailability\n1.\tPEMC receives periodic PIN heartbeats from PEGC to monitor the availability of the PEGC.\n2.\tPEGC leaves the local coverage area of the PIN, e.g., leaves the home, and is not available to route PIN communications.\n3.\tPEMC does not receive a periodic PIN heartbeat from PEGC at the configured interval and determines that PEGC is no longer providing PIN routing capability.\nIf secondary PEGC is available in PEMC, that the PEMC decides to configure this PEGC as the gateway of PIN, and skip the procedure from step 4 to step 7. And PEMC only notifies PIN server of newly selected PEGC in step 8.\nIf secondary PEGC is unavailable in PEMC, that the PEMC decides to trigger the PIN server to discover the PEGC as the gateway of PIN from step 4 to step 7. And PEMC only notifies PINE in this PIN of newly selected PEGC in step 8.\n4.\tPEMC sends a PIN configuration request to the PIN server to select a new PEGC. The request includes the PIN ID, the PEMC ID, the PEGC ID, authorization type indicating the role change, the ID of a PIN member that can serve as the new PEGC (e.g., PINE2), and a timestamp.\n5.\tThe PIN server considers which member of the PIN can serve as the new PEGC, including the PIN member the PEMC provided, and selects a PIN member to serve as the new PEGC. The PIN server sends a PIN management request to PINE-2 with PIN profile and dynamic profile information. The dynamic profile information includes PIN traffic routing rules that PINE2 would need to make routing decisions.\n6.\tPINE-2 sends a PIN management response accepting to serve as the new PEGC.\n7.\tThe PIN server sends a PIN configuration response with PIN profile and dynamic profile information to the PEMC with the status of the request, the ID of the new PEGC, and PIN traffic routing rules. The PIN server response triggers the PEMC to notify other PIN members of the PEGC role change.\n8.\tPEMC notifies the PIN server or other members of the PIN that PINE2 will serve as the new PEGC. The PEMC includes PIN profile and dynamic profile information that includes traffic routing rules applicable to each member.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.5.10.2.3-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.10.2.4",
      "section_id": "8.5.10.2.4",
      "section_title": "PEMC replacement triggered internally within the PIN",
      "content": "A PIN element could have been authorized to act as PEMC for a certain duration after which it is either removed from the PIN or de-authorized to act as PEMC. Another PIN element in the PIN takes over the role of PEMC.\nWhen the duration of its role as PEMC is expiring or for some other reasons (implementation specific) the current PEMC requests another PINE to take the role of PEMC. Once the role assignment succeeds, the PIN server and other PIN elements including PEGC are notified of this role change.\nFigure 8.5.2.10.2-4-1 illustrates PEMC replacement procedure triggered internally within the PIN by current PEMC.\nPre-conditions:\n1.\tPEMC-2 PIN element has already indicated that it can act as PEMC during the registration process.\n2.\tDynamic profile information about the PIN is available at the current PEMC and PIN server\nFigure 8.5.2.10.2.4-1: PEMC replacement triggered internally within the PIN\n1.\tPEMC-1, PEMC-2, PEGC, PINE-1 and PINE-2 are part of same PIN. PEMC-1 is currently the PEMC of the PIN.\n2.\tPEMC-1 decides to relinquish its PEMC role and handover to another PIN element. It may decide if it detects that its UE power is draining or its role as PEMC is nearing expiry.\n3.\tThe PEMC-1 looks into the PIN dynamic profile information to identify the new PINE which can take up the role of PEMC (here PEMC-2 PIN element) and requests PEMC-2 to take the role of PEMC by sending PIN PEMC role takeover request which includes the PIN identifier, PIN element identifier of PEMC-2.\n4.\tIf the PEMC-2 PINE decides to take up the role of PEMC it sends the PIN PEMC role takeover success response to the PEMC-1.\n5.\tThe PEMC-1 updates the PIN dynamic profile information with this role change details and delivers the PIN dynamic profile information to the PEMC-2 by consuming PIN status notify message.\n6.\tThe PEMC-1 signals all the PINEs in the PIN including the PEGC and PIN server about the change in the PIN element acting as PEMC and its reachability information by sending PIN status notify message. On receiving this notification PIN server and PEGC updates the PIN dynamic profile information with the details of PEMC-2.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.5.2.10.2-4",
        "figure_8.5.2.10.2.4-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.10.2.5",
      "section_id": "8.5.10.2.5",
      "section_title": "PEGC replacement triggered by PEMC",
      "content": "In some scenarios, like hardware failure, crash or power drain, the current PEGC may not be in a position to indicate to the PIN server or request the PIN server to assign the role of PEGC to another PIN element. In these cases, the PEMC on detecting the unavailability of the PIN element acting as PEGC, need to assign the PEGC role to another PINE and deliver the PIN dynamic information to the new PEGC.\nFigure 8.5.2.10.2-5-1 illustrates PEGC replacement procedure triggered by PEMC on detecting current PEGC is unavailable or PEGC role change is required.\nPre-conditions:\n1.\tPEGC-2 PIN element has already indicated that it can act as PEGC during the registration process.\n2.\tDynamic information about the PIN is available at the PEMC.\n3.\tPIN has only one PIN element configured with the role of PEGC.\nFigure 8.5.2.10.2.5-1: PEGC replacement triggered by PEMC\n1.\tPEMC, PEGC-1, PEGC-2, PINE-1 and PINE-2 are part of same PIN. PEGC-1 is currently the PEGC of the PIN.\n2.\tThe PEMC identifies that it is no longer receiving periodic PIN heartbeats from PEGC-1 or its duration to act as PEGC is ending.\n3.\tThe PEMC looks into the PIN profile and PIN dynamic information to identify the new PINE which can take up the role of PEGC (here PEGC-2 PIN element) and requests PEGC-2 to take the role of PEGC by sending PIN PEGC role takeover request and this request includes the PIN Element ID of PEGC-2, PIN identifier and time duration to act as PEGC etc.\n4.\tIf the PEGC-2 PINE decides to take up the role of PEGC it sends the success PIN PEGC role takeover response to the PEMC.\n5.\tThe PEMC notifies the PIN server that PEGC-2 is the new PEGC of the PIN and it is releasing PEGC-1 from its role as PEGC by sending PIN status notification request containing the required details.\n6.\tThe PEMC and PIN server updates the PIN dynamic information with the relevant details of PEGC-2.\n7.\tThe PEMC delivers the PIN dynamic information to the PEGC-2 by consuming PIN status notify message.\n8.\tThe PEMC sends PIN status notify message to notify the relevant PINEs in the PIN about the change in the PIN element acting as PEGC and its reachability information.\n8.5.10.3\tInformation flows.\n8.5.10.3.1\tGeneral",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.5.2.10.2-5",
        "figure_8.5.2.10.2.5-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.10.3.2",
      "section_id": "8.5.10.3.2",
      "section_title": "PIN configuration request",
      "content": "Table 8.5.10.3.2-1 shows the informational elements of the PIN configuration request sent by a PIN Element to the PIN server to obtain authorization for the modification of a PIN.\nTable 8.5.10.3.2-1: PIN configuration request\nInformation element\nStatus\nDescription\nPIN ID\nM\nThe identifier of the PIN\nRequester PINE ID\nM\nThe identifier of the PIN Element making the request\nAuthorization type\nM\nRequest for the authorization to modify the configuration of a PIN:\nPEMC role change, PEGC role change\nPINE ID of predecessor in the role\nM\nPINE ID of the element serving in the indicated role and needs to be changed e.g. due to being unavailable.\nPINE ID of proposed successor in the role\nO\nPINE ID of the element proposed to assume the role\nAdditional PEMCs\nO\nIndicate additional PEMCs (with identifier of PEMC) that are requested to manage the PIN.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.10.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.10.3.3",
      "section_id": "8.5.10.3.3",
      "section_title": "PIN configuration response",
      "content": "Table 8.5.10.3.3-1 shows the informational elements of the PIN configuration response provided by the PIN server to authorize the modification of a PIN.\nTable 8.5.10.3.3-1: PIN configuration response\nInformation element\nStatus\nDescription\nResponse\nM\nThe response (authorize or not authorize) from the PIN Server.\nPIN profile information\nM\nThe IEs from the PIN profile information that the PIN Server has updated for modifying the PIN\nDynamic PIN profile information\nM\nThe IEs from the dynamic PIN profile information that the PIN Server has authorized for modifying the PIN\nAdditional PEMCs\nO\nIndicate additional PEMCs (with identifier of PEMC) that are allowed to manage the PIN.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.10.3.3-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.10.3.4",
      "section_id": "8.5.10.3.4",
      "section_title": "PIN management request",
      "content": "Table 8.5.10.3.4-1 shows the informational elements of the PIN management request sent to PIN elements to make changes to the configuration of the PIN.\nTable 8.5.10.3.4-1: PIN management request\nInformation element\nStatus\nDescription\nPIN ID\nM\nThe identifier of the PIN\nRequestor ID\nM\nThe identifier of the PIN Server or PIN Element making the request\nModification type\nM\nRequest for the modification of the PIN:\nPEMC assignment, PEGC assignment\nDynamic PIN profile information\nM\nIEs from the dynamic PIN profile information that the PINE needs to operate in the new role",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.10.3.4-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.10.3.5",
      "section_id": "8.5.10.3.5",
      "section_title": "PIN management response",
      "content": "Table 8.5.10.3.5-1 shows the informational elements of the PIN management response received from the PIN element to the PIN modification request.\nTable 8.5.10.3.5-1: PIN management response\nInformation element\nStatus\nDescription\nResponse\nM\nThe response (accept or deny) from the PIN Element to the PIN management request.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.10.3.5-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.10.3.6",
      "section_id": "8.5.10.3.6",
      "section_title": "PIN PEMC role takeover request",
      "content": "Table 8.5.10.3.6-1 shows the informational elements of the PIN PEMC role takeover request sent from current PEMC of the PIN to another PIN element with PEMC capability.\nTable 8.5.10.3.6-1: PIN PEMC role takeover request\nInformation element\nStatus\nDescription\nPIN ID\nM\nThe identifier of the PIN\nCurrent PEMC identifier\nM\nThe identifier of the current PEMC making the request\nNew PEMC identifier\nM\nThe identifier of the new PIN element requested to take the role of PEMC",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.10.3.6-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.10.3.7",
      "section_id": "8.5.10.3.7",
      "section_title": "PIN PEMC role takeover response",
      "content": "Table 8.5.10.3.7-1 shows the informational elements of the PIN PEMC role takeover response sent from requested PIN element to the current PEMC.\nTable 8.5.10.3.7-1: PIN PEMC role takeover response\nInformation element\nStatus\nDescription\nPIN ID\nM\nThe identifier of the PIN\nSuccess response (see NOTE)\nO\nIndicates that PEMC role takeover request is successful\nFailure response (see NOTE)\nO\nIndicates that PEMC role takeover request is failure\n> Cause\nO\nIndicates the reason for the failure\nNOTE: Only one of the IE is included in the response",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.10.3.7-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.10.3.8",
      "section_id": "8.5.10.3.8",
      "section_title": "PIN PEGC role takeover request",
      "content": "Table 8.5.10.3.8-1 shows the informational elements of the PIN PEGC role takeover request sent from current PEMC of the PIN to another PIN element with PEGC capability.\nTable 8.5.10.3.8-1: PIN PEGC role takeover request\nInformation element\nStatus\nDescription\nPIN ID\nM\nThe identifier of the PIN\nCurrent PEMC identifier\nM\nThe identifier of the current PEMC making the request\nNew PEGC identifier\nM\nThe identifier of the new PIN element requested to take the role of PEGC",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.10.3.8-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.10.3.9",
      "section_id": "8.5.10.3.9",
      "section_title": "PIN PEGC role takeover response",
      "content": "Table 8.5.10.3.9-1 shows the informational elements of the PIN PEGC role takeover response sent from requested PIN element to the current PEMC.\nTable 8.5.10.3.9-1: PIN PEGC role takeover response\nInformation element\nStatus\nDescription\nPIN ID\nM\nThe identifier of the PIN\nSuccess response (see NOTE)\nO\nIndicates that PEGC role takeover request is successful\nFailure response (see NOTE)\nO\nIndicates that PEGC role takeover request is failure\n> Cause\nO\nIndicates the reason for the failure\nNOTE: Only one of the IE is included in the response",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.10.3.9-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.11.1",
      "section_id": "8.5.11.1",
      "section_title": "General",
      "content": "PIN elements can indicate the list of services it is offering at the time of joining the PIN by listing them as part of the PIN client profile. here could be scenarios wherein the PIN element may not be able to continue to provide the service(s) it indicated while joining or there could be scenarios where the PIN element may want to offer some more new services which were not supported earlier at the time of joining the PIN. This clause describes the procedures for managing the PIN services enabling the PIN elements to register or de-register the services.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.5.11.2.1",
      "section_id": "8.5.11.2.1",
      "section_title": "PINE registering the services",
      "content": "Figure 8.5.11.2.1-1 illustrates procedure of PIN element registering the new service(s).\nPre-conditions:\n1.\tPIN is already created and the PIN entities PEGC, PINE-1, PINE-2, PINE-3 and PINE-4 are all part of the same PIN;\n2.\tThe PINE-4 is the PEMC of the PIN;\nFigure 8.5.11.2.1-1: PINE registering the service(s)\n1.\tPINE-1 decides to register a new service(s) that it can offer which it was not offering at the time of joining the PIN. This may happen because of the UE on which the PIN element is existing has been upgraded to offer extra services or for any other reason which could be implementation specific.\n2.\tPINE-1 sends the PIN services registration request to the PEMC to register the new service(s). This request carries the PIN identifier, PIN element Identifier, list of new service(s) it is offering. The list of services can include a unique service id, human readable description of the service and may also contain time duration of when the service is available etc.\n3.\tPEMC (PINE-4) on receiving the PIN services registration request checks whether the PINE-1 is allowed to register new service(s) and whether these services are allowed to be offered by the PIN by checking the PIN profile.\n4.\tPEMC (PINE-4) sends the PIN services registration response which contains the status (success or failure) of the PIN services registration request.\n5.\tPEMC notifies all the PIN entities including PIN server and PEGC about the details of the new services being offered and the details of the PINE offering the services. PIN server, PEMC and PEGC updates the PIN dynamic information with the details of the new service(s) being offered and the PINE which is offering it.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.5.11.2.1-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.11.2.2",
      "section_id": "8.5.11.2.2",
      "section_title": "PINE de-registering the services",
      "content": "Figure 8.5.11.2.2-1 illustrates procedure of PIN element de-registering the service(s).\nPre-conditions:\n1.\tPIN is already created and the PIN entities PEGC, PINE-1, PINE-2, PINE-3 and PINE-4 are all part of the same PIN;\n2.\tThe PINE-4 is the PEMC of the PIN;\nFigure 8.5.11.2.2-1: PINE de-registering the service(s)\n1.\tPINE-1 decides to de-register a service(s) that it is currently offering and which it has indicated during the PIN registration or PIN join procedure.  This may happen because the UE on which the PIN element is existing might face hardware failure, services might be scheduled to be offered for a certain time period/duration or for any other reason which could be implementation specific.\n2.\tPINE-1 sends the PIN services de-registration request to the PEMC to de-register the service(s). This request carries the PIN identifier, PIN element Identifier, list of service(s) it is de-registering. The list of services can include a unique service id, human readable description of the service.\n3.\tPEMC (PINE-4) on receiving the PIN services de-registration request checks whether the PINE-1 is allowed to de-register service(s) by checking the PIN profile.\n4.\tPEMC (PINE-4) sends the PIN services de-registration response which contains the status (success or failure) of the PIN services de-registration request.\n5.\tPEMC notifies all the PIN entities including PIN server and PEGC about the details of the services being de-registered. PIN server, PEMC and PEGC updates the PIN dynamic information to remove the details of the service(s) being de-registered.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.5.11.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.11.3.2",
      "section_id": "8.5.11.3.2",
      "section_title": "PIN services registration request",
      "content": "Table 8.5.11.3.2-1 shows the informational elements of the PIN services registration request sent by a PIN Element to the PEMC to register for new services it is offering.\nTable 8.5.11.3.2-1: PIN services registration request\nInformation element\nStatus\nDescription\nPIN ID\nM\nThe identifier of the PIN\nRequester PINE ID\nM\nThe identifier of the PIN Element making the request\nList of services\nM\nList of services that a PINE wants to register\n> Service type\nO\nIndication of service type\n> Time duration\nO\nAvailability period of service\n> Service description\nO\nDescription of the service\n> Service Identifier\nM\nIdentifier of the service",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.11.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.11.3.3",
      "section_id": "8.5.11.3.3",
      "section_title": "PIN services registration response",
      "content": "Table 8.5.11.3.3-1 shows the informational elements of the PIN services registration response sent by PEMC to the PIN element.\nTable 8.5.11.3.3-1: PIN services registration response\nInformation element\nStatus\nDescription\nPIN ID\nM\nThe identifier of the PIN\nRequester PINE ID\nM\nThe identifier of the PIN Element making the request\nResult\nM\nIndication of whether the service registration is success or failure.\n> Successful response\nO\nIndicates the successfully registered PIN services.\n> Failure response\nO\nIndicates the failure of registered PIN services.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.11.3.3-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.11.3.4",
      "section_id": "8.5.11.3.4",
      "section_title": "PIN services de-registration request",
      "content": "Table 8.5.11.3.4-1 shows the informational elements of the PIN services de-registration request sent by a PIN Element to the PEMC.\nTable 8.5.11.3.4-1: PIN services de-registration request\nInformation element\nStatus\nDescription\nPIN ID\nM\nThe identifier of the PIN\nRequester PINE ID\nM\nThe identifier of the PIN Element making the request\nList of services\nM\nList of services that a PINE wants to de-register\n> Service type\nO\nIndication of service type\n> Service description\nO\nDescription of the service\n> Service identifier\nM\nIdentifier of the service",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.11.3.4-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.11.3.5",
      "section_id": "8.5.11.3.5",
      "section_title": "PIN services de-registration response",
      "content": "Table 8.5.11.3.5-1 shows the informational elements of the PIN services de-registration response sent by PEMC to the PIN element.\nTable 8.5.11.3.5-1: PIN services de-registration response\nInformation element\nStatus\nDescription\nPIN ID\nM\nThe identifier of the PIN\nRequester PINE ID\nM\nThe identifier of the PIN Element making the request\nResult\nM\nIndication of whether the service de-registration is success of failure.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.11.3.5-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.12.1",
      "section_id": "8.5.12.1",
      "section_title": "General",
      "content": "Periodic PIN heartbeats are sent by PINE(s) and PEGC(s) to the PEMC. These heartbeats are used by the PEMC to keep track of the availability of PINE(s) and PEGC(s) and detect if/when they are no longer available within the PIN. Likewise, periodic heartbeats are also sent by the PEMC to the PIN server to allow the PIN server to detect if/when the PEMC is no longer available.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.5.12.2.1",
      "section_id": "8.5.12.2.1",
      "section_title": "PIN heartbeat",
      "content": "Figure 8.5.12.2.1-1 illustrates the PIN heartbeat procedure.\nPre-conditions:\n1.\tThe PIN is successfully created and in use.\n2.\tThe PIN Server/PEMC and each PINE/PEGC/PEMC have set periodic timers corresponding to the heartbeat timer values respectively sent or received.\nFigure 8.5.12.2.1-1: PIN heartbeat procedure\n1.\tBefore the periodic heartbeat timer at the PINE/PEGC/PEMC expires, the PINE/PEGC/PEMC triggers the sending of a PIN heartbeat.\n2.\tThe PINE/PEGC/PEMC sends a PIN heartbeat to either the PEMC (in the case of a PINE/PEGC) or PIN server (in the case of a PEMC). The PIN heartbeat includes the identifier of the PINE/PEGC/PEMC.\n3.\tUpon receiving the PIN heartbeat, the PIN Server/PEMC updates the availability of the PINE/PEGC/PEMC.\nIf the periodic heartbeat timer expires at the PIN server/PEMC without receiving a PIN heartbeat message from the PINE/PEGC/PEMC, the PIN server/PEMC determines that PINE/PEGC/PEMC is not available.\n8.5.12.3\tInformation flows\n8.5.12.3.1\tGeneral\nThe PIN heartbeat information flow is specified for the PIN heartbeat.\n8.5.12.3.2\tPIN heartbeat\nTable 8.5.12.3.2-1: PIN heartbeat\nInformation element\nStatus\nDescription\nPIN client ID\nM\nUnique identifier of the PINE/PEGC/PEMC.\nPIN ID\nM\nIdentifier of the PIN.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.12.3.2-1",
        "figure_8.5.12.2.1-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.13.1",
      "section_id": "8.5.13.1",
      "section_title": "General",
      "content": "The procedures in this clause describes how a PEMC can activate and deactivate the PIN. PEMC being an authorized entity to manage the PIN can request to activate and deactivate the PIN. When the PIN is in deactivated state, services offered by the PIN are inaccessible and no PIN elements can join the PIN. Also PEGC closes all the communication channel it has created for the flow of application traffic from PIN elements via 5GS to the application server.\nThe PEMC deactivates the PIN when the expiration time obtained at PIN creation is reached and the PIN validity duration from the PIN profile is not expired (e.g., the PIN may be activated again in the future). The PEMC deletes the PIN, according to the procedure specified in subclause 8.5.3.2, when the expiration time of the PIN obtained at PIN creation is reached and there is no PIN validity duration in the PIN profile.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_8.5.3.2"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.13.2.1",
      "section_id": "8.5.13.2.1",
      "section_title": "PIN activation",
      "content": "Figure 8.5.13.2.1-1 illustrates a procedure for activating the PIN by PEMC.\nPre-conditions:\n1.\tPEMC(PINE-3), PEGC, PINE-1 and PINE-2 all are part of same PIN\n2.\tThe PIN being activated has already been created earlier and is in the deactivated state.\n3.\tThe PINE-3 is authorized as PEMC of the PIN.\n4.\tPIN server, PEGC and PIN elements has active PIN status subscription with PEMC\nFigure 8.5.13.2.1-1: Activation of PIN by PEMC\n1.\tPEMC (PINE-3), PEGC, PINE-1, PINE-2, PINE-3 all are part of same PIN, which is created earlier and is now in deactivated state. PEMC decides to activate the PIN and updates the PIN state in the dynamic profile information of the PIN. Decision by PEMC to activate the PIN could be because of the PIN validity duration or based on the request from PIN owner/admin or any other implementation specific reasons.\n2.\tPEMC notifies PIN server and all PIN elements including the PEGC that the PIN state is activated now by sending the PIN status notify.\n3.\tPIN server and PEGC updates the dynamic PIN information to change the PIN state to active and PIN validity duration.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.5.13.2.1-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.13.2.2",
      "section_id": "8.5.13.2.2",
      "section_title": "PIN de-activation",
      "content": "Figure 8.5.13.2.2-1 illustrates a procedure for de-activating the PIN by PEMC.\nPre-conditions:\n1. PEGC, PINE-1, PINE-2 and PINE-3 are part of same PIN, which is created earlier and is now in activated state.\n2. The PINE-3 is authorized as PEMC.\n3.\tPEMC (PINE-3) decides to de-activate the PIN.\n4. PIN server, PEGC and PINE has active PIN status subscription with PEMC\nFigure 8.5.13.2.2-1: Deactivation of PIN by PEMC\n1.\tPEMC (PINE-3) decides to deactivate the PIN and updates the PIN state in the dynamic profile information of the PIN to de-activate. Decision reason by PEMC to deactivate the PIN could be PIN validity duration is expiring or all the PIN elements have left the PIN or on receiving the request from PIN owner/admin or for any other reasons which could be implementation specific.\n2.\tPEMC notifies PIN server and all PIN elements including the PEGC that the PIN state is deactivated now by sending the PIN status notify\n3.\tOn receiving the PIN status notify, the PIN server and PEGC updates the PIN state to de-activate in the dynamic profile information. PEGC closes all the PIN communication with 5GS which it has created for the flow of application traffic of the PIN elements it is serving.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.5.13.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.14.1",
      "section_id": "8.5.14.1",
      "section_title": "General",
      "content": "The PIN connectivity subscription is used by the PINE/PEMC/PIN Server to be notified of PIN connectivity events by the PEGC.\nPIN connectivity notification includes PIN connectivity information.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.5.14.2.1",
      "section_id": "8.5.14.2.1",
      "section_title": "PIN connectivity subscribe",
      "content": "Figure 8.5.14.2.1-1 illustrates the PIN connectivity subscribe procedure.\nPre-conditions:\n1.\tThe PINE/PEMC/PIN Server (e.g., subscriber) has already received the address of PEGC;\n2.\tThe subscriber has been authorized to communicate with PEGC;\nFigure 8.5.14.2.1-1: PIN connectivity subscribe\n1.\tThe subscriber sends the PIN connectivity subscribe request to the PEGC. The PIN connectivity subscribe request includes the subscriber identifier along with the security credentials and the event identifier.\n2.\tUpon receiving the request from the subscriber, the PEGC checks if the subscriber is authorized to subscribe for PIN connectivity information. The authorization check may apply to an individual PIN. If the request is authorized, the PEGC creates and stores the subscription for PIN.\n3.\tIf the processing of the request is successful, the PEGC sends a PIN connectivity subscribe response to the subscriber, which includes the subscription identifier and may include the expiration time, indicating when the subscription will automatically expire. To maintain the subscription, the subscriber shall send a PIN connectivity update request prior to the expiration time. If a new PIN connectivity update request is not received prior to the expiration time, the PEGC shall treat the subscriber as implicitly unsubscribed.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.5.14.2.1-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.14.2.2",
      "section_id": "8.5.14.2.2",
      "section_title": "PIN connectivity notify",
      "content": "Figure 8.5.14.2.2-1 illustrates the PIN connectivity notify procedure.\nPre-conditions:\n1.\tThe PINE/PEMC/PIN Server (e.g., subscriber) has successfully subscribed with the PEGC for the PIN connectivity as specified in clause 8.5.14.2.1.\nFigure 8.5.14.2.2-1: PIN connectivity notify procedure\n1.\tWhen an event occurs at the PEGC that satisfies triggering conditions, the PEGC notifies the subscriber(s).\n2.\tThe PEGC sends an PIN connectivity notification to the subscribers related to the connectivity event and includes the PIN connectivity information.\nThe PIN connectivity information includes the PEGC identifier, the PIN identifier, the PIN client identifier, and the event type (e.g., connectivity).\n3.\tUpon receiving the notification, the subscriber processes the connectivity changes according to the information in the PIN connectivity notification.",
      "chunk_type": "general",
      "cross_references": [
        "clause_8.5.14.2.1",
        "figure_8.5.14.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.14.2.3",
      "section_id": "8.5.14.2.3",
      "section_title": "PIN connectivity update",
      "content": "Figure 8.5.14.2.3-1 illustrates the PIN connectivity update procedure.\nPre-conditions:\n1.\tThe PINE/PEMC/PIN Server (e.g., subscriber) has subscribed with the PEGC for PIN connectivity information as specified in 8.5.14.2.1;\nFigure 8.5.14.2.3-1: PIN connectivity update\n1.\tThe subscriber sends a PIN connectivity update request to the PEGC. The PIN connectivity update request includes the security credentials and the subscription identifier. It may also include notification target address and proposed expiration time.\n2.\tUpon receiving the request from the requestor, the PEGC checks if the subscriber is authorized to update the subscription information. If the request is authorized, the PEGC updates the stored subscription for PIN connectivity information.\n3.\tIf the processing of the request is successful, the PEGC sends a PIN connectivity update response to the subscriber, which may include the expiration time, indicating when the subscription will automatically expire. To maintain the subscription, the subscriber shall send an PIN connectivity update request prior to the expiration time. If a PIN connectivity update request is not received prior to the expiration time, the PEGC shall treat the subscriber as implicitly unsubscribed.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.5.14.2.3-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.14.2.4",
      "section_id": "8.5.14.2.4",
      "section_title": "PIN connectivity unsubscribe",
      "content": "Figure 8.5.14.2.4-1 illustrates the PIN connectivity unsubscribe procedure.\nPre-conditions:\n1.\tThe PINE/PEMC/PIN Server (e.g., subscriber) has subscribed with the PEGC for PIN connectivity information as specified in 8.5.14.2.1;\nFigure 8.5.14.2.4-1: PIN connectivity update\n1.\tThe subscriber sends a PIN connectivity unsubscribe request to the PEGC. The PIN connectivity unsubscribe request includes the security credentials and the subscription identifier.\n2.\tUpon receiving the request from the subscriber, the PEGC checks if the requestor is authorized to unsubscribe. If the request is authorized, the PEGC cancels the subscription for PIN connectivity information.\n3.\tIf the processing of the request is successful, the PEGC sends a PIN connectivity unsubscribe response to the subscriber.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.5.14.2.4-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.14.3.1",
      "section_id": "8.5.14.3.1",
      "section_title": "General",
      "content": "The following information flows are specified for PIN connectivity subscription:\n-\tPIN connectivity subscribe\n-\tPIN connectivity notify\n-\tPIN connectivity update\n-\tPIN connectivity unsubscribe",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.5.14.3.2",
      "section_id": "8.5.14.3.2",
      "section_title": "PIN connectivity subscribe request",
      "content": "Table 8.5.14.3.2-1: PIN connectivity subscribe request\nInformation element\nStatus\nDescription\nSubscriber identifier\nM\nUnique identifier of the PINE/PEMC/PIN server.\nSecurity credentials\nM\nSecurity credentials resulting from a successful authorization for the PIN service.\nPIN ID\nM\nThe identifier of PIN.\nNotification Target Address\nM\nThe Notification target address (e.g. URL) where the notifications destined for the subscriber should be sent to.\nProposed expiration time\nO\nProposed expiration time for the subscription",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.14.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.14.3.3",
      "section_id": "8.5.14.3.3",
      "section_title": "PIN connectivity subscribe response",
      "content": "Table 8.5.14.3.3-1: PIN connectivity subscribe response\nInformation element\nStatus\nDescription\nSuccessful response\nO\nIndicates that the subscription request was successful.\n> Subscription ID\nM\nSubscription identifier corresponding to the subscription.\n> Expiration time\nO\nIndicates the expiration time of the subscription. To maintain an active subscription, a subscription update is required before the expiration time.\nFailure response\nO\nIndicates that the subscription request failed.\n> Cause\nO\nIndicates the cause of subscription request failure",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.14.3.3-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.14.3.4",
      "section_id": "8.5.14.3.4",
      "section_title": "PIN connectivity notify",
      "content": "Table 8.5.14.3.4-1 describes information elements in the PIN connectivity notification from the PEGC.\nTable 8.5.14.3.4-1: PIN connectivity notification\nInformation element\nStatus\nDescription\nPEGC identifier\nM\nIdentifier of the PEGC\nPIN identifier\nM\nIdentifier of the PIN.\nPIN client identifier\nM\nUnique identifier of the PINE/PEMC/PIN server related to the connectivity change\nEvent type\nM\nType of event (e.g., connectivity)",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.14.3.4-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.14.3.5",
      "section_id": "8.5.14.3.5",
      "section_title": "PIN connectivity update request",
      "content": "Table 8.5.14.3.5-1: PIN connectivity update request\nInformation element\nStatus\nDescription\nSubscription ID\nM\nSubscription identifier corresponding to the subscription.\nSecurity credentials\nM\nSecurity credentials resulting from a successful authorization for the PIN service.\nNotification Target Address\nO\nThe Notification target address (e.g. URL) where the notifications destined for the subscriber should be sent to.\nProposed expiration time\nO\nProposed expiration time for the subscription",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.14.3.5-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.14.3.6",
      "section_id": "8.5.14.3.6",
      "section_title": "PIN connectivity update response",
      "content": "Table 8.5.14.3.6-1: PIN connectivity update response\nInformation element\nStatus\nDescription\nSuccessful response (see NOTE)\nO\nIndicates that the subscription update request was successful.\n> Expiration time\nO\nIndicates the expiration time of the subscription. To maintain an active subscription, a subscription update is required before the expiration time.\nFailure response (see NOTE)\nO\nIndicates that the subscription update request failed.\n> Cause\nM\nIndicates the cause of subscription update request failure\nNOTE:\tOne IE is included in the response.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.14.3.6-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.14.3.7",
      "section_id": "8.5.14.3.7",
      "section_title": "PIN connectivity unsubscribe request",
      "content": "Table 8.5.14.3.7-1: PIN connectivity unsubscribe request\nInformation element\nStatus\nDescription\nSubscription ID\nM\nSubscription identifier corresponding to the subscription.\nSecurity credentials\nM\nSecurity credentials resulting from a successful authorization for the PIN service.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.14.3.7-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.5.14.3.8",
      "section_id": "8.5.14.3.8",
      "section_title": "PIN connectivity unsubscribe response",
      "content": "Table 8.5.14.3.8-1: PIN connectivity unsubscribe response\nInformation element\nStatus\nDescription\nSuccessful response (see NOTE)\nO\nIndicates that the unsubscribe request was successful.\nFailure response (see NOTE)\nO\nIndicates that the unsubscribe request failed.\n> Cause\nM\nIndicates the cause of unsubscribe request failure\nNOTE:\tOne IE is included in the response.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.5.14.3.8-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.6.1",
      "section_id": "8.6.1",
      "section_title": "General",
      "content": "For a certain PINE in PIN, the PEMC controls whether to allow or forbid the PINEs to communicate with other PINEs via PEGC directly or communicate with other PINEs via PEGC by 5GS. Also, the PEMC controls whether to allow or forbid the traffic from network sides to deliver to certain PINE.\nThe PIN client within a PIN can communicate with other devices, services and applications within the same PIN. Furthermore, PIN client can connect the 5G Network via a PEGC. Also, as a feature, some of the PIN client in PIN has the permissions that they can communicate with other UE or application outside of PIN with the help of 5GC.\n-\tThere are two methods to enable the PIN with 5GS communication:\n-\tEstablish QoS for PINE with AF support.\n-\tPEGC triggers PDU session establishment/modification for PINE.\nFor the AF related procedure, the AF trigger the QoS create/modification procedure with parameters of Packet filters, DN specific ID, to request the 5GS to arrange resource for PIN.\nFor PEGC related procedure, the PIN element sends PIN Communication Request to the PEMC and the PEMC checks whether to allow or forbid the PINEs to communicate with other PINEs via PEGC directly or communicate with other PINEs via PEGC by 5GS. If the alloewd, the PEMC sends Create/Update/Remove Communication Request (PIN ID, Packet filters, requested QoS) to the PEGC. Or,the PEMC directly send Create/Update/Remove Communication Request (PIN ID, Packet filters, requested QoS) to the PEGC. The PEGC configures the local rule accordingly, or according to the Packet filters, the PEGC may initiate PDU Session Modification with the Packet filters and requested QoS towards 5G system in order to make 5GC configure the N4 rules for UPF(s).",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.6.2.1",
      "section_id": "8.6.2.1",
      "section_title": "AF trigger QoS establishment",
      "content": "For the AF related procedure, the AF trigger the QoS create/modification procedure as defined in Section 4.15.6.6 of TS 23.502[5] with parameters of Packet filters (that related to the PINEs needs communication), DN specific ID, to request the 5GS to arrange resource for PIN.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.502_clause_4.15.6.6",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.6.2.2",
      "section_id": "8.6.2.2",
      "section_title": "Procedures of PIN communication via 5GS triggered by PEGC",
      "content": "Pre-conditions:\n1.\tThe PINE already has application layer connection with PEGC;\n2.\tThe UE Identifier or PIN client Identifier is available for PINE;\n3.\tThe PIN client has been authorized to communicate with PEMC;\n4.\tThe PINE has the subscription that it can communicate via 5GS;\n5.\tThe PINE has already received the IP address of other PINE.\n6.\tThe communication between PEMC and PEGC is available.\n7.\tThe PIN is in the activated state.\nFigure 8.6.2.2-1: Procedures of PIN communication via 5GS triggered by PEGC\nThe PINE may have the traffic to send via 5GS communication.\n1a-1b.\tThe PINE sends PIN Communication Create/Update/Remove Request (PIN ID, MAC address/IP address, Traffic descriptors, Packet filters, requested QoS) to the PEMC in step 1a, and the PEMC checks whether to allow or forbid the PINEs to communicate with other PINEs via PEGC directly or communicate with other PINEs via PEGC by 5GS. If permitted, PEMC sends PIN Communication Create/Update/Remove Request to PEGC in step 1b. If not permitted, PEMC directly performs step 3b to indicate failure in PIN Communication Create/Update/Remove response.\nAfter the PEGC receives the PIN Communication Create/Update/Remove Request, the PEGC configures the local rule accordingly.\n2.\t[Optional] According to the Packet filters, the PEGC may initiate PDU Session Modification with the Packet filters and requested QoS towards 5G system in order to make 5GC configure the N4 rules for UPF(s).\nNOTE:\t How to the PEGC interacts with 5GS to initiate PDU Session Modification is referred to section 4.3.3.2 of TS 23.502[5].\n3a.\tThe PEGC sends PIN Communication Create/Update/Remove Response to the PEMC.\n3b.\tIf the request is triggered by PINE, step 3b is performed. The PEMC sends PIN Communication Create/Update/Remove Response to PINE.\nAfter receiving successful response, the PINE sends data through the PEGC to the 5GS using the PDU session modified in step 2.",
      "chunk_type": "procedure",
      "cross_references": [
        "ts_23.502_clause_4.3.3.2",
        "figure_8.6.2.2-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.6.3.1",
      "section_id": "8.6.3.1",
      "section_title": "General",
      "content": "The following information flows are specified for PIN communication:\n-\tPIN Communication Create/Update/Remove Request and response;",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.6.3.2",
      "section_id": "8.6.3.2",
      "section_title": "PIN Communication Create Request",
      "content": "Table 8.6.3.2-1 shows the informational elements of the PIN Communication Create request sent by a PIN Element/PEMC to the PEGC to provide the PIN communication information.\nTable 8.6.3.2-1: PIN Communication Create request\nInformation element\nStatus\nDescription\nPIN ID\nM\nThe identifier of the PIN\nRequester PINE ID/PEMC\nM\nThe identifier of the PIN Element/PEMC making the request\nSecurity credentials\nM\nSecurity credentials resulting from a successful authorization for the PIN service.\nMAC address/IP address\nO\nMAC address/IP address of PINE/PEMC\nTraffic descriptors\nM\nIdentify the target traffic to/from application server or to/from PINE, e.g.: IP 5 Tuple.\nPacket filters\nM\nThe Packet Filter is used in PEGC to identify one or more packet flow(s), and the PEGC can route the traffic to the target application server/PINEs.\nRequest QoS\nO\nThe QoS (e.g.: packet delay or AMBR) of packet flow that requested by PINE.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.6.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.6.3.3",
      "section_id": "8.6.3.3",
      "section_title": "PIN Communication Create Response",
      "content": "Table 8.6.3.3-1 shows the informational elements of the PIN Communication Create response sent by a PEGC to the PINE/PEMC.\nTable 8.6.3.3-1: PIN Communication Create response\nInformation element\nStatus\nDescription\nSuccessful response\nO\n(see NOTE)\nIndicates that the PIN communication creation request was successful.\n> QoS information\nM\nIncludes QoS information that agreed for this information flow.\n> PIN communication flow ID\nM\nIncludes the communication flow that successfully established by PEGC.\nFailure response\nO\n(see NOTE)\nIndicates that the PIN communication creation request failed.\n> Cause\nM\nProvides the cause for PIN communication creation request failure.\nNOTE:\tAt least one of the IE shall be present.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.6.3.3-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.6.3.4",
      "section_id": "8.6.3.4",
      "section_title": "PIN Communication Update Request",
      "content": "Table 8.6.3.4-1 shows the informational elements of the PIN Communication Update request sent by a PIN Element/PEMC to the PEGC to provide the updated PIN communication information.\nTable 8.6.3.4-1: PIN Communication Update request\nInformation element\nStatus\nDescription\nPIN ID\nM\nThe identifier of the PIN\nRequester PINE ID/PEMC\nM\nThe identifier of the PIN Element/PEMC making the request\nSecurity credentials\nM\nSecurity credentials resulting from a successful authorization for the PIN service.\nMAC address/IP address\nO\nMAC address/IP address of PINE/PEMC\nTraffic descriptors\nM\nIdentify the updated target traffic to/from application server or to/from PINE, e.g.: IP 5 Tuple.\nPacket filters\nM\nUpdated packet filters that is used in PEGC to identify one or more packet flow(s), and the PEGC can route the traffic to the target application server/PINEs.\nPIN communication flow ID\nM\nIncludes the communication flow that has been successfully established by PEGC.\nRequest QoS\nO\nThe updated QoS (e.g.: packet delay or AMBR) of packet flow that requested by PINE.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.6.3.4-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.6.3.5",
      "section_id": "8.6.3.5",
      "section_title": "PIN Communication Update Response",
      "content": "Table 8.6.3.5-1 shows the informational elements of the PIN Communication Update response sent by a PEGC to the PINE/PEMC.\nTable 8.6.3.5-1: PIN Communication Create response\nInformation element\nStatus\nDescription\nSuccessful response\nO\n(see NOTE)\nIndicates that the PIN communication update request was successful.\n> QoS information\nM\nIncludes updated QoS information that agreed for this information flow.\n> PIN communication flow ID\nM\nIncludes the communication flow that successfully established by PEGC.\nFailure response\nO\n(see NOTE)\nIndicates that the PIN communication update request failed.\n> Cause\nM\nProvides the cause for PIN communication update request failure.\nNOTE: \tAt least one of the IE shall be present.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.6.3.5-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.6.3.6",
      "section_id": "8.6.3.6",
      "section_title": "PIN Communication Delete Request",
      "content": "Table 8.6.3.6-1 shows the informational elements of the PIN Communication Delete request sent by a PIN Element/PEMC to the PEGC to delete the PIN communication.\nTable 8.6.3.4-1: PIN Communication Delete request\nInformation element\nStatus\nDescription\nPIN ID\nM\nThe identifier of the PIN\nRequester PINE ID/PEMC\nM\nThe identifier of the PIN Element/PEMC making the request\nSecurity credentials\nM\nSecurity credentials resulting from a successful authorization for the PIN service.\nPIN communication flow ID\nM\nIncludes the communication flow that has been successfully established by PEGC.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.6.3.6-1",
        "table_8.6.3.4-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.6.3.7",
      "section_id": "8.6.3.7",
      "section_title": "PIN Communication Delete Response",
      "content": "Table 8.6.3.7-1 shows the informational elements of the PIN Communication Delete response sent by a PEGC to the PINE/PEMC.\nTable 8.6.3.7-1: PIN Communication Delete response\nInformation element\nStatus\nDescription\nSuccessful response\nO\n(see NOTE)\nIndicates that the PIN communication delete was successful.\nFailure response\nO\n(see NOTE)\nIndicates that the PIN communication delete request failed.\n> Cause\nM\nProvides the cause for PIN communication delete request failure.\nNOTE:\tAt least one of the IE shall be present.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.6.3.7-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.7.1",
      "section_id": "8.7.1",
      "section_title": "General",
      "content": "PIN service switch procedures enable a PIN Element participating in a PIN to transfer application session(s) to a different PIN Element participating in the same PIN. For example, a first PIN Element (e.g. a UE) can transfer a video streaming session to a second PIN Element (e.g. a television). PIN service switch can be triggered by a PIN Element when needed, for example when the first PIN Element joins a PIN and determines that an application flow can be switched to a second PIN Element present in that PIN.\nTwo scenarios are specified for PIN service switch:\n-\tPIN service switch with PIN server support\n-\tPIN service switch without PIN Server support (e.g. using only internal PIN communication).",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.7.2.1.1",
      "section_id": "8.7.2.1.1",
      "section_title": "General",
      "content": "Following procedures are supported for service switch in a PIN with PIN server support:\n-\tPIN Service Switch procedure;\n-\tPIN Service Switch Configure procedure;",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.7.2.1.2",
      "section_id": "8.7.2.1.2",
      "section_title": "PIN Service Switch procedure",
      "content": "Pre-conditions:\n1.\tThe PIN Client established an application session with an Application Server;\n2.\tThe PIN Client joined a PIN.\nFigure 8.7.2.1.2-1: PIN Service Switch procedure\n1.\tThe PIN Client sends a PIN Service Switch request to the PIN Server. The PIN Service Switch request includes the requestor identifier [PIN Client ID], security credential, a PIN identifier [PIN ID], an Application Client identifier [ACID], an Application Server identifier, an application session identifier, can include an IP 4 tuple that describes the traffic of the application session and can include a target PIN Client [PIN Client ID] if a target is known.\n2.\tUpon receiving the request from the PIN Client, the PIN Server checks if the PIN Client is authorized to request service switching for the given Application Server and validates the request. If the request is authorized and valid, the PIN server can determine a target PIN Client if the target PIN Client was not included in the request. The PIN Server sends a PIN Configure Service Switch request to the PIN Management Client and the Application Server as in clause  8.7.2.1.2. The PIN Server can use the PIN ID to identify the PIN Management Client instance and the Application Server identifier, or IP 4 tuple, to identify the Application Server instance.\n3.\tIf the processing of the request was successful, the PIN Server sends a PIN Service Switch response to the PIN Client that indicates the Service Swich request was successfully processed and can include the target PIN Client information if it was decided by the PIN Server. Otherwise, the PIN Server sends a PIN Service Switch response to the PIN Client indicating that the request processing failed and can include appropriate reasons.\nUpon reciving the PIN Service Switch response, the PIN Client validates if the request was succesful and can indicate the result to the Application Client; the PIN Client can transfer the application context to the target PIN Client. If the PIN Service Switch response indicated a failure, the PIN Client can attempt perform service switch again for the same or a different target PIN Client considering the failure reason.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_8.7.2.1.2",
        "figure_8.7.2.1.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.7.2.1.3",
      "section_id": "8.7.2.1.3",
      "section_title": "PIN Service Switch Configure procedure",
      "content": "Pre-conditions:\n1.\tThe PIN Client successfully requested a service switch with the PIN Server\n2.\tThe AS is successfully subscribed for PIN service switch notifications with the PIN server.\nFigure 8.7.2.1.3-1: PIN Configure Service Switch procedure\n1.\tThe PIN Server sends the PIN Configuration Service Switch Configure request to the PIN Management Client. The PIN Configuration Service Switch Configure request includes the requestor identifier, security credential, Application Client identifier, Application Server identifier, target PIN Client, application session identifier and can include IP 4 tuple that descibes the traffic of the application session.\nNOTE 1:\tThe PIN Server first performs PIN Configure Service Switch procedure with the PIN Management Client, then if successful, notifies the Application Server.\n2.\tUpon receiving the request from the PIN Server, the PIN Management Client checks if the PIN Server is authorized to request service switch configuration and validates the request.\nIf the request is authorized and valid, the PIN Management Client prepares for sending PIN Configure Service Switch request to the PIN Gateway Client or the target PIN Client. The PIN Management Client can use the PIN ID to identify the PIN Gateway Client instance and the target PIN Client identifier to identify the target PIN Client.\n3.\tThe PIN Management Client sends the PIN Management Service Switch Configure request to the PIN Gateway Client or the target PIN Client including the information defined in step 1.\nNOTE 2:\tThe PIN Management Client first performs PIN Configure Service Switch procedure with the PIN Gateway Client, then if successful, with the target PIN Client.\n4.\tUpon receiving the request from the PIN Management Client, the PIN Gateway Client or the target PIN Client checks if the PIN Managment Client is authorized to request service switch configuration and validates the request. If the PIN Management Client is authorized and the request is valid, the PIN Gateway Client or the target PIN Client use the information provided in the request to switch the application session to the target PIN Client.\nNOTE 3:\tThe target Application Client needs to receive the application context prior to re-establishing a switched application session with the Application Server.\nNOTE 4:\tHow the target Application Client recovers the switched application session is out of scope of this specification.\n5.\tIf the processing of the request was successful, the PIN Gateway Client or the target PIN Client send a PIN management Service Switch Configure response to the PIN Management Client indicating the processing was successful. Otherwise, the PIN Gateway Client or target PIN Client send a PIN Management Service Switch Configure response to the PIN Management Client indicating that processing the request failed and can include appropriate reasons.\n6.\tIf the processing of the request was successful, the PIN Management Client or Application Server send a PIN Configuration Service Switch Configure response to the PIN Server that indicates the request was successfully processed. Otherwise, the PIN Management Client or Application Server send a PIN Configuration Service Switch Configure response to the PIN Server indicating the processing the request failed and can include appropriate reasons.\n7.\tThe PIN Server sends the PIN service switch notification to the Application Server if the procedure with the PIN Management Client was successful in step 6. The PIN service switch notification includes the PIN server identifier, PIN identifier, Application Client identifier, target PIN Client, application session identifier and can include IP 4 tuple that descibes the traffic of the application session.\n8.\tUpon receiving the PIN service switch notification, the Application Server uses the information provided in the notification to switch the application session to the target PIN client.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_8.7.2.1.3-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.7.2.1.4.1",
      "section_id": "8.7.2.1.4.1",
      "section_title": "General",
      "content": "The PIN service switch subscription is used by the Application Server to be notified of PIN service switch events by the PIN Server.\nThe PIN service switch notification events includes PIN service switch configuration information.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.7.2.1.4.2",
      "section_id": "8.7.2.1.4.2",
      "section_title": "Procedure",
      "content": "8.7.2.1.4.2.1\tPIN service switch subscribe\nFigure 8.7.2.1.4.2.1-1 illustrates the PIN service switch subscribe procedure.\nPre-conditions:\n1.\tThe application server has already received the address of the PIN server;\n2.\tThe application server is authorized to communicate with PIN server;\nFigure 8.7.2.1.4.2.1-1: PIN service switch subscribe\n1.\tThe application server sends the PIN service switch subscribe request to the PIN server. The PIN service switch subscribe request includes the application server identifier along with the security credentials, PIN ID, subscribed event, notification target address, and may include proposed expiration time.\n2.\tUpon receiving the request from the application server, the PIN server checks if the application server is authorized to subscribe. The authorization check may apply to an individual PIN. If the request is authorized, the PIN server creates and stores the subscription for application server.\n3.\tIf the processing of the request is successful, the PIN server sends a PIN service switch subscribe response to the application server, which includes the subscription identifier and may include the expiration time, indicating when the subscription will automatically expire. To maintain the subscription, the application server shall send a PIN service switch update request prior to the expiration time. If a new PIN service switch update request is not received prior to the expiration time, the PIN server shall treat the application server as implicitly unsubscribed.\n8.7.2.1.4.2.2\tPIN service switch notify\nFigure 8.7.2.1.4.2.2-1 illustrates the PIN service switch notify procedure.\nPre-conditions:\n1.\tThe application server has subscribed with the PIN server as specified in clause 8.7.2.1.4.2.1.\nFigure 8.7.2.1.4.2.2-1: PIN service switch notify procedure\n1.\tWhen a service switch event occurs at the PIN server that satisfies triggering conditions, the PIN server sends a server switch notification to the subscribed application servers.\n2.\tThe PIN server sends an PIN service switch notification to the subscribed application server(s) related to the service switch event and includes the PIN service switch configuration information.\nThe PIN service switch configuration information includes the PIN subscription identifier, subscribed event, PIN server identifier, PIN identifier, Application Client identifier, application session identifier, target PIN Client, application session identifier and can include IP 4 tuple that describes the traffic of the application session.\n3.\tUpon receiving the notification, the application server uses the information provided in the notification to switch the application session to the target PIN client.\n8.7.2.1.4.2.3\tPIN service switch update\nFigure 8.7.2.1.4.2.3-1 illustrates the PIN service switch update procedure.\nPre-conditions:\n1.\tThe application server has subscribed with the PIN server as specified in clause 8.7.2.1.4.2.1.\nFigure 8.7.2.1.4.2.3-1: PIN service switch update\n1.\tThe application server sends a PIN service switch update request to the PIN server. The PIN service switch update request includes the security credentials and the subscription identifier. It may also include notification target address and proposed expiration time.\n2.\tUpon receiving the request from the application server, the PIN server checks if the application server is authorized to update the subscription information. If the request is authorized, the PIN server updates the stored subscription.\n3.\tIf the processing of the request is successful, the PIN server sends a PIN service switch update response to the application server, which may include the expiration time, indicating when the subscription will automatically expire. To maintain the subscription, the application server shall send a PIN service switch subscription update request prior to the expiration time. If a PIN service switch update request is not received prior to the expiration time, the PIN server shall treat the application server as implicitly unsubscribed.\n8.7.2.1.4.2.4\tPIN service switch unsubscribe\nFigure 8.7.2.1.4.2.4-1 illustrates the PIN service switch unsubscribe procedure.\nPre-conditions:\n1.\tThe application server has subscribed with the PIN server as specified in clause 8.7.2.1.4.2.1.\nFigure 8.7.2.1.4.2.4-1: PIN service switch unsubscribe\n1.\tThe application server sends a PIN service switch unsubscribe request to the PIN server. The PIN service switch unsubscribe request includes the security credentials and the subscription identifier.\n2.\tUpon receiving the request from the application server, the PIN server checks if the application server is authorized to unsubscribe. If the request is authorized, the PIN server cancels the subscription indicated by the subscription identifier.\n3.\tIf the processing of the request is successful, the PIN server sends a PIN service switch unsubscribe response to the application server.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_8.7.2.1.4.2.1",
        "figure_8.7.2.1.4.2.1-1",
        "figure_8.7.2.1.4.2.2-1",
        "figure_8.7.2.1.4.2.3-1",
        "figure_8.7.2.1.4.2.4-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.7.2.2",
      "section_id": "8.7.2.2",
      "section_title": "Service switch in a PIN without PIN server support",
      "content": "Figure 8.7.2.2-1: PIN Service Switch internal PIN\nIn Figure 8.7.2.2-1, it describes the service switch scenario supported internal PIN.\nThe PINE A has the application communication with application server. And when the PINE A decides to select other alternative PINE B to apply the traffic flow, the PINE A firstly should discover a PIN and join in. And then, in the PIN, there should exist the PINE that can be hosted with the same service type as PINE A, for example, the video flow, music flow or game flow.\nThe PINE A can send the request to PEMC to determine the PINE B to host the application traffic. After the determination, the PEMC sends the endpoint information to PINE A and the PINE A can offload the traffic either directly to PINE B or via PEGC.\nPre-conditions:\n1.\tThe UE Identifier or PIN client Identifier of PINE A or PINE B is available;\n2.\tThe PIN client in PINE A or PINE B has been authorized to communicate with the PEMC;\n3.\tThe PIN client in PINE B can provide the same PIN service as PINE A’s traffic flow.\nFigure 8.7.2.2-2: Service switch procedure internal PIN\n0.\tThe PINE A has application layer communication with application server. And the PINE A decides to do the service switch to other PINEs. And the PINE A has already been in a PIN.\n1.\tThe PINE A trigger the PIN service discovery request towards PEMC. This request carries the list of services the PINE A wants to consume.\n2.\tUpon receiving the request, the PEMC performs an authorization check to verify whether the PINE A has authorization to perform the operation.\n3.\tThe PEMC provides the list of PINE endpoint(s), application client endpoint(s) information that are offering the requested services to PINE A in PIN service discovery response. The PIN service can be represented by service type that PINE provides or the application client on PINE. If the request fails, the PEMC should give the failure response to indicates the cause of request failure.\n4.\tThe PINE A selects PINE B from the list of PINEs provided in the PIN service discovery response.\nThe PINE A sends the PIN Management Service Switch Configure request to the selected PINE B including: PIN ID, requestor ID, service information (e.g. PIN service type, PIN service feature) before performing service switch.\n5.\tUpon receiving the request from PINE A, PINE B determines whether it can accept the service switch request and sends the PIN Management Service Switch Configure response to PINE A.\nIf the PIN Management Service Switch Configure response indicates failure, the PINE A may consider other PINEs in the list of PINEs provided in the PIN service discovery response received in step 3 and may perform step 4 again.\nIf the PIN Management Service Switch Configure response indicates success, the PINE A maintains the service towards AS and proceeds with switching the service traffic to PINE B.\n6.\tThe PINE A switches the traffic flow to PINE B via direct communication or via PEGC.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.7.2.2-1",
        "figure_8.7.2.2-2"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.7.3.1",
      "section_id": "8.7.3.1",
      "section_title": "General",
      "content": "The following information flows are specified for Service Switch:\n-\tPIN service switch request and response\n-\tPIN configuration service switch configure request and response\n-\tPIN management service switch configure request and response\n-\tPIN service discovery request and response\n-\tPIN service switch subscribe\n-\tPIN service switch notify\n-\tPIN service switch update\n-\tPIN service switch unsubscribe",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.7.3.2",
      "section_id": "8.7.3.2",
      "section_title": "PIN service switch request",
      "content": "Table 8.7.3.2-1 describes information elements for the PIN service switch request that is sent from the PIN client to the PIN server.\nTable 8.7.3.2-1: PIN service switch request\nInformation element\nStatus\nDescription\nPIN client identifier\nM\nRequestor identifier.\nSecurity credentials\nM\nSecurity credentials of the PIN client.\nPIN identifier\nM\nIdentifier of the PIN.\nApplication client identifier\nM\nIdentifier of the application client.\nApplication server identifier\nM\nIdentifier of the application server\nApplication session identifier\nM\nIdentifier of the application session\nApplication session descriptor\nO\nDescriptor of application traffic flows (e.g., IP 4 tuple)\nTarget PIN client identifier (see NOTE)\nO\nTarget PIN client identifier.\nNOTE:\tOnly if target PIN client is known.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.7.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.7.3.3",
      "section_id": "8.7.3.3",
      "section_title": "PIN service switch response",
      "content": "Table 8.7.3.3-1 describes information elements for the PIN service switch response.\nTable 8.7.3.3-1: PIN service switch response\nInformation element\nStatus\nDescription\nSuccessful response (see NOTE 1)\nO\nIndicates that the request was successful.\n> Target PIN client identifier (see NOTE 2)\nO\nTarget PIN client identifier.\nFailure response (see NOTE 1)\nO\nIndicates that the request failed.\n> Cause\nO\nIndicates the cause of the request failure.\nNOTE 1:\tOnly one of the IE must be included in the response.\nNOTE 2:\tOnly if target PIN client is not provided in the PIN service switch request.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.7.3.3-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.7.3.4",
      "section_id": "8.7.3.4",
      "section_title": "PIN configuration service switch configure request",
      "content": "Table 8.7.3.4-1 describes information elements for the PIN configuration service switch configure request that is sent from the PIN server to the PIN management client and the application server.\nTable 8.7.3.4-1: PIN configuration service switch configure request\nInformation element\nStatus\nDescription\nPIN server identifier\nM\nRequestor identifier.\nSecurity credentials\nM\nSecurity credentials of the PIN server.\nPIN identifier\nM\nIdentifier of the PIN.\nApplication client identifier\nM\nIdentifier of the application client.\nApplication server identifier (see NOTE 1)\nO\nIdentifier of the application server.\nApplication session identifier\nM\nIdentifier of the application session.\nApplication session descriptor\nO\nDescriptor of application traffic flows (e.g., IP 4 tuple)\nTarget PIN client identifier\n(see NOTE 2)\nM\nTarget PIN client identifier.\nNOTE 1:\tThe IE is present if the request is sent to the PIN management client.\nNOTE 2:\tThe IE is present if the request is sent to the application server.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.7.3.4-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.7.3.5",
      "section_id": "8.7.3.5",
      "section_title": "PIN configuration service switch configure response",
      "content": "Table 8.7.3.5-1 describes information elements for the PIN configuration service switch configure response.\nTable 8.7.3.5-1: PIN configuration service switch configure response\nInformation element\nStatus\nDescription\nSuccessful response (see NOTE)\nO\nIndicates that the request was successful.\nFailure response (see NOTE)\nO\nIndicates that the request failed.\n> Cause\nO\nIndicates the cause of the request failure.\nNOTE:\tOnly one of the IE must be included in the response.\n8.7.3.6 \tPIN management service switch configure request\nTable 8.7.3.6-1 describes information elements for the PIN management service switch configure request that is sent from the PIN management client to the PIN gateway client and the target PIN client.\nTable 8.7.3.6-1: PIN management service switch configure request\nInformation element\nStatus\nDescription\nPINE identifier\nM\nRequestor identifier.\nSecurity credentials\nM\nSecurity credentials of the PIN management client.\nPIN identifier\nM\nIdentifier of the PIN.\nApplication client identifier\nM\nIdentifier of the application client.\nApplication server identifier\nM\nIdentifier of the application server.\nPIN gateway client identifier (see NOTE 1)\nO\nIdentifier of the PIN gateway client.\nApplication session identifier\nM\nIdentifier of the application session.\nApplication session descriptor\nO\nDescriptor of application traffic flows (e.g., IP 4 tuple)\nTarget PIN client identifier (see NOTE 2)\nO\nTarget PIN client identifier.\nService information\n(see NOTE 3)\nO\nPIN service type and PIN service feature\nNOTE 1:\tThe IE is present if the request is sent to the target PIN client.\nNOTE 2:\tThe IE is present if the request is sent to the PIN gateway client.\nNOTE 3:\tThe IE is present if the request is sent to the PINE.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.7.3.5-1",
        "table_8.7.3.6-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.7.3.7",
      "section_id": "8.7.3.7",
      "section_title": "PIN management service switch configure response",
      "content": "Table 8.7.3.7-1 describes information elements for the PIN management service switch configure response.\nTable 8.7.3.7-1: PIN management service switch configure response\nInformation element\nStatus\nDescription\nSuccessful response (see NOTE)\nO\nIndicates that the request was successful.\nFailure response (see NOTE)\nO\nIndicates that the request failed.\n> Cause\nO\nIndicates the cause of the request failure.\nNOTE:\tOnly one of the IE must be included in the response.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.7.3.7-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.7.3.8",
      "section_id": "8.7.3.8",
      "section_title": "PIN Service Discovery Request",
      "content": "Table 8.7.3.8-1 shows the informational elements of the PIN Service Discovery Request sent by a PIN Element to the PEMC to discover the candidate PINEs that can provide the certain PIN service.\nTable 8.7.3.8-1: PIN Service Discovery Request\nInformation element\nStatus\nDescription\nPIN ID\nM\nThe identifier of the PIN\nRequester PINE ID\nM\nThe identifier of the PIN Element making the request\nSecurity credentials\nM\nSecurity credentials resulting from a successful authorization for the PIN service.\nMAC address/IP address\nO\nMAC address/IP address of PINE/PEMC\nRequest PIN service type\nM\nList the PIN service type that the PINE request to determine the targe PINE for service switch.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.7.3.8-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.7.3.9",
      "section_id": "8.7.3.9",
      "section_title": "PIN Service Discovery Response",
      "content": "Table 8.7.3.9-1 shows the informational elements of the PIN Service Discovery Response sent by a PEMC to the PINE to list the candidate PINEs that can provide the target PIN service. The candidate PINEs that can provide the target PIN service may be multiple.\nTable 8.7.3.9-1: PIN Service Discovery Response\nInformation element\nStatus\nDescription\nSuccessful response\nO\nIndicates that the PIN Service Discovery request was successful.\n> PINE ID(s)\nM\nThe identifier of the PIN Elements that can provide the target PIN service\n> MAC address(es)/IP address(es)\nM\nMAC address/IP address of PINEs that can provide the target PIN service.\nFailure response\nO\nIndicates that the PIN Service Discovery request failed.\n> Cause\nM\nProvides the cause for PIN Service Discovery request failure.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.7.3.9-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.7.3.10",
      "section_id": "8.7.3.10",
      "section_title": "PIN service switch subscribe request",
      "content": "Table 8.7.3.10-1: PIN service switch subscribe request\nInformation element\nStatus\nDescription\nApplication server ID\nM\nUnique identifier of the application server.\nSecurity credentials\nM\nSecurity credentials resulting from a successful authorization for the PIN service.\nPIN ID\nM\nThe identifier of PIN.\nSubscribed event\nM\nIdentifies event type for which the subscriber is notified.\nEvent types:\n- Service Switch\nNotification Target Address\nM\nThe Notification target address (e.g., URL) where the notifications destined for the application server should be sent.\nProposed expiration time\nO\nProposed expiration time for the subscription",
      "chunk_type": "general",
      "cross_references": [
        "table_8.7.3.10-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.7.3.11",
      "section_id": "8.7.3.11",
      "section_title": "PIN service switch subscribe response",
      "content": "Table 8.7.3.11-1: PIN service switch subscribe response\nInformation element\nStatus\nDescription\nSuccessful response\n(see NOTE)\nO\nIndicates that the subscription request was successful.\n> Subscription ID\nM\nSubscription identifier corresponding to the subscription.\n> Expiration time\nO\nIndicates the expiration time of the subscription. To maintain an active subscription, a subscription update is required before the expiration time.\nFailure response (see NOTE)\nO\nIndicates that the subscription request failed.\n> Cause\nO\nIndicates the cause of subscription request failure\nNOTE:\tOne IE is included in the response.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.7.3.11-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.7.3.12",
      "section_id": "8.7.3.12",
      "section_title": "PIN service switch notify",
      "content": "Table 8.7.3.12-1 describes information elements in the PIN service switch notification from the PIN server to application server.\nTable 8.7.3.12-1: PIN service switch notification\nInformation element\nStatus\nDescription\nPIN subscription identifier\nM\nIdentifier of the subscription\nSubscribed event\nM\nIdentifies the event type as described in table 8.7.3.10-1 for which the notification is sent.\nPIN server identifier\nM\nIdentifier of the PIN server sending the notification.\nPIN identifier\nM\nIdentifier of the PIN.\nApplication client identifier\nM\nIdentifier of the application client.\nApplication session identifier\nM\nIdentifier of the application session.\nApplication session descriptor\nO\nDescriptor of application traffic flows (e.g., IP 4 tuple)\nTarget PIN client identifier\nM\nTarget PIN client identifier.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.7.3.12-1",
        "table_8.7.3.10-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.7.3.13",
      "section_id": "8.7.3.13",
      "section_title": "PIN service switch update request",
      "content": "Table 8.7.3.13-1: PIN service switch update request\nInformation element\nStatus\nDescription\nSubscription ID\nM\nSubscription identifier corresponding to the subscription.\nSecurity credentials\nM\nSecurity credentials resulting from a successful authorization for the PIN service.\nPIN ID\nO\nPIN identifier\nSubscribed event\nO\nIdentifies the event type as described in table 8.7.3.10-1 for which the subscriber is notified.\nNotification Target Address\nO\nThe Notification target address (e.g., URL) where the notifications destined for the application server should be sent to.\nProposed expiration time\nO\nProposed expiration time for the subscription",
      "chunk_type": "general",
      "cross_references": [
        "table_8.7.3.13-1",
        "table_8.7.3.10-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.7.3.14",
      "section_id": "8.7.3.14",
      "section_title": "PIN service switch update response",
      "content": "Table 8.7.3.14-1: PIN service switch update response\nInformation element\nStatus\nDescription\nSuccessful response (see NOTE)\nO\nIndicates that the subscription update request was successful.\n> Expiration time\nO\nIndicates the expiration time of the subscription. To maintain an active subscription, a subscription update is required before the expiration time.\nFailure response (see NOTE)\nO\nIndicates that the subscription update request failed.\n> Cause\nM\nIndicates the cause of subscription update request failure\nNOTE:\tOne IE is included in the response.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.7.3.14-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.7.3.15",
      "section_id": "8.7.3.15",
      "section_title": "PIN service switch unsubscribe request",
      "content": "Table 8.7.3.15-1: PIN service switch unsubscribe request\nInformation element\nStatus\nDescription\nSubscription ID\nM\nSubscription identifier corresponding to the subscription.\nSecurity credentials\nM\nSecurity credentials resulting from a successful authorization for the PIN service.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.7.3.15-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.7.3.16",
      "section_id": "8.7.3.16",
      "section_title": "PIN service switch unsubscribe response",
      "content": "Table 8.7.3.16-1: PIN service switch unsubscribe response\nInformation element\nStatus\nDescription\nSuccessful response (see NOTE)\nO\nIndicates that the unsubscribe request was successful.\nFailure response (see NOTE)\nO\nIndicates that the unsubscribe request failed.\n> Cause\nM\nIndicates the cause of unsubscribe request failure\nNOTE:\tOne IE is included in the response.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.7.3.16-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.7.4.1",
      "section_id": "8.7.4.1",
      "section_title": "General",
      "content": "Table 8.7.4.1-1 illustrates the API for AS service switch subscription.\nTable 8.7.4.1-1: Ppinserver_ASServiceSwitchSubscription API\nAPI Name\nAPI Operations\nOperation\nSemantics\nConsumer(s)\nPpinserver_ASServiceSwitch\nSubscribe\nSubscribe/Notify\nAS\nNotify\nUpdate\nUnsubscribe",
      "chunk_type": "definition",
      "cross_references": [
        "table_8.7.4.1-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.7.4.2",
      "section_id": "8.7.4.2",
      "section_title": "Ppinserver_ ASServiceSwitch_Subscribe operation",
      "content": "API operation name: Ppinserver_ASServiceSwitch_Subscribe\nDescription: The consumer subscribes for service switch information.\nInputs: See clause 8.7.3.10.\nOutputs: See clause 8.7.3.11.\nSee clause 8.7.2.1.4.2.1 for details of usage of this operation.",
      "chunk_type": "general",
      "cross_references": [
        "clause_8.7.3.10",
        "clause_8.7.3.11",
        "clause_8.7.2.1.4.2.1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.7.4.3",
      "section_id": "8.7.4.3",
      "section_title": "Ppinserver_ ASServiceSwitch_Notify operation",
      "content": "API operation name: Ppinserver_ASServiceSwitch_Notify\nDescription: The consumer is notified with service switch information.\nInputs: See clause 8.7.3.12.\nOutputs: None.\nSee clause 8.7.2.1.4.2.2 for details of usage of this operation.",
      "chunk_type": "general",
      "cross_references": [
        "clause_8.7.3.12",
        "clause_8.7.2.1.4.2.2"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.7.4.4",
      "section_id": "8.7.4.4",
      "section_title": "Ppinserver_ ASServiceSwitch_ Update operation",
      "content": "API operation name: Ppinserver_ASServiceSwitch_Update\nDescription: The consumer updates an existing subscription for service switch information.\nInputs: See clause 8.7.3.13.\nOutputs: See clause 8.7.3.14.\nSee clause 8.7.2.1.4.2.3 for details of usage of this operation.",
      "chunk_type": "general",
      "cross_references": [
        "clause_8.7.3.13",
        "clause_8.7.3.14",
        "clause_8.7.2.1.4.2.3"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.7.4.5",
      "section_id": "8.7.4.5",
      "section_title": "Ppinserver_ ASServiceSwitch_ Unsubscribe operation",
      "content": "API operation name: Ppinserver_ASServiceSwitch_Unsubscribe\nDescription: The consumer cancels an existing subscription for service switch information.\nInputs: See clause 8.7.3.15.\nOutputs: See clause 8.7.3.16.\nSee clause 8.7.2.1.4.2.4 for details of usage of this operation.",
      "chunk_type": "general",
      "cross_references": [
        "clause_8.7.3.15",
        "clause_8.7.3.16",
        "clause_8.7.2.1.4.2.4"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.8.1",
      "section_id": "8.8.1",
      "section_title": "General",
      "content": "The PEMC and PIN Server have capabilities for maintaining information related to application servers that may be available to the PINE(s) within a PIN. Application server information may be pre-provisioned in the PIN Server or the PEMC; the application server may also register with the PEMC or the PIN Server if it has such capability.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.8.2.1",
      "section_id": "8.8.2.1",
      "section_title": "General",
      "content": "The follosing procedures are specified for AS discovery in PIN:\n-\tAS discovery;\n-\tAS registration;\n-\tAS registration update;\n-\tAS de-registration;",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.8.2.2",
      "section_id": "8.8.2.2",
      "section_title": "AS discovery",
      "content": "Figure 8.8.2.2-1 illustrates the AS discovery procedure between the PINE and the PEMC and between the PEMC and the PIN Server. This procedure enables the PEMC to provide AS connectivity information to the PINE when requested by the PINE.\nPre-conditions:\n1.\tThe PINE has joined the PIN and is authorized to communicate with the PEMC;\nFigure 8.8.2.2-1: AS discovery procedure\n1.\tThe PINE sends an AS discovery request to the PEMC. The AS discovery request includes the requestor identifier, security credentials of the PINE and the AS service identifier of a service associated with an AS.\n2.\tUpon receiving the request, the PEMC checks if the requestor is authorized to request AS discovery, and if the request is authorized, the PEMC verifies if it has information on an AS providing associated with the requested AS service identifier. If the PEMC identifies information about an AS providing the requested service, the PEMC proceeds to step 6.\n3.\tIf the PEMC has not identified an AS in step 2, the PEMC sends an AS discovery request to the PIN Server. The AS discovery request includes the requestor identifier, security credentials of the PEMC and the AS service identifier associated with an AS.\n4.\tUpon receiving the request, the PJN Server checks if the requestor is authorized to request AS discovery, and if the request is authorized, the PIN Server verifies if it has information on an AS providing associated with the requested AS service identifier.\n5.\tIf the processing of the request was successful, the PIN Server sends an AS discovery response to the requestor indicating successful processing and includes connectivity information to the AS. If the request processing failed, the PIN Server indicates failure and may provide a failure reason.\n6.\tIf the processing of the request was successful in step 2 or the PEMC has received a successful response from the PIN Server in step 5, the PEMC sends an AS discovery response to the requestor indicating successful processing and includes connectivity information to the discovered AS. If the request processing failed, the PEMC indicates failure and may provide a failure reason.\nUpon receiving the AS discovery response from the PEMC, if the response indicates success, the PINE (e.g., PIN Client) may provide the AS connectivity information to the AC so the AC can access the AS. If the response indicates failure, the PINE may retry AS discovery considering the failure reason.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.8.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.8.2.3",
      "section_id": "8.8.2.3",
      "section_title": "AS registration",
      "content": "Figure 8.8.2.3-1 illustrates the AS registration procedure between the AS and the PEMC or PIN Server. This procedure enables the AS to provide AS connectivity information to the PEMC or the PIN Server.\nPre-conditions:\n1.\tThe AS is authorized to communicate with the PEMC or the PIN Server;\nFigure 8.8.2.3-1: AS registration procedure\n1.\tThe AS sends an AS registration request to the PEMC or PIN Server. The AS registration request includes the requestor identifier, security credentials of the AS, the AS service identifier of the service associated with the AS, the connectivity information of the AS.\n2.\tUpon receiving the request, the PEMC or PIN Server checks if the requestor is authorized to request AS registration, and if the request is authorized, the PEMC or PIN Server stores information associated with AS service.\n3.\tIf the processing of the request was successful, the PEMC or PIN Server sends an AS registration response to the requestor indicating successful processing and include the AS registration identifier; the response may include an expiration time to indicate to the AS when the registration will automatically expire. To maintain the registration, the AS shall send a registration update request prior to the expiration time. If a registration update request is not received prior to the expiration time, the PEMC or PIN Server shall treat the AS as implicitly de-registered. If the request processing failed, the PEMC or PIN Server indicates failure and may provide a failure reason.\nUpon receiving the AS registration response from the PEMC, if the response indicates success, the AS stores the registration identifier and may reuse it to update or delete its registration to the PEMC or PIN Server. If the response indicates failure, the AS may retry AS registration considering the failure reason.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.8.2.3-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.8.2.4",
      "section_id": "8.8.2.4",
      "section_title": "AS registration update",
      "content": "Pre-conditions:\n1.\tThe AS has registered with the PEMC or PIN Server;\n2.\tThe AS has determined that its existing registration needs to be updated;\nFigure 8.8.2.4-1: AS registration update procedure\n1.\tThe AS sends an AS registration update request to the PEMC or PIN Server where it registered. The request shall include the AS registration identifier and may include registration information such as the AS service identifier and AS connectivity information.\n2.\tThe PEMC or PIN Server performs an authorization check to verify whether the requestor is authorized to request AS registration update for the provided AS registration identifier; if the request is authorized and the AS registration identifier is valid, the PEMC or PIN Server update the registration information associated with the AS registration identifier.\n3.\tIf the request processing is successful, the PEMC or PIN Server replies to the AS with an AS registration update response and may include an updated expiration time to indicate to the AS when the updated registration will automatically expire. To maintain the registration, the AS shall send a registration update request prior to the expiration time. If a registration update request is not received prior to the expiration time, the PEMC or PIN Server shall treat the AS as implicitly de-registered. If the request processing failed, the PEMC or PIN Server indicates failure and may provide a failure reason.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.8.2.4-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.8.2.5",
      "section_id": "8.8.2.5",
      "section_title": "AS de-registration",
      "content": "Pre-conditions:\n1.\tThe AS has registered with the PEMC or PIN Server;\n2.\tThe AS has determined that de-registration is required;\nFigure 8.8.2.5-1: AS de-registration procedure\n1.\tThe AS sends an AS de-registration request to the PEMC or PIN Server where it registered. The request shall include the AS registration identifier.\n2.\tThe PEMC or PIN Server performs an authorization check to verify whether the requestor is authorized to request AS de-registration for the provided AS registration identifier; if the request is authorized and the AS registration identifier is valid, the PEMC or PIN Server removes the registration information associated with the AS registration identifier.\n3.\tIf the request processing is successful, the PEMC or PIN Server replies to the AS with an AS de-registration response. If the request processing failed, the PEMC or PIN Server indicates failure and may provide a failure reason.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.8.2.5-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.8.3.1",
      "section_id": "8.8.3.1",
      "section_title": "General",
      "content": "The following information flows are specified for AS discovery:\n-\tAS discovery request and response;\n-\tAS registration request and response;",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.8.3.2",
      "section_id": "8.8.3.2",
      "section_title": "AS discovery request",
      "content": "Table 8.8.3.2-1 describes information elements for the AS discovery request from the PINE to the PEMC or from the PEMC to the PIN Server.\nTable 8.8.3.2-1: AS discovery request\nInformation element\nStatus\nDescription\nRequestor identifier\nM\nThe identifier of the requestor instance (e.g., PINE ID)\nSecurity credentials\nM\nSecurity credentials of the PINE.\nService identifier\nM\nThe identifier of a service provided by an AS (e.g., name)",
      "chunk_type": "general",
      "cross_references": [
        "table_8.8.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.8.3.3",
      "section_id": "8.8.3.3",
      "section_title": "AS discovery response",
      "content": "Table 8.8.3.3-1 describes information elements for the AS discovery response from the PEMC to the PINE or from the PIN Server to the PEMC.\nTable 8.8.3.3-1: AS discovery response\nInformation element\nStatus\nDescription\nSuccessful response\nO\nIndicates that the AS discovery request was successful.\n> AS connectivity information\nM\nThe connectivity information to the AS (e.g., IP address, FQDN, URI)\nFailure response\nO\nIndicates that the AS discovery request failed.\n> Cause\nO\nIndicates the cause of AS discovery request failure.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.8.3.3-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.8.3.4",
      "section_id": "8.8.3.4",
      "section_title": "AS registration request",
      "content": "Table 8.8.3.4-1 describes information elements for the AS registration request from the AS to the PEMC or the PIN Server.\nTable 8.8.3.4-1: AS registration request\nInformation element\nStatus\nDescription\nRequestor identifier\nM\nThe identifier of the requestor instance (e.g., AS ID)\nSecurity credentials\nM\nSecurity credentials of the AS.\nAS service identifier\nM\nThe identifier of a service provided by an AS (e.g., name)\nAS connectivity information\nM\nThe connectivity information to the AS (e.g., IP address, FQDN, URI)",
      "chunk_type": "general",
      "cross_references": [
        "table_8.8.3.4-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.8.3.5",
      "section_id": "8.8.3.5",
      "section_title": "AS registration response",
      "content": "Table 8.8.3.5-1 describes information elements for the AS registration response from the PEMC or PIN Server to the AS.\nTable 8.8.3.5-1: AS registration response\nInformation element\nStatus\nDescription\nSuccessful response (see NOTE)\nO\nIndicates that the AS registration request was successful.\n> AS registration identifier\nM\nThe identifier of a registration\n> Expiration time\nO\nIndicates the expiration time of the registration. To maintain an active registration status, a registration update is required before the expiration time.\nIf the Expiration time IE is not included, it indicates that the registration never expires.\nFailure response (see NOTE)\nO\nIndicates that the AS discovery request failed.\n> Cause\nO\nIndicates the cause of AS discovery request failure.\nNOTE:\tOne IE is included in the response.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.8.3.5-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.8.3.6",
      "section_id": "8.8.3.6",
      "section_title": "AS registration update request",
      "content": "Table 8.8.3.6-1 describes information elements for the AS registration update request from the AS to the PEMC or the PIN Server.\nTable 8.8.3.6-1: AS registration update request\nInformation element\nStatus\nDescription\nRequestor identifier\nM\nThe identifier of the requestor instance (e.g., AS ID)\nAS registration identifier\nM\nThe identifier of an AS registration\nSecurity credentials\nM\nSecurity credentials of the AS.\nAS service identifier\nO\nThe identifier of a service provided by an AS (e.g., name)\nAS connectivity information\nO\nThe connectivity information to the AS (e.g., IP address, FQDN, URI)",
      "chunk_type": "general",
      "cross_references": [
        "table_8.8.3.6-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.8.3.7",
      "section_id": "8.8.3.7",
      "section_title": "AS registration update response",
      "content": "Table 8.8.3.7-1 describes information elements for the AS registration update response from the PEMC or PIN Server to the AS.\nTable 8.8.3.7-1: AS registration update response\nInformation element\nStatus\nDescription\nSuccessful response (see NOTE)\nO\nIndicates that the AS registration update request was successful.\n> Expiration time\nO\nIndicates the expiration time of the registration. To maintain an active registration status, a registration update is required before the expiration time.\nIf the Expiration time IE is not included, it indicates that the registration never expires.\nFailure response (see NOTE)\nO\nIndicates that the AS discovery request failed.\n> Cause\nO\nIndicates the cause of AS discovery request failure.\nNOTE:\tOne IE is included in the response.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.8.3.7-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.8.3.8",
      "section_id": "8.8.3.8",
      "section_title": "AS de-registration request",
      "content": "Table 8.8.3.8-1 describes information elements for the AS de-registration request from the AS to the PEMC or the PIN Server.\nTable 8.8.3.8-1: AS de-registration request\nInformation element\nStatus\nDescription\nRequestor identifier\nM\nThe identifier of the requestor instance (e.g., AS ID)\nAS registration identifier\nM\nThe identifier of an AS registration\nSecurity credentials\nM\nSecurity credentials of the AS.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.8.3.8-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.8.3.9",
      "section_id": "8.8.3.9",
      "section_title": "AS de-registration response",
      "content": "Table 8.8.3.9-1 describes information elements for the AS de-registration response from the PEMC or PIN Server to the AS.\nTable 8.8.3.9-1: AS de-registration response\nInformation element\nStatus\nDescription\nSuccessful response (see NOTE)\nO\nIndicates that the AS de-registration request was successful.\nFailure response (see NOTE)\nO\nIndicates that the AS discovery request failed.\n> Cause\nO\nIndicates the cause of AS discovery request failure.\nNOTE:\tOne IE is included in the response.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.8.3.9-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.8.4.1",
      "section_id": "8.8.4.1",
      "section_title": "General",
      "content": "Table 8.8.4.1-1 illustrates the API for AS registration.\nTable 8.8.4.1-1: Ppinserver_ASRegistration API\nAPI Name\nAPI Operations\nOperation\nSemantics\nConsumer(s)\nPpinserver_ASRegistration\nRequest\nRequest/Response\nAS\nUpdate\nDeregister",
      "chunk_type": "definition",
      "cross_references": [
        "table_8.8.4.1-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.4.4.2",
      "section_id": "8.4.4.2",
      "section_title": "Ppinserver_ASRegistration_Request operation",
      "content": "API operation name: Ppinserver_ASRegistration_Request\nDescription: The consumer requests to register the AS on the PIN server.\nInputs: See clause 8.8.3.4.\nOutputs: See clause 8.8.3.5.\nSee clause 8.8.2.3 for details of usage of this operation.",
      "chunk_type": "general",
      "cross_references": [
        "clause_8.8.3.4",
        "clause_8.8.3.5",
        "clause_8.8.2.3"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.4.4.3",
      "section_id": "8.4.4.3",
      "section_title": "Ppinserver_ASRegistration_Update operation",
      "content": "API operation name: Ppinserver_ASRegistration_Update\nDescription: The consumer requests to update the registered information of the AS on the PIN server.\nInputs: See clause 8.8.3.6.\nOutputs: See clause 8.8.3.7.\nSee clause 8.8.2.4 for details of usage of this operation.",
      "chunk_type": "general",
      "cross_references": [
        "clause_8.8.3.6",
        "clause_8.8.3.7",
        "clause_8.8.2.4"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.4.4.4",
      "section_id": "8.4.4.4",
      "section_title": "Ppinserver_ASRegistration_Deregister operation",
      "content": "API operation name: Ppinserver_ASRegistration_Deregister\nDescription: The consumer requests to deregister the AS from the PIN server.\nInputs: See clause 8.8.3.8.\nOutputs: See clause 8.8.3.9.\nSee clause 8.8.2.5 for details of usage of this operation.",
      "chunk_type": "general",
      "cross_references": [
        "clause_8.8.3.8",
        "clause_8.8.3.9",
        "clause_8.8.2.5"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.9.1",
      "section_id": "8.9.1",
      "section_title": "General",
      "content": "PIN service continuity procedures enable an Application Client participating in a PIN to maintain service when PIN Elements enter or leave the PIN. The following examples illustrate scenarios where PIN service continuity is needed.\nIn a first scenario, a first PIN Element (e.g. a UE) receives data from a second PIN Element (e.g. a home sensor), both PIN Elements are participating in the same PIN. Service contnuity can be triggered when the UE leaves home in order to re-configure the connectivity between both PIN Elements.\nIn a second scenario, a PIN Element is communicating with an Application Server via a PIN Gateway Client.Service continuity can be triggered when the PIN Gateway Client becomes unreachable in order to find a replacement PIN Gateway Client and re-configure connectivity between the PIN Element, the replacement PIN Gateway and the Application Server.\nTwo scenarios are specified for PIN Service Continuity:\n-\tPIN service continuity in PIN Gateway Client relocation;\n-\tPIN service continuity in changing access to 5GS.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.9.2.1.1",
      "section_id": "8.9.2.1.1",
      "section_title": "General",
      "content": "Following procedures are supported for service continuity in a PEGC relocation scenario:\n-\tPIN Management PEGC Service Continuity procedure;\n-\tPIN Management PEGC Configuration procedure;\n-\tPIN Configuration Service Continuity Update procedure;\n-\tPIN Management PEGC Discovery procedure;\n-\tPIN Service Continuity subscription procedure.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.9.2.1.2",
      "section_id": "8.9.2.1.2",
      "section_title": "PIN Management PEGC Service Continuity procedure",
      "content": "Pre-conditions:\n1.\tPIN Element has an application session that goes through a PIN Gateway Client; and\n2.\tPIN Gateway Client needs to be replaced (e.g., PEGC will become unavailable or PEGC is unreachable).\nFigure 8.9.2.1.2-1: PIN PEGC Service Continuity procedure\n1.\tThe PIN Gateway Client or the PIN Client sends a PIN Management PEGC Service Continuity request to the PIN Management Client for a specific service. The PIN Management PEGC Service Continuity request includes security credentials, PIN Client identifier(s), PIN Gateway identifier, and Service identifier.\n2\tUpon receiving the request, the PIN Management Client validates the request and checks if the request is authorized for the given PIN Client(s), PIN Gateway Client and service. If the request is authorized and valid, the PIN Management Client determines if a target PIN Gateway Client meets the requirements for handling the application traffic for the provided service.\nIf the PIN Management Client identifes a target PIN Gateway Client that meets the requirements, the PIN Management Client sends PIN Management PEGC Configuration request to the target PIN Gateway Client to configure the target PIN Gateway for handling service traffic from the PIN Client(s) as in clause 8.9.2.1.3. If the service is provided by an Application Server, the PIN Management Client send a PIN Configuration Service Continuity Update request to the PIN Server if needed to inform of the service continuity changes in the PIN as in clause 8.9.2.1.4.\n3.\tIf the procesing of the request was successful, the PIN Management Client sends a PIN Management PEGC Service Continuity response to indicate that the request processing was successfull and includes target PIN Gateway Client information. Otherwise, the PIN Management Client sends a PIN PEGC Service Continuity response indicating that the request processing failed and can include appropriate reasons.\nUpon receiving the PIN Management PEGC Service Continuity response, if the response was received by the PIN Client, the PIN Client validates if the request was successful and can inform the application client of the target PIN Gateway Client provided in the response to establish connectivity. If the response was received by the PIN Gateway Client, the PIN Gateway Client notifies each PIN Client included in the PIN Management PEGC Service Continuity request about the target PIN Gateway Client change as in clause 8.9.2.1.5.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_8.9.2.1.3",
        "clause_8.9.2.1.4",
        "clause_8.9.2.1.5",
        "figure_8.9.2.1.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.9.2.1.3",
      "section_id": "8.9.2.1.3",
      "section_title": "PIN Management PEGC Configuration procedure",
      "content": "Pre-conditions:\n1.\tThe PIN Management Client has received a PIN Management PEGC Service Continuity request; and\n2.\tThe PIN Management client has identified a target PIN Gateway Client.\nFigure 8.9.2.1.3-1: PIN Management PEGC Configuration procedure\n1.\tThe PIN Management Client sends a PIN Management PEGC Configuration request to the target PIN Gateway Client. The PIN Management PEGC Configuration request includes security credentials, PIN Client identifier(s), PIN Gateway identifier, and Service identifier.\n2.\tUpon receiving the request, the PIN Gateway Client validates the request and checks if the PIN Management Client is authorized to request PEGC Configuration. If the request is authorized and the request is valid, the PIN Gateway Client creates a new configuration for the PIN Client(s) and service that are indicated in the request.\n3.\tIf the processing of the request was successful, the target PIN Gateway Client sends a PIN Management PEGC Configuration response to the PIN Management Client to indicate that the request was successful and can include connectivity information to be used by the PIN Client(s). Otherwise, the target PIN Gateway sends a PIN Management PEGC Configuration response indicating that the request failed and can include appropriate reasons.\nUpon receiving the PIN Management PEGC Configuration response, the PIN Management Client uses the information provided in the response to inform the PIN Client(s) or the PIN Gateway Client from which the service continuity request originated as in clause 8.9.2.1.2.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_8.9.2.1.2",
        "figure_8.9.2.1.3-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.9.2.1.4",
      "section_id": "8.9.2.1.4",
      "section_title": "PIN Configuration Service Continuity Update procedure",
      "content": "The PIN Configuration Service Continuity Update procedure allows the PEMC to inform the PIN Server about a service continuity request received at the PEMC for a PINE, and it allows the PIN Server to inform the related AS of the same if such functionality is supported by the AS.\nThe PIN Server may provide, in the response, policy information to the PEMC about service continuity for the concerned PINE.\nPre-conditions:\n1.\tPINE has an application session that goes through a PEGC; and\n2.\tPEGC needs to be replaced (e.g., PEGC will become unavailable or PEGC is unreachable).\n3.\tThe AS is successfully subscribed for PIN service continuity notifications with the PIN Server.\nFigure 8.9.2.1.4-1: PIN Configuration Service Continuity Update procedure\n1.\tThe PEMC sends a PIN Configuration Service Continuity Update request to the PIN Server. The PIN Configuration Service Continuity Update request includes the requestor identifier, security credentials, PINE identifier(s), source and target PIN Gateway identifiers, and service identifier (e.g., application client identifier, application server identifier, application session identifier, application session identifier), and the PIN ID.\n2.\tUpon receiving the request, the PIN Server validates the request and checks if the PEMC is authorized to request service continuity update. If the request is authorized and valid, if the PIN Server has not authorized the PINE for service continuity, the PIN Server validates if the PINE is authorized and determines policy information about service continuity for the PINE. If the PIN Server has already authorized the PINE for service continuity, the PIN Server updates the configuration for the PINE and service indicated in the request.\n3.\tIf the PIN Server needs to update the AS with service continuity information, the PIN Server sends a PIN Service Continuity notification to the AS. The PIN Service Continuity notification includes PIN identifier, PINE identifier(s), PEGC identifier, service identifier and may include an application session identifier and terminating endpoints on the PINE and PEGC.\n4. \tUpon receiving the notification, the AS validates the notification. If the notification is valid, the AS updates the service continuity configuration related to the PINE and service indicated in the notification.\n5.\tIf the processing of the PIN Configuration Service Continuity Update request was successful, the PIN Server sends a PIN Configuration Service Continuity Update response to indicate that the request processing was successful and may include policy information about service continuity for the PINE. Otherwise, the PIN Server sends a PIN Configuration Service Continuity Update response indicating that the request processing failed and can include appropriate reasons.\nUpon receiving the PIN Configuration Service Continuity Update response, the PEMC uses the information provided in the response to inform the PINE(s) or the PEGC from which the service continuity request originated as in clause 8.9.2.1.2.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_8.9.2.1.2",
        "figure_8.9.2.1.4-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.9.2.1.5",
      "section_id": "8.9.2.1.5",
      "section_title": "PIN Management PEGC Discovery procedure",
      "content": "PEMC performs PIN Management PEGC discovery procedure to discover which PEGC are available at the PINE when the PEMC does not have that information; for example, the PEMC may ignore if a PEGC is available at the PINE or PEGC information may not have been provided to the PEMC in the service provisioning request.\nPre-conditions:\n1.\tThe PEMC has been triggered for service continuity;\n2.\tThe target PEGC is not known by the PEMC.\nFigure 8.9.2.1.5-1: PIN Management PEGC Discovery procedure\n1.\tThe PEMC sends a PIN Management PEGC Discovery request to the PINE involved in the service continuity procedure. The PIN Management PEGC Discovery request includes security credentials, requestor identifier, PIN identifier, PINE identifier and list of PEGC information.\n2.\tUpon receiving the request, the PINE validates the request and checks if the request is authorized. If the request is authorized and valid, the PINE uses the PEGC information provided in the request to identify PEGC(s) that are reachable and creates a list of PEGC identifier(s) that are available at the PINE.\n3.\tIf the procesing of the request was successful, the PINE sends a PIN Management PEGC Discovery response to indicate that the request processing is successfull and includes the list of PEGC identifier(s) available at the PINE. Otherwise, the PINE sends a PIN Management PEGC Discovery response indicating that the request processing failed and can include appropriate reasons.\nUpon receiving the response, the PEMC selects the target PEGC based on the list of available PEGC received and the PIN policy.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_8.9.2.1.5-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.9.2.1.6.1",
      "section_id": "8.9.2.1.6.1",
      "section_title": "General",
      "content": "The PIN service continuity subscription is used by the Application Server to be notified of PIN service continuity events by the PIN Server.\nThe PIN service continuity notification includes PIN service continuity information.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.9.2.1.6.2",
      "section_id": "8.9.2.1.6.2",
      "section_title": "Procedure",
      "content": "8.9.2.1.6.2.1\tPIN service continuity subscribe\nFigure 8.9.2.1.6.2.1-1 illustrates the PIN service continuity subscribe procedure.\nPre-conditions:\n1.\tThe application server has already received the address of the PIN server;\n2.\tThe application server is authorized to communicate with PIN server;\nFigure 8.9.2.1.6.2.1-1: PIN service continuity subscribe\n1.\tThe application server sends the PIN service continuity subscribe request to the PIN server. The PIN service continuity subscribe request includes the application server identifier along with the security credentials, PIN ID, subscribed event, notification target address and proposed expiration time.\n2.\tUpon receiving the request from the application server, the PIN server checks if the application server is authorized to subscribe. The authorization check may apply to an individual PIN. If the request is authorized, the PIN server creates and stores the subscription for application server.\n3.\tIf the processing of the request is successful, the PIN server sends a PIN service continuity subscribe response to the application server, which includes the subscription identifier and may include the expiration time, indicating when the subscription will automatically expire. To maintain the subscription, the application server shall send a PIN service continuity update request prior to the expiration time. If a new PIN service continuity update request is not received prior to the expiration time, the PIN server shall treat the application server as implicitly unsubscribed.\n8.9.2.1.6.2.2\tPIN service continuity notify\nFigure 8.9.2.1.6.2.2-1 illustrates the PIN service continuity notify procedure.\nPre-conditions:\n1.\tThe application server has subscribed with the PIN server as specified in clause 8.9.2.1.6.2.1.\nFigure 8.9.2.1.6.2.2-1: PIN service continuity notify procedure\n1.\tWhen a service continuity event occurs at the PIN server that satisfies triggering conditions, the PIN server sends a service continuity notification to the subscribed application servers.\n2.\tThe PIN server sends an PIN service continuity notification to the subscribed application server(s) related to the service continuity event and includes the PIN service continuity information.\nThe PIN service continuity information includes the PIN subscription identifier, subscribed event, PIN server identifier, PIN identifier, PINE identifier(s), PEGC identifier, service identifier, application session identifier and may include terminating endpoints on the PINE and PEGC.\n3.\tUpon receiving the notification, the application server uses the information provided in the notification to update the service continuity configuration related to the PINE and service indicated in the notification.\n8.9.2.1.6.2.3\tPIN service continuity update\nFigure 8.9.2.1.6.2.3-1 illustrates the PIN service continuity update procedure.\nPre-conditions:\n1.\tThe application server has subscribed with the PIN server as specified in clause 8.9.2.1.6.2.1.\nFigure 8.9.2.1.6.2.3-1: PIN service continuity update\n1.\tThe application server sends a PIN service continuity update request to the PIN server. The PIN service continuity update request includes the security credentials and the subscription identifier. It may also include notification target address, PIN ID, event ID and proposed expiration time.\n2.\tUpon receiving the request from the application server, the PIN server checks if the application server is authorized to update the subscription information. If the request is authorized, the PIN server updates the stored subscription.\n3.\tIf the processing of the request is successful, the PIN server sends a PIN service continuity update response to the application server, which may include the expiration time, indicating when the subscription will automatically expire. To maintain the subscription, the application server shall send a PIN service continuity update request prior to the expiration time. If a PIN service continuity update request is not received prior to the expiration time, the PIN server shall treat the application server as implicitly unsubscribed.\n8.9.2.1.6.2.4\tPIN service continuity unsubscribe\nFigure 8.9.2.1.6.2.4-1 illustrates the PIN service continuity unsubscribe procedure.\nPre-conditions:\n1.\tThe application server has subscribed with the PIN server as specified in clause 8.9.2.1.6.2.1.\nFigure 8.9.2.1.6.2.4-1: PIN service continuity unsubscribe\n1.\tThe application server sends a PIN service continuity unsubscribe request to the PIN server. The PIN service continuity unsubscribe request includes the security credentials and the subscription identifier.\n2.\tUpon receiving the request from the application server, the PIN server checks if the application server is authorized to unsubscribe. If the request is authorized, the PIN server cancels the subscription indicated by the subscription identifier.\n3.\tIf the processing of the request is successful, the PIN server sends a PIN service continuity unsubscribe response to the application server.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_8.9.2.1.6.2.1",
        "figure_8.9.2.1.6.2.1-1",
        "figure_8.9.2.1.6.2.2-1",
        "figure_8.9.2.1.6.2.3-1",
        "figure_8.9.2.1.6.2.4-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.9.2.2",
      "section_id": "8.9.2.2",
      "section_title": "Service continuity in changing access to 5GS",
      "content": "This procedure solves the situation, that PINE 1 has application layer communication with PINE 2 via PEGC 1. But when the communication via PEGC 1 is not viable, for example, the PINE 2 moves out of the coverage of PEGC 1, only PINE 2 triggers to establish the 5GS communication to connect to PINE 1 via PEGC 2is the potential way.\nFigure 8.9.2.2-1 illustrates the service continuity to change application layer communication via PEGC only to application layer communication via PEGC + 5GS or 5GS + PEGC based on request/response model.\nPre-conditions:\n1.\tThe PEMC in a PIN has been pre-configured or has discovered the address (e.g. IP address, FQDN, URI) of the PIN server;\n2.\tThe PIN has already been created and a PIN ID is distributed by PIN server;\n3.\tThe PINE 1 has the subscription that can communicate with PINE 2 via 5GS;\n4.\tThe PINE 2 does not have the 3GPP capability and require support of a PEGC to access the 3GPP network.\nFigure 8.9.2.2-1: Change application layer communication to communication via 5GS\n1.\tThe PINE 1 has application layer communication with PINE 2 via PEGC 1.\n2.\tThe PINE 2 moves out of PEGC 1 and moves into the coverage of PEGC 2. The PINE 2 connects to the network that provided by PEGC 2 via access control information.\n3.\tThe PEGC 2 receives the related parameter (PIN ID, MAC address/IP address, Traffic descriptors, Packet filters, requested QoS) as indicated in section 8.6.2.2 from PINE 2 or PEMC.\n4.\tAccording to the Packet filters, the PEGC 2 may initiate PDU Session Modification as indicated in section 4.3.3.2 of TS 23.502[5] with the Packet filters and requested QoS towards 5G system in order to make 5GC configure the N4 rules for UPF(s), referred to section 8.6.2.2.\n5.\tThe PINE 2 communicates with PINE 1 via 5GS by PEGC 2. To enable this communication via PEGC + 5GS or 5GS + PEGC, each PINE includes the PINE ID of the destination PINE in its communication.",
      "chunk_type": "general",
      "cross_references": [
        "clause_8.6.2.2",
        "ts_23.502_clause_4.3.3.2",
        "figure_8.9.2.2-1",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.9.3.1",
      "section_id": "8.9.3.1",
      "section_title": "General",
      "content": "The following information flows are specified for Service Continuity:\n-\tPIN Management PEGC Service Continuity request and response\n-\tPIN Management PEGC Configuration request and response\n-\tPIN Configuration Service Continuity Update request and response\n-\tPIN Management PEGC Discovery request and response\n-\tPIN service continuity subscribe\n-\tPIN service continuity notify\n-\tPIN service continuity update\n-\tPIN service continuity unsubscribe",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.9.3.2",
      "section_id": "8.9.3.2",
      "section_title": "PIN Management PEGC Service Continuity request",
      "content": "Table 8.9.3.2-1 describes information elements for the PIN Management PEGC Service Continuity request that is sent from the PIN Gateway client to the PIN Management client.\nTable 8.9.3.2-1: PIN Management PEGC Service Continuity request\nInformation element\nStatus\nDescription\nRequestor identifier\nM\nRequestor identifier\nSecurity credentials\nM\nSecurity credentials of the requestor\nPIN identifier\nM\nIdentifier of the PIN\nPINE identifier\nM\nIdentifier of the PINE\nSource PEGC identifier\nM\nIdentifier of the source PEGC\nApplication client identifier\nM\nIdentifier of the application client.\nApplication server identifier\nM\nIdentifier of the application server.\nApplication session identifier\nM\nIdentifier of the application session.\nApplication session descriptor\nO\nDescriptor of application traffic flows (e.g., IP 4 tuple)",
      "chunk_type": "general",
      "cross_references": [
        "table_8.9.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.9.3.3",
      "section_id": "8.9.3.3",
      "section_title": "PIN Management PEGC Service Continuity response",
      "content": "Table 8.9.3.3-1 describes information elements for the PIN Management PEGC Service Continuity response.\nTable 8.9.3.3-1: PIN Management PEGC Service Continuity response\nInformation element\nStatus\nDescription\nSuccessful response (see NOTE)\nO\nIndicates that the request was successful.\n> Target PEGC identifier\nO\nIdentifier of the target PEGC\nFailure response (see NOTE)\nO\nIndicates that the request failed.\n> Cause\nO\nIndicates the cause of the request failure.\nNOTE:\tOnly one of the IE must be included in the response.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.9.3.3-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.9.3.4",
      "section_id": "8.9.3.4",
      "section_title": "PIN Management PEGC Configuration request",
      "content": "Table 8.9.3.4-1 describes information elements for the PIN Management PEGC Configuration request that is sent from the PEMC to the PEGC.\nTable 8.9.3.4-1: PIN Management PEGC Configuration request\nInformation element\nStatus\nDescription\nRequestor identifier\nM\nRequestor identifier.\nSecurity credentials\nM\nSecurity credentials of the requestor.\nPIN identifier\nM\nIdentifier of the PIN\nPINE identifier\nM\nIdentifier of the PINE\nApplication client identifier\nM\nIdentifier of the application client.\nApplication server identifier\nM\nIdentifier of the application server.\nApplication session identifier\nM\nIdentifier of the application session.\nApplication session descriptor\nO\nDescriptor of application traffic flows (e.g., IP 4 tuple)",
      "chunk_type": "general",
      "cross_references": [
        "table_8.9.3.4-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.9.3.5",
      "section_id": "8.9.3.5",
      "section_title": "PIN Management PEGC Configuration response",
      "content": "Table 8.9.3.5-1 describes information elements for the PIN Management PEGC Configuration response.\nTable 8.9.3.5-1: PIN Management PEGC Configuration response\nInformation element\nStatus\nDescription\nSuccessful response (see NOTE)\nO\nIndicates that the request was successful.\n> PEGC connectivity information\nO\nInformation about the configured PEGC connectivity to be used by the PINE.\nFailure response (see NOTE)\nO\nIndicates that the request failed.\n> Cause\nO\nIndicates the cause of the request failure.\nNOTE:\tOnly one of the IE must be included in the response.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.9.3.5-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.9.3.6",
      "section_id": "8.9.3.6",
      "section_title": "PIN Configuration Service Continuity Update request",
      "content": "Table 8.9.3.6-1 describes information elements for the PIN Configuration Service Continuity Update request that is sent from the PEMC to the PIN Server.\nTable 8.9.3.6-1: PIN Configuration Service Continuity Update request\nInformation element\nStatus\nDescription\nRequestor identifier\nM\nRequestor identifier.\nSecurity credentials\nM\nSecurity credentials of the requestor.\nPIN identifier\nM\nIdentifier of the PIN\nPINE identifier\nM\nIdentifier of the PINE\nSource PEGC identifier\nM\nIdentifier of the source PEGC\nTarget PEGC identifier\nM\nIdentifier of the target PEGC\nApplication client identifier\nM\nIdentifier of the application client.\nApplication server identifier\nM\nIdentifier of the application server.\nApplication session identifier\nM\nIdentifier of the application session.\nApplication session descriptor\nO\nDescriptor of application traffic flows (e.g., IP 4 tuple)",
      "chunk_type": "general",
      "cross_references": [
        "table_8.9.3.6-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.9.3.7",
      "section_id": "8.9.3.7",
      "section_title": "PIN Configuration Service Continuity Update response",
      "content": "Table 8.9.3.7-1 describes information elements for the PIN Configuration Service Continuity Update response.\nTable 8.9.3.7-1: PIN Configuration Service Continuity Update response\nInformation element\nStatus\nDescription\nSuccessful response (see NOTE)\nO\nIndicates that the request was successful.\n> Service continuity policy information\nO\nInformation about service continuity policy of the PINE.\nFailure response (see NOTE)\nO\nIndicates that the request failed.\n> Cause\nO\nIndicates the cause of the request failure.\nNOTE:\tOnly one of the IE must be included in the response.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.9.3.7-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.9.3.8",
      "section_id": "8.9.3.8",
      "section_title": "PIN Management PEGC discovery request",
      "content": "Table 8.9.3.8-1 describes information elements for the PIN Management PEGC discovery request that is sent from the PEMC to the PINE.\nTable 8.9.3.8-1: PIN Management PEGC discovery request\nInformation element\nStatus\nDescription\nRequestor identifier\nM\nRequestor identifier\nSecurity credentials\nM\nSecurity credentials of the requestor\nPIN identifier\nM\nIdentifier of the PIN\nPINE identifier\nM\nIdentifier of the PINE\nList of PEGC information\nM\nThe information of PEGC(s) available in the PIN per the PEGC List of clause 8.2.2.2.",
      "chunk_type": "general",
      "cross_references": [
        "clause_8.2.2.2",
        "table_8.9.3.8-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.9.3.9",
      "section_id": "8.9.3.9",
      "section_title": "PIN Management PEGC discovery response",
      "content": "Table 8.9.3.9-1 describes information elements for the PIN Management PEGC discovery response.\nTable 8.9.3.3-1: PIN Management PEGC discovery response\nInformation element\nStatus\nDescription\nSuccessful response (see NOTE)\nO\nIndicates that the request was successful.\n> List of PEGC identifiers\nO\nList of PEGC identifiers available at the PINE\nFailure response (see NOTE)\nO\nIndicates that the request failed.\n> Cause\nO\nIndicates the cause of the request failure.\nNOTE:\tOnly one of the IE must be included in the response.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.9.3.9-1",
        "table_8.9.3.3-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.9.3.10",
      "section_id": "8.9.3.10",
      "section_title": "PIN service continuity subscribe request",
      "content": "Table 8.9.3.10-1: PIN service continuity subscribe request\nInformation element\nStatus\nDescription\nApplication server ID\nM\nUnique identifier of the application server.\nSecurity credentials\nM\nSecurity credentials resulting from a successful authorization for the PIN service.\nPIN ID\nM\nThe identifier of PIN.\nSubscribed event\nM\nIdentifies event type for which the subscriber is notified.\nEvent types:\n- Service Continuity\nNotification Target Address\nM\nThe Notification target address (e.g., URL) where the notifications destined for the application server should be sent.\nProposed expiration time\nO\nProposed expiration time for the subscription",
      "chunk_type": "general",
      "cross_references": [
        "table_8.9.3.10-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.9.3.11",
      "section_id": "8.9.3.11",
      "section_title": "PIN service continuity subscribe response",
      "content": "Table 8.9.3.11-1: PIN service continuity subscribe response\nInformation element\nStatus\nDescription\nSuccessful response\n(see NOTE)\nO\nIndicates that the subscription request was successful.\n> Subscription ID\nM\nSubscription identifier corresponding to the subscription.\n> Expiration time\nO\nIndicates the expiration time of the subscription. To maintain an active subscription, a subscription update is required before the expiration time.\nFailure response (see NOTE)\nO\nIndicates that the subscription request failed.\n> Cause\nO\nIndicates the cause of subscription request failure\nNOTE:\tOne IE is included in the response.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.9.3.11-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.9.3.12",
      "section_id": "8.9.3.12",
      "section_title": "PIN service continuity notify",
      "content": "Table 8.9.3.12-1 describes information elements in the PIN service continuity notification from the PIN server to application server.\nTable 8.7.3.12-1: PIN service continuity notification\nInformation element\nStatus\nDescription\nPIN subscription identifier\nM\nIdentifier of the subscription\nSubscribed event\nM\nIdentifies the event type as described in table 8.9.3.10-1 for which the notification is sent.\nPIN server identifier\nM\nIdentifier of the PIN server sending the notification.\nPIN identifier\nM\nIdentifier of the PIN.\nPINE identifier(s)\nM\nIdentifier(s) of PINE(s)\nPEGC identifier\nM\nIdentifier of the PEGC\nService identifier\nM\nIdentifier of a service\nApplication session identifier\nM\nIdentifier of the application session.\nApplication session descriptor\nO\nDescriptor of application traffic flows (e.g., IP 4 tuple) on the PINE and PEGC",
      "chunk_type": "general",
      "cross_references": [
        "table_8.9.3.12-1",
        "table_8.7.3.12-1",
        "table_8.9.3.10-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.9.3.13",
      "section_id": "8.9.3.13",
      "section_title": "PIN service continuity update request",
      "content": "Table 8.9.3.13-1: PIN service continuity update request\nInformation element\nStatus\nDescription\nSubscription ID\nM\nSubscription identifier corresponding to the subscription.\nSecurity credentials\nM\nSecurity credentials resulting from a successful authorization for the PIN service.\nPIN ID\nO\nPIN identifier\nSubscribed event\nO\nIdentifies the event type as described in table 8.9.3.10-1 for which the subscriber is notified.\nNotification Target Address\nO\nThe Notification target address (e.g., URL) where the notifications destined for the application server should be sent.\nProposed expiration time\nO\nProposed expiration time for the subscription",
      "chunk_type": "general",
      "cross_references": [
        "table_8.9.3.13-1",
        "table_8.9.3.10-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.9.3.14",
      "section_id": "8.9.3.14",
      "section_title": "PIN service continuity update response",
      "content": "Table 8.9.3.14-1: PIN service continuity update response\nInformation element\nStatus\nDescription\nSuccessful response (see NOTE)\nO\nIndicates that the subscription update request was successful.\n> Expiration time\nO\nIndicates the expiration time of the subscription. To maintain an active subscription, a subscription update is required before the expiration time.\nFailure response (see NOTE)\nO\nIndicates that the subscription update request failed.\n> Cause\nM\nIndicates the cause of subscription update request failure\nNOTE:\tOne IE is included in the response.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.9.3.14-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.9.3.15",
      "section_id": "8.9.3.15",
      "section_title": "PIN service continuity unsubscribe request",
      "content": "Table 8.9.3.15-1: PIN service continuity unsubscribe request\nInformation element\nStatus\nDescription\nSubscription ID\nM\nSubscription identifier corresponding to the subscription.\nSecurity credentials\nM\nSecurity credentials resulting from a successful authorization for the PIN service.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.9.3.15-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.9.3.16",
      "section_id": "8.9.3.16",
      "section_title": "PIN service continuity unsubscribe response",
      "content": "Table 8.7.3.16-1: PIN service continuity unsubscribe response\nInformation element\nStatus\nDescription\nSuccessful response (see NOTE)\nO\nIndicates that the unsubscribe request was successful.\nFailure response (see NOTE)\nO\nIndicates that the unsubscribe request failed.\n> Cause\nM\nIndicates the cause of unsubscribe request failure\nNOTE:\tOne IE is included in the response.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.7.3.16-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.9.4.1",
      "section_id": "8.9.4.1",
      "section_title": "General",
      "content": "Table 8.9.4.1-1 illustrates the API for AS service continuity subscription.\nTable 8.9.4.1-1: Ppinserver_ASServiceContinuitySubscription API\nAPI Name\nAPI Operations\nOperation\nSemantics\nConsumer(s)\nPpinserver_ASServiceContinuity\nSubscribe\nSubscribe/Notify\nAS\nNotify\nUpdate\nUnsubscribe",
      "chunk_type": "definition",
      "cross_references": [
        "table_8.9.4.1-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.9.4.2",
      "section_id": "8.9.4.2",
      "section_title": "Ppinserver_ ASServiceContinuity_Subscribe operation",
      "content": "API operation name: Ppinserver_ASServiceContinuity_Subscribe\nDescription: The consumer subscribes for service continuity information.\nInputs: See clause 8.9.3.10.\nOutputs: See clause 8.9.3.11.\nSee clause 8.9.2.1.6.2.1 for details of usage of this operation.",
      "chunk_type": "general",
      "cross_references": [
        "clause_8.9.3.10",
        "clause_8.9.3.11",
        "clause_8.9.2.1.6.2.1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.9.4.3",
      "section_id": "8.9.4.3",
      "section_title": "Ppinserver_ ASServiceContinuity_Notify operation",
      "content": "API operation name: Ppinserver_ASServiceContinuity_Notify\nDescription: The consumer is notified with service continuity information.\nInputs: See clause 8.9.3.12.\nOutputs: None.\nSee clause 8.9.2.1.6.2.2 for details of usage of this operation.",
      "chunk_type": "general",
      "cross_references": [
        "clause_8.9.3.12",
        "clause_8.9.2.1.6.2.2"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.9.4.4",
      "section_id": "8.9.4.4",
      "section_title": "Ppinserver_ ASServiceContinuity_ Update operation",
      "content": "API operation name: Ppinserver_ASServiceContinuity_Update\nDescription: The consumer updates an existing subscription for service continuity information.\nInputs: See clause 8.9.3.13.\nOutputs: See clause 8.9.3.14.\nSee clause 8.9.2.1.6.2.3 for details of usage of this operation.",
      "chunk_type": "general",
      "cross_references": [
        "clause_8.9.3.13",
        "clause_8.9.3.14",
        "clause_8.9.2.1.6.2.3"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.9.4.5",
      "section_id": "8.9.4.5",
      "section_title": "Ppinserver_ ASServiceContinuity_ Unsubscribe operation",
      "content": "API operation name: Ppinserver_ASServiceContinuity_Unsubscribe\nDescription: The consumer cancels an existing subscription for service continuity information.\nInputs: See clause 8.9.3.15.\nOutputs: See clause 8.9.3.16.\nSee clause 8.9.2.1.6.2.4 for details of usage of this operation.",
      "chunk_type": "general",
      "cross_references": [
        "clause_8.9.3.15",
        "clause_8.9.3.16",
        "clause_8.9.2.1.6.2.4"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.10.1",
      "section_id": "8.10.1",
      "section_title": "General",
      "content": "The PIN authorization procedure is used by a PINE, PEGC or PEMC to acquire security information needed to perform procedures with other functional entities (e.g., PIN Server, PEMC, PEGC) of the PIN. The security information is used by a PINE, PEGC or PEMC (e.g., a requestor) when performing procedures of clause 8 that require security credentials for request authorization. A PINE, PEGC or PEMC performs the PIN authorization procedure with the PIN server.\nNOTE:\tHow security credentials are provisioned on the PIN server is implementation dependent.\nFor deployments where a PIN server has CAPIF core function capabilities, and a PINE, PEGC, PEMC or AS have CAPIF API invoker capabilities, as defined in 3GPP TS 23.222 [7], security information may be obtained via CAPIF mechanisms as specified in 3GPP TS 33.122 [8].",
      "chunk_type": "definition",
      "cross_references": [
        "clause_8",
        "ts_23.222",
        "ts_33.122"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.10.2.1",
      "section_id": "8.10.2.1",
      "section_title": "General",
      "content": "PIN authorization procedure is either performed directly with the PIN server or indirectly via the PEGC for PINE(s) that require support of the PEGC to access the PIN server; the PEGC can deliver the PIN authorization request of the PINE to the PIN server when needed.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.10.2.2",
      "section_id": "8.10.2.2",
      "section_title": "PIN authorization with PIN server",
      "content": "Figure 8.10.2.2-1 illustrates PIN authorization procedure based on request/response model.\nPre-conditions:\n1.\tThe PINE/PEGC/PEMC has been pre-configured or has discovered the address (e.g., IP address, FQDN, URI) of the PIN server;\n2.\tThe PINE/PEGC/PEMC has been pre-configured with the PIN identifier;\n3.\tThe PIN server has been configured with the PIN profile;\n4.\tThe requestor has been authenticated.\nNOTE:\tIn the current release, requestor authentication relies on pre-provisioned information and is implementation dependent.\nFigure 8.10.2.2-1: PIN authorization with PIN server\n1.\tThe PINE sends a PIN authorization request to the PIN server. The request includes the PIN identifier, and the requestor identifiers, name, description, and address.\n2.\tUpon receiving the request, the PIN server validates if the requestor is allowed to access the requested PIN using the information provided in the request and the PIN configuration information from the PIN profile.\n3.\tThe PIN server sends a PIN authorization response to the requestor. If the PIN server successfully determines that the requestor is allowed to access the PIN, the PIN server includes security information for the requestor to use within the PIN. If the PIN server fails to authorize the requestor, the PIN server indicates failure in the response and includes a failure reason.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.10.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.10.3.1",
      "section_id": "8.10.3.1",
      "section_title": "General",
      "content": "The following information flows are specified for PIN authorization:\n-\tPIN authorization request and response;",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.542_8.10.3.2",
      "section_id": "8.10.3.2",
      "section_title": "PIN authorization request",
      "content": "Table 8.10.3.2-1 describes information elements in the PIN authorization request sent from the PINE or AS to the PIN server.\nTable 8.10.3.2-1: PIN authorization request\nInformation element\nStatus\nDescription\nRequestor identifiers\nM\nThe identifiers of the requestor (i.e., GPSI of the PINE, and PINE identifier or AS identifier).\nSee NOTE.\nPIN identifier\nM\nIdentifier of the PIN.\nRequestor IP Address\nO\nThe IP address of PINE or AS.\nNOTE:\tIf the PINE registration is accepted by PIN server, the PIN Server may use the PIN client ID provided in the PINE registration for authorization.\nNOTE:\tThe AS is pre-configured with the security credentials.",
      "chunk_type": "general",
      "cross_references": [
        "table_8.10.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.542_8.10.3.3",
      "section_id": "8.10.3.3",
      "section_title": "PIN authorization response",
      "content": "Table 8.10.3.3-1 describes information elements in the PIN authorization response sent to the PINE.\nTable 8.10.3.3-1: PIN authorization response\nInformation element\nStatus\nDescription\nSuccessful response\nO\n(see NOTE)\nIndicates that the PIN authorization request was successful.\n> Security information\nM\nThe security information to be used by the requestor in PIN procedures.\nFailure response\nO\n(see NOTE)\nIndicates that the PIN authorization request failed.\n> Cause\nM\nProvides the cause for PIN authorization request failure.\nNOTE:\tAt least one of the IE shall be present.\nAnnex A (Informative):Authorization\nA.1\tGeneral Principles\nThis clause defines the general principles used for defining the PIN authorization procedure:\n-\tthe solution can be based on HTTPS and focus on protection of reference points;\n-\tsecurity information can be pre-provisioned on the PINE/PEMC/PEGC/PIN Server/AS for authentication and authorization; pre-provisioning of security information is up to implementation;\n-\tsecurity information format can be defined for interoperability between PINE/PEMC/PEGC/PIN Server/AS;\n-\tthe PIN server can be authorized to generate and distribute the security information.\nAnnex B (informative):Change history\nChange history\nDate\nMeeting\nTDoc\nCR\nRev\nCat\nSubject/Comment\nNew version\n2023-01\nSA6#52bis-e\nTS skeleton (version 0.0.0) approved in S6-230388.\n0.0.0\n2023-01\nSA6#52bis-e\nImplementation of the following pCRs approved by SA6:\nS6-230081, S6-230082, S6-230083, S6-230118, S6-230121, S6-230124, S6-230126, S6-230184, S6-230185, S6-230300, S6-230369, S6-230370, S6-230381, S6-230384, S6-230386, S6-230387, S6-230388, S6-230487, S6-230488, S6-230489, S6-230490, S6-230491, S6-230492,\n0.1.0\n2023-02\nSA6#53\nImplementation of the following pCRs approved by SA6:\nS6-230554, S6-230577, S6-230648, S6-230896, S6-230900, S6-230901, S6-230902, S6-230904, S6-230905, S6-230906, S6-230940, S6-230941, S6-230942, S6-230948, S6-230949, S6-230950, S6-230952, S6-231017, S6-231057, S6-231083\n0.2.0\n2023-04\nSA6#54e\nImplementation of the following pCRs approved by SA6:\nS6-231154, S6-231156, S6-231157, S6-231179, S6-231182, S6-231188, S6-231206, S6-231207, S6-231233, S6-231235, S6-231237, S6-231433, S6-231438, S6-231439, S6-231440, S6-231441, S6-231442, S6-231443, S6-231444, S6-231567,\nS6-231568, S6-231569, S6-231594\n0.3.0\n2023-05\nSA6#55\nImplementation of the following pCRs approved by SA6:\nS6-231745, S6-231746, S6-231748, S6-231749, S6-231861, S6-231909, S6-231912, S6-231913, S6-231914, S6-231927, S6-232054, S6-232055, S6-232056, S6-232057, S6-232058, S6-232059, S6-232060, S6-232061, S6-232062\n0.4.0\n2023-06\nSA#100\nSP-230688\nSubmitted to SA#100 for information and approval\n1.0.0\n2023-06\nSA#100\nSP-230688\nMCC Editorial update for publication after TSG SA approval (SA#100)\n18.0.0\n2023-09\nSA#101\nSP-231008\n0001\n1\nF\nAdd missing information elements to information flow of PINE join into PIN request/response\n18.1.0\n2023-09\nSA#101\nSP-231008\n0002\n2\nF\nAlignment of information flow in PIN service registration\n18.1.0\n2023-09\nSA#101\nSP-231008\n0003\n2\nF\nClarification of whether delete or deactivate PIN when expiration time comes\n18.1.0\n2023-09\nSA#101\nSP-231008\n0004\n1\nF\nCorrection of heartbeat\n18.1.0\n2023-09\nSA#101\nSP-231008\n0007\n2\nF\nCorrection of PIN modification due to PEGC unavailability\n18.1.0\n2023-09\nSA#101\nSP-231008\n0008\n1\nF\nCorrection of PIN service registration\n18.1.0\n2023-09\nSA#101\nSP-231008\n0009\n2\nF\nCorrection of PIN status service\n18.1.0\n2023-09\nSA#101\nSP-231008\n0010\n1\nF\nCorrection of PINE remove request\n18.1.0\n2023-09\nSA#101\nSP-231008\n0011\n1\nF\nCorrection of PINE update for port number\n18.1.0\n2023-09\nSA#101\nSP-231008\n0012\n1\nF\nCorrection of PINE update registration to PIN server\n18.1.0\n2023-09\nSA#101\nSP-231008\n0013\n1\nF\nPEGC authorization failure and select proper route for PINE join/leave request\n18.1.0\n2023-09\nSA#101\nSP-231008\n0014\n1\nF\nPEMC represents the PINE to register\n18.1.0\n2023-09\nSA#101\nSP-231008\n0015\n1\nF\nUse PIN status notify to deliver dynamic PIN profile\n18.1.0\n2023-09\nSA#101\nSP-231008\n0016\nF\nEditorial corrections\n18.1.0\n2023-09\nSA#101\nSP-231008\n0017\nF\nGeneral corrections to clause 8.7.3\n18.1.0\n2023-09\nSA#101\nSP-231008\n0018\n1\nF\nPIN Service Switch subscription\n18.1.0\n2023-09\nSA#101\nSP-231008\n0020\n1\nF\nPIN Service Continuity subscription\n18.1.0\n2023-12\nSA#102\nSP-231563\n0019\n3\nF\nResolve issues related to PIN modification after local PEMC failure\n18.2.0\n2023-12\nSA#102\nSP-231563\n0021\n2\nF\nClarification of PIN profile and dynamic PIN profile\n18.2.0\n2023-12\nSA#102\nSP-231563\n0022\n1\nF\nClarification of PIN profile generation during PIN create\n18.2.0\n2023-12\nSA#102\nSP-231563\n0023\n1\nF\nCorrection of information flow of PIN status notify\n18.2.0\n2023-12\nSA#102\nSP-231563\n0024\n1\nF\nCorrection of PIN communication\n18.2.0\n2023-12\nSA#102\nSP-231563\n0026\n1\nF\nCorrection of PINE registration indirectly to PIN server\n18.2.0\n2023-12\nSA#102\nSP-231563\n0028\n1\nF\nCorrection of service continuity\n18.2.0\n2023-12\nSA#102\nSP-231563\n0029\n2\nF\nCorrection of Service Switch\n18.2.0\n2023-12\nSA#102\nSP-231563\n0030\n1\nF\nGet the PINE service\n18.2.0\n2023-12\nSA#102\nSP-231563\n0031\n3\nF\nPIN-Notify-Correction\n18.2.0\n2023-12\nSA#102\nSP-231563\n0032\n2\nF\nPIN-Removal-Behaviour\n18.2.0\n2023-12\nSA#102\nSP-231563\n0036\n1\nF\nClarification of PEMC represents multiple PINEs or PEGCs to register\n18.2.0\n2023-12\nSA#102\nSP-231563\n0037\n1\nF\nClarification on PIN management operations by secondary PEMC\n18.2.0\n2023-12\nSA#102\nSP-231563\n0038\nF\nCorrections to scope and introduction\n18.2.0\n2023-12\nSA#102\nSP-231563\n0039\n1\nF\nCorrections to general architecture\n18.2.0\n2023-12\nSA#102\nSP-231563\n0040\nF\nCorrections to terminology\n18.2.0\n2023-12\nSA#102\nSP-231563\n0040\nF\nCorrections to PIN-9\n18.2.0\n2023-12\nSA#102\nSP-231563\n0042\n1\nF\nCorrections to PIN-8\n18.2.0\n2023-12\nSA#102\nSP-231563\n0043\nF\nCorrections to cardinality from UE perspective\n18.2.0\n2023-12\nSA#102\nSP-231563\n0044\n1\nF\nCorrections to Identities\n18.2.0\n2023-12\nSA#102\nSP-231563\n0045\nF\nCorrections on use of “Application Layer” term\n18.2.0\n2023-12\nSA#102\nSP-231563\n0046\n1\nF\nPINE Communication via 5GS+PEGC\n18.2.0\n2023-12\nSA#102\nSP-231563\n0047\n2\nF\nPINAPP security clarifications\n18.2.0\n2024-03\nSA#103\nSP-240308\n0048\n1\nF\nResolving EN on PEGC/PEMC authorization\n18.3.0\n2024-03\nSA#103\nSP-240308\n0049\n1\nF\nResolving EN on CAPIF usage\n18.3.0\n2024-03\nSA#103\nSP-240308\n0050\n1\nF\nResolving EN on enhanced PIN security aspects\n18.3.0\n2024-03\nSA#103\nSP-240308\n0051\n1\nF\nResolving EN on Annex A.1\n18.3.0\n2024-03\nSA#103\nSP-240308\n0052\n1\nF\nCorrection of authorization\n18.3.0\n2024-03\nSA#103\nSP-240308\n0053\n1\nF\nCorrection of Additional PEMCs\n18.3.0\n2024-06\nSA#104\nSP-240761\n0054\n1\nF\nCorrection of credentials provision in PINAPP\n18.4.0\n2024-06\nSA#104\nSP-240761\n0056\n2\nF\nNotifying the PIN elements about backup PEGC\n18.4.0\n2024-06\nSA#104\nSP-240761\n0057\nF\nCorrection of PINE management\n18.4.0\n2024-06\nSA#104\nSP-240761\n0058\n2\nF\nCorrection of Service Continuity\n18.4.0\n2024-06\nSA#104\nSP-240761\n0059\nF\nEN resolutions\n18.4.0\n2024-12\nSA#106\nSP-241709\n0062\nF\nUpdate for clause 3.1 & 8.5.8\n18.5.0\n2024-12\nSA#106\nSP-241709\n0063\nF\nUpdate for clause 8.2.2.3 & 8.5.4.2.1\n18.5.0",
      "chunk_type": "general",
      "cross_references": [
        "clause_8.7.3",
        "clause_3.1",
        "clause_8.2.2.3",
        "table_8.10.3.3-1",
        "ts_18.3"
      ]
    }
  ]
}