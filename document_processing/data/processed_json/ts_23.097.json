{
  "metadata": {
    "specification_id": "ts_23.097",
    "version": "18.0.0",
    "title": "3GPP TS 23.097",
    "file_path": "/content/drive/MyDrive/RAG_thesis/data/23_series/23097-i00/23097-i00.docx"
  },
  "export_info": {
    "export_date": "2025-07-26T09:34:31.624897",
    "total_chunks": 86
  },
  "chunks": [
    {
      "chunk_id": "ts_23.097_1",
      "section_id": "1",
      "section_title": "Scope",
      "content": "The present document specifies the stage 2 description of the Multiple Subscriber Profile (MSP) Supplementary Service Phase 2. MSP Phase 2 is implemented using CAMEL Phase 3.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.097_2",
      "section_id": "2",
      "section_title": "References",
      "content": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non‑specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies.  In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \" 3G Vocabulary\".\n[2]\t3GPP TS 22.030: \" Man Machine Interface (MMI) of the Mobile Station (MS)\".\n[3]\t3GPP TS 22.097: \" Multiple Subscriber Profile (MSP) Service Description – Stage 1\".\n[4]\t3GPP TS 23.008: \"Organisation of subscriber data\".\n[5]\t3GPP TS 23.015: \"Technical realization of Operator Determined Barring (ODB)\".\n[6]\t3GPP TS 23.018: \"Basic Call Handling – Technical Realization\".\n[7]\t3GPP TS 23.067: \"enhanced Multi-Level Precedence and Pre-emption service (eMLPP) – Stage 2\".\n[8]\t3GPP TS 23.072: \"Call Deflection (CD); Stage 2\".\n[9]\t3GPP TS 23.078: \"Customised Applications for Mobile network Enhanced Logic (CAMEL) – Phase 3; Stage 2\".\n[10]\t3GPP TS 23.079: \"Support of Optimal Routeing (SOR); Technical Realisation\".\n[11]\t3GPP TS 23.081: \"Line identification supplementary services – Stage 2\".\n[12]\t3GPP TS 23.082: \"Call Forwarding (CF) supplementary services – Stage 2\".\n[13]\t3GPP TS 23.083: \"Call Waiting (CW) and Call Hold (HOLD) supplementary services – Stage 2\".\n[14]\t3GPP TS 23.084: \"Multi Party (MPTY) supplementary services – Stage 2\".\n[15]\t3GPP TS 23.085: \"Closed User Group (CUG) supplementary services – Stage 2\".\n[16]\t3GPP TS 23.086: \"Advice of Charge (AoC) supplementary services – Stage 2\".\n[17]\t3GPP TS 23.087: \"User-to-User (UUS) Supplementary Service; Stage 2\".\n[18]\t3GPP TS 23.088: \"Call Barring (CB) supplementary services – Stage 2\".\n[19]\t3GPP TS 23.090: \"Unstructured Supplementary Service Data (USSD) – Stage 2\".\n[20]\t3GPP TS 23.091: \"Explicit Call Transfer (ECT) supplementary service – Stage 2\".\n[21]\t3GPP TS 23.093: \"Technical Realization of Completion of Calls to Busy Subscriber (CCBS); Stage 2\".\n[22]\t3GPP TS 24.086: \"Advice of Charge (AoC) supplementary services – Stage 3\".",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905",
        "ts_22.030",
        "ts_22.097",
        "ts_23.008",
        "ts_23.015",
        "ts_23.018",
        "ts_23.067",
        "ts_23.072",
        "ts_23.078",
        "ts_23.079",
        "ts_23.081",
        "ts_23.082",
        "ts_23.083",
        "ts_23.084",
        "ts_23.085",
        "ts_23.086",
        "ts_23.087",
        "ts_23.088",
        "ts_23.090",
        "ts_23.091",
        "ts_23.093",
        "ts_24.086"
      ]
    },
    {
      "chunk_id": "ts_23.097_3.1",
      "section_id": "3.1",
      "section_title": "Definitions",
      "content": "For the purpose of this specification, the following terms and definitions apply:\nDefault Profile: profile used when the MSP subscriber roams to a non-supporting network.\nMSP Subscriber: the subscriber provisioned with the MSP service\nProfile Identity: numerical identity (between 1 and 4) of the profile\nProfile Status: specifies if the profile is the registered profile and/or the default profile\nRegistered Profile: profile used for all MO calls and short messages if a profile has not been explicitly selected",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.097_3.2",
      "section_id": "3.2",
      "section_title": "Abbreviations",
      "content": "The abbreviations used in this specification are listed in 3G TR21.905.\nFor the purpose of this specification, the following abbreviations apply:\nCD\tThe Call Deflection supplementary service\nMSP\tThe Multiple Subscriber Profile supplementary service\nUUS\tThe User-to-User Signalling supplementary service\nSII2\tThe Service Interaction Indicators Two parameter (see 3G TS 23.078)",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.078"
      ]
    },
    {
      "chunk_id": "ts_23.097_4",
      "section_id": "4",
      "section_title": "Features needed to support MSP Phase 2",
      "content": "CAMEL Phase 3 is a pre-requisite for MSP Phase 2.\nThe following CAMEL Phase 3 features are used for MSP Phase 2:\n-\tSII2;\n-\tMO SMS interaction;\n-\tT-BCSM in the VMSC;\n-\tSS-CSI Invocation Notification for CCBS;\n-\tAny Time Modification;\n-\tCUG Handling.\nThe following CAMEL Phase 2 features are used for MSP Phase 2:\n-\tNetwork Indication of Alerting pattern;\n-\tEvent detection points;\n-\tUSSD Interaction;\n-\tControl of Call Duration;\n-\tSS-CSI Invocation Notification for CD;\n-\tFurnish Charging Information.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.097_5.1",
      "section_id": "5.1",
      "section_title": "Data stored in the HLR",
      "content": "The HLR contains all the common data (the data valid for all profiles) and some data specific to the default profile.\nThe data stored in the HLR are defined in 3G TS 23.008. The elements specifically used for MSP are:\n-\tlist of MSISDNs and associated Bearer Capabilities for each profile;\n-\tdefault profile (associated with the Basic MSISDN);\n-\tcapabilities of VLR (support of CAMEL Phase 2 and 3);\n-\tsupplementary services (per BSG) provisioned per subscriber (CW, CH, MPTY,…);\n-\tCall Barring Data (see clause 7.6.8: Call Barring);\n-\tODB Data (see clause 7.7.5: Operator Determined Barring);\n-\tHOLD Data (see clause 7.8.2: Call Hold);\n-\tECT Data (see clause 7.8.9: Explicit Call Transfer);\n-\tMPTY Data (see clause 7.8.5: Multi Party);\n-\tCCBS Data (see clause 7.8.10: Completion of Calls to Busy Subscriber);\n-\tCW Data (see clause 7.8.3: Call Waiting);\n-\tCLIR Data (see clause 7.8.1.2);\n-\tCAMEL data including the MSP service key, O-CSI, T-CSI, VT-CSI, UG-CSI, SS-CSI and Location information / Subscriber state Interrogation.",
      "chunk_type": "general",
      "cross_references": [
        "clause_7.6.8",
        "clause_7.7.5",
        "clause_7.8.2",
        "clause_7.8.9",
        "clause_7.8.5",
        "clause_7.8.10",
        "clause_7.8.3",
        "clause_7.8.1.2",
        "ts_23.008"
      ]
    },
    {
      "chunk_id": "ts_23.097_5.2",
      "section_id": "5.2",
      "section_title": "Data stored in the VLR",
      "content": "The data stored in a VLR are defined in 3G TS 23.008. MSP has no impact on the VLR.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.008"
      ]
    },
    {
      "chunk_id": "ts_23.097_6.1",
      "section_id": "6.1",
      "section_title": "OCB_flag",
      "content": "The OCB_flag shall be set in the HLR if Call Barrings are provided in the gsmSCF.\nIf the OCB_flag is set then:\n-\twhen the subscriber roams to a VLR which supports CAMEL Phase 2 or later, the HLR shall not send any outgoing call barring supplementary services data to the VLR;\n-\twhen the subscriber roams to a VLR which does not support CAMEL Phase 2 or later, the HLR shall send to the VLR outgoing call barring supplementary services data as stored in the HLR;\n-\tthe subscriber shall not be allowed to alter the Call Barring data in the HLR.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.097_6.2",
      "section_id": "6.2",
      "section_title": "ODB flags",
      "content": "The ODB flag for the relevant category shall be set in the HLR if ODB is provisioned in the gsmSCF for that category.\nIf the ODB flag is set for that category, then:\nwhen the subscriber roams to a VLR which supports CAMEL Phase 2 or later, the HLR shall not send any ODB data for that category to the VLR;\nwhen the subscriber roams to a VLR which does not support CAMEL Phase 2 or later, the HLR shall send to the VLR ODB data for that category as stored in the HLR.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.097_6.3",
      "section_id": "6.3",
      "section_title": "HOLD_flag",
      "content": "The HOLD_flag shall be set in the HLR if the subscriber data for the HOLD SS are controlled by the gsmSCF.\nIf the HOLD_flag is set, then:\n-\twhen the subscriber roams to a VLR which supports CAMEL Phase 3 or later, the HLR shall send to the VLR the activation state of the HOLD SS as Active and Operative;\n-\twhen the subscriber roams to a VLR which does not support CAMEL Phase 3 or later, the HLR shall send to the VLR the activation state of the HOLD SS as stored in the HLR.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.097_6.4",
      "section_id": "6.4",
      "section_title": "CW_flag",
      "content": "The CW_flag shall be set in the HLR if the subscriber data for the CW SS are controlled by the gsmSCF.\nIf the CW_flag is set, then:\n-\twhen the subscriber roams to a VLR which supports CAMEL Phase 3 or later, the HLR shall send to the VLR the activation state of the CW SS as Active and Operative;\n-\twhen the subscriber roams to a VLR which does not support CAMEL Phase 3 or later, the HLR shall send to the VLR the activation state of the CW SS as stored in the HLR;\n-\tthe subscriber shall not be allowed to alter the CW data in the HLR.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.097_6.5",
      "section_id": "6.5",
      "section_title": "MPTY_flag",
      "content": "The MPTY_flag shall be set in the HLR if the subscriber data for the MPTY SS are controlled by the gsmSCF.\nIf the MPTY_flag is set, then:\n-\twhen the subscriber roams to a VLR which supports CAMEL Phase 3 or later, the HLR shall send to the VLR the activation state of the MPTY SS as Active and Operative;\n-\twhen the subscriber roams to a VLR which does not support CAMEL Phase 3 or later, the HLR shall send to the VLR the activation state of the MPTY SS as stored in the HLR.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.097_6.6",
      "section_id": "6.6",
      "section_title": "ECT_flag",
      "content": "The ECT_flag shall be set in the HLR if the subscriber data for the ECT SS are controlled by the gsmSCF.\nIf the ECT_flag is set, then:\n-\twhen the subscriber roams to a VLR which supports CAMEL Phase 3 or later, the HLR shall send to the VLR the activation state of the ECT SS as Active and Operative;\n-\twhen the subscriber roams to a VLR which does not support CAMEL Phase 3 or later, the HLR shall send to the VLR the activation state of the ECT SS as stored in the HLR.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.097_6.7",
      "section_id": "6.7",
      "section_title": "CCBS_flag",
      "content": "The CCBS_flag shall be set in the HLR if the subscriber data for the CCBS SS are controlled by the gsmSCF.\nIf the CCBS_flag is set, then:\n-\twhen the subscriber roams to a VLR which supports CAMEL Phase 3 or later, the HLR shall send to the VLR the activation state of the CCBS SS as Active and Operative;\n-\twhen the subscriber roams to a VLR which does not support CAMEL Phase 3 or later, the HLR shall send to the VLR the activation state of the CCBS SS as stored in the HLR;\n-\tthe subscriber shall not be allowed to alter the CCBS data in the HLR.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.097_6.8",
      "section_id": "6.8",
      "section_title": "CLIR_flag",
      "content": "The CLIR_flag shall be set in the HLR if the subscriber data for the CLIR SS are controlled by the gsmSCF.\nIf the CLIR_flag is set, then:\n-\twhen the subscriber roams to a VLR which supports CAMEL Phase 3 or later, the HLR shall send to the VLR the activation state of the CLIR SS as Active and Operative, and the presentation mode as \"temporary (presentation allowed)\";\n-\twhen the subscriber roams to a VLR which does not support CAMEL Phase 3 or later, the HLRshall send to the VLR the activation state and presentation mode for the CLIR SS as stored in the HLR;\n-\tthe subscriber shall not be allowed to alter the CLIR data in the HLR.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.097_7.1",
      "section_id": "7.1",
      "section_title": "Overview",
      "content": "The MSP service allows the served subscriber to have several profiles, to distinguish between different telecommunication service requirements (e.g. business and home). This is described in 3G TS 22.097. Subscriber data specific to MSP is stored in the HLR and the gsmSCF.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_22.097"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.2",
      "section_id": "7.2",
      "section_title": "Registration of a Profile",
      "content": "Registration of a profile allows the subscriber to register a provisioned profile to be used for mobile originated calls and activities. The request to register a profile shall contain the MSP code and the profile identity and will be sent to the gsmSCF using USSD, see 3G TS 23.078 and 3G TS 23.090. The registered profile is stored in the gsmSCF. In response to a successful registration request, the gsmSCF shall return a positive acknowledgement, including the identity of the registered profile, using USSD.\nThe registration process in the gsmSCF is shown in figure 2. The information flow for successfully registering a profile is shown in figure 1.\nFigure 1: Registration Process: information flow\nFigure 2: Process Register_MSP_gsmSCF",
      "chunk_type": "requirement",
      "cross_references": [
        "figure_2",
        "figure_1",
        "ts_23.078",
        "ts_23.090"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.3",
      "section_id": "7.3",
      "section_title": "Interrogation",
      "content": "The MS can interrogate MSP, using USSD, to identify which profiles are provisioned and which of the provisioned profiles is the currently registered profile. The interrogate MSP operation shall contain the MSP code and will be sent to the gsmSCF using USSD. In response to a successful interrogation request, the gsmSCF shall return the profile identity and profile status for each provisioned profile. If the MSP service is not provisioned then the gsmSCF shall return the service status indicating not provisioned.\nThe interrogation process is shown in figure 4. The information flow for interrogation of MSP is shown in figure 3.\nFigure 3: Interrogating MSP: information flow\nFigure 4: Process Interrogate_MSP_gsmSCF",
      "chunk_type": "requirement",
      "cross_references": [
        "figure_4",
        "figure_3"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.4",
      "section_id": "7.4",
      "section_title": "Call Handling for an MSP subscriber",
      "content": "The procedure for handling MSP calls can be divided into two areas: mobile originating call handling and mobile terminating call handling.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.097_7.4.1",
      "section_id": "7.4.1",
      "section_title": "Mobile Originating (MO) call handling",
      "content": "The served subscriber may use the registered profile or explicitly select a provisioned profile to set up an MO call. If the profile is explicitly selected, the selection information will be included in the called party BCD number and transported to the gsmSCF. If the gsmSCF recognises that a profile has not been explicitly selected (there is no profile selection information  in the called party BCD number) then the registered profile is used. The MMI for explicitly selecting a profile is defined in 3G TS 22.030.\nThe information flow for an MO call is shown in figure 28.\nWhen the gsmSCF receives an Initial_DP message containing MO call parameters from the gsmSSF, the process MO_MSP_Call_gsmSCF will be invoked, see figure 5. All other call handling is described in 3G TS 23.018 and 3G TS 23.078.",
      "chunk_type": "general",
      "cross_references": [
        "figure_28",
        "figure_5",
        "ts_22.030",
        "ts_23.018",
        "ts_23.078"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.4.2",
      "section_id": "7.4.2",
      "section_title": "Mobile Terminating (MT) call handling",
      "content": "The profile used for an MT call to the served subscriber is determined by the called MSISDN.\nThe information flow for an MT call is shown in figure 29.\nWhen the gsmSCF receives an Initial_DP message containing MT call parameters from the gsmSSF, the process MT_MSP_Call_gsmSCF will be invoked, see figure 8. All other call handling is described in 3G TS 23.018 and 3G TS 23.078.",
      "chunk_type": "general",
      "cross_references": [
        "figure_29",
        "figure_8",
        "ts_23.018",
        "ts_23.078"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.5.1.1",
      "section_id": "7.5.1.1",
      "section_title": "Process MO_MSP_Call_gsmSCF",
      "content": "Handles an MO call for an MSP subscriber. See figure 5.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_5"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.5.1.2",
      "section_id": "7.5.1.2",
      "section_title": "Procedure Set_Calling_Profile_gsmSCF",
      "content": "Sets the correct parameters for the calling profile. See figure 6.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_6"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.5.1.3",
      "section_id": "7.5.1.3",
      "section_title": "Procedure Send_FCI_gsmSCF",
      "content": "Sends a Furnish Charging Information message to the gsmSSF. See figure 7.\nFigure 5a: Process MO_MSP_Call_gsmSCF (sheet 1 of 4)\nFigure 5b: Process MO_MSP_Call_gsmSCF (sheet 2 of 4)\nFigure 5c: Process MO_MSP_Call_gsmSCF (sheet 3 of 4)\nFigure 5d: Process MO_MSP_Call_gsmSCF (sheet 4 of 4)\nFigure 6: Procedure Set_Calling_Profile_gsmSCF\nFigure 7: Procedure Send_FCI_gsmSCF",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_7",
        "figure_5",
        "figure_6"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.5.2.1",
      "section_id": "7.5.2.1",
      "section_title": "Process MT_MSP_Call_gsmSCF",
      "content": "Handles an MT call for an MSP subscriber. See figure 8.\nFigure 8a: Process MT_MSP_Call_gsmSCF (sheet 1 of 5)\nFigure 8b: Process MT_MSP_Call_gsmSCF (sheet 2 of 5)\nFigure 8c: Process MT_MSP_Call_gsmSCF (sheet 3 of 5)\nFigure 8d: Process MT_MSP_Call_gsmSCF (sheet 4 of 5)\nFigure 8e: Process MT_MSP_Call_gsmSCF (sheet 5 of 5)",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_8"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.5.3.1",
      "section_id": "7.5.3.1",
      "section_title": "Procedure Check_CLIR_gsmSCF",
      "content": "Checks whether the CLI Presentation Indicator shall be set to Presentation Restricted. See figure 9.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_9"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.5.3.2",
      "section_id": "7.5.3.2",
      "section_title": "Procedure Forwarded_MSP_Call_gsmSCF",
      "content": "Sets the parameters for a forwarded or deflected call. See figure 10.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_10"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.5.3.3",
      "section_id": "7.5.3.3",
      "section_title": "Procedure Check_CFU_gsmSCF",
      "content": "Applies CFU to the MT Call if Active and Operative for the Called profile. See figure 11.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_11"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.5.3.4",
      "section_id": "7.5.3.4",
      "section_title": "Procedure Check_Early_CF_gsmSCF",
      "content": "Checks whether any early Call Forwarding apply to the Called profile. See figure 12",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_12"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.5.3.5",
      "section_id": "7.5.3.5",
      "section_title": "Procedure Check_Late_CF_gsmSCF",
      "content": "Arms the detection points required for the provisioned late Call Forwardings on the Called profile. See figure 13.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_13"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.5.3.6",
      "section_id": "7.5.3.6",
      "section_title": "Procedure Check_CFNRy_gsmSCF",
      "content": "Applies CFNRy to the MT call if Active and Operative for the Called profile. See figure 14.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_14"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.5.3.7",
      "section_id": "7.5.3.7",
      "section_title": "Procedure Check_CFB_gsmSCF",
      "content": "Applies CFB to the MT call if Active and Operative for the Called profile. See figure 15.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_15"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.5.3.8",
      "section_id": "7.5.3.8",
      "section_title": "Procedure Check_CFNRc_gsmSCF",
      "content": "Applies CFNRc to the MT call if Active and Operative for the Called profile. See figure 16.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_16"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.5.3.9",
      "section_id": "7.5.3.9",
      "section_title": "Procedure Check_CW_gsmSCF",
      "content": "Checks whether CW is allowed during the current call. See figure 17.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_17"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.5.3.10",
      "section_id": "7.5.3.10",
      "section_title": "Procedure Check_HOLD_gsmSCF",
      "content": "Checks whether a HOLD request shall be accepted or rejected during the ongoing call. See figure 18.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_18"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.5.3.11",
      "section_id": "7.5.3.11",
      "section_title": "Procedure Check_MPTY_gsmSCF",
      "content": "Checks whether an MPTY request shallbe accepted or rejected during the ongoing call. See figure 19.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_19"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.5.3.12",
      "section_id": "7.5.3.12",
      "section_title": "Procedure Check_ACM_gsmSCF",
      "content": "Ensures that ACMmax is not exceeded for the profile in use. See figure 20.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_20"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.5.3.13",
      "section_id": "7.5.3.13",
      "section_title": "Process AoC_MSP_gsmSCF",
      "content": "Applies AoC per profile. See figure 21.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_21"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.5.3.14",
      "section_id": "7.5.3.14",
      "section_title": "Procedure AoCI_gsmSCF",
      "content": "Applies AoCI per profile. See figure 22.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_22"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.5.3.15",
      "section_id": "7.5.3.15",
      "section_title": "Procedure AoCC_gsmSCF",
      "content": "Applies AoCC per profile. See figure 23.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_23"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.5.3.16",
      "section_id": "7.5.3.16",
      "section_title": "Procedure Outgoing_Barring_Check_gsmSCF",
      "content": "Checks the outgoing call barrings for an MSP subscriber. See figure 24.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_24"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.5.3.17",
      "section_id": "7.5.3.17",
      "section_title": "Procedure Incoming_Barring_Check_gsmSCF",
      "content": "Checks the incoming barrings for the Called profile. See figure 25.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_25"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.5.3.18",
      "section_id": "7.5.3.18",
      "section_title": "Procedure Check_ECT_gsmSCF",
      "content": "Checks whether an ECT request shall be accepted or rejected during the ongoing call. See figure 26.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_26"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.5.3.19",
      "section_id": "7.5.3.19",
      "section_title": "Procedure Check_CCBS_gsmSCF",
      "content": "Checks whether a CCBS request can be planted by/against the MSP subscriber. See figure 27.\nFigure 9: Procedure Check_CLIR_gsmSCF\nFigure 10: Procedure Forwarded_MSP_Call_gsmSCF\nFigure 11: Procedure Check_CFU_gsmSCF\nFigure 12: Procedure Check_Early_CF_gsmSCF\nFigure 13: Procedure Check_Late_CF_gsmSCF\nFigure 14: Procedure Check_CFNRy_gsmSCF\nFigure 15: Procedure Check_CFB_gsmSCF\nFigure 16: Procedure Check_CFNRc_gsmSCF\nFigure 17: Procedure Check_CW_gsmSCF\nFigure 18: Procedure Check_HOLD_gsmSCF\nFigure 19: Procedure Check_MPTY_gsmSCF\nFigure 20: Procedure Check_ACM_gsmSCF\nFigure 21: Process AoC_MSP_gsmSCF\nFigure 22: Procedure AoCI_gsmSCF\nFigure 23: Procedure AoCC_gsmSCF\nFigure 24: Procedure Outgoing_Barring_Check_gsmSCF\nFigure 25: Procedure Incoming_Barring_Check_gsmSCF\nFigure 26: Procedure Check_ECT_gsmSCF\nFigure 27: Procedure Check_CCBS_gsmSCF",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_27",
        "figure_9",
        "figure_10",
        "figure_11",
        "figure_12",
        "figure_13",
        "figure_14",
        "figure_15",
        "figure_16",
        "figure_17",
        "figure_18",
        "figure_19",
        "figure_20",
        "figure_21",
        "figure_22",
        "figure_23",
        "figure_24",
        "figure_25",
        "figure_26"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.5.4",
      "section_id": "7.5.4",
      "section_title": "Information flows",
      "content": "The information flow for a successful MO call by an MSP subscriber is shown in figure 28.\nThe information flow for a successful MT call to an MSP subscriber is shown in figure 29.\nFigure 28: Information flow for a successful MO call\nFigure 29: Information flow for a successful MT call to a profilethat has no Call Forwardings Active and Operative in the gsmSCF\nNOTE:\tFor information flows to a profile that has Call Forwarding services Active and Operative in the gsmSCF, see clause7.11.1: Call Forwarding.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_28",
        "figure_29"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.6",
      "section_id": "7.6",
      "section_title": "SMS handling",
      "content": "MSP Phase 2 does not apply to MT short messages. The MSP subscriber will receive MT short messages but no profile indication will be given.\nWhen the gsmSCF receives an Initial SMS Event message from the gsmSSF, the process MO_MSP_SMS_gsmSCF will be invoked, see figure 30.\nFigure 30a: Process MO_MSP_SMS_gsmSCF (sheet 1 of 2)\nFigure 30b: Process MO_MSP_SMS_gsmSCF (sheet 2 of 2)",
      "chunk_type": "general",
      "cross_references": [
        "figure_30"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.7",
      "section_id": "7.7",
      "section_title": "Call Independent SS handling",
      "content": "Supplementary Services provisioned per subscriber will be handled in the usual way.\nSupplementary Services provisioned per profile will be controlled using USSD, sent via the VLR and HLR to the gsmSCF.\nIf Call Barring is provisioned per profile, if the outgoing call barring data for the default profile is changed, the HLR shall be informed using Any Time Modification. On receipt of an Any Time Modification message from the gsmSCF for a subscriber with the OCB_flag set, the HLR will modify the stored Call Barring information for the default profile in accordance with the information in the Any Time Modification message.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.097_7.8.1.1",
      "section_id": "7.8.1.1",
      "section_title": "CLIP",
      "content": "No interaction.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.097_7.8.1.2",
      "section_id": "7.8.1.2",
      "section_title": "CLIR",
      "content": "CLIR can be provisioned per subscriber or per profile.\nIf CLIR is provisioned per subscriber and CLIR is active, it will be active for all profiles. Data for the CLIR Supplementary Service will be stored in the HLR, and if appropriate in the VLR, in the usual manner. CLIR will function as specified in 3G TS 23.081 and will not distinguish between MSP and non-MSP subscribers.\nIf CLIR is provisioned per profile then the CLIR_flag shall be set in the HLR (see clause 6.8: CLIR_flag) and the CLIR subscription information for the default profile shall be stored in the HLR in the usual manner. For an MO call, if the CLIR subscription information for the Calling profile indicates that the CLI shall be restricted, the gsmSCF shall set the Calling Party Presentation Indicator to Presentation Restricted in the SII2 parameter.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.8",
        "ts_23.081"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.8.1.3",
      "section_id": "7.8.1.3",
      "section_title": "COLP",
      "content": "No interaction.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.097_7.8.1.4",
      "section_id": "7.8.1.4",
      "section_title": "COLR",
      "content": "No interaction.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.097_7.8.2",
      "section_id": "7.8.2",
      "section_title": "Call Hold (HOLD)",
      "content": "Call Hold can be provisioned per subscriber or per profile.\nIf Call Hold is provisioned per subscriber and Call Hold is active, it will be active for all profiles. Data for the Call Hold Supplementary Service will be stored in the HLR, and if appropriate in the VLR, in the usual manner. Call Hold will function as specified in 3G TS 23.083 and will not distinguish between MSP and non-MSP subscribers.\nIf Call Hold is provisioned per profile then the HOLD_flag shall be set in the HLR (see clause 6.3: HOLD_flag). On receipt of an Initial_DP message for an MO or MT call, the gsmSCF will check the subscription information for the profile in use for that call. If HOLD is not active and operative, then the SII2 will be included in the Connect message with the HOLD Treatment Indicator set to Reject HOLD Request.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3",
        "ts_23.083"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.8.3",
      "section_id": "7.8.3",
      "section_title": "Call Waiting (CW)",
      "content": "Call Waiting can be provisioned per subscriber or per profile.\nIf Call Waiting is provisioned per subscriber and Call Waiting is active, it will be active for all profiles. Data for the Call Waiting Supplementary Service will be stored in the HLR, and if appropriate in the VLR, in the usual manner. Call Waiting will function as specified in 3G TS 23.083 and will not distinguish between MSP and non-MSP subscribers.\nIf Call Waiting is provisioned per profile then the CW_flag shall be set in the HLR (see clause 6.4: CW_flag). On receipt of an Initial_DP message for an MO or MT call, the gsmSCF will check the subscription information for the profile in use for that call. If Call Waiting is not active and operative, then the SII2 will be included in the Connect message with the CW Treatment Indicator set to CW Not Allowed. The subscriber shall be able to modify CW information per profile by making contact with the gsmSCF using USSD. However, the subscriber shall not be able to modify CW data for the default profile.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.4",
        "ts_23.083"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.8.4",
      "section_id": "7.8.4",
      "section_title": "Call Forwarding",
      "content": "The Call Forwarding Supplementary Services, described in 3G TS 23.082, can only be provisioned per subscriber. However, services equivalent to the Call Forwarding Supplementary Services, implemented in the gsmSCF, will be available to the MSP subscriber per profile. This is described in clause 7.11.1: Call Forwarding.\nIf the Call Forwarding Supplementary Services are provisioned per subscriber, then Call Forwarding will function as specified in 3G TS 23.082 and will not distinguish between MSP and non-MSP subscribers.\nNOTE 1:\tIf Call Forwarding is provisioned per subscriber in the HLR then Call Forwarding should not be provisioned per profile in the gsmSCF, as this may cause unpredictable behaviour.\nNOTE 2:\tIf Call Forwarding is provisioned per subscriber in the HLR then Call Deflection should not be provisioned per profile in the gsmSCF, as this may cause unpredictable behaviour.",
      "chunk_type": "general",
      "cross_references": [
        "clause_7.11.1",
        "ts_23.082"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.8.5",
      "section_id": "7.8.5",
      "section_title": "Multi Party Service (MPTY)",
      "content": "The Multi Party Supplementary Service can be provisioned per subscriber or per profile.\nIf MPTY is provisioned per subscriber and MPTY is active, it will be active for all profiles. Data for the MPTY Supplementary Service will be stored in the HLR, and if appropriate in the VLR, in the usual manner. MPTY will function as specified in 3G TS 23.084 and will not distinguish between MSP and non-MSP subscribers.\nIf MPTY is provisioned per profile then the MPTY_flag shall be set in the HLR (see clause 6.5: MPTY_flag). On receipt of an Initial_DP message for an MO or MT call, the gsmSCF will check the subscription information for the profile in use for that call. If MPTY is not active and operative, then the SII2 will be included in the Connect message with the Conference Treatment Indicator set to Reject Conference Request.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.5",
        "ts_23.084"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.8.6",
      "section_id": "7.8.6",
      "section_title": "Closed User Group (CUG)",
      "content": "The Closed User Group Supplementary Service can be provisioned per subscriber or per profile.\nIf CUG is provisioned per subscriber and CUG is active, it will be active for all profiles. Data for the CUG Supplementary Service will be stored in the HLR, and if appropriate in the VLR, in the usual manner. CUG will function as specified in 3G TS 23.085 and will not distinguish between MSP and non-MSP subscribers. The interaction between CAMEL and CUG is defined in 3G TS 23.078.\nCUG provisioning per profile is supported by CAMEL Phase 3 and is FFS.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.085",
        "ts_23.078"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.8.7",
      "section_id": "7.8.7",
      "section_title": "Advice of Charge (AoC)",
      "content": "The Advice of Charge Supplementary Service can be provisioned per subscriber. However, services equivalent to the Advice of Charge supplementary services, implemented in the gsmSCF, will be available to the MSP subscriber per profile. This is described in clause 7.11.4: Advice of Charge (AoC). Signalling on the access interface will be as specified in 3G TS 24.086.\nIf AoC is active, it will be active for all profiles. Data for the AoC Supplementary Service will be stored in the HLR, and if appropriate in the VLR, in the usual manner. AoC will function as specified in 3G TS 23.086 and will not distinguish between MSP and non-MSP subscribers.",
      "chunk_type": "general",
      "cross_references": [
        "clause_7.11.4",
        "ts_24.086",
        "ts_23.086"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.8.8",
      "section_id": "7.8.8",
      "section_title": "Call Barring",
      "content": "The Call Barring Supplementary Services, described in 3G TS 23.088, can only be provisioned per subscriber. However, services equivalent to the Call Barring Supplementary Services, implemented in the gsmSCF, can be provided to the MSP subscriber per profile. This is described in clause 7.11.2: Call Barring. This requires the OCB_flag mechanism described in clause clause 6.1: OCB_flag.",
      "chunk_type": "general",
      "cross_references": [
        "clause_7.11.2",
        "clause_6.1",
        "ts_23.088"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.8.9",
      "section_id": "7.8.9",
      "section_title": "Explicit Call Transfer (ECT)",
      "content": "The Explicit Call Transfer supplementary service can be provisioned per subscriber or per profile.\nIf ECT is provisioned per subscriber and ECT is active, it will be active for all profiles. Data for the ECT Supplementary Service will be stored in the HLR, and if appropriate in the VLR, in the usual manner. ECT will function as specified in 3G TS 23.091 and will not distinguish between MSP and non-MSP subscribers.\nIf ECT is provisioned per profile then the ECT_flag shall be set in the HLR (see clause 6.6: ECT_flag). On receipt of an Initial_DP message for an MO or MT call, the gsmSCF will check the subscription information for the profile in use for that call leg. If ECT is not active and operative, then the SII2 will be included in the Connect message with the ECT Treatment Indicator set to Reject ECT Request.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.6",
        "ts_23.091"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.8.10",
      "section_id": "7.8.10",
      "section_title": "Completion of Calls to Busy Subscriber (CCBS)",
      "content": "CCBS can be provisioned per subscriber or per profile.\nIf CCBS is provisioned per subscriber and CCBS is active, it will be active over all profiles. Data for the CCBS Supplementary Service will be stored in the HLR, and if appropriate in the VLR, in the usual manner.\nIf CCBS is provisioned per profile then the CCBS_flag shall be set in the HLR (see clause 6.7: CCBS_flag).\nOn receipt of an Initial_DP message for an MO call, the gsmSCF will check the subscription information for the calling profile. If CCBS is not active and operative, then the SII2 will be included in the Connect message with the Call Completion Treatment Indicator set to Call Completion Not Allowed.\nOn receipt of an Initial_DP message for an MT call, the gsmSCF will check the subscription information for the called profile. If CCBS is not active and operative, then the SII2 will be included in the Connect message with the Call Completion Treatment Indicator sent to Call Completion not allowed.\nThe subscriber shall be able to modify CCBS information per profile by making contact with the gsmSCF using USSD. However, the subscriber shall not be able to modify CCBS data for the default profile.\nIf a CFU-equivalent service is activated while there are queue entries in MS-B's target queue, HLR-B will not know about this activation and will process these queue entries as normal. As a consequence, the CCBS calls related to these queue entries will be forwarded to the new destination. CCBS activation is not possible if this forwarded call meets NDUB. This results in expiry of recall timer T9 and deletion of the queue entry from MS-B's target queue. For further details on the interaction between CCBS and CAMEL, refer to 3G TS 23.093.\nThe same applies to Incoming Call Barring-equivalent services which are activated while there are queue entries in MS-B's target queue.\nAn MSP subscriber will have CCBS set in the SS-CSI. The gsmSCF will be informed of CCBS Request and CCBS Setup messages for the MSP subscriber. This allows the service logic in the gsmSCF to assign the correct profile to the CCBS call.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.7",
        "ts_23.093"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.8.11",
      "section_id": "7.8.11",
      "section_title": "enhanced Multi-Level Precedence and Pre-emption (eMLPP)",
      "content": "eMLPP will be provisioned per subscriber. If eMLPP is active, it will be active for all profiles. Data for the eMLPP Supplementary Service will be stored in the HLR, and if appropriate in the VLR, in the usual manner. eMLPP will function as specified in 3G TS 23.067 and will not distinguish between MSP and non-MSP subscribers.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.067"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.8.12",
      "section_id": "7.8.12",
      "section_title": "User-to-User Signalling (UUS)",
      "content": "The User-to-User Supplementary Service will be provisioned per subscriber. If UUS is active, it will be active for all profiles. Data for the UUS Supplementary Service will be stored in the HLR, and if appropriate in the VLR, in the usual manner. UUS will function as specified in 3G TS 23.087 and will not distinguish between MSP and non-MSP subscribers.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.087"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.8.13",
      "section_id": "7.8.13",
      "section_title": "Call Deflection (CD)",
      "content": "The Call Deflection Supplementary Service will be provisioned per subscriber. If CD is active, it will be active for all profiles. Data for the CD Supplementary Service will be stored in the HLR, and if appropriate in the VLR, in the usual manner. CD will function as specified in 3G TS 23.072 and will not distinguish between MSP and non-MSP subscribers.\nWhen the MSP subscriber deflects an MT call, it triggers an interrogation of the gsmSCF for an MO Call. Using the call reference number, the gsmSCF can recognise that there is an ongoing dialogue for the MT call, and can then retrieve the profile to apply for the deflected call.\nThis gives the gsmSCF the opportunity to reject the call deflection per profile, providing the MSP subscriber is in a supporting network.\nNOTE:\tCall Deflection should not be provisioned per profile if Call Forwardings are provisioned per subscriber in the HLR as unpredictable behaviour may occur.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.072"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.9.1",
      "section_id": "7.9.1",
      "section_title": "The Multi-Numbering Scheme",
      "content": "If the MSP subscriber has different MSISDNs allocated for different Basic Services, all MSISDNs and associated Basic Services will be stored in the HLR. Each MSISDN and associated Basic Services will also be stored in the gsmSCF with associated profile ID.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.097_7.9.2",
      "section_id": "7.9.2",
      "section_title": "The Short Message Service",
      "content": "Mobile terminated short messages can be received on any profile although the profile will not be  indicated to the user.\nIt shall be possible to select a profile for mobile originated short messages. If a profile is explicitly selected, the MO short message will be sent by and charged to the selected profile. If a profile is not explicitly selected, the MO short message will be sent by and charged to the registered profile.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.097_7.9.3",
      "section_id": "7.9.3",
      "section_title": "Interactions with CAMEL",
      "content": "An MSP subscriber will, by definition, have a CAMEL subscription.\nIf other CAMEL services are designed in such a way that an MSP subscriber can use them, they will be available to the MSP subscriber. It is a network option to design CAMEL services that interact with MSP.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.097_7.9.4",
      "section_id": "7.9.4",
      "section_title": "Interactions with OR",
      "content": "The GMSC in the Interrogating PLMN (IPLMN) needs to support CAMEL Phase 2 capability if the called subscriber is an MSP subscriber.\nIf an interrogation request is received for an MSP subscriber from a GMSC in the IPLMN that does not support the CAMEL Phase 2 capability, the HLR shall return an OR not allowed negative response (see 3G TS 23.079) to the GMSC. This will force the call to be routed to a GMSC supporting CAMEL Phase 2 capabilitity in the HPLMN.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.079"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.9.5",
      "section_id": "7.9.5",
      "section_title": "Operator Determined Barring",
      "content": "ODB, as described in 3G TS 23.015, can only be provisioned per subscriber.\nA service, implemented in the gsmSCF equivalent to the ODB service will be available for an MSP subscriber per profile. This is described in clause 7.11.3: Operator Determined Barring (ODB); it requires the mechanism described in clause 6.2: ODB flags..\nOutgoing ODB for the default profile will be stored in the HLR for use when the subscriber roams into a non-supporting network, see clause 7.11.3: Roaming into a network not supporting CAMEL Phase 2 for further details.",
      "chunk_type": "general",
      "cross_references": [
        "clause_7.11.3",
        "clause_6.2",
        "ts_23.015"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.9.6",
      "section_id": "7.9.6",
      "section_title": "Roaming Restrictions",
      "content": "Roaming Restrictions will apply per subscriber. Data for the Roaming Restrictions will be stored in the HLR in the usual manner.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.097_7.10",
      "section_id": "7.10",
      "section_title": "Data stored in the gsmSCF",
      "content": "The gsmSCF contains all the data needed to control the MSP service. These data can be divided into the common data (the data valid for all profiles) and the profile specific data.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.097_7.11.1",
      "section_id": "7.11.1",
      "section_title": "Call Forwarding",
      "content": "Call Forwarding services will be provided in the gsmSCF per profile. An MT call to an MSP subscriber will be subject to the provided call forwardings for the called profile.\nThe Call Forwarding services, implemented by the gsmSCF, should operate in the same way as the Call Forwarding Supplementary Services. The MSP subscriber should have control over the call forwarding data (Registration, Erasure, Activation, Deactivation, and Interrogation). The method for controlling this data is a network option.\nFigure 31: Information flow for a successful MT call to a profilewith some Call Forwardings Active and Operative\nNOTE:\tRequest_Report_BCSM_Event will contain the list Arm_DP_List (see figure 1). This list will contain the following elements:T_Answer\t\tEDP-NT_Abandon\t\tEDP-NT_Busy\t\tEDP-N (Unless CFB and/or CFNRc are A&O for the called profile, in which case EDP-R)T_No_Answer\tEDP-N (Unless CFNRy is A&O for the called profile, in which case EDP-R)",
      "chunk_type": "general",
      "cross_references": [
        "figure_31",
        "figure_1"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.11.1.1",
      "section_id": "7.11.1.1",
      "section_title": "Call Forward Unconditional",
      "content": "Figure 32: Information flow for an MT call to a profile with CFU activeand operative in the gsmSCF",
      "chunk_type": "general",
      "cross_references": [
        "figure_32"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.11.1.2",
      "section_id": "7.11.1.2",
      "section_title": "Call Forward on Busy",
      "content": "Figure 33: Information flow for an MT call to a profile with CFB activeand operative in the gsmSCF, where the called subscriber is NDUB or UDUB",
      "chunk_type": "general",
      "cross_references": [
        "figure_33"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.11.1.3",
      "section_id": "7.11.1.3",
      "section_title": "Call Forward on No Reply",
      "content": "Figure 34: Information flow for an MT call to a profile with CFNRy activeand operative in the gsmSCF, where the called party does not answer\nNOTE:\tThe timer TNRy is started in the GMSC after the Address Complete Message has been received from the destination exchange. If this timer expires before an Answer message is received from the destination exchange, a release message is sent to the destination exchange and the detection point T_No_Answer is reached. This is specified in 3G TS 23.018 and 3G TS 23.078.",
      "chunk_type": "general",
      "cross_references": [
        "figure_34",
        "ts_23.018",
        "ts_23.078"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.11.1.5",
      "section_id": "7.11.1.5",
      "section_title": "Early CFNRc",
      "content": "Early Call Forwarding on Not Reachable will apply if the gsmSCF receives the parameter \"subscriber state\" set as Not Reachable. Due to the presence of the Location information / Subscriber state Interrogation parameter in the CAMEL data, stored in the HLR, the HLR sends a Provide Subscriber Information message to the VLR. This determines if the subscriber state is Not Reachable.\nFigure 35: Information flow for an MT call to a profile with CFNRc activeand operative in the gsmSCF, where early CFNRc is invoked",
      "chunk_type": "general",
      "cross_references": [
        "figure_35"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.11.1.6",
      "section_id": "7.11.1.6",
      "section_title": "Late CFNRc",
      "content": "Figure 36: Information flow for an MT call to a profile with CFNRc activeand operative in the gsmSCF, where late CFNRc is invoked",
      "chunk_type": "general",
      "cross_references": [
        "figure_36"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.11.2",
      "section_id": "7.11.2",
      "section_title": "Call Barring",
      "content": "Call Barring services can be provided by the gsmSCF per profile. An MO call made by an MSP subscriber will be subject to the outgoing call barrings provided for the Calling profile. An MT call to an MSP subscriber will be subject to the incoming call barrings provided for the Called profile. If an MT call to an MSP subscriber is forwarded, the forwarded call will be subject to the outgoing call barrings provided for the Called profile.\nThe Call Barring services available per profile are:\n-\tBarring of all outgoing calls (BAOC);\n-\tBarring of outgoing international calls (BOIC);\n-\tBarring of outgoing international calls except those directed to the home PLMN country (BOIC-exHC);\n-\tBarring of all incoming calls (BAIC);\n-\tBarring of incoming calls when roaming outside the home PLMN country (BIC-roam).\nThe Call Barring services, implemented by the gsmSCF, should operate in the same way as the Call Barring Supplementary Services. The MSP subscriber should have control over the call barring data (Registration, Erasure, Activation, Deactivation, and Interrogation). The method for controlling this data is a network option.\nIf the MSP subscriber changes the Outgoing Call Barrings for the default profile by contacting the gsmSCF, the gsmSCF will change the barrings stored in the gsmSCF and inform the HLR using ATM to change the barrings stored in the HLR. The Call Barring Supplementary Services may require a password before Call Barring data can be changed. For the Call Barring Services implemented in the gsmSCF, use of a password is a network option.\nThe operator should ensure that if the equivalent call barring service is provided then:\n-\tthe OCB_flag is set in the HLR (See clause 6.1:OCB_flag);\n-\tif an equivalent outgoing call barring service is in a \"Provisioned and Active\" state in the gsmSCF for the default profile, that outgoing call barring supplementary service will be in a \"Provisioned and Active\" state in the HLR;\n-\tif an equivalent outgoing call barring service is in a \"Not Active\" state in the gsmSCF for the default profile, that outgoing call barring supplementary service will be in a \"Not Provisioned\" state in the HLR;\n-\tincoming Call Barrings shall not be provisioned in the HLR;\nNOTE:\tBarrings will not apply to MT short messages.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.1"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.11.3",
      "section_id": "7.11.3",
      "section_title": "Operator Determined Barring (ODB)",
      "content": "Operator Determined Barring will be available per profile in the gsmSCF for the following categories:\n-\tBarring of outgoing calls;\n-\tBarring of incoming calls;\n-\tBarring of roaming;\n-\tBarring of outgoing Premium Rate Calls;\n-\tBarring specific to the home PLMN;\n-\tBarring of registration of call forwarding;\n-\tBarring of invocation of call transfer.\nHowever, if zone related barring is implemented in the gsmSCF, the appropriate data will be needed in the gsmSCF as well as the HLR. For barring of incoming calls when roaming outside the zone of the home country, the gsmSCF will need to use Any Time Interrogation to establish the location of the called party.\nManagement of ODB data is operator specific.\nThe operator should ensure that if the equivalent ODB service for an ODB category is provided then:\n-\tthe ODB flag for the correct category is set in the HLR (See clause 6.2: ODB flags);\n-\tthe ODB data for that category for the default profile is duplicated in the HLR.\nNOTE:\tBarring of incoming calls in the gsmSCF will not disallow MO or MT short messages.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.2"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.11.4",
      "section_id": "7.11.4",
      "section_title": "Advice of Charge (AoC)",
      "content": "Advice of Charge is available per profile in the gsmSCF. This is detailed in the SDL diagrams in clause 7.5: Functions and Information flows.",
      "chunk_type": "general",
      "cross_references": [
        "clause_7.5"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.12.1",
      "section_id": "7.12.1",
      "section_title": "Roaming into a network not supporting CAMEL Phase 3",
      "content": "When roaming into a network not supporting CAMEL Phase 3, only the functionality of MSP Phase 1 will be available to an MSP subscriber.\nThe default profile subscription information shall apply to all supplementary services, excluding Call Forwarding and Call Barring, provisioned per profile.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.097_7.12.2",
      "section_id": "7.12.2",
      "section_title": "Roaming into a network not supporting CAMEL Phase 2",
      "content": "This clause details MSP specific handling for roaming into a network not supporting CAMEL Phase 2. Other handling for this scenario is described in 3G TS 23.078.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.078"
      ]
    },
    {
      "chunk_id": "ts_23.097_7.12.2.1",
      "section_id": "7.12.2.1",
      "section_title": "Actions required on Location Update",
      "content": "The HLR will send the outgoing call barring data and outgoing ODB data, specific to the default profile, to the VLR.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.097_7.12.2.2",
      "section_id": "7.12.2.2",
      "section_title": "MO call handling",
      "content": "When an MSP subscriber roams into a network not supporting CAMEL Phase 2, the default profile will be used for all outgoing traffic.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.097_7.12.2.3",
      "section_id": "7.12.2.3",
      "section_title": "MT call handling",
      "content": "MT calls to any profile will be received by the subscriber (subject to call forwardings and call barrings provided in the gsmSCF on the called profile), although no indication of the called profile will be received.\nThe HLR will not allow OR, this means that for MT calls, the GMSC will always support CAMEL Phase 2, allowing the gsmSCF to invoke appropriate Call Forwardings and Call Barrings.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.097_7.12.2.4",
      "section_id": "7.12.2.4",
      "section_title": "MO short message handling",
      "content": "MO short messages will be sent from and charged to the default profile.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.097_7.12.3",
      "section_id": "7.12.3",
      "section_title": "Lack of availability of the Network Indication of Alerting feature",
      "content": "If an MSP subscriber roams into a network not supporting the Network Indication of Alerting feature, or is using an MS that does not support the Network indication of Alerting feature, then the subscriber will still receive all MT calls, but no indication of the called profile will be given.\nAnnex A (informative):Provision and Withdrawal of MSP\nA.1\tProvision of MSP\nMSP will be provisioned by prior arrangement with the service provider.\nFor an existing subscriber converting to an MSP subscriber, all profile specific data will be stored in the gsmSCF and removed from the HLR, and MSP will be provisioned in the HLR.\nFor a new subscriber provisioned with the MSP service, all profile specific data will be stored in the gsmSCF and MSP will be provisioned in the HLR.\nData specific to the Default Profile will be stored in both the HLR and the gsmSCF.\nA.2\tWithdrawal of MSP\nMSP will be withdrawn when there is only one profile remaining. In this event, the subscriber data will be stored in the HLR and removed from the gsmSCF, and the HLR will remove all MSP markings. The subscriber will then be treated as a normal subscriber.\nAnnex B (informative):Change history\nChange history\nDate\nMeeting\nTDoc\nCR\nRev\nCat\nSubject/Comment\nNew version\nJun 1999\nTransferred to 3GPP CN\nCN#04\n3.0.0\nCN#05\n001\nVarious editorial corrections\n3.0.1\nCN#06\n002\nInclusion of MSP Phase 2 functionality\n3.1.0\nCN#06\n003\nInteraction MSP and CF\n3.1.0\nCN#07\n004\nMinor editorial corrections\n3.1.1\nCN#11\nUpgrade to Rel-4\n4.0.0\nCN#16\nRelease 5 after CN#16\n5.0.0\nCN#26\nRelease 6 after CN#26\n6.0.0\nCT#36\nUpgraded unchanged from Rel-6\n7.0.0\nCT#42\nUpgraded unchanged from Rel-7\n8.0.0\nCT#46\n-\nUpdate to Rel-9 version (MCC)\n9.0.0\n2011-03\n-\nUpdate to Rel-10 version (MCC)\n10.0.0\n2012-09\n-\nUpdate to Rel-11 version (MCC)\n11.0.0\n2014-09\n-\nUpdate to Rel-12 version (MCC)\n12.0.0\n2015-12\n-\nUpdate to Rel-13 version (MCC)\n13.0.0\n2017-03\n-\nUpdate to Rel-14 version (MCC)\n14.0.0\n2018-06\n-\nUpdate to Rel-15 version (MCC)\n15.0.0\n2020-07\n-\nUpdate to Rel-16 version (MCC)\n16.0.0\n2022-03\n-\nUpdate to Rel-17 version (MCC)\n17.0.0\n2024-03\n-\n-\n-\n-\n-\nUpdate to Rel-18 version (MCC)\n18.0.0",
      "chunk_type": "general",
      "cross_references": []
    }
  ]
}