{
  "metadata": {
    "specification_id": "ts_29.272",
    "version": "18.5.0",
    "title": "3GPP TS 29.272",
    "file_path": "/content/drive/MyDrive/RAG_thesis/data/29_series/29272-i50/29272-i50.docx"
  },
  "export_info": {
    "export_date": "2025-07-26T09:02:53.887006",
    "total_chunks": 324
  },
  "chunks": [
    {
      "chunk_id": "ts_29.272_1",
      "section_id": "1",
      "section_title": "Scope",
      "content": "The present document describes the Mobility Management Entity (MME) and Serving GPRS Support Node (SGSN) related diameter-based interfaces towards the Home Subscriber Server (HSS) or the CSG Subscriber Server (CSS), and the MME and the SGSN related diameter-based interface towards the Equipment Identity Register (EIR).\nThis specification defines the Diameter application for the MME-HSS, S6a reference point, for the MME-CSS, S7a reference point, for the SGSN-HSS, S6d reference point, and for the SGSN-CSS, S7d reference point. The interactions between the HSS/CSS and the MME/SGSN are specified, including the signalling flows.\nThis specification defines the Diameter application for the MME-EIR, S13 reference point, and for the SGSN-EIR, S13' reference point. The interactions between the MME/SGSN and the EIR are specified, including the signalling flows.\nIn this specification, if there is no specific indication, the following principles apply:\n-\t\"SGSN\" refers to an SGSN which at least supports the S4 interface and may support Gn and Gp interfaces.\n-\t\"S4-SGSN\" refers to an SGSN which supports the S4 interface and does not support Gn and Gp interfaces.\n-\tGn/Gp-SGSN refers to an SGSN which supports the Gn and Gp interfaces and does not support S4 interface.\n-\t\"GPRS subscription data\" refers to the parameters in the HLR column in Table 5.2. in 3GPP TS 23.008 [30].\n-\t\"EPS subscription data\" refers to the parameters in the HSS column in Table 5.2A-1 in 3GPP TS 23.008 [30].\nThe Evolved Packet System stage 2 description (architecture and functional solutions) is specified in 3GPP TS 23.401 [2] and in 3GPP TS 23.060 [12].\nSGSN CAMEL Subscription Data are not supported over S6d interface.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.008_table_5.2",
        "ts_23.008",
        "ts_23.401",
        "ts_23.060"
      ]
    },
    {
      "chunk_id": "ts_29.272_2",
      "section_id": "2",
      "section_title": "References",
      "content": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non‑specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t3GPP TS 23.401: \"GPRS enhancements for E-UTRAN access \".\n[3]\t3GPP TS 23.003: \"Numbering, addressing and identification\".\n[4]\tVoid.\n[5]\t3GPP TS 33.401: \"3GPP System Architecture Evolution: Security Architecture\".\n[6]\tVoid\".\n[7]\tIETF RFC 2234: \"Augmented BNF for syntax specifications\".\n[8]\t3GPP TS 32.299: \"Charging management; Diameter charging applications\".\n[9]\t3GPP TS 29.229: \"Cx and Dx interfaces based on the Diameter protocol\".\n[10]\t3GPP TS 29.212: \"Policy and Charging Control (PCC); Reference points\".\n[11]\t3GPP TS 29.214: \"Policy and Charging Control over Rx reference point\".\n[12]\t3GPP TS 23.060: \"General Packet Radio Service (GPRS); Service description; Stage 2\".\n[13]\t3GPP TS 22.016: \"International Mobile station Equipment Identities (IMEI)\".\n[14]\tIETF RFC 4960: \"Stream Control Transmission Protocol\".\n[15]\tVoid\n[16]\t3GPP TS 33.210: \"3G Security; Network Domain Security; IP Network Layer Security\"..\n[17]\t3GPP TS 29.228: \"IP multimedia (IM) Subsystem Cx and Dx Interfaces; Signalling flows and Message Elements\".\n[18]\t3GPP TS 33.102: \"3G Security; Security Architecture\".\n[19]\t3GPP TS 36.413: \"Evolved Universal Terrestrial Radio Access Network (E-UTRAN); S1 Application Protocol (S1AP)\".\n[20]\tIETF RFC 5778: \"Diameter Mobile IPv6: Support for Home Agent to Diameter Server Interaction\".\n[21]\t3GPP TS 29.061: \"Interworking between the Public Land Mobile Network (PLMN) supporting packet based services and Packet Data Networks (PDN)\".\n[22]\t3GPP TS 32.298: \"Charging Management; CDR parameter description\".\n[23]\t3GPP TS 32.422: \"Telecommunication management; Subscriber and equipment trace; Trace control and configuration management\".\n[24]\t3GPP TS 29.002: \"Mobile Application Part (MAP) specification\".\n[25]\t3GPP TS 29.329: \"Sh Interface based on the Diameter protocol\".\n[26]\tIETF RFC 5447: \"Diameter Mobile IPv6: Support for Network Access Server to Diameter Server Interaction\".\n[27]\tIETF RFC 4004: \"Diameter Mobile IPv4 Application\".\n[28]\t3GPP2 A.S0022: \"Interoperability Specification (IOS) for Evolved High Rate Packet Data (eHRPD) Radio Access Network Interfaces and Interworking with Enhanced Universal Terrestrial Radio Access Network (E-UTRAN)\".\n[29]\t3GPP TS 23.011: \"Technical realization of Supplementary Services - General Aspects\".\n[30]\t3GPP TS 23.008: \"Organization of subscriber data\".\n[31]\t3GPP TS 24.008: \"Mobile radio interface Layer 3 specification; Core network protocols; Stage 3\".\n[32]\tIETF RFC 5516: \"Diameter Command Code Registration for Third Generation Partnership Project (3GPP) Evolved Packet System (EPS)\".\n[33]\t3GPP TS 32.251: \"Telecommunication management; Charging management; Packet Switched (PS) domain charging\".\n[34]\t3GPP TS 23.292: \"IP Multimedia Subsystem (IMS) centralized services \".\n[35]\t3GPP TS 23.216: \"Single Radio Voice Call Continuity (SRVCC)\".\n[36]\t3GPP TS 23.015:\"Technical realization of Operator Determined Barring (ODB)\".\n[37]\t3GPP TS 29.173: \"Diameter-based SLh interface for Control Plane LCS\".\n[38]\t3GPP TS 29.303: \"Domain Name System Procedures; Stage 3\".\n[39]\t3GPP TS 29.060: \"General Packet Radio Service (GPRS); GPRS Tunnelling Protocol (GTP) across the Gn and Gp Interface\".\n[40]\t3GPP TS 36.300: \"Evolved Universal Terrestrial Radio Access (E-UTRA) and Evolved Universal Terrestrial Radio Access Network (E-UTRAN); Overall description; Stage 2\".\n[41]\tITU-T Recommendation E.164: \"The international public telecommunication numbering plan\".\n[42]\t3GPP TS 22.042: \"Network Identity and TimeZone (NITZ); Service description; Stage 1\".\n[43]\t3GPP TS 23.007: \"Restoration procedures\".\n[44]\t3GPP TS 23.272: \"Circuit Switched (CS) fallback in Evolved Packet System (EPS); Stage 2\".\n[45]\t3GPP TS 29.010: \"Information element mapping between Mobile Station - Base Station System (MS - BSS) and Base Station System - Mobile-services Switching Centre (BSS - MSC)\".\n[46]\t3GPP TS 29.118: \"Mobility Management Entity (MME) –Visitor Location Register (VLR)SGs interface specification \".\n[47]\t3GPP TS 29.172: \"Evolved Packet Core (EPC) LCS Protocol (ELP) between the Gateway Mobile Location Centre (GMLC) and the Mobile Management Entity (MME)\".\n[48]\t3GPP TS 29.338: \"Diameter based protocols to support Short Message Service (SMS) capable Mobile Management Entities (MMEs)\".\n[49]\t3GPP TS 29.344: \"Proximity-services (ProSe) Function to Home Subscriber Server (HSS) aspects; Stage 3\".\n[50]\tIETF RFC 7683: \"Diameter Overload Indication Conveyance\".\n[51]\t3GPP TS 23.380: \"IMS Restoration Procedures\".\n[52]\t3GPP TS 22.153: \"Multimedia Priority Service\".\n[53]\t3GPP TS 23.221: \"Architectural requirements\".\n[54]\t3GPP TS 29.336: \"Home Subscriber Server (HSS) diameter interfaces for interworking with packet data networks and applications\".\n[55]\t3GPP TS 23.682: \"Architecture enhancements to facilitate communicationswith packet data networks and applications \".\n[56]\t3GPP TS 29.217: \"Congestion reporting over Np reference point\".\n[57]\tIETF RFC 7944: \"Diameter Routing Message Priority\".\n[58]\t3GPP TS 43.020: \"Security related network functions\".\n[59]\t3GPP TS 29.273: \"Evolved Packet System (EPS); 3GPP EPS AAA interfaces\".\n[60]\tIETF RFC 8583: \"Diameter Load Information Conveyance\".\n[61]\tIETF RFC 6733: \"Diameter Base Protocol\".\n[62]\t3GPP TS 36.331: \"Evolved Universal Terrestrial Radio Access (E-UTRA); Radio Resource Control (RRC); Protocol specification\".\n[63]\t3GPP TS 29.128: \"Mobility Management Entity (MME) and Serving GPRS Support Node (SGSN) interfaces for interworking with packet data networks and applications\".\n[64]\t3GPP TS 24.301: \"Non-Access-Stratum (NAS) protocol for Evolved Packet System (EPS); Stage 3\".\n[65]\t3GPP TS 36.423: \"Evolved Universal Terrestrial Radio Access Network (E-UTRAN); X2 Application Protocol (X2AP)\".\n[66]\t3GPP TS 29.503: \"Unified Data Management Services\".\n[67]\t3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".\n[68]\t3GPP TS 23.287: \"Architecture enhancements for 5G System (5GS) to support Vehicle-to-Everything (V2X) services\".\n[69]\t3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".\n[70]\t3GPP TS 29.563: \"5G System; Home Subscriber Server (HSS) services for interworking with Unified Data Management (UDM); Stage 3\".\n[71]\tGSMA PRD IR.73: \"Steering of Roaming Implementation Guidelines\".",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905",
        "ts_23.401",
        "ts_23.003",
        "ts_33.401",
        "ts_32.299",
        "ts_29.229",
        "ts_29.212",
        "ts_29.214",
        "ts_23.060",
        "ts_22.016",
        "ts_33.210",
        "ts_29.228",
        "ts_33.102",
        "ts_36.413",
        "ts_29.061",
        "ts_32.298",
        "ts_32.422",
        "ts_29.002",
        "ts_29.329",
        "ts_23.011",
        "ts_23.008",
        "ts_24.008",
        "ts_32.251",
        "ts_23.292",
        "ts_23.216",
        "ts_23.015",
        "ts_29.173",
        "ts_29.303",
        "ts_29.060",
        "ts_36.300",
        "ts_22.042",
        "ts_23.007",
        "ts_23.272",
        "ts_29.010",
        "ts_29.118",
        "ts_29.172",
        "ts_29.338",
        "ts_29.344",
        "ts_23.380",
        "ts_22.153",
        "ts_23.221",
        "ts_29.336",
        "ts_23.682",
        "ts_29.217",
        "ts_43.020",
        "ts_29.273",
        "ts_36.331",
        "ts_29.128",
        "ts_24.301",
        "ts_36.423",
        "ts_29.503",
        "ts_23.502",
        "ts_23.287",
        "ts_23.501",
        "ts_29.563"
      ]
    },
    {
      "chunk_id": "ts_29.272_3.1",
      "section_id": "3.1",
      "section_title": "Definitions",
      "content": "For the purposes of the present document, the terms and definitions given in 3GPP TR 21.905 [1] and the following apply. A term defined in the present document takes precedence over the definition of the same term, if any, in 3GPP TR 21.905 [1].\nCSG subscription data from CSS: It identifies the CSG subscription data that a MME or a SGSN has received from a CSS for a subscriber identified by its IMSI.\nCSG subscription data from HSS: It identifies the CSG subscription data that a MME or a SGSN has received from a HSS for a subscriber identified by its IMSI.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_21.905"
      ]
    },
    {
      "chunk_id": "ts_29.272_3.2",
      "section_id": "3.2",
      "section_title": "Abbreviations",
      "content": "For the purposes of the present document, the abbreviations given in TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in TR 21.905 [1].\nAVP\tAttribute Value Pair\nC\tConditional\nCSS\tCSG Subscriber Server\nDCN\tDedicated Core Network\nDRMP\tDiameter Routing Message Priority\nDSCP\tDifferentiated Services Code Point\nEIR\tEquipment Identity Register\nESM\tEPS Session Management\nHSS\tHome Subscriber Server\nIAB\tIntegrated Access and Backhaul\nIE\tInformation Element\nLAA\tLicensed Assisted Access\nLWA\tLTE/WLAN Aggregation\nLWIP\tLTE/WLAN Radio Level Integration with IPsec Tunnel\nM\tMandatory\nMME\tMobility Management Entity\nNR\tNew Radio\nO\tOptional\nODB\tOperator Determined Barring\nSCEF\tService Capability Exposure Function\nURRP-MME\tUser Reachability Request Parameter for MME\nURPP-SGSN\tUser Reachability Request Parameter for SGSN",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905"
      ]
    },
    {
      "chunk_id": "ts_29.272_4",
      "section_id": "4",
      "section_title": "General Description",
      "content": "This document describes the S6a/S6d and S13/S13' interfaces related procedures, message parameters and protocol specifications.\nThe procedures, message parameters and protocol are similar between S6a and S6d. S6a is used for location changes of the MME, while S6d is for location changes of the SGSN. Refer to clause 5 for the differences, especially clause 5.2.1.\nThe procedures, message parameters and protocol are identical as for the S13 and S13'. See clause 6 for details.\nIn the tables that describe the Information Elements transported by each Diameter command, each Information Element is marked as (M) Mandatory, (C) Conditional or (O) Optional in the \"Cat.\" column. For the correct handling of the Information Element according to the category type, see the description detailed in clause 6 of the 3GPP TS 29.228 [17].",
      "chunk_type": "definition",
      "cross_references": [
        "clause_5",
        "clause_5.2.1",
        "clause_6",
        "ts_29.228_clause_6",
        "ts_29.228"
      ]
    },
    {
      "chunk_id": "ts_29.272_5.1",
      "section_id": "5.1",
      "section_title": "Introduction",
      "content": "The S6a interface enables the transfer of subscriber related data between the MME and the HSS as described in the 3GPP TS 23.401 [2].\nThe S6d interface enables the transfer of subscriber related data between the SGSN and the HSS as described in 3GPP TS 23.060 [12].",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.401",
        "ts_23.060"
      ]
    },
    {
      "chunk_id": "ts_29.272_5.2.1.1.1",
      "section_id": "5.2.1.1.1",
      "section_title": "General",
      "content": "The Update Location Procedure shall be used between the MME and the HSS and between the SGSN and the HSS to update location information in the HSS. The procedure shall be invoked by the MME or SGSN and is used:\n-\tto inform the HSS about the identity of the MME or SGSN currently serving the user, and optionally in addition;\n-\tto update MME or SGSN with user subscription data; subscription data that are applicable to MMEs but not to SGSNs should not be sent to the SGSN unless the SGSN is known to be a combined MME/SGSN; similarly subscription data that are applicable to SGSNs but not to MMEs should not be sent to the MME unless the MME is known to be a combined MME/SGSN.\n-\tto provide the HSS with other user data, such as Terminal Information or UE SRVCC Capability.\nThis procedure is mapped to the commands Update-Location-Request/Answer (ULR/ULA) in the Diameter application specified in clause 7.\nTable 5.2.1.1.1/1 specifies the involved information elements for the request.\nTable 5.2.1.1.1/2 specifies the involved information elements for the answer.\nTable 5.2.1.1.1/1: Update Location Request\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nIMSI\nUser-Name (See IETF RFC 6733 [61])\nM\nThis information element shall contain the user IMSI, formatted according to 3GPP TS 23.003 [3], clause 2.2.\nSupported Features\n(See 3GPP TS 29.229 [9])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nTerminal Information\n(See 7.3.3)\nTerminal-Information\nO\nThis information element shall contain information about the user's mobile equipment. Within this Information Element, only the IMEI and the Software-Version AVPs shall be used on the S6a/S6d interface.\nULR Flags\n(See 7.3.7)\nULR-Flags\nM\nThis Information Element contains a bit mask. See 7.3.7 for the meaning of the bits.\nVisited PLMN Id\n(See 7.3.9)\nVisited-PLMN-Id\nM\nThis IE shall contain the MCC and the MNC, see 3GPP TS 23.003 [3]. It may be used to apply roaming based features.\nEquivalent PLMN List\n(See 7.3.151)\nEquivalent-PLMN-List\nO\nThis Information Element shall contain the equivalent PLMN list of which the MME/SGSN requests the corresponding CSG Subscription data.\nRAT Type\n(See 7.3.13)\nRAT-Type\nM\nThis Information Element contains the radio access type the UE is using. See clause 7.3.13 for details.\nSGSN number\n(See 7.3.102)\nSGSN-Number\nC\nThis Information Element contains the ISDN number of the SGSN, see 3GPP TS 23.003 [3]. It shall be present when the message is sent on the S6d interface and the SGSN supports LCS (using MAP based Lg interface) or SMS functionalities or the Gs interface.\nIt may be present when the message is sent on the S6a interface and the requesting node is a combined MME/SGSN.\nHomogeneous Support of IMS Voice Over PS Sessions\nHomogeneous-Support-of-IMS-Voice-Over-PS-Sessions\nO\nThis Information Element, if present, indicates whether or not \"IMS Voice over PS Sessions\" is supported homogeneously in all TAs or RAs in the serving node (MME or SGSN or combined MME/SGSN).\nThe value \"SUPPORTED\" indicates that there is support for \"IMS Voice over PS Sessions\" in all TAs or RAs.\nThe value \"NOT_SUPPORTED\" indicates that theres is not support for \"IMS Voice over PS Sessions\" in any of the TAs or RAs.\nV-GMLC address\nGMLC-Address\nC\nThis Information Element shall contain, if available, the IPv4 or IPv6 address of the V-GMLC associated with the serving node.\nActive APN\nActive-APN\nO\nThis Information Element, if present, contains the list of active APNs stored by the MME or SGSN, including the identity of the PDN GW assigned to each APN. For the case of explicitly subscribed APNs, the following information shall be present:\n- Context-Identifier: context id of subscribed APN in use\n- Service-Selection: name of subscribed APN in use\n- MIP6-Agent-Info: including PDN GW identity in use for subscribed APN\n- Visited-Network-Identifier: identifies the PLMN where the PDN GW was allocated\nFor the case of the Wildcard APN, the following information shall be present:\n- Context-Identifier: context id of the Wildcard APN\n- Specific-APN-Info: list of APN-in use and related PDN GW identity when the subscribed APN is the wildcard APN\nIt may be present when MME or SGSN needs to restore PDN GW data in HSS due to a Reset procedure.\nUE SRVCC Capability\nUE-SRVCC-Capability\nC\nThis information element shall indicate if the UE supports or does not support the SRVCC capability and shall be present if the MME or the SGSN supports SRVCC and this information is available to the MME or the SGSN.\nMME Number for MT SMS\nMME-Number-for-MT-SMS\nC\nThis Information Element contains the ISDN number of the MME to route SMS to the UE through the MME, see 3GPP TS 23.003 [3].\nIt shall be present when the MME supports SMS in MME and wishes to provide SMS in MME.\nSMS Register Request\nSMS-Register-Request\nC\nThis information element is used to inform the HSS if the MME or the SGSN needs to be registered for SMS, prefers not to be registered for SMS or has no preference. It shall be present when the MME supports SMS in MME and requests to be registered for SMS. It shall be present when the SGSN supports \"SMS in SGSN\" as defined in clause 5.3.18 in 23.060 [12], and requests to be registered for SMS.\nSGs MME identity\nSGs-MME-Identity\nO\nThis information element is used to inform the HSS of the MME identity that the MME will use over the SGs interface. This information element shall be present, if the MME supports this information element and if the MME identity used over SGs is different from the MME Diameter identity used over S6a.\nCoupled node's Diameter identity\nCoupled-Node-Diameter-ID\nO\nThis information element contains the Diameter identity of the coupled node (i.e. MME's Diameter identity for the SGSN and SGSN's Diameter identity for the MME) when the message is sent by the combined MME/SGSN.\nThis information element may be present when the message is sent on the S6a/S6d interface and the requesting node is a combined MME/SGSN.\nAdjacent PLMNs\nAdjacent-PLMNs\nO\nThis information element, if present, shall contain the list of PLMNs where an UE served by the MME/SGSN is likely to make a handover from the PLMN where the MME/SGSN is located. This list is statically configured by the operator in the MME/SGSN, according to the geographical disposition of the different PLMNs in that area, the roaming agreements, etc...\nSupported Services\n(3GPP TS 29.336 [54])\nSupported-Services\nO\nIf present, this Information Element shall contain AVPs indicating details of the services supported by the MME/SGSN.\nTable 5.2.1.1.1/2: Update Location Answer\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nSupported Features\n(See 3GPP TS 29.229 [9])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nResult\n(See 7.4)\nResult-Code / Experimental-Result\nM\nThis IE shall contain the result of the operation.\nThe Result-Code AVP shall be used to indicate success / errors as defined in the Diameter base protocol (see IETF RFC 6733 [61]).\nThe Experimental-Result AVP shall be used for S6a/S6d errors. This is a grouped AVP which shall contain the 3GPP Vendor ID in the Vendor-Id AVP, and the error code in the Experimental-Result-Code AVP.\nThe following errors are applicable:\n- User Unknown\n- Unknown EPS Subscription\n- RAT Not Allowed\n- Roaming Not Allowed\nError-Diagnostic\nError-Diagnostic\nO\nIf  the Experimental Result indicates \"Unknown EPS Subscription\", Error Diagnostic may be present to indicate whether or not GPRS subscription data are subscribed (i.e. whether or not Network Access Mode stored in the HSS indicates that only circuit service is allowed).\nIf the Experimental Result indicates \"Roaming Not Allowed\", and the Update Location is rejected due to ODB, Error Diagnostic may be present to indicate the specific type of ODB.\nULA-Flags\n(See 7.3.8)\nULA-Flags\nC\nThis Information Element contains a bit mask. See 7.3.8 for the meaning of the bits. It shall be present only when the Result-Code AVP is DIAMETER_SUCCESS.\nSubscription Data\n(See 7.3.2)\nSubscription-Data\nC\nThis Information Element shall contain the complete subscription profile of the user. It shall be present if success is reported, unless an explicit \"skip subscriber data\" indication was present in the request.\nReset-IDs\n(See 7.3.184)\nReset-ID\nO\nThe Reset-ID uniquely identifies a fallible resource in the HSS on which the user (IMSI) depends. In the event of a restart of the fallible resource a Reset message containing the Reset-ID will exactly identify the impacted subscribers.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_7",
        "ts_23.003_clause_2.2",
        "clause_7.3.13",
        "clause_5.3.18",
        "table_5.2.1.1.1",
        "ts_23.003",
        "ts_29.229",
        "ts_29.336"
      ]
    },
    {
      "chunk_id": "ts_29.272_5.2.1.1.2",
      "section_id": "5.2.1.1.2",
      "section_title": "Detailed behaviour of the MME and the SGSN",
      "content": "The MME shall make use of this procedure to update the MME identity stored in the HSS (e.g. at initial attach, inter MME tracking area update or radio contact after HSS reset).\nThe SGSN shall make use of this procedure to update the SGSN identity stored in the HSS (e.g. at initial attach, inter SGSN routing area update or radio contact after HSS reset).\nThe MME shall make use of this procedure to request SMS data and to become registered for SMS.\nThe SGSN shall make use of this procedure to request to become registered for SMS.\nA combined MME/SGSN which uses different Diameter Identities for the MME and SGSN parts shall not send a second ULR when in a first ULA the ULA-Flag \"Separation Indication\" was not set.\nFor UEs receiving emergency services, in which the UE was not successfully authenticated, the MME or SGSN shall not make use of the Update Location procedure.\nIf the Update Location request is to be sent due to an inter node (SGSN to MME) update and the previous SGSN is a Gn/Gp SGSN, the MME shall set the \"Single-Registration-Indication\" flag in the ULR-Flags information element in the request.\nIf the Update Location request is to be sent due to an initial attach, the MME or SGSN shall set the \"Initial-Attach-Indicator\" flag in the ULR-Flags information element in the request.\nIf the Update Location request is sent due to a Tracking Area Update following intra-PLMN inter-MME or AMF to MME handover, then the MME may set the Intra-PLMN-inter-MME handover flag in the ULR-Flags information element in the request.\nIf the Update Location request is sent due to a Tracking Area Update following inter-PLMN inter-MME or AMF to MME handover, then the MME may set the Inter-PLMN-inter-MME handover flag in the ULR-Flags information element in the request.\nIn order to avoid handovers failing (including the cases of emergency and non-emergency EPS fallback voice handovers), the Intra-PLMN-inter-MME handover flag and Inter-PLMN-inter-MME handover flags are required if the HPLMN deploys Steering of Roaming functionality that interferes with the Diameter signalling procedures e.g. as described in the section 6.1 of GSMA PRD IR.73 [71]. Otherwise, these flags are left to be configured based on operator policy.\nNOTE 0:\tIt is useful if the HPLMN discloses how they do Steering of Roaming to the VPLMN. The VPLMN can be configured to comply if they support this feature in the MME.\nWhen receiving and supporting Reset-ID AVPs in the response, the MME or SGSN shall delete all the stored Reset-IDs, if there are any, and then store all the received Reset-IDs.\nA combined MME/SGSN shall set the \"Skip Subscriber Data\" flag in the ULR-Flags if subscriber data are already available due to a previous identical location update. Otherwise the MME/SGSN shall not set the \"Skip Subscriber Data\" flag in the ULR-Flags.\nA combined MME/SGSN that has advertised its support for the combined MME/SGSN capability, by either including the SGSN Number within ULR sent over S6a or including the Coupled-Node-Diameter-ID within ULR sent over S6a/S6d or by using same Diameter identity over S6a and S6d interfaces, shall be prepared to receive a single subscription data update message (IDR or DSR) from the HSS when the subscription data is modified.\nIf the MME or SGSN knows about the homogeneity of the support of IMS Voice over PS Sessions in all TAs or RAs associated to that serving node (i.e., it is supported in all the TA/RAs or it is not supported in any of the TA/RAs) and for the serving subscriber taking into account roaming relationship for IMS Voice over PS Sessions, it shall include this indication to the HSS in the \"Homogeneous Support of IMS Voice over PS Sessions\" IE.\nThe MME or SGSN may include dynamic APN and PGW ID data in the list of Active-APN AVPs, in order to restore this information in the HSS after a Reset procedure.\nThe MME/SGSN may include an equivalent PLMN list to request the CSG Subscription data of the equivalent PLMNs.\nA standalone MME shall not indicate its support for any SGSN specific features, and it shall not request explicitly the download of GPRS data (via the GPRS-Subscription-Data-Indicator flag; see clause 7.3.7). A standalone MME that does not support the \"SMS in MME\" feature shall not provide its MME Number for MT SMS, \"SMS only\" indication or SMS Registration Request and therefore not indicate its support for any SMS related features (such as ODB or barring services).\nFor an SGSN, if a DIAMETER_ERROR_CAMEL_SUBSCRIPTION_PRESENT is received, the SGSN shall initiate the update location procedure with MAP over Gr interface and use Gr for the subsequent mobility procedures.\nFor a standalone MME or SGSN, if EPS or GPRS subscription data is received, the standalone MME or SGSN shall replace all of the EPS or GPRS subscription data of the user in the MME or SGSN. Any optional EPS or GPRS data not received, but stored in the standalone MME or SGSN, shall be deleted.\nFor a combined MME/SGSN, if EPS subscription data of the user is received, it shall replace all of the EPS subscription data of the user. Any optional EPS data not received by the combined MME/SGSN, but stored in the MME/SGSN, shall be deleted.\nFor a combined MME/SGSN, if GPRS subscription data of the user is received, it shall replace all of the GPRS subscription data of the user. Any optional GPRS data not received by the combined MME/ SGSN, but stored in the MME/SGSN, shall be deleted.\nWhen receiving an Update Location response from the HSS, the MME or SGSN shall check the result code. If it indicates success the MME or SGSN shall store the received subscription profile (if any), and it shall store the HSS identity as received in the Origin-Host AVP.\nIf an Additional MSISDN (A-MSISDN) is available in the subscription data and downloaded in the A-MSISDN AVP to the MME/SGSN in an Update Location and if the MME or SGSN supports the additional MSISDN feature, the MME or SGSN shall use the Additional MSISDN as C-MSISDN.\nFor UEs receiving emergency services (i.e. emergency attached UEs or normal attached UEs with a UE Requested PDN Connection for emergency services), and if the MME or SGSN supports emergency services for users in limited service state, the MME or SGSN shall proceed even if the Update Location procedure fails (e.g. authenticated users with roaming restrictions or RAT-Type restrictions in HSS).\nWhen receiving GPRS-Subscription-Data AVP in the response, the SGSN or combined MME/SGSN shall delete all the stored PDP-Contexts, if there are any, and then store all the received PDP-Contexts.\nWhen receiving the APN-Configuration-Profile AVP in a ULA, the MME or SGSN shall delete all the stored APN-Configurations, if there are any, and then store all the received APN-Configurations.\nFor each of the received APN-Configurations in the APN-Configuration-Profile, if both the MIP6-Agent-Info and the PDN-GW-Allocation-Type AVPs are absent in the APN-Configuration AVP and the MME or SGSN does not have any associated PGW information, the MME or SGSN shall perform the PGW selection (static or dynamic) according to the local configuration. If MIP6-Agent-Info is present, and PDN-GW-Allocation-Type is not present, this means that the PDN GW address included in MIP6-Agent-Info has been statically allocated. If the MIP6-Agent-Info contains an FQDN of the PDN GW, the MME shall retrieve the PGW PLMN ID from the MIP-Home-Agent-Host AVP within the MIP6-Agent-Info AVP.\nWhen receiving an Update Location response from the HSS in the TAU or RAU procedure, for each of the received APN-Configurations in the APN-Configuration-Profile, if both the MIP6-Agent-Info and the PDN-GW-Allocation-Type AVPs are absent in the APN-Configuration AVP and the MME or SGSN has associated PGW information and the UE-level access restriction \"HO-To-Non-3GPP-Access Not Allowed\" is not set, the MME or SGSN should send a Notify Request if HO to the WLAN is supported in the network, including the APN and PDN GW identity to the HSS in order to restore this information in the HSS e.g. after a Reset procedure.\nIf the MME/SGSN supports interworking with Gn/Gp-SGSNs, it shall ensure that the Context -Identifier sent over GTPv1 for each of the received APN-Configurations is within the range of 1 and 255.\nNOTE 1:\tIf the MME/SGSN receives from HSS a Context-Identifier value higher than 255, how this value is mapped to a value between 1 and 255 is implementation specific.\nIf the subscriber is not roaming and the SIPTO-Permission information for an APN is present, the MME or SGSN shall allow SIPTO above RAN for that APN only if the SIPTO-Permission information indicates so.\nIf the subscriber is not roaming and the SIPTO-Permission information for an APN is not present, the MME or SGSN may allow SIPTO above RAN for that APN.\nIf the subscriber is roaming and the SIPTO-Permission information for an APN is present, the MME or SGSN shall allow SIPTO above RAN for that APN only if the SIPTO-Permission information indicates so and the VPLMN Dynamic Address is allowed and the MME or SGSN selects a PDN GW in the VPLMN.\nIf the subscriber is roaming and the SIPTO-Permission information for an APN is not present, the MME or SGSN shall not allow SIPTO above RAN for that APN.\nNOTE 2:\tBased on local configuration, the MME or SGSN can determine not to allow SIPTO above RAN for an APN, regardless if the SIPTO-Permission information is present.\nIf the subscriber is not roaming and the SIPTO-Local-Network-Permission information for an APN is present, the MME or SGSN shall allow SIPTO at the local network for that APN only if the SIPTO-Local-Network-Permission information indicates so.\nIf the subscriber is not roaming and the SIPTO-Local-Network-Permission information for an APN is not present, the MME or SGSN may allow SIPTO at the local network for that APN.\nIf the subscriber is roaming and the SIPTO-Local-Network-Permission information for an APN is present, the MME or SGSN shall allow SIPTO at the local network for that APN only if the SIPTO-Local-Network-Permission information indicates so and the VPLMN Dynamic Address is allowed and the MME or SGSN selects a L-GW in the VPLMN.\nIf the subscriber is roaming and the SIPTO-Local-Network-Permission information for an APN is not present, the MME or SGSN shall not allow SIPTO at the local network for that APN.\nNOTE 3:\tBased on local configuration, the MME or SGSN can determine not to allow SIPTO at the local network for an APN, regardless if the SIPTO-Local-Network-Permission information is present.\nIf MPS-Priority AVP is present and the UE is subscribed to the eMLPP or 1x RTT priority service in the CS domain as indicated by the MPS-CS-Priority bit of the AVP, the MME shall allow the UE to initiate the RRC connection with higher priority than other normal UEs during CS Fallback procedure. If the MPS-Priority AVP is present and the UE is subscribed to MPS in the EPS domain as indicated by the MPS-EPS-Priority bit of the AVP, the MME shall allow the UE to initiate the RRC connection with higher priority than other normal UEs.\nIf the subscriber is not roaming, the MME or SGSN may allow or prohibit the UE to use LIPA as indicated by LIPA-Permission for a specific APN.\nIf the subscriber is roaming and the VPLMN-LIPA-Allowed AVP indicates that the UE is not allowed to use LIPA in the VPLMN where the UE is attached, the MME or SGSN shall not provide LIPA for the UE and shall not consider the LIPA-Permission AVP. If the VPLMN-LIPA-Allowed AVP indicates that the UE is allowed to use LIPA in the VPLMN, the MME or SGSN may allow or prohibit the UE to use LIPA as indicated by LIPA-Permission for a specific APN. The VPLMN-Dynamic-Address-Allowed AVP shall not be considered if it is received when the MME or SGSN establishes a PDN connection with LIPA.\nIf the LIPA-Permission information for an APN indicates LIPA only, the MME or SGSN shall only allow LIPA for that APN via the authorized CSGs according to the CSG Subscription Data. If the LIPA-Permission information for an APN indicates LIPA prohibited, the MME or SGSN shall not allow LIPA for that APN. If the LIPA-Permission information for an APN indicates LIPA conditional, the MME or SGSN shall allow non LIPA, and LIPA for that APN via the authorized CSGs according to the CSG Subscription Data. If the LIPA-Permission AVP is not present for a specific APN, the APN shall not be allowed to use LIPA.\nThe LIPA-Permission information for the Wildcard APN shall apply to any APN that is not explicitly present in the subscription data.\nThe SIPTO-Permission information for the Wildcard APN shall apply to any APN that is not explicitly present in the subscription data.\nThe SIPTO-Local-Network-Permission information for the Wildcard APN shall apply to any APN that is not explicitly present in the subscription data.\nIf the subscription data received for a certain APN indicates that the APN was authorized as a consequence of having the Wildcard APN in the user subscription in HSS, then the MME shall not store this APN data beyond the lifetime of the UE session and the MME shall delete them upon disconnection of the UE.\nIf the MME supports the Relay Node functionality (see 3GPP TS 36.300 [40]) and the subscription data indicates that the subscriber is not a relay, the MME shall reject the attach request from a device attempting to attach to EPS as a Relay Node. If a device requests to be attached to EPS as an UE, the MME shall proceed with the attach procedure regardless of the content of the Relay Node Indicator.\nIf trace data are received in the subscriber data, the MME or SGSN shall start a Trace Session. For details, see 3GPP TS 32.422 [23].\nIf the Ext-PDP-Type AVP is present in the PDP-Context AVP, the SGSN or combined MME/SGSN shall ignore the value of the PDP-Type AVP.\nIf the subscriber is not roaming and the Subscribed-Periodic-RAU-TAU-Timer information is present, the MME or SGSN shall allocate the subscribed value to the UE as periodic RAU or TAU timer. If the subscriber is roaming and the Subscribed-Periodic-RAU-TAU-Timer information is present, the MME or SGSN may use the subscribed periodic RAU/TAU timer value as an indication to decide for allocating a locally configured periodic RAU/TAU timer value to the UE.\nFor a combined MME/SGSN, the node may include the Coupled-Node-Diameter-ID AVP to allow the HSS to determine if the UE is served by the MME and SGSN parts of the same combined MME/SGSN. When the message is sent over S6a interface and if this AVP is included, the MME shall include the Diameter identity of the coupled SGSN which is used by the SGSN over S6d interface. When the message is sent over S6d interface and if this AVP is included, the SGSN shall include the Diameter identity of the coupled MME which is used by the MME over S6a interface.\nNOTE 4:\tThe Coupled-Node-Diameter-ID AVP allows the HSS to determine if the UE is served by the MME and SGSN parts of the same combined MME/SGSN, when the SGSN number is not available and when Diameter identity of S6a and S6d interfaces of the combined MME/SGSN are not the same.\nIf the MME supports the \"SMS in MME\" feature and the UE has requested a combined EPS/IMSI attach or Combined TA/LA Update (see 3GPP TS 23.272 [44]) and the MME is not currently registered for SMS, the MME requests to be registered for SMS by indicating its MME Number for MT SMS in the request, including the SMS-Register-Request AVP and the SMS-Only-Indication flag set in the ULR-Flags AVP if UE indicates \"SMS only\".\nIf the MME supports the \"SMS in MME\" feature, when receving an EPS attach or a TAU from a UE accessing NB-IoT which requests SMS by indicating \"SMS transfer without Combined Attach\" (see 3GPP TS 23.401 [2]), and if the MME is not currently registered for SMS, the MME requests to be registered for SMS by indicating its MME Number for MT SMS in the request, including the SMS-Register-Request AVP.\nIf the HSS provides the MME with SMS data in the ULA and the ULA-Flags is received with \"MME Registered for SMS\" flag set, the MME shall store this data for providing SMS in MME service and consider itself registered for SMS.\nIf the SGSN supports the \"SMS in SGSN\" feature as specified in 3GPP TS 23.060 [12], clause 5.3.18, and wishes to provide SMS via SGSN it shall set the \"SMS in SGSN\" flag in the Feature-List AVP, and include SMS-Register-Request AVP. If the SGSN supports the Diameter based Gdd interface for SMS in SGSN, it shall set the \"Gdd-in-SGSN\" flag in the Feature-List AVP. If the UE has indicated \"SMS-Only\" this shall be indicated to the HSS setting the SMS-Only–Indication flag in the ULR-Flags AVP.\nNOTE 5:\tthe setting of the \"SMS in SGSN\" feature bit reflects the \"SMS in SGSN Offered\" as described in stage 2 above.\nIf the SMS-In-SGSN-Allowed-Indication flag is set in the received Subscription-Data-Flags AVP, the SGSN shall store the subscription data for providing SMS in SGSN service.\nIf the subscriber is not roaming and the Restoration-Priority information for a certain APN is present, the MME or SGSN shall consider the subscribed value as the relative priority of the user's PDN connection among PDN connections to the same APN when restoring PDN connections affected by an SGW or PGW failure/restart (see 3GPP TS 23.007 [43]). If the subscriber is roaming and the Restoration-Priority information for a certain APN is present, the MME or SGSN may use the subscribed value as an indication of the relative priority of the user's PDN connection among PDN connections to the same APN based on service level agreements. The MME/SGSN may use a locally configured value as default restoration priority if the Restoration-Priority AVP for a certain APN is not present, or if it is not permitted by service level agreements for an in-bound roamer.\nIf the subscription data received for a certain APN includes WLAN-offloadability AVP, then the MME or SGSN shall determine the offloadability of the UE's PDN Connection(s) to that APN based on subscription data and locally configured policy (e.g. for roaming users or when the subscription data does not include any offloadability indication).\nNOTE 6:\tAs indicated in clause 7.3.31, if the UE-level access restriction \"HO-To-Non-3GPP-Access Not Allowed\" is set, the offload of PDN Connections to WLAN is not allowed for any APN.\nIf the subscription data received for the user includes the DL-Buffering-Suggested-Packet-Count AVP, then the MME or SGSN should take into account the subscription data, in addition to local policies, to determine whether to invoke extended buffering of downlink packets at the SGW for High Latency Communication. Otherwise, the MME or SGSN shall make this determination based on local policies only.\nWhen receiving IMSI-Group-Id AVP(s) within the Subscription-Data AVP, the MME or SGSN shall replace stored IMSI-Group Ids (if any) with the received information rather than add the received information to the stored information.\nWhen receiving one or more Monitoring-Event-Configuration AVP(s) in the ULA, the MME or SGSN shall start the detection of the Monitoring events indicated in those AVP(s), if not already started, and shall stop the detection and delete the previous monitoring events (if any) which are not indicated in those AVP(s). If there is a failure when starting the detection (e.g. maximum resources exceeded), the MME or SGSN shall not store the failed configuration(s) and shall send a notification of those events whose configuration have failed, as described in clause 5.2.5.1.2 (NOR/NOA commands). If the Subscription-Data AVP is received in the ULA but it does not contain any Monitoring-Event-Configuration AVP(s), the MME or SGSN shall stop the detection and delete all stored monitoring event configurations (if any).\nIf the MME/SGSN supports Monitoring, the MME/SGSN shall include the Supported-Services AVP with Supported-Monitoring-Events included in the ULR command.\nIf the MME and the UE support Attach without PDN connection (i.e. EMM-REGISTERED without PDN connection) and the PDN-Connection-Restricted flag is set in the received Subscription-Data-Flags AVP, the MME shall not establish any non-emergency PDN connectionand shall tear down any existing non-emergency PDN connection for this user.\nIf the subscription data received for the user includes the Preferred-Data-Mode AVP, for an IP APN configuration or for a non-IP APN configuration with SGi based delivery, then the MME should (if the subscriber is not roaming) or may (if the subscriber is roaming) take into account the subscription data, in addition to local policies and the UE's Preferred Network Behaviour, to determine whether to transmit the traffic associated with this APN over the User Plane and/or over the Control Plane.Otherwise, the MME shall make this determination based on local policies and the UE's Preferred Network Behaviour only.\nIf the MME receives from the HSS an Update Location response containing the Emergency-Info AVP in the Subscription-Data, the MME shall use the PDN-GW identity included in Emergency-Info as the PDN-GW used to establish emergency PDN connections with the emergency APN, for non-roaming authenticated UEs requesting the handover of an emergency PDN connection if the MME is configured to use a dynamic PDN-GW for emergency services for such user.\nWhen receiving V2X-Subscription-Data in the ULA, the MME shall determine whether the UE is authorized to use V2X communication over PC5 according to V2X subscription data and UE provided network capability. If the UE is authorized to use V2X communication over PC5, the MME shall store the \"V2X service authorized\" indication together with the UE AMBR used for PC5 interface (i.e. UE-PC5-AMBR), and provide such information to the eNodeB when needed.\nIf the MME/SGSN receives from the HSS an Update Location response without the bit set for \"NR as Secondary RAT\" in the Feature-List AVP, the MME/SGSN, based on local policy, may restrict access for NR as secondary RAT when all relevant entities except HSS supports it.\nIf the MME receives from the HSS an Update Location response containing in the subscription data the Core-Network-Restrictions AVP with the bit \"5GC not allowed\" set, the MME shall restrict mobility towards 5GC.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1",
        "clause_7.3.7",
        "ts_23.060_clause_5.3.18",
        "clause_7.3.31",
        "clause_5.2.5.1.2",
        "ts_36.300",
        "ts_32.422",
        "ts_23.272",
        "ts_23.401",
        "ts_23.060",
        "ts_23.007"
      ]
    },
    {
      "chunk_id": "ts_29.272_5.2.1.1.3",
      "section_id": "5.2.1.1.3",
      "section_title": "Detailed behaviour of the HSS",
      "content": "When receiving an Update Location request the HSS shall check whether subscription data exists for the IMSI.\nIf the HSS determines that there is not any type of subscription for the IMSI (including EPS, GPRS and CS subscription data), a Result Code of DIAMETER_ERROR_USER_UNKNOWN shall be returned.\nIf the Update Location Request is received over the S6a interface, and the subscriber has not any APN configuration, the HSS shall return a Result Code of DIAMETER_ERROR_UNKNOWN_EPS_SUBSCRIPTION.\nIf the Update Location Request is received over S6a, from an MME that does not support the \"Non-IP PDN Type APNs\" feature, and the user's subscripton profile contains only APN configurations of type \"Non-IP\", the HSS shall return a Result Code of DIAMETER_ERROR_UNKNOWN_EPS_SUBSCRIPTION.\nIf the Update Location Request is received over the S6d interface, and the subscriber has neither an APN configuration profile nor GPRS subscription data, the HSS shall return a Result Code of DIAMETER_ERROR_UNKNOWN_EPS_SUBSCRIPTION.\nWhen sending DIAMETER_ERROR_UNKNOWN_EPS_SUBSCRIPTION, an Error Diagnostic information may be added to indicate whether or not GPRS subscription data are subscribed (i.e. whether or not Network Access Mode stored in the HSS indicates that only CS service is allowed).\nThe HSS shall check whether the RAT type the UE is using is allowed for the subscriber in the serving PLMN. If it is not, a Result Code of DIAMETER_ERROR_RAT_NOT_ALLOWED shall be returned.\nThe HSS shall check whether access to EPC is allowed, based on the active Core Network Restrictions of the subscriber. If access to EPC is restricted, a Result Code of DIAMETER_ERROR_UNKNOWN_EPS_SUBSCRIPTION shall be returned.\nThe HSS shall check whether roaming is not allowed in the VPLMN due to ODB. If so a Result Code of DIAMETER_ERROR_ROAMING_NOT_ALLOWED shall be returned. When this error is sent due to the MME or SGSN not supporting a certain ODB category, an Error Diagnostic information element may be added to indicate the type of ODB; if this error is sent due to the ODB indicating \"Barring of Roaming\", Error Diagnostic shall not be included.\nIf the Update Location Request is received over the S6d interface and the HSS supports the \"SGSN CAMEL Capability\" feature, and the SGSN indicates support of SGSN CAMEL capability, the HSS shall check if the subscriber has SGSN CAMEL Subscription data. If the subscriber has SGSN CAMEL Subscription data, the HSS shall return a Result Code of DIAMETER_ERROR_CAMEL_SUBSCRIPTION_PRESENT.\nIf the Update Location Request is received over the S6a interface, the HSS shall send a Cancel Location Request with a Cancellation-Type of MME_UPDATE_PROCEDURE (CLR; see clause 7.2.7) to the previous MME (if any) and replace the stored MME-Identity with the received value (the MME-Identity is received within the Origin-Host AVP). The HSS shall reset the \"UE purged in MME\" flag and delete any stored last known MME location information of the (no longer) purged UE. If the \"Single-Registration-Indication\" flag was set in the received request, the HSS shall send a Cancel Location Request with a Cancellation-Type of SGSN_UPDATE_PROCEDURE to the SGSN (MAP Cancel Location), and delete the stored SGSN address and SGSN number. If the \"Initial-Attach-Indicator\" flag was set in the received request, and the \"Single-Registration-Indication\" flag was not set, the HSS shall send a Cancel Location Request with a Cancellation-Type of INITIAL_ATTACH_PROCEDURE (CLR; see clause 7.2.7, or MAP Cancel Location) to the SGSN if there is an SGSN registration.\nIf the Update Location Request is received over the S6d interface, the HSS shall send a Cancel Location Request with a Cancellation-Type of SGSN_UPDATE_PROCEDURE (CLR; see clause 7.2.7, or MAP Cancel Location) to the previous SGSN (if any) and replace the stored SGSN-Identity with the received value (the SGSN-Identity is received within the Origin-Host AVP). The HSS shall reset the \"UE purged in SGSN\" flag and delete any stored last known SGSN location information of the (no longer) purged UE. If the \"Initial-Attach-Indicator\" flag was set in the received request, the HSS shall send a Cancel Location Request with a Cancellation-Type of INITIAL_ATTACH_PROCEDURE (CLR; see clause 7.2.7) to the MME if there is an MME registration.\nWhen the HSS receives the Update Location Request, if a 15th digit of the IMEI AVP is received, the HSS may discard the digit.\nIf the Update Location Request includes either the ULR-flag Inter-PLMN-inter-MME or the ULR-flag intra-PLMN-inter-MME, then the HSS may ignore this information.\nNOTE 1:\tThese flags are intended for use by Steering of Roaming functions that are not standardised by 3GPP and which operate by interfering with the Diameter procedures.\nIf the Update Location Request includes the list of active APNs, the HSS shall delete all the stored dynamic PDN GW information, if there are any, and then replace them by the PDN GW information received in the list of Active-APN AVPs.\nIf the Update Location Request includes an equivalent PLMN list, the HSS shall return the CSG list (if any) for each equivalent PLMN to the MME with the subscription data, and Visited-PLMN-Id AVP shall be present in the CSG-Subscription-Data AVP to indicate the corresponding PLMN. If there is no equivalent PLMN list received, the HSS may not include Visited-PLMN-Id AVP in the CSG-Subscription-Data AVP, and the CSG-Subscription-Data AVP shall contain the CSG subscription data of the registered PLMN of the MME or the SGSN.\nIf the Update Location Request is received over the S6a interface for a user for which the URRP-MME parameter is set in the HSS, the HSS shall clear the URRP-MME parameter and send an indication to the corresponding Service Related Entities.\nIf the Update Location Request is received over the S6d interface for a user for which the URRP-SGSN parameter is set in the HSS, the HSS shall clear the URRP-SGSN parameter and send an indication to the corresponding Service Related Entities.\nIf no result code has been sent to the MME or SGSN so far, the HSS shall include the subscription data in the ULA command according to the ULR-Flags and the supported/unsupported features of the MME or SGSN, unless an explicit \"skip subscriber data\" indication has been received in the request, and shall return a Result Code of DIAMETER_SUCCESS.\nWhen the APN-Configuration-Profile AVP is present in the Subscription-Data AVP sent within a ULA, the AVP shall contain at least the default APN Configuration and a Context-Identifier AVP that identifies the per subscriber's default APN configuration. The default APN Configuration shall not contain the Wildcard APN (see 3GPP TS 23.003 [3], clause 9.2); the default APN shall always contain an explicit APN.\nThe GPRS Subscription data (if available in the HSS) shall only be present in the ULA command if it was indicated by the serving node in the ULR-Flags AVP (see clause 7.3.7), or when the subscription data is returned by a Pre-Rel-8 HSS (via an IWF) or when the Update Location Request is received over the S6d interface and there is no APN configuration profile stored for the subscriber.\nThe HSS shall use the indication received in the GPRS-Subscription-Data-Indicator for future use in the subscriber data update procedures.\nThe HSS shall store the new terminal information and/or the new UE SRVCC capability, if they are present in the request. If the UE SRVCC capability is not present, the HSS shall store that it has no knowledge of the UE SRVCC capability.\nIf the MME/SGSN indicates support of the Additional-MSISDN feature and an additional MSISDN (A-MSISDN) is available in the subscription data, the HSS shall send the provisioned additional MSISDN together with the MSISDN.\nIf the MME/SGSN does not support the Additional-MSISDN feature, the HSS shall populate the MSISDN AVP either with the subscribed  MSISDN or the subscribed additional MSISDN based on operator policy and availability.\nNOTE 2:\tWhen the MME/SGSN does not support the Additional-MSISDN feature, the MME/SGSN will use the MSISDN from the MSISDN AVP as C-MSISDN.\nLCS-Info, Teleservice-List and Call-Barring-Info data shall be included according to the list of supported features indicated by the serving node (see clause 7.3.10).\nIf the HSS supports the \"SMS in MME\" feature and receives the indication that the MME supports the \"SMS in MME\" feature and requests to be registered for SMS by including the MME Number for MT SMS, SMS-Register-Request AVP and/or setting the SMS-Only-Indication flag in the ULR-Flags AVP if indicated from the UE, the HSS shall determine if SMS can be provided via the MME as described in 3GPP TS 23.272 [44]. If SMS in MME is accepted the HSS shall register the MME for SMS, store the \"MME number for MT SMS\" as the corresponding MSC number to be used for MT SMS and return an indication of MME registered for SMS in ULA-Flags AVP.\nIf the MME is successfully registered for SMS the HSS shall download the available SMS related subscription data that may comprise SMS teleservice, MSISDN, ODB and barring services for SMS according to supported features. Also, if the user is considered as not reachable (i.e., MNRF flag is set in HSS for that user), and the UE is considered to have free available memory (i.e., MCEF flag is not set in HSS for that user), the HSS shall send a MAP-Alert-Service-Centre message or S6c-Alert-Service-Centre-Request to the SMS-IWMSC (see 3GPP TS 29.338 [48]).\nIf the HSS supports the \"SMS in SGSN\" feature as described in 3GPP TS 23.060 [12], clause 5.3.18 and receives the indication from the SGSN that it supports \"SMS in SGSN\" feature, and SMS-Register-Request AVP and/or the SMS-Only-Indication flag in the ULR-Flags AVP if indicated from the UE, and the PS subscriber data allow for SMS services (e.g. the subscription information indicates \"PS and SMS-Only\"), the HSS shall determine if SMS can be provided via the SGSN as described in 3GPP TS 23.060 [12]. If \"SMS in SGSN\" is accepted the HSS shall indicate in the ULA that \"SMS in SGSN\" is allowed to the SGSN and shall handle MT SMS as described in 3GPP TS 23.060 [12], clause 5.3.18. If the HSS supports the \"Gdd-in-SGSN\" feature and receives the indication from the SGSN that it supports the \"Gdd-in-SGSN\" feature, the HSS shall store the information that the SGSN supports the Gdd interface. Also, if the user is considered as not reachable (i.e., MNRG flag is set in HSS for that user), and the UE is considered to have free available memory (i.e., MCEF flag is not set in HSS for that user), the HSS shall send a MAP-Alert-Service-Centre message or S6c-Alert-Service-Centre-Request to the SMS-IWMSC (see 3GPP TS 29.338 [48]).\nThe HSS may use the indication received in the Node-Type-Indicator for future use in the subscriber data update procedures.\nSubscriber-Status AVP shall be present in the Subscription-Data AVP when sent within a ULA. If the value \"OPERATOR_DETERMINED_BARRING\" is sent, the Operator-Determined-Barring AVP or HPLMN-ODB AVP shall also be present in the Subscription-Data AVP, or vice versa.\nAccess-Restriction-Data AVP shall be present within the Subscription-Data AVP sent within a ULA if at least one of the defined restrictions applies.\nThe AMBR AVP shall be present in the Subscription-Data AVP when the APN-Configuration-Profile AVP is sent within a ULA (as part of the Subscription-Data AVP) and may be present in the Subscription-Data AVP when the GPRS-Subscription-Data AVP is present.\nThe EPS-Subscribed-QoS-Profile AVP and the AMBR AVP shall be present in the APN-Configuration AVP when the APN-Configuration AVP is sent in the APN-Configuration-Profile AVP and when the APN-Configuration-Profile AVP is sent within a ULA (as part of the Subscription-Data AVP).\nFor those APNs that have been authorized as a consequence of having the Wildcard APN in the user subscription, the HSS shall include the specific APN name and associated PDN-GW identity inside the APN context of the Wildcard APN. This indicates to the MME that the particular APN shall not be cached in the MME and it shall be deleted when the UE session is terminated.\nIf a Result Code of DIAMETER_SUCCESS is returned, the HSS shall set the Separation Indication in the response.\nIf the HSS receives an indication in the ULR command about the homogeneous support of IMS Voice over PS Sessions in all TA/RAs associated to a serving node, it may use this information in the future in order to skip the T-ADS data retrieval, as described in clause 5.2.2.1 (IDR/IDA commands).\nSubscribed-VSRVCC AVP shall be present within the Subscription-Data AVP sent within a ULA only if the user is subscribed to the SRVCC and vSRVCC.\nIf the UE is allowed to use Proximity-based Services in the visited PLMN, the HSS shall include ProSe-Subscription-Data AVP within the Subscription-Data AVP sent within a ULA.\nIf the HSS receives the SGs MME identity and if the HSS supports this information element, the HSS shall store it for use with VLR restoration.\nIf the HSS receives Update Location Request over both the S6a and S6d interfaces then based on the following conditions the HSS concludes if the UE is served by the MME and SGSN parts of the same combined MME/SGSN:\n-\tif both the messages contain the same SGSN number; or\n-\tif the Diameter identity received over S6a matches with the Diameter identity received over S6d; or\n-\tif the Coupled-Node-Diameter-ID AVP received over S6a interface matches with the Diameter identity received within Origin-Host AVP over S6d interface OR if the Coupled-Node-Diameter-ID AVP received over S6d interface matches with the Diameter identity received within Origin-Host AVP over S6a interface.\nIf the HSS supports the handling of access restrictions for adjacent PLMNs, and it receives a list of adjacent PLMNs from the MME/SGSN, the HSS may send the associated Access Restriction Data, according to local operator policies, in the Adjacent-Access-Restriction-Data AVP, so the MME/SGSN can use this information to allow, or prevent, inter-RAT inter-PLMN handovers towards any of the PLMNs indicated by the HSS. The HSS shall not include in the list of Adjacent-Access-Restriction-Data the PLMN-ID, and its access restrictions, of the current PLMN where the MME/SGSN is located, since this information is already conveyed in the Access-Restriction-Data AVP inside the Subscription-Data AVP.\nIf the HSS supports Monitoring events and receives a Supported-Services AVP it shall only trigger those services which are supported by the MME/SGSN.\nIf the HSS has previously received over SWx (see 3GPP TS 29.273 [59]) the identity of the PDN-GW to be used for the establishment of emergency PDN connections, it shall include it as part of the Subscription-Data AVP (in the Emergeny-Info AVP), in the Update Location response to the MME.\nIf the UE is allowed to use V2X service in the visited PLMN and the MME supports V2X service, the HSS shall include V2X-Subscription-Data AVP into Subscription-Data AVP within the ULA command.\nIf the MME/SGSN supports the \"External-Identifier\" feature, the HSS shall include the External-Identifier associated with Monitoring Event Configuration in the External-Identifier AVP if populated in the subscription. When multiple External Identifiers are defined for a same subscription, the HSS shall send a default External Identifier in the External-Identifier AVP of the Subscription-Data AVP, and shall include a specific External Identifier (if different from the default External Identifier) associated to each Monitoring Event Configuration in the External-Identifier AVP of each Monitoring-Event-Configuration AVP occurrence inside the Subscription-Data AVP.\nThe Aerial-UE-Subscription-Information AVP shall be present within the Subscription-Data AVP sent within a ULA only if the user has Aerial UE subscription information.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_7.2.7",
        "ts_23.003_clause_9.2",
        "clause_7.3.7",
        "clause_7.3.10",
        "ts_23.060_clause_5.3.18",
        "clause_5.2.2.1",
        "ts_23.003",
        "ts_23.272",
        "ts_29.338",
        "ts_23.060",
        "ts_29.273"
      ]
    },
    {
      "chunk_id": "ts_29.272_5.2.1.2.1",
      "section_id": "5.2.1.2.1",
      "section_title": "General",
      "content": "The Cancel Location Procedure shall be used between the HSS and the MME and between the HSS and the SGSN to delete a subscriber record from the MME or SGSN. The procedure shall be invoked by the HSS and is used:\n-\tto inform the MME or SGSN about a subscription withdrawal, or a change in the subscriber profile that does not allow PS services anymore (e.g., the Network Access Mode does not allow PS services), or a change in the subscriber profile that does not allow access to EPC anymore, or\n-\tto inform the MME or SGSN about an ongoing update procedure i.e. MME or SGSN change or\n-\tto inform the MME or SGSN about an initial attach procedure.\nThis procedure is mapped to the commands Cancel-Location-Request/Answer (CLR/CLA) in the Diameter application specified in clause 7.\nTable 5.2.1.2.1/1 specifies the involved information elements for the request.\nTable 5.2.1.2.1/2 specifies the involved information elements for the answer.\nTable 5.2.1.2.1/1: Cancel Location Request\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nIMSI\nUser-Name (See IETF RFC 6733 [61])\nM\nThis information element shall contain the user IMSI, formatted according to 3GPP TS 23.003 [3], clause 2.2.\nSupported Features\n(See 3GPP TS 29.229 [9])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nCancellation Type\n(See 7.3.24)\nCancellation-Type\nM\nDefined values that can be used are:\n- MME-Update Procedure,\n- SGSN-Update Procedure,\n- Subscription Withdrawal,\n- Update Procedure_IWF,\n- Initial Attach Procedure.\nCLR Flags\n(See 7.3.152)\nCLR-Flags\nO\nThis Information Element contains a bit mask. See 7.3.152 for the meaning of the bits and the condition for each bit to be set or not.\nTable 5.2.1.2.1/2: Cancel Location Answer\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nSupported Features\n(See 3GPP TS 29.229 [9])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nResult\n(See 7.4)\nResult-Code / Experimental-Result\nM\nThe result of the operation.\nThe Result-Code AVP shall be used to indicate success / errors as defined in the Diameter base protocol (see IETF RFC 6733 [61]).",
      "chunk_type": "definition",
      "cross_references": [
        "clause_7",
        "ts_23.003_clause_2.2",
        "table_5.2.1.2.1",
        "ts_23.003",
        "ts_29.229"
      ]
    },
    {
      "chunk_id": "ts_29.272_5.2.1.2.2",
      "section_id": "5.2.1.2.2",
      "section_title": "Detailed behaviour of the MME and the SGSN",
      "content": "When receiving a Cancel Location request the MME or SGSN shall check whether the IMSI is known.\nIf it is not known, a result code of DIAMETER_SUCCESS is returned.\nIf it is known, the MME or SGSN shall check the Cancellation Type and act accordingly.\nIf the Cancellation Type is \"Subscription Withdrawal\", the MME or SGSN shall delete the subscription data and detach the UE; in addition, if the Reattach-Required flag is set, the MME or SGSN shall indicate to the UE to initiate an immediate re-attach procedure, as described in 3GPP TS 23.401 [2] and 3GPP TS 23.060 [12]. A result code of DIAMETER_SUCCESS shall be returned.\nIf a cancellation type of \"Initial Attach Procedure\" is received, the MME or SGSN shall not delete the subscription data. For details see 3GPP TS 23.401 [2] and 3GPP TS 23.060 [12]. If the MME receives this cancelation type, and it is registered for SMS, it shall consider itself as unregistered for SMS. Also in this case a result code of DIAMETER_SUCCESS shall be returned.\nWhen a UE is served by a single combined MME/SGSN for both E-UTRAN and non-E-UTRAN access, the combined MME/SGSN shall check the Cancellation-Type. If it indicates Subscription Withdrawal or Update Procedure_IWF, the CLR is processed both in the MME part and in the SGSN part of the combined node. If it indicates Initial Attach Procedure, and if the CLR-Flags AVP is received and supported by the combined MME/SGSN, the CLR is processed only in the affected part of the combined node as indicated by the \"S6a/S6d-Indicator\" flag in the CLR-Flags AVP. Otherwise, the CLR is processed only in the affected part of the combined node and subscription data are kept for the not affected part.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.401",
        "ts_23.060"
      ]
    },
    {
      "chunk_id": "ts_29.272_5.2.1.2.3",
      "section_id": "5.2.1.2.3",
      "section_title": "Detailed behaviour of the HSS",
      "content": "The HSS shall make use of this procedure when the subscription is withdrawn by the HSS operator, and when the HSS detects that the UE has moved to a new MME or SGSN area, and when EPC access is not allowed due to Core Network Restrictions.\nThe HSS+UDM shall also make use of this procedure when the HSS+UDM detects that the UE has moved to a new AMF area, if the AMF indicates to the HSS+UDM to cancel MME and/or SGSN. The HSS+UDM shall include a cancellation type as specified in clause 5.4.2.2 of 3GPP TS 29.563 [70].\nThe HSS shall include a cancellation type of \"Subscription Withdrawal\" if the subscription is withdrawn by the operator, or if the subscriber profile does not allow PS services anymore, or if the Core Network Restrictions do not allow access to EPC anymore; the HSS may set the Reattach-Required flag in order to request the MME or the SGSN to trigger an immediate reattachment of the UE.\nThe HSS shall include a cancellation type of \"MME Update Procedure\" if the UE moved to a new MME area.\nThe HSS shall include a cancellation type of \"SGSN Update Procedure\" if the UE moved to a new SGSN area.\nThe HSS shall include a cancellation type of \"Initial Attach Procedure\" if the cancel location is initiated due to an Initial Attach from the UE.\nThe HSS shall include the CLR-Flags with the \"S6a/S6d-Indicator\" flag indicating the affected part of the combined node if the cancel location is to be sent to a combined MME/SGSN during initial attach procedure.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.563_clause_5.4.2.2",
        "ts_29.563"
      ]
    },
    {
      "chunk_id": "ts_29.272_5.2.1.3.1",
      "section_id": "5.2.1.3.1",
      "section_title": "General",
      "content": "The Purge UE Procedure shall be used between the MME and the HSS and between the SGSN and the HSS to indicate that the subscriber's profile has been deleted from the MME or SGSN either by an MMI interaction or automatically, e.g. because the UE has been inactive for several days.\nThis procedure is mapped to the commands Purge-UE-Request/Answer (PUR/PUA) in the Diameter application specified in clause 7.\nTable 5.2.1.3.1/1 specifies the involved information elements for the request.\nTable 5.2.1.3.1/2 specifies the involved information elements for the answer.\nTable 5.2.1.3.1/1: Purge UE Request\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nIMSI\nUser-Name (See IETF RFC 6733 [61])\nM\nThis information element shall contain user IMSI, formatted according to 3GPP TS 23.003 [3], clause 2.2.\nSupported Features\n(See 3GPP TS 29.229 [9])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nPUR-Flags\n(See 7.3.149)\nPUR-Flags\nO\nIf present, this Information Element shall contain a bitmask. See clause 7.3.149 for the meaning of the bits.\nEPS-Location-Information\n(See 7.3.111)\nEPS-Location-Information\nC\nThis Information Element shall contain the last known EPS-Location Information of the purged UE. Shall be present if available.\nTable 5.2.1.3.1/2: Purge UE Answer\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nSupported Features\n(See 3GPP TS 29.229 [9])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nResult\n(See 7.4)\nResult-Code / Experimental-Result\nM\nThis IE shall contain the result of the operation.\nThe Result-Code AVP shall be used to indication success / errors as defined in the Diameter base protocol (see IETF RFC 6733 [61]).\nThe Experimental-Result AVP shall be used for S6a/S6d errors. This is a grouped AVP which shall contain the 3GPP Vendor ID in the Vendor-Id AVP, and the error code in the Experimental-Result-Code AVP.\nThe following errors are applicable:\n- User Unknown\nPUA-Flags\n(See 7.3.48)\nPUA-Flags\nC\nThis Information Element shall contain a bit mask. See clause 7.3.48 for the meaning of the bits. It shall be present only when the Result-Code AVP is DIAMETER_SUCCESS.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_7",
        "ts_23.003_clause_2.2",
        "clause_7.3.149",
        "clause_7.3.48",
        "table_5.2.1.3.1",
        "ts_23.003",
        "ts_29.229"
      ]
    },
    {
      "chunk_id": "ts_29.272_5.2.1.3.2",
      "section_id": "5.2.1.3.2",
      "section_title": "Detailed behaviour of the MME and the SGSN",
      "content": "The MME shall make use of this procedure to set the \"UE Purged in the MME\" flag in the HSS when the subscription profile is deleted from the MME database due to MMI interaction or after long UE inactivity.\nThe SGSN shall make use of this procedure to set the \"UE Purged in SGSN\" flag in the HSS when the subscription profile is deleted from the SGSN database due to MMI interaction or after long UE inactivity.\nThe combined MME/SGSN when using a single Origin-Host identity shall make use of this procedure to set the \"UE Purged in MME\" and \"UE Purged in SGSN\" flags in the HSS when the subscription profile is deleted from the common MME/SGSN database due to MMI interaction or after long UE inactivity on all registered accesses. If the HSS has indicated support for the Partial Purge feature (see clause 7.3.10), the combined MME/SGSN may also indicate to the HSS a Purge of the UE in only one of the serving nodes in the combined node (either in the MME or in the SGSN).\nThe combined MME/SGSN when using different Origin-Host identities for MME and SGSN shall send two Purge UE Requests as if it was not combined.\nWhen receiving a Purge UE response from the HSS the MME shall check the Result Code. If it indicates success, the MME shall check the PUA flag \"freeze M-TMSI\", and if set freeze the M-TMSI i.e. block it for immediate re-use.\nWhen receiving a Purge UE response from the HSS the SGSN shall check the Result Code. If it indicates success, the SGSN shall check the PUA flag \"freeze P-TMSI\", and if set freeze the P-TMSI i.e. block it for immediate re-use.\nWhen receiving a Purge UE response from the HSS the combined MME/SGSN shall check the Result Code. If it indicates success, the combined MME/SGSN shall check the PUA flag \"freeze M-TMSI\" and \"freeze P-TMSI\", and if set freeze the M-TMSI and/or the P-TMSI i.e. block it for immediate re-use.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_7.3.10"
      ]
    },
    {
      "chunk_id": "ts_29.272_5.2.1.3.3",
      "section_id": "5.2.1.3.3",
      "section_title": "Detailed behaviour of HSS",
      "content": "When receiving a Purge UE request the HSS shall check whether the IMSI is known.\nIf it is not known, a result code of DIAMETER_ERROR_USER_UNKNOWN shall be returned.\nIf it is known, the HSS shall set the result code to DIAMETER_SUCCESS and compare the received identity in the Origin-Host with the stored MME-Identity and with the stored SGSN-Identity.\nIf the received identity matches the stored MME-identity and the stored SGSN-Identity (no matter whether the node type indicator bit in ULR-Flags was set or clear), then:\n-\tif the HSS supports the Partial Purge feature (see clause 7.3.10), and the combined MME/SGSN indicated that the UE was purged in only one of the serving nodes, the HSS shall set the PUA flags according to the serving node where the purge was done (i.e., either \"freeze M-TMSI\" if the purge was done in the MME, or \"freeze P-TMSI\" if the purge was done in the SGSN); similarly, the HSS shall either set the \"UE purged in MME\" flag and store the received last known MME Location information of the purged UE, or set the \"UE purged in SGSN\" flag and store the received last known SGSN-Location Information of the purged UE, accordingly;\n-\tif the HSS does not support the Partial Purge feature, or the combined MME/SGSN did not indicate that the UE was purged in only one of the serving nodes, the HSS shall set the PUA flags \"freeze M-TMSI\" and \"freeze P-TMSI\" in the answer message and set the flag \"UE purged in MME\" and \"UE purged in SGSN\" and store the received last known EPS Location Information of the purged UE;\nIf the received identity matches the stored MME-identity but not the stored SGSN-identity, the HSS shall set the PUA flag \"freeze M-TMSI\" and clear the PUA flag \"freeze P-TMSI\" in the answer message, set the flag \"UE purged in MME\" and store the received last known MME location information of the purged UE;\nIf the received identity matches the stored SGSN-identity but not the stored MME-identity, the HSS shall set the PUA flag \"freeze P-TMSI\" and clear the PUA flag \"freeze M-TMSI\" in the answer message and set the flag \"UE purged in SGSN\" and store the received last known SGSN location information of the purged UE;\nIf the received identity does not match the stored MME-identity and does not match the stored SGSN-identity, the HSS shall clear the PUA flags \"freeze M-TMSI\" and \"freeze P-TMSI in the answer message.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_7.3.10"
      ]
    },
    {
      "chunk_id": "ts_29.272_5.2.2.1.1",
      "section_id": "5.2.2.1.1",
      "section_title": "General",
      "content": "The Insert Subscriber Data Procedure shall be used between the HSS and the MME and between the HSS and the SGSN for updating and/or requesting certain user data in the MME or SGSN in the following situations:\n-\tdue to administrative changes of the user data in the HSS and the user is now located in an MME or SGSN, i.e. if the user was given a subscription and the subscription has changed; subscription data that are applicable to MMEs but not to SGSNs should not be sent to the SGSN unless the SGSN is known to be a combined MME/SGSN; similarly subscription data that are applicable to SGSNs but not to MMEs should not be sent to the MME unless the MME is known to be a combined MME/SGSN.\n-\tthe operator has applied, changed or removed Operator Determined Barring for this user;\n-\tactivate subscriber tracing in the MME or the SGSN;\n-\tto indicate to the MME or SGSN that the HSS has requested to be notified when the UE has become reachable;\n-\tto request from the MME or SGSN the necessary data to support the T-ADS functionality;\n-\tto retrieve location information and/or state information from the MME or the SGSN;\n-\tto retrieve from the MME or the SGSN the Local Time Zone of the location in the visited network where the UE is attached;\n-\tto update the STN-SR (e.g., as a result of an Sh interaction with an SCC-AS).\n-\tto update the MME/SGSN with the identity of a dynamically allocated PDN GW as a result of the first PDN connection establishment associated with an APN over non 3GPP access or 5GS..\n-\tto update the MME with the identity of a PDN GW for Emergency Services as a result of the PDN connection establishment for Emergency Services over non 3GPP access.\n-\tto indicate to the MME that the HSS has deregistered the MME for SMS.\n-\tto indicate to the MME/SGSN that the HSS-based P-CSCF restoration procedure, as described in 3GPP TS 23.380 [51] clause 5.4, shall be executed.\n-\tto request the MME or the SGSN to configure and report the detection of Monitoring events, or delete stored Monitoring events configuration.\n-\tto update the MME with the O&M configured desired Active Time for power saving mode (PSM), or with the value received from the SCEF if Active Time is provided as part of the Suggested-Network-Configuration AVP.\n-\tto update the MME with the O&M configured desired Core Network Restrictions to restrict/allow mobility to 5GC.\nIf the HSS knows that the UE has attached to the MME and SGSN parts of the same combined MME/SGSN via both the E-UTRAN and UTRAN/GERAN (refer to clause 5.2.1.1.2, 5.2.1.1.3 for further details), the HSS should invoke this procedure for a single time to update and/or request certain user data in the combined MME/SGSN, i.e. the HSS should not invoke this procedure for each of the MME and the SGSN registered respectively.\nIf the Node-Type-Indicator information has been previously received as cleared in the ULR-Flags and if the MME has not been registered for SMS during update location procedure for the MME, the HSS may skip any change of the SMS related subscription data and consequently does not have to make use of the Insert Subscriber Data procedure to update the SMS subscription data in the MME.\nThis procedure is mapped to the commands Insert Subscriber Data-Request/Answer (IDR/IDA) in the Diameter application specified in clause 7.\nTable 5.2.2.1.1/1 specifies the involved information elements for the request.\nTable 5.2.2.1.1/2 specifies the involved information elements for the answer.\nTable 5.2.2.1.1/1: Insert Subscriber Data Request\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nIMSI\nUser-Name (See IETF RFC 6733 [61])\nM\nThis information element shall contain the user IMSI, formatted according to 3GPP TS 23.003 [3], clause 2.2.\nSupported Features\n(See 3GPP TS 29.229 [9])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nSubscription Data\n(See 7.3.2)\nSubscription-Data\nM\nThis Information Element shall contain the part of the subscription profile that either is to be added to the subscription profile stored in the MME or SGSN or is replacing a part of the subscription profile stored in the MME or SGSN.\nIDR Flags\n(See 7.3.103)\nIDR-Flags\nC\nThis Information Element shall contain a bit mask. See 7.3.103 for the meaning of the bits.\nReset-IDs\n(See 7.3.184)\nReset-ID\nO\nThe Reset-ID uniquely identifies a fallible resource in the HSS on which the user (IMSI) depends. In the event of a restart of the fallible resource a Reset message containing the Reset-ID will exactly identify the impacted subscribers.\nTable 5.2.2.1.1/2: Insert Subscriber Data Answer\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nSupported Features\n(See 3GPP TS 29.229 [9])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nA combined MME/SGSN that makes use of separate origin host values in Update Location Request messages sent on S6a and Update Location Request messages sent on S6d can detect whether the IDR from HSS was sent to the MME or to the SGSN.IDA sent from such combined MME/SGSN corresponds to the MME's or the SGSN's supported features respectively.\nA combined MME/SGSN that makes use of a common origin host value in Update Location Request messages sent on S6a and Update Location Request messages sent on S6d cannot detect whether the IDR from HSS was sent to the MME or to the SGSN.IDA sent from such combined MME/SGSN uses the union of the MME's and the SGSN's supported features.\nResult\n(See 7.4)\nResult-Code / Experimental-Result\nM\nThis IE shall contain the result of the operation.\nResult-Code AVP shall be used to indicate success / errors defined in the Diameter base protocol (see IETF RFC 6733 [61]).\nThe Experimental-Result AVP shall be used for S6a/S6d errors. This is a grouped AVP which shall contain the 3GPP Vendor ID in the Vendor-Id AVP, and the error code in the Experimental-Result-Code AVP.\nThe following errors are applicable in this case:\n- User Unknown\nIMS Voice over PS Sessions\nSupported\n(See 7.3.106)\nIMS-Voice-Over-PS-Sessions-Supported\nC\nIf available to the serving node, this information element shall indicate whether or not \"IMS Voice over PS Sessions\" is supported by the UE's most recently used TA or RA in the serving node (MME or SGSN or combined MME/SGSN). If the UE is in detached state, this information element shall not be included in the response.\nLast UE Activity Time\n(See 7.3.108)\nLast-UE-Activity-Time\nC\nIf available to the serving node, this information element shall contain the time of the last radio contact with the UE. If the UE is in detached state, this information element shall not be included in the response.\nRAT Type\n(See 7.3.13)\nRAT-Type\nC\nIf available to the serving node, this information element shall indicate the RAT Type of the access where the UE was present at the time of the last radio contact. If the UE is in detached state, this information element shall not be included in the response.\nIDA-Flags\n(See 7.3.47)\nIDA-Flags\nC\nThis Information Element shall contain a bit mask. See 7.3.47 for the meaning of the bits.\nEPS-User-State\n(See 7.3.110)\nEPS-User-State\nC\nThis Information Element shall contain the EPS-User State. It shall be present if EPS user state was requested within IDR.\nEPS-Location-Information\n(See 7.3.111)\nEPS-Location-Information\nC\nThis Information Element shall contain the EPS-Location Information. It shall be present if EPS location information was requested within IDR.\nLocal Time Zone\n(See 7.3.156)\nLocal-Time-Zone\nC\nThis Information Element shall contain information on the Local Time Zone of the location in the visited network where the UE is attached. It shall be present if the Local Time Zone was requested within IDR.\nMonitoring Event Report\nMonitoring-Event-Report\nC\nThis Information Element shall contain the report of Monitoring event. It shall be present if Monitoring event configuration is included within IDR and any of the requested Monitoring events are available to be reported.\n(see NOTE 1)\nMonitoring Event Config Status\nMonitoring-Event-Config-Status\nC\nThis Information Element shall be present if Monitoring event configuration is included in IDR. It shall contain all the configuration status for each Monitoring event that was requested.\nSupported Services\n(3GPP TS 29.336 [54])\nSupported-Services\nO\nIf present, this Information Element shall contain AVPs indicating details of the services supported by the MME/SGSN.\nNOTE 1:\tIn IWK-SCEF scenarios, an event is available to be reported by the visited MME only if the event is considered as authorized by the visited MME after checking with the IWK-SCEF. Otherwise, the immediate report shall be not be sent in this command (S6a/IDA), and it shall be sent over T6a using RIR command (see 3GPP TS 29.128 [63].",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.380_clause_5.4",
        "clause_5.2.1.1.2",
        "clause_7",
        "ts_23.003_clause_2.2",
        "table_5.2.2.1.1",
        "ts_23.380",
        "ts_23.003",
        "ts_29.229",
        "ts_29.336",
        "ts_29.128"
      ]
    },
    {
      "chunk_id": "ts_29.272_5.2.2.1.2",
      "section_id": "5.2.2.1.2",
      "section_title": "Detailed behaviour of the MME and the SGSN",
      "content": "When receiving an Insert Subscriber Data request the MME or SGSN shall check whether the IMSI is known.\nIf it is not known, a result code of DIAMETER_ERROR_USER_UNKNOWN shall be returned.\nIf it is known, the MME or SGSN shall replace the specific part of the stored subscription data with the received data, or shall add the received data to the stored data.\nWhen receiving the APN-Configuration-Profile AVP within the Subscription-Data AVP, the MME or SGSN shall check the All-APN-Configurations-Included-Indicator value. If it indicates \"All_APN_CONFIGURATIONS_INCLUDED\", the MME or SGSN shall delete all stored APN-Configurations and then store all received APN-Configurations. Otherwise, the MME or SGSN shall check the Context-Identifier value of each received APN-Configuration. If the Context-Identifier of a received APN-Configuration matches a Context-Identifier of a stored APN-Configuration, the MME or SGSN shall replace the stored APN-Configuration with the received APN-Configuration. If the Context-Identifier of a received APN-Configuration does not match a Context-Identifier of a stored APN-Configuration, the MME or SGSN shall add the received APN-Configuration to the stored APN-Configurations. If the addition or update of the subscription data succeeds in the MME or SGSN, the Result-Code shall be set to DIAMETER_SUCCESS. The MME or SGSN shall then acknowledge the Insert Subscriber Data message by returning an Insert Subscriber Data Answer.\nFor each of the received APN-Configurations in the APN-Configuration-Profile, if both the MIP6-Agent-Info and the PDN-GW-Allocation-Type AVPs are absent in the APN-Configuration AVP, the MME or SGSN shall perform the PGW selection (static or dynamic) according to the local configuration. If MIP6-Agent-Info is present, and PDN-GW-Allocation-Type is not present, this means that the PDN GW address included in MIP6-Agent-Info has been statically allocated.\nIf the MME/SGSN supports interworking with Gn/Gp-SGSNs, it shall ensure that the context identifier sent over GTPv1 for each of the received APN-Configurations is within the range of 1 and 255.\nNOTE 1:\tIf the MME/SGSN receives from HSS a Contex-Identifier value higher than 255, how this value is mapped to a value between 1 and 255 is implementation specific.\nIf the MME is requested to notify the HSS when the UE becomes reachable, the MME shall set the URRP-MME parameter to indicate the need to inform the HSS about UE reachability, e.g. when the next NAS activity from the UE is detected. If the SGSN is requested to notify the HSS when the UE becomes reachable, the SGSN shall set the URRP-SGSN parameter to indicate the need to inform the HSS about UE reachability, e.g. when the next NAS activity from the UE is detected.\nWhen receiving GPRS-Subscription-Data AVP within the Subscription-Data AVP, the SGSN or combined MME/SGSN shall check the Complete-Data-List-Included-Indicator value. If it indicates \"All_PDP_CONTEXTS_INCLUDED\", the SGSN or combined MME/SGSN shall delete all stored PDP-Contexts and then store all received PDP-Contexts. Otherwise, the SGSN or combined MME/SGSN shall check the Context-Identifier value of each received PDP-Context. If the Context-Identifier of a received PDP-Context matches a Context-Identifier of a stored PDP-Context, the SGSN or combined MME/SGSN shall replace the stored PDP-Context with the received PDP-Context. If the Context-Identifier of a received PDP-Context does not match a Context-Identifier of a stored PDP-Context, the SGSN or combined MME/SGSN shall add the received PDP-Context to the stored PDP-Contexts.\nIf the MME or SGSN receives an empty Subscription-Data AVP, it shall take no action with regard to the stored subscription data.\nWhen receiving HPLMN-ODB AVP within the Subscription-Data AVP, the MME or SGSN shall replace stored HPLMN-ODB data (if any) with the received information rather than add the received information to the stored information. Unsupported Barring categories need not be stored.\nWhen receiving Operator-Determined-Barring AVP within the Subscription-Data AVP, the MME or SGSN shall replace stored ODB subscription information (if any) with the received information rather than add the received information to the stored information. Unsupported Barring categories need not be stored.\nWhen receiving Access-Restriction-Data or Adjacent-Access-Restriction-Data AVPs within the Subscription-Data AVP, the MME or SGSN shall replace the corresponding stored information (if any) with the new received information, rather than adding received information to stored information. The handling of access restrictions per-PLMN is defined in 3GPP TS 23.221 [53], clause 6.3.5a and in 3GPP TS 23.401 [2] clause 4.3.28.\nWhen receiving APN-OI-Replacement AVP within the Subscription-Data AVP, the MME or SGSN shall replace the stored information (if any) with the received information.\nWhen receiving Regional-Subscription-Zone-Code AVP within the Subscription-Data AVP, the MME or SGSN shall replace stored Zone Codes (if any) with the received information rather than add the received information to the stored information. MMEs and SGSNs that do not support regional subscription need not store zone codes. If due to regional subscription restrictions or access restrictions the entire SGSN area is restricted, SGSN shall report it to the HSS by returning the \"SGSN Area Restricted\" indication within the IDA flags.\nWhen receiving CSG-Subscription-Data AVPs within the Subscription-Data AVP the MME or SGSN shall replace all stored information from previously received CSG-Subscription-Data AVPs (if any) with the received information rather than add the received information to the stored information.\nWhen receiving Teleservice-List AVP, Call-Barring-Info, or LCS-Info AVP, the MME or SGSN shall replace stored information (if any) with the received information rather than add the received information to the stored information.\nWhen receiving ProSe-Subscription-Data AVP, the MME or combined MME/SGSN shall replace stored information (if any) with the received information rather than add the received information to the stored information.\nWhen receiving and supporting Reset-ID AVPs within the request, the MME or SGSN shall replace stored information (if any) with received information rather than add received information to stored information.\nWhen receiving the IDR-Flags with the \"T-ADS Data Request\" bit set, and the UE is in attached state, the MME or SGSN or combined MME/SGSN shall return in the IDA message the time stamp of the UE's most recent radio contact and the associated RAT Type, and an indication of whether or not IMS Voice over PS is supported in the current (and most recently used) TA or RA. If the UE is in detached state, the MME or SGSN or combined MME/SGSN shall answer successfully to the T-ADS request from HSS, but it shall not include any of the T-ADS IEs in the response (IMS Voice over PS Sessions Supported, RAT Type and Last UE Activity Time).\nWhen receiving the IDR-Flags with the \"EPS User State Request\" bit and/or \"EPS Location Information Request\" bits set the MME or SGSN shall return the corresponding user information to the HSS. If the serving node is a combined MME/SGSN, and the UE is attached via both E-UTRAN and UTRAN/GERAN on the same node, the combined MME/SGSN shall provide the corresponding user information relevant for both MME and SGSN. If the Current Location Request bit was also set and the UE is in idle mode and is expected to be reachable even when it uses a power saving feature (e.g. extended idle mode DRX or PSM as defined in 3GPP TS 23.685 [55]), then the MME or SGSN or combined MME/SGSN shall page the UE in order to return the most up-to-date corresponding user information. If the Current Location Request bit was also set and either paging is unsuccessful or the UE is not expected to be reachable, then the last known location of the UE shall be returned to the HSS. If the Current Location Request bit was also set and the UE (attached via E-UTRAN) is in connected mode, then the MME or combined MME/SGSN shall use S1AP Location Reporting Control procedure towards the eNB prior to reporting the E-UTRAN Cell Global Identification in order to return the UE's most up-to-date cell information. When the location is returned to the HSS, the MME or the combined MME/SGSN shall provide the age of location information if stored in the MME or the combined MME/SGSN or received from eNB.\nWhen receiving the IDR-Flags with only the \"Current Location Request\" bit set (i.e. the \"EPS Location Information Request\" bit is not set), the MME or SGSN or combined MME/SGSN shall set the Result-Code to DIAMETER_UNABLE_TO_COMPLY.\nIf the \"Local Time Zone Request\" bit was set the MME or SGSN if supported shall provide the Local Time Zone corresponding to the location (e.g. TAI or RAI) of the UE to the HSS.\nIf the MME or SGSN cannot fulfil the received request, e.g. due to a database error or any of the required actions cannot be performed, it shall set the Result-Code to DIAMETER_UNABLE_TO_COMPLY. If subscription data are received, the MME or SGSN shall mark the subscription record \"Subscriber to be restored in HSS\".\nIf trace data are received in the subscriber data, the MME or SGSN shall start a Trace Session. For details, see 3GPP TS 32.422 [23].\nIf the Ext-PDP-Type AVP is present in the PDP-Context AVP, the SGSN or combined MME/SGSN shall ignore the value of the PDP-Type AVP.\nWhen receiving the IDR-Flags with the bit \"Remove SMS Registration\" set, the MME shall consider itself unregistered for SMS.\nIf the subscription data received for a certain APN includes WLAN-offloadability AVP, then the MME or SGSN shall determine the offloadability of the UE's PDN Connection(s) to that APN based on subscription data and locally configured policy (e.g. for roaming users or when the subscription data does not include any offloadability indication).\nNOTE 2:\tAs indicated in clause 7.3.31, if the UE-level access restriction \"HO-To-Non-3GPP-Access Not Allowed\" is set, the offload of PDN Connections to WLAN is not allowed for any APN.\nWhen receiving the IDR-Flags with the \"P-CSCF Restoration Request\" bit set, the MME or SGSN or combined MME/SGSN shall execute the procedures for HSS-based P-CSCF Restoration, as described in 3GPP TS 23.380 [51] clause 5.4.\nIf the subscription data received for the user includes the DL-Buffering-Suggested-Packet-Count AVP, then the MME or SGSN should take into account the subscription data, in addition to local policies, to determine whether to invoke extended buffering of downlink packets at the SGW for High Latency Communication. Otherwise, the MME or SGSN shall make this determination based on local policies only.\nWhen receiving IMSI-Group-Id AVP(s) within the Subscription-Data AVP, the MME or SGSN shall replace stored IMSI-Group Ids (if any) with the received information rather than add the received information to the stored information.\nIn the present clause, if the feature \"Extended Reference IDs\" (see clause 7.3.10) is supported by the HSS and the MME/SGSN, the term \"SCEF Reference ID\" shall refer to the content of the 64-bit long \"SCEF-Reference-ID-Ext\" AVP, and the term \"SCEF Reference ID for Deletion\" shall refer to the content of the 64-bit long \"SCEF-Reference-ID-for-Deletion-Ext\" AVP.\nWhen receiving a Monitoring-Event-Configuration in the IDR:\n-\tif the SCEF Reference ID for Deletion is present in the IDR, the MME or SGSN shall stop the detection of the Monitoring event related to the SCEF Reference ID for Deletion and SCEF-ID pair, and shall delete the corresponding Monitoring event configuration data;\n-\tif the SCEF Reference ID is present in the IDR but not stored in the MME or SGSN, the MME or SGSN shall store the received Monitoring event configuration data  related  to the SCEF Reference ID and SCEF-ID pair, and shall start the detection for the specified Monitoring event(s).\n-\tif the SCEF Reference ID is present in the IDR and stored in the MME or SGSN, the MME or SGSN shall replace the stored Monitoring event configuration data related to the SCEF Reference ID and SCEF-ID pair with the received information.\nNOTE 3:\tIn roaming scenarios the MME/SGSN can reply immediately to the HSS without waiting for the outcome of the interaction with the IWK-SCEF.\nFor the monitoring event configurations for which the configuration status have changed since the last status informed to the HSS, the MME/SGSN shall notify the HSS about the outcome of the interaction with the IWK-SCEF as specified in clause 5.2.5.1.2.\nIf the HSS indicates the support of Monitoring event feature to the MME/SGSN and the MME/SGSN supports Monitoring, the MME/SGSN shall include the Supported-Services AVP with Supported-Monitoring-Event included in the IDA command.\nWhen receiving the Maximum-Response-Time in Monitoring-Event-Configuration in IDR, the MME shall use the Maximum-Response-Time as the Active Time for the usage of PSM in UE. If not, when the MME receives the Active-Time in subscription data, the MME shall use the Active-Time as the Active Time for the usage of PSM in UE.\nWhen receiving AESE-Communication-Pattern AVP(s) within the Subscription-Data AVP with an SCEF Reference ID for which the MME has already stored data, it shall delete the stored data (CP set(s)) and store the received ones.\nWhen receiving AESE-Communication-Pattern AVP(s) within the Subscription-Data AVP with one or more SCEF Reference ID for deletion the MME shall delete the data related to the indicated SCEF Reference ID.\nIf the MME and the UE support an Attach without PDN connection (i.e. EMM-REGISTERED without PDN connection) and the PDN-Connection-Restricted flag is set in the received Subscription-Data-Flags AVP, the MME shall not establish any non-emergency PDN connection and shall tear down any existing non-emergency PDN connection for this user.\nIf the subscription data received for the user includes the Preferred-Data-Mode AVP, for an IP APN configuration or for a non-IP APN configuration with SGi based delivery, then the MME should (if the subscriber is not roaming) or may (if the subscriber is roaming) take into account the subscription data, in addition to local policies and the UE's Preferred Network Behaviour, to determine whether to transmit the traffic associated with this APN over the User Plane and/or over the Control Plane. Otherwise, the MME shall make this determination based on local policies and the UE's Preferred Network Behaviour only.\nIf the MME subscription data received for the user includes the Emergency-Info AVP, the MME shall use the PDN-GW identity contained in such AVP as the PDN-GW used to establish emergency PDN connections with the emergency APN, for non-roaming authenticated UEs requesting the handover of an emergency PDN connection if the MME is configured to use a dynamic PDN-GW for emergency services for such user.\nWhen receiving V2X-Subscription-Data in the IDR, the MME shall determine whether the UE is authorized to use V2X communication over PC5 according to V2X subscription data and UE provided network capability. If the UE is authorized to use V2X communication over PC5, the MME shall store the \"V2X service authorized\" indication together with the UE AMBR used for PC5 interface (i.e. UE-PC5-AMBR), and provide such information to the eNodeB when needed.\nIf the MME/SGSN receives from the HSS an Insert Subscriber Data request without the bit set for \"NR as Secondary RAT\" in the Feature-List AVP, the MME/SGSN, based on local policy, may restrict access for NR as secondary RAT when all relevant entities except HSS supports it.\nIf the MME receives from the HSS Insert Subscriber Data request containing in the subscription data the Core-Network-Restrictions AVP with the bit \"5GC not allowed\" set, the MME shall restrict mobility towards 5GC.\nWhen receiving Paging-Time-Window AVPs within the Subscription-Data AVP, the MME or SGSN shall replace stored information (if any) with the received information rather than add the received information to the stored information.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.221_clause_6.3.5",
        "ts_23.401_clause_4.3.28",
        "clause_7.3.31",
        "ts_23.380_clause_5.4",
        "clause_7.3.10",
        "clause_5.2.5.1.2",
        "ts_23.221",
        "ts_23.401",
        "ts_23.685",
        "ts_32.422",
        "ts_23.380"
      ]
    },
    {
      "chunk_id": "ts_29.272_5.2.2.1.3",
      "section_id": "5.2.2.1.3",
      "section_title": "Detailed behaviour of HSS",
      "content": "The HSS shall make use of this procedure to replace a specific part of the user data stored in the MME or SGSN with the data sent, or to add a specific part of user data to the data stored in the MME or SGSN. The HSS shall also make use of this procedure to indicate to the MME that it is no longer registered for SMS.\nNOTE:\tWhen a Cancel Location message is required for other reasons, the use of IDR to indicate that the MME is no longer registered for SMS is not needed (see clause 5.2.1.2).\nSubscriber-Status AVP shall be present in the Subscription-Data AVP, sent within IDR, if the current value in the MME or SGSN needs to be changed. To remove all Operator Determined Barring Categories the Subscriber-Status shall be set to \"SERVICE_GRANTED\". If Subscriber-Status AVP is present and set to OPERATOR_DETERMINED_BARRING, the Operator-Determined-Barring AVP or HPLMN-ODB AVP shall also be present in the Subscription-Data AVP.\nAccess-Restriction-Data AVP shall be present within the Subscription-Data AVP send within an IDR if the information stored in the MME or SGSN needs to be modified.\nAPN-OI-Replacement AVP shall be present in the Subscription-Data AVP sent within an IDR, if the UE level APN-OI-Replacement has been added or modified in the HSS.\nThe APN-Configuration-Profile AVP shall be present in the Subscription-Data AVP sent within an IDR if the Context-Identifier associated with the default APN configuration is changed or at least one APN-Configuration is added or modified by the HSS. If the default APN is changed in the HSS, the APN-Configuration-Profile AVP shall contain the Context-Identifier associated with the default APN and the APN-Configuration AVP for the default APN. The default APN Configuration shall not contain the Wildcard APN (see 3GPP TS 23.003 [3], clause 9.2); the default APN shall always contain an explicit APN.\nThe EPS-Subscribed-QoS-Profile AVP and the AMBR AVP shall be present in the APN-Configuration AVP when the APN-Configuration AVP is sent in the APN-Configuration-Profile AVP and when the APN-Configuration-Profile AVP is sent within a IDR (as part of the Subscription-Data AVP).\nIf the GPRS-Subscription-Data-Indicator information has been previously received as set in the ULR-Flags during update location procedure for the SGSN or combined MME/SGSN, the HSS shall make use of this procedure to replace the GPRS Subscription Data stored in the SGSN or combined MME/SGSN with the data sent or to add a PDP-Context to the data stored in the SGSN or combined MME/SGSN.\nProSe-Subscription-Data AVP shall be present in the Subscription-Data AVP sent within an IDR, if the ProSe Subscription data has been added or modified in the HSS.\nIf the HSS receives a message (e.g. via MAP ATM or Sh Sh-Subs-Notif) from a Service Related Entity (e.g. IP-SM-GW) indicating that the UE is unreachable,\n-\tthe HSS shall associate the subscription to UE reachability of the service-related entity to the URRP-MME and the URRP-SGSN parameters (if not already done)\n-\tand if the URRP-MME and/or the URRP-SGSN parameters were not already set (i.e. at least one service-related entity already listed as subscribed), the HSS shall\n-\tset the URRP-MME and/or URRP-SGSN parameters and\n-\tsend an IDR command to the registered MME and/or to the registered SGSN including the \"UE Reachability Request flag\" in the IDR Request Flags in order to request the MME and/or SGSN to notify the HSS when the UE becomes reachable again, unless the HSS knows from the previous ULR command that the registered MME and/or the registerd SGSN do not support UE reachability notifications.\nIf the IDR is sent for the only purpose to request the MME and/or SGSN about the UE reachability status notification, the Subscription-Data AVP shall be included empty.\nIf the HSS has received a message from a service related entity requesting EPS User State and/or EPS Location Information without the Serving Node Indication IE, the HSS shall set the \"EPS User State Request\" bit and/or \"EPS Location Information Request\" bit respectively in the IDR-Flags. The HSS may optionally also set the \"Current Location Request\" bit along with the \"EPS Location Information Request\" bit in the IDR-Flags, if the most up-to-date set of information is needed, unless the HSS knows from the previous ULR command that the registered MME and/or the registered SGSN do not support State/Location Information retrieval. If the IDR is sent only for the purpose of requesting the MME or the SGSN User State or Location Information, the Subscription-Data AVP included shall be empty.\nIf the HSS cannot request EPS Location Information from the MME/SGSN e.g. because the UE is purged from the MME/SGSN, the HSS may make use of stored EPS Location information received in a previous IDA or PUR message.\nIf the HSS has received a message from an AS requesting the current access network's support status of \"IMS Voice over PS Sessions\", and there is no indication about homogeneous support of IMS Voice over PS Sessions in all the serving nodes currently registered in HSS for the UE, the HSS shall set the \"T-ADS Data Request flag\" in the IDR Request Flags, unless the HSS knows from the previous ULR command that the registered MME and/or the registered SGSN do not support T-ADS data retrieval. If the IDR is sent for the only purpose to retrieve the \"IMS Voice over PS Sessions Supported\" indication from the MME or SGSN, the Subscription-Data AVP included shall be empty.\nIf the HSS has received a message from an AS requesting the Local Time Zone, the HSS shall set the \" Local Time Zone Request\" bit in the IDR-Flags, unless the HSS knows from the previous ULR command that the registered MME and/or the registered SGSN do not support Local Time Zone retrieval. If the IDR is sent only for the purpose of requesting the Local Time Zone, the Subscription-Data AVP included shall be empty.\nIf the HSS received an indication in a former ULR command from the MME or SGSN about homogeneous support of IMS Voice over PS Sessions in all TA/RAs associated to that serving node, it may use this information to skip the retrieval of T-ADS data. This can only be done if all the registered serving nodes in HSS for the UE indicated in ULR the same type of homogeneous support (i.e. both serving nodes indicated \"SUPPORTED\", or both serving nodes indicated \"NOT_SUPPORTED\"); otherwise, the retrieval of T-ADS data shall be done, to receive the time of the last radio contact with the UE.\nAll APN and PGW-ID pairs stored in the HSS not associated with an explicit APN subscription, (i.e. the access to that APN has been authorized as a consequence of having the Wildcard APN in the user subscription), shall be included by the HSS inside the APN context of the Wildcard APN, as multiple instances of the Specific-APN-Info AVP.\nWhen receiving an Insert Subscriber Data answer with \"SGSN Area Restricted\" the HSS shall set the SGSN area restricted flag as \"SGSN area restricted\".\nSubscribed-VSRVCC AVP may be present within the Subscription-Data AVP sent within an ISR only if the user is subscribed to the SRVCC and vSRVCC.\nIf the HSS determines that the MME shall be unregistered for SMS it shall set the \"Remove SMS Registration\" bit in the IDR-Flags. If the IDR is sent for the only purpose to indicate that the MME is no longer registered for SMS, the Subscription-Data AVP shall be included empty.\nIf the HSS needs to request to the MME/SGSN the execution of the HSS-based P-CSCF restoration procedure, as described in 3GPP TS 23.380 [51] clause 5.4, the HSS shall set the \"P-CSCF Restoration Request\" bit in the IDR-Flags, if supported by the MME/SGSN. If the IDR is sent only for the purpose of requesting the execution of the HSS-based P-CSCF restoration procedures, the Subscription-Data AVP included shall be empty.\nIf the HSS receives a SCEF request to configure Monitoring events for the UE to be handled by the MME/SGSN or receives a SCEF request for deleting Monitoring events for the UE in the MME/SGSN, the HSS shall include Monitoring-Event-Configuration AVP(s) in the Subscription-Data AVP sent within the IDR. If the HSS has registered both an MME and an SGSN as serving nodes for a given user, and both nodes are not part of a same combined MME/SGSN node, the HSS shall send the Monitoring-Event-Configuration AVP(s) to each one of the serving nodes that supports the Monitoring event service. If the HSS receives the IDA with Monitoring-Event-Report AVP(s), the HSS shall forward the Monitoring-Event-Report AVP(s) to the SCEF associated to those Monitoring events.\nIf the HSS does not receive a SCEF request to configure Monitoring events for the UE to be handled by the MME/SGSN and does not receive an Active Time with the Suggested-Network-Configuration AVP , the HSS may send an O&M configured desired Active Time value within the Active-Time AVP.\nIf the HSS receives a Supported-Services AVP it shall only trigger those services which are supported by the MME/SGSN.\nIf the HSS has previously received over SWx (see 3GPP TS 29.273 [59]) the identity of the PDN-GW to be used for the establishment of emergency PDN connections, it shall send it to the registered MME (if any) in the IDR command as part of the Subscription-Data AVP (in the Emergeny-Info AVP).\nIf V2X subscription data has been added or modified in the HSS, the HSS shall include the V2X-Subscription-Data AVP in the Subscription-Data AVP sent within an IDR.\nIf the External-Identifier associated with Monitoring Event Configuration for the UE has been added or modified in the HSS and the MME/SGSN supports the \"External-Identifier\" feature, the HSS shall include the External-Identifier AVP in the Subscription-Data AVP. When multiple External Identifiers are defined for a same subscription, the HSS shall send a default External Identifier in the External-Identifier AVP of the Subscription-Data AVP, and shall include a specific External Identifier (if different from the default External Identifier) associated to each Monitoring Event Configuration in the External-Identifier AVP of each Monitoring-Event-Configuration AVP occurrence inside the Subscription-Data AVP.\nThe Aerial-UE-Subscription-Information AVP may be present within the Subscription-Data AVP sent within an IDR only if the user has Aerial UE subscription information.\nIf Core Network Restrictions in subscription data (5GC allowed/not allowed) has been added or modified in the HSS, the HSS shall include the Core-Network-Restrictions AVP in the Subscription-Data AVP sent within an IDR.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.1.2",
        "ts_23.003_clause_9.2",
        "ts_23.380_clause_5.4",
        "ts_23.003",
        "ts_23.380",
        "ts_29.273"
      ]
    },
    {
      "chunk_id": "ts_29.272_5.2.2.2.1",
      "section_id": "5.2.2.2.1",
      "section_title": "General",
      "content": "This procedure shall be used between the MME and the HSS and between the SGSN and the HSS, to remove some data of the HSS user profile stored in the MME or SGSN. The procedure shall be invoked by the HSS and it corresponds to the functional level operation Delete Subscriber Data (see 3GPP TS 23.401 [2]).\nIt shall be used to remove:\n-\ta subset (wich may or may not be the complete set of APN configurations) of the APN Configuration Profile for the subscriber from the SGSN or combined MME/SGSN;\n-\ta proper subset (i.e. a subset that is not equal to the complete set of APN configurations and does not contain the default APN configuration) of the APN Configuration Profile for the subscriber from the MME;\n-\tthe regional subscription;\n-\tthe subscribed charging characteristics;\n-\tSession Transfer Number for SRVCC;\n-\ttrace data;\n-\tProSe subscription data;\n-\tReset-IDs;\n-\tMSISDN;\n-\tUE Usage Type;\n-\tV2X subscription data.\n-\tExternal Identifier(s).\nIf the HSS knows that the UE has attached to the MME and SGSN parts of the same combined MME/SGSN via both E-UTRAN and UTRAN/GERAN(refer to clause 5.2.1.1.2, 5.2.1.1.3 for further details), the HSS should invoke this procedure for a single time to remove some or all data of the HSS user profile stored in the combined MME/SGSN, i.e. not invoke this procedure for each of the MME and the SGSN registered respectively.\nIf the Node-Type-Indicator information has been previously received as cleared in the ULR-Flags and if the MME has not been registered for SMS during update location procedure for the MME, the HSS may skip any removal of the SMS related subscription data and consequently does not have to make use of the Delete Subscriber Data procedure to update the SMS subscription data in the MME.\nThis procedure is mapped to the commands Delete-Subscriber-Data-Request/Answer (DSR/DSA) in the Diameter application specified in clause 7.\nTable 5.2.2.2.1/1 specifies the involved information elements for the request.\nTable 5.2.2.2.1/2 specifies the involved information elements for the answer.\nTable 5.2.2.2.1/1: Delete Subscriber Data Request\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nIMSI\nUser-Name (See IETF RFC 6733 [61])\nM\nThis information element shall contain the user IMSI, formatted according to 3GPP TS 23.003 [3], clause 2.2.\nSupported Features\n(See 3GPP TS 29.229 [9])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nDSR Flags\n(See 7.3.25)\nDSR-Flags\nM\nThis Information Element shall contain a bit mask. See 7.3.25 for the meaning of the bits.\nTrace Reference\n(See 7.3.64)\nTrace- Reference\nC\nThis parameter shall contain the same value as used for the activation of the Trace Session.\nThis element shall be present only if the \"Trace Data Withdrawal\" bit is set in the DSR-Flags.\nContext Identifier\n(See 7.3.27)\nContext-Identifier\nC\nThis parameter shall identify the PDN subscription context or GPRS-PDP context that shall be deleted.\nThis element shall be present only if the \"PDN subscription contexts Withdrawal\" bit or the \"PDP context withdrawal\" bit is set in the DSR-Flags. In the \"PDN subscription contexts Withdrawal\" case, the Context-Identifier shall not be associated with the default APN configuration.\nFor the compatibility with the MAP protocol as defined in the 3GPP TS 29.002 [24], this parameter shall not have a value of zero.\nTS Code List\n(See 7.3.100)\nTS-Code\nC\nThis parameter shall contain the teleservice codes that are to be deleted from the subscription.\nThis element shall be present only if the \"SMS Withdrawal\" bit is set in the DSR-Flags and the SMS related teleservice codes are to be deleted.\nSS Code List\n(See 7.3.87)\nSS-Code\nC\nThis parameter shall contain the supplementary service codes that are to be deleted from the subscription.\nThis element shall be present only if the \"SMS Withdrawal\" bit is set or the \"LCS Withdrawal\" bit is set in the DSR-Flags.\nSCEF-Id\n(See 3GPP TS 29.336 [54])\nSCEF-ID\nC\nThis parameter shall contain the identity of the SCEF to which monitoring events that are to be deleted are associated.\nThis element shall be present if the \"Delete monitoring events\" bit is set in the DSR-Flags.\neDRX Related RAT List\neDRX-Related-RAT\nC\nThis parameter shall contain the RAT types for which the eDRX Cycle Lengths is to be deleted from the subscription.\nThis element shall be present only if the \"eDRX-Cycle-Length-Withdrawal\" bit is set in the DSR-Flags and the corresponding eDRX Cycle Lengths are to be deleted.\nIf the \"eDRX-Cycle-Length-Withdrawal\" bit is set in DSR-Flags, but the eDRX-Related-RAT AVP is absent in this command, the MME/SGSN shall delete the stored eDRX cycle lengths for all RATs.\nExternal Identifiers\nExternal-Identifiers\nO\nIf present, this parameter shall contain the External Identifier(s) to be deleted from the subscriber data; the MME/SGSN shall also delete those monitoring events that include an External-Identifier AVP in their event configuration matching any of the External-Identifiers in this IE.\nThis IE shall be absent if the \"External-Identifier-Withdrawal\" bit is not set in the DSR-Flags.\nIf this IE is absent, and \"External-Identifier-Withdrawal\" bit is set in DSR-Flags, the MME/SGSN shall delete the default External-Identifier in the Subscription-Data AVP and it shall also delete all monitoring events that include an External-Identifier AVP in their event configuration.\nTable 5.2.2.2.1/2: Delete Subscriber Data Answer\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nSupported Features\n(See 3GPP TS 29.229 [9])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nResult\n(See 7.4)\nResult-Code / Experimental-Result\nM\nThis IE shall contain the result of the operation.\nThe Result-Code AVP shall be used to indicate success / errors as defined in the Diameter base protocol (see IETF RFC 6733 [61]).\nThe Experimental-Result AVP shall be used for S6a/S6d errors. This is a grouped AVP which shall contain the 3GPP Vendor ID in the Vendor-Id AVP, and the error code in the Experimental-Result-Code AVP.\nThe following errors are applicable in this case:\n- User Unknown\nDSA Flags\n(See 7.3.26)\nDSA-Flags\nC\nThis Information Element shall contain a bit mask. See 7.3.26 for the meaning of the bits.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_5.2.1.1.2",
        "clause_7",
        "ts_23.003_clause_2.2",
        "table_5.2.2.2.1",
        "ts_23.401",
        "ts_23.003",
        "ts_29.229",
        "ts_29.002",
        "ts_29.336"
      ]
    },
    {
      "chunk_id": "ts_29.272_5.2.2.2.2",
      "section_id": "5.2.2.2.2",
      "section_title": "Detailed behaviour of the MME and the SGSN",
      "content": "When receiving a Delete Subscriber Data request, the MME or SGSN shall check whether the IMSI is known.\nIf it is not known, a result code of DIAMETER_ERROR_USER_UNKNOWN shall be returned.\nIf it is known, but the Context-Identifier is associated with the default APN configuration, the MME shall not delete the PDN subscription context, and return an error with a Result-Code set to DIAMETER_UNABLE_TO_COMPLY. Otherwise, the MME or SGSN shall delete the corresponding data according to the indication as sent in the request, and acknowledge the Delete Subscriber Data message by returning a Delete Subscriber Data Answer.\nIf an MME receives a Delete Subscriber Data Request with the \"Complete APN Configuration Profile Withdrawal\" bit set in the DSR-Flags AVP, it shall return an error with a Result-Code set to DIAMETER_UNABLE_TO_COMPLY.\nIf the deletion of the subscription data succeeds in the MME or SGSN, the Result-Code shall be set to DIAMETER_SUCCESS.\nIf the Regional Subscription is deleted from the subscription data, the SGSN shall check for its routing areas whether they are allowed or not. If the entire SGSN area is restricted, SGSN shall report it to the HSS by returning the \"SGSN Area Restricted\" indication within the DSA flags.\nIf the EPS Subscription Data is deleted from the subscription data, the MME or SGSN shall check whether all EPS Subscription Data for the subscriber is deleted or if only a subset of the stored EPS Subscription Data for the subscriber is deleted, the MME or SGSN may then deactivate the associated affected active EPS bearers.\nIf the Subscribed Charging Characteristics are deleted from the subscription data, the Gn/Gp-SGSN shall maintain the existing Subscribed Charging Characteristics throughout the lifetime of the existing MM and PDP contexts, see 3GPP TS 32.251 [33].\nIf the Subscribed Charging Characteristics are deleted from the subscription data, the MME or S4-SGSN shall maintain the existing Subscribed Charging Characteristics throughout the lifetime of the existing IP CAN bearer, see 3GPP TS 32.251 [33].\nIf the MSISDN is deleted from the subscription data, the MME or SGSN shall maintain the existing MSISDN throughout the lifetime of the existing PDN connections that were established prior to the deletion of the MSISDN (i.e., other network nodes, such as PDN-GW, are not informed of such deletion for the existing PDN connections). The MME/SGSN shall also delete those monitoring events related to the deleted MSISDN.\nIf the MME or SGSN cannot fulfil the received request for other reasons, e.g. due to a database error, it shall set the Result-Code to DIAMETER_UNABLE_TO_COMPLY. In this case, the MME or SGSN shall mark the subscription record \"Subscriber to be restored in HSS\".\nIf trace data are deleted from the subscription data, the MME or SGSN shall deactivate the Trace Session identified by the trace reference. For details, see 3GPP TS 32.422 [23].\nIf External Identifiers are requested to be deleted from the subscription data, the MME/SGSN shall check whether any of the identifiers to be deleted match the default External-Identifier provided by HSS in the Subscrition-Data AVP (unless all External Identifiers are requested to be deleted from the subscription); in such case, the MME/SGSN shall reject the request and return an error with a Result-Code set to DIAMETER_UNABLE_TO_COMPLY (if default External Identifier is wanted to be deleted, no External Identifier must be provided in the request). The MME/SGSN shall also delete those monitoring events related to the deleted External Identifiers, or all monitoring events associated to any External Identifier if default External Identifier is deleted.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_32.251",
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_5.2.2.2.3",
      "section_id": "5.2.2.2.3",
      "section_title": "Detailed behaviour of the HSS",
      "content": "The HSS shall make use of this procedure to remove deleted subscription data from the MME or SGSN.\nThe HSS shall make use of this procedure to remove deleted GPRS Subscription Data from the SGSN or combined MME/SGSN if the GPRS-Subscription-Data-Indicator information has been previously received as set in the ULR-Flags during update location procedure for the MME.\nThe HSS shall not set the \"Complete APN Configuration Profile Withdrawal\" bit in the DSR-Flags AVP when sending a Delete Subscriber Data Request to an MME, since the default APN shall always be present in an MME.\nWhen receiving a Delete Subscriber Data Answer with \"SGSN Area Restricted\" the HSS shall set the SGSN area restricted flag as \"SGSN area restricted\".",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_5.2.3.1.1",
      "section_id": "5.2.3.1.1",
      "section_title": "General",
      "content": "The Authentication Information Retrieval Procedure shall be used by the MME and by the SGSN to request Authentication Information from the HSS.\nThis procedure is mapped to the commands Authentication-Information-Request/Answer (AIR/AIA) in the Diameter application specified in clause 7.\nTable 5.2.3.1.1/1 specifies the involved information elements for the request.\nTable 5.2.3.1.1/2 specifies the involved information elements for the answer.\nTable 5.2.3.1.1/1: Authentication Information Request\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nIMSI\nUser-Name (See IETF RFC 6733 [61])\nM\nThis information element shall contain the user IMSI, formatted according to 3GPP TS 23.003 [3], clause 2.2.\nSupported Features\n(See 3GPP TS 29.229 [9])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nRequested E-UTRAN Authentication Info\n(See 7.3.11)\nRequested-EUTRAN-Authentication-Info\nC\nThis information element shall contain the information related to authentication requests for E-UTRAN.\nRequested UTRAN/GERAN Authentication Info\n(See 7.3.12)\nRequested-UTRAN-GERAN Authentication-Info\nC\nThis information element shall contain the information related to authentication requests for UTRAN or GERAN.\nVisited PLMN ID\n(See 7.3.9)\nVisited-PLMN-ID\nM\nThis IE shall contain the MCC and the MNC of the visited PLMN, see 3GPP TS 23.003 [3].\nAIR Flags\n(See 7.3.201)\nAIR-Flags\nO\nThis IE, if present, contains a bit mask. See clause 7.3.201 for the meaning of the different bits.\nTable 5.2.3.1.1/2: Authentication Information Answer\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nResult\n(See 7.4)\nResult-Code / Experimental-Result\nM\nThis IE shall contain the result of the operation.\nThis IE shall contain the Result-Code AVP shall be used to indicate success / errors as defined in the Diameter base protocol (see IETF RFC 6733 [61]).\nThe Experimental-Result AVP shall be used for S6a/S6d errors. This is a grouped AVP which shall contain the 3GPP Vendor ID in the Vendor-Id AVP, and the error code in the Experimental-Result-Code AVP.\nThe following errors are applicable in this case:\n- User Unknown\n- Unknown EPS Subscription\n- Authentication Data Unavailable\nError-Diagnostic\nError-Diagnostic\nO\nIf the Experimental Result indicated \"Unknown EPS Subscription\", Error Diagnostic may be present to indicate whether or not GPRS subscription data are subscribed (i.e. whether or not Network Access Mode stored in the HSS indicates that only CS service is allowed).\nSupported Features\n(See 3GPP TS 29.229 [9])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nAuthentication Info\n(See 7.3.17)\nAuthentication-Info\nC\nThis IE shall contain the Authentication Vectors.\nUE Usage Type\n(See 7.3.202)\nUE-Usage-Type\nC\nThis IE shall be present if the HSS supports the Dedicated Core Networks feature, and the \"Send UE Usage Type\" flag was set in the AIR-Flags AVP in the AIR command, and this information is available in the user subscription.\nIf present, this IE shall contain the UE Usage Type of the subscriber (see clause 7.3.202).",
      "chunk_type": "definition",
      "cross_references": [
        "clause_7",
        "ts_23.003_clause_2.2",
        "clause_7.3.201",
        "clause_7.3.202",
        "table_5.2.3.1.1",
        "ts_23.003",
        "ts_29.229"
      ]
    },
    {
      "chunk_id": "ts_29.272_5.2.3.1.2",
      "section_id": "5.2.3.1.2",
      "section_title": "Detailed behaviour of the MME and the SGSN",
      "content": "The MME or SGSN shall make use of this procedure in order to retrieve the Authentication Vectors from the HSS.\nIf the MME or SGSN supports Emergency services for users in limited service state, and the user's IMSI is not available from the UE, or the user's IMSI is marked as unauthenticated, the MME or SGSN shall not make use of the Authentication Information Retrieval procedure.\nIf the request is triggered by a synchronization failure during E-UTRAN authentication, the MME or combined MME/SGSN shall include the Re-Synchronization Information in the Requested-EUTRAN-Authentication-Info AVP in the request.\nIf the request is triggered by a synchronization failure during UTRAN or GERAN authentication, the SGSN or combined MME/SGSN shall include the Re-Synchronization Information in the Requested-UTRAN-GERAN-Authentication-Info AVP in the request.\nRe-Synchronization Information shall not be present in both the Requested-EUTRAN-Authentication-Info AVP and the Requested-UTRAN-GERAN-Authentication-Info AVP.\nA stand alone MME shall include the Requested-EUTRAN-Authentication-Info AVP and shall not include the Requested-UTRAN-GERAN-Authentication-Info AVP in the request. The Immediate-Response-Preferred AVP should be present if a EUTRAN-Vector is needed for immediate use.\nA stand alone SGSN shall not include the Requested-EUTRAN-Authentication-Info AVP and shall include the Requested-UTRAN-GERAN-Authentication-Info AVP in the request. The Immediate-Response-Preferred AVP should be present if a UTRAN/GERAN-Vector is needed for immediate use.\nA combined MME/SGSN may include both the Requested-EUTRAN-Authentication-Info AVP and the Requested-UTRAN-GERAN-Authentication-Info AVP in the request. If both the Requested-EUTRAN-Authentication-Info AVP and the Requested-UTRAN-GERAN-Authentication-Info AVP are present in the request, the Immediate-Response-Preferred AVP shall be present if the requested authentication vectors are needed for immediate use.  The content of the Immediate-Response-Preferred AVP shall correspond to the access type which the UE is currently to be authenticated. The Immediate-Response-Preferred AVP shall not be present in both the Requested-EUTRAN-Authentication-Info AVP and the Requested-UTRAN-GERAN-Authentication-Info AVP. The presence of an Immediate-Response-Preferred AVP shall indicate that a vector is needed for immediate use.\nWhen EUTRAN-AVs and UTRAN-AVs or GERAN-AVs are requested, presence of Immediate-Response-Preferred AVP within the Requested-EUTRAN-Authentication-Info AVP shall indicate that EUTRAN-AVs are requested for immediate use in the MME/SGSN; presence of Immediate-Response-Preferred AVP within the Requested-UTRAN-GERAN-Authentication-Info AVP shall indicate that UTRAN-AVs or GERAN-AVs are requested for immediate use in the MME/SGSN. It may be used by the HSS to determine the number of vectors to be obtained from the AuC and the number of vectors downloaded to the MME or SGSN.\nIf the MME or SGSN supports the Dedicated Core Networks functionality, and the MME or SGSN needs to retrieve the UE Usage Type from the HSS, it shall set the \"Send UE Usage Type\" flag in the AIR-Flags AVP in the AIR command.\nWhen receiving an Authentication Information response from the HSS, the MME or SGSN shall check the Result Code. If it indicates success and Authentication Information is present in the result, the MME or SGSN shall use the received vectors. For details see 3GPP TS 33.401 [5].\nIf the MME or SGSN supports Emergency services for users in limited service state, the MME or SGSN shall proceed even if the Authentication Information Retrieval procedure has failed. In this case, the MME or SGSN shall mark the user's IMSI as unauthenticated.\nVectors with lower Item Number should be used before Vectors with higher Item Number are used in the MME or SGSN. For Vectors received within different requests those received by the earlier request should be used before those received by the later request.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_33.401"
      ]
    },
    {
      "chunk_id": "ts_29.272_5.2.3.1.3",
      "section_id": "5.2.3.1.3",
      "section_title": "Detailed behaviour of the HSS",
      "content": "When receiving an Authentication Information request the HSS shall check whether subscription data exists for the IMSI.\nIf the HSS determines that there is not any type of subscription for the IMSI (including EPS, GPRS and CS subscription data), a result code of DIAMETER_ERROR_USER_UNKNOWN shall be returned.\nIf the Authentication Information Request contains a Requested-EUTRAN-Authentication-Info AVP but no Requested-UTRAN-GERAN-Authentication-Info AVP, and the subscriber has not any APN configuration, the HSS shall return a Result Code of DIAMETER_ERROR_UNKNOWN_EPS_SUBSCRIPTION.\nIf the Authentication Information Request contains a Requested-UTRAN-GERAN-Authentication-Info AVP but no Requested-EUTRAN-Authentication-Info AVP, and the subscriber has neither an APN configuration profile nor GPRS subscription data, the HSS shall return a Result Code of DIAMETER_ERROR_UNKNOWN_EPS_SUBSCRIPTION.\nIf the Authentication Information Request contains both Requested-EUTRAN-Authentication-Info AVP and Requested-UTRAN-GERAN-Authentication-Info AVP, and the Requested-EUTRAN-Authentication-Info AVP does not contain an Immediate-Response-Preferred AVP, and the subscriber has not any APN configuration, the HSS shall not return E-UTRAN vectors.\nIf the Authentication Information Request contains both Requested-EUTRAN-Authentication-Info AVP and Requested-UTRAN-GERAN-Authentication-Info AVP, and the Requested-EUTRAN-Authentication-Info AVP contains an Immediate-Response-Preferred AVP, and the subscriber does not have any APN configuration, the HSS shall return a Result Code of DIAMETER_ERROR_UNKNOWN_EPS_SUBSCRIPTION.\nWhen sending DIAMETER_ERROR_UNKNOWN_EPS_SUBSCRIPTION, an Error Diagnostic information may be added to indicate whether or not GPRS subscription data are subscribed (i.e. whether or not Network Access Mode stored in the HSS indicates that only circuit service is allowed).\nIf EUTRAN-Authentication-Info is requested, the HSS shall check if serving nodes within the realm identified by the received Origin-Realm AVP are allowed to request authentication information for use in the serving network identified by the received Visited-PLMN-Id AVP.\nThe HSS shall then request the AuC to generate the corresponding requested Authentication Vectors (AVs). Subject to load considerations and/or other implementation specific considerations which may be based on the presence of an Immediate-Response-Preferred AVP, less AVs than the requested number of AVs may be generated.\nIf EUTRAN-Authentication-Info is requested, when receiving AVs from the AuC, the HSS shall generate the KASME before sending the response to the MME or combined MME-SGSN.\nIf the AuC is unable to calculate any corresponding AVs due to unallowed attachment for the UE, e.g. the UE is attaching via E-UTRAN with a SIM card equipped, the HSS shall return an error DIAMETER_AUTHORIZATION_REJECTED, the HSS shall not return any AV to the requesting node in the response. Otherwise, if no corresponding pre-computed AV is available, and the AuC is unable to calculate any corresponding AVs due to unknown failures, such as the internal database error, the result code shall be set to DIAMETER_AUTHENTICATION_DATA_UNAVAILABLE. The MME or the SGSN may request authentication vectors again.\nFor details see 3GPP TS 33.401 [5]. KASME generation is not performed before sending the response to the SGSN.\nIf the Requested-EUTRAN-Authentication-Info AVP is present in the request, the HSS shall download E-UTRAN authentication vectors to the MME. If the Requested-UTRAN-GERAN-Authentication-Info AVP is present in the request, the HSS shall download UTRAN or GERAN authentication vectors to the SGSN.\nIf the Immediate Response Preferred parameter has been received, the HSS may use it together with the number of requested vectors and the number of vectors stored in the HSS that are pre-computed to determine the number of vectors to be obtained from the AuC. The HSS may return less number of vectors than requested to the MME or SGSN. If both the Requested-EUTRAN-Authentication-Info AVP and the Requested-UTRAN-GERAN-Authentication-Info AVP are in the request, and one of them includes the Immediate Response Preferred parameter, the HSS may omit the vectors request that are not for immediate use. If both the Requested-EUTRAN-Authentication-Info AVP and the Requested-UTRAN-GERAN-Authentication-Info AVP are in the request, and both of them includes the Immediate Response Preferred parameter, the HSS may return E-UTRAN authentication vectors and UTRAN or GERAN authentication vectors. KASME is always computed for each E-UTRAN vector due to the PLMN-binding before sending the response to the MME independent of the presence of the Immediate Response Preferred parameter.\nIf the Re-Synchronization-Info AVP has been received, the HSS shall check the AUTS parameter before sending new authentication vectors to the MME or the SGSN. For details see 3GPP TS 33.102 [18]. If both the Requested-EUTRAN-Authentication-Info AVP and the Requested-UTRAN-GERAN-Authentication-Info AVP are in the request, and both of them include the Re-Synchronization-Info AVP, the HSS shall not check the AUTS parameter and return the result code of DIAMETER_UNABLE_TO_COMPLY. Any authentication vectors shall not be sent by the HSS to the requesting node in the response.\nIf more than one EPS or UTRAN or GERAN Vector is to be included within one Authentication-Info AVP, the Item-Number AVP shall be present within each Vector.\nIf the HSS supports the Dedicated Core Networks functionality, and the MME or SGSN has set the \"Send UE Usage Type\" flag in the AIR-Flags AVP in the AIR command:\n-\tif the UE Usage Type value is available in the subscription data of the user:\n-\tif the Immediate Response Preferred parameter is not present in the Requested-EUTRAN-Authentication-Info nor in the Requested-UTRAN-GERAN-Authentication-Info, the HSS may return no authentication vectors in the response; the HSS shall then return the result code DIAMETER_SUCCESS and may return the generated AVs (if any) to the MME or SGSN;\n-\tthe HSS shall include the UE-Usage-Type AVP in the AIA response command if the result code is DIAMETER_SUCCESS or DIAMETER_AUTHENTICATION_DATA_UNAVAILABLE.\n-\tif the UE Usage Type value is not available in the subscription data of the user, the HSS shall answer as if the MME/SGSN had not requested the UE Usage Type parameter.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_33.401",
        "ts_33.102"
      ]
    },
    {
      "chunk_id": "ts_29.272_5.2.4.1.1",
      "section_id": "5.2.4.1.1",
      "section_title": "General",
      "content": "The Reset Procedure shall be used by the HSS, after a restart, to indicate to the MME and to the SGSN that a failure has occurred.\nThe Reset Procedure may also be used by the HSS as part of operation and maintenance actions e.g. to allow planned HSS outage without service interruption, or to update subscription data shared by multiple subscribers.\nThis procedure is mapped to the commands Reset-Request/Answer (RSR/RSA) in the Diameter application specified in clause 7.\nTable 5.2.4.1.1/1 specifies the involved information elements for the request.\nTable 5.2.4.1.1/2 specifies the involved information elements for the answer.\nTable 5.2.4.1.1/1: Reset Request\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nUser Id List\n(See 7.3.50)\nUser-Id\nO\nThis IE shall contain a list of User-Ids where a User-Id comprises the leading digits of an IMSI (i.e. MCC, MNC, leading digits of MSIN) and it shall identify the set of subscribers whose IMSIs begin with the User-Id. The HSS may include this information element if the occurred failure is limited to subscribers identified by one or more User-Ids.\nSupported Features\n(See 3GPP TS 29.229 [9])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nReset-IDs\n(See 7.3.184)\nReset-ID\nO\nIf present, this information element identifies the set of impacted subscribers.\nSubscription Data\n(See 7.3.2)\nSubscription-Data\nO\nIf the Reset Procedure is used to add/ modify subscription data shared by multiple subscribers, this Information Element shall contain the part of the subscription profile that either is to be added to the subscription profile stored in the MME or SGSN or combined MME/SGSN or is replacing a part of the subscription profiles of the impacted subscribers stored in the MME or SGSN.\nShall be absent if Subscription-Data-Deletion AVP is present.Shall be absent if Reset-ID AVP is absent\nSubscription Data Deletion\n(See 7.3.208)\nSubscription-Data-Deletion\nO\nIf the Reset Procedure is used to delete subscription data shared by multiple subscribers, this Information Element shall contain identifications of the part of the subscription profile that is to be deleted from the subscription profiles of the impacted subscribers stored in the MME or SGSN or combined MME/SGSN.\nShall be absent if Subscription-Data AVP is present.\nShall be absent if Reset-ID AVP is absent\nTable 5.2.4.1.1/2: Reset Answer\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nSupported Features\n(See 3GPP TS 29.229 [9])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nResult\n(See 7.4)\nResult-Code / Experimental-Result\nM\nThis IE shall contain the result of the operation.\nThe Result-Code AVP shall be used to indicate success / errors as defined in the Diameter base protocol (see IETF RFC 6733 [61]).\nThe Experimental-Result AVP shall be used for S6a/S6d errors. This is a grouped AVP which shall contain the 3GPP Vendor ID in the Vendor-Id AVP, and the error code in the Experimental-Result-Code AVP.\nThere are no Experimental-Result codes applicable for this command.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_7",
        "table_5.2.4.1.1",
        "ts_29.229"
      ]
    },
    {
      "chunk_id": "ts_29.272_5.2.4.1.2",
      "section_id": "5.2.4.1.2",
      "section_title": "Detailed behaviour of the MME and the SGSN",
      "content": "When receiving a Reset message neither containing Subscription-Data nor Subscription-Data-Deletion the MME or SGSN or combined MME/SGSN shall mark all impacted subscriber records \"Location Information Confirmed in HSS \" as \"Not Confirmed\".\nWhen receiving a Reset message containing Subscription-Data or Subscription-Data-Deletion the MME or SGSN or combined MME/SGSN shall update all impacted subscriber records accordingly, i.e. each impacted subscriber record is updated as if an individual IDR or DSR for that subscriber was received; for details see clauses 5.2.2.1.2 and 5.2.2.2.2. The MME or SGSN or combined MME/SGSN shall not mark successfully updated subscriber records \"Location Information Confirmed in HSS \" as \"Not Confirmed\". If an impacted subscriber record cannot be updated for any reason (e.g. the updated data is considered not shareable by the MME or SGSN or combined MME/SGSN, or the update requires an individual acknowledgement to be sent to the HSS), the MME or SGSN or combined MME/SGSN shall mark that record \"Location Information Confirmed in HSS \" as \"Not Confirmed\".\nNOTE:\tWhich subscription data are considered by the MME or SGSN or combined MME/SGSN not shareable by multiple subscribers is implementation specific.\nIf the update of shared subscription data requires only local updates in the MME or SGSN or combined MME/SGSN (i.e., the update of the profile does not imply to initiate any signalling interaction towards other network nodes), the updates should be performed immediately (e.g. deleting an Operator Determined Barring).\nIf the update of shared subscription data implies initiating a signalling interaction towards other nodes (e.g. towards the PGW/PCRF for the change of an APN configuration parameter, such as APN-AMBR), depending on the UE's state the following shall apply:\n-\tIf the UE is in CONNECTED state, the updates shall be performed immediately including signalling towards other nodes.\n-\tIf the UE is in IDLE state, the signalling towards other nodes should be deferred to the next authenticated radio contact with that UE.\nNOTE:\tThe rational for the recommendation to defer signalling towards other nodes until the next authenticated radio contact is to consider impacts to the network only when the updates are required, and to spread the signalling towards other nodes over some time, based on user's activity.\nIn both cases, to avoid high processing/signalling load resulting from shared subscription data update, processing/signalling actions resulting from data updates in the MME or SGSN or combined MME/SGSN may take a maximum operator configuration-depending time.\nIf the Reset-IDs IE is supported and received, the MME or SGSN or combined MME/SGSN shall make use of the Reset-IDs (together with the HSS's realm) in order to determine which subscriber records are impacted (i.e. check whether at least one received Reset-ID is associated with the subscriber); otherwise the MME or SGSN or combined MME/SGSN shall make use of the HSS Identity received in the Origin-Host AVP (by comparing it with the value stored after successful ULA) and may make use of the received User-Id-List (if any) in order to determine which subscriber records are impacted.\nAt the next authenticated radio contact with the UE concerned, if the subscriber record \"Location Information Confirmed in HSS\" is marked as \"Not Confirmed\", the restoration procedure shall be triggered.\nSee also 3GPP TS 29.118 [46] clause 5.9.2.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.118_clause_5.9.2",
        "ts_29.118"
      ]
    },
    {
      "chunk_id": "ts_29.272_5.2.4.1.3",
      "section_id": "5.2.4.1.3",
      "section_title": "Detailed behaviour of the HSS",
      "content": "The HSS shall make use of this procedure in order to indicate to all relevant MMEs, SGSN, and combined MME/SGSNs that the HSS has restarted and may have lost the current MME-Identity and SGSN-Identity of some of its subscribers who may be currently roaming in the MME area and/or SGSN area, and that the HSS, therefore, cannot send a Cancel Location messages or Insert Subscriber Data messages when needed.\nThe HSS may make use of this procedure in order to indicate to all relevant MMEs, SGSN, and combined MME/SGSNs that the HSS has updated subscription data shared by some of its subscribers who may be currently roaming in the MME area and/or SGSN area.\nIf the Reset-ID feature is not supported by the MME/SGSN and HSS, the HSS optionally may include a list of Ids identifying a subset of subscribers served by the HSS, if the occurred failure is limited to those subscribers.\nIf the Reset-ID feature is supported by the MME or SGSN, the HSS optionally may include one (or several) Reset-ID AVPs identifying e.g. failed hardware components if the occured failure is limited to those subscribers associated with e.g. the identified failed hardware components.\nThe HSS should invoke this procedure towards a combined MME/SGSN only for a single time even if some of the impacted subscribers are attached to the combined MME/SGSN via UTRAN/GERAN and some of the impacted subscribers are attached to the combined MME/SGSN via E-UTRAN.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_5.2.5.1.1",
      "section_id": "5.2.5.1.1",
      "section_title": "General",
      "content": "The Notification Procedure shall be used between the MME and the HSS and between the SGSN and the HSS when an inter MME or SGSN location update does not occur but the HSS needs to be notified about\n-\tan update of terminal information;\n-\tan update of the UE SRVCC capability (only if the MME/SGSN supports SRVCC).\nThe Notification Procedure shall also be used between the MME and the HSS and between the SGSN and the HSS if the HSS needs to be notified about:\n-\tan assignment/change of a dynamically allocated PDN GW for an APN, if such a notification is needed taking into account the access restrictions and the type of PDN;\nNOTE:\tIf the PDN is of type \"non-IP\", the APN is not accessible via non-3GPP access and therefore the PDN-GW ID does not need to be conveyed across accesses.\n-\tan assignment/change of a dynamically allocated PDN GW for the establishment of emergency PDN connections, if such notification is needed for a non roaming authenticated user, based on operator policy (e.g. on whether the operator uses static PDN GW or not for emergency services) taking into account the access restrictions and feature support;\n-\tthe failed monitoring event configurations at the MME or SGSN (if received in ULA) or the status of the monitoring event configurations at the IWK-SCEF;\n-\tthe deletion of a monitoring event configuration in SCEF for a UE (i.e. due to an SCEF restart, see 3GPP TS 23.007 [43]).\nThe Notification Procedure shall be used between the MME and the HSS when an inter MME location update does not occur but the HSS needs to be notified about\n-\tthe need to send a Cancel Location to the current SGSN.\nThe Notification Procedure shall be used between the MME and the HSS when the \"SMS in MME\" feature is applied and between the SGSN and the HSS when an earlier short message delivery failed and the HSS needs to be notified about:\n-\tthe UE is reachable or the UE has memory capacity available to receive one or more short messages.\nThe Notification Procedure shall be used between the MME and the HSS and between the SGSN and the HSS when the HSS has requested to be notified about:\n-\tthe UE is reachable.\nThe Notification Procedure shall be used between the MME and the HSS and between the SGSN and the HSS to notify the HSS about:\n-\tan update of the Homogeneous Support of IMS Voice Over PS Sessions.\nThe Notification Procedure shall be used between the MME and the HSS to notify the HSS about:\n-\tremoval of MME registration for SMS.\nThis procedure is mapped to the commands Notify-Request/Answer (NOR/NOA) in the Diameter application specified in clause 7.\nTable 5.2.5.1.1/1 specifies the involved information elements for the request.\nTable 5.2.5.1.1/2 specifies the involved information elements for the answer.\nTable 5.2.5.1.1/1: Notify Request\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nIMSI\nUser-Name (See IETF RFC 6733 [61])\nM\nThis information element shall contain the user IMSI, formatted according to 3GPP TS 23.003 [3], clause 2.2.\nSupported Features\n(See 3GPP TS 29.229 [9])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nTerminal Information\n(See 7.3.3)\nTerminal-Information\nC\nThis information element shall contain information about the user's mobile equipment.\nWhen notifying the HSS about any change of Terminal Information, the MME or SGSN shall include the new Terminal Information in the request.\nWithin this Information Element, only the IMEI and the Software-Version AVPs shall be used on the S6a/S6d interface.\nPDN GW Identity\n(See 7.3.45)\nMIP6-Agent-Info\nC\nThis IE shall contain the identity of the selected and dynamically allocated PDN GW for an APN. It shall be present if a new PDN-GW has been selected and the subscriber is allowed handover to non 3GPP access or 5GS interworking without N26 interface enabled.\nWhen notifying the HSS about a newly selected PDN GW, the MME or SGSN shall include the PDN-GW-Identity in the request.\nFor establishment of emergency PDN connections, this IE shall contain the identity of the PDN-GW used to establish those PDN connections.\nPGW PLMN ID\nVisited-Network-Identifier\nC\nThis IE identifies the PLMN in which the PDN GW is located. It shall be present when the PDN GW Identity is present and does not contain an FQDN.\nContext Identifier\n(See 7.3.27)\nContext-Identifier\nO\nThis parameter shall identify the APN Configuration with which the selected PDN GW shall be correlated.\nIt may be present if it is available and the PDN-GW is present and is particular for one specific APN and not common to all the APNs.\nFor the compatibility with the MAP protocol as defined in the 3GPP TS 29.002 [24], this parameter shall not have a value of zero.\nAPN\n(See TS 23.008 [30])\nService-Selection(See IETF RFC 5778 [20])\nC\nThis IE shall contain the APN for the selected and dynamically allocated PDN GW.\nFor establishment of non-emergency PDN connections, it shall be present if the selected PDN-GW is present and is particular for one specific APN and not common to all the APNs.\nFor establishment of emergency PDN connections (i.e., the Emergency-Services AVP is present, with the Emergency-Indication flag set), this AVP shall be left absent.\nAlert Reason\n(See 7.3.83)\nAlert-Reason\nC\nThis parameter shall indicate if the mobile subscriber is present or the MS has memory available.\nIt shall be present when notifying the HSS about the presence of the UE or the UE has memory capacity available to receive one or more short messages.\nUE SRVCC Capability\nUE-SRVCC-Capability\nC\nThis information element shall indicate if the UE supports or does not support the SRVCC capability.\nIf the MME/SGSN supports SRVCC and the UE SRVCC Capability has changed, the MME or SGSN shall include the new UE SRVCC Capability in the request.\nNOR Flags\n(See 7.3.49)\nNOR-Flags\nC\nThis Information Element shall contain a bit mask. See 7.3.49 for the meaning of the bits. Absence of this information element shall be interpreted as all bits set to 0.\nWhen notifying the HSS about the need to send cancel location to the current SGSN, the MME shall set the \"Single-Registration-Indication\" flag in the NOR-Flags.\nWhen notifying the HSS about the \"restricted\" status of the current SGSN area, the SGSN shall set the \"SGSN area restricted\" flag in the NOR-Flags. When notifying the HSS about the reachability of the UE or the UE has memory capacity available to receive one or more short messages, the MME, if the \"SMS in MME\" feature is applied, or SGSN shall set the \"Ready for SM\" flag correspondingly in the NOR-Flags.\nWhen notifying the HSS that the UE is reachable, the MME or SGSN shall set the \"UE Reachable\" flag correspondingly in the NOR-Flags.\nWhen notifying the HSS about update of the Homogeneous Support of IMS Voice Over PS Sessions, the MME or the SGSN shall set the \"Homogeneous Support of IMS Voice Over PS Sessions\" flag and S6a/S6d-Indicator flag for a combined MME/SGSN correspondingly in the NOR-Flags.\nWhen notifying the HSS about removal of MME registration for SMS, the MME shall set the \"Removal of MME Registration for SMS\" flag correspondingly in the NOR-Flags.\nHomogeneous Support of IMS Voice Over PS Sessions(See 7.3.107)\nHomogeneous-Support-of-IMS-Voice-Over-PS-Sessions\nC\nThis Information Element shall be present if Homogeneous Support of IMS Voice Over PS Sessions is modified to one of the values \"SUPPORTED\" or \"NOT_SUPPORTED\".\nThe value \"SUPPORTED\" indicates that there is support for \"IMS Voice over PS Sessions\" in all TAs or RAs.\nThe value \"NOT_SUPPORTED\" indicates that there is not support for \"IMS Voice over PS Sessions\" in any of the TAs or RAs.\nMaximum UE Availability Time\nMaximum-UE-Availability-Time\nO\nThis information element may be included when notifying the HSS that the UE is reachable. When present, it shall indicate the timestamp (in UTC) until which a UE using a power saving mechanism (such as extended idle mode DRX) is expected to be reachable for SM Delivery.\nThis information may be used by the SMS Center to prioritize the retransmission of Short Message to UEs using a power saving mechanism.\nMonitoring Event Config Status\nMonitoring-Event-Config-Status\nC\nThis information element shall be present if the MME/SGSN sends the Notify Request after receiving the Configuration-Information-Answer from the IWK-SCEF. This information element shall only contain the monitoring event configuration status of those events whose configuration status has changed since the last status informed to the HSS.\nThis information element shall also be present if any of the monitoring events configurations received in ULA failed and shall only contain the monitoring event configuration status of those events whose detection could not be started at the MME/SGSN.\nThis information element shall also be present if the MME or SGSN determines that a Monitoring Event Configuration for a UE is to be deleted in the HSS (i.e. SCEF responds to a Monitoring Event Report with DIAMETER_ERROR_SCEF_REFERENCE_ID_UNKNOWN).\nEmergency\nServices\n(See 3GPP TS 29.273 [59])\nEmergency-Services\nC\nThe MME shall include this information element, and set the Emergency-Indication flag, to notify the HSS that a new PDN-GW has been selected for the establishment of an emergency PDN connection, whose identify is conveyed in the \"PDN GW Identity\" IE.\nTable 5.2.5.1.1/2: Notify Answer\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nResult\n(See 7.4)\nResult-Code / Experimental-Result\nM\nThis IE shall contain the result of the operation.\nThe Result-Code AVP shall be used to indicate success / errors as defined in the Diameter base protocol (see IETF RFC 6733 [61]).\nThe Experimental-Result AVP shall be used for S6a/S6d errors. This is a grouped AVP which shall contain the 3GPP Vendor ID in the Vendor-Id AVP, and the error code in the Experimental-Result-Code AVP.\nThe following errors are applicable in this case:\n- User Unknown\nSupported Features\n(See 3GPP TS 29.229 [9])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_7",
        "ts_23.003_clause_2.2",
        "table_5.2.5.1.1",
        "ts_23.007",
        "ts_23.003",
        "ts_29.229",
        "ts_29.002",
        "ts_23.008",
        "ts_29.273"
      ]
    },
    {
      "chunk_id": "ts_29.272_5.2.5.1.2",
      "section_id": "5.2.5.1.2",
      "section_title": "Detailed behaviour of the MME and the SGSN",
      "content": "If the MME or SGSN supports Emergency services, the MME or SGSN shall not make use of the Notification procedure for emergency attached unauthenticated UEs; for authenticated UEs, the MME shall make use of the Notification procedure to inform the HSS about the PDN-GW selected to establish emergency PDN connections, if the MME is configured to use a dynamic PGW for emergency services for such UEs.\nThe MME or SGSN shall not make use of the Notification procedure to inform the HSS about the identity of the dynamically selected PDN-GW, if the access restrictions indicate that the user is not allowed to get service via non-3GPP access, or the PDN type of the APN is of type \"non-IP\".\nThe MME or SGSN shall include conditional AVPs in NOR according to the description given in table 5.2.5.1.1/1.\nIf the MME sends a Notify Request to inform the HSS that the UE has become reachable again, the MME shall clear the corresponding URRP-MME for the UE.\nIf the SGSN sends a Notify Request to inform the HSS that the UE has become reachable again, the SGSN shall clear the corresponding URRP-SGSN for the UE.\nIf the MME sends a Notify Request to inform the HSS about the presence of the UE to receive one or more short messages, the MME shall clear the corresponding MNRF for the UE.\nIf the SGSN sends a Notify Request to inform the HSS about the presence of the UE to receive one or more short messages, the SGSN shall clear the corresponding MNRG for the UE.\nIf the MME or SGSN determines that it needs to update the Homogeneous Support of IMS Voice Over PS Sessions in the HSS, the MME or SGSN shall send a Notify Request with the \"Homogeneous Support of IMS Voice Over PS Sessions\" bit set in the NOR-Flags AVP; if there is homogeneous support, or homogeneous non-support, of IMS Voice Over PS Sessions, the MME or SGSN shall report it by including the updated Homogeneous-Support-of-IMS-Voice-Over-PS-Sessions AVP; if the support is not homogeneous, the MME or SGSN shall report it by leaving such AVP absent in the Notify Request to the HSS. MME or SGSN shall ensure the status of Homogeneous Support of IMS Voice Sessions in HSS does not contradict with the value of \"IMS voice over PS session indicator\" provided to UE over NAS as specified in 3GPP TS 24.008 [31] and 3GPP TS 24.301 [64];if \"IMS voice over PS session indicator\" sent to UE has changed from \"not supported\" to \"supported\" when status Homogenous Support of IMS Voice in HSS is \"not supported\", MME or SGSN shall immediately send Notify Request indicating as either homogenous support or not homogeneous;if \"IMS voice over PS session indicator\" sent to UE has changed from \"supported\" to \"not supported\" when status Homogenous Support of IMS Voice in HSS is \"supported\", MME or SGSN shall immediately send Notify Request indicating as either homogenous non-support or not homogeneous.\nIf the MME needs to indicate to the HSS that it is no longer registered for SMS in the HSS, the MME shall send a Notify Request with \"Removal of MME Registration for SMS\" flag set in the NOR-Flags AVP.\nWhen receiving a Notify response from the HSS, if the result code indicates DIAMETER_ERROR_UNKNOWN_SERVING_NODE, the MME or SGSN shall consider the Notification procedure as failed, and it shall mark the subscriber record as \"Subscriber to be restored in HSS\".\nWhen receiving a Notify response from the HSS, if the result code indicates DIAMETER_ERROR_USER_UNKNOWN, the MME or SGSN shall detach the subscriber and remove the subscriber from its database.\nIf the MME/SGSN has received the monitoring event configurations in an ULA command and one, several or all event detections fail to be started (e.g due to maximum resources exceeded), the MME/SGSN shall send the Notify Request command with the Monitoring-Event-Config-Status AVP for the failed monitoring event configurations.\nIf the MME or SGSN receives a failure response, e.g. DIAMETER_UNABLE_TO_COMPLY, corresponding to a Notify Request to notify the HSS about the selected PDN-GW, the MME or SGSN shall not trigger a detach for the subscriber based only on this failure.\nNOTE 1:\tA failure to indicate the selected PDN-GW to the HSS does not impact connectivity provided via 3GPP access.\nWhen the MME/SGSN has received the Configuration-Information-Answer from the IWK-SCEF during the monitoring event configuration procedure, the MME/SGSN shall send the Notify Request command with the Monitoring-Event-Config-Status AVP as received from the IWK-SCEF in the Configuration-Information-Answer, for the monitoring event configurations whose status have changed (due to authorization performed by the IWK-SCEF) since last informed to the HSS.\nNOTE 2:\tIf the Monitoring-Event-Configuration was received at the MME/SGSN in the ULA command, then the HSS is not yet informed of any status of the monitoring event configuration. In this case, the entire Monitoring-Event-Config-Status as received from IWK-SCEF has to be transferred to the HSS through a Notify Request Command.\nIf the MME or SGSN determines that a Monitoring Event Configuration for a UE is to be deleted in the HSS (i.e. SCEF responds to a Monitoring Event Report with DIAMETER_ERROR_SCEF_REFERENCE_ID_UNKNOWN), the MME or SGSN shall send a Notify Request with the Monitoring-Event-Config-Status AVP. The Monitoring-Event-Config-Status AVP shall include the error as received from SCEF.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_5.2.5.1.1",
        "ts_24.008",
        "ts_24.301"
      ]
    },
    {
      "chunk_id": "ts_29.272_5.2.5.1.3",
      "section_id": "5.2.5.1.3",
      "section_title": "Detailed behaviour of the HSS",
      "content": "When receiving a Notify request the HSS shall check whether the IMSI is known.\nIf it is not known, a result code of DIAMETER_ERROR_USER_UNKNOWN shall be returned.\nIf the IMSI is known, and the source MME or SGSN originating the Notify message is not currently registered in HSS for that UE, a result code of DIAMETER_ ERROR_ UNKNOWN_SERVING_NODE shall be returned.\nIf the IMSI is known, and the source MME or SGSN is currently registered in HSS, the HSS shall set the result code to DIAMETER_SUCCESS, unless otherwise stated, and\n-\tstore the new terminal information if present in the request;\n-\tstore the new UE SRVCC capability if present in the request;\n-\tstore the new PDN GW and PLMN ID for an APN if present in the request and the APN is present in the subscription and if PDN GW is dynamically allocated; otherwise the HSS shall not store the new PDN GW data and shall set the result code to DIAMETER_ UNABLE_TO_COMPLY;\n-\tstore the new PDN GW and PLMN ID, and the APN itself, if both are present in the request, and the APN is not present in the subscription but a wild card APN is present in the subscription;\n-\tif the Emergency Services IE is present, with the Emergency-Indication flag set, store the new PDN GW, as the PDN GW used to establish emergency PDN connections; the HSS shall store this information not bound to any specific APN;\n-\tmark the location area as \"restricted\" if so indicated in the request;\n-\tsend Cancel Location to the current SGSN if so indicated in the request;\n-\tif the UE has become reachable again, and NOR is received on S6a from an MME or on S6d from an SGSN, the HSS shall respectively clear the URRP-MME or the URPP-SGSN parameter for the UE and send an indication t of UE reachability from MME or SGSN o the Service Related Entities if there is any;\n-\twhen NOR is received on S6d from an SGSN (with the Alert Reason present), the HSS shall reset the MNRG flag and send a MAP-Alert-Service-Centre message or S6c-Alert-Service-Centre-Request (see 3GPP TS 29.338 [48], i.e. the behaviour in the HSS should be the same as when a MAP-Ready for SM is received from an SGSN;\n-\twhen NOR is received on S6a from an MME (with the Alert Reason present), the HSS shall reset the MNRF flag and send a MAP-Alert-Service-Centre message or S6c-Alert-Service-Centre-Request (see 3GPP TS 29.338 [48], i.e. the behaviour in the HSS should be the same as when a MAP-Ready for SM is received from a VLR/MSC;\n-\twhen NOR is received on S6a from an MME or on S6d from an SGSN to update the Homogeneous Support of IMS Voice Over PS Sessions, the HSS shall store the updated Homogeneous Support of IMS Voice Over PS Sessions and may use this information in the future in order to skip the T-ADS data retrieval, as described in clause 5.2.2.1 (IDR/IDA commands). If the \"Homogeneous Support of IMS Voice Over PS Sessions\" bit is set in the NOR-Flags AVP received but without Homogeneous-Support-of-IMS-Voice-Over-PS-Sessions AVP present in the NOR message, the HSS shall take the Homogeneous Support of IMS Voice Over PS Sessions as unknown to the serving node. If the \"Homogeneous Support of IMS Voice Over PS Sessions\" bit is not set in the NOR-Flags AVP, the HSS shall ignore (if present) the Homogeneous-Support-of-IMS-Voice-Over-PS-Sessions AVP;\n-\twhen NOR is received on S6a from an MME for removal of MME registration for SMS, the HSS shall remove the MME registration for SMS and the \"MME number for SMS\" as the corresponding MSC number to be used for MT SMS.\n-\twhen NOR is received on S6a from an MME or on S6d from an SGSN with the Monitoring-Event-Config-Status AVP, the HSS shall either trigger a Monitoring event cancelation procedure for the monitoring events that were not successfully authorized at the MME/SGSN by the IWK-SCEF or a Monitoring event suspension procedure for the monitoring events that were not successfully configured at the MME/SGSN, as specified in clause 7.2.2.2 of 3GPP TS 29.336 [54]. The HSS shall trigger a Monitoring event cancelation or suspension procedure based on the result code as indicated by MME/SGSN e.g.:\nDIAMETER_ERROR_UNAUTHORIZED_REQUESTING_ENTITY (5510) returned by IWK-SCEF triggers a Monitoring event cancelation procedure in HSS;\nDIAMETER_ERROR_CONFIGURATION_EVENT_STORAGE_NOT_SUCCESSFUL (5513) triggers a Monitoring event suspension procedure in HSS;\nDIAMETER_ERROR_CONFIGURATION_EVENT_NON_EXISTANT (5514) triggers a Monitoring event suspension procedure in HSS.\n-\twhen NOR is received on S6a from an MME or on S6d from an SGSN with an indication of the deletion of a monitoring event configuration in SCEF (DIAMETER_ERROR_SCEF_REFERENCE_ID_UNKNOWN in the Monitoring-Event-Config-Status AVP), the HSS shall locally delete the corresponding Monitoring Event Configuration and shall not trigger a Monitoring event cancelation procedure.\nand then send the response to the MME or SGSN.\n5A\tMME – CSS (S7a) and SGSN – CSS (S7d)\n5A.1\tIntroduction\nThe S7a interface enables the transfer of subscriber related CSG data in the VPLMN between the MME and the CSS as described in 3GPP TS 23.401 [2].\nThe S7d interface enables the transfer of subscriber related CSG data in the VPLMN between the SGSN and the CSS as described in 3GPP TS 23.060 [12].\n5A.2\tMobility Services\n5A.2.1\tLocation Management Procedures\n5A.2.1.1\tUpdate VCSG Location\n5A.2.1.1.1\tGeneral\nThe Update VCSG Location Procedure shall be used between the MME and the CSS or between the SGSN and the CSS to update location information in the CSS or retrieve the CSG subscription data of the UE from the CSS. The procedure allows:\n-\tto inform the CSS about the identity of the MME or SGSN currently serving the user,\n-\tto update MME or SGSN with user CSG subscription data received from the CSS.\nThis procedure is mapped to the commands Update-VCSG-Location-Request/Answer (UVR/UVA) in the Diameter application specified in clause 7.\nTable 5A.2.1.1.1/1 specifies the involved information elements for the request.\nTable 5A.2.1.1.1/2 specifies the involved information elements for the answer.\nTable 5A.2.1.1.1/1: Update VCSG Location Request\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nIMSI\nUser-Name (See IETF RFC 6733 [61])\nM\nThis information element shall contain the user IMSI, formatted according to 3GPP TS 23.003 [3], clause 2.2.\nSupported Features\n(See 3GPP TS 29.229 [9])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nMSISDN\nMSISDN\nC\nThis information element shall contain the user MSISDN, formatted according to 3GPP TS 29.329 [25]. It shall be present if available.\nUVR Flags\n(See 7.3.153)\nUVR-Flags\nM\nThis Information Element contains a bit mask. See 7.3.153 for the meaning of the bits.\nSGSN number\n(See 7.3.102)\nSGSN-Number\nC\nThis Information Element contains the ISDN number of the SGSN, see 3GPP TS 23.003 [3].\nIt shall be present when the message is sent on the S7d interface.\nIt may be present when the message on the S7a interface and the requesting node is a combined MME/SGSN.\nTable 5A.2.1.1.1/2: Update VCSG Location Answer\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nSupported Features\n(See 3GPP TS 29.229 [9])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nResult\n(See 7.4)\nResult-Code / Experimental-Result\nM\nThis IE shall contain the result of the operation.\nThe Result-Code AVP shall be used to indicate success / errors as defined in the Diameter base protocol (see IETF RFC 6733 [61]).\nThe Experimental-Result AVP shall be used for S7a/S7d errors. This is a grouped AVP which shall contain the 3GPP Vendor ID in the Vendor-Id AVP, and the error code in the Experimental-Result-Code AVP.\nThe following errors are applicable:\n-\tUser Unknown\nVPLMN CSG Subscription Data\n(See 7.3.155)\nVPLMN-CSG-Subscription-Data\nC\nThis Information Element shall contain the list of CSG Ids and the associated expiry dates stored in the CSS. It shall be present if success is reported, unless an explicit \"skip subscriber data\" indication was present in the request or the Temporary Empty VPLMN CSG Subscription Data flag is set.\nUVA Flags\n(See 7.3.154)\nUVA-Flags\nC\nThis Information Element contains a bit mask. See 7.3.154 for the meaning of the bits.\n5A.2.1.1.2\tDetailed behaviour of the MME and the SGSN\nThe MME or SGSN shall make use of this procedure to register the UE in the CSS and to retrieve the \"CSG subscription data from CSS\" when:\n-\tthe VPLMN supports Autonomous CSG Roaming\n-\tand the HPLMN has enabled Autonomous CSG Roaming in the VPLMN\n-\tand the UE has requested an initial attach or a tracking area procedure or a routing area procedure to a CSG cell\n-\tand the MME or SGSN have not yet registered the UE in the CSS.\nIf the Autonomous CSG Roaming in the VPLMN is not supported or is not allowed by the HPLMN of the subscriber, the MME or SGSN shall not make use of the Update CSG Location procedure.\nFor UEs receiving emergency services, in which the UE was not successfully authenticated, the MME or SGSN shall not make use of the Update VCSG Location procedure.\nA combined MME/SGSN shall set the \"Skip Subscriber Data\" flag in the UVR-Flags if the \"CSG subscription data from CSS\" are already available due to a previously VCSG Location updating.\nA combined MME/SGSN that has chosen the option to include the SGSN Number within an Update VCSG Request sent over S7a shall be prepared to receive a single CSG subscription data update message from the CSS when the CSG subscription data is modified in the CSS.\nWhen receiving an Update VCSG Location Answer from the CSS, the MME or SGSN shall check the result code. If it indicates success the MME or SGSN shall delete all the stored \"CSG subscription data from CSS\" (if any) and then store the received \"CSG subscription data from the CSS\" (if any), and it shall store the CSS identity as received in the Origin-Host AVP.\nIf the same CSG Id exists in both \"CSG subscription data from CSS\" and \"CSG subscription data from HSS\", the \"CSG subscription data from HSS\" shall take precedence over the \"CSG subscription data from CSS\" in further use.\nIf an error response is received from the CSS, the MME or SGSN shall not reject the UE and shall end the procedure when the UE is attaching to a normal cell. If the UE is attaching to a CSG cell, in this case the MME or SGSN shall check if there is such CSG Id from the HSS. If there is no such CSG Id, the MME or SGSN shall reject the UE.\n5A.2.1.1.3\tDetailed behaviour of the CSS\nWhen receiving an Update VCSG Location request the CSS shall check whether the user is known.\nIf the user is not known, and if the Update VCSG Location Request is received over the S7a/S7d interface, the CSS may:\n-\tstore the MME or SGSN identity received within the Origin-Host AVP, and include the UVA-Flags AVP with \"Temporary Empty VPLMN CSG Subscription Data\" flag set, and return a Result Code of DIAMETER_ SUCCESS, or\n-\treturn a Result Code of DIAMETER_ERROR_USER_UNKNOWN.\nNOTE:\tA mechanism is needed in the CSS to associate the CSG subscription data of the user with the received IMSI.\nIf the Update VCSG Location Request is received over the S7a/S7d interface, the CSS shall replace the stored MME or SGSN identity with the received value (the identity is received within the Origin-Host AVP).\nIf no result code indicating an error is sent to the MME or SGSN, the CSS shall include the VPLMN CSG subscription data in the Update VCSG Location Answer unless an explicit \"skip subscriber data\" indication has been received in the request, and shall return a Result Code of DIAMETER_SUCCESS.\n5A.2.1.2\tCancel VCSG Location\n5A.2.1.2.1\tGeneral\nThe Cancel VCSG Location Procedure shall be used between the CSS and the MME and between the CSS and the SGSN. The procedure shall be invoked by the CSS and is used:\n-\tto inform the MME or SGSN about the subscriber's VCSG subscription withdrawal by the CSS operator and the removal of their registration in the CSS.\nThis procedure is mapped to the commands Cancel-VCSG-Location-Request/Answer (CVR/CVA) in the Diameter application specified in clause 7.\nTable 5A.2.1.2.1/1 specifies the involved information elements for the request.\nTable 5A.2.1.2.1/2 specifies the involved information elements for the answer.\nTable 5A.2.1.2.1/1: Cancel VCSG Location Request\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nIMSI\nUser-Name (See IETF RFC 6733 [61])\nM\nThis information element shall contain the user IMSI, formatted according to 3GPP TS 23.003 [3], clause 2.2.\nSupported Features\n(See 3GPP TS 29.229 [9])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nCancellation Type\n(See 7.3.24)\nCancellation-Type\nM\nDefined values that can be used are:\n- Subscription Withdrawal, applied to the VPLMN CSG subscription.\nTable 5A.2.1.2.1/2: Cancel VCSG Location Answer\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nSupported Features\n(See 3GPP TS 29.229 [9])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nResult\n(See 7.4)\nResult-Code / Experimental-Result\nM\nThe result of the operation.\nThe Result-Code AVP shall be used to indicate success / errors as defined in the Diameter base protocol (see IETF RFC 6733 [61]).\n5A.2.1.2.2\tDetailed behaviour of the MME and the SGSN\nWhen receiving a Cancel VCSG Location request the MME or SGSN shall check whether the IMSI is known.\nIf it is not known, a result code of DIAMETER_SUCCESS is returned.\nIf it is known, the MME or SGSN shall check if the Cancellation Type is Subscription Withdrawal.  In this case, the MME or SGSN shall remove the information of their registration in the CSS and the stored VPLMN CSG subscription if any. Also in this case a result code of DIAMETER_SUCCESS is returned.\nWhen a UE is served by a single combined MME/SGSN for both E-UTRAN and non-E-UTRAN access, the combined MME/SGSN shall check if the Cancellation Type is Subscription Withdrawal. In this case, the Cancel VCSG Location request is processed both in the MME part and in the SGSN part of the combined node.\n5A.2.1.2.3\tDetailed behaviour of the CSS\nThe CSS shall make use of this procedure when the user's VPLMN CSG subscription is withdrawn by the CSS operator and shall include a cancellation type of \"Subscription Withdrawal.\n5A.2.2\tSubscriber Data Handling Procedures\n5A.2.2.1\tInsert VCSG Subscriber Data\n5A.2.2.1.1\tGeneral\nThe Insert VCSG Subscriber Data Procedure shall be used between the CSS and the MME and between the CSS and the SGSN for updating CSG subscription data in the MME or SGSN in the following situations:\n-\tdue to administrative changes of the user data in the CSS and the user is now located in an MME or SGSN, i.e. if the user was given a CSG subscription and the CSG subscription has changed;\nIf the CSS knows that the UE has attached to the same combined MME/SGSN via both the E-UTRAN and UTRAN/GERAN, i.e. the CSS has received the Update VCSG Location Request over both the S7a interface and S7d interface respectively with the same SGSN number, the CSS should invoke this procedure for a single time to update CSG subscription data in the combined MME/SGSN, i.e. the CSS should not invoke this procedure for each of the MME and the SGSN registered respectively.\nThis procedure is mapped to the commands Insert-Subscriber Data-Request/Answer (IDR/IDA) in the Diameter application specified in clause 7.\nTable 5A.2.2.1.1/1 specifies the involved information elements for the request.\nTable 5A.2.2.1.1/2 specifies the involved information elements for the answer.\nTable 5A.2.2.1.1/1: Insert VCSG Subscriber Data Request\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nIMSI\nUser-Name (See IETF RFC 6733 [61])\nM\nThis information element shall contain the user IMSI, formatted according to 3GPP TS 23.003 [3], clause 2.2.\nSupported Features\n(See 3GPP TS 29.229 [9])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nVPLMN CSG Subscription Data\n(See 7.3.2)\nVPLMN-CSG-Subscription-Data\nM\nThis Information Element shall contain the list of CSG Ids and the associated expiry dates stored in the VPLMN CSS.\nTable 5A.2.2.1.1/2: Insert VCSG Subscriber Data Answer\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nSupported Features\n(See 3GPP TS 29.229 [9])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nResult\n(See 7.4)\nResult-Code / Experimental-Result\nM\nThis IE shall contain the result of the operation.\nResult-Code AVP shall be used to indicate success / errors defined in the Diameter base protocol (see IETF RFC 6733 [61]).The Experimental-Result AVP shall be used for S7a/S7d errors. This is a grouped AVP which shall contain the 3GPP Vendor Id in the Vendor-Id AVP, and the error code in the Experimental-Result-Code AVP.\nThe following errors are applicable in this case:\n- User Unknown.\n5A.2.2.1.2\tDetailed behaviour of the MME and the SGSN\nWhen receiving an Insert VCSG Subscriber Data request, the MME or SGSN shall check whether the IMSI is known.\nIf it is not known, a result code of DIAMETER_ERROR_USER_UNKNOWN shall be returned.\nIf the request does not contain any CSG-Subscription-Data AVP, Experimental-Result shall be set to DIAMETER_ERROR_SUBS_DATA_ABSENT.\nIf the request contains at least one CSG-Subscription-Data AVPs, the MME or SGSN shall delete all the stored \"CSG subscription data from CSS\" (if any), and then store the received \"CSG subscription data from CSS\".\nIf the MME or SGSN cannot fulfil the received request, e.g. due to a database error, it shall set the Result-Code to DIAMETER_UNABLE_TO_COMPLY.\nIf the same CSG Id exists in both \"CSG subscription data from CSS\" and \"CSG subscription data from HSS\", the \"CSG subscription data from HSS\" shall take precedence over the \"CSG subscription data from CSS\" in further use.\n5A.2.2.1.3\tDetailed behaviour of CSS\nThe CSS shall make use of this procedure to delete the \"CSG subscription data from CSS\" stored in the MME or SGSN and replace them with the CSG subscription data sent.\nIf the CSS receives a Insert VCSG Subscriber Data answer with the Result Code DIAMETER_ERROR_USER_UNKNOWN, the CSS shall clear the stored MME or SGSN identity.\n5A.2.2.2\tDelete VCSG Subscriber Data\n5A.2.2.2.1\tGeneral\nThis procedure shall be used between the CSS and the MME or between the CSS and the SGSN, to remove all the \"CSG subscription data from CSS\" stored in the MME or SGSN. The procedure shall be invoked by the CSS.\nIf the CSS knows that the UE has attached to the same combined MME/SGSN via both E-UTRAN and UTRAN/GERAN, i.e. the CSS has received the Update VCSG Location Request over both the S7a interface and S7d interface respectively with the same SGSN number, the CSS should invoke this procedure for a single time to remove all the \"CSG subscription data from CSS\" stored in the combined MME/SGSN, i.e. not invoke this procedure for each of the MME and the SGSN registered respectively.\nThis procedure is mapped to the commands Delete-Subscriber-Data-Request/Answer (DSR/DSA) in the S7a/S7d Diameter application specified in clause 7.\nTable 5A.2.2.2.1/1 specifies the involved information elements for the request.\nTable 5A.2.2.2.1/2 specifies the involved information elements for the answer.\nTable 5A.2.2.2.1/1: Delete VCSG Subscriber Data Request\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nIMSI\nUser-Name (See IETF RFC 6733 [61])\nM\nThis information element shall contain the user IMSI, formatted according to 3GPP TS 23.003 [3], clause 2.2.\nSupported Features\n(See 3GPP TS 29.229 [9])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nDSR Flags\n(See 7.3.25)\nDSR-Flags\nM\nThis Information Element shall contain a bit mask. See 7.3.25 for the meaning of the bits.\nTable 5A.2.2.2.1/2: Delete VCSG Subscriber Data Answer\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nSupported Features\n(See 3GPP TS 29.229 [9])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nResult\n(See 7.4)\nResult-Code / Experimental-Result\nM\nThis IE shall contain the result of the operation.\nThe Result-Code AVP shall be used to indicate success / errors as defined in the Diameter base protocol (see IETF RFC 6733 [61]).\nThe Experimental-Result AVP shall be used for S7a/S7d errors. This is a grouped AVP which shall contain the 3GPP Vendor ID in the Vendor-Id AVP, and the error code in the Experimental-Result-Code AVP.\nThe following errors are applicable in this case:\n- User Unknown\n5A.2.2.2.2\tDetailed behaviour of the MME and the SGSN\nWhen receiving a Delete VCSG Subscriber Data request, the MME or SGSN shall check whether the IMSI is known.\nIf it is not known, a result code of DIAMETER_ERROR_USER_UNKNOWN shall be returned.\nIf it is known, the MME or SGSN shall delete all the stored \"CSG subscription data from CSS\".\nIf the deletion of the subscription data succeeds in the MME or SGSN, the Result-Code shall be set to DIAMETER_SUCCESS.\nIf the MME or SGSN cannot fulfil the received request for other reasons, e.g. due to a database error, it shall set the Result-Code to DIAMETER_UNABLE_TO_COMPLY.\n5A.2.2.2.3\tDetailed behaviour of the CSS\nThe CSS shall make use of this procedure to remove all the CSG subscription data associated to CSS from the MME or SGSN.\nNOTE: When a Delete VCSG Subscriber Data procedure occurs, the MME or SGSN remains registered in the CSS\nIf the CSS receives a Delete VCSG Subscriber Data answer with the Result Code DIAMETER_ERROR_USER_UNKNOWN from the MME or SGSN, the CSS shall clear the stored MME or SGSN identity.\n5A.2.3\tFault Recovery Procedures\n5A.2.3.1\tVCSG Reset\n5A.2.3.1.1\tGeneral\nThe VCSG Reset Procedure shall be used by the CSS, after a restart, to indicate to the MME and to the SGSN that a failure has occurred.\nThis procedure is mapped to the commands Reset-Request/Answer (RSR/RSA) in the S7a/S7d Diameter application specified in clause 7.\nTable 5A.2.3.1.1/1 specifies the involved information elements for the request.\nTable 5A.2.3.1.1/2 specifies the involved information elements for the answer.\nTable 5A.2.3.1.1/1: VCSG Reset Request\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nSupported Features\n(See 3GPP TS 29.229 [9])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nTable 5A.2.3.1.1/2: VCSG Reset Answer\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nResult\n(See 7.4)\nResult-Code / Experimental-Result\nM\nThis IE shall contain the result of the operation.\nThe Result-Code AVP shall be used to indicate success / errors as defined in the Diameter base protocol (see IETF RFC 6733 [61]).\nThe Experimental-Result AVP shall be used for S7a/S7d errors. This is a grouped AVP which shall contain the 3GPP Vendor ID in the Vendor-Id AVP, and the error code in the Experimental-Result-Code AVP.\nThere are no Experimental-Result codes applicable for this command.\nSupported Features\n(See 3GPP TS 29.229 [9])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\n5A.2.3.1.2\tDetailed behaviour of the MME and the SGSN\nWhen receiving a VCSG Reset message, the MME or SGSN or combined MME/SGSN, for all roaming users for which they have a registration in CSS, shall mark \"Location Information Confirmed in CSS\" record as \"Not Confirmed\". The MME or SGSN or combined MME/SGSN shall make use of the CSS Identity received in the Origin-Host AVP (by comparing it with the value stored after successful ULA) in order to determine which user records are impacted.\nWhen, as described in 3GPP TS 23.007 [43], an event requiring the MME or SGSN to check the \"CSG subscription data from CSS\" occurs, and if the user record \"Location Information Confirmed in CSS\" is marked as \"Not Confirmed\", the restoration procedure shall be triggered.\n5A.2.3.1.3\tDetailed behaviour of the CSS\nThe CSS shall make use of this procedure in order to indicate to all relevant MMEs, SGSNs, and combined MME/SGSNs that the CSS has restarted and may have lost the current MME-Identity and SGSN-Identity of some of its users who may be currently roaming in the MME area and/or SGSN area, and to which the CSS, therefore, cannot send e.g. Insert VCSG Subscriber Data messages when needed.\nThe CSS should invoke this procedure towards a combined MME/SGSN only for a single time even if some of the impacted subscribers are attached to the combined MME/SGSN via UTRAN/GERAN and some of the impacted subscribers are attached to the combined MME/SGSN via E-UTRAN.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_5.2.2.1",
        "ts_29.336_clause_7.2.2.2",
        "clause_7",
        "ts_23.003_clause_2.2",
        "table_5",
        "ts_29.338",
        "ts_29.336",
        "ts_23.401",
        "ts_23.060",
        "ts_23.003",
        "ts_29.229",
        "ts_29.329",
        "ts_23.007"
      ]
    },
    {
      "chunk_id": "ts_29.272_6.1",
      "section_id": "6.1",
      "section_title": "Introduction",
      "content": "The S13 interface shall enable the ME Identity check procedure between the MME and the EIR as described in the 3GPP TS 23.401 [2].\nThe S13' interface shall enable the ME Identity check procedure between the SGSN and the EIR as described in the 3GPP TS 23.060 [12].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.401",
        "ts_23.060"
      ]
    },
    {
      "chunk_id": "ts_29.272_6.2.1.1",
      "section_id": "6.2.1.1",
      "section_title": "General",
      "content": "This Mobile Equipment Identity Check Procedure shall be used between the MME and the EIR and between the SGSN and the EIR to check the Mobile Equipment's identity status (e.g. to check that it has not been stolen, or, to verify that it does not have faults).\nThis procedure is mapped to the commands ME-Identity-Check-Request/Answer (ECR/ECA) in the Diameter application specified in clause 6.\nTable 6.2.1.1/1 specifies the involved information elements for the request.\nTable 6.2.1.1/2 specifies the involved information elements for the answer.\nTable 6.2.1.1/1: ME Identity Check Request\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nTerminal Information\n(See 7.3.3)\nTerminal-Information\nM\nThis information element shall contain the information about the used mobile equipment i.e. the IMEI. Within this Information Element, only the IMEI and the Software-Version AVPs shall be used on the S13/S13' interface.\nIMSI\nUser-Name (See IETF RFC 6733 [61])\nO\nThis information element shall contain the user IMSI, formatted according to 3GPP TS 23.003 [3], clause 2.2.\nTable 6.2.1.1/2: ME Identity Check Answer\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nResult\n(See 7.4)\nResult-Code / Experimental-Result\nM\nThis IE shall contain the result of the operation.\nThe Result-Code AVP shall be used to indicate success / errors as defined in the Diameter base protocol (see IETF RFC 6733 [61]).\nThe Experimental-Result AVP shall be used for S13/S13' errors. This is a grouped AVP which shall contain the 3GPP Vendor ID in the Vendor-Id AVP, and the error code in the Experimental-Result-Code AVP.\nThe following errors are applicable in this case:\n- Unknown equipment\nEquipment Status\n(See 7.3.51)\nEquipment-Status\nC\nThis information element shall contain the status of the requested mobile equipment as defined in 3GPP TS 22.016 [13].\nIt shall be present if the result of the ME Identity Check is DIAMETER_SUCCESS.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6",
        "ts_23.003_clause_2.2",
        "table_6.2.1.1",
        "ts_23.003_table_6.2.1.1",
        "ts_23.003",
        "ts_22.016"
      ]
    },
    {
      "chunk_id": "ts_29.272_6.2.1.2",
      "section_id": "6.2.1.2",
      "section_title": "Detailed behaviour of the MME and the SGSN",
      "content": "The MME or the SGSN shall make use of this procedure to check the ME identity, if the MME or the SGSN is configured to check the IMEI with the EIR.\nTerminal-Information, when sent by the MME/SGSN to the EIR, shall contain the IMEI AVP, and it may contain also the Software-Version AVP.\nIMSI may be sent together with Terminal Information to the EIR for operator-determined purposes.\nWhen receiving the ME Identity Check answer from the EIR, the MME or the SGSN shall check the result code and the equipment status. Dependent upon the result, the MME or the SGSN will decide its subsequent actions (e.g. sending an Attach Reject if the EIR indicates that the Mobile Equipment is unknown or prohibited listed).",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_6.2.1.3",
      "section_id": "6.2.1.3",
      "section_title": "Detailed behaviour of the EIR",
      "content": "When receiving an ME Identity Check request, the EIR shall check whether the mobile equipment is known.\nThe EIR shall identify the mobile equipment based on the first 14 digits of the IMEI AVP; if a 15th digit is received in the IMEI AVP, this digit shall be ignored by the EIR.\nBased on operator policies, the EIR may also use the Software-Version AVP, in addition to the first 14 digits of the IMEI AVP, to check the equipment identity against prohibited and tracking lists (see 3GPP TS 22.016 [13]).\nIf the mobile equipment identity is not known, a result code of DIAMETER_ERROR_ EQUIPMENT_UNKNOWN is returned.\nIf it is known, the EIR shall return DIAMETER_SUCCESS with the equipment status.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_22.016"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.1.1",
      "section_id": "7.1.1",
      "section_title": "Use of Diameter base protocol",
      "content": "The Diameter base protocol as specified in IETF RFC 6733 [61] shall apply except as modified by the defined support of the methods and the defined support of the commands and AVPs, result and error codes as specified in this specification. Unless otherwise specified, the procedures (including error handling and unrecognised information handling) shall be used unmodified.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.1.2",
      "section_id": "7.1.2",
      "section_title": "Securing Diameter Messages",
      "content": "For secure transport of Diameter messages, see 3GPP TS 33.210 [16].\nIf there are no intermediate Diameter Agent networks located between the visited PLMN and the home PLMN, the HSS or the first Diameter Agent located in the home PLMN which has direct connection with the serving network is required to check that the realm contained in the Origin-Realm AVP in the request from the serving network corresponds to the right serving network.\nIf there are intermediate Diameter Agent networks located between the visited PLMN and home PLMN, the first Diameter Agent which has direct connection with the serving network is required to check that the realm contained in the Origin-Realm AVP in the request from the serving network corresponds to the right serving network.\nNOTE 1:\tHow to do the above check is implementation specific, e.g. it may be done by checking if the IP addresses of the serving network nodes match with the realm received in the Origin-Realm AVP in the request.\nNOTE 2:\tNetwork configurations where a (potential) visited PLMN acts as intermediate Diameter Agent network are not allowed.\nNOTE 3:\tIn the case there are intermediate Diameter Agent networks, the home network has to trust these intermediate Diameter agent networks to do the check and other hop by hop security check. This trust is usually substantiated by contracts since there are no remote technical means to verify if the checks were actually performed.",
      "chunk_type": "general",
      "cross_references": [
        "ts_33.210"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.1.3",
      "section_id": "7.1.3",
      "section_title": "Accounting functionality",
      "content": "Accounting functionality (Accounting Session State Machine, related command codes and AVPs) shall not be used on the S6a, S6d, S13 and S13' interfaces.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.1.4",
      "section_id": "7.1.4",
      "section_title": "Use of sessions",
      "content": "Between the MME and the HSS and between the SGSN and the HSS and between the MME and the EIR, Diameter sessions shall be implicitly terminated. An implicitly terminated session is one for which the server does not maintain state information. The client shall not send any re-authorization or session termination requests to the server.\nThe Diameter base protocol specified in IETF RFC 6733 [61] includes the Auth-Session-State AVP as the mechanism for the implementation of implicitly terminated sessions.\nThe client (server) shall include in its requests (responses) the Auth-Session-State AVP set to the value NO_STATE_MAINTAINED (1), as described in IETF RFC 6733 [61]. As a consequence, the server shall not maintain any state information about this session and the client shall not send any session termination request. Neither the Authorization-Lifetime AVP nor the Session-Timeout AVP shall be present in requests or responses.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.1.5",
      "section_id": "7.1.5",
      "section_title": "Transport protocol",
      "content": "Diameter messages over the S6a, S6d, S13, S13', S7a and S7d interfaces shall make use of SCTP IETF RFC 4960 [14].",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.1.6",
      "section_id": "7.1.6",
      "section_title": "Routing considerations",
      "content": "This clause specifies the use of the Diameter routing AVPs Destination-Realm and Destination-Host.\nIf an MME or SGSN knows the address/name of the HSS for a certain user, and the associated home network domain name, both the Destination-Realm and Destination-Host AVPs shall be present in the request.\nNOTE:\tWhen sending a ULR command for a certain user due to HSS restoration procedure (i.e, after the MME/SGSN have received a Reset command from the HSS), the MME or the SGSN might consider the stored address/name of the HSS for the user to be invalid and hence not known.\nIf an MME or SGSN knows only the home network domain name for a certain user, the Destination-Realm AVP shall be present and the command shall be routed to the next Diameter node.\nIf an MME or SGSN knows only the identity of the user, the home network domain name shall be derived from the user's IMSI (MNC and MCC values) to construct the EPC Home Network Realm/Domain, as indicated in 3GPP TS 23.003 [3], clause 19.2, and use it as Destination-Realm.\nConsequently, the Destination-Host AVP is declared as optional in the ABNF for all requests initiated by an MME or SGSN.\nThe address/name of the EIR shall be locally configured in the MME.\nRequests initiated by the HSS towards an MME or SGSN shall include both Destination-Host and Destination-Realm AVPs.\nThe HSS obtains the Destination-Host AVP to use in requests towards an MME or SGSN, from the Origin-Host AVP received in previous requests from the MME or SGSN. Consequently, the Destination-Host AVP is declared as mandatory in the ABNF for all requests initiated by the HSS. The Origin-Host AVP received in requests from the MME may contain a Diameter identity of the MME encoded as specified in clause 19.4.2.4 of 3GPP TS 23.003 [3]. The Origin-Host AVP received in requests from the SGSN may contain a Diameter identity of the SGSN encoded as specified in clause 19.4.2.6 of 3GPP TS 23.003 [3].\nThe HSS obtains the Destination-Realm AVP to use in requests towards an MME or SGSN, from the Origin-Realm AVP received in previous requests from the MME or SGSN. The Origin-Realm AVP in the requests received by the HSS in roaming cases, should contain the domain name of the network to which the MME or the SGSN belongs, encoded  as specified in clause 19.2 of 3GPP TS 23.003 [3].\nThe Destination-Realm AVP is declared as mandatory in the ABNF for all requests.\nIf the Vendor-Specific-Application-ID AVP is received in any of the commands defined in this specification, it shall be ignored by the receiving node, and it shall not be used for routing purposes.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.003_clause_19.2",
        "ts_23.003_clause_19.4.2.4",
        "ts_23.003_clause_19.4.2.6",
        "ts_23.003"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.1.7",
      "section_id": "7.1.7",
      "section_title": "Advertising Application Support",
      "content": "The HSS, MME, SGSN and EIR shall advertise support of the Diameter S6a/S6d and/or S13/S13' Application by including the value of the application identifier in the Auth-Application-Id AVP within the Vendor-Specific-Application-Id grouped AVP of the Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands.\nThe vendor identifier value of 3GPP (10415) shall be included in the Supported-Vendor-Id AVP of the Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands, and in the Vendor-Id AVP within the Vendor-Specific-Application-Id grouped AVP of the Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands.\nThe Vendor-Id AVP included in Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands that is not included in the Vendor-Specific-Application-Id AVPs as described above shall indicate the manufacturer of the Diameter node as per IETF RFC 6733 [61].",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.1.8",
      "section_id": "7.1.8",
      "section_title": "Diameter Application Identifier",
      "content": "This clause specifies three Diameter applications: The S6a/S6d interface application, the S13/S13' interface application, and the S7a/S7d interface application.\nThe S6a/S6d interface application allows a Diameter server and a Diameter client:\n-\tto exchange location information;\n-\tto authorize a user to access the EPS;\n-\tto exchange authentication information;\n-\tto download and handle changes in the subscriber data stored in the server.\nThe S6a/S6d interface protocol shall be defined as an IETF vendor specific Diameter application, where the vendor is 3GPP. The vendor identifier assigned by IANA to 3GPP (http://www.iana.org/assignments/enterprise-numbers) is 10415.\nThe Diameter application identifier assigned to the S6a/S6d interface application is 16777251 (allocated by IANA).\nThe S13/S13' interface application allows a Diameter server and a Diameter client:\n-\tto check the validity of the ME Identity.\nThe S13/S13' interface protocol shall be defined as an IETF vendor specific Diameter application, where the vendor is 3GPP. The vendor identifier assigned by IANA to 3GPP (http://www.iana.org/assignments/enterprise-numbers) is 10415.\nThe Diameter application identifier assigned to the S13/S13' interface application is 16777252 (allocated by IANA).\nThe S7a/S7d interface application allows a Diameter server and a Diameter client:\n-\tto authorize a user to access CSGs identified in the CSS while roaming;\n-\tto download and handle changes in CSG subscriber data stored in the CSS.\nThe S7a/S7d interface protocol shall be defined as an IETF vendor specific Diameter application, where the vendor is 3GPP. The vendor identifier assigned by IANA to 3GPP (http://www.iana.org/assignments/enterprise-numbers) is 10415.\nThe Diameter application identifier assigned to the S7a/S7d interface application is 16777308 (allocated by IANA).",
      "chunk_type": "parameter",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.1.9",
      "section_id": "7.1.9",
      "section_title": "Use of the Supported-Features AVP",
      "content": "When new functionality is introduced on the S6a/S6d interfaces, it should be defined as optional. If backwards incompatible changes can not be avoided, the new functionality shall be introduced as a new feature and support advertised with the Supported-Features AVP. The usage of the Supported-Features AVP on the S6a/S6d interfaces is consistent with the procedures for the dynamic discovery of supported features as defined in clause 7.2 of 3GPP TS 29.229 [9].\nWhen extending the application by adding new AVPs for a feature, the new AVPs shall have the M bit cleared and the AVP shall not be defined mandatory in the command ABNF.\nAs defined in 3GPP TS 29.229 [9], the Supported-Features AVP is of type grouped and contains the Vendor-Id, Feature-List-ID and Feature-List AVPs. On the all reference points as specified in this specificaion, the Supported-Features AVP is used to identify features that have been defined by 3GPP and hence, for features defined in this document, the Vendor-Id AVP shall contain the vendor ID of 3GPP (10415). If there are multiple feature lists defined for the reference point, the Feature-List-ID AVP shall differentiate those lists from one another.\nThe Table 7.3.10/1 defines the features applicable to the S6a/S6d interfaces for the feature list with a Feature-List-ID of 1. The Table 7.3.10/2 defines the features applicable to the S6a/S6d interfaces for the feature list with a Feature-List-ID of 2.\nNOTE 1:\tIf the support of a feature by the receiver is required in order for the receiver to be able to correctly process the request command, then the feature is included in the Supported-Features AVP and the M-bit of the Supported-Features AVP has to be set in the request command, according to 3GPP TS 29.229 [9] clause 7.2.1.\nNOTE 2:\tCurrently none of the features that can be included in the Supported-Features AVP of the ULR command requires that the HSS supports them to successfully process the ULR command. For this reason the MME or SGSN does not need to set the M-bit of the Supported-Features AVP in the ULR command. This corresponds to the exception to the general rule requiring the setting of the M-bit of the Supported-Features AVP in a request described in 3GPP TS 29.229 [9] clause 7.2.1. Setting the M-bit of the Supported-Features AVP in the ULR command will mean that, if any of the features is not supported, the HSS will reject the ULR command as according to 3GPP TS 29.229 [9] clause 7.2.1.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.229_clause_7.2",
        "ts_29.229_clause_7.2.1",
        "table_7.3.10",
        "ts_29.229"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.2.1",
      "section_id": "7.2.1",
      "section_title": "Introduction",
      "content": "This clause defines the Command code values and related ABNF for each command described in this specification.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.2.2",
      "section_id": "7.2.2",
      "section_title": "Command-Code values",
      "content": "This clause defines Command-Code values for the S6a/S6d interface application and S13/S13' interface application as allocated by IANA in the IETF RFC 5516 [32].\nEvery command is defined by means of the ABNF syntax IETF RFC 2234 [7], according to the Command Code Format (CCF) specification defined in IETF RFC 6733 [61]. In the case, the definition and use of an AVP is not specified in this document, the guidelines in IETF RFC 6733 [61] shall apply.\nThe Vendor-Specific-Application-Id AVP shall not be included in any command sent by Diameter nodes supporting applications defined in this specification. If the Vendor-Specific-Application-Id AVP is received in any of the commands defined in this specification, it shall be ignored by the receiving node.\nNOTE:\tThe Vendor-Specific-Application-Id is included as an optional AVP in all Command Code Format specifications defined in this specification in order to overcome potential interoperability issues with intermediate Diameter agents non-compliant with the IETF RFC 6733 [61].\nThe following Command Codes are defined in this specification:\nTable 7.2.2/1: Command-Code values for S6a/S6d\nCommand-Name\nAbbreviation\nCode\nClause\nUpdate-Location-Request\nULR\n316\n7.2.3\nUpdate-Location-Answer\nULA\n316\n7.2.4\nCancel-Location-Request\nCLR\n317\n7.2.7\nCancel-Location-Answer\nCLA\n317\n7.2.8\nAuthentication-Information-Request\nAIR\n318\n7.2.5\nAuthentication-Information-Answer\nAIA\n318\n7.2.6\nInsert-Subscriber-Data-Request\nIDR\n319\n7.2.9\nInsert-Subscriber-Data-Answer\nIDA\n319\n7.2.10\nDelete-Subscriber-Data-Request\nDSR\n320\n7.2.11\nDelete-Subscriber-Data-Answer\nDSA\n320\n7.2.12\nPurge-UE-Request\nPUR\n321\n7.2.13\nPurge-UE-Answer\nPUA\n321\n7.2.14\nReset-Request\nRSR\n322\n7.2.15\nReset-Answer\nRSA\n322\n7.2.16\nNotify-Request\nNOR\n323\n7.2.17\nNotify-Answer\nNOA\n323\n7.2.18\nFor these commands, the Application-ID field shall be set to 16777251 (application identifier of the S6a/S6d interface application, allocated by IANA).\nTable 7.2.2/2: Command-Code values for S13/S13'\nCommand-Name\nAbbreviation\nCode\nClause\nME-Identity-Check-Request\nECR\n324\n7.2.19\nME-Identity-Check-Answer\nECA\n324\n7.2.20\nFor these commands, the Application-ID field shall be set to 16777252 (application identifier of the S13/S13' interface application, allocated by IANA).\nTable 7.2.2/3: Command-Code values for S7a/S7d\nCommand-Name\nAbbreviation\nCode\nClause\nUpdate-VCSG-Location-Request\nUVR\n8388638\n7.2.21\nUpdate-VCSG-Location-Answer\nUVA\n8388638\n7.2.22\nInsert-Subscription-Data-Request\nIDR\n319\n7.2.9\nInsert-Subscription-Data-Answer\nIDA\n319\n7.2.10\nDelete-Subscriber-Data-Request\nDSR\n320\n7.2.11\nDelete-Subscriber-Data-Answer\nDSA\n320\n7.2.12\nReset-Request\nRSR\n322\n7.2.15\nReset-Answer\nRSA\n322\n7.2.16\nCancel-VCSG-Location-Request\nCVR\n8388642\n7.2.23\nCancel-VCSG-Location-Answer\nCVA\n8388642\n7.2.24\nFor these commands, the Application-ID field shall be set to 16777308 (application identifier of the S7a/S7d interface application, allocated by IANA).",
      "chunk_type": "general",
      "cross_references": [
        "table_7.2.2"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.2.3",
      "section_id": "7.2.3",
      "section_title": "Update-Location-Request (ULR) Command",
      "content": "The Update-Location-Request (ULR) command, indicated by the Command-Code field set to 316 and the \"R\" bit set in the Command Flags field, is sent from MME or SGSN to HSS.\nMessage Format\n< Update-Location-Request> ::=\t< Diameter Header: 316, REQ, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ Destination-Host ]\n{ Destination-Realm }\n{ User-Name }\n[ OC-Supported-Features ]\n*[ Supported-Features ]\n[ Terminal-Information ]\n{ RAT-Type }\n{ ULR-Flags }\n[UE-SRVCC-Capability ]\n{ Visited-PLMN-Id }\n[ SGSN-Number ]\n[ Homogeneous-Support-of-IMS-Voice-Over-PS-Sessions ]\n[ GMLC-Address ]\n*[ Active-APN ]\n[ Equivalent-PLMN-List ]\n[ MME-Number-for-MT-SMS ]\n[ SMS-Register-Request ]\n[ SGs-MME-Identity ]\n[ Coupled-Node-Diameter-ID ]\n[ Adjacent-PLMNs ]\n[ Supported-Services ]\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.2.4",
      "section_id": "7.2.4",
      "section_title": "Update-Location-Answer (ULA) Command",
      "content": "The Update-Location-Answer (ULA) command, indicated by the Command-Code field set to 316 and the 'R' bit cleared in the Command Flags field, is sent from HSS to MME or SGSN.\nMessage Format\n< Update-Location-Answer> ::=\t< Diameter Header: 316, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n[ Result-Code ]\n[ Experimental-Result ]\n[ Error-Diagnostic ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ OC-Supported-Features ]\n[ OC-OLR ]\n*[ Load ]\n*[ Supported-Features ]\n[ ULA-Flags ]\n[ Subscription-Data ]\n*[ Reset-ID ]\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.2.5",
      "section_id": "7.2.5",
      "section_title": "Authentication-Information-Request (AIR) Command",
      "content": "The Authentication-Information-Request (AIR) command, indicated by the Command-Code field set to 318 and the 'R' bit set in the Command Flags field, is sent from MME or SGSN to HSS.\nMessage Format\n< Authentication-Information-Request> ::=\t< Diameter Header: 318, REQ, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ Destination-Host ]\n{ Destination-Realm }\n{ User-Name }\n[ OC-Supported-Features ]\n*[Supported-Features]\n[ Requested-EUTRAN-Authentication-Info ]\n[ Requested-UTRAN-GERAN-Authentication-Info ]\n{ Visited-PLMN-Id }\n[ AIR-Flags ]\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.2.6",
      "section_id": "7.2.6",
      "section_title": "Authentication-Information-Answer (AIA) Command",
      "content": "The Authentication-Information-Answer (AIA) command, indicated by the Command-Code field set to318 and the 'R' bit cleared in the Command Flags field, is sent from HSS to MME or SGSN.\nMessage Format\n< Authentication-Information-Answer> ::=\t< Diameter Header: 318, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n[ Result-Code ]\n[ Experimental-Result ]\n[ Error-Diagnostic ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ OC-Supported-Features ]\n[ OC-OLR ]\n*[ Load ]\n*[Supported-Features]\n[ Authentication-Info ]\n[ UE-Usage-Type ]\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.2.7",
      "section_id": "7.2.7",
      "section_title": "Cancel-Location-Request (CLR) Command",
      "content": "The Cancel-Location-Request (CLR) command, indicated by the Command-Code field set to 317 and the 'R' bit set in the Command Flags field, is sent from HSS to MME or SGSN.\nMessage Format\n< Cancel-Location-Request> ::=\t< Diameter Header: 317, REQ, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n{ Destination-Host }\n{ Destination-Realm }\n{ User-Name }\n*[Supported-Features ]\n{ Cancellation-Type }\n[ CLR-Flags ]\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.2.8",
      "section_id": "7.2.8",
      "section_title": "Cancel-Location-Answer (CLA) Command",
      "content": "The Cancel-Location-Answer (CLA) command, indicated by the Command-Code field set to 317 and the 'R' bit cleared in the Command Flags field, is sent from MME or SGSN to HSS.\nMessage Format\n< Cancel-Location-Answer> ::=\t< Diameter Header: 317, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n*[ Supported-Features ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.2.9",
      "section_id": "7.2.9",
      "section_title": "Insert-Subscriber-Data-Request (IDR) Command",
      "content": "The Insert-Subscriber-Data-Request (IDR) command, indicated by the Command-Code field set to 319 and the 'R' bit set in the Command Flags field, is sent from HSS or CSS  to MME or SGSN.\nMessage Format when used over the S6a or S6d application:\n< Insert-Subscriber-Data-Request> ::=\t< Diameter Header: 319, REQ, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n{ Destination-Host }\n{ Destination-Realm }\n{ User-Name }\n*[ Supported-Features]\n{ Subscription-Data}\n[ IDR- Flags ]\n*[ Reset-ID ]\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\nMessage Format when used over the S7a or S7d application:\n< Insert-Subscriber-Data-Request> ::=\t< Diameter Header: 319, REQ, PXY, 16777308 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n{ Destination-Host }\n{ Destination-Realm }\n{ User-Name }\n*[ Supported-Features ]\n*{ VPLMN-CSG-Subscription-Data }\n*[ Reset-ID ]\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.2.10",
      "section_id": "7.2.10",
      "section_title": "Insert-Subscriber-Data-Answer (IDA) Command",
      "content": "The Insert-Subscriber-Data-Answer (IDA) command, indicated by the Command-Code field set to 319 and the 'R' bit cleared in the Command Flags field, is sent from MME or SGSN to HSS or CSS.\nMessage Format when used over the S6a or S6d application:\n< Insert-Subscriber-Data-Answer> ::=\t< Diameter Header: 319, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n*[ Supported-Features ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ IMS-Voice-Over-PS-Sessions-Supported ]\n[ Last-UE-Activity-Time ]\n[ RAT-Type ]\n[ IDA-Flags ]\n[ EPS-User-State ]\n[ EPS-Location-Information ]\n[Local-Time-Zone ]\n[ Supported-Services ]\n*[ Monitoring-Event-Report ]\n*[ Monitoring-Event-Config-Status ]\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\nMessage Format when used over the S7a or S7d application:\n< Insert-Subscriber-Data-Answer> ::=\t< Diameter Header: 319, PXY, 16777308 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n*[ Supported-Features ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.2.11",
      "section_id": "7.2.11",
      "section_title": "Delete-Subscriber-Data-Request (DSR) Command",
      "content": "The Delete-Subscriber Data-Request (DSR) command, indicated by the Command-Code field set to 320 and the 'R' bit set in the Command Flags field, is sent from HSS or CSS to MME or SGSN.\nMessage Format when used over the S6a/S6d application:\n< Delete-Subscriber-Data-Request > ::=\t< Diameter Header: 320, REQ, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n{ Destination-Host }\n{ Destination-Realm }\n{ User-Name }\n*[ Supported-Features ]\n{ DSR-Flags }\n[ SCEF-ID ]\n*[ Context-Identifier ]\n[ Trace-Reference ]\n*[ TS-Code ]\n*[ SS-Code ]\n[ eDRX-Related-RAT ]\n*[ External-Identifier ]\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\nThe SCEF-ID shall be present when the flag \"Delete monitoring events\" in DSR-Flags AVP is set.\nMessage Format when used over the S7a/S7d application:\n< Delete-Subscriber-Data-Request > ::=\t< Diameter Header: 320, REQ, PXY, 16777308 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n{ Destination-Host }\n{ Destination-Realm }\n{ User-Name }\n*[ Supported-Features ]\n{ DSR-Flags }\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.2.12",
      "section_id": "7.2.12",
      "section_title": "Delete-Subscriber-Data-Answer (DSA) Command",
      "content": "The Delete-Subscriber Data-Answer (DSA) command, indicated by the Command-Code field set to 320 and the 'R' bit cleared in the Command Flags field, is sent from MME or SGSN to HSS or CSS.\nMessage Format when used over the S6a/S6d application:\n< Delete-Subscriber-Data-Answer> ::= < Diameter Header: 320, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n*[ Supported-Features ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ DSA-Flags ]\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\nMessage Format when used over the S7a /S7d application:\n< Delete-Subscriber-Data-Answer> ::= < Diameter Header: 320, PXY, 16777308>\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n*[ Supported-Features ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.2.13",
      "section_id": "7.2.13",
      "section_title": "Purge-UE-Request (PUR) Command",
      "content": "The Purge-UE-Request (PUR) command, indicated by the Command-Code field set to 321 and the 'R' bit set in the Command Flags field, is sent from MME or SGSN to HSS.\nMessage Format\n< Purge-UE-Request> ::=\t< Diameter Header: 321, REQ, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ Destination-Host ]\n{ Destination-Realm }\n{ User-Name }\n[ OC-Supported-Features ]\n[ PUR-Flags ]\n*[ Supported-Features ]\n[ EPS-Location-Information ]\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.2.14",
      "section_id": "7.2.14",
      "section_title": "Purge-UE-Answer (PUA) Command",
      "content": "The Purge-UE-Answer (PUA) command, indicated by the Command-Code field set to 321 and the 'R' bit cleared in the Command Flags field, is sent from HSS to MME or SGSN.\nMessage Format\n< Purge-UE-Answer> ::=\t< Diameter Header: 321, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n*[ Supported-Features ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ OC-Supported-Features ]\n[ OC-OLR ]\n*[ Load ]\n[ PUA-Flags ]\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.2.15",
      "section_id": "7.2.15",
      "section_title": "Reset-Request (RSR) Command",
      "content": "The Reset-Request (RSR) command, indicated by the Command-Code field set to 322 and the 'R' bit set in the Command Flags field, is sent from HSS or CSS to MME or SGSN.\nMessage Format when used over the S6a/S6d application:\n< Reset-Request> ::=\t< Diameter Header: 322, REQ, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n{ Destination-Host }\n{ Destination-Realm }\n*[ Supported-Features ]\n*[ User-Id ]\n*[ Reset-ID ]\n[ Subscription-Data ]\n[ Subscription-Data-Deletion ]\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\nMessage Format when used over the S7a /S7d application:\n< Reset-Request> ::=\t< Diameter Header: 322, REQ, PXY, 16777308 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n{ Destination-Host }\n{ Destination-Realm }\n*[ Supported-Features ]\n*[ Reset-ID ]\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.2.16",
      "section_id": "7.2.16",
      "section_title": "Reset-Answer (RSA) Command",
      "content": "The Reset-Answer (RSA) command, indicated by the Command-Code field set to 322 and the 'R' bit cleared in the Command Flags field, is sent from MME or SGSN to HSS or CSS.\nMessage Format when used over the S6a/S6d application:\n< Reset-Answer> ::=\t< Diameter Header: 322, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n*[ Supported-Features ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]\nMessage Format when used over the S7a /S7d application:\n< Reset-Answer> ::=\t< Diameter Header: 322, PXY, 16777308 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n*[ Supported-Features ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.2.17",
      "section_id": "7.2.17",
      "section_title": "Notify-Request (NOR) Command",
      "content": "The Notify-Request (NOR) command, indicated by the Command-Code field set to 323 and the 'R' bit set in the Command Flags field, is sent from MME or SGSN to HSS.\nMessage Format\n< Notify-Request> ::=\t< Diameter Header: 323, REQ, PXY, 16777251 >\n< Session-Id >\n[ Vendor-Specific-Application-Id ]\n[ DRMP ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ Destination-Host ]\n{ Destination-Realm }\n{ User-Name }\n[ OC-Supported-Features ]\n*[ Supported-Features ]\n[ Terminal-Information ]\n[ MIP6-Agent-Info ]\n[ Visited-Network-Identifier ]\n[ Context-Identifier ]\n[Service-Selection]\n[ Alert-Reason ]\n[ UE-SRVCC-Capability ]\n[ NOR-Flags ]\n[ Homogeneous-Support-of-IMS-Voice-Over-PS-Sessions ]\n[ Maximum-UE-Availability-Time ]\n*[ Monitoring-Event-Config-Status ]\n[ Emergency-Services ]\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.2.18",
      "section_id": "7.2.18",
      "section_title": "Notify-Answer (NOA) Command",
      "content": "The Notify-Answer (NOA) command, indicated by the Command-Code field set to 323 and the 'R' bit cleared in the Command Flags field, is sent from HSS to MME or SGSN.\nMessage Format\n< Notify-Answer> ::=\t< Diameter Header: 323, PXY, 16777251 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ OC-Supported-Features ]\n[ OC-OLR ]\n*[ Load ]\n*[ Supported-Features ]\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.2.19",
      "section_id": "7.2.19",
      "section_title": "ME-Identity-Check-Request (ECR) Command",
      "content": "The ME-Identity-Check-Request (ECR) command, indicated by the Command-Code field set to 324 and the 'R' bit set in the Command Flags field, is sent from MME or SGSN to EIR.\nMessage Format\n< ME-Identity-Check-Request > ::=\t< Diameter Header: 324, REQ, PXY, 16777252 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ Destination-Host ]\n{ Destination-Realm }\n{ Terminal-Information }\n[ User-Name ]\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.2.20",
      "section_id": "7.2.20",
      "section_title": "ME-Identity-Check-Answer (ECA) Command",
      "content": "The ME-Identity-Check-Answer (ECA) command, indicated by the Command-Code field set to 324 and the 'R' bit cleared in the Command Flags field, is sent from EIR to MME or SGSN.\nMessage Format\n< ME-Identity-Check-Answer> ::=\t< Diameter Header: 324, PXY, 16777252 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ Equipment-Status ]\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.2.21",
      "section_id": "7.2.21",
      "section_title": "Update-VCSG-Location-Request (UVR) Command",
      "content": "The Update-VCSG-Location-Request (UVR) command, indicated by the Command-Code field set to 8388638 and the \"R\" bit set in the Command Flags field, is sent from MME or SGSN to CSS.\nMessage Format\n< Update-VCSG-Location-Request> ::=\t< Diameter Header: 8388638, REQ, PXY,  >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ Destination-Host ]\n{ Destination-Realm }\n{ User-Name }\n[ MSISDN ]\n[ SGSN-Number ]\n*[ Supported-Features ]\n{ UVR-Flags }\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.2.22",
      "section_id": "7.2.22",
      "section_title": "Update-VCSG-Location-Answer (UVA) Command",
      "content": "The Update-VCSG-Location-Answer (UVA) command, indicated by the Command-Code field set to 8388638 and the 'R' bit cleared in the Command Flags field, is sent from CSS to MME or SGSN.\nMessage Format\n< Update-VCSG-Location-Answer> ::=\t< Diameter Header: 8388638, PXY,  >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n[ Result-Code ]\n[ Experimental-Result ]\n[ Error-Diagnostic ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n*[ Supported-Features ]\n*[ VPLMN-CSG-Subscription-Data ]\n[ UVA-Flags ]\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.2.23",
      "section_id": "7.2.23",
      "section_title": "Cancel-VCSG-Location-Request (CVR) Command",
      "content": "The Cancel-VCSG-Location-Request (CVR) command, indicated by the Command-Code field set to 8388642 and the 'R' bit set in the Command Flags field, is sent from CSS to MME or SGSN.\nMessage Format\n< Cancel-VCSG-Location-Request> ::=\t< Diameter Header: 8388642, REQ, PXY,  >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n{ Destination-Host }\n{ Destination-Realm }\n{ User-Name }\n*[Supported-Features ]\n{ Cancellation-Type }\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.2.24",
      "section_id": "7.2.24",
      "section_title": "Cancel-VCSG-Location-Answer (CVA) Command",
      "content": "The Cancel-VCSG-Location-Answer (CVA) command, indicated by the Command-Code field set to 8388642 and the 'R' bit cleared in the Command Flags field, is sent from MME or SGSN to CSS.\nMessage Format\n< Cancel-VCSG-Location-Answer> ::=\t< Diameter Header: 8388642, PXY,  >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n*[ Supported-Features ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.1",
      "section_id": "7.3.1",
      "section_title": "General",
      "content": "The following table specifies the Diameter AVPs defined for the S6a/S6d interface protocol, the S7a/S7d interface protocol and the S13/S13' interface protocol, their AVP Code values, types, possible flag values and whether or not the AVP may be encrypted. The Vendor-ID header of all AVPs defined in this specification shall be set to 3GPP (10415).\nFor all AVPs which contain bit masks and are of the type Unsigned32, e.g., ULR-Flags, DSR-Flags, PUA-Flags, etc., bit 0 shall be the least significant bit. For example, to get the value of bit 0, a bit mask of 0x0001 should be used.\nTable 7.3.1/1: S6a/S6d, S7a/S7d and S13/S13' specific DiameterAVPs\nAVP Flag rules\nAttribute Name\nAVP Code\nClause defined\nValue Type\nMust\nMay\nShould not\nMust not\nMay Encr.\nSubscription-Data\n1400\n7.3.2\nGrouped\nM, V\nNo\nTerminal-Information\n1401\n7.3.3\nGrouped\nM, V\nNo\nIMEI\n1402\n7.3.4\nUTF8String\nM, V\nNo\nSoftware-Version\n1403\n7.3.5\nUTF8String\nM, V\nNo\nQoS-Subscribed\n1404\n7.3.77\nOctetString\nM, V\nNo\nULR-Flags\n1405\n7.3.7\nUnsigned32\nM, V\nNo\nULA-Flags\n1406\n7.3.8\nUnsigned32\nM, V\nNo\nVisited-PLMN-Id\n1407\n7.3.9\nOctetString\nM, V\nNo\nRequested-EUTRAN-Authentication-Info\n1408\n7.3.11\nGrouped\nM, V\nNo\nRequested-UTRAN-GERAN-Authentication-Info\n1409\n7.3.12\nGrouped\nM, V\nNo\nNumber-Of-Requested-Vectors\n1410\n7.3.14\nUnsigned32\nM, V\nNo\nRe-Synchronization-Info\n1411\n7.3.15\nOctetString\nM, V\nNo\nImmediate-Response-Preferred\n1412\n7.3.16\nUnsigned32\nM, V\nNo\nAuthentication-Info\n1413\n7.3.17\nGrouped\nM, V\nNo\nE-UTRAN-Vector\n1414\n7.3.18\nGrouped\nM, V\nNo\nUTRAN-Vector\n1415\n7.3.19\nGrouped\nM, V\nNo\nGERAN-Vector\n1416\n7.3.20\nGrouped\nM, V\nNo\nNetwork-Access-Mode\n1417\n7.3.21\nEnumerated\nM, V\nNo\nHPLMN-ODB\n1418\n7.3.22\nUnsigned32\nM, V\nNo\nItem-Number\n1419\n7.3.23\nUnsigned32\nM, V\nNo\nCancellation-Type\n1420\n7.3.24\nEnumerated\nM, V\nNo\nDSR-Flags\n1421\n7.3.25\nUnsigned32\nM, V\nNo\nDSA-Flags\n1422\n7.3.26\nUnsigned32\nM, V\nNo\nContext-Identifier\n1423\n7.3.27\nUnsigned32\nM, V\nNo\nSubscriber-Status\n1424\n7.3.29\nEnumerated\nM, V\nNo\nOperator-Determined-Barring\n1425\n7.3.30\nUnsigned32\nM, V\nNo\nAccess-Restriction-Data\n1426\n7.3.31\nUnsigned32\nM, V\nNo\nAPN-OI-Replacement\n1427\n7.3.32\nUTF8String\nM, V\nNo\nAll-APN-Configurations-Included-Indicator\n1428\n7.3.33\nEnumerated\nM, V\nNo\nAPN-Configuration-Profile\n1429\n7.3.34\nGrouped\nM, V\nNo\nAPN-Configuration\n1430\n7.3.35\nGrouped\nM, V\nNo\nEPS-Subscribed-QoS-Profile\n1431\n7.3.37\nGrouped\nM, V\nNo\nVPLMN-Dynamic-Address-Allowed\n1432\n7.3.38\nEnumerated\nM, V\nNo\nSTN-SR\n1433\n7.3.39\nOctetString\nM, V\nNo\nAlert-Reason\n1434\n7.3.83\nEnumerate\nM, V\nNo\nAMBR\n1435\n7.3.41\nGrouped\nM, V\nNo\nCSG-Subscription-Data\n1436\n7.3.78\nGrouped\nM. V\nNo\nCSG-Id\n1437\n7.3.79\nUnsigned32\nM, V\nNo\nPDN-GW-Allocation-Type\n1438\n7.3.44\nEnumerated\nM, V\nNo\nExpiration-Date\n1439\n7.3.80\nTime\nM, V\nNo\nRAT-Frequency-Selection-Priority-ID\n1440\n7.3.46\nUnsigned32\nM, V\nNo\nIDA-Flags\n1441\n7.3.47\nUnsigned32\nM, V\nNo\nPUA-Flags\n1442\n7.3.48\nUnsigned32\nM, V\nNo\nNOR-Flags\n1443\n7.3.49\nUnsigned32\nM, V\nNo\nUser-Id\n1444\n7.3.50\nUTF8String\nV\nM\nNo\nEquipment-Status\n1445\n7.3.51\nEnumerated\nM, V\nNo\nRegional-Subscription-Zone-Code\n1446\n7.3.52\nOctetString\nM, V\nNo\nRAND\n1447\n7.3.53\nOctetString\nM, V\nNo\nXRES\n1448\n7.3.54\nOctetString\nM, V\nNo\nAUTN\n1449\n7.3.55\nOctetString\nM, V\nNo\nKASME\n1450\n7.3.56\nOctetString\nM, V\nNo\nTrace-Collection-Entity\n1452\n7.3.98\nAddress\nM, V\nNo\nKc\n1453\n7.3.59\nOctetString\nM, V\nNo\nSRES\n1454\n7.3.60\nOctetString\nM, V\nNo\nPDN-Type\n1456\n7.3.62\nEnumerated\nM, V\nNo\nRoaming-Restricted-Due-To-Unsupported-Feature\n1457\n7.3.81\nEnumerated\nM, V\nNo\nTrace-Data\n1458\n7.3.63\nGrouped\nM, V\nNo\nTrace-Reference\n1459\n7.3.64\nOctetString\nM, V\nNo\nTrace-Depth\n1462\n7.3.67\nEnumerated\nM, V\nNo\nTrace-NE-Type-List\n1463\n7.3.68\nOctetString\nM, V\nNo\nTrace-Interface-List\n1464\n7.3.69\nOctetString\nM, V\nNo\nTrace-Event-List\n1465\n7.3.70\nOctetString\nM, V\nNo\nOMC-Id\n1466\n7.3.71\nOctetString\nM, V\nNo\nGPRS-Subscription-Data\n1467\n7.3.72\nGrouped\nM, V\nNo\nComplete-Data-List-Included-Indicator\n1468\n7.3.73\nEnumerated\nM, V\nNo\nPDP-Context\n1469\n7.3.74\nGrouped\nM, V\nNo\nPDP-Type\n1470\n7.3.75\nOctetString\nM, V\nNo\n3GPP2-MEID\n1471\n7.3.6\nOctetString\nM, V\nNo\nSpecific-APN-Info\n1472\n7.3.82\nGrouped\nM, V\nNo\nLCS-Info\n1473\n7.3.84\nGrouped\nM, V\nNo\nGMLC-Number\n1474\n7.3.85\nOctetString\nM, V\nNo\nLCS-PrivacyException\n1475\n7.3.86\nGrouped\nM, V\nNo\nSS-Code\n1476\n7.3.87\nOctetString\nM, V\nNo\nSS-Status\n1477\n7.3.88\nOctetString\nM, V\nNo\nNotification-To-UE-User\n1478\n7.3.89\nEnumerated\nM, V\nNo\nExternal-Client\n1479\n7.3.90\nGrouped\nM, V\nNo\nClient-Identity\n1480\n7.3.91\nOctetString\nM, V\nNo\nGMLC-Restriction\n1481\n7.3.92\nEnumerated\nM, V\nNo\nPLMN-Client\n1482\n7.3.93\nEnumerated\nM, V\nNo\nService-Type\n1483\n7.3.94\nGrouped\nM, V\nNo\nServiceTypeIdentity\n1484\n7.3.95\nUnsigned32\nM, V\nNo\nMO-LR\n1485\n7.3.96\nGrouped\nM, V\nNo\nTeleservice-List\n1486\n7.3.99\nGrouped\nM, V\nNo\nTS-Code\n1487\n7.3.100\nOctetString\nM, V\nNo\nCall-Barring-Info\n1488\n7.3.101\nGrouped\nM, V\nNo\nSGSN-Number\n1489\n7.3.102\nOctetString\nM, V\nNo\nIDR-Flags\n1490\n7.3.103\nUnsigned32\nM, V\nNo\nICS-Indicator\n1491\n7.3.104\nEnumerated\nV\nM\nNo\nIMS-Voice-Over-PS-Sessions-Supported\n1492\n7.3.106\nEnumerated\nV\nM\nNo\nHomogeneous-Support-of-IMS-Voice-Over-PS-Sessions\n1493\n7.3.107\nEnumerated\nV\nM\nNo\nLast-UE-Activity-Time\n1494\n7.3.108\nTime\nV\nM\nNo\nEPS-User-State\n1495\n7.3.110\nGrouped\nV\nM\nNo\nEPS-Location-Information\n1496\n7.3.111\nGrouped\nV\nM\nNo\nMME-User-State\n1497\n7.3.112\nGrouped\nV\nM\nNo\nSGSN-User-State\n1498\n7.3.113\nGrouped\nV\nM\nNo\nUser-State\n1499\n7.3.114\nEnumerated\nV\nM\nNo\nMME-Location Information\n1600\n7.3.115\nGrouped\nV\nM\nNo\nSGSN-Location-Information\n1601\n7.3.116\nGrouped\nV\nM\nNo\nE-UTRAN-Cell-Global-Identity\n1602\n7.3.117\nOctetString\nV\nM\nNo\nTracking-Area-Identity\n1603\n7.3.118\nOctetString\nV\nM\nNo\nCell-Global-Identity\n1604\n7.3.119\nOctetString\nV\nM\nNo\nRouting-Area-Identity\n1605\n7.3.120\nOctetString\nV\nM\nNo\nLocation-Area-Identity\n1606\n7.3.121\nOctetString\nV\nM\nNo\nService-Area-Identity\n1607\n7.3.122\nOctetString\nV\nM\nNo\nGeographical-Information\n1608\n7.3.123\nOctetString\nV\nM\nNo\nGeodetic-Information\n1609\n7.3.124\nOctetString\nV\nM\nNo\nCurrent-Location-Retrieved\n1610\n7.3.125\nEnumerated\nV\nM\nNo\nAge-Of-Location-Information\n1611\n7.3.126\nUnsigned32\nV\nM\nNo\nActive-APN\n1612\n7.3.127\nGrouped\nV\nM\nNo\nError-Diagnostic\n1614\n7.3.128\nEnumerated\nV\nM\nNo\nExt-PDP-Address\n1621\n7.3.129\nAddress\nV\nM\nNo\nUE-SRVCC-Capability\n1615\n7.3.130\nEnumerated\nV\nM\nNo\nMPS-Priority\n1616\n7.3.131\nUnsigned32\nV\nM\nNo\nVPLMN-LIPA-Allowed\n1617\n7.3.132\nEnumerated\nV\nM\nNo\nLIPA-Permission\n1618\n7.3.133\nEnumerated\nV\nM\nNo\nSubscribed-Periodic-RAU-TAU-Timer\n1619\n7.3.134\nUnsigned32\nV\nM\nNo\nExt-PDP-Type\n1620\n7.3.75A\nOctetString\nV\nM\nNo\nSIPTO-Permission\n1613\n7.3.135\nEnumerated\nV\nM\nNo\nMDT-Configuration\n1622\n7.3.136\nGrouped\nV\nM\nNo\nJob-Type\n1623\n7.3.137\nEnumerated\nV\nM\nNo\nArea-Scope\n1624\n7.3.138\nGrouped\nV\nM\nNo\nList-Of-Measurements\n1625\n7.3.139\nUnsigned32\nV\nM\nNo\nReporting-Trigger\n1626\n7.3.140\nUnsigned32\nV\nM\nNo\nReport-Interval\n1627\n7.3.141\nEnumerated\nV\nM\nNo\nReport-Amount\n1628\n7.3.142\nEnumerated\nV\nM\nNo\nEvent-Threshold-RSRP\n1629\n7.3.143\nUnsigned32\nV\nM\nNo\nEvent-Threshold-RSRQ\n1630\n7.3.144\nUnsigned32\nv\nM\nNo\nLogging-Interval\n1631\n7.3.145\nEnumerated\nV\nM\nNo\nLogging-Duration\n1632\n7.3.146\nEnumerated\nV\nM\nNo\nRelay-Node-Indicator\n1633\n7.3.147\nEnumerated\nV\nM\nNo\nMDT-User-Consent\n1634\n7.3.148\nEnumerated\nV\nM\nNo\nPUR-Flags\n1635\n7.3.149\nUnsigned32\nV\nM\nNo\nSubscribed-VSRVCC\n1636\n7.3.150\nEnumerated\nV\nM\nNo\nEquivalent-PLMN-List\n1637\n7.3.151\nGrouped\nV\nM\nNo\nCLR-Flags\n1638\n7.3.152\nUnsigned32\nV\nM\nNo\nUVR-Flags\n1639\n7.3.153\nUnsigned32\nM, V\nNo\nUVA-Flags\n1640\n7.3.154\nUnsigned32\nM, V\nNo\nVPLMN-CSG-Subscription-Data\n1641\n7.3.155\nGrouped\nM, V\nNo\nTime-Zone\n1642\n7.3.163\nUTF8String\nV\nM\nNo\nA-MSISDN\n1643\n7.3.157\nOctetString\nV\nM\nNo\nMME-Number-for-MT-SMS\n1645\n7.3.159\nOctetString\nV\nM\nNo\nSMS-Register-Request\n1648\n7.3.162\nEnumerated\nV\nM\nNo\nLocal-Time-Zone\n1649\n7.3.156\nGrouped\nV\nM\nNo\nDaylight-Saving-Time\n1650\n7.3.164\nEnumerated\nV\nM\nNo\nSubscription-Data-Flags\n1654\n7.3.165\nUnsigned32\nV\nM\nNo\nMeasurement-Period-LTE\n1655\n7.3.166\nEnumerated\nV\nM\nNo\nMeasurement-Period-UMTS\n1656\n7.3.167\nEnumerated\nV\nM\nNo\nCollection-Period-RRM-LTE\n1657\n7.3.168\nEnumerated\nV\nM\nNo\nCollection-Period-RRM-UMTS\n1658\n7.3.169\nEnumerated\nV\nM\nNo\nPositioning-Method\n1659\n7.3.170\nOctetString\nV\nM\nNo\nMeasurement-Quantity\n1660\n7.3.171\nOctetString\nV\nM\nNo\nEvent-Threshold-Event-1F\n1661\n7.3.172\nInteger32\nV\nM\nNo\nEvent-Threshold-Event-1I\n1662\n7.3.173\nInteger32\nV\nM\nNo\nRestoration-Priority\n1663\n7.3.174\nUnsigned32\nV\nM\nNo\nSGs-MME-Identity\n1664\n7.3.175\nUTF8String\nV\nM\nNo\nSIPTO-Local-Network-Permission\n1665\n7.3.176\nUnsigned32\nV\nM\nNo\nCoupled-Node-Diameter-ID\n1666\n7.3.177\nDiameterIdentity\nV\nM\nNo\nWLAN-offloadability\n1667\n7.3.181\nGrouped\nV\nM\nNo\nWLAN-offloadability-EUTRAN\n1668\n7.3.182\nUnsigned32\nV\nM\nNo\nWLAN-offloadability-UTRAN\n1669\n7.3.183\nUnsigned32\nV\nM\nNo\nReset-ID\n1670\n7.3.184\nOctetString\nV\nM\nNo\nMDT-Allowed-PLMN-Id\n1671\n7.3.185\nOctetString\nV\nM\nNo\nAdjacent-PLMNs\n1672\n7.3.186\nGrouped\nV\nM\nNo\nAdjacent-Access-Restriction-Data\n1673\n7.3.187\nGrouped\nV\nM\nNo\nDL-Buffering-Suggested-Packet-Count\n1674\n7.3.188\nInteger32\nV\nM\nNo\nIMSI-Group-Id\n1675\n7.3.189\nGrouped\nV\nM\nNo\nGroup-Service-Id\n1676\n7.3.190\nUnsigned32\nV\nM\nNo\nGroup-PLMN-Id\n1677\n7.3.191\nOctetString\nV\nM\nNo\nLocal-Group-Id\n1678\n7.3.192\nOctetString\nV\nM\nNo\nAIR-Flags\n1679\n7.3.201\nUnsigned32\nV\nM\nNo\nUE-Usage-Type\n1680\n7.3.202\nUnsigned32\nV\nM\nNo\nNon-IP-PDN-Type-Indicator\n1681\n7.3.204\nEnumerated\nV\nM\nNo\nNon-IP-Data-Delivery-Mechanism\n1682\n7.3.205\nUnsigned32\nV\nM\nNo\nAdditional-Context-ID\n1683\n7.3.206\nUnsigned32\nV\nM\nNo\nSCEF-Realm\n1684\n7.3.207\nDiameterIdentity\nV\nM\nNo\nSubscription-Data-Deletion\n1685\n7.3.208\nGrouped\nV\nM\nNo\nPreferred-Data-Mode\n1686\n7.3.209\nUnsigned32\nV\nM\nNo\nEmergency-Info\n1687\n7.3.210\nGrouped\nV\nM\nNo\nV2X-Subscription-Data\n1688\n7.3.212\nGrouped\nV\nM\nNo\nV2X-Permission\n1689\n7.3.213\nUnsigned32\nV\nM\nNo\nPDN-Connection-Continuity\n1690\n7.3.214\nUnsigned32\nV\nM\nNo\neDRX-Cycle-Length\n1691\n7.3.215\nGrouped\nV\nM\nNo\neDRX-Cycle-Length-Value\n1692\n7.3.216\nOctetString\nV\nM\nNo\nUE-PC5-AMBR\n1693\n7.3.217\nUnsigned32\nV\nM\nNo\nMBSFN-Area\n1694\n7.3.219\nGrouped\nV\nM\nNo\nMBSFN-Area-ID\n1695\n7.3.220\nUnsigned32\nV\nM\nNo\nCarrier-Frequency\n1696\n7.3.221\nUnsigned32\nV\nM\nNo\nRDS-Indicator\n1697\n7.3.222\nEnumerated\nV\nM\nNo\nService-Gap-Time\n1698\n7.3.223\nUnsigned32\nV\nM\nNo\nAerial-UE-Subscription-Information\n1699\n7.3.224\nUnsigned32\nV\nM\nNo\nBroadcast-Location-Assistance-Data-Types\n1700\n7.3.225\nUnsigned64\nV\nM\nNo\nPaging-Time-Window\n1701\n7.3.226\nGrouped\nV\nM\nNo\nOperation-Mode\n1702\n7.3.227\nUnsigned32\nV\nM\nNo\nPaging-Time-Window-Length\n1703\n7.3.228\nOctetString\nV\nM\nNo\nCore-Network-Restrictions\n1704\n7.3.230\nUnsigned32\nV\nM\nNo\neDRX-Related-RAT\n1705\n7.3.229\nGrouped\nV\nM\nNo\nInterworking-5GS-Indicator\n1706\n7.3.231\nEnumerated\nV\nM\nNo\nEthernet-PDN-Type-Indicator\n1707\n7.3.232\nEnumerated\nV\nM\nNo\nSubscribed-ARPI\n1708\n7.3.233\nUnsigned32\nV\nM\nNo\nIAB-Operation-Permission\n1709\n7.3.234\nEnumerated\nV\nM\nNo\nV2X-Subscription-Data-Nr\n1710\n7.3.235\nGrouped\nV\nM\nNo\nUE-PC5-QoS\n1711\n7.3.236\nGrouped\nV\nM\nNo\nPC5-QoS-Flow\n1712\n7.3.237\nGrouped\nV\nM\nNo\n5QI\n1713\n7.3.238\nInteger32\nV\nM\nNo\nPC5-Flow-Bitrates\n1714\n7.3.239\nGrouped\nV\nM\nNo\nGuaranteed-Flow-Bitrates\n1715\n7.3.240\nInteger32\nV\nM\nNo\nMaximum-Flow-Bitrates\n1716\n7.3.241\nInteger32\nV\nM\nNo\nPC5-Range\n1717\n7.3.242\nInteger32\nV\nM\nNo\nPC5-Link-AMBR\n1718\n7.3.243\nInteger32\nV\nM\nNo\nThird-Context-Identifier\n1719\n7.3.244\nUnsigned32\nV\nM\nNo\nMDT-Configuration-NR\n1720\n7.3.245\nGrouped\nV\nM\nNo\nEvent-Threshold-SINR\n1721\n7.3.246\nUnsigned32\nV\nM\nNo\nCollection-Period-RRM-NR\n1722\n7.3.247\nEnumerated\nV\nM\nNo\nCollection-Period-M6-NR\n1723\n7.3.248\nEnumerated\nV\nM\nNo\nCollection-Period-M7-NR\n1724\n7.3.249\nUnsigned32\nV\nM\nNo\nSensor-Measurement\n1725\n7.3.250\nEnumerated\nV\nM\nNo\nNR-Cell-Global-Identity\n1726\n7.3.251\nOctetString\nV\nM\nNo\nTrace-Reporting-Consumer-Uri\n1727\n7.3.252\nDiameterURI\nV\nM\nNo\nNOTE 1:\tThe AVP header bit denoted as \"M\", indicates whether support of the AVP is required. The AVP header bit denoted as \"V\", indicates whether the optional Vendor-ID field is present in the AVP header. For further details, see IETF RFC 6733 [61].\nNOTE 2:\tIf the M-bit is set for an AVP and the receiver does not understand the AVP, it shall return a rejection. If the M-bit is not set for an AVP, the receiver shall not return a rejection, whether or not it understands the AVP. If the receiver understands the AVP but the M-bit value does not match with the definition in this table, the receiver shall ignore the M-bit.\nThe following table specifies the Diameter AVPs re-used by the S6a/S6d interface protocol from existing Diameter Applications, including a reference to their respective specifications and when needed, a short description of their use within S6a and S6d.\nAny other AVPs from existing Diameter Applications, except for the AVPs from Diameter base protocol specified in IETF RFC 6733 [61], do not need to be supported. The AVPs from the Diameter base protocol specified in IETF RFC 6733 [61] are not included in table 7.3.1/2, but they may be re-used for the S6a/S6d protocol, the S7a/S7protocol and the S13/S13' protocol.\nTable 7.3.1/2: S6a/S6d, S7a/S7d and S13/S13' re-used Diameter AVPs\nAttribute Name\nReference\nComments\nM-bit\nService-Selection\nIETF RFC 5778 [20]\nSee clause 7.3.36\n3GPP-Charging-Characteristics\n3GPP TS 29.061 [21]\nSee 3GPP TS 32.251 [33] Annex A and 3GPP TS 32.298 [22] clause 5.1.2.2.7\nThis attribute holds the EPS PDN Connection Charging Characteristics data for an EPS APN Configuration, or the PDP context Charging Characteristics for GPRS PDP context, or the Subscribed Charging Characteristics data for the subscriber level 3GPP Charging Characteristics; refer to 3GPP TS 23.008 [30].\nSupported-Features\n3GPP TS 29.229 [9]\nFeature-List-ID\n3GPP TS 29.229 [9]\nFeature-List\n3GPP TS 29.229 [9]\nSee clause 7.3.10\nServed-Party-IP-Address\n3GPP TS 32.299 [8]\nholds the PDN IP Address of the user\nQoS-Class-Identifier\n3GPP TS 29.212 [10]\nAllocation-Retention-Priority\n3GPP TS 29.212 [10]\nSee clause 7.3.40\nPriority-Level\n3GPP TS 29.212 [10]\nPre-emption-Capability\n3GPP TS 29.212 [10]\nPre-emption-Vulnerability\n3GPP TS 29.212 [10]\nMax-Requested-Bandwidth-DL\n3GPP TS 29.214 [11]\nMax-Requested-Bandwidth-UL\n3GPP TS 29.214 [11]\nExtended-Max-Requested-BW-DL\n3GPP TS 29.214 [11]\nExtended-Max-Requested-BW-UL\n3GPP TS 29.214 [11]\nRAT-Type\n3GPP TS 29.212 [10]\nSee clause 7.3.13\nMust set\nMSISDN\n3GPP TS 29.329 [25]\nMIP6-Agent-Info\nIETF RFC 5447 [26]\nMIP-Home-Agent-Address\nIETF RFC 4004 [27]\nMIP-Home-Agent-Host\nIETF RFC 4004 [27]\nPDP-Address\n3GPP TS 32.299 [8]\nConfidentiality-Key\n3GPP TS 29.229 [9]\nSee clause 7.3.57\nIntegrity-Key\n3GPP TS 29.229 [9]\nSee clause 7.3.58\nVisited-Network-Identifier\n3GPP TS 29.229 [9]\nSee clause 7.3.105\nMust not set\nGMLC-Address\n3GPP TS 29.173 [37]\nSee clause 7.3.109\nMust not set\nUser-CSG-Information\n3GPP TS 32.299 [8]\nMust not set\nProSe-Subscription-Data\n3GPP TS 29.344 [49]\nSee clause 7.3.180\nMust not set\nOC-Supported-Features\nIETF RFC 7683 [50]\nSee clause 7.3.178\nMust not set\nOC-OLR\nIETF RFC 7683 [50]\nSee clause 7.3.179\nMust not set\nSCEF-Reference-ID\n3GPP TS 29.336 [54]\nMust not set\nSCEF-ID\n3GPP TS 29.336 [54]\nMust not set\nAESE-Communication-Pattern\n3GPP TS 29.336 [54]\nsee clause 7.3.193\nMust not set\nCommunication-Pattern-set\n3GPP TS 29.336 [54]\nsee clause 7.3.194\nMust not set\nMonitoring-Event-Configuration\n3GPP TS 29.336 [54]\nSee clause 7.3.195\nMust not set\nMonitoring-Event-Report\n3GPP TS 29.336 [54]\nSee clause 7.3.196\nMust not set\nUE-Reachability-Configuration\n3GPP TS 29.336 [54]\nSee clause 7.3.197\nMust not set\neNodeB-ID\n3GPP TS 29.217 [56]\nSee clause 7.3.198\nMust not set\nSCEF-Reference-ID-for-Deletion\n3GPP TS 29.336 [54]\nMust not set\nMonitoring-Type\n3GPP TS 29.336 [54]\nMust not set\nMaximum-Number-of-Reports\n3GPP TS 29.336 [54]\nMust not set\nMonitoring-Duration\n3GPP TS 29.336 [54]\nMust not set\nCharged-Party\n3GPP TS 29.336 [54]\nMust not set\nLocation-Information-Configuration\n3GPP TS 29.336 [54]\nMust not set\nReachability-Type\n3GPP TS 29.336 [54]\nMust not set\nMaximum-Response-Time\n3GPP TS 29.336 [54]\nMust not set\nReachability-Information\n3GPP TS 29.336 [54]\nMust not set\nReachability-Cause\n3GPP TS 29.128 [63]\nMust not set\nMonitoring-Event-Config-Status\n3GPP TS 29.336 [54]\nMust not set\nSupported-Services\n3GPP TS 29.336 [54]\nSee clause 7.3.199\nMust not set\nSupported-Monitoring-Events\n3GPP TS 29.336 [54]\nSee clause 7.3.200\nMust not set\nDRMP\nIETF RFC 7944 [57]\nSee clause 7.3.203\nMust not set\nReference-ID-Validity-Time\n3GPP TS 29.336 [54]\nMust not set\nMaximum-UE-Availability-Time\n3GPP TS 29.338 [48]\nSee clause 5.3.3.22\nMust not set\nEmergency-Services\n3GPP TS 29.273 [59]\nLoad\nIETF RFC 8583 [60]\nSee clause 7.3.211\nMust not set\nExtended-eNodeB-ID\n3GPP TS 29.217 [56]\nSee clause 7.3.218\nMust not set\nExternal-Identifier\n3GPP TS 29.336 [54]\nMust not set\nLoss-Of-Connectivity-Reason\n3GPP TS 29.336 [54]\nMust not set\nActive-Time\n3GPP TS 29.128 [63]\nMust not set\nIdle-Status-Indication\n3GPP TS 29.128 [63]\nMust not set\nMTC-Provider-Info\n3GPP TS 29.336 [54]\nMust not set\nTraffic-Profile\n3GPP TS 29.336 [54]\nMust not set\nPDN-Connectivity-Status-Configuration\n3GPP TS 29.336 [54]\nSee clause 7.3.195\nMust not set\nPDN-Connectivity-Status-Report\n3GPP TS 29.336 [54]\nSee clause 7.3.196\nMust not set\nBattery-Indicator\n3GPP TS 29.336 [54]\nBattery-Indicator\nSCEF-Reference-ID-Ext\n3GPP TS 29.336 [54]\nMust not set\nSCEF-Reference-ID-for-Deletion-Ext\n3GPP TS 29.336 [54]\nMust not set\nNOTE 1:\tThe M-bit settings for re-used AVPs override those of the defining specifications that are referenced. Values include: \"Must set\", \"Must not set\". If the M-bit setting is blank, then the defining specification applies.\nNOTE 2:\tIf the M-bit is set for an AVP and the receiver does not understand the AVP, it shall return a rejection. If the M-bit is not set for an AVP, the receiver shall not return a rejection, whether or not it understands the AVP. If the receiver understands the AVP but the M-bit value does not match with the definition in this table, the receiver shall ignore the M-bit.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_7.3.36",
        "ts_32.251_clause_5.1.2.2.7",
        "ts_29.229_clause_7.3.10",
        "ts_29.212_clause_7.3.40",
        "ts_29.214_clause_7.3.13",
        "ts_29.229_clause_7.3.57",
        "ts_29.229_clause_7.3.58",
        "ts_29.229_clause_7.3.105",
        "ts_29.173_clause_7.3.109",
        "ts_29.344_clause_7.3.180",
        "clause_7.3.178",
        "clause_7.3.179",
        "ts_29.336_clause_7.3.193",
        "ts_29.336_clause_7.3.194",
        "ts_29.336_clause_7.3.195",
        "ts_29.336_clause_7.3.196",
        "ts_29.336_clause_7.3.197",
        "ts_29.217_clause_7.3.198",
        "ts_29.336_clause_7.3.199",
        "ts_29.336_clause_7.3.200",
        "clause_7.3.203",
        "ts_29.338_clause_5.3.3.22",
        "clause_7.3.211",
        "ts_29.217_clause_7.3.218",
        "table_7.3.1",
        "ts_29.061",
        "ts_32.251",
        "ts_32.298",
        "ts_23.008",
        "ts_29.229",
        "ts_32.299",
        "ts_29.212",
        "ts_29.214",
        "ts_29.329",
        "ts_29.173",
        "ts_29.344",
        "ts_29.336",
        "ts_29.217",
        "ts_29.128",
        "ts_29.338",
        "ts_29.273"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.2",
      "section_id": "7.3.2",
      "section_title": "Subscription-Data",
      "content": "The Subscription-Data AVP is of type Grouped. It shall contain the information related to the user profile relevant for EPS and GERAN/UTRAN.\nAVP format:\nSubscription-Data ::= <AVP header: 1400 10415>\n[ Subscriber-Status ]\n[ MSISDN ]\n[ A-MSISDN ]\n[ STN-SR ]\n[ ICS-Indicator ]\n[ Network-Access-Mode ]\n[ Operator-Determined-Barring ]\n[ HPLMN-ODB ]\n*10[ Regional-Subscription-Zone-Code ]\n[ Access-Restriction-Data ]\n[ APN-OI-Replacement ]\n[ LCS-Info ]\n[ Teleservice-List ]\n*[ Call-Barring-Info ]\n[ 3GPP-Charging-Characteristics ]\n[ AMBR ]\n[ APN-Configuration-Profile ]\n[ RAT-Frequency-Selection-Priority-ID ]\n[ Trace-Data]\n[ GPRS-Subscription-Data ]\n*[ CSG-Subscription-Data ]\n[ Roaming-Restricted-Due-To-Unsupported-Feature ]\n[ Subscribed-Periodic-RAU-TAU-Timer ]\n[ MPS-Priority ]\n[ VPLMN-LIPA-Allowed ]\n[ Relay-Node-Indicator ]\n[ MDT-User-Consent ]\n[ Subscribed-VSRVCC ]\n[ ProSe-Subscription-Data ]\n[ Subscription-Data-Flags ]\n*[ Adjacent-Access-Restriction-Data ]\n[ DL-Buffering-Suggested-Packet-Count ]\n*[ IMSI-Group-Id ]\n[ UE-Usage-Type ]\n*[ AESE-Communication-Pattern ]\n*[ Monitoring-Event-Configuration ]\n[ Emergency-Info ]\n[ V2X-Subscription-Data ]\n[ V2X-Subscription-Data-Nr ]\n*[ eDRX-Cycle-Length ]\n[ External-Identifier ]\n[ Active-Time ]\n[ Service-Gap-Time ]\n[ Broadcast-Location-Assistance-Data-Types ]\n[ Aerial-UE-Subscription-Information ]\n[ Core-Network-Restrictions ]\n*[ Paging-Time-Window ]\n[ Subscribed-ARPI ]\n[ IAB-Operation-Permission ]\n*[ AVP ]\nThe AMBR included in this grouped AVP shall include the AMBR associated to the user's subscription (UE-AMBR); Max-Requested-Bandwidth-UL and Max-Requested-Bandwidth-DL within this AVP shall not both be set to \"0\".\nThe APN-OI-Replacement included in this grouped AVP shall include the UE level APN-OI-Replacement associated to the user's subscription.\nWhen multiple External Identifiers are defined for the same subscription, the External-Identifier in this grouped AVP shall contain a default External Identifier determined by the HSS.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.3",
      "section_id": "7.3.3",
      "section_title": "Terminal-Information",
      "content": "The Terminal-Information AVP is of type Grouped. This AVP shall contain the information about the user's terminal.\nAVP format\nTerminal-Information ::= <AVP header: 1401 10415>\n[ IMEI ]\n[ 3GPP2-MEID ]\n[ Software-Version ]\n*[ AVP ]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.4",
      "section_id": "7.3.4",
      "section_title": "IMEI",
      "content": "The IMEI AVP is of type UTF8String. This AVP shall contain the International Mobile Equipment Identity, as specified in 3GPP TS 23.003 [3]. It should consist of 14 digits, including the 8-digit Type Allocation Code (TAC) and the 6-digit Serial Number (SNR). It may also include a 15th digit.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.003"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.5",
      "section_id": "7.3.5",
      "section_title": "Software-Version",
      "content": "The Software-Version AVP is of type UTF8String. This AVP shall contain the 2-digit Software Version Number (SVN) of the International Mobile Equipment Identity, as specified in 3GPP TS 23.003 [3].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.003"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.6",
      "section_id": "7.3.6",
      "section_title": "3GPP2-MEID",
      "content": "This AVP is of type OctetString. This AVP contains the Mobile Equipment Identifier of the user's terminal. For further details on the encoding of the AVP data, refer to the encoding of the Mobile Identity (MEID) octets 3 to 10 in 3GPP2 A.S0022 [28] Annex A.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.7",
      "section_id": "7.3.7",
      "section_title": "ULR-Flags",
      "content": "The ULR-Flags AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 7.3.7/1:\nTable 7.3.7/1: ULR-Flags\nBit\nName\nDescription\n0\nSingle-Registration-Indication\nThis bit, when set, indicates that the HSS shall send Cancel Location to the SGSN. An SGSN shall not set this bit when sending ULR.\n1\nS6a/S6d-Indicator\nThis bit, when set, indicates that the ULR message is sent on the S6a interface, i.e. the source node is an MME (or a combined MME/SGSN to which the UE is attached via E-UTRAN).\nThis bit, when cleared, indicates that the ULR message is sent on the S6d interface, i.e. the source node is an SGSN (or a combined MME/SGSN to which the UE is attached via UTRAN or GERAN).\n2\nSkip Subscriber Data\nThis bit, when set, indicates that the HSS may skip subscription data in ULA. If the subscription data has changed in the HSS after the last successful update of the MME/SGSN, the HSS shall ignore this bit and send the updated subscription data. If the HSS effectively skips the sending of subscription data, the GPRS-Subscription-Data-Indicator flag can be ignored.\n3\nGPRS-Subscription-Data-Indicator\nThis bit, when set, indicates that the HSS shall include in the ULA command the GPRS subscription data, if available in the HSS; it shall be included in the GPRS-Subscription-Data AVP inside the Subscription-Data AVP (see 7.3.2).\nOtherwise, the HSS shall not include the GPRS-Subscription-Data AVP in the response, unless the Update Location Request is received over the S6d interface and there is no APN configuration profile stored for the subscriber, or when the subscription data is returned by a Pre-Rel-8 HSS (via an IWF).\nA standalone MME shall not set this bit when sending a ULR.\n4\nNode-Type-Indicator\nThis bit, when set, indicates that the requesting node is a combined MME/SGSN.\nThis bit, when cleared, indicates that the requesting node is a single MME or SGSN; in this case, if the S6a/S6d-Indicator is set, the HSS may skip the check of those supported features only applicable to the SGSN, and if, in addition the MME does not request to be registered for SMS, the HSS may consequently skip the download of the SMS related subscription data to a standalone MME. NOTE2\n5\nInitial-Attach-Indicator\nThis bit, when set, indicates that the HSS shall send Cancel Location to the MME or SGSN if there is the MME or SGSN registration.\n6\nPS-LCS-Not-Supported-By-UE\nThis bit, when set, indicates to the HSS that the UE does not support neither UE Based nor UE Assisted positioning methods for Packet Switched Location Services. The MME shall set this bit on the basis of the UE capability information. The SGSN shall set this bit on the basis of the UE capability information and the access technology supported by the SGSN.\n7\nSMS-Only-Indication\nThis bit, when set, indicates that the UE indicated \"SMS only\" when requesting a combined IMSI attach or combined RA/LU.\n8\nDual-Registration-5G-Indicator\nThis bit, when set by an MME over S6a interface, indicates that the HSS+UDM shall not send Nudm_UECM_DeregistrationNotification to the registered AMF (if any); when not set by an MME over S6a interface, it indicates that the HSS+UDM shall send Nudm_UECM_DeregistrationNotification to the registered AMF (if any). See 3GPP TS 29.503 [66].\nAn SGSN shall not set this bit when sending ULR over S6d interface.\n9\nInter-PLMN-inter-MME handover\nThis bit, when set by an MME over S6a interface, indicates that an inter PLMN inter MME (or AMF to MME) handover is ongoing.\n10\nIntra-PLMN-inter-MME handover\nThis bit, when set by an MME over S6a interface, indicates that an intra PLMN inter MME (or AMF to MME) handover is ongoing.\n11\nPDN Context Sync Up With UDM not requested\nThis bit indicates whether the HSS is expected to synchronize PDN context data with UDM for EPS-5GS-Interworking APNs. Set: the HSS is not requested to retrieve UE context in SMF data and Intersystem continuity context data from UDM and subscribe the data change. Unset: the HSS is requested to retrieve UE context in SMF data and Intersystem continuity context data from UDM and subscribe the data change.\nNOTE1:\tBits not defined in this table shall be cleared by the sending MME or SGSN and discarded by the receiving HSS.\nNOTE2:\tIf the MME is registered for SMS then the HSS will download the SMS related data also for the standalone MME.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_7.3.7",
        "ts_29.503"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.8",
      "section_id": "7.3.8",
      "section_title": "ULA-Flags",
      "content": "The ULA-Flags AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 7.3.8/1:\nTable 7.3.8/1: ULA-Flags\nBit\nName\nDescription\n0\nSeparation Indication\nThis bit, when set, indicates that the HSS stores SGSN number and MME number in separate memory. A Rel-8 HSS shall set the bit. An IWF interworking with a pre Rel-8 HSS/HLR shall clear the bit.\n1\nMME Registered for SMS\nThis bit, when set, indicates that the HSS has registered the MME for SMS.\nNOTE:\tBits not defined in this table shall be cleared by the sending HSS and discarded by the receiving MME or SGSN.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_7.3.8"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.9",
      "section_id": "7.3.9",
      "section_title": "Visited-PLMN-Id",
      "content": "The Visited-PLMN-Id AVP is of type OctetString. This AVP shall contain the concatenation of MCC and MNC. See 3GPP TS 23.003 [3]. The content of this AVP shall be encoded as an octet string according to table 7.3.9-1.\nSee 3GPP TS 24.008 [31], clause 10.5.1.13, PLMN list, for the coding of MCC and MNC. If MNC is 2 digits long, bits 5 to 8 of octet 2 are coded as \"1111\".\nTable 7.3.9/1: Encoding format for Visited-PLMN-Id AVP\n8\n7\n6\n5\n4\n3\n2\n1\nMCC digit 2\nMCC digit 1\noctet 1\nMNC digit 3\nMCC digit 3\noctet 2\nMNC digit 2\nMNC digit 1\noctet 3",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_24.008_clause_10.5.1.13",
        "ts_24.008_table_7.3.9-1",
        "table_7.3.9",
        "ts_23.003",
        "ts_24.008"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.10.1",
      "section_id": "7.3.10.1",
      "section_title": "Feature-List AVP for the S6a/S6d application",
      "content": "The syntax of this AVP is defined in 3GPP TS 29.229 [9].\nFor the S6a/S6d application, the meaning of the bits shall be as defined in table 7.3.10/1 for the Feature-List-ID 1 and in table 7.3.10/2 for the Feature-List-ID 2.\nTable 7.3.10/1: Features of Feature-List-ID 1 used in S6a/S6d\nFeature bit\nFeature\nM/O\nDescription\n0\nODB-all-APN\nO\nOperator Determined Barring of all Packet Oriented Services\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs.\nIf the MME or SGSN does not support this feature, the HSS shall not send this ODB barring category to the MME or SGSN within ULA. Instead the HSS may reject location update by sending DIAMETER_ERROR_ROAMING_NOT_ALLOWED and, optionally, including the type of ODB in the Error-Diagnostic AVP.\nIf the MME or SGSN does not indicate support of this feature in IDA and the HSS has sent this ODB category within IDR, the HSS may apply barring of roaming and send CLR.\n1\nODB-HPLMN-APN\nO\nOperator Determined Barring of Packet Oriented Services from access points that are within the HPLMN whilst the subscriber is roaming in a VPLMN\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs.\nIf the MME or SGSN does not support this feature, the HSS shall not send this ODB barring category to the MME or SGSN within ULA. Instead the HSS may reject location update by sending DIAMETER_ERROR_ROAMING_NOT_ALLOWED and, optionally, including the type of ODB in the Error-Diagnostic AVP.\nIf the MME or SGSN does not indicate support of this feature in IDA and the HSS has sent this ODB category within IDR, the HSS may apply barring of roaming and send CLR.\n2\nODB-VPLMN-APN\nO\nOperator Determined Barring of Packet Oriented Services from access points that are within the roamed to VPLMN\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs.\nIf the MME or SGSN does not support this feature, the HSS shall not send this ODB barring category to the MME or SGSN within ULA. Instead the HSS may reject location update by sending DIAMETER_ERROR_ROAMING_NOT_ALLOWED and, optionally, including the type of ODB in the Error-Diagnostic AVP.\nIf the MME or SGSN does not indicate support of this feature in IDA and the HSS has sent this ODB category within IDR, the HSS may apply barring of roaming and send CLR.\n3\nODB-all-OG\nO\nOperator Determined Barring of all outgoing calls\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs.\nIf the MME or SGSN does not support this feature, the HSS shall not send this ODB barring category to the MME or SGSN within ULA. Instead the HSS may reject location update.\nIf the MME or SGSN does not indicate support of this feature in IDA and the HSS has sent this ODB category within IDR, the HSS may apply barring of roaming and send CLR.\n4\nODB-all- InternationalOG\nO\nOperator Determined Barring of all outgoing international calls\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs.If the MME or SGSN does not support this feature, the HSS shall not send this ODB barring category to the MME or SGSN within ULA. Instead the HSS may reject location update.\nIf the MME or SGSN does not indicate support of this feature in IDA and the HSS has sent this ODB category within IDR, the HSS may apply barring of roaming and send CLR.\n5\nODB-all-InternationalOGNotToHPLMN-Country\nO\nOperator Determined Barring of all outgoing international calls except those directed to the home PLMN country\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs.\nIf the MME or SGSN does not support this feature, the HSS shall not send this ODB barring category to the MME or SGSN within ULA. Instead the HSS may reject location update.\nIf the MME or SGSN does not indicate support of this feature in IDA and the HSS has sent this ODB category within IDR, the HSS may apply barring of roaming and send CLR.\n6\nODB-all-InterzonalOG\nO\nOperator Determined Barring of all outgoing inter-zonal calls\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs.\nIf the MME or SGSN does not support this feature, the HSS shall not send this ODB barring category to the MME or SGSN within ULA. Instead the HSS may reject location update.\nIf the MME or SGSN does not indicate support of this feature in IDA and the HSS has sent this ODB category within IDR, the HSS may apply barring of roaming and send CLR.\n7\nODB-all-InterzonalOGNotToHPLMN-Country\nO\nOperator Determined Barring of all outgoing inter-zonal calls except those directed to the home PLMN country\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs.\nIf the MME or SGSN does not support this feature, the HSS shall not send this ODB barring category to the MME or SGSN within ULA. Instead the HSS may reject location update.\nIf the MME or SGSN does not indicate support of this feature in IDA and the HSS has sent this ODB category within IDR, the HSS may apply barring of roaming and send CLR.\n8\nODB-all-InterzonalOGAndInternationalOGNotToHPLMN-Country\nO\nOperator Determined Barring of all outgoing international calls except those directed to the home PLMN country and Barring of all outgoing inter-zonal calls\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs.\nIf the MME or SGSN does not support this feature, the HSS shall not send this ODB barring category to the MME or SGSN within ULA. Instead the HSS may reject location update.\nIf the MME or SGSN does not indicate support of this feature in IDA and the HSS has sent this ODB category within IDR, the HSS may apply barring of roaming and send CLR.\n9\nRegSub\nO\nRegional Subscription\nThis feature is applicable for the ULR/ULA, IDR/IDA and DSR/DSA command pairs.\nIf the MME or SGSN does not support this feature, the HSS shall not send Regional Subscription Zone Codes to the MME or SGSN within ULA. Instead the HSS may reject location update.\nIf the MME or SGSN does not indicate support of this feature in IDA and the HSS has sent Regional Subscription Zone Codes within IDR, the HSS may apply barring of roaming and send CLR.\n10\nTrace\nO\nTrace Function\nThis feature is applicable for the ULR/ULA, IDR/IDA and DSR/DSA command pairs.\nIf the MME or SGSN does not indicate support of this feature in ULR, the HSS shall not send Trace Data to the MME or SGSN within ULA.\nIf the MME or SGSN does not indicate support of this feature in IDA, and the HSS has sent Trace Data within IDR, the HSS may store this indication, and not send any further Trace Data to that MME or SGSN.\nIf the MME or SGSN does not indicate support of this feature in DSA, and the HSS has sent Trace Data within DSR, the HSS may store this indication, and not send any further Trace Data to that MME or SGSN\n11\nLCS-all-PrivExcep\n(NOTE 1)\nO\nAll LCS Privacy Exception Classes\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs over the S6d interface, when the SGSN supports MAP based Lg interface.\nIf the SGSN does not support this feature, the HSS shall not send the related LCS information to the SGSN within ULA.\nIf the SGSN does not indicate support of this feature in IDA, and the HSS has sent the related LCS information within IDR, the HSS may store this indication, and not send any further LCS information to that SGSN.\n12\nLCS-Universal\n(NOTE 1)\nO\nAllow location by any LCS client\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs over the S6d interface, when the SGSN supports MAP based Lg interface.\nIf the SGSN does not support this feature, the HSS shall not send the related LCS information to the SGSN within ULA.\nIf the SGSN does not indicate support of this feature in IDA, and the HSS has sent the related LCS information within IDR, the HSS may store this indication, and not send any further LCS information to that SGSN.\n13\nLCS-CallSessionRelated\n(NOTE 1)\nO\nAllow location by any value added LCS client to which a call/session is established from the target UE\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs over the S6d interface, when the SGSN supports MAP based Lg interface.\nIf the SGSN does not support this feature, the HSS shall not send the related LCS information to the SGSN within ULA.\nIf the SGSN does not indicate support of this feature in IDA, and the HSS has sent the related LCS information within IDR, the HSS may store this indication, and not send any further LCS information to that SGSN.\n14\nLCS-CallSessionUnrelated\n(NOTE 1)\nO\nAllow location by designated external value added LCS clients\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs over the S6d interface, when the SGSN supports MAP based Lg interface.\nIf the SGSN does not support this feature, the HSS shall not send the related LCS information to the SGSN within ULA.\nIf the SGSN does not indicate support of this feature in IDA, and the HSS has sent the related LCS information within IDR, the HSS may store this indication, and not send any further LCS information to that SGSN.\n15\nLCS-PLMNOperator\n(NOTE 1)\nO\nAllow location by designated PLMN operator LCS clients\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs over the S6d interface, when the SGSN supports MAP based Lg interface.\nIf the SGSN does not support this feature, the HSS shall not send the related LCS information to the SGSN within ULA.\nIf the SGSN does not indicate support of this feature in IDA, and the HSS has sent the related LCS information within IDR, the HSS may store this indication, and not send any further LCS information to that SGSN.\n16\nLCS-ServiceType\n(NOTE 1)\nO\nAllow location by LCS clients of a designated LCS service type\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs over the S6d interface, when the SGSN supports MAP based Lg interface.\nIf the SGSN does not support this feature, the HSS shall not send the related LCS information to the SGSN within ULA.\nIf the SGSN does not indicate support of this feature in IDA, and the HSS has sent the related LCS information within IDR, the HSS may store this indication, and not send any further LCS information to that SGSN.\n17\nLCS-all-MOLR-SS\n(NOTE 1)\nO\nAll Mobile Originating Location Request Classes\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs.\nOver S6d interface, this feature is applicable when the SGSN supports MAP based Lg interface.\nIf the MME or SGSN does not support this feature, the HSS shall not send the related LCS information to the MME or SGSN within ULA.\nIf the MME or SGSN does not indicate support of this feature in IDA, and the HSS has sent the related LCS information within IDR, the HSS may store this indication, and not send any further LCS information to that MME or SGSN.\n18\nLCS- BasicSelfLocation\n(NOTE 1)\nO\nAllow an MS to request its own location\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs.\nOver S6d interface, this feature is applicable when the SGSN supports MAP based Lg interface.\nIf the MME or SGSN does not support this feature, the HSS shall not send the related LCS information to the MME or SGSN within ULA.\nIf the MME or SGSN does not indicate support of this feature in IDA, and the HSS has sent the related LCS information within IDR, the HSS may store this indication, and not send any further LCS information to that MME or SGSN.\n19\nLCS- AutonomousSelfLocation\n(NOTE 1)\nO\nAllow an MS to perform self location without interaction with the PLMN\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs.\nOver S6d interface, this feature is applicable when the SGSN supports MAP based Lg interface.\nIf the MME or SGSN does not support this feature, the HSS shall not send the related LCS information to the MME or SGSN within ULA.\nIf the MME or SGSN does not indicate support of this feature in IDA, and the HSS has sent the related LCS information within IDR, the HSS may store this indication, and not send any further LCS information to that MME or SGSN.\n20\nLCS- TransferToThirdParty\nO\nAllow an MS to request transfer of its location to another LCS client\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs.\nOver S6d interface, this feature is applicable when the SGSN supports MAP based Lg interface.\nIf the MME or SGSN does not support this feature, the HSS shall not send the related LCS information to the MME or SGSN within ULA.\nIf the MME or SGSN does not indicate support of this feature in IDA, and the HSS has sent the related LCS information within IDR, the HSS may store this indication, and not send any further LCS information to that MME or SGSN.\n21\nSM-MO-PP\n(NOTE 1)\nO\nShort Message MO-PP\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs.\nIf the MME or SGSN does not support this feature, the HSS shall not send the related SMS information to the MME or SGSN within ULA.\nIf the MME or SGSN does not indicate support of this feature in IDA, and the HSS has sent the related SMS information within IDR, the HSS may store this indication, and not send any further SMS information to that MME or SGSN.\n22\nBarring-OutgoingCalls\nO\nBarring of Outgoing Calls\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs.\nIf the MME or SGSN does not support this feature, the HSS shall not send the related SMS information to the MME or SGSN within ULA.\nIf the MME or SGSN does not indicate support of this feature in IDA, and the HSS has sent the related SMS information within IDR, the HSS may store this indication, and not send any further SMS information to that MME or SGSN.\n23\nBAOC\nO\nBarring of all outgoing calls\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs.\nIf the MME or SGSN does not support this feature, the HSS shall not send the related SMS information to the MME or SGSN within ULA.\nIf the MME or SGSN does not indicate support of this feature in IDA, and the HSS has sent the related SMS information within IDR, the HSS may store this indication, and not send any further SMS information to that MME or SGSN.\n24\nBOIC\nO\nBarring of outgoing international calls\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs.\nIf the SGSN does not support this feature, the HSS shall not send the related SMS information to the MME or SGSN within ULA.\nIf the MME or SGSN does not indicate support of this feature in IDA, and the HSS has sent the related SMS information within IDR, the HSS may store this indication, and not send any further SMS information to that MME or SGSN.\n25\nBOICExHC\nO\nBarring of outgoing international calls except those directed to the home PLMN Country\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs.\nIf the MME or SGSN does not support this feature, the HSS shall not send the related SMS information to the MME or SGSN within ULA.\nIf the MME or SGSN does not indicate support of this feature in IDA, and the HSS has sent the related SMS information within IDR, the HSS may store this indication, and not send any further SMS information to that MME or SGSN.\n26\nUE-Reachability-Notification\nO\nUE Reachability Notifcation\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs, over S6a and S6d.\nIf the MME or SGSN indicates in the ULR command that it does not support the UE-Reachability-Notifications, the HSS shall not set the \"UE-Reachability-Request\" bit in IDR-Flags in subsequent IDR commands towards that MME or SGSN.\n27\nT-ADS Data Retrieval\nO\nTerminating Access Domain Selection Data Retrieval\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs, over S6a and S6d.\nIf the MME or SGSN indicates in the ULR command that it does not support the retrieval of T-ADS data via IDR/IDA commands, the HSS shall not set the \"T-ADS Data Request\" bit in IDR-Flags in subsequent IDR commands towards that MME or SGSN.\n28\nState/Location-Information-Retrieval\nO\nState/Location Information Retrieval\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs, over S6a and S6d.\nIf the MME or SGSN indicates in the ULR command that it does not support State/Location Information Retrieval, the HSS shall not set the \"EPS User State Request\", \"EPS Location Information Request\" or \"Current Location Request\" bits in IDR-Flags in subsequent IDR commands towards that MME or SGSN.\n29\nPartial Purge\nO\nPartial Purge from a Combined MME/SGSN\nThis feature is applicable for the ULR/ULA and PUR/PUA command pairs, over S6a and S6d.\nIf the HSS indicates in the ULA command that it does not support Partial Purge, the combined MME/SGSN shall not include in the PUR command the indication of the specific serving node where the Purge has been done.\n30\nLocal Time Zone Retrieval\nO\nUE Time Zone Retrieval\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs, over S6a and S6d.\nIf the MME or SGSN indicates in the ULR command that it does not support the retrieval of Local Time Zone via IDR/IDA commands, the HSS shall not set the \"Local Time Zone Request\" bit in IDR-Flags in subsequent IDR commands towards that MME or SGSN.\n31\nAdditional MSISDN\nO\nAdditional MSISDN\nThis feature is applicable for the ULR/ULA, IDR/IDA and DSR/DSA command pairs, over S6a and S6d.\nIf the MME or SGSN indicates in the ULR command that it does not support A-MSISDN, the HSS shall populate the MSISDN AVP either with the subscribed MSISDN or the subscribed additional MSISDN based on operator policy and availability and the HSS shall not send IDR with the A-MSISDN AVP or DSR with the \"A-MSISDN Withdrawal\" bit to the serving nodes when the subscription data is changed.\nIf the MME or SGSN indicates in the IDA command that it does not support this feature and the HSS has already sent an A-MSISDN value within IDR, the HSS may store this indication and not send any further A-MSISDN updates to that MME or SGSN.\nFeature bit: The order number of the bit within the Supported-Features AVP, e.g. \"1\".\nFeature: A short name that can be used to refer to the bit and to the feature, e.g. \"ODB-HPLMN-APN\".\nM/O: Defines if the implementation of the feature is mandatory (\"M\") or optional (\"O\").\nDescription: A clear textual description of the feature.\nNOTE 1:\tIf both bits, corresponding to the feature defined for Lg interface and Lgd interface respectively, are not set, and the HSS supports the feature, the HSS shall not send the related LCS information to the SGSN within ULA and IDR.\nTable 7.3.10/2: Features of Feature-List-ID 2 used in S6a/S6d\nFeature bit\nFeature\nM/O\nDescription\n0\nSMS in MME\nO\nSMS in MME\nThis feature is applicable for the ULR/ULA, IDR/IDA, DSR/DSA, NOR/NOA command pairs, over S6a.\nIt is used by the MME to notify the HSS it is capable of SMS transfer without the need of establishing an SGs association with an MSC.\nIf the MME does not support this feature, the HSS shall not send the related SMS information to the MME within ULA.\nIf the MME does not indicate support of this feature in IDA, and the HSS has sent the related SMS information within IDR, the HSS may store this indication, and not send any further SMS information to that MME.\nIf the HSS does not support this feature, the HSS shall ignore any request for a registration for SMS; the MME may store this feature indication, and not send any further request for a registration for SMS to the HSS.\n1\nSMS in SGSN\nO\nSMS in SGSN\nThis feature is applicable for the ULR/ULA command pair, over S6d.\nIf the SGSN indicates in the ULR command that it does not support this feature, the HSS shall not indicate \"SMS in SGSN Allowed\" to the SGSN.\n2\nDia-LCS-all-PrivExcep\n(NOTE 1)\nO\nAll LCS Privacy Exception Classes\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs over the S6d interface, when the SGSN supports Diameter based Lgd interface.\nIf the SGSN does not support this feature, the HSS shall not send the related LCS information to the SGSN within ULA.\nIf the SGSN does not indicate support of this feature in IDA, and the HSS has sent the related LCS information within IDR, the HSS may store this indication, and not send any further LCS information to that SGSN.\n3\nDia-LCS-Universal\n(NOTE 1)\nO\nAllow location by any LCS client\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs over the S6d interface, when the SGSN supports Diameter based Lgd interface.\nIf the SGSN does not support this feature, the HSS shall not send the related LCS information to the SGSN within ULA.\nIf the SGSN does not indicate support of this feature in IDA, and the HSS has sent the related LCS information within IDR, the HSS may store this indication, and not send any further LCS information to that SGSN.\n4\nDia-LCS-CallSessionRelated\n(NOTE 1)\nO\nAllow location by any value added LCS client to which a call/session is established from the target UE\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs over the S6d interface, when the SGSN supports Diameter based Lgd interface.\nIf the SGSN does not support this feature, the HSS shall not send the related LCS information to the SGSN within ULA.\nIf the SGSN does not indicate support of this feature in IDA, and the HSS has sent the related LCS information within IDR, the HSS may store this indication, and not send any further LCS information to that SGSN.\n5\nDia-LCS-CallSessionUnrelated\n(NOTE 1)\nO\nAllow location by designated external value added LCS clients\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs over the S6d interface, when the SGSN supports Diameter based Lgd interface.\nIf the SGSN does not support this feature, the HSS shall not send the related LCS information to the SGSN within ULA.\nIf the SGSN does not indicate support of this feature in IDA, and the HSS has sent the related LCS information within IDR, the HSS may store this indication, and not send any further LCS information to that SGSN.\n6\nDia-LCS-PLMNOperator\n(NOTE 1)\nO\nAllow location by designated PLMN operator LCS clients\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs over the S6d interface, when the SGSN supports Diameter based Lgd interface.\nIf the SGSN does not support this feature, the HSS shall not send the related LCS information to the SGSN within ULA.\nIf the SGSN does not indicate support of this feature in IDA, and the HSS has sent the related LCS information within IDR, the HSS may store this indication, and not send any further LCS information to that SGSN.\n7\nDia-LCS-ServiceType\n(NOTE 1)\nO\nAllow location by LCS clients of a designated LCS service type\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs over the S6d interface, when the SGSN supports Diameter based Lgd interface.\nIf the SGSN does not support this feature, the HSS shall not send the related LCS information to the SGSN within ULA.\nIf the SGSN does not indicate support of this feature in IDA, and the HSS has sent the related LCS information within IDR, the HSS may store this indication, and not send any further LCS information to that SGSN.\n8\nDia-LCS-all-MOLR-SS\n(NOTE 1)\nO\nAll Mobile Originating Location Request Classes\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs over the S6d interface, when the SGSN supports Diameter based Lgd interface.\nIf the SGSN does not support this feature, the HSS shall not send the related LCS information to the SGSN within ULA.\nIf the SGSN does not indicate support of this feature in IDA, and the HSS has sent the related LCS information within IDR, the HSS may store this indication, and not send any further LCS information to that SGSN.\n9\nDia-LCS- BasicSelfLocation\n(NOTE 1)\nO\nAllow an MS to request its own location\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs over the S6d interface, when the SGSN supports Diameter based Lgd interface.\nIf the SGSN does not support this feature, the HSS shall not send the related LCS information to the SGSN within ULA.\nIf the SGSN does not indicate support of this feature in IDA, and the HSS has sent the related LCS information within IDR, the HSS may store this indication, and not send any further LCS information to that SGSN.\n10\nDia-LCS- AutonomousSelfLocation\n(NOTE 1)\nO\nAllow an MS to perform self location without interaction with the PLMN\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs over the S6d interface, when the SGSN supports Diameter based Lgd interface.\nIf the SGSN does not support this feature, the HSS shall not send the related LCS information to the SGSN within ULA.\nIf the SGSN does not indicate support of this feature in IDA, and the HSS has sent the related LCS information within IDR, the HSS may store this indication, and not send any further LCS information to that SGSN.\n11\nDia-LCS- TransferToThirdParty\n(NOTE 1)\nO\nAllow an MS to request transfer of its location to another LCS client\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs over the S6d interface, when the SGSN supports Diameter based Lgd interface.\nIf the SGSN does not support this feature, the HSS shall not send the related LCS information to the SGSN within ULA.\nIf the SGSN does not indicate support of this feature in IDA, and the HSS has sent the related LCS information within IDR, the HSS may store this indication, and not send any further LCS information to that SGSN.\n12\nGdd-in-SGSN\nO\nSupport of Diameter based Gdd interface for SMS in SGSN\nThis feature is applicable for the ULR/ULA command pair over S6d, when the SGSN supports the Diameter based Gdd interface for SMS in SGSN.\n13\nOptimized-LCS-Proc-Support\nO\nSupport for the optimized LCS procedure\nThis feature is applicable for the ULR/ULA command pair over S6a/S6d, when the network supports ISR and when the node is combined MME/SGSN and supports optimized LCS procedure as described in 3GPP TS 29.172 [47] clause 6.2.2.\n14\nSGSN CAMEL Capability\nO\nSupport of SGSN CAMEL Capability\nThis feature is applicable for the ULR/ULA command pair over S6d, when the SGSN supports the CAMEL capability.\n15\nProSe Capability\nO\nSupport of ProSe Capability\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs over S6a (and S6d), when the MME (or combined MME/SGSN) supports the ProSe capability.\nIf the MME or combined MME/SGSN does not support this feature, the HSS shall not send the related ProSe subscription data to the MME or combined MME/SGSN within ULA.\nIf the MME or combined MME/SGSN does not indicate support of this feature in IDA, and the HSS has sent the related ProSe subscription data within IDR, the HSS may store this indication, and not send any further ProSe subscription data to that MME.\n16\nP-CSCF Restoration\nO\nSupport of P-CSCF Restoration\nThis feature is applicable to the ULR/ULA and IDR/IDA command pairs over the S6a or S6d interfaces, when the MME or SGSN supports the execution of the P-CSCF restoration procedures.\nIf the MME or the SGSN does not indicate support of this feature in ULR, the HSS shall not send subsequent IDR commands requesting the execution of HSS-based P-CSCF restoration procedures, as described in 3GPP TS 23.380 [51] clause 5.4.\n17\nReset-IDs\nO\nSupport of Reset-IDs\nThis feature is applicable to the ULR/ULA and IDR/IDA and DSR/DSA and RSR/RSA command pairs over the S6a and S6d interfaces.\nIf the MME or SGSN indicates in the ULR command that it does not support Reset-IDs, the HSS shall not include Reset-ID AVPs in RSR commands sent to that MME or SGSN.\nIf the MME or SGSN indicates that it does not support this feature in IDA, and the HSS has already sent a Reset-ID value within IDR, the HSS may store this indication and not send any further Reset-ID updates to that MME or SGSN.\n18\nCommunication-Pattern\nO\nSupport of AESE communication patterns\nThis feature is applicable to the ULR/ULA and IDR/IDA command pairs over S6a (and S6d), when the MME (or combined MME/SGSN) supports the AESE communication patterns.\nIf the MME or combined MME/SGSN does not indicate the support for this feature, the HSS shall not send CP parameter sets to the MME or combined MME/SGSN within IDR/ULA command.\nIf the MME or combined MME/SGSN indicates that it does not support this feature in IDA, and the HSS has already sent CP parameter sets within IDR, the HSS may store this indication and not send any further updates related to CP parameter sets to that MME or combined MME/SGSN.\n19\nMonitoring-Event\nO\nSupport of Monitoring Event\nThis feature is applicable to the ULR/ULA and IDR/IDA command pairs over the S6a or S6d interfaces, when the MME or SGSN supports the Monitoring event feature.\nIf the MME or SGSN does not indicate support of this feature in ULR, the HSS shall not send Monitoring event configuration data to the MME or SGSN within ULA and shall not send subsequent IDR commands requesting the configuration of Monitoring events in the MME or SGSN.\nIf the MME or SGSN indicates that it does not support this feature in IDA, and the HSS has already sent Monitoring event configuration data within IDR, the HSS may store this indication and not send any further updates related to Monitoring events to that MME or SGSN.\n20\nDedicated Core Networks\nO\nSupport of Dedicated Core Networks\nThis feature is applicable to the ULR/ULA, IDR/IDA and DSR/DSA command pairs over the S6a and S6d interfaces.\nIf the MME/SGSN does not indicate support of this feature in the ULR command, the HSS shall not send DCN-related subscription data (e.g., UE Usage Type) in ULA, and shall not send subsequent IDR or DSR commands when such subscription data are updated.\nIf the MME/SGSN does not indicate support of this feature in the IDA command and the HSS has already sent DCN-related subscription data in IDR, the HSS may store this indication and not send further updates related to DCN subscription data.\n21\nNon-IP PDN Type APNs\nO\nSupport of Non-IP PDN Type APNs\nThis feature is applicable to the ULR/ULA and IDR/IDA command pairs over the S6a and S6d interfaces.\nIf the MME/SGSN does not indicate support of this feature in the ULR command, the HSS shall not send APN configurations with a Non-IP PDN type in the subscription data sent in ULA or in IDR, and shall not send IDR commands with the only purpose to update such subscription data.\nIf the MME or SGSN indicates in the IDA command that it does not support this feature, and the HSS has already sent Non-IP PDN Type APNs within IDR, the HSS may store this indication, and not send any further updates related to Non-IP PDN Type APNs to that MME or SGSN.\n22\nNon-IP PDP Type APNs\nO\nSupport of Non-IP PDP Type APNs\nThis feature is applicable to the ULR/ULA and IDR/IDA command pairs over the S6a/S6d interface.\nIf the MME/SGSN does not indicate support of this feature in the ULR command, the HSS shall not send PDP contexts (as part of the GPRS-Subscription-Data) with a Non-IP PDP type in the subscription data sent in ULA or in IDR, and shall not send IDR commands with the only purpose to update such subscription data.\nIf the MME or SGSN indicates in the IDA command that it does not support this feature, and the HSS has already sent Non-IP PDP Type APNs within IDR, the HSS may store this indication, and not send any further updates related to Non-IP PDP Type APNs to that MME or SGSN.\n23\nRemoval of MSISDN\nO\nSupport of Removal of MSISDN\nThis feature is applicable to the ULR/ULA and DSR/DSA command pairs over the S6a/S6d interface.\nIf the MME/SGSN does not indicate support of this feature in the ULR command, the HSS shall not send DSR with the \"MSISDN Withdrawal\" bit set, to remove an existing MSISDN value from the subscription profile stored in the MME/SGSN.\n24\nEmergency Service Continuity\nO\nSupport of Emergency Services Continuity\nThis feature is applicable to the ULR/ULA, NOR/NOA and IDR/IDA command pairs over the S6a interface, when the HSS and the MME support the continuity of emergency services upon mobility between 3GPP and WLAN accesses, as specified in 3GPP TS 23.401 [2], or continuity of emergency services upon mobility between EPS and 5GS without N26 interface, as specified in 3GPP TS 23.502 [67].\nIf the MME does not indicate support of this feature in a former ULR command, the HSS shall not include the Emergency Info in an ULA command and shall not send an IDR command to update the PGW in use for emergency services.\nIf the HSS does not indicate support of this feature in a former ULA command, the MME shall not send a NOR command to update the PGW in use for emergency services.\nIf the HSS supports this feature on S6a, it shall also support the Emergency Service Continuity feature on SWx, see 3GPP TS 29.273 [59].\n25\nV2X Capability\nO\nSupport of V2X Service\nThis feature is applicable for the ULR/ULA and IDR/IDA command pairs over S6a (and S6d), when the MME (or combined MME/SGSN) supports the V2X service.\nIf the MME or combined MME/SGSN does not support this feature, the HSS shall not send the related V2X subscription data to the MME or combined MME/SGSN within ULA.\nIf the MME or combined MME/SGSN does not indicate support of this feature in IDA, and the HSS has sent the related V2X subscription data within IDR, the HSS may store this indication, and not send any further V2X subscription data to that MME or that combined MME/SGSN.\n26\nExternal-Identifier\nO\nSupport of External-Identifier\nThis feature is applicable for the ULR/ULA, DSR/DSA and IDR/IDA command pairs over S6a (and S6d), when the MME (or combined MME/SGSN) supports the External-Identifier.\nIf the MME or combined MME/SGSN does not support this feature:\n-The HSS shall not send the External-Identifier subscription data to the MME or combined MME/SGSN within ULA.\n-The HSS shall not send Monitoring Event configuration for UEs that are part of a group and have no MSISDN as part of its subscription data to the MME/SGSN.\n-The HSS shall not indicate External-Identifier-Withdrawal in the DSR-Flags AVP of the DSR.\n27\nNR as Secondary RAT\nO\nSupport of NR as Secondary RAT\nThis feature is applicable to the ULR/ULA and IDR/IDA command pairs over S6a (and S6d) when the MME (or combined MME/SGSN) supports NR as Secondary RAT, and over S6d when the SGSN supports the indication related to NR as Secondary RAT (such as, e.g., the related Access Restriction Data, or extended QoS parameters).\nIf the MME, SGSN, or combined MME/SGSN does not support this feature, the HSS shall not send (in ULA) or update (in IDR) subscription data related to NR as Secondary RAT.\nIf the HSS does not support this feature, the MME shall ignore the bit \"NR as Secondary RAT Not Allowed\" in Access-Restriction-Data.\n28\nUnlicensed Spectrum as Secondary RAT\nO\nSupport of Unlicensed Spectrum as Secondary RAT\nThis feature is applicable to the ULR/ULA and IDR/IDA command pairs over S6a (and S6d) when the MME (or combined MME/SGSN) supports the use of unlicensed spectrum in the form of LAA or LWA/LWIP as Secondary RAT.\nIf the MME (or combined MME/SGSN) does not support this feature, the HSS shall not send (in ULA) or update (in IDR) subscription data related to the use of unlicensed spectrum in the form of LAA, LWA/LWIP or NR in unlicensed bands as Secondary RAT (such as, e.g., the related Access Restriction Data).\nIf the HSS does not support this feature, the MME shall ignore the bit \"Unlicensed Spectrum as Secondary RAT Not Allowed\" in Access-Restriction-Data.\n29\nEthernet PDN Type APNs\nO\nSupport of Ethernet PDN Type APNs\nThis feature is applicable to the ULR/ULA and IDR/IDA command pairs over the S6a and S6d interfaces.\nIf the MME (or combined MME/SGSN) does not indicate support of this feature in the ULR command, the HSS shall not send APN configurations with an Ethernet PDN type in the subscription data sent in ULA or in IDR, and shall not send IDR commands with the only purpose to update such subscription data.\nIf the MME (or combined MME/SGSN) indicates in the IDA command that it does not support this feature, and the HSS has already sent Ethernet PDN Type APNs within IDR, the HSS may store this indication, and not send any further updates related to Ethernet PDN Type APNs to that MME (or combined MME/SGSN).\n30\nExtended Reference IDs\nO\nExtended Reference IDs\nThis feature is applicable to the ULR/ULA and IDR/IDA command pairs over the S6a or S6d interfaces, when the HSS and MME/SGSN support handling 64-bit long Reference IDs.\nIf the MME or SGSN does not indicate support of this feature in ULR, the HSS shall not send ULA or IDR commands containing 64-bit long SCEF Reference IDs or SCEF Reference IDs for Deletion.\nFeature bit: The order number of the bit within the Supported-Features AVP, e.g. \"1\".\nFeature: A short name that can be used to refer to the bit and to the feature, e.g. \"SMS in MME\".\nM/O: Defines if the implementation of the feature is mandatory (\"M\") or optional (\"O\").\nDescription: A clear textual description of the feature.\nNOTE 1:\tIf both bits, corresponding to the same feature defined for Lg interface and Lgd interface, are not set, and the HSS supports the feature, the HSS shall not send the related LCS information to the SGSN within ULA and IDR.\nFeatures that are not indicated in the Supported-Features AVPs within a given application message shall not be used to construct that message.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.172_clause_6.2.2",
        "ts_23.380_clause_5.4",
        "table_7.3.10",
        "ts_29.229",
        "ts_29.172",
        "ts_23.380",
        "ts_23.401",
        "ts_23.502",
        "ts_29.273"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.10.2",
      "section_id": "7.3.10.2",
      "section_title": "Feature-List AVP for the S7a/S7d application",
      "content": "For the S7a/S7d application, the feature list does not contain any feature in this release.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.11",
      "section_id": "7.3.11",
      "section_title": "Requested-EUTRAN-Authentication-Info",
      "content": "The Requested-EUTRAN-Authentication-Info is of type Grouped. It shall contain the information related to the authentication requests for E-UTRAN.\nAVP format\nRequested-EUTRAN-Authentication-Info ::= <AVP header: 1408 10415>\n[ Number-Of-Requested-Vectors ]\n[ Immediate-Response-Preferred ]\n[ Re-synchronization-Info ]\n*[AVP]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.12",
      "section_id": "7.3.12",
      "section_title": "Requested-UTRAN- GERAN-Authentication-Info",
      "content": "The Requested-UTRAN-GERAN-Authentication-Info is of type Grouped. It shall contain the information related to the to authentication requests for UTRAN or GERAN.\nAVP format\nRequested-UTRAN-GERAN-Authentication-Info ::= <AVP header: 1409 10415>\n[ Number-Of-Requested-Vectors]\n[ Immediate-Response-Preferred ]\n[ Re-synchronization-Info ]\n*[AVP]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.13",
      "section_id": "7.3.13",
      "section_title": "RAT-Type",
      "content": "The RAT-Type AVP is of type Enumerated and is used to identify the radio access technology that is serving the UE. See 3GPP TS 29.212 [10] for the defined values.\n3GPP TS 29.212 [10] defines distinct RAT-Type values for EUTRAN (WB-EUTRAN), EUTRAN-NB-IoT, LTE-M, WB-EUTRAN over satellite access, EUTRAN-NB-IoT over satellite access, LTE-M over satellite access; these values shall be used in the signaling between the serving nodes (MME/SGSN) and the HSS, e.g. to determine the corresponding access restrictions for the UE.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.212"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.14",
      "section_id": "7.3.14",
      "section_title": "Number-Of-Requested-Vectors",
      "content": "The Number-Of-Requested-Vectors AVP is of type Unsigned32. This AVP shall contain the number of AVs the MME or SGSN is prepared to receive.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.15",
      "section_id": "7.3.15",
      "section_title": "Re-Synchronization-Info",
      "content": "The Re-Synchronization-Info AVP is of type OctetString. It shall contain the concatenation of RAND and AUTS.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.16",
      "section_id": "7.3.16",
      "section_title": "Immediate-Response-Preferred",
      "content": "The Immediate-Response-Preferred AVP is of type Unsigned32. This optional AVP indicates by its presence that immediate response is preferred, and by its absence that immediate response is not preferred. If present, the value of this AVP is not significant.\nWhen EUTRAN-AVs and UTRAN-AVs or GERAN-AVs are requested, presence of this AVP within the Requested-EUTRAN-Authentication-Info AVP shall indicate that EUTRAN-AVs are requested for immediate use in the MME/SGSN; presence of this AVP within the Requested-UTRAN-GERAN-Authentication-Info AVP shall indicate that UTRAN-AVs or GERAN-AVs are requested for immediate use in the MME/SGSN. It may be used by the HSS to determine the number of vectors to be obtained from the AuC and the number of vectors downloaded to the MME or SGSN.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.17",
      "section_id": "7.3.17",
      "section_title": "Authentication-Info",
      "content": "The Authentication-Info AVP is of type Grouped. This AVP contains Authentication Vectors.\nAVP format:\nAuthentication-Info ::= <AVP header: 1413 10415>\n*[ E-UTRAN-Vector ]\n*[UTRAN-Vector]\n*[GERAN-Vector]\n*[AVP]",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.18",
      "section_id": "7.3.18",
      "section_title": "E-UTRAN-Vector",
      "content": "The E-UTRAN-Vector AVP is of type Grouped. This AVP shall contain an E-UTRAN Vector.\nAVP format:\nE-UTRAN-Vector ::= <AVP header: 1414 10415>\n[ Item-Number ]\n{ RAND }\n{ XRES }\n{ AUTN }\n{ KASME }\n*[AVP]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.19",
      "section_id": "7.3.19",
      "section_title": "UTRAN-Vector",
      "content": "The UTRAN-Vector AVP is of type Grouped. This AVP shall contain an UTRAN Vector.\nAVP format:\nUTRAN-Vector ::= <AVP header: 1415 10415>\n[ Item-Number ]\n{ RAND }\n{ XRES }\n{ AUTN }\n{ Confidentiality-Key }\n{ Integrity-Key }\n*[AVP]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.20",
      "section_id": "7.3.20",
      "section_title": "GERAN-Vector",
      "content": "The GERAN-Vector AVP is of type Grouped. This AVP shall contain a GERAN Vector.\nAVP format:\nGERAN-Vector ::= <AVP header: 1416 10415>\n[ Item-Number ]\n{ RAND }\n{ SRES }\n{ Kc }\n*[AVP]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.21",
      "section_id": "7.3.21",
      "section_title": "Network-Access-Mode",
      "content": "The Network-Access-Mode AVP is of type Enumerated. The following values are defined:\nPACKET_AND_CIRCUIT (0)\nReserved (1)\nONLY_PACKET (2)",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.22",
      "section_id": "7.3.22",
      "section_title": "HPLMN-ODB",
      "content": "The HPLMN-ODB AVP is of type Unsigned32 and it shall contain a bit mask indicating the HPLMN specific services of a subscriber that are barred by the operator. The meaning of the bits is HPLMN specific:\nTable 7.3.22/1: HPLMN-ODB\nBit\nDescription\n0\nHPLMN specific barring type 1\n1\nHPLMN specific barring type 2\n2\nHPLMN specific barring type 3\n3\nHPLMN specific barring type 4\nHPLMN-ODB may apply to mobile originated short messages; See 3GPP TS 23.015 [36].",
      "chunk_type": "requirement",
      "cross_references": [
        "table_7.3.22",
        "ts_23.015"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.23",
      "section_id": "7.3.23",
      "section_title": "Item-Number",
      "content": "The Item-Number AVP is of type Unsigned32. The Item Number is used to order Vectors received within one request.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.24",
      "section_id": "7.3.24",
      "section_title": "Cancellation-Type",
      "content": "The Cancellation-Type AVP is of type Enumerated and indicates the type of cancellation. The following values are defined:\nMME_UPDATE_PROCEDURE (0)\nThis value is used when the Cancel Location is sent to the previous MME due to a received Update Location message from a new MME or due to the HSS+UDM receiving an Nudm_UEContextManagement service request from the AMF or due to the HSS receiving Nhss_UECM_SNDeregistration service operation from UDM (see clause 5.4.2.2 of 3GPP TS 29.563 [70]).\nSGSN_UPDATE_PROCEDURE (1)\nThis value is used when the Cancel Location is sent to the previous SGSN due to a received Update Location message from a new SGSN or due to the HSS+UDM receiving an Nudm_UEContextManagement service request from the AMF or due to the HSS receiving Nhss_UECM_SNDeregistration service operation from UDM (see clause 5.4.2.2 of 3GPP TS 29.563 [70]).\nSUBSCRIPTION_WITHDRAWAL (2)\nThis value is used:\n-\twhen the Cancel Location is sent by the HSS to the current MME or SGSN due to withdrawal of the user's subscription by the HSS operator;\n-\twhen the Cancel VCSG Location is sent by the CSS to the current MME or SGSN due to withdrawal of the user's VPLMN CSG subscription by the CSS operator.\nUPDATE_PROCEDURE_IWF (3)\nThis value is used by an IWF when interworking with a pre-Rel-8 HSS.\nINITIAL_ATTACH_PROCEDURE (4)\nThis value is used when the Cancel Location is sent to the MME or SGSN due to a received Update Location message during initial attach procedure from an SGSN or MME respectively.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.563_clause_5.4.2.2",
        "ts_29.563"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.25",
      "section_id": "7.3.25",
      "section_title": "DSR-Flags",
      "content": "The DSR-Flags AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits is defined in table 7.3.25/1:\nTable 7.3.25/1: DSR-Flags\nBit\nName\nDescription\n0\nRegional Subscription Withdrawal\nThis bit, when set, indicates that Regional Subscription shall be deleted from the subscriber data.\n1\nComplete APN Configuration Profile Withdrawal\nThis bit, when set, indicates that all EPS APN configuration data for the subscriber shall be deleted from the subscriber data. This flag only applies to the S6d interface.\n2\nSubscribed Charging Characteristics Withdrawal\nThis bit, when set, indicates that the Subscribed Charging Characteristics have been deleted from the subscription data.\n3\nPDN subscription contexts Withdrawal\nThis bit, when set, indicates that the PDN subscription contexts whose identifier is included in the Context-Identifier AVP shall be deleted.\n(Note 1)\n4\nSTN-SR\nThis bit, when set, indicates that the Session Transfer Number for SRVCC shall be deleted from the subscriber data.\n5\nComplete PDP context list Withdrawal\nThis bit, when set, indicates that all PDP contexts for the subscriber shall be deleted from the subscriber data.\n6\nPDP contexts Withdrawal\nThis bit, when set, indicates that the PDP contexts whose identifier is included in the Context-Identifier AVP shall be deleted.\n(Note 2)\n7\nRoaming Restricted due to unsupported feature\nThis bit, when set, indicates that the roaming restriction shall be deleted from the subscriber data in the MME or SGSN.\n8\nTrace Data Withdrawal\nThis bit, when set, indicates that the Trace Data shall be deleted from the subscriber data.\n9\nCSG Deleted\nThis bit, when set, indicates  that\n-\tthe \"CSG-Subscription-Data from HSS\" shall be deleted in the MME or SGSN when received over the S6a or S6d interface\n-\tthe \"CSG-Subscription-Data from CSS\" shall be deleted in the MME or SGSN when received over the S7a or S7d interface.\n10\nAPN-OI-Replacement\nThis bit, when set, indicates that the UE level APN-OI-Replacement shall be deleted from the subscriber data.\n11\nGMLC List Withdrawal\nThis bit, when set, indicates that the subscriber's LCS GMLC List shall be deleted from the MME or SGSN.\n12\nLCS Withdrawal\nThis bit, when set, indicates that the LCS service whose code is included in the SS-Code AVP shall be deleted from the MME or SGSN.\n13\nSMS Withdrawal\nThis bit, when set, indicates that the SMS service whose code is included in the SS-Code AVP or TS-Code AVP shall be deleted from the MME or SGSN.\n14\nSubscribed periodic RAU-TAU Timer Withdrawal\nThis bit, when set, indicates that the subscribed periodic RAU TAU Timer value shall be deleted from the subscriber data.\n15\nSubscribed VSRVCC Withdrawal\nThis bit, when set, indicates that the Subscribed VSRVCC shall be deleted from the subscriber data.\n16\nA-MSISDN\nWithdrawal\nThis bit, when set, indicates that the additional MSISDN, if present, shall be deleted from the subscriber data.\n17\nProSe\nWithdrawal\nThis bit, when set, indicates that the ProSe subscription data shall be deleted from the MME or combined MME/SGSN.\n18\nReset-IDs\nThis bit, when set, indicates that the set of Reset-IDs shall be deleted from the MME or SGSN.\n19\nDL-Buffering-Suggested-Packet-Count Withdrawal\nThis bit, when set, indicates that the DL-Buffering-Suggested-Packet-Count shall be deleted in the MME or SGSN.\n20\nSubscribed IMSI-Group-Id\nWithdrawal\nThis bit, when set, indicates that all subscribed IMSI-Group-Id(s) shall be deleted in the MME or SGSN.\n21\nDelete monitoring events\nThis bit when set indicates to the MME or SGSN to delete all the Monitoring events for the subscriber which are associated with the provided SCEF-ID.\n22\nUser Plane Integrity Protection Withdrawal\nThis bit, when set, indicates to the SGSN that User Plane Integrity Protection may no longer be required when GERAN is used. The MME shall ignore it.\n23\nMSISDN Withdrawal\nThis bit, when set, indicates that the MSISDN shall be deleted from the subscriber data.\nIt is also used by the MME/SGSN to delete those monitoring events created using the MSISDN.\n24\nUE Usage Type Withdrawal\nThis bit, when set, indicates to the MME or SGSN that the UE Usage Type shall be deleted from the subscription data.\n25\nV2X Withdrawal\nThis bit, when set, indicates that the V2X subscription data shall be deleted from the MME or combined MME/SGSN.\n26\nExternal-Identifier-Withdrawal\nThis bit, when set, indicates that the External-Identifier shall be deleted from the subscriber data.\nIt is also used by the MME/SGSN to delete those monitoring events created using the removed External Identifier or all monitoring events created for any External Identifier in case of removing the default External Identifier.\n27\nAerial-UE-Subscription Withdrawal\nThis bit, when set, indicates that the Aerial UE subscription shall be deleted from the subscriber data.\n28\nPaging Time Window Subscription Withdrawal\nThis bit, when set, indicates that the Paging Time Window subscription shall be deleted from the subscriber data.\n29\nActive-Time-Withdrawal\nThis bit, when set, indicates that the Active Time used for PSM shall be deleted from the subscriber data.\n30\neDRX-Cycle-Length -Withdrawal\nThis bit, when set, indicates that the eDRX-Cycle-Length shall be deleted from the subscriber data. .\nIf the eDRX-Related-RAT is present in the DSR command, only the eDRX Cycle Length for indicated RAT types shall be deleted. Otherwise, the entire eDRX Cycle Length subscription for all RAT types shall be deleted.\n31\nService-Gap-Time-Withdrawal\nThis bit, when set, indicates that the Service Gap Time shall be deleted from the subscriber data.\nNote 1:\tIf the Complete APN Configuration Profile Withdrawal bit is set, this bit should not be set.\nNote 2:\tIf the Complete PDP context list Withdrawal bit is set, this bit should not be set.\nNote 3:\tBits not defined in this table shall be cleared by the sending HSS and discarded by the receiving MME or SGSN.\nNote 4:\tBits 3 and 6 are excluding alternatives and shall not both be set.\nNote 5:\tWhen this AVP is transferred over the S7a/S7d interface, only the bit 9 (CSG Deleted) is meaningful, other bits shall be cleared.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_7.3.25"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.26",
      "section_id": "7.3.26",
      "section_title": "DSA-Flags",
      "content": "The DSA-Flags AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits is defined in table 7.3.26/1:\nTable 7.3.26/1: DSA-Flags\nBit\nName\nDescription\n0\nNetwork Node area restricted\nThis bit, when set, shall indicate that the complete Network Node area (SGSN area) is restricted due to regional subscription.\nNote: Bits not defined in this table shall be cleared by the sending SGSN and discarded by the receiving HSS.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_7.3.26"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.27",
      "section_id": "7.3.27",
      "section_title": "Context-Identifier",
      "content": "The Context-Identifier AVP is of type Unsigned32.",
      "chunk_type": "parameter",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.29",
      "section_id": "7.3.29",
      "section_title": "Subscriber-Status",
      "content": "The 3GPP Subscriber Status AVP is of type Enumerated. It shall indicate if the service is barred or granted. The following values are defined:\nSERVICE_GRANTED (0)\nOPERATOR_DETERMINED_BARRING (1)",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.30",
      "section_id": "7.3.30",
      "section_title": "Operator-Determined-Barring",
      "content": "The Operator-Determined-Barring AVP is of type Unsigned32 and it shall contain a bit mask indicating the services of a subscriber that are barred by the operator. The meaning of the bits is the following:\nTable 7.3.30/1: Operator-Determined-Barring\nBit\nDescription\n0\nAll Packet Oriented Services Barred\n1\nRoamer Access HPLMN-AP Barred\n2\nRoamer Access to VPLMN-AP Barred\n3\nBarring of all outgoing calls\n4\nBarring of all outgoing international calls\n5\nBarring of all outgoing international calls except those directed to the home PLMN country\n6\nBarring of all outgoing inter-zonal calls\n7\nBarring of all outgoing inter-zonal calls except those directed to the home PLMN country\n8\nBarring of all outgoing international calls except those directed to the home PLMN country and Barring of all outgoing inter-zonal calls",
      "chunk_type": "requirement",
      "cross_references": [
        "table_7.3.30"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.31",
      "section_id": "7.3.31",
      "section_title": "Access-Restriction-Data",
      "content": "The Access-Restriction-Data AVP is of type Unsigned32 and it shall contain a bit mask where each bit when set to 1 indicates a restriction. The meaning of the bits is the following:\nTable 7.3.31/1: Access-Restriction-Data\nBit\nDescription\n0\nUTRAN Not Allowed\n1\nGERAN Not Allowed\n2\nGAN Not Allowed\n3\nI-HSPA-Evolution Not Allowed\n4\nWB-E-UTRAN Not Allowed\n5\nHO-To-Non-3GPP-Access Not Allowed\n6\nNB-IoT Not Allowed\n7\nEnhanced Coverage Not Allowed\n8\nNR as Secondary RAT in E-UTRAN Not Allowed\n9\nUnlicensed Spectrum as Secondary RAT Not Allowed\n10\nNR in 5GS Not Allowed but the access types linked to bits 25-30 are allowed unless restricted by those bits\n11\nLTE-M Not Allowed\n12\nWB-E-UTRAN Except LTE-M Not Allowed\n13\nWB-E-UTRAN(LEO) Not Allowed\n14\nWB-E-UTRAN(MEO) Not Allowed\n15\nWB-E-UTRAN(GEO) Not Allowed\n16\nWB-E-UTRAN(OTHERSAT) Not Allowed\n17\nNB-IoT(LEO) Not Allowed\n18\nNB-IoT(MEO) Not Allowed\n19\nNB-IoT(GEO) Not Allowed\n20\nNB-IoT(OTHERSAT) Not Allowed\n21\nLTE-M(LEO) Not Allowed\n22\nLTE-M(MEO) Not Allowed\n23\nLTE-M(GEO) Not Allowed\n24\nLTE-M(OTHERSAT) Not Allowed\n25\nNR (LEO) Not Allowed\n26\nNR (MEO) Not Allowed\n27\nNR (GEO) Not Allowed\n28\nNR (OTHERSAT) Not Allowed\n29\nNR RedCap not allowed as primary RAT\n30\nNR eRedCap not allowed as primary RAT\nNOTE 1:\tBits not defined in this table shall be discarded by the receiving MME/SGSN. To avoid unexpected access to future access types, the unused bits may be set to 1 in the HSS.\nNOTE 2:\tBits 11 and 12 are only used when bit 4 is not set.\nThe restriction \"HO-To-Non-3GPP-Access Not Allowed\" shall take a higher precedence than the APN-level parameter \"WLAN-Offloadability\" (see clause 7.3.181).",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_7.3.181",
        "table_7.3.31"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.32",
      "section_id": "7.3.32",
      "section_title": "APN-OI-Replacement",
      "content": "The APN-OI-Replacement AVP is of type UTF8String. This AVP shall indicate the domain name to replace the APN OI for the non-roaming case and the home routed roaming case when constructing the APN, and the APN-FQDN upon which to perform a DNS resolution. See 3GPP TS 23.003 [3] and 3GPP TS 29.303 [38].\nThe contents of the APN-OI-Replacement AVP shall be formatted as a character string composed of one or more labels separated by dots (\".\").",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.003",
        "ts_29.303"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.33",
      "section_id": "7.3.33",
      "section_title": "All-APN-Configurations-Included-Indicator",
      "content": "The All-APN-Configurations-Included-Indicator AVP is of type Enumerated.  The following values are defined:\nAll_APN_CONFIGURATIONS_INCLUDED (0)\nMODIFIED_ADDED_APN_CONFIGURATIONS_INCLUDED (1)",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.34",
      "section_id": "7.3.34",
      "section_title": "APN-Configuration-Profile",
      "content": "The APN-Configuration-Profile AVP is of type Grouped. It shall contain the information related to the user's subscribed APN configurations for EPS.\nThe AVP format shall conform to:\nAPN-Configuration-Profile ::= <AVP header: 1429 10415>\n{ Context-Identifier }\n[ Additional-Context-Identifier ]\n[ Third-Context-Identifier ]\n{ All-APN-Configurations-Included-Indicator }\n1*{APN-Configuration}\n*[AVP]\nThe Subscription-Data AVP associated with an IMSI contains one APN-Configuration-Profile AVP.\nEach APN-Configuration-Profile AVP contains one or more APN-Configuration AVPs.\nEach APN-Configuration AVP describes the configuration for a single APN.\nTherefore, the cardinality of the relationship between IMSI and APN is one-to-many.\nThe Context-Identifier AVP shall identify the per subscriber's default APN configuration.\nIf present, the Additional-Context-Identifier AVP shall identify another default APN configuration, only for those subscriptions containing more than one types of APNs i.e. among APNs with an IP-based PDN type, APNs with a Non-IP PDN type, and APNs with an Ethernet PDN type; in this case, each of those two default APN configurations shall have a different PDN type category (e.g. one default APN with an IP-based PDN type, and another default APN with a Non-IP PDN type).\nIf present, the Third-Context-Identifier AVP shall identify another default APN configuration, only for those subscriptions containing more than two types of APNs i.e. among APNs with an IP-based PDN type, APNs with a Non-IP PDN type, and APNs with an Ethernet PDN type; in this case, each of those three default APN configurations shall have a different PDN type category (i.e. one default APN with an IP-based PDN type, and another default APN with a Non-IP PDN type and one default APN with an Ethernet PDN type).",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.35",
      "section_id": "7.3.35",
      "section_title": "APN-Configuration",
      "content": "The APN-Configuration AVP is of type Grouped. It shall contain the information related to the user's subscribed APN configurations. The Context-Identifier in the APN-Configuration AVP shall identify that APN configuration, and it shall not have a value of zero. Furthermore, the Context-Identifier in the APN-Configuration AVP shall uniquely identify the EPS APN configuration per subscription. For a particular EPS user having multiple APN configurations, the Service-Selection AVP values shall be unique across APN-Configuration AVPs.\nThe AVP format shall conform to:\nAPN-Configuration ::= <AVP header: 1430 10415>\n{ Context-Identifier }\n* 2 [ Served-Party-IP-Address ]\n{ PDN-Type }\n{ Service-Selection}\n[ EPS-Subscribed-QoS-Profile ]\n[ VPLMN-Dynamic-Address-Allowed ]\n[MIP6-Agent-Info ]\n[ Visited-Network-Identifier ]\n[ PDN-GW-Allocation-Type ]\n[ 3GPP-Charging-Characteristics ]\n[ AMBR ]\n*[ Specific-APN-Info ]\n[ APN-OI-Replacement ]\n[ SIPTO-Permission ]\n[ LIPA-Permission ]\n[ Restoration-Priority ]\n[ SIPTO-Local-Network-Permission ]\n[ WLAN-offloadability ]\n[ Non-IP-PDN-Type-Indicator ]\n[ Non-IP-Data-Delivery-Mechanism ]\n[ SCEF-ID ]\n[ SCEF-Realm ]\n[ Preferred-Data-Mode ]\n[ PDN-Connection-Continuity ]\n[ RDS-Indicator ]\n[ Interworking-5GS-Indicator ]\n[ Ethernet-PDN-Type-Indicator ]\n*[ AVP ]\nThe AMBR included in this grouped AVP shall include the AMBR associated to this specific APN configuration (APN-AMBR).\nThe Served-Party-IP-Address AVP may be present 0, 1 or 2 times. These AVPs shall be present if static IP address allocation is used for the UE, and they shall contain either of:\n-\tan IPv4 address, or\n-\tan IPv6 address/prefix, or\n-\tboth, an IPv4 address and an IPv6 address/prefix.\nFor the IPv6 prefix, the lower 64 bits of the address shall be set to zero.\nThe PDN-GW-Allocation-Type AVP applies to the MIP6-Agent-Info AVP. Therefore, it shall not be present if MIP6-Agent-Info is not present.\nThe APN-OI-Replacement included in this grouped AVP shall include the APN-OI-Replacement associated with this APN configuration. This APN-OI-Replacement has higher priority than UE level APN-OI-Replacement.\nThe Visited-Network-Identifier AVP indicates the PLMN where the PGW was allocated, in case of dynamic PGW assignment.\nNOTE:\tIf interworking with MAP is needed, the Context-Identifier will be in the range of 1 and 50.\nThe Non-IP-Data-Delivery-Mechanism shall only be present when Non-IP-PDN-Type-Indicator is set to TRUE (1).\nThe SCEF-ID AVP and the SCEF-Realm AVP shall only be present when Non-IP-PDN-Type-Indicator is set to TRUE (1), and Non-IP-Data-Delivery-Mechanism is set to SCEF-BASED-DATA-DELIVERY (1).\nThe RDS-Indicator may be present when Non-IP-PDN-Type-Indicator is set to TRUE (1), and Non-IP-Data-Delivery-Mechanism is set to SCEF-BASED-DATA-DELIVERY (1).\nAbsence of PDN-Connection-Continuity AVP indicates that the handling is left to local VPLMN policy.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.36",
      "section_id": "7.3.36",
      "section_title": "Service-Selection",
      "content": "The Service-Selection AVP is of type of UTF8String. This AVP shall contain either the APN Network Identifier (i.e. an APN without the Operator Identifier) per 3GPP TS 23.003 [3], clauses 9.1 & 9.1.1, or this AVP shall contain the wild card value per 3GPP TS 23.003 [3], clause 9.2.1, and 3GPP TS 23.008 [30], clause 2.13.6).\nThe contents of the Service-Selection AVP shall be formatted as a character string composed of one or more labels separated by dots (\".\"), or as the wild card APN, i.e., consisting of only one ASCII label, \"*\".\nThis AVP is defined in IETF RFC 5778[20].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.003_clause_9.2.1",
        "ts_23.008_clause_2.13.6",
        "ts_23.003",
        "ts_23.008"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.37",
      "section_id": "7.3.37",
      "section_title": "EPS-Subscribed-QoS-Profile",
      "content": "The EPS-Subscribed-QoS-Profile AVP is of type Grouped. It shall contain the bearer-level QoS parameters (QoS Class Identifier and Allocation Retention Priority) associated to the default bearer for an APN (see 3GPP TS 23.401 [2], clause 4.7.3).\nAVP format\nEPS-Subscribed-QoS-Profile ::= <AVP header: 1431 10415>\n{ QoS-Class-Identifier }\n{ Allocation-Retention-Priority }\n*[AVP]\nNOTE:\tQoS-Class-Identifier is defined in 3GPP TS 29.212 [10] as an Enumerated AVP. The values allowed for this AVP over the S6a/S6d interface are only those associated to non-GBR bearers, as indicated in 3GPP TS 23.008 [30]; e.g., values QCI_1, QCI_2, QCI_3 and QCI_4, which are associated to GBR bearers, cannot be sent over S6a/S6d.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.401_clause_4.7.3",
        "ts_23.401",
        "ts_29.212",
        "ts_23.008"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.38",
      "section_id": "7.3.38",
      "section_title": "VPLMN-Dynamic-Address-Allowed",
      "content": "The VPLMN-Dynamic-Address-Allowed AVP is of type Enumerated. It shall indicate whether for this APN, the UE is allowed to use the PDN GW in the domain of the HPLMN only, or additionally, the PDN GW in the domain of the VPLMN.. If this AVP is not present, this means that the UE is not allowed to use PDN GWs in the domain of the VPLMN. The following values are defined:\nNOTALLOWED (0)\nALLOWED (1)",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.39",
      "section_id": "7.3.39",
      "section_title": "STN-SR",
      "content": "The STN-SR AVP is of type OctetString and shall contain the Session Transfer Number for SRVCC. See 3GPP TS 23.003 [3] for the definition of STN-SR. This AVP contains an STN-SR, in international number format as described in ITU-T Rec E.164 [41], encoded as a TBCD-string. See 3GPP TS 29.002 [24] for encoding of TBCD-strings. This AVP shall not include leading indicators for the nature of address and the numbering plan; it shall contain only the TBCD-encoded digits of the address.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.003",
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.40",
      "section_id": "7.3.40",
      "section_title": "Allocation-Retention-Priority",
      "content": "The Allocation-Retention-Priorit AVP is of typeGrouped and is defined in 3GPP TS 29.212 [10]. It shall indicate the Priority of Allocation and Retention for the corresponding APN configuration.\nAVP format\nAllocation-Retention-Priority ::= <AVP header: 1034 10415>\n{ Priority-Level }\n[ Pre-emption-Capability ]\n[ Pre-emption-Vulnerability ]\nIf the Pre-emption-Capability AVP is not present in the Allocation-Retention-Priority AVP, the default value shall be PRE-EMPTION_CAPABILITY_DISABLED (1).\nIf the Pre-emption-Vulnerability AVP is not present in the Allocation-Retention-Priority AVP, the default value shall be PRE-EMPTION_VULNERABILITY_ENABLED (0).",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.212"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.41",
      "section_id": "7.3.41",
      "section_title": "AMBR",
      "content": "The AMBR AVP is of type Grouped.\nIt shall contain the maximum requested bandwidth for Uplink and Downlink traffic. The Max-Requested-Bandwidth-(UL/DL) AVPs shall encode the bandwidth value in bits per second, having an upper limit of 4294967295 bits per second. The Extended-Max-Requested-BW-(UL/DL) AVPs shall encode the bandwidth value in kilobits (1000 bits) per second, having an upper limit of 4294967295 kilobits per second.\nWhen the maximum bandwidth value to be set for UL (or DL, respectively) traffic is lower than 4294967296 bits per second, the Max-Requested-Bandwidth-UL (or -DL, respectively) AVP shall be present, and set to the requested bandwidth value in bits per second, and the Extended-Max-Requested-BW-UL (or -DL, respectively) AVP shall be absent.\nWhen the maximum bandwidth value to be set for UL (or DL, respectively) traffic is higher than 4294967295 bits per second, the Max-Requested-Bandwidth-UL (or DL, respectively) AVP shall be present, and set to its upper limit 4294967295, and the Extended-Max-Requested-BW-UL (or -DL, respectively) shall be present, and set to the requested bandwidth value in kilobits (1000 bits) per second.\nNOTE:\tThe value applicable for Max-Requested-Bandwidth-UL (or DL, respectively) is between 1 and 4294967295 bits per second, and the value applicable for Extended-Max-Requested-BW-UL (or -DL, respectively) is between 4294968 and 4294967295 kilobits per second. The AMBR AVP cannot indicate the requested bandwidth between 4294967296 and 4294967999 bits per second, and any larger value that cannot be represented in the granularity of kilobits per second.\nAVP format\nAMBR ::= <AVP header: 1435 10415>\n{ Max-Requested-Bandwidth-UL }\n{ Max-Requested-Bandwidth-DL }\n[ Extended-Max-Requested-BW-UL ]\n[ Extended-Max-Requested-BW-DL ]\n*[AVP]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.42",
      "section_id": "7.3.42",
      "section_title": "MIP-Home-Agent-Address",
      "content": "The MIP-Home-Agent-Address AVP is of type Address and is defined in IETF RFC 4004 [27]. This AVP shall contain either  IPv4 or IPv6 address of the PDN-GW and this IP address shall be used as the PDN-GW IP address.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.43",
      "section_id": "7.3.43",
      "section_title": "MIP-Home-Agent-Host",
      "content": "The MIP-Home-Agent-Host is of type Grouped and is defined in IETF RFC 4004 [27]. This AVP shall contain a FQDN of the PDN-GW which shall be used to resolve the PDN-GW IP address using the Domain Name Service function.\nMIP-Home-Agent-Host grouped AVP is composed by Destination-Host and Destination-Realm AVPs.\nDestination-Host shall contain the hostname of the PDN-GW, formatted as described in 3GPP TS 29.303 [38], clause 4.3.2.\nDestination-Realm shall be formatted as:\nepc.mnc<MNC>.mcc<MCC>.3gppnetwork.org\nwhere MNC and MCC values indicate the PLMN where the PDN-GW is located.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.303_clause_4.3.2",
        "ts_29.303"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.44",
      "section_id": "7.3.44",
      "section_title": "PDN-GW-Allocation-Type",
      "content": "The PDN-GW-Allocation-Type AVP is of type Enumerated. It shall indicate whether the PDN GW address included in MIP6-Agent-Info has been statically allocated (i.e. provisioned in the HSS by the operator), or dynamically selected by other nodes. The following values are defined:\nSTATIC (0)\nDYNAMIC (1)",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.45",
      "section_id": "7.3.45",
      "section_title": "MIP6-Agent-Info",
      "content": "The MIP6-Agent-InfoAVP is of type Grouped and is defined in IETF RFC 5447 [26]. This AVP shall contain the identity of the PDN-GW. This AVP is used to convey the identity of the PDN-GW between the MME/SGSN and the HSS regardless of the specific mobility protocol used (GTP or PMIPv6). The identity of PDN-GW is either an IP address transported in MIP-Home-Agent-Address or an FQDN transported in MIP-Home-Agent-Host. FQDN shall be used if known to the MME/SGSN/HSS.\nAVP format\nMIP6-Agent-Info ::=\t< AVP Header: 486 >\n*2[ MIP-Home-Agent-Address ]\n[ MIP-Home-Agent-Host ]\n[ MIP6-Home-Link-Prefix ]\n*[ AVP ]\nWithin the MIP6-Agent-Info AVP, if static address allocation is used, there may be either:\n-\tan IPv4 address or an IPv6 address of the PGW contained in one MIP-Home-Agent-Address AVP;\n-\tboth IPv4 address and IPv6 address of the PGW contained in two MIP-Home-Agent-Address AVPs.\nThe AVP MIP6-Home-Link-Prefix is not used in S6a/S6d, but it is included here to reflect the complete IETF definition of the grouped AVP.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.46",
      "section_id": "7.3.46",
      "section_title": "RAT-Frequency-Selection-Priority-ID",
      "content": "The RAT-Frequency-Selection-Priority-ID AVP is of type Unsigned32 and shall contain the subscribed value of Subscriber Profile ID for RAT/Frequency Priority. For details, see 3GPP TS 23.401 [2] and 3GPP TS 23.060 [12] . The coding is defined in 3GPP TS 36.413 [19]. Values shall be in the range of 1 to 256.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.401",
        "ts_23.060",
        "ts_36.413"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.47",
      "section_id": "7.3.47",
      "section_title": "IDA-Flags",
      "content": "The IDA-Flags AVP is of type Unsigned32 and it shall contain a bit mask. The meanings of the bits are defined in table 7.3.47/1:\nTable 7.3.47/1: IDA-Flags\nBit\nName\nDescription\n0\nNetwork Node area restricted\nThis bit, when set, shall indicate that the complete Network Node area (SGSN area) is restricted due to regional subscription.\nNote: Bits not defined in this table shall be cleared by the sending SGSN and discarded by the receiving HSS.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_7.3.47"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.48",
      "section_id": "7.3.48",
      "section_title": "PUA-Flags",
      "content": "The PUA-Flags AVP is of type Unsigned32 and it shall contain a bit mask. The meanings of the bits are defined in table 7.3.48/1:\nTable 7.3.48/1: PUA-Flags\nbit\nname\nDescription\n0\nFreeze M-TMSI\nThis bit, when set, shall indicate to the MME that the M-TMSI needs to be frozen, i.e. shall not be immediately re-used.\n1\nFreeze P-TMSI\nThis bit, when set, shall indicate to the SGSN that the P-TMSI needs to be frozen, i.e. shall not be immediately re-used.\nNote: Bits not defined in this table shall be cleared by the sending HSS and discarded by the receiving MME or SGSN.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_7.3.48"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.49",
      "section_id": "7.3.49",
      "section_title": "NOR-Flags",
      "content": "The NOR-Flags AVP is of type Unsigned32 and it contains a bit mask. The meaning of the bits is defined in table 7.3.49/1:\nTable 7.3.49/1: NOR-Flags\nbit\nname\nDescription\n0\nSingle-Registration-Indication\nThis bit, when set, indicates that the HSS shall send Cancel Location to the SGSN. An SGSN shall not set this bit when sending NOR.\n1\nSGSN area restricted\nThis bit, when set, shall indicate that the complete SGSN area is restricted due to regional subscription.\n2\nReady for SM from SGSN\nThis bit, when set, shall indicate that the UE is present or the UE has memory capacity available to receive one or more short messages via SGSN.\n3\nUE Reachable from MME\nThis bit, when set, shall indicate that the UE has become reachable again from MME.\n4\nReserved\nThe use of this bit is deprecated. This bit shall be discarded by the receiving HSS.\n5\nUE Reachable from SGSN\nThis bit, when set, shall indicate that the UE has become reachable again from SGSN.\n6\nReady for SM from MME\nThis bit, when set, shall indicate that the UE is present or the UE has memory capacity available to receive one or more short messages via MME.\n7\nHomogeneous Support of IMS Voice Over PS Sessions\nThis bit, when set, shall indicate that the Homogeneous Support of IMS Voice Over PS Sessions is updated.\n8\nS6a/S6d-Indicator\nThis bit, when set, shall indicate that the NOR message is sent on the S6a interface, i.e. the message is from the MME or the MME part on the combined MME/SGSN.\nThis bit, when cleared, indicates that the NOR message is sent on the S6d interface, i.e. the message is from the SGSN or the SGSN part on the combined MME/SGSN.\n9\nRemoval of MME Registration for SMS\nThis bit, when set, shall indicate that the MME requests to remove its registration for SMS.\nNOTE 1:\tThe S6a/S6d-Indicator flag shall be used together with Homogeneous Support of IMS Voice Over PS Sessions flag, i.e. if the Homogeneous Support of IMS Voice Over PS Sessions bit is set, the S6a/S6d-Indicator bit shall be set if the message is sent from the MME or the MME part on the combined MME/SGSN, and shall be cleared if the message is sent from the SGSN or the SGSN part on the combined MME/SGSN. This S6a/S6d-Indicator bit shall be discarded by the receiving HSS if the Homogeneous Support of IMS Voice Over PS Sessions bit is not set.\nNOTE 2:\tBits not defined in this table shall be cleared by the sending MME or SGSN and discarded by the receiving HSS.",
      "chunk_type": "general",
      "cross_references": [
        "table_7.3.49"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.50",
      "section_id": "7.3.50",
      "section_title": "User-Id",
      "content": "The User-Id AVP shall be of type UTF8String. It shall contain the leading digits of an IMSI (i.e. MCC, MNC, leading digits of MSIN, see 3GPP TS 23.003 [3], clause 2.2) formatted as a character string. Within a HSS, a User-Id identifies a set of subscribers, each with identical leading IMSI digits.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.003_clause_2.2",
        "ts_23.003"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.51",
      "section_id": "7.3.51",
      "section_title": "Equipment-Status",
      "content": "The Equipment-Status AVP is of type Enumerated, and shall contain the status of the mobile equipment. The following values are defined:\nPERMITTEDLISTED (0)\nPROHIBITEDLISTED (1)\nTRACKINGLISTED (2)",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.52",
      "section_id": "7.3.52",
      "section_title": "Regional-Subscription-Zone-Code",
      "content": "The Regional-Subscription-Zone-Code AVP is of type OctetString. It shall contain a Zone Code (ZC) as defined in 3GPP TS 23.003 [3], clause 4.4. Up to 10 Zone Codes per VPLMN can be defined as part of the users's subscription data.\nNOTE 1:\tEach zone code represents a collection of tracking area or routing areas (defined by the operator of the VPLMN) where the user is allowed, or disallowed, to roam. The determination of which areas are actually allowed, and which ones are not allowed, is done by the serving node (MME/SGSN) in an implementation-dependent manner.\nNOTE 2:\tThe description of RSZI in 3GPP TS 23.003 [3] is applicable, in the context of this specification, not only to location areas, but also to routing and tracking areas.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.003_clause_4.4",
        "ts_23.003"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.53",
      "section_id": "7.3.53",
      "section_title": "RAND",
      "content": "The RAND AVP is of type OctetString. This AVP shall contain the RAND. See 3GPP TS 33.401 [5].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_33.401"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.54",
      "section_id": "7.3.54",
      "section_title": "XRES",
      "content": "The XRES AVP is of type OctetString. This AVP shall contain the XRES. See 3GPP TS 33.401 [5].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_33.401"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.55",
      "section_id": "7.3.55",
      "section_title": "AUTN",
      "content": "The AUTN AVP is of type OctetString. This AVP shall contain the AUTN. See 3GPP TS 33.401 [5].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_33.401"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.56",
      "section_id": "7.3.56",
      "section_title": "KASME",
      "content": "The KASME AVP is of type OctetString. This AVP shall contain the K_ASME. See 3GPP TS 33.401 [5].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_33.401"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.57",
      "section_id": "7.3.57",
      "section_title": "Confidentiality-Key AVP",
      "content": "The Confidentiality-Key is of type OctetString, and shall contain the Confidentiality Key (CK).",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.58",
      "section_id": "7.3.58",
      "section_title": "Integrity-Key AVP",
      "content": "The Integrity-Key is of type OctetString, and shall contain the Integrity Key (IK).",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.59",
      "section_id": "7.3.59",
      "section_title": "Kc AVP",
      "content": "The Kc AVP is of type OctetString, and shall contain the Ciphering Key (Kc).",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.60",
      "section_id": "7.3.60",
      "section_title": "SRES",
      "content": "The SRES AVP is of type OctetString. This AVP shall contain the SRES. See 3GPP TS 33.102 [18].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_33.102"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.62",
      "section_id": "7.3.62",
      "section_title": "PDN-Type",
      "content": "The PDN-Type AVP is of type Enumerated and indicates the address type of the PDN, when it is IP-based.\nNOTE:\tThere are certain PDNs that can be accessed without using IP. These are identified by a specific PDN type indicator in their APN configuration settings (e.g. see clauses 7.3.204 and 7.3.232).\nThe following values are defined:\nIPv4 (0)\nThis value shall be used to indicate that the PDN can be accessed only in IPv4 mode.\nIPv6 (1)\nThis value shall be used to indicate that the PDN can be accessed only in IPv6 mode.\nIPv4v6 (2)\nThis value shall be used to indicate that the PDN can be accessed both in IPv4 mode, in IPv6 mode, and also from UEs supporting dualstack IPv4v6.\nIPv4_OR_IPv6 (3)\nThis value shall be used to indicate that the PDN can be accessed either in IPv4 mode, or in IPv6 mode, but not from UEs supporting dualstack IPv4v6. It should be noted that this value will never be used as a requested PDN Type from the UE, since UEs will only use one of their supported PDN Types, i.e., IPv4 only, IPv6 only or IPv4v6 (dualstack). This value is only used as part of the APN subscription context, as an authorization mechanism between HSS and MME.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.63",
      "section_id": "7.3.63",
      "section_title": "Trace-Data AVP",
      "content": "The Trace-Data AVP is of type Grouped. This AVP shall contain the information related to trace function.\nAVP format\nTrace-Data ::= <AVP header: 1458 10415>\n{Trace-Reference}\n{Trace-Depth}\n{Trace-NE-Type-List}\n[Trace-Interface-List]\n{Trace-Event-List}\n[OMC-Id]\n{Trace-Collection-Entity}\n[MDT-Configuration]\n[MDT-Configuration-NR]\n[Trace-Reporting-Consumer-Uri]\n*[AVP]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.64",
      "section_id": "7.3.64",
      "section_title": "Trace-Reference AVP",
      "content": "The Trace-Reference AVP is of type OctetString. This AVP shall contain the concatenation of MCC, MNC and Trace ID, where the Trace ID is a 3 byte Octet String. See 3GPP TS 32.422 [23].\nThe content of this AVP shall be encoded as octet strings according to table 7.3.64/1.\nSee 3GPP TS 24.008 [31], clause 10.5.1.13, PLMN list, for the coding of MCC and MNC. If MNC is 2 digits long, bits 5 to 8 of octet 2 are coded as \"1111\".\nTable 7.3.64/1: Encoding format for Trace-Reference AVP\n8\n7\n6\n5\n4\n3\n2\n1\nMCC digit 2\nMCC digit 1\noctet 1\nMNC digit 3\nMCC digit 3\noctet 2\nMNC digit 2\nMNC digit 1\noctet 3\nTrace ID\noctet 4\noctet 5\noctet 6",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_24.008_clause_10.5.1.13",
        "ts_24.008_table_7.3.64",
        "table_7.3.64",
        "ts_32.422",
        "ts_24.008"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.67",
      "section_id": "7.3.67",
      "section_title": "Trace-Depth AVP",
      "content": "The Trace-Depth AVP is of type Enumerated. The possible values are those defined in 3GPP TS 32.422 [23] for Trace Depth.",
      "chunk_type": "general",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.68",
      "section_id": "7.3.68",
      "section_title": "Trace-NE-Type-List AVP",
      "content": "The Trace-NE-Type-List AVP is of type OctetString. Octets are coded according to 3GPP TS 32.422 [23].",
      "chunk_type": "general",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.69",
      "section_id": "7.3.69",
      "section_title": "Trace-Interface-List AVP",
      "content": "The Trace-Interface-List AVP is of type OctetString. Octets are coded according to 3GPP TS 32.422 [23].",
      "chunk_type": "general",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.70",
      "section_id": "7.3.70",
      "section_title": "Trace-Event-List AVP",
      "content": "The Trace-Event-List AVP is of type OctetString. Octets are coded according to 3GPP TS 32.422 [23].",
      "chunk_type": "general",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.71",
      "section_id": "7.3.71",
      "section_title": "OMC-Id AVP",
      "content": "The OMC-Id AVP is of type OctetString. Octets are coded according to 3GPP TS 29.002 [24].",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.72",
      "section_id": "7.3.72",
      "section_title": "GPRS-Subscription-Data",
      "content": "The GPRS-Subscription-Data AVP is of type Grouped. It shall contain the information related to the user profile relevant for GPRS.\nAVP format:\nGPRS-Subscription-Data ::= <AVP header: 1467 10415>\n{ Complete-Data-List-Included-Indicator }\n1*50{PDP-Context}\n*[AVP]\nNOTE:\tThe max number of PDP-Context AVP aligns with the value of maxNumOfPDP-Contexts as defined in 3GPP TS 29.002 [24].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.73",
      "section_id": "7.3.73",
      "section_title": "Complete-Data-List-Included-Indicator",
      "content": "The Complete-Data-List-Included-Indicator AVP is of type Enumerated. The following values are defined:\nAll_PDP_CONTEXTS_INCLUDED (0)\nMODIFIED_ADDED_PDP CONTEXTS_INCLUDED (1)",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.74",
      "section_id": "7.3.74",
      "section_title": "PDP-Context",
      "content": "The PDP-Context AVP is of type Grouped. For a particular GPRS user having multiple PDP Context configurations, the Service-Selection AVP values may be the same for different PDP-Context AVPs.\nAVP format\nPDP-Context ::= <AVP header: 1469 10415>\n{ Context-Identifier }\n{ PDP-Type }\n[ PDP-Address ]\n{ QoS-Subscribed }\n[ VPLMN-Dynamic-Address-Allowed ]\n{ Service-Selection }\n[3GPP-Charging-Characteristics]\n[ Ext-PDP-Type ]\n[ Ext-PDP-Address ]\n[ AMBR ]\n[ APN-OI-Replacement ]\n[ SIPTO-Permission ]\n[ LIPA-Permission ]\n[ Restoration-Priority ]\n[ SIPTO-Local-Network-Permission ]\n[ Non-IP-Data-Delivery-Mechanism ]\n[ SCEF-ID ]\n*[AVP]\nThe Ext-PDP-Address AVP may be present only if the PDP-Address AVP is present. If the Ext-PDP-Address AVP is present, then it shall not contain the same address type (IPv4 or IPv6) as the PDP-Address AVP.\nWhen PDP-Type takes the value Non-IP (HEX 02), the Ext-PDP-Type AVP shall be absent.\nThe AMBR included in this grouped AVP shall include the AMBR associated to the APN included in the PDP-Context AVP (APN-AMBR).\nThe APN-OI-Replacement included in this grouped AVP shall include the APN-OI-Replacement associated to the APN included in the PDP-Context. This APN-OI-Replacement has higher priority than UE level APN-OI-Replacement.\nThe Non-IP-Data-Delivery-Mechanism shall only be present when PDP-Type takes the value Non-IP (HEX 02).\nThe SCEF-ID shall only be present when Non-IP-Data-Delivery-Mechanism takes the value SCEF-BASED-DATA-DELIVERY (1).",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.75",
      "section_id": "7.3.75",
      "section_title": "PDP-Type",
      "content": "The PDP-Type AVP is of type OctetString. Octets are coded according to 3GPP TS 29.002 [24]. The allowed values are one of IPv4 encoded as HEX (21) or IPv6 encoded as HEX (57) or Non-IP encoded as HEX (02).\n7.3.75A\tExt-PDP-Type\nThe Ext-PDP-Type AVP is of type OctetString. Octets are coded according to 3GPP TS 29.002 [24] and 3GPP TS 29.060 [39] and shall contain the value of IPv4v6.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.002",
        "ts_29.060"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.77",
      "section_id": "7.3.77",
      "section_title": "QoS-Subscribed",
      "content": "The QoS-Subscribed AVP is of type OctetString. Octets are coded according to 3GPP TS 29.002 [24] (octets of QoS-Subscribed, Ext-QoS-Subscribed, Ext2-QoS-Subscribed, Ext3-QoS-Subscribed and Ext4-QoS-Subscribed values are concatenated).",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.78",
      "section_id": "7.3.78",
      "section_title": "CSG-Subscription-Data",
      "content": "The CSG-Subscription-Data AVP is of type Grouped. This AVP shall contain the CSG-Id, and may contain the associated Visited-PLMN-Id, an associated expiration date and the APNs which are allowed to be accessed via Local IP Access from the CSG.\nIf the Visited-PLMN-Id is not present, the CSG-Subscription-Data corresponds to the registered PLMN (i.e. the visited PLMN) of the MME or the SGSN.\nAVP format\nCSG-Subscription-Data ::= <AVP header: 1436 10415>\n{ CSG-Id }\n[ Expiration-Date ]\n*[ Service-Selection ]\n[ Visited-PLMN-Id ]\n*[AVP]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.79",
      "section_id": "7.3.79",
      "section_title": "CSG-Id",
      "content": "The CSG-Id AVP is of type Unsigned32. Values are coded according to 3GPP TS 23.003 [3]. Unused bits (least significant) shall be padded with zeros.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.003"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.80",
      "section_id": "7.3.80",
      "section_title": "Expiration-Date",
      "content": "The Expiration-Date AVP is of type Time (see IETF RFC 6733 [61]) and contains the point in time when subscription to the CSG-Id expires.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.81",
      "section_id": "7.3.81",
      "section_title": "Roaming-Restricted-Due-To-Unsupported-Feature",
      "content": "The Roaming-Restricted-Due-To-Unsupported-Feature AVP is of type Enumerated and indicates that roaming is restricted due to unsupported feature. The following value is defined:\nRoaming-Restricted-Due-To-Unsupported-Feature (0)",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.82",
      "section_id": "7.3.82",
      "section_title": "Specific-APN-Info AVP",
      "content": "The Specific-APN-Info AVP is of type Grouped. It shall only be present in the APN configuration when the APN is a wild card APN. It shall contain the APN which is not present in the subscription context but the UE is authorized to connect to and the identity of the registered PDN-GW.\nThe AVP format shall conform to:\nSpecific-APN-Info ::= <AVP header: 1472 10415>\n{ Service-Selection }\n{ MIP6-Agent-Info }\n[ Visited-Network-Identifier ]\n*[ AVP ]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.83",
      "section_id": "7.3.83",
      "section_title": "Alert-Reason AVP",
      "content": "The Alert-Reason AVP is of type Enumerated. The following values are defined:\nUE_PRESENT (0)\nUE_MEMORY_AVAILABLE (1)",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.84",
      "section_id": "7.3.84",
      "section_title": "LCS-Info",
      "content": "The LCS-Info AVP is of type Grouped. This AVP shall contain the following LCS related information for a subscriber:\n-\tlist of GMLCs in the HPLMN that are permitted to issue a call/session unrelated or call/session related MT-LR location request for this UE;\n-\tprivacy exception list that is applicable only over the S6d interface;\n-\tMO-LR list.\nAVP format\nLCS-Info ::= <AVP header: 1473 10415>\n*[ GMLC-Number]\n*[ LCS-PrivacyException ]\n*[ MO-LR ]\n*[AVP]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.85",
      "section_id": "7.3.85",
      "section_title": "GMLC-Number",
      "content": "The GMLC-Number AVP is of type OctetString. This AVP shall contain the ISDN number of the GMLC in international number format as described in ITU-T Rec E.164 [41] and shall be encoded as a TBCD-string. See 3GPP TS 29.002 [24] for encoding of TBCD-strings. This AVP shall not include leading indicators for the nature of address and the numbering plan; it shall contain only the TBCD-encoded digits of the address.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.86",
      "section_id": "7.3.86",
      "section_title": "LCS-PrivacyException",
      "content": "The LCS-PrivacyException AVP is of type Grouped. This AVP shall contain the classes of LCS Client that are allowed to locate any target UE.\nAVP format\nLCS-PrivacyException ::= <AVP header: 1475 10415>\n{ SS-Code }\n{ SS-Status }\n[ Notification-To-UE-User ]\n*[ External-Client ]\n*[ PLMN-Client ]\n*[ Service-Type ]\n*[AVP]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.87",
      "section_id": "7.3.87",
      "section_title": "SS-Code",
      "content": "The SS-Code AVP is of type OctetString. Octets are coded according to 3GPP TS 29.002 [24].",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.88",
      "section_id": "7.3.88",
      "section_title": "SS-Status",
      "content": "The SS-Status AVP is of type OctetString. Octets are coded according to 3GPP TS 29.002 [24]. For details, see 3GPP TS 23.011 [29].",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.002",
        "ts_23.011"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.89",
      "section_id": "7.3.89",
      "section_title": "Notification-To-UE-User",
      "content": "The Notification- To-UE-User AVP is of type Enumerated. The following values are defined:\nNOTIFY_LOCATION_ALLOWED (0)\nNOTIFYANDVERIFY_LOCATION_ALLOWED_IF_NO_RESPONSE (1)\nNOTIFYANDVERIFY_LOCATION_NOT_ALLOWED_IF_NO_RESPONSE (2)\nLOCATION_NOT_ALLOWED (3)",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.90",
      "section_id": "7.3.90",
      "section_title": "External-Client",
      "content": "The External-Client AVP is of type Grouped. This AVP shall contain the identities of the external clients that are allowed to locate a target UE for a MT-LR.\nAVP format\nExternal-Client ::= <AVP header: 1479 10415>\n{ Client-Identity }\n[ GMLC-Restriction ]\n[ Notification-To-UE-User ]\n*[AVP]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.91",
      "section_id": "7.3.91",
      "section_title": "Client-Identity",
      "content": "The Client-Identity AVP is of type OctetString and it shall contain the ISDN number of the external client in international number format as described in ITU-T Rec E.164 [41] and shall be encoded as a TBCD-string. See 3GPP TS 29.002 [24] for encoding of TBCD-strings. This AVP shall not include leading indicators for the nature of address and the numbering plan; it shall contain only the TBCD-encoded digits of the address.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.92",
      "section_id": "7.3.92",
      "section_title": "GMLC-Restriction",
      "content": "The GMLC-Restriction AVP is of type Enumerated. The following values are defined:\nGMLC_LIST (0)\nHOME_COUNTRY (1)",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.93",
      "section_id": "7.3.93",
      "section_title": "PLMN-Client",
      "content": "The PLMN-Client AVP is of type Enumerated. The following values are defined:\nBROADCAST_SERVICE (0)\nO_AND_M_HPLMN (1)\nO_AND_M_VPLMN (2)\nANONYMOUS_LOCATION (3)\nTARGET_UE_SUBSCRIBED_SERVICE (4)",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.94",
      "section_id": "7.3.94",
      "section_title": "Service-Type",
      "content": "The Service-Type AVP is of type Grouped. This AVP shall contain the identities of the service type of the clients that are allowed to locate a target UE for an MT-LR.\nAVP format\nService-Type ::= <AVP header: 1483 10415>\n{ ServiceTypeIdentity }\n[ GMLC-Restriction ]\n[ Notification-To-UE-User ]\n*[AVP]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.95",
      "section_id": "7.3.95",
      "section_title": "ServiceTypeIdentity",
      "content": "The ServiceTypeIdentity AVP is of type Unsigned32. For details on the values of this AVP, see 3GPP TS 29.002 [24].",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.96",
      "section_id": "7.3.96",
      "section_title": "MO-LR",
      "content": "The MO-LR AVP is of type Grouped. This AVP shall contain the classes of MO-LR for which a subscription exists for a particular UE.\nAVP format\nMO-LR ::= <AVP header: 1485 10415>\n{ SS-Code }\n{ SS-Status }\n*[AVP]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.98",
      "section_id": "7.3.98",
      "section_title": "Trace-Collection-Entity AVP",
      "content": "The Trace-Collection-Entity AVP is of type Address and contains the IPv4 or IPv6 address of the Trace Collection Entity, as defined in 3GPP TS 32.422 [23], clause 5.9.",
      "chunk_type": "general",
      "cross_references": [
        "ts_32.422_clause_5.9",
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.99",
      "section_id": "7.3.99",
      "section_title": "Teleservice-List",
      "content": "The Teleservice-List AVP is of type Grouped. This AVP shall contain the service codes for the short message related teleservice for a subscriber:\nAVP format\nTeleservice-List ::= <AVP header: 1486 10415>\n1 * { TS-Code }* [ AVP ]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.100",
      "section_id": "7.3.100",
      "section_title": "TS-Code",
      "content": "The TS-Code AVP is of type OctetString. Octets are coded according to 3GPP TS 29.002 [24].",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.101",
      "section_id": "7.3.101",
      "section_title": "Call-Barring-Info",
      "content": "The Call-Barring-Info AVP is of type Grouped. This AVP shall contain the service codes for the short message related call barring services for a subscriber:\nAVP format\nCall-Barring-Info ::= <AVP header: 1488 10415>\n{ SS-Code }\n{ SS-Status }\n*[ AVP ]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.102",
      "section_id": "7.3.102",
      "section_title": "SGSN-Number",
      "content": "The SGSN-Number AVP is of type OctetString and it shall contain the ISDN number of the SGSN. For further details on the definition of this AVP, see 3GPP TS 23.003 [3]. This AVP contains an SGSN-Number in international number format as described in ITU-T Rec E.164 [41] and shall be encoded as a TBCD-string. See 3GPP TS 29.002 [24] for encoding of TBCD-strings. This AVP shall not include leading indicators for the nature of address and the numbering plan; it shall contain only the TBCD-encoded digits of the address.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.003",
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.103",
      "section_id": "7.3.103",
      "section_title": "IDR-Flags",
      "content": "The IDR-Flags AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 7.3.103/1:\nTable 7.3.103/1: IDR-Flags\nbit\nname\nDescription\n0\nUE Reachability Request\nThis bit when set shall indicate to the MME or the SGSN that the HSS is awaiting a Notification of UE Reachability.\n1\nT-ADS Data Request\nThis bit, when set, shall indicate to the MME or SGSN that the HSS requests the support status of \"IMS Voice over PS Sessions\", and the RAT Type and timestamp of the last radio contact with the UE.\n2\nEPS User State Request\nThis bit, when set, shall indicate to the MME or the SGSN that the HSS requests the MME or the SGSN for the current user state.\n3\nEPS Location Information Request\nThis bit, when set, shall indicate to the MME or the SGSN that the HSS requests the MME or SGSN for location information\n4\nCurrent Location Request\nThis bit when set shall indicate to the MME or the SGSN that the HSS requests the MME or SGSN to provide the most current location information by paging the UE if the UE is in idle mode. This bit is used only in combination with the\"EPS Location Information Request\" bit.\n5\nLocal Time Zone Request\nThis bit when set shall indicate to the MME or the SGSN that the HSS requests the MME or SGSN to provide information on the time zone of the location in the visited network where the UE is attached.\n6\nRemove SMS Registration\nThis bit when set shall indicate to the MME that it shall consider itself unregistered for SMS.\n7\nRAT-Type Requested\nThis bit when set shall indicate to the MME or the SGSN that the HSS requests the MME or SGSN to provide the RAT Type that corresponds to the requested EPS Location Information. This bit is used only in combination with the\"EPS Location Information Request\" bit.\n8\nP-CSCF Restoration Request\nThis bit, when set, shall indicate to the MME or SGSN that the HSS requests the execution of the HSS-based P-CSCF restoration procedures, as described in 3GPP TS 23.380 [51] clause 5.4.\nNOTE:\tBits not defined in this table shall be cleared by the sending HSS and discarded by the receiving MME or SGSN.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.380_clause_5.4",
        "table_7.3.103",
        "ts_23.380"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.104",
      "section_id": "7.3.104",
      "section_title": "ICS-Indicator",
      "content": "The ICS-Indicator AVP is of type Enumerated. The meaning of the values is defined in 3GPP TS 23.292 [34] and 3GPP TS 23.216 [35]. The following values are defined:\nFALSE (0)\nTRUE (1)",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.292",
        "ts_23.216"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.105",
      "section_id": "7.3.105",
      "section_title": "Visited-Network-Identifier",
      "content": "The Visited-Network-Identifier AVP contains the identity of the network where the PDN-GW was allocated, in the case of dynamic PDN-GW assignment.\nThe AVP shall be encoded as:\nmnc<MNC>.mcc<MCC>.3gppnetwork.org",
      "chunk_type": "parameter",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.106",
      "section_id": "7.3.106",
      "section_title": "IMS-Voice-Over-PS-Sessions-Supported",
      "content": "The IMS-Voice-Over-PS-Sessions-Supported AVP is of type Enumerated. The following values are defined:\nNOT_SUPPORTED (0)\nThis value indicates that \"IMS Voice over PS Sessions\" is not supported by the UE's most recently used TA or RA in the serving node.\nSUPPORTED (1)\nThis value indicates that \"IMS Voice over PS Sessions\" is supported by the UE's most recently used TA or RA in the serving node.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.107",
      "section_id": "7.3.107",
      "section_title": "Homogeneous-Support-of-IMS-Voice-Over-PS-Sessions",
      "content": "The Homogeneous-Support-of-IMS-Voice-Over-PS-Sessions AVP is of type Enumerated. The following values are defined:\nNOT_SUPPORTED (0)\nThis value indicates that \"IMS Voice over PS Sessions\" is not supported, homogeneously, in any of the TAs or RAs associated to the serving node for the served subscribers including consideration on roaming relationship for IMS Voice over PS.\nSUPPORTED (1)\nThis value indicates that \"IMS Voice over PS Sessions\" is supported, homogeneously, in all of the TAs or RAs associated to the serving node for the served subscriber including consideration on roaming relationship for IMS Voice over PS.\nIf this AVP is not present in the command, it indicates that there is no homogeneous support of IMS Voice Over PS Sessions on all the TA/RAs of the serving node, or that the homogeneity of this support is unknown to the serving node.\nNOTE:\tIn order to ensure the T-ADS by HPLMN, MME or SGSN is expected to either set \"Homogenous Support of IMS Voice over PS Sessions\" AVP to \"NOT_SUPPORTED (0)\", or not to set this AVP for inbound roaming subscribers if there is no IMS Voice over PS roaming relationship with the HPLMN.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.108",
      "section_id": "7.3.108",
      "section_title": "Last-UE-Activity-Time",
      "content": "The Last-UE-Activity-Time AVP is of type Time (see IETF RFC 6733 [61]), and contains the point of time of the last radio contact of the serving node (MME or SGSN) with the UE.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.109",
      "section_id": "7.3.109",
      "section_title": "GMLC-Address",
      "content": "The GMLC-Address AVP is of type Address and shall contain the IPv4 or IPv6 address of the V-GMLC associated with the serving node.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.110",
      "section_id": "7.3.110",
      "section_title": "EPS-User-State",
      "content": "The EPS-User-State AVP is of type Grouped. It shall contain the information related to the user state in the MME and/or the SGSN.\nAVP format\nEPS-User-State ::= <AVP header:1495 10415>\n[MME-User-State]\n[SGSN-User-State]\n*[AVP]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.111",
      "section_id": "7.3.111",
      "section_title": "EPS-Location-Information",
      "content": "The EPS-Location Information AVP is of type Grouped. It shall contain the information related to the user location relevant for EPS.\nAVP format\nEPS-Location-Information ::= <AVP header: 1496 10415>\n[MME-Location-Information]\n[SGSN-Location-Information]\n*[AVP]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.112",
      "section_id": "7.3.112",
      "section_title": "MME-User-State",
      "content": "The MME-User-State AVP is of type Grouped. It shall contain the information related to the user state in the MME.\nAVP format\nMME-User-State ::= <AVP header: 1497 10415>\n[User-State]\n*[AVP]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.113",
      "section_id": "7.3.113",
      "section_title": "SGSN-User-State",
      "content": "The SGSN-User-State AVP is of type Grouped. It shall contain the information related to the user state in the SGSN.\nAVP format\nSGSN-User-State ::= <AVP header: 1498 10415>\n[User-State]\n*[AVP]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.114",
      "section_id": "7.3.114",
      "section_title": "User-State",
      "content": "The User-State AVP is of type Enumerated and indicates the user state in EPS. The following values are defined:\nDETACHED (0)\nThe UE is in EMM_DEREGISTERED state.\nATTACHED_NOT_REACHABLE_FOR_PAGING (1)\nThe SGSN has determined from its internal data that the UE is attached to the network, but there is no EPS bearer active, and the UE is not reachable for paging. This value is only applicable to S4-SGSN.\nATTACHED_REACHABLE_FOR_PAGING (2)\nThe SGSN has determined from its internal data that the UE is attached to the network, but there is no EPS bearer active; the SGSN has not determined from its internal data that the UE is not reachable for paging. This value is only applicable to S4-SGSN.\nCONNECTED_NOT_REACHABLE_FOR_PAGING (3)\nThe SGSN or MME has determined from its internal data that the UE is attached to the network, there is at least one EPS bearer active, and the UE is not reachable for paging.\nCONNECTED_REACHABLE_FOR_PAGING (4)\nThe SGSN or MME has determined from its internal data that the UE is attached to the network, there is at least one EPS bearer active, and the SGSN or MME has not determined from its internal data that the UE is not reachable for paging.\nRESERVED (5)\nThis value should not be used by MME or SGSN over S6a/S6d. If this value is received by the HSS from pre-rel-12 MME/SGSNs, the HSS shall consider that the UE is not reachable and use the \"Network determined not reachable\" state when reporting the User State to other network entities, e.g. over Sh.\nNOTE:\tThe state associated to a \"Network determined not reachable\" condition should also be used by HSS when reporting to the requesting entity, e.g. over Sh, that the user was found to be not reachable (for instance, if the HSS receives no answer from the MME/SGSN to the user state query).",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.115",
      "section_id": "7.3.115",
      "section_title": "MME-Location-Information",
      "content": "The MME-Location-Information AVP is of type Grouped. It shall contain the information related to the user location relevant for the MME.\nAVP format\nMME-Location-Information ::= <AVP header: 1600 10415>\n[E-UTRAN-Cell-Global-Identity]\n[Tracking-Area-Identity]\n[Geographical-Information]\n[Geodetic-Information]\n[Current-Location-Retrieved]\n[Age-Of-Location-Information]\n[User-CSG-Information]\n[ eNodeB-ID ]\n[ Extended-eNodeB-ID ]\n*[AVP]\nAn eNodeB-ID AVP may be present for Monitoring event reporting.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.116",
      "section_id": "7.3.116",
      "section_title": "SGSN-Location-Information",
      "content": "The SGSN-Location-Information AVP is of type Grouped. It shall contain the information related to the user location relevant for the SGSN.\nAVP format\nSGSN-Location-Information ::= <AVP header: 1601 10415>\n[Cell-Global-Identity]\n[Location-Area-Identity]\n[Service-Area-Identity]\n[Routing-Area-Identity]\n[Geographical-Information]\n[Geodetic-Information]\n[Current-Location-Retrieved]\n[Age-Of-Location-Information]\n[ User-CSG-Information]\n*[AVP]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.117",
      "section_id": "7.3.117",
      "section_title": "E-UTRAN-Cell-Global-Identity",
      "content": "The E-UTRAN-Cell-Global-Identity AVP is of type OctetString and shall contain the E-UTRAN Cell Global Identification of the user which identifies the cell the user equipment is registered, as specified in 3GPP TS 23.003 [3]. Octets are coded as described in 3GPP TS 29.002 [24].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.003",
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.118",
      "section_id": "7.3.118",
      "section_title": "Tracking-Area-Identity",
      "content": "The Tracking-Area-Identity AVP is of type OctetString and shall contain the Tracking Area Identity of the user which identifies the tracking area where the user is located, as specified in 3GPP TS 23.003 [3]. Octets are coded as described in 3GPP TS 29.002 [24].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.003",
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.119",
      "section_id": "7.3.119",
      "section_title": "Cell-Global-Identity",
      "content": "The Cell-Global-Identity AVP is of type OctetString and shall contain the Cell Global Identification of the user which identifies the cell the user equipment is registered, as specified in 3GPP TS 23.003 [3]. Octets are coded as described in 3GPP TS 29.002 [24].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.003",
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.120",
      "section_id": "7.3.120",
      "section_title": "Routing-Area-Identity",
      "content": "The Routing-Area-Identity AVP is of type OctetString and shall contain the Routing Area Identity of the user which identifies the routing area where the user is located, as specified in 3GPP TS 23.003 [3]. Octets are coded as described in 3GPP TS 29.002 [24].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.003",
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.121",
      "section_id": "7.3.121",
      "section_title": "Location-Area-Identity",
      "content": "The Location-Area-Identity AVP is of type OctetString and shall contain the Location Area Identification of the user which identifies the Location area where the user is located, as specified in 3GPP TS 23.003 [3]. Octets are coded as described in 3GPP TS 29.002 [24].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.003",
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.122",
      "section_id": "7.3.122",
      "section_title": "Service-Area-Identity",
      "content": "The Service-Area-Identity AVP is of type OctetString and shall contain the Service Area Identifier of the user where the user is located, as specified in 3GPP TS 23.003 [3]. Octets are coded as described in 3GPP TS 29.002 [24].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.003",
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.123",
      "section_id": "7.3.123",
      "section_title": "Geographical-Information",
      "content": "The Geographical-Information AVP is of type OctetString and shall contain the geographical Information of the user. For details and octet encoding, see 3GPP TS 29.002 [24].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.124",
      "section_id": "7.3.124",
      "section_title": "Geodetic-Information",
      "content": "The Geodetic-Information AVP is of type OctetString and shall contain the Geodetic Location of the user. For details and octet encoding, see 3GPP TS 29.002 [24].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.125",
      "section_id": "7.3.125",
      "section_title": "Current-Location-Retrieved",
      "content": "The Current-Location-Retrieved AVP is of type Enumerated. The following values are defined:\nACTIVE-LOCATION-RETRIEVAL (0)\nThis value is used when location information was obtained after a successful paging procedure for Active Location Retrieval when the UE is in idle mode or after retrieving the most up-to-date location information from the eNB when the UE is in connected mode.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.126",
      "section_id": "7.3.126",
      "section_title": "Age-Of-Location-Information",
      "content": "The Age-Of-Location-Information AVP is of type Unsigned32 and shall contain the the elapsed time in minutes since the last network contact of the user equipment. For details, see 3GPP TS 29.002 [24].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.127",
      "section_id": "7.3.127",
      "section_title": "Active-APN",
      "content": "The Active-APNs AVP is of type Grouped. It shall contain information about a dynamically established APN on a serving node, so the HSS can restore it, if it is eventually lost after a node restart.\nThe AVP format shall conform to:\nActive-APN ::= <AVP header: 1612 10415>\n{ Context-Identifier }\n[ Service-Selection ]\n[ MIP6-Agent-Info ]\n[ Visited-Network-Identifier ]\n*[ Specific-APN-Info ]\n*[ AVP ]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.128",
      "section_id": "7.3.128",
      "section_title": "Error-Diagnostic",
      "content": "The Error-Diagnostic AVP is of type Enumerated. The following values are defined:\n-\tGPRS_DATA_SUBSCRIBED (0)\nThis value shall be used when Experimental-Error is DIAMETER_ERROR_UNKNOWN_EPS_SUBSCRIPTION and there is GPRS Subscription Data for the user.\n-\tNO_GPRS_DATA_SUBSCRIBED (1)\nThis value shall be used when Experimental-Error is DIAMETER_ERROR_UNKNOWN_EPS_SUBSCRIPTION and there is not GPRS Subscription Data for the user.\n-\tODB_ALL_APN (2)\nThis value shall be used when Experimental-Error is DIAMETER_ERROR_ROAMING_NOT_ALLOWED and the Operator Determined Barring indicates \"All Packet Oriented Services Barred\" (see clause 7.3.30).\n-\tODB_HPLMN_APN (3)\nThis value shall be used when Experimental-Error is DIAMETER_ERROR_ROAMING_NOT_ALLOWED and the Operator Determined Barring indicates \"Roamer Access HPLMN-AP Barred\" (see clause 7.3.30).\n-\tODB_VPLMN_APN (4)\nThis value shall be used when Experimental-Error is DIAMETER_ERROR_ROAMING_NOT_ALLOWED and the Operator Determined Barring indicates \"Roamer Access to VPLMN-AP Barred\" (see clause 7.3.30).",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_7.3.30"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.129",
      "section_id": "7.3.129",
      "section_title": "Ext-PDP-Address AVP",
      "content": "The Ext-PDP-Address AVP  is of type Address and indicates an additional address of the data protocol, and it may be included when the PDP supports dual-stack (IPv4v6).",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.130",
      "section_id": "7.3.130",
      "section_title": "UE-SRVCC-Capability",
      "content": "The UE-SRVCC-Capability AVP is of type Enumerated. It shall indicate if the UE supports or does not support the SRVCC capability. The following values are defined:\nUE-SRVCC-NOT-SUPPORTED (0)\nUE-SRVCC-SUPPORTED (1)",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.131",
      "section_id": "7.3.131",
      "section_title": "MPS-Priority",
      "content": "The MPS-Priority AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 7.3.131/1:\nTable 7.3.131/1: MPS-Priority\nBit\nName\nDescription\n0\nMPS-CS-Priority\nThis bit, when set, indicates that the UE is subscribed to the eMLPP or 1x RTT priority service in the CS domain.\n1\nMPS-EPS-Priority\nThis bit, when set, indicates that the UE is subscribed to the MPS in the EPS domain.\nNote: Bits not defined in this table shall be cleared by the sending HSS and discarded by the receiving MME or SGSN.\nNOTE:\tThe HSS derives the information for MPS-CS-Priority from the eMLPP Subscription Data as defined in the 3GPP TS 29.002 [24] or 1x RTT priority service which is out of the scope of 3GPP.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_7.3.131",
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.132",
      "section_id": "7.3.132",
      "section_title": "VPLMN-LIPA-Allowed",
      "content": "The VPLMN-LIPA-Allowed AVP is of type Enumerated. It shall indicate whether the UE is allowed to use LIPA in the VPLMN where the UE is roaming. The following values are defined:\nLIPA_NOTALLOWED (0)\nThis value indicates that the UE is not allowed to use LIPA in the VPLMN where the UE is roaming.\nLIPA_ALLOWED (1)\nThis value indicates that the UE is allowed to use LIPA in the VPLMN where the UE is roaming.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.133",
      "section_id": "7.3.133",
      "section_title": "LIPA-Permission",
      "content": "The LIPA-Permission AVP is of type Enumerated. It shall indicate whether the APN can be accessed via Local IP Access. The following values are defined:\nLIPA_PROHIBITED (0)\nThis value indicates that this APN is prohibited to be accessed via LIPA.\nLIPA_ONLY (1)\nThis value indicates that this APN can be accessed only via LIPA.\nLIPA_CONDITIONAL (2)\nThis value indicates that this APN can be accessed via both non LIPA and LIPA.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.134",
      "section_id": "7.3.134",
      "section_title": "Subscribed-Periodic-RAU-TAU-Timer",
      "content": "The Subscribed-Periodic-RAU-TAU-Timer AVP is of type Unsigned32 and it shall contain the subscribed periodic RAU/TAU timer value in seconds as specified in 3GPP TS 24.008 [31].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_24.008"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.135",
      "section_id": "7.3.135",
      "section_title": "SIPTO-Permission",
      "content": "The SIPTO-Permission AVP is of type Enumerated. It shall indicate whether the traffic associated with this particular APN is allowed or not for SIPTO above RAN.\nThe following values are defined:\nSIPTO_above_RAN _ALLOWED (0)\nSIPTO_above_RAN _NOTALLOWED (1)",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.136",
      "section_id": "7.3.136",
      "section_title": "MDT-Configuration",
      "content": "The MDT-Configuration AVP is of type Grouped. It shall contain MDT related information as specified in 3GPP TS 32.422 [23].\nThe AVP format shall conform to:\nMDT-Configuration ::= <AVP header: 1622 10415>\n{ Job-Type }\n[ Area-Scope ]\n[ List-Of-Measurements ]\n[ Reporting-Trigger ]\n[ Report-Interval ]\n[ Report-Amount ]\n[ Event-Threshold-RSRP ]\n[ Event-Threshold-RSRQ ]\n[ Logging-Interval ]\n[ Logging-Duration ]\n[ Measurement-Period-LTE ]\n[ Measurement-Period-UMTS ]\n[ Collection-Period- RRM-LTE ]\n[ Collection-Period-RRM-UMTS ]\n[ Positioning-Method ]\n[ Measurement-Quantity]\n[ Event-Threshold-Event-1F ]\n[ Event-Threshold-Event-1I ]\n*[ MDT-Allowed-PLMN-Id ]\n*[ MBSFN-Area ]\n*[ AVP ]",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.137",
      "section_id": "7.3.137",
      "section_title": "Job-Type",
      "content": "The Job-Type AVP is of type Enumerated. The possible values are those defined in 3GPP TS 32.422 [23] for Job-Type.",
      "chunk_type": "general",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.138",
      "section_id": "7.3.138",
      "section_title": "Area-Scope",
      "content": "The Area-Scope AVP is of type Grouped. See 3GPP TS 32.422 [23].\nThe AVP format shall conform to:\nArea-Scope ::= <AVP header: 1623 10415>\n*[ Cell-Global-Identity ]\n*[ E-UTRAN-Cell-Global-Identity ]\n*[ Routing-Area-Identity ]\n*[ Location-Area-Identity ]\n*[ Tracking-Area-Identity ]\n*[ NR-Cell-Global-Identity ]\n*[ AVP ]",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.139",
      "section_id": "7.3.139",
      "section_title": "List-Of-Measurements",
      "content": "The List-Of-Measurements AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits is defined in 3GPP TS 32.422 [23]. The most significant bit is bit 8 of the first octet.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.140",
      "section_id": "7.3.140",
      "section_title": "Reporting-Trigger",
      "content": "The Reporting-Trigger AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits is defined in 3GPP TS 32.422 [23].  The most significant bit is bit 8 of the first octet.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.141",
      "section_id": "7.3.141",
      "section_title": "Report-Interval",
      "content": "The Report-Interval AVP is of type Enumerated. The possible values are those defined in 3GPP TS 32.422 [23] for Report Interval",
      "chunk_type": "general",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.142",
      "section_id": "7.3.142",
      "section_title": "Report-Amount",
      "content": "The Report-Amount AVP is of type Enumerated. The possible values are those defined in 3GPP TS 32.422 [23] for Report Amount.",
      "chunk_type": "general",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.143",
      "section_id": "7.3.143",
      "section_title": "Event-Threshold-RSRP",
      "content": "The Event-Threshold-RSRP AVP is of type Unsigned32. See 3GPP TS 32.422 [23] for allowed values",
      "chunk_type": "general",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.144",
      "section_id": "7.3.144",
      "section_title": "Event-Threshold-RSRQ",
      "content": "The Event-Threshold-RSRQ AVP is of type Unsigned32. See 3GPP TS 32.422 [23] for allowed values",
      "chunk_type": "general",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.145",
      "section_id": "7.3.145",
      "section_title": "Logging-Interval",
      "content": "The Logging-Interval AVP is of type Enumerated. The possible values are those defined in 3GPP TS 32.422 [23] for Logging Interval",
      "chunk_type": "general",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.146",
      "section_id": "7.3.146",
      "section_title": "Logging-Duration",
      "content": "The Logging-Duration AVP is of type Enumerated. The possible values are those defined in 3GPP TS 32.422 [23] for Logging Duration",
      "chunk_type": "general",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.147",
      "section_id": "7.3.147",
      "section_title": "Relay-Node-Indicator",
      "content": "The Relay-Node-Indicator AVP is of type Enumerated. It shall indicate whether the subscription data belongs to a Relay Node or not (see 3GPP TS 36.300 [40]). The following values are defined:\nNOT_RELAY_NODE (0)\nThis value indicates that the subscription data does not belong to a Relay Node.\nRELAY_NODE (1)\nThis value indicates that the subscription data belongs to a Relay Node.\nThe default value when this AVP is not present is NOT_RELAY_NODE (0).",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_36.300"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.148",
      "section_id": "7.3.148",
      "section_title": "MDT-User-Consent",
      "content": "The MDT-User-Consent AVP is of type Enumerated. It shall indicate whether the user has given his consent for MDT activation or not (see 3GPP TS 32.422 [23]). The following values are defined:\nCONSENT_NOT_GIVEN (0)\nCONSENT_GIVEN (1)\nThe default value when this AVP is not present in ULA is CONSENT_NOT_GIVEN (0). Absence of this AVP in IDR shall be interpreted as the MDT-User-Consent has not been modified.\nThe presence of this subscription parameter in ULA or IDR shall be independent of the support of the Trace Function by the MME/SGSN (see clause 7.3.10).",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_7.3.10",
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.149",
      "section_id": "7.3.149",
      "section_title": "PUR-Flags",
      "content": "The PUR-Flags AVP is of type Unsigned32 and it shall contain a bitmask. The meaning of the bits is defined in table 7.3.149/1:\nTable 7.3.149/1: PUR-Flags\nbit\nname\nDescription\n0\nUE Purged in MME\nThis bit, when set, indicates that the combined MME/SGSN has purged the UE in the MME part of the node. This bit shall not be set by a standalone SGSN.\n1\nUE Purged in SGSN\nThis bit, when set, shall indicate that the combined MME/SGSN has purged the UE in the SGSN part of the node. This bit shall not be set by a standalone MME.\nNOTE:\tBits not defined in this table shall be cleared by the sending MME or SGSN and discarded by the receiving HSS.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_7.3.149"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.150",
      "section_id": "7.3.150",
      "section_title": "Subscribed-VSRVCC",
      "content": "The Subscribed-VSRVCC AVP is of type Enumerated. It shall indicate that the user is subscribed to the vSRVCC. The following value is defined:\nVSRVCC_SUBSCRIBED (0)\nAbsence of this AVP in IDR shall be interpreted as the Subscribed-VSRVCC has not been modified.\nAbsence of this AVP in ULA shall be interpreted as the user is not subscribed to the vSRVCC.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.151",
      "section_id": "7.3.151",
      "section_title": "Equivalent-PLMN-List",
      "content": "The Equivalent-PLMN-List AVP is of type Grouped. This AVP shall contain the equivalent PLMN IDs of the registered PLMN (i.e. the visited PLMN) of the MME or the SGSN.\nAVP format\nEquivalent-PLMN-List ::= <AVP header: 1637 10415>\n1*{ Visited-PLMN-Id }\n*[AVP]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.152",
      "section_id": "7.3.152",
      "section_title": "CLR-Flags",
      "content": "The CLR-Flags AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 7.3.152/1:\nTable 7.3.152/1: CLR-Flags\nBit\nName\nDescription\n0\nS6a/S6d-Indicator (Note 1)\nThis bit, when set, indicates that the CLR message is sent on the S6a interface, i.e. the message is to the MME or the MME part on the combined MME/SGSN.\nThis bit, when cleared, indicates that the CLR message is sent on the S6d interface, i.e. the message is to the SGSN or the SGSN part on the combined MME/SGSN.\n1\nReattach-Required\nThis bit, when set, indicates that the MME or SGSN shall request the UE to initiate an immediate re-attach procedure as described in 3GPP TS 23.401 [2] and in 3GPP TS 23.060 [12].\nNOTE 1: The S6a/S6d-Indicator flag shall be used during initial attach procedure for a combined MME/SGSN. The S6a/S6d-Indicator flag may also be sent to a standalone node.\nNOTE 2: Bits not defined in this table shall be cleared by the sending HSS and discarded by the receiving MME or SGSN.\nNOTE 3: For the purpose of withdrawing \"Aerial UE Subscription\", HSS may send CLR with CLR-Flag set to Reattach-Required.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_7.3.152",
        "ts_23.401",
        "ts_23.060"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.153",
      "section_id": "7.3.153",
      "section_title": "UVR-Flags",
      "content": "The UVR-Flags AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 7.3.154/1:\nTable 7.3.154/1: UVR-Flags\nBit\nName\nDescription\n0\nSkip Subscriber Data\nThis bit, when set, indicates that the CSS may skip subscription data in UVA. If the CSG subscription data has changed in the CSS after the last successful update of the MME/SGSN, the CSS shall ignore this bit and send the updated CSG subscription data.\nBits not defined in this table shall be cleared by the sending MME or SGSN and discarded by the receiving CSS.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_7.3.154"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.154",
      "section_id": "7.3.154",
      "section_title": "UVA-Flags",
      "content": "The UVA-Flags AVP is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 7.3.156/1:\nTable 7.3.156/1: UVA-Flags\nBit\nName\nDescription\n0\nTemporary Empty VPLMN CSG Subscription Data\nThis bit, when set, indicates that the CSS has currently no VPLMN CSG subscription data for this user but has registered the MME or SGSN, so to inform them if later changes in VPLMN CSG subscription data occur.\nBits not defined in this table shall be cleared by the sending MME or SGSN and discarded by the receiving CSS.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_7.3.156"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.155",
      "section_id": "7.3.155",
      "section_title": "VPLMN-CSG-Subscription-Data",
      "content": "The VPLMN-CSG-Subscription-Data AVP is of type Grouped. This AVP shall contain the CSG-Id, and optionally an associated expiration date.\nAVP format\nVPLMN-CSG-Subscription-Data ::= <AVP header: 1641 10415>\n{ CSG-Id }\n[ Expiration-Date ]\n*[AVP]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.156",
      "section_id": "7.3.156",
      "section_title": "Local-Time-Zone",
      "content": "The Local-Time-Zone AVP is of type Grouped and shall contain the Time Zone and the Daylight Saving Time (DST) adjustment of the location in the visited network where the UE is attached.\nThe AVP format shall conform to:\nLocal-Time-Zone ::= <AVP header: 1649 10415>\n{ Time-Zone }\n{ Daylight-Saving-Time }\n* [ AVP ]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.157",
      "section_id": "7.3.157",
      "section_title": "A-MSISDN",
      "content": "The A-MSISDN AVP is of type OctetString. See 3GPP TS 23.003 [3] for the definition of the Additional MSISDN. This AVP contains an A-MSISDN, in international number format as described in ITU-T Rec E.164 [41], encoded as a TBCD-string. See 3GPP TS 29.002 [24] for encoding of TBCD-strings. This AVP shall not include leading indicators for the nature of address and the numbering plan; it shall contain only the TBCD-encoded digits of the address.\nThis AVP may be present in the Subscription-Data AVP when sent within ULA.\nIt may also be present in the Subscription-Data AVP, sent within an IDR, if the current value in the MME or SGSN needs to be changed.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.003",
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.159",
      "section_id": "7.3.159",
      "section_title": "MME-Number-for-MT-SMS",
      "content": "The MME-Number-for-MT-SMS AVP is of type OctetString and it shall contain the ISDN number corresponding to the MME for MT SMS. For further details on the definition of this AVP, see 3GPP TS 23.003 [3]. This AVP contains an international number with the format as described in ITU-T Rec E.164 [41] and shall be encoded as a TBCD-string. See 3GPP TS 29.002 [24] for encoding of TBCD-strings.\tThis AVP shall not include leading indicators for the nature of address and the numbering plan; it shall contain only the TBCD-encoded digits of the address.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.003",
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.162",
      "section_id": "7.3.162",
      "section_title": "SMS-Register-Request",
      "content": "The SMS-Register-Request AVP is of type Enumerated and it shall indicate whether the MME or the SGSN requires to be registered for SMS (e.g. SGs interface not supported) or if the MME or the SGSN prefers not to be registered for SMS or if the MME or the SGSN has no preference.\nThe following values are defined:\nSMS_REGISTRATION_REQUIRED (0)\nSMS_REGISTRATION_NOT_PREFERRED (1)\nNO_PREFERENCE (2)\nThe criteria for setting these values are defined in 3GPP TS 23.272 [44] and 3GPP TS 23.060 [12].\nWhen the MME/SGSN includes the SMS-Register-Request AVP in ULR in order to modify its registration status for SMS, the MME/SGSN shall not set the \"Skip Subscriber Data\" flag within the ULR-Flags AVP.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.272",
        "ts_23.060"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.163",
      "section_id": "7.3.163",
      "section_title": "Time-Zone",
      "content": "The Time-Zone AVP is of type UTF8String and shall contain the time zone of the location in the visited network where the UE is attached.\nIt contains the offset from UTC (Coordinated Universal Time) in units of 15 minutes, as defined in 3GPP TS 22.042 [42]. It shall be expressed as positive (i.e. with the leading plus sign [+]) if the local time is ahead of or equal to UTC of day and as negative (i.e. with the leading minus sign [-]) if it is behind UTC of day.\nThe value contained in the Time-Zone AVP shall take into account daylight saving time, such that when the sending entity changes from regular (winter) time to daylight saving (summer) time, there is a change to the value in the Time-Zone AVP.\nThe contents of the Time-Zone AVP shall be formatted as a character string with the following format:\nBasic format: ±n, with \"n\" being the number of units of 15 minutes from UTC.\nFor example, if the offset is +2h=+8x15mn, the value of the Time-Zone AVP will be: \"+8\".",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_22.042"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.164",
      "section_id": "7.3.164",
      "section_title": "Daylight-Saving-Time",
      "content": "The Daylight-Saving-Time AVP is of type Enumerated and shall contain the Daylight Saving Time (in steps of 1 hour) used to adjust for summertime the time zone of the location where the UE is attached in the visited network.\nThe following values are defined:\nNO_ADJUSTMENT (0)\nPLUS_ONE_HOUR_ADJUSTMENT (1)\nPLUS_TWO_HOURS_ADJUSTMENT (2)",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.165",
      "section_id": "7.3.165",
      "section_title": "Subscription-Data-Flags",
      "content": "The Subscription-Data-Flags is of type Unsigned32 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 7.3.165/1:\nTable 7.3.165/1: Subscription-Data-Flags\nBit\nName\nDescription\n0\nPS-And-SMS-Only-Service-Provision-Indication\nThis bit, when set, indicates that the subscription is for PS Only and permits CS service access only for SMS.\n1\nSMS-In-SGSN-Allowed-Indication\nThis bit, when set, indicates that SMS in SGSN for the user is allowed.\n2\nUser Plane Integrity Protection\nThis bit, when set, indicates that the SGSN may decide to activate integrity protection of the user plane when GERAN is used (see 3GPP TS 43.020 [58]). The MME shall ignore it.\n3\nPDN-Connection-Restricted\nThis bit, when set, indicates to the MME that it shall not establish any non-emergency PDN connection for this user if the MME and the UE supports Attach without PDN connection. The SGSN shall ignore it.\n4\nAcknowledgement-Of-Downlink-NAS-Data PDUs disabled\nThis bit, when set, indicates to the MME that acknowledgement of downlink NAS data PDUs for Control Plane CIoT Optimization is disabled for this UE (even for APN configurations with RDS Indicator set to ENABLED (1)). When not set it indicated to the MME that acknowledgement of downlink NAS data PDUs for Control Plane CIoT Optimization is enabled (for APN configurations with RDS Indicator set to ENABLED (1)) for this UE, which is the default (see 3GPP TS 23.401 [2]).\nThe SGSN shall ignore it.\nNOTE:\tBits not defined in this table shall be cleared by the sender and discarded by the receiver of the command.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_7.3.165",
        "ts_43.020",
        "ts_23.401"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.166",
      "section_id": "7.3.166",
      "section_title": "Measurement-Period-LTE",
      "content": "The Measurement-Period-LTE AVP is of type Enumerated. The possible values are those defined in 3GPP TS 32.422 [23] for Measurement period LTE.",
      "chunk_type": "general",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.167",
      "section_id": "7.3.167",
      "section_title": "Measurement-Period-UMTS",
      "content": "The Measurement-Period-UMTS AVP is of type Enumerated. The possible values are those defined in 3GPP TS 32.422 [23] for Measurement period UMTS.",
      "chunk_type": "general",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.168",
      "section_id": "7.3.168",
      "section_title": "Collection-Period-RRM-LTE",
      "content": "The Collection-Period-RRM-LTE AVP is of type Enumerated. The possible values are those defined in 3GPP TS 32.422 [23] for Collection period for RRM measurements LTE.",
      "chunk_type": "general",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.169",
      "section_id": "7.3.169",
      "section_title": "Collection-Period-RRM-UMTS",
      "content": "The Collection-Period-RRM-UMTS AVP is of type Enumerated. The possible values are those defined in 3GPP TS 32.422 [23] for Collection period for RRM measurements UMTS.",
      "chunk_type": "general",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.170",
      "section_id": "7.3.170",
      "section_title": "Positioning-Method",
      "content": "The Positioning-Method AVP is of type OctetString. It contains one octet carrying a bit map of 8 bits. The possible values are those defined in 3GPP TS 32.422 [23] for Positioning Method.",
      "chunk_type": "general",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.171",
      "section_id": "7.3.171",
      "section_title": "Measurement-Quantity",
      "content": "The Measurement-Quantity AVP is of type OctetString. It contains one octet carrying a bit map of 8 bits. The possible values are those defined in 3GPP TS 32.422 [23] for Measurement quantity.",
      "chunk_type": "general",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.172",
      "section_id": "7.3.172",
      "section_title": "Event-Threshold-Event-1F",
      "content": "The Event-Threshold-Event-1F AVP is of type Integer32. See 3GPP TS 32.422 [23] for allowed values.",
      "chunk_type": "general",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.173",
      "section_id": "7.3.173",
      "section_title": "Event-Threshold-Event-1I",
      "content": "The Event-Threshold-Event-1I AVP is of type Integer32. See 3GPP TS 32.422 [23] for allowed values",
      "chunk_type": "general",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.174",
      "section_id": "7.3.174",
      "section_title": "Restoration-Priority",
      "content": "The Restoration-Priority AVP is of type Unsigned32. It shall indicate the relative priority of a user's PDN connection among PDN connections to the same APN when restoring PDN connections affected by an SGW or PGW failure/restart (see 3GPP TS 23.007 [43]).\nValues 1 to 16 are defined, with value 1 as the highest level of priority.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.007"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.175",
      "section_id": "7.3.175",
      "section_title": "SGs-MME-Identity",
      "content": "The SGs-MME-Identity AVP is of type UTF8String. This AVP shall contain the MME identity used over the SGs interface and specified in 3GPP TS 23.003 [3] clause 19.4.2.4.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.003_clause_19.4.2.4",
        "ts_23.003"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.176",
      "section_id": "7.3.176",
      "section_title": "SIPTO-Local-Network-Permission",
      "content": "The SIPTO-Local-Network-Permission AVP is of type Unsigned32. It shall indicate whether the traffic associated with this particular APN is allowed or not for SIPTO at the local network.\nThe following values are defined:\n\"SIPTO at Local Network ALLOWED\"\t0\n\"SIPTO at Local Network NOTALLOWED\"\t1",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.177",
      "section_id": "7.3.177",
      "section_title": "Coupled-Node-Diameter-ID",
      "content": "The Coupled-Node-Diameter-ID AVP is of type DiameterIdentity. This AVP shall contain the S6a or S6d Diameter identity of the coupled node as specified in 3GPP TS 23.003 [3] clause 19.4.2.4 and clause 19.4.2.6.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.003_clause_19.4.2.4",
        "clause_19.4.2.6",
        "ts_23.003"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.178",
      "section_id": "7.3.178",
      "section_title": "OC-Supported-Features",
      "content": "The OC-Supported-Features AVP is of type Grouped and it is defined in IETF RFC 7683 [50]. This AVP is used to support Diameter overload control mechanism, see Annex C for more information.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.179",
      "section_id": "7.3.179",
      "section_title": "OC-OLR",
      "content": "The OC-OLR AVP is of type Grouped and it is defined in IETF RFC 7683 [50]. This AVP is used to support Diameter overload control mechanism, see Annex C for more information.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.180",
      "section_id": "7.3.180",
      "section_title": "ProSe-Subscription-Data",
      "content": "The ProSe-Subscription-Data AVP is of type Grouped. It shall contain the ProSe related subscription data. It was originally defined in 3GPP TS 29.344 [49].\nAVP format\nProSe-Subscription-Data ::= <AVP header: 3701 10415>\n{ ProSe-Permission }\n*[AVP]",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.344"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.181",
      "section_id": "7.3.181",
      "section_title": "WLAN-offloadability",
      "content": "The WLAN-offloadability AVP is of type Grouped. This AVP contains WLAN offloadability for E-UTRAN or UTRAN.\nAVP format:\nWLAN-offloadability ::= <AVP header: 1667>\n[ WLAN-offloadability-EUTRAN ]\n[ WLAN-offloadability-UTRAN ]\n*[ AVP ]",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.182",
      "section_id": "7.3.182",
      "section_title": "WLAN-offloadability-EUTRAN",
      "content": "The WLAN-offloadability-EUTRAN AVP is of type Unsigned32 and it shall contain a bitmask. The meaning of the bits is defined in table 7.3.182/1:\nTable 7.3.182/1: WLAN-offloadability-EUTRAN\nbit\nname\nDescription\n0\nWLAN offloadability for E-UTRAN\nThis bit, when set, shall indicate that the traffic associated with the APN is allowed to be offloaded to WLAN from E-UTRAN using the WLAN/3GPP Radio Interworking feature. If not set, it means the traffic associated with the APN is not allowed to be offloaded to WLAN from E-UTRAN.\nNOTE:\tBits not defined in this table shall be cleared by the sending HSS and discarded by the receiving MME or SGSN.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_7.3.182"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.183",
      "section_id": "7.3.183",
      "section_title": "WLAN-offloadability-UTRAN",
      "content": "The WLAN-offloadability-UTRAN AVP is of type Unsigned32 and it shall contain a bitmask. The meaning of the bits is defined in table 7.3.183/1:\nTable 7.3.183/1: WLAN-offloadability-UTRAN\nbit\nname\nDescription\n0\nWLAN offloadability for UTRAN\nThis bit, when set, shall indicate that the traffic associated with the APN is allowed to be offloaded to WLAN from UTRAN using the WLAN/3GPP Radio Interworking feature. If not set, it means the traffic associated with the APN is not allowed to be offloaded to WLAN from UTRAN.\nNOTE:\tBits not defined in this table shall be cleared by the sending HSS and discarded by the receiving MME or SGSN..",
      "chunk_type": "requirement",
      "cross_references": [
        "table_7.3.183"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.184",
      "section_id": "7.3.184",
      "section_title": "Reset-ID",
      "content": "The Reset-ID is of type OctetString. The value shall uniquely (within the HSS's realm) identify a resource in the HSS that may fail or has restarted.\nIn the Reset procedure, when used to add/modify/delete subscription data shared by multiple subscribers, the Reset-ID is used to identify the set of affected subscribers.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.185",
      "section_id": "7.3.185",
      "section_title": "MDT-Allowed-PLMN-Id",
      "content": "The MDT-Allowed-PLMN-Id AVP is of type OctetString. This AVP shall contain the concatenation of MCC and MNC. See 3GPP TS 23.003 [3]. The content of this AVP shall be encoded as an octet string according to table 7.3.185/1.\nThis AVP identifies the PLMN in which the MDT data collection shall take place.\nSee 3GPP TS 24.008 [31], clause 10.5.1.13, PLMN list, for the coding of MCC and MNC. If MNC is 2 digits long, bits 5 to 8 of octet 2 are coded as \"1111\".\nTable 7.3.185/1: Encoding format for MDT-Allowed-PLMN-Id AVP\n8\n7\n6\n5\n4\n3\n2\n1\nMCC digit 2\nMCC digit 1\noctet 1\nMNC digit 3\nMCC digit 3\noctet 2\nMNC digit 2\nMNC digit 1\noctet 3",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_24.008_clause_10.5.1.13",
        "table_7.3.185",
        "ts_23.003",
        "ts_24.008"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.186",
      "section_id": "7.3.186",
      "section_title": "Adjacent-PLMNs",
      "content": "The Adjacent-PLMNs AVP is of type Grouped. This AVP shall contain a list of PLMN IDs where an UE served by the MME/SGSN is likely to make a handover from the PLMN where the MME/SGSN is located.\nAVP format:\nAdjacent-PLMNs ::= <AVP header: 1672 10415>\n1*{ Visited-PLMN-Id }\n*[AVP]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.187",
      "section_id": "7.3.187",
      "section_title": "Adjacent-Access-Restriction-Data",
      "content": "The Adjacent-Access-Restriction-Data AVP is of type Grouped. This AVP shall contain a pair of PLMN ID and the associated Access Restriction Data for that PLMN.\nAVP format:\nAdjacent-Access-Restriction-Data ::= <AVP header: 1673 10415>\n{ Visited-PLMN-Id }\n{ Access-Restriction-Data }\n*[AVP]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.188",
      "section_id": "7.3.188",
      "section_title": "DL-Buffering-Suggested-Packet-Count",
      "content": "The DL-Buffering-Suggested-Packet-Count AVP is of type Integer32. It shall indicate whether extended buffering of downlink packets at the SGW, for High Latency Communication, is requested or not. When requested, it may also suggest the number of downlink packets to buffer at the SGW for this user.\nThe following values are defined:\n\"Extended DL Data Buffering NOT REQUESTED\"\t0\n\"Extended DL Data Buffering REQUESTED, without a suggested number of packets\"\t-1\n\"Extended DL Data Buffering REQUESTED, with a suggested number of packets\"\t> 0\n\"Extended DL Data Buffering REQUESTED\", with or without a suggested number of packets to be buffered for this user, indicates that extended buffering of downlink packets at the SGW is applicable to this user.\n\"Extended DL Data Buffering NOT REQUESTED\" indicates that extended buffering of downlink packets at the SGW is not applicable to this user.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.189",
      "section_id": "7.3.189",
      "section_title": "IMSI-Group-Id",
      "content": "The IMSI-Group-Id AVP shall be of type Grouped. This AVP shall contain the information about the IMSI-Group-Id.\nAVP format\nIMSI-Group-Id ::= <AVP header: 1675 10415>\n{ Group-Service-Id }\n{ Group-PLMN-Id }\n{ Local-Group-Id }\n*[AVP]\nFor details see 3GPP TS 23.003 [3], clause 19.9).",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.003_clause_19.9",
        "ts_23.003"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.190",
      "section_id": "7.3.190",
      "section_title": "Group-Service-Id",
      "content": "The Group-Service-Id AVP is of type Unsigned32 and it shall identify the specific service for which the IMSI-Group-Id is used. The  following values are defined:\nTable 7.3.190-1: Group-Service-Id\nValue\nDescription\n1\nGroup specific NAS level congestion control\n2\nGroup specific Monitoring of Number of UEs present in a geographical area\nValues greater than 1000 are reserved for home operator specific use. IMSI-Group-IDs with a Group-Service-Id in this range shall not be sent outside the HPLMN unless roaming agreements allow so.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_7.3.190-1"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.191",
      "section_id": "7.3.191",
      "section_title": "Group-PLMN-Id",
      "content": "The Group-PLMN-Id AVP is of type OctetString. This AVP shall contain the concatenation of MCC and MNC. See 3GPP TS 23.003 [3]. The content of this AVP shall be encoded as an octet string according to table 7.3.191-1.\nSee 3GPP TS 24.008 [31], clause 10.5.1.13, PLMN list, for the coding of MCC and MNC. If MNC is 2 digits long, bits 5 to 8 of octet 2 are coded as \"1111\".\nTable 7.3.191-1: Encoding format for Group-PLMN-Id AVP\n8\n7\n6\n5\n4\n3\n2\n1\nMCC digit 2\nMCC digit 1\noctet 1\nMNC digit 3\nMCC digit 3\noctet 2\nMNC digit 2\nMNC digit 1\noctet 3",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_24.008_clause_10.5.1.13",
        "ts_24.008_table_7.3.191-1",
        "table_7.3.191-1",
        "ts_23.003",
        "ts_24.008"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.192",
      "section_id": "7.3.192",
      "section_title": "Local-Group-Id",
      "content": "The Local-Group-Id AVP is of type OctetString. It shall contain an operator defined value, representing a group.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.193",
      "section_id": "7.3.193",
      "section_title": "AESE-Communication-Pattern",
      "content": "AESE-Communication-Pattern AVP is of type Grouped and is defined in 3GPP TS 29.336 [54].\nAVP format\nAESE-Communication-Pattern ::= <AVP header: 3113 10415>\n[ SCEF-Reference-ID ]\n[ SCEF-Reference-ID-Ext ]\n{ SCEF-ID }\n*[ SCEF-Reference-ID-for-Deletion ]\n*[ SCEF-Reference-ID-for-Deletion-Ext ]\n*[ Communication-Pattern-Set ]\n[ MTC-Provider-Info ]\n*[AVP]\nAt least one reference ID (either in SCEF-Reference-ID or in SCEF-Reference-ID-Ext) or a reference ID for deletion (either in SCEF-Reference-ID-for-Deletion or in SCEF-Reference-ID-for-Deletion-Ext) shall be present.\nWhen the \"Extended Reference IDs\" feature is supported by the HSS and MME/SGSN, the SCEF-Reference-ID-Ext and SCEF-Reference-ID-for-Deletion-Ext AVPs shall be used insted of SCEF-Reference-ID and SCEF-Reference-ID-for-Deletion respectively.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.336"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.194",
      "section_id": "7.3.194",
      "section_title": "Communication-Pattern-Set",
      "content": "Communication-Pattern-Set AVP is of type Grouped and is defined in 3GPP TS 29.336 [54].\nAVP format\nCommunication-Pattern-Set ::= <AVP header: 3114 10415>\n[ Periodic-Communication-Indicator ]\n[ Communication-Duration-Time ]\n[ Periodic-Time ]\n*[ Scheduled-Communication-Time ]\n[ Stationary-Indication ]\n[ Reference-ID-Validity-Time ]\n[ Traffic-Profile ]\n[ Battery-Indicator ]\n*[AVP]\nIf the Reference-ID-Validity-Time AVP is absent, it indicates that there is no expiration time defined for the Communication-Pattern-Set.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.336"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.195",
      "section_id": "7.3.195",
      "section_title": "Monitoring-Event-Configuration",
      "content": "The Monitoring-Event-Configuration AVP is of type Grouped. It shall contain the Monitoring event configuration related subscription data. It is originally defined in 3GPP TS 29.336 [54].\nFor S6a/S6d interface, the Monitoring-Event-Configuration AVP format is specified as following:\nAVP format:\nMonitoring-Event-Configuration ::= <AVP header: 3122 10415>\n[ SCEF-Reference-ID ]\n[ SCEF-Reference-ID-Ext ]\n{ SCEF-ID }\n{ Monitoring-Type }\n*[ SCEF-Reference-ID-for-Deletion ]\n*[ SCEF-Reference-ID-for-Deletion-Ext ]\n[ Maximum-Number-of-Reports ]\n[ Monitoring-Duration ]\n[ Charged-Party ]\n[ UE-Reachability-Configuration ]\n[ Location-Information-Configuration ]\n[ SCEF-Realm ]\n[ External-Identifier ]\n[ MTC-Provider-Info ]\n[ PDN-Connectivity-Status-Configuration ]\n*[ AVP ]\nWhen the Monitoring-Event-Configuration AVP is used over the S6a/S6d interfaces, the SCEF-Realm AVP shall be present and its value shall be obtained by the HSS from the Origin-Realm AVP of the Configuration-Information-Request command conveying the corresponding monitoring event configuration over the S6t interface from the SCEF to the HSS.\nThe Monitoring-Type AVP shall only be taken into account in combination with SCEF-Reference-ID/SCEF-Reference-ID-Ext AVP; Monitoring-Type AVP shall be ignored for deletion of an event (i.e. when SCEF-Reference-ID-for-Deletion/SCEF-Reference-ID-for-Deletion-Ext AVP is present).\nMaximum-Number-of-Reports shall not be present over S6a/S6d interfaces if Monitoring-Type is AVAILABILITY_AFTER_DDN_FAILURE (6).\nMaximum-Number-of-Reports shall not be greater than one over S6a/S6d interfaces if Monitoring-Type is LOCATION_REPORTING (2) and MONTE-Location-Type is LAST_KNOWN_LOCATION (1).\nWhen multiple External Identifiers are defined for the same subscription, the External-Identifier in this grouped AVP, if present, shall contain the specific External Identifier to be associated with this monitoring event; if it is not present, the External Identifier associated with this monitoring event shall be the default External Identifier defined in the subscription (see clause 7.3.2).\nWhen the \"Extended Reference IDs\" feature is supported by the HSS and MME/SGSN, the SCEF-Reference-ID-Ext and SCEF-Reference-ID-for-Deletion-Ext AVPs shall be used insted of SCEF-Reference-ID and SCEF-Reference-ID-for-Deletion respectively.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_7.3.2",
        "ts_29.336"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.196",
      "section_id": "7.3.196",
      "section_title": "Monitoring-Event-Report",
      "content": "The Monitoring-Event-Report AVP is of type Grouped. It shall contain the Monitoring event report data. It is originally defined in 3GPP TS 29.336 [54].\nFor S6a/S6d interface, the Monitoring-Event-Report AVP format is specified as following:\nAVP format:\nMonitoring Event Report::= <AVP header: 3123 10415>\n{ SCEF-Reference-ID }\n[ SCEF-Reference-ID-Ext ]\n[ SCEF-ID ]\n[ Reachability-Information ]\n[ Reachability-Cause ]\n[ EPS-Location-Information ]\n[ Monitoring-Type ]\n[ Loss-Of-Connectivity-Reason ]\n[ Idle-Status-Indication ]\n[ Maximum-UE-Availability-Time ]\n*[ PDN-Connectivity-Status-Report ]\n*[ AVP ]\nFor S6a/S6d interface, when the Monitoring-Type AVP takes the value UE_REACHABILITY (1), the Reachability-Information AVP shall take the value REACHABLE_FOR_DATA (1), and the Reachability-Cause AVP may be present.\nFor S6a/S6d interface, when the Monitoring-Type AVP takes the value PDN_CONNECTIVITY_STATUS (10), the PDN-Connectivity-Status-Report AVP(s) shall contain the list of active PDNs, for the given APN provided in the monitoring event configuration, or for all APNs if no APN was provided; each PDN-Connectivity-Status-Report shall have the PDN-Connectivity-Status-Type set to value \"CREATED (0)\".\nWhen the \"Extended Reference IDs\" feature is supported by the HSS and MME/SGSN, the SCEF-Reference-ID-Ext AVP shall be used insted of SCEF-Reference-ID; in such case, the required AVP \"SCEF-Reference-ID\" shall be included in the grouped AVP by the sender, but its content shall be discarded by the receiver.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.336"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.197",
      "section_id": "7.3.197",
      "section_title": "UE-Reachability-Configuration",
      "content": "The UE-Reachability-Configuration AVP is of type Grouped, and it shall contain the details for configuration for UE reachability. It is originally defined in 3GPP TS 29.336 [54].\nFor S6a/S6d interface, the UE-Reachability-Configuration AVP format is specified as following:\nAVP format:\nUE-Reachability-Configuration::= <AVP header: 3129 10415>\n[ Reachability-Type ]\n[ Maximum-Response-Time ]\n*[ AVP ]\nNOTE:\tWhen a Maximum-Response-Time value is not received from the SCEF, the HSS can send an O&M configured desired active time value within the Maximum-Response-Time AVP.\nFor S6a/S6d interface, the Reachability-Type AVP shall have bit 0 (\"Reachability for SMS\") cleared, and it shall have bit 1 (\"Reachability for Data\") set.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.336"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.198",
      "section_id": "7.3.198",
      "section_title": "eNodeB-ID",
      "content": "The eNodeB-ID AVP is of type OctetString, and indicates the eNodeB in which the UE is currently located. It is originally defined in 3GPP TS 29.217 [56].",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.217"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.199",
      "section_id": "7.3.199",
      "section_title": "Supported-Services",
      "content": "The Supported-Services AVP is of type Grouped and it shall contain the different bit masks representing the services supported by the MME/SGSN:\nAVP format\nSupported-Services::= <AVP header: 3143 10415>\n[ Supported-Monitoring-Events ]\n*[AVP]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.200",
      "section_id": "7.3.200",
      "section_title": "Supported-Monitoring-Events",
      "content": "The Supported-Monitoring-Events AVP is of type Unsigned64 and it shall contain a bit mask. The meaning of the bits shall be as defined in table 7.3.200-1:\nTable 7.3.200 -1: Supported-Monitoring-Events\nBit\nName\nDescription\n0\nUE and UICC and/or new IMSI-IMEI-SV association\nonly used on S6t interface\n1\nUE-reachability\nThis bit shall be set if UE reachability Monitoring event is supported in the MME/SGSN\n2\nLocation-of-the-UE\nThis bit shall be set if Location of the UE and change in location of the UE Monitoring event is supported in the MME/SGSN\n3\nLoss-of-connectivity\nThis bit shall be set if Loss of connectivity Monitoring event is supported in the MME/SGSN\n4\nCommunication-failure\nThis bit shall be set if Communication failure Monitoring event is supported in the MME/SGSN\n5\nRoaming-status\nonly used on S6t interface\n6\nAvailability after DDN failure\nThis bit shall be set if Availability after DDN failure Monitoring event is supported in the MME/SGSN\n7\nIdle Status Indication\nThis bit shall be set if Idle Status Indication reporting is supported in the MME/SGSN\n8\nPDN Connectivity Status\nThis bit shall be set if PDN Connectivity Status monitoring event is supported in the MME/SGSN\nNOTE:\tBits not defined in this table shall be cleared by the sender and discarded by the receiver of the command.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_7.3.200-1",
        "table_7.3.200"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.201",
      "section_id": "7.3.201",
      "section_title": "AIR-Flags",
      "content": "The AIR-Flags AVP is of type Unsigned32 and it shall contain a bitmask. The meaning of the bits is defined in table 7.3.201/1:\nTable 7.3.201/1: AIR-Flags\nbit\nname\nDescription\n0\nSend UE Usage Type\nThis bit, when set, indicates that the MME or SGSN requests the HSS to send the subscription parameter \"UE Usage Type\".\nNOTE:\tBits not defined in this table shall be cleared by the sending MME or SGSN and discarded by the receiving HSS.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_7.3.201"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.202",
      "section_id": "7.3.202",
      "section_title": "UE-Usage-Type",
      "content": "The UE-Usage-Type AVP is of type Unsigned32. This value shall indicate the usage characteristics of the UE that enables the selection of a specific Dedicated Core Network (DCN). See clause 4.3.25 of 3GPP TS 23.401 [2].\nThe allowed values of UE-Usage-Type shall be in the range of 0 to 255.\nValues in the range of 0 to 127 are standardized and defined as follows:\n0:\tSpare, for future use\n…\n127:\tSpare, for future use\nValues in the range of 128 to 255 are operator-specific.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.401_clause_4.3.25",
        "ts_23.401"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.203",
      "section_id": "7.3.203",
      "section_title": "DRMP",
      "content": "The DRMP AVP is of type Enumerated and it is defined in IETF RFC 7944 [57]. This AVP allows the HSS, the CSS, the EIR and the MME/SGSN to indicate the relative priority of Diameter messages. The DRMP AVP may be used to set the DSCP marking for transport of the associated Diameter message.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.204",
      "section_id": "7.3.204",
      "section_title": "Non-IP-PDN-Type-Indicator",
      "content": "The Non-IP-PDN-Type-Indicator AVP is of type Enumerated and indicates whether the APN has a Non-IP PDN type.\nThe following values are defined:\nFALSE (0)\nThis value indicates that the APN does not have a Non-IP PDN type.\nTRUE (1)\nThis value indicates that the APN has a Non-IP PDN type and, in this case, the value indicated by the PDN-Type AVP inside APN-Configuration AVP shall be ignored.\nThe default value when this AVP is not present is FALSE (0).",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.205",
      "section_id": "7.3.205",
      "section_title": "Non-IP-Data-Delivery-Mechanism",
      "content": "The Non-IP-Data-Delivery-Mechanism AVP is of type Unsigned32 and indicates the mechanism to be used for Non-IP data delivery for a given APN. The following values are defined:\nSGi-BASED-DATA-DELIVERY (0)\nThis value indicates that the Non-IP data is delivered via Point-To-Point tunnelling over the SGi interface.\nSCEF-BASED-DATA-DELIVERY (1)\nThis value indicates that the Non-IP data is delivered via the SCEF.\nThe default value when this AVP is not present is SGi-BASED-DATA-DELIVERY (0).",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.206",
      "section_id": "7.3.206",
      "section_title": "Additional-Context-Identifier",
      "content": "The Additional-Context-Identifier AVP is of type Unsigned32 and indicates the identity of another default APN to be used when the subscription profile of the user contains APNs with more than one PDN type among  IP-based PDN types, non-IP PDN types and Ethernet PDN types.",
      "chunk_type": "parameter",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.207",
      "section_id": "7.3.207",
      "section_title": "SCEF-Realm",
      "content": "The SCEF-Realm AVP is of type DiameterIdentity and it shall contain the Diameter realm of the SCEF. For further details on the encoding of this AVP, see IETF RFC 6733 [61].",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.208",
      "section_id": "7.3.208",
      "section_title": "Subscription-Data-Deletion",
      "content": "The Subscription-Data-Deletion AVP is of type Grouped and indicates the shared subscription data that need to be deleted from the subscription profiles of the impacted subscribers.\nAVP format\nSubscription-Data-Deletion ::= <AVP header: 1685 10415>\n{ DSR-Flags }\n[ SCEF-ID ]\n*[ Context-Identifier ]\n[ Trace-Reference ]\n*[ TS-Code ]\n*[ SS-Code ]\n*[ AVP ]",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.209",
      "section_id": "7.3.209",
      "section_title": "Preferred-Data-Mode",
      "content": "The Preferred-Data-Mode AVP is of type Unsigned32 and it shall contain a bitmask. The meaning of the bits is defined in table 7.3.209/1:\nTable 7.3.209/1: Preferred-Data-Mode\nbit\nname\nDescription\n0\nData over User Plane Preferred\nThis bit, when set, shall indicate that the User Plane is preferred for transmitting the traffic associated with the APN. If not set, it means that the User Plane is not preferred for transmitting the traffic associated with the APN.\n1\nData over Control Plane Preferred\nThis bit, when set, shall indicate that the Control Plane is preferred for transmitting the traffic associated with the APN. If not set, it means that the Control Plane is not preferred for transmitting the traffic associated with the APN.\nNOTE 1:\tBits not defined in this table shall be cleared by the sending HSS and discarded by the receiving MME.\nNOTE 2:\tAt least one of the bits 0 and 1 shall be set to 1. Both bits 0 and 1 may be set to 1 to indicate that both User Plane and Control Plane are preferred for transmitting the traffic associated with the APN.\nNOTE 3:\tThis parameter only applies to E-UTRAN and SGi PDN connections. Data over User Plane refers to PDN data transported  over S1-U and Data Radio Bearer. Data over Control Plane refers to PDN data transported over NAS and Signalling Radio Bearer.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_7.3.209"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.210",
      "section_id": "7.3.210",
      "section_title": "Emergency-Info",
      "content": "The Emergency-Info AVP is of type Grouped. It shall contain the identity of the PDN-GW used for the establishment of emergency PDN connections.\nThe AVP format shall conform to:\nEmergency-Info ::= <AVP header: 1687 10415>\n[ MIP6-Agent-Info ]\n*[ AVP ]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.211",
      "section_id": "7.3.211",
      "section_title": "Load",
      "content": "The Load AVP is of type Grouped and it is defined in IETF RFC 8583 [60]. This AVP is used to support Diameter load control mechanism, see Annex F for more information.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.212",
      "section_id": "7.3.212",
      "section_title": "V2X-Subscription-Data",
      "content": "The V2X-Subscription-Data AVP is of type Grouped. It shall contain the V2X related subscription data for the network scheduled LTE sidelink communication..\nAVP format:\nV2X-Subscription-Data ::= <AVP header: 1688 10415>\n[ V2X-Permission ]\n[ UE-PC5-AMBR ]\n*[AVP]\nThe UE-PC5-AMBR AVP within the V2X-Subscription-Data AVP indicates the UE AMBR used for LTE PC5 interface.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.213",
      "section_id": "7.3.213",
      "section_title": "V2X-Permission",
      "content": "The V2X-Permission AVP is of type Unsigned32 and it shall contain a bit mask that indicates the permissions for V2X service subscribed by the user. The meaning of the bits shall be as defined in table 7.3.x2-1:\nTable 7.3.x2-1: V2X-Permission\nBit\nName\nDescription\n0\nAllow V2X communication over PC5 as Vehicle UE\nThis bit, when set, indicates that the user is allowed to use V2X communication over PC5 as Vehicle UE in the serving PLMN.\n1\nAllow V2X communication over PC5 as Pedestrian UE\nThis bit, when set, indicates that the user is allowed to use V2X communication over PC5 as Pedestrian UE in the serving PLMN.\nNOTE:\tBits not defined in this table shall be cleared by the HSS and discarded by the MME.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_7.3"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.214",
      "section_id": "7.3.214",
      "section_title": "PDN-Connection-Continuity",
      "content": "The PDN-Connection-Continuity AVP is of type Unsigned32 and indicates how to handle the PDN connection when the UE moves between \"broadband\" (WB-E-UTRAN, UTRAN) and \"narrowband\" (NB-IoT, GPRS, EC-GSM-IoT). The following values are defined:\nMAINTAIN-PDN-CONNECTION (0)\nDISCONNECT-PDN-CONNECTION-WITH-REACTIVATION-REQUEST (1)\nDISCONNECT-PDN-CONNECTION-WITHOUT-REACTIVATION-REQUEST (2)\nThis AVP corresponds to the \"PDN continuity at inter RAT mobility\" field as defined in 3GPP TS 23.401 [2] table 5.7.1-1.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.401_table_5.7.1-1",
        "ts_23.401"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.215",
      "section_id": "7.3.215",
      "section_title": "eDRX-Cycle-Length",
      "content": "The eDRX-Cycle-Length AVP is of type Grouped. This AVP shall contain an eDRX cycle length, along with the RAT type for which this cycle length is applicable to (e.g. E-UTRAN and NB-IOT).\nAVP format:\neDRX-Cycle-Length ::= <AVP header: 1691 10415>\n{ RAT-Type }\n{ eDRX-Cycle-Length-Value }\n*[ AVP ]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.216",
      "section_id": "7.3.216",
      "section_title": "eDRX-Cycle-Length-Value",
      "content": "The eDRX-Cycle-Length-Value AVP is of type OctetString. This AVP shall contain the extended DRX cycle value subscribed for this user for a given RAT type. The contents of eDRX-Cycle-Length-Value shall consist of 1 octet.\nThe encoding shall be as defined in 3GPP TS 24.008 [31], clause 10.5.5.32, and it shall only contain the value of the field \"eDRX value\" for a given RAT type, i.e., the 4 least significant bits of the octet in this AVP shall contain bits 1-4 of octet 3 in the \"Extended DRX parameter\" IE (see Figure 10.5.5.32 of 3GPP TS 24.008 [31]), and the 4 most significant bits of the octet in this AVP shall be set to 0.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_24.008_clause_10.5.5.32",
        "ts_24.008_figure_10.5.5.32",
        "ts_24.008"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.217",
      "section_id": "7.3.217",
      "section_title": "UE-PC5-AMBR",
      "content": "The UE-PC5-AMBR AVP is of type Unsigned32. It indicates the maximum bits delivered by UE over the PC5 interface within a period of time. The unit of UE-PC5-AMBR is bits/s.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.218",
      "section_id": "7.3.218",
      "section_title": "Extended eNodeB-ID",
      "content": "The Extended eNodeB-ID AVP is of type OctetString, and indicates the eNodeB in which the UE is currently located. It is originally defined in 3GPP TS 29.217 [56].",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.217"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.219",
      "section_id": "7.3.219",
      "section_title": "MBSFN-Area",
      "content": "The MBSFN-Area AVP is of type Grouped. It contains a MBSFN Area ID and a Carrier Frequency (see 3GPP TS 32.422 [23]).\nThe AVP format shall conform to:\nMBSFN-Area ::= <AVP header: 1694 10415>\n[ MBSFN-Area-ID ]\n[ Carrier-Frequency ]\n*[ AVP ]\nIf both MBSFN-Area-ID and Carrier-Frequency values are present, a specific MBSFN area is indicated. If Carrier-Frequency value is present, but MBSFN-Area-ID is absent, all MBSFN areas on that carrier frequency are indicated. If both MBSFN-Area-ID and Carrier-Frequency are absent, any MBSFN area is indicated.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.220",
      "section_id": "7.3.220",
      "section_title": "MBSFN-Area-ID",
      "content": "The MBSFN-Area-ID AVP is of type Unsigned32 and it shall contain the MBSFN Area ID value, in the range of 0..255 (see 3GPP TS 36.331 [62]).",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_36.331"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.221",
      "section_id": "7.3.221",
      "section_title": "Carrier-Frequency",
      "content": "The Carrier-Frequency AVP is of type Unsigned32 and it shall contain the Carrier Frequency value, in the range of 0..262143 (see 3GPP TS 36.331 [62]).",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_36.331"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.222",
      "section_id": "7.3.222",
      "section_title": "RDS-Indicator",
      "content": "The RDS-Indicator AVP is of type Enumerated and indicates whether the Reliable Data Service (RDS) is enabled or disabled for the APN. See 3GPP TS 23.682 [55].\nThe following values are defined:\nDISABLED (0)\nENABLED (1)\nThe default value when this AVP is not present is DISABLED (0).",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.682"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.223",
      "section_id": "7.3.223",
      "section_title": "Service-Gap-Time",
      "content": "The Service-Gap-Time AVP is of type Unsigned32 and indicates the minimum number of seconds during which the UE shall stay in ECM-IDLE mode, after leaving the ECM-CONNECTED mode, before being allowed to send a subsequent connection request to enter ECM-CONNECTED mode again. See description of the Service Gap Control feature in 3GPP TS 23.401 [2].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.401"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.224",
      "section_id": "7.3.224",
      "section_title": "Aerial-UE-Subscription-Information",
      "content": "The Aerial-UE-Subscription-Information AVP is of type Unsigned32 and indicates the subscription of Aerial UE function. The following values are defined:\nAERIAL_UE_ALLOWED (0)\nAERIAL_UE_NOT_ALLOWED (1)\nThis AVP corresponds to the \"Aerial UE subscription information\" information element as defined in 3GPP TS 36.413[19] and TS 36.423 [65].",
      "chunk_type": "general",
      "cross_references": [
        "ts_36.413",
        "ts_36.423"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.225",
      "section_id": "7.3.225",
      "section_title": "Broadcast-Location-Assistance-Data-Types",
      "content": "The Broadcast-Location-Assistance-Data-Types AVP is of type Unsigned64. The content of this AVP is a bit mask which indicates the broadcast location assistance data types for which the UE is subscribed to receive ciphering keys used to decipher broadcast assistance data.\nThe meaning of the bits is defined in table 7.3.225-1:\nTable 7.3.225-1: Broadcast-Location-Assistance-Data-Types\nbit\nname\nDescription\n0\nPositioning SIB Type 1-1\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 1-1.\n1\nPositioning SIB Type 1-2\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 1-2.\n2\nPositioning SIB Type 1-3\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 1-3.\n3\nPositioning SIB Type 1-4\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 1-4.\n4\nPositioning SIB Type 1-5\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 1-5.\n5\nPositioning SIB Type 1-6\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 1-6.\n6\nPositioning SIB Type 1-7\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 1-7.\n7\nPositioning SIB Type 2-1\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 2-1.\n8\nPositioning SIB Type 2-2\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 2-2.\n9\nPositioning SIB Type 2-3\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 2-3.\n10\nPositioning SIB Type 2-4\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 2-4.\n11\nPositioning SIB Type 2-5\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 2-5.\n12\nPositioning SIB Type 2-6\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 2-6.\n13\nPositioning SIB Type 2-7\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 2-7.\n14\nPositioning SIB Type 2-8\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 2-8.\n15\nPositioning SIB Type 2-9\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 2-9.\n16\nPositioning SIB Type 2-10\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 2-10.\n17\nPositioning SIB Type 2-11\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 2-11.\n18\nPositioning SIB Type 2-12\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 2-12.\n19\nPositioning SIB Type 2-13\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 2-13.\n20\nPositioning SIB Type 2-14\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 2-14.\n21\nPositioning SIB Type 2-15\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 2-15.\n22\nPositioning SIB Type 2-16\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 2-16.\n23\nPositioning SIB Type 2-17\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 2-17.\n24\nPositioning SIB Type 2-18\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 2-18.\n25\nPositioning SIB Type 2-19\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 2-19.\n26\nPositioning SIB Type 3-1\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 3-1.\n27\nPositioning SIB Type 1-8\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 1-8.\n28\nPositioning SIB Type 2-20\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 2-20.\n29\nPositioning SIB Type 2-21\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 2-21.\n30\nPositioning SIB Type 2-22\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 2-22.\n31\nPositioning SIB Type 2-23\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type  2-23.\n32\nPositioning SIB Type 2-24\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 2-24.\n33\nPositioning SIB Type 2-25\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 2-25.\n34\nPositioning SIB Type 4-1\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 4-1.\n35\nPositioning SIB Type 5-1\nThis bit, when set, indicates that the UE is subscribed to receive ciphering keys applicable to positioning SIB Type 5-1.\nNOTE:\tBits not defined in this table shall be cleared by the sending HSS and discarded by the receiving MME or SGSN.",
      "chunk_type": "general",
      "cross_references": [
        "table_7.3.225-1"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.226",
      "section_id": "7.3.226",
      "section_title": "Paging-Time-Window",
      "content": "The Paging-Time-Window AVP is of type Grouped. This AVP shall contain the Paging Time Window length, along with the Operation Mode (see clause 7.3.227) for which this time window length is applicable to.\nAVP format:\nPaging-Time-Window ::= <AVP header: 1701 10415>\n{ Operation-Mode }\n{ Paging-Time-Window-Length }\n*[ AVP ]",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_7.3.227"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.227",
      "section_id": "7.3.227",
      "section_title": "Operation-Mode",
      "content": "The Operation-Mode AVP is of type Unsigned32. This value shall indicate the operation mode for which the Paging-Time-Window-Length applies. See clause 3GPP TS 24.008 [31], clause 10.5.5.32.\nThe allowed values of Operation-Mode shall be in the range of 0 to 255.\nValues are defined as follows:\n0:\tSpare, for future use\n1:\tIu mode\n2:\tWB-S1 mode\n3:\tNB-S1 mode\n4 to 255:\tSpare, for future use",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_24.008_clause_3",
        "ts_24.008_clause_10.5.5.32",
        "ts_24.008"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.228",
      "section_id": "7.3.228",
      "section_title": "Paging-Time-Window-Length",
      "content": "The Paging-Time-Window-Length AVP is of type OctetString. This AVP shall contain the Paging time window length subscribed for this user for a given operation mode. The contents of Paging-Time-Window-Length shall consist of 1 octet.\nThe encoding shall be as defined in 3GPP TS 24.008 [31], clause 10.5.5.32, and it shall only contain the value of the field \"Paging Time Window length\" for a given RAT type, i.e., the 4 most significant bits of the octet in this AVP shall contain bits 5-8 of octet 3 in the \"Extended DRX parameter\" IE (see Figure 10.5.5.32 of 3GPP TS 24.008 [31]), and the 4 least significant bits of the octet in this AVP shall be set to 0.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_24.008_clause_10.5.5.32",
        "ts_24.008_figure_10.5.5.32",
        "ts_24.008"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.229",
      "section_id": "7.3.229",
      "section_title": "eDRX-Related-RAT",
      "content": "The eDRX-Related-RAT AVP is of type Grouped. This AVP shall contain the RAT type to which the eDRX Cycle Length is related:\nAVP format\neDRX-Related-RAT ::= <AVP header: 1705 10415>\n1 * { RAT-Type }\n*[AVP]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.230",
      "section_id": "7.3.230",
      "section_title": "Core-Network-Restrictions",
      "content": "The Core-Network-Restrictions AVP is of type Unsigned32 and shall contain a bitmask indicating the types of Core Network that are disallowed for a given user. The meaning of the bits shall be as defined in table 7.3.230-1:\nTable 7.3.230-1: Core-Network-Restrictions\nBit\nName\nDescription\n0\nReserved\nThe use of this bit is deprecated. This bit shall be discarded by the receiving MME.\n1\n5GC not allowed\nAccess to 5GC not allowed.\nNOTE:\tBits not defined in this table shall be cleared by the HSS and discarded by the MME.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_7.3.230-1"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.231",
      "section_id": "7.3.231",
      "section_title": "Interworking-5GS-Indicator",
      "content": "The Interworking-5GS-Indicator AVP is of type Enumerated and indicates whether the interworking between 5GS and EPS is subscribed or not subscribed for the APN. See 3GPP TS 23.502 [67].\nThe following values are defined:\nNOT-SUBSCRIBED (0)\nSUBSCRIBED (1)\nThe default value when this AVP is not present is NOT-SUBSCRIBED (0).",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.232",
      "section_id": "7.3.232",
      "section_title": "Ethernet-PDN-Type-Indicator",
      "content": "The Ethernet-PDN-Type-Indicator AVP is of type Enumerated and indicates whether the APN has an Ethernet PDN type.\nThe following values are defined:\nFALSE (0)\nThis value indicates that the APN does not have an Ethernet PDN type.\nTRUE (1)\nThis value indicates that the APN has an Ethernet PDN type and in this case the value indicated by the PDN-Type AVP inside APN-Configuration AVP shall be ignored.\nThe default value when this AVP is not present is FALSE (0).",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.233",
      "section_id": "7.3.233",
      "section_title": "Subscribed-ARPI",
      "content": "The Subscribed-ARPI AVP is of type Unsigned32 and shall contain the subscribed value of the Additional RRM Policy Index. For details, see 3GPP TS 23.401 [2].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.401"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.234",
      "section_id": "7.3.234",
      "section_title": "IAB-Operation-Permission",
      "content": "The IAB-Operation-Permission AVP is of type Enumerated. It shall indicate to the MME or SGSN whether the UE is allowed for IAB operation. See 3GPP TS 23.401 [2].\nThe following values are defined:\nIAB_OPERATION_ALLOWED (0)\nIAB_OPERATION_NOTALLOWED (1)",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.401"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.235",
      "section_id": "7.3.235",
      "section_title": "V2X-Subscription-Data-Nr",
      "content": "The V2X-Subscription-Data-Nr AVP is of type Grouped. It shall contain the V2X related subscription data for the network scheduled NR sidelink communication.\nAVP format:\nV2X-Subscription-Data-Nr ::= <AVP header: 1710 10415>\n[ V2X-Permission ]\n[ UE-PC5-AMBR ]\n[ UE-PC5-QoS ]\n*[AVP]\nThe UE-PC5-AMBR AVP within the V2X-Subscription-Data AVP indicates the UE AMBR used for NR PC5 interface.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.236",
      "section_id": "7.3.236",
      "section_title": "UE-PC5-QoS",
      "content": "The UE-PC5-QoS AVP is of type Grouped. It shall contain the PC5 QoS parameters for V2X communication over NR PC5 reference point.\nAVP format:\nUE-PC5-QoS ::= <AVP header: 1711 10415>\n1*{ PC5-QoS-Flow }\n[ PC5-Link-AMBR ]\n*[AVP]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.237",
      "section_id": "7.3.237",
      "section_title": "PC5-QoS-Flow",
      "content": "The PC5-QoS-Flow AVP is of type Grouped. It shall contain the QoS parameters for a PC5 flow.\nAVP format:\nPC5-QoS-Flow ::= <AVP header: 1712 10415>\n{ 5QI }\n[ PC5-Flow-Bitrates ]\n[ PC5-Range ]\n*[AVP]",
      "chunk_type": "procedure",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.238",
      "section_id": "7.3.238",
      "section_title": "5QI",
      "content": "The 5QI AVP is of type Integer32. It shall contain the 5QI. See 3GPP TS 23.501 [69] for allowed values.If the 5QI is used in PC5 QoS parameter, it shall contain PQI, PQI is a special 5QI (see clause 5.4.2.1 of 3GPP TS 23.287 [68]).",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.287_clause_5.4.2.1",
        "ts_23.501",
        "ts_23.287"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.239",
      "section_id": "7.3.239",
      "section_title": "PC5-Flow-Bitrates",
      "content": "The PC5-Flow-Bitrates AVP is of type Grouped. It shall contain the PC5 Flow Bit Rates, it's for GBR QoS Flows only.\nAVP format:\nPC5-Flow-Bitrates ::= <AVP header: 1714 10415>\n[ Guaranteed-Flow-Bitrates ]\n[ Maximum-Flow-Bitrates ]",
      "chunk_type": "procedure",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.240",
      "section_id": "7.3.240",
      "section_title": "Guaranteed-Flow-Bitrates",
      "content": "The Guaranteed-Flow-Bitrates AVP is of type Integer32. It indicates the guaranteed bits delivered for the PC5 QoS flow by UE over the PC5 interface within a period of time. The unit of Guaranteed-Flow-Bitrates is bits/s.",
      "chunk_type": "procedure",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.241",
      "section_id": "7.3.241",
      "section_title": "Maximum-Flow-Bitrates",
      "content": "The Maximum-Flow-Bitrates AVP is of type Integer32. It indicates the maximum bits delivered for the PC5 QoS flow by UE over the PC5 interface within a period of time. The unit of Maximum-Flow-Bitrates is bits/s.",
      "chunk_type": "procedure",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.242",
      "section_id": "7.3.242",
      "section_title": "PC5-Range",
      "content": "The PC5-Range AVP is of type Integer32. It indicates the Range in the unit of meters. See clause 5.4.2.4 of 3GPP TS 23.287 [68].",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.287_clause_5.4.2.4",
        "ts_23.287"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.243",
      "section_id": "7.3.243",
      "section_title": "PC5-Link-AMBR",
      "content": "The PC5-Link-AMBR AVP is of type Integer32. It indicates t the PC5 Link Aggregated Bit Rates for all the Non-GBR QoS Flows. The unit of PC5-Link-AMBR is bits/s.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.244",
      "section_id": "7.3.244",
      "section_title": "Third-Context-Identifier",
      "content": "The Third-Context-Identifier AVP is of type Unsigned32 and indicates the identity of another default APN to be used when the subscription profile of the user contains APNs with three PDN types, i.e. IP-based PDN types, non-IP PDN types and Ethernet PDN types.",
      "chunk_type": "parameter",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.3.245",
      "section_id": "7.3.245",
      "section_title": "MDT-Configuration-NR",
      "content": "The MDT-Configuration-NR AVP is of type Grouped. It shall contain MDT related information of NR as specified in 3GPP TS 32.422 [23]. In this version of the specification, only the immediate MDT configurations are included in the IE.\nThe AVP format shall conform to:\nMDT-Configuration-NR ::= <AVP header: 1720 10415>\n{ Job-Type }\n[ Area-Scope ]\n[ List-Of-Measurements ]\n[ Reporting-Trigger ]\n[ Report-Interval ]\n[ Report-Amount ]\n[ Event-Threshold-RSRP ]\n[ Event-Threshold-RSRQ ]\n[ Event-Threshold-SINR ]\n[ Collection-Period-RRM-NR ]\n[ Collection-Period-M6-NR ]\n[ Collection-Period-M7-NR ]\n[ Positioning-Method ]\n*[ Sensor-Measurement ]\n*[ MDT-Allowed-PLMN-Id ]\n*[ AVP ]",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.246",
      "section_id": "7.3.246",
      "section_title": "Event-Threshold-SINR",
      "content": "The Event-Threshold-SINR AVP is of type Unsigned32. See 3GPP TS 32.422 [23] for allowed values.",
      "chunk_type": "general",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.247",
      "section_id": "7.3.247",
      "section_title": "Collection-Period-RRM-NR",
      "content": "The Collection-Period-RRM-NR AVP is of type Enumerated. The possible values are those defined in 3GPP TS 32.422 [23] for Collection period for RRM measurements NR.",
      "chunk_type": "general",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.248",
      "section_id": "7.3.248",
      "section_title": "Collection-Period-M6-NR",
      "content": "The Collection-Period-M6-NR AVP is of type Enumerated. The possible values are those defined in 3GPP TS 32.422 [23] for Collection period M6 in NR.",
      "chunk_type": "general",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.249",
      "section_id": "7.3.249",
      "section_title": "Collection-Period-M7-NR",
      "content": "The Collection-Period-M7-NR AVP is of type Unsigned32. The possible values are those defined in 3GPP TS 32.422 [23] for Collection period M7 in NR in units of minutes.",
      "chunk_type": "general",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.250",
      "section_id": "7.3.250",
      "section_title": "Sensor-Measurement",
      "content": "The Sensor-Measurement AVP is of type Enumerated and shall contain the values defined in 3GPP TS 32.422 [23] for Sensor Information.\nThe following values are defined:\nBAROMETRIC_PRESSURE (0)\nUE_SPEED (1)\nUE_ORIENTATION (2)",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.251",
      "section_id": "7.3.251",
      "section_title": "NR-Cell-Global-Identity",
      "content": "The NR-Cell-Global-Identity AVP is of type OctetString and shall contain the NR Cell Global Identification of the user which identifies the cell the user equipment is registered, as specified in 3GPP TS 23.003 [3]. Octets are coded as described in 3GPP TS 29.002 [24].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.003",
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.3.252",
      "section_id": "7.3.252",
      "section_title": "Trace-Reporting-Consumer-Uri",
      "content": "The Trace-Reporting-Consumer-Uri AVP is of type DiameterURI. For Streaming based Reporting, the possible values are those defined in 3GPP TS 32.422 [23] for Trace Reporting Consumer URI. This AVP shall have priority if both Trace-Collection-Entity AVP and Trace-Reporting-Consumer-Uri AVP are present.",
      "chunk_type": "general",
      "cross_references": [
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.272_7.4.1",
      "section_id": "7.4.1",
      "section_title": "General",
      "content": "This clause defines result code values that shall be supported by all Diameter implementations that conform to this specification.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.4.2",
      "section_id": "7.4.2",
      "section_title": "Success",
      "content": "Result codes that fall within the Success category shall be used to inform a peer that a request has been successfully completed. The Result-Code AVP values defined in the Diameter base protocol IETF RFC 6733 [61] shall be applied.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.4.3",
      "section_id": "7.4.3",
      "section_title": "Permanent Failures",
      "content": "Errors that fall within the Permanent Failures category shall be used to inform the peer that the request has failed, and should not be attempted again. The Result-Code AVP values defined in the Diameter base protocol IETF RFC 6733 [61] shall be applied. When one of the result codes defined here is included in a response, it shall be inside an Experimental-Result AVP and the Result-Code AVP shall be absent.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.4.3.1",
      "section_id": "7.4.3.1",
      "section_title": "DIAMETER_ERROR_USER_UNKNOWN (5001)",
      "content": "This result code shall be sent by the HSS to indicate that the user identified by the IMSI is unknown",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.4.3.2",
      "section_id": "7.4.3.2",
      "section_title": "DIAMETER_ERROR_UNKNOWN_EPS_SUBSCRIPTION (5420)",
      "content": "This result code shall be sent by the HSS to indicate that no EPS subscription is associated with the IMSI.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.4.3.3",
      "section_id": "7.4.3.3",
      "section_title": "DIAMETER_ERROR_RAT_NOT_ALLOWED (5421)",
      "content": "This result code shall be sent by the HSS to indicate the RAT type the UE is using is not allowed for the IMSI.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.4.3.4",
      "section_id": "7.4.3.4",
      "section_title": "DIAMETER_ERROR_ROAMING_NOT_ALLOWED (5004)",
      "content": "This result code shall be sent by the HSS to indicate that the subscriber is not allowed to roam within the MME or SGSN area.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.4.3.5",
      "section_id": "7.4.3.5",
      "section_title": "DIAMETER_ERROR_EQUIPMENT_UNKNOWN (5422)",
      "content": "This result code shall be sent by the EIR to indicate that the mobile equipment is not known in the EIR.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.4.3.6",
      "section_id": "7.4.3.6",
      "section_title": "DIAMETER_ERROR_UNKNOWN_SERVING_NODE (5423)",
      "content": "This result code shall be sent by the HSS to indicate that a Notify command has been received from a serving node which is not registered in HSS as the node currently serving the user.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.4.4",
      "section_id": "7.4.4",
      "section_title": "Transient Failures",
      "content": "Result codes that fall within the transient failures category shall be used to inform a peer that the request could not be satisfied at the time it was received, but may be able to satisfy the request in the future. The Result-Code AVP values defined in the Diameter base protocol IETF RFC 6733 [61]shall be applied. When one of the result codes defined here is included in a response, it shall be inside an Experimental-Result AVP and the Result-Code AVP shall be absent.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.4.4.1",
      "section_id": "7.4.4.1",
      "section_title": "DIAMETER_AUTHENTICATION_DATA_UNAVAILABLE (4181)",
      "content": "This result code shall be sent by the HSS to indicate that an unexpectedly transient failure occurs. The requesting node can try the request again in the future.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_7.4.4.2",
      "section_id": "7.4.4.2",
      "section_title": "DIAMETER_ERROR_CAMEL_SUBSCRIPTION_PRESENT (4182)",
      "content": "This result code shall be sent by the HSS to indicate that the subscriber to be registered has SGSN CAMEL Subscription data.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.272_8",
      "section_id": "8",
      "section_title": "User identity to HSS resolution",
      "content": "The User identity to HSS resolution mechanism enables the MME, SGSN (for non-roaming case) or Diameter Relay/proxy agents in the home network (for roaming case) to find the identity of the HSS that holds the subscriber data for a given user identity when multiple and separately addressable HSSs have been deployed in the home network. The resolution mechanism is not required in networks that utilise a single HSS.\nThis User identity to HSS resolution mechanism may rely on routing capabilitites provided by Diameter and be implemented in the home operator network within dedicated Diameter Agents (Redirect Agents or Proxy Agents) responsible for determining the HSS identity based on the provided user identity. If this Diameter based implementation is selected by the Home network operator, the principles described below shall apply.\nIn non-roaming case, in networks where more than one independently addressable HSS are deployed in the home network, each MME and SGSN shall be configured with the address/identity of a Diameter Agent (Redirect Agent or Proxy Agent) implementing this resolution mechanism.\nFor support of roaming case, Diameter Relay agents and/or Diameter Proxy agents in the home network receiving the Diameter signalling from visited networks shall be configured with the address/identity of a Diameter Agent (Redirect Agent or Proxy Agent) implementing this resolution mechanism.\nTo get the HSS identity that holds the subscriber data for a given user identity in the home network, the Diameter request normally destined to the HSS shall be sent to a pre-configured address/identity of a Diameter agent supporting the User identity to HSS resolution mechanism.\n-\tIf this Diameter request is received by a Diameter Redirect Agent, the Diameter Redirect Agent shall determine the HSS identity based on the provided user identity and shall return a notification of redirection towards the HSS identity, in response to the Diameter request. Multiple HSS identities may be included in the response, as specified in IETF RFC 6733 [61]. In such a case, the requesting Diameter entity shall send the Diameter request to the first HSS identity in the ordered list received in the Diameter response from the Diameter Redirect Agent. If no successful response to the Diameter request is received, the requesting Diameter entity shall send a Diameter request to the next HSS identity in the ordered list. This procedure shall be repeated until a successful response from an HSS is received. After the user identity to HSS resolution, the MME or the SGSN shall store the determined HSS identity/name/Realm and shall use it in further Diameter requests to the same user identity.\n-\tIf this Diameter request is received by a Diameter Proxy Agent, the Diameter Proxy Agent shall determine the HSS identity based on the provided user identity and - if the Diameter load control mechanism is supported (see IETF RFC 8583 [60]) - optionally also based on previously received load values from Load AVPs of type HOST. The Diameter Proxy Agent shall then forward the Diameter request directly to the determined HSS. In this case, the user identity to HSS resolution decision is communicated to the MME/SGSN in the Origin-Host/Origin-Realm AVPs of the response. The MME or the SGSN may store the determined HSS identity/name/Realm and may use it in further Diameter requests to the same user identity.\nIn roaming case, whereas a Diameter Relay Agent is stateless, a stateful Diameter Proxy Agent in the home network may store the determined HSS identity/name/Realm and use it in further Diameter requests associated to the same user identity.\nNOTE:\tAlternatives to the user identity to HSS resolution Diameter based implementation are outside the scope of this specification.\nAnnex A (normative):MME mapping table for S6a and NAS Cause Code values\nWhen the UE initiates Attach, Tracking Area Update or Service Request, there may be the need for the MME to communicate with the HSS via S6a to retrieve authentication data and/or subscription data. If this retrieval is rejected by the HSS, the received Diameter-Result-Code values or Experimental-Result values need to be mapped to appropriate cause codes over NAS to the UE.\nThis mapping shall be as shown in Table A.1.\nIf the retrieval is successful, not needed (e.g. because data are already available) or not possible (e.g. because HSS is unavailable or overloaded), detected error conditions need to be mapped to appropriate cause codes over NAS to the UE.\nThis mapping shall be as shown in Table A.2.\nTable A.1: Mapping from S6a error code to NAS Cause Code values\nReject indication received at MME over S6a\nNAS Cause Code sent to UE\nDIAMETER_ERROR_USER_UNKNOWN (5001)\n#8 \"EPS services and non-EPS services not allowed\"\nDIAMETER_ERROR_UNKNOWN_EPS_SUBSCRIPTION (5420) without Error Diagnostic, or with Error Diagnostic of GPRS_DATA_SUBSCRIBED\n#15 \"No suitable cells in tracking area\"\nDIAMETER_ERROR_UNKNOWN_EPS_SUBSCRIPTION (5420) with Error Diagnostic of NO_GPRS_DATA_SUBSCRIBED\n#7 \"EPS services not allowed\"\nDIAMETER_ERROR_RAT_NOT_ALLOWED (5421)\n#15 \"No suitable cells in tracking area\", or\n#13 \"Roaming not allowed in this tracking area\", or\n#12 \"Tracking area not allowed\"\n(NOTE 1)\nDIAMETER_ERROR_ROAMING_NOT_ALLOWED (5004) , without Error Diagnostic\n#11 \"PLMN not allowed\"\nDIAMETER_ERROR_ROAMING_NOT_ALLOWED (5004), with Error Diagnostic of ODB_HPLMN_APN or ODB_VPLMN_APN\n#14 \"EPS services not allowed in this PLMN\"\nDIAMETER_ERROR_ROAMING_NOT_ALLOWED (5004), with Error Diagnostic of ODB_ALL_APN\n#15 \"No suitable cells in tracking area\"\nDIAMETER_AUTHORIZATION_REJECTED (5003) DIAMETER_UNABLE_TO_DELIVER (3002)\nDIAMETER_REALM_NOT_SERVED (3003)\n#15 \"No suitable cells in tracking area\", or\n#17 \"Network failure\", or\n#42 \"Severe network failure\"\n(NOTE 1)\nDIAMETER_UNABLE_TO_COMPLY (5012),\nDIAMETER_INVALID_AVP_VALUE (5004)\nDIAMETER_AVP_UNSUPPORTED (5001)\nDIAMETER_MISSING_AVP (5005)\nDIAMETER_RESOURCES_EXCEEDED (5006)\nDIAMETER_AVP_OCCURS_TOO_MANY_TIMES (5009)\nDIAMETER_AUTHENTICATION_DATA_UNAVAILABLE (4181)\n(NOTE 2)\n#17 \"Network failure\" or #42 \"Severe network failure\"\n(NOTE 1)\nNOTE 1:\tAny of those NAS Cause Code values may be sent to the UE, depending on operator's choice.\nNOTE 2:\tAny other permanent errors from the Diameter base protocol as defined in IETF RFC 6733 [61], not listed here, should be mapped to NAS Cause Code #17 \"Network failure\".\nTable A.2: Mapping from detected error condition to NAS Cause Code values\nCondition\nNAS cause code sent to UE\nThe MME receives a SGsAP-LOCATION-UPDATE-REJECT message from the VLR indicating in the reject cause \"IMSI unknown in HLR\" or if the UE has packet only subscription. Only used in the Combined Tracking and Location Area Update procedure.\n#2 \"IMSI Unknown in HSS\"\nThe MME receives in Update-Location-Answer message an indication of Roaming restricted in MME due to unsupported feature\n#14 \"EPS services not allowed in this PLMN\"\nThe MME cannot service an UE generated request because CS domain is not available and SMS in MME is not supported.\n#18 \"CS domain not available\"\nThe value OPERATOR_DETERMINED_BARRING is received in the Subscriber-Status AVP\n#15 \"No suitable cells in tracking area\"\nThe HSS indicates that due to subscription to a \"regionally restricted service\" the UE is not allowed to operate in the tracking area.\n#12 \"Tracking area not allowed\"\nThe CSG ID of the cell from where the UE has sent the TRACKING AREA UPDATE REQUEST message is not contained in the Allowed CSG list.\n#25 \"Not authorized for this CSG\"\nThe MME detects that it cannot communicate with the HSS in the HPLMN of the subscriber. How the MME detect this is implementation specific.\n#15 \"No suitable cells in tracking area\"\n#14 \"EPS services not allowed in this PLMN\"\n#111 \"Protocol error, unspecified\"\nNOTE:\tAny of those NAS Cause Code values may be sent to the UE, depending on operator's choice / configuration, e.g. NAS Cause Code #14 is to be sent to the UE if the network is an LTE only network.\nThe MME detects by internal configuration that roaming is not allowed.\n#11 \"PLMN not allowed\"\nThe MME detects that it cannot send a request to the HSS due to HSS overload (see Annex C).\n#22 \"Congestion\"\n#42 \"Severe network failure\"\nNOTE 1: Cause #22 should be used. In addition, the MME may ask the UE not to retry before a backoff timer expires, based on an operator policy. The eventual timer value may take into account the value received in the corresponding active overload report and operator policy.\nNOTE 2: Cause #42 may be used, for attach requests, in case of severe overload, according to operator policy.\nAnnex B(normative):SGSN mapping table for S6d and NAS Cause Code values\nWhen the UE initiates Attach, Routing Area Update or Service Request, there may be the need for the SGSN to communicate with the HSS via S6d to retrieve authentication data and/or subscription data. If this retrieval is rejected by the HSS, the received Diameter-Result-Code values or Experimental-Result valuesneed to be mapped to appropriate cause codes over NAS to the UE.\nNOTE:\tMapping from MAP Gr error codes to NAS Cause Code values  is described in the 3GPP TS 29.010 [45].\nThis mapping shall be as shown in Table B.1.\nIf the retrieval is successful, not needed (e.g. because data are already available) or not possible (e.g. because HSS is unavailable or overloaded), detected error conditions need to be mapped to appropriate cause codes over NAS to the UE.\nThis mapping shall be as shown in Table and B.2.\nTable B.1: Mapping from S6d error code to NAS Cause Code values\nReject indication received at SGSN over S6d\nNAS Cause Code sent to UE\nDIAMETER_ERROR_USER_UNKNOWN (5001)\n#8 \"GPRS services and non-GPRS services not allowed\"\nDIAMETER_ERROR_UNKNOWN_EPS_SUBSCRIPTION (5420)\n#7 \"GPRS services not allowed\"\nDIAMETER_ERROR_RAT_NOT_ALLOWED (5421)\n#15 \"No suitable cells in location area\", or\n#13 \"Roaming not allowed in this location area\", or\n#12 \"Location area not allowed\"\n(NOTE 1)\nDIAMETER_ERROR_ROAMING_NOT_ALLOWED (5004) , without Error Diagnostic\n#11 \"PLMN not allowed\"\nDIAMETER_ERROR_ROAMING_NOT_ALLOWED (5004), with Error Diagnostic of ODB_HPLMN_APN or ODB_VPLMN_APN\n#14 \"GPRS services not allowed in this PLMN\"\nDIAMETER_ERROR_ROAMING_NOT_ALLOWED (5004), with Error Diagnostic of ODB_ALL_APN\n#15 \"No suitable cells in location area\"\nDIAMETER_AUTHORIZATION_REJECTED (5003)\nDIAMETER_UNABLE_TO_DELIVER (3002)\n#15 \"No suitable cells in location area\"\nDIAMETER_UNABLE_TO_COMPLY (5012),\nDIAMETER_INVALID_AVP_VALUE (5004)\nDIAMETER_AUTHENTICATION_DATA_UNAVAILABLE (4181) and no retry takes place\n(NOTE 2)\n#17 \"Network failure\"\nNOTE 1:\tAny of those NAS Cause Code values may be sent to the UE, depending on operator's choice.\nNOTE 2:\tAny other permanent errors from the Diameter base protocol as defined in IETF RFC 6733 [61], not listed here, should be also mapped to NAS Cause Code #17 \"Network failure\".\nTable B.2: Mapping from detected error condition to NAS Cause Code values\nCondition\nNAS cause code to UE\nThe SGSN receives a BSSAP+-LOCATION-UPDATE-REJECT message from the VLR indicating in the reject cause \"IMSI unknown in HLR\" or if the UE has packet only subscription. Only used in the Combined Routing and Location Area Update procedure.\n#2 \"IMSI Unknown in HLR\"\nThe SGSN receives in Update-Location-Answer message an indication of Roaming restricted in SGSN due to unsupported feature\n#14 \"GPRS services not allowed in this PLMN\"\nThe value OPERATOR_DETERMINED_BARRING is received in the Subscriber-Status AVP\n#15 \"No suitable cells in routing area\"\nThe HLR indicates that due to subscription to a \"regionally restricted service\" the MS is not allowed to operate in the location area.\n#12 \"Location area not allowed\"\nThe CSG ID of the cell from where the UE has sent the ROUTING AREA UPDATE REQUEST message is not contained in the Allowed CSG list.\n#25 \"Not authorized for this CSG\"\nThe SGSN indicates that the MS has requested \"SMS-only services\" and the SMS services are provided by the SGSN in the PS domain.\n#28 \"SMS provided via GPRS in this routing area\"\nThe SGSN detects that it cannot communicate with the HLR in the HPLMN of the subscriber. How the SGSN detect this is implementation specific.\n#15 \"No suitable cells in routing area\"\n#14 \"GPRS services not allowed in this PLMN\"\nNOTE:\tAny of those NAS Cause Code values may be sent to the UE, depending on operator's choice / configuration, e.g. NAS Cause Code #14 is to be sent to the UE if the network is an LTE only network.\nThe SGSN detects by internal configuration that roaming is not allowed.\n#11 \"PLMN not allowed\"\nThe SGSN detects that it cannot send a request to the HSS due to HSS overload (see Annex C).\n#22 \"Congestion\".\nIn addition, the MME may ask the UE not to retry before a backoff timer expires, based on an operator policy. The eventual timer value may take into account the value received in the corresponding active overload report and operator policy.\nAnnex C (normative):Diameter overload control mechanism\nC.1\tGeneral\nIETF RFC 7683 [50] specifies a Diameter overload control mechanism which includes the definition and the transfer of related AVPs between Diameter nodes.\nDepending on regional/national requirements and network operator policy, priority traffic (e.g. MPS as described in 3GPP TS 22.153 [52]) shall be exempted from throttling due to Diameter overload control up to the point where requested traffic reduction cannot be achieved without throttling the priority traffic.\nC.2\tS6a/S6d interfaces\nC.2.1\tGeneral\nDiameter overload control mechanism is an optional feature.\nIt is recommended to make use of IETF RFC 7683 [50] on the S6a/S6d interfaces where, when applied, the MME or the SGSN shall behave as reacting nodes and the HSS as a reporting node.\nC.2.2\tHSS behaviour\nThe HSS requests traffic reduction from its clients when the HSS is in an overload situation, including OC-OLR AVP in answer commands as described in IETF RFC 7683 [50].\nThe HSS identifies that it is in an overload situation by implementation specific means. For example, the HSS may take into account the traffic over the S6a/d interfaces or other interfaces, the level of usage of internal resources (CPU, memory), the access to external resources, etc.\nThe HSS determines the specific contents of OC-OLR AVP in overload reports and the HSS decides when to send OC-OLR AVPs by implementation specific means.\nC.2.3\tMME/SGSN behaviour\nThe MME/SGSN applies required traffic reduction received in answer commands to subsequent applicable requests, as per RFC 7683 [50].\nRequested traffic reduction is achieved by the MME/SGSN by implementation specific means. For example, it may implement message throttling with prioritization or a message retaining mechanism for operations that can be postponed.\nDiameter requests related to priority traffic (e.g. MPS as identified by the MME/SGSN through access procedures) and emergency have the highest priority. Depending on regional/national regulatory and operator policies, these Diameter requests shall be the last to be throttled, when the MME/SGSN has to apply traffic reduction. Relative priority amongst various priority traffic (e.g. MPS) and emergency traffic is subject to regional/national regulatory and operator policies.\nAs a result of the need to throttle traffic, the MME or SGSN may reject Attach, Tracking Area Update or Service Requests initiated by UEs. The possible NAS causes are described in the Annex A and B.\nAnnex D (Informative):Diameter overload control node behaviour\nD.1\tMessage prioritisation over S6a/d\nThis clause describes possible behaviours of the MME/SGSN regarding message prioritisation as guidance and for an informative purpose when Diameter overload control is applied over S6a/d.\nWhen the HSS is overloaded, the MME/SGSN will receive overload reports from the HSS requesting a reduction of the requests sent by the MME/SGSN. The following and not exhaustive considerations may be taken into account for the MME/SGSN throttling decisions:\n-\tPrioritisation of requests related to priority traffic (e.g. MPS as identified by the MME/SGSN through access procedures, emergency)\n-\tIdentification of the procedures that can be deferred (e.g. UE reachable notification, purge after a long inactivity time), so to avoid to drop non deferrable procedures;\n-\tPrioritisation of certain types of requests (i.e. between AIR, ULR, PUR, NOR) according to the context of their use, in particular:\n-\tHigher prioritisation of ULR commands when used in relation with mobility management (e.g. handover) for an attached user, so to avoid the interruption of the service for the user;\n-\tLower prioritisation of AIR and ULR commands when related to an initial attach, so to avoid the attachment of new users;\n-\tSkipping of optional authentication (e.g. in TAU procedures).\nAnnex E (normative):Diameter message priority mechanism\nE.1\tGeneral\nIETF RFC 7944 [57] specifies a Diameter routing message priority mechanism that allows Diameter nodes to indicate the relative priority of Diameter messages. With this information, other Diameter nodes may leverage the relative priority of Diameter messages into routing, resource allocation, set the DSCP marking for transport of the associated Diameter message, and also abatement decisions when overload control is applied.\nE.2\tS6a/S6d interfaces\nE.2.1\tGeneral\nThe Diameter message priority mechanism is an optional feature.\nIt is recommended to make use of IETF  RFC 7944 [57] over the S6a/S6d interfaces of an operator network when the overload control defined in Annex C is applied on these S6a/d interfaces.\nE.2.2\tHSS, CSS, EIR behaviour\nWhen the HSS, the CSS or the EIR supports the Diameter message priority mechanism, the HSS, the CSS, or the EIR shall comply with IETF RFC 7944 [57].\nThe HSS or the CSS sending a request shall determine the required priority according to its policies. When priority is required, the HSS or the CSS shall include the DRMP AVP indicating the required priority level in the request it sends, and shall prioritise the request according to the required priority level.\nWhen the HSS or the CSS receives the corresponding response, the HSS or the CSS shall prioritise the received response according to the priority level received within the DRMP AVP if present in the response, otherwise according to the priority level of the corresponding request.\nWhen the HSS, the CSS, or the EIR receives a request, it shall handle the request according to the received DRMP AVP priority level. For the response, the HSS, the CSS, or the EIR may modify the priority level received in the DRMP AVP according to its policies and shall handle the response according to the required priority level.  If the required priority level is different from the priority level received in the request, the HSS, the CSS, or the EIR shall include the DRMP AVP in the response.If:\n-\tthe HSS, the CSS or the EIR supports using the Diameter message priority mechanism for DSCP marking purposes,\n-\tthe transport network utilizes DSCP marking, and\n-\tmessage-dependant DSCP marking is possible for the protocol stack transporting Diameter,\nthen the HSS, the CSS or the EIR shall set the DSCP marking for transport of the request or response according to the required priority level.\nWhen not-explicitly requested, the inclusion and priority value of the DRMP AVP in Diameter messages are implementation specific.\nE.2.3\tMME/SGSN behaviour\nWhen the MME/SGSN supports the Diameter message priority mechanism, the MME/SGSN shall comply with IETF RFC 7944 [57].\nThe MME/SGSN sending a request shall determine the required priority according to its policies. When priority is required, the MME/SGSN shall include the DRMP AVP indicating the required priority level in the request it sends, and shall prioritise the requests according to the required priority level.\nWhen the MME/SGSN receives the corresponding response, it shall prioritise the received response according to the priority level received within the DRMP AVP if present in the response, otherwise according to the priority level of the corresponding request.\nWhen the MME/SGSN receives a request, it shall handle the request according to the received DRMP AVP priority level. For the response, it may modify the priority level received in the DRMP AVP according to its policies and shall handle the response according to the required priority level. If the required priority level is different from the priority level received in the request, it shall include the DRMP AVP in the response.\nIf:\n-\tthe MME/SGSN supports using the Diameter message priority mechanism for DSCP marking purposes,\n-\tthe transport network utilizes DSCP marking, and\n-\tmessage-dependant DSCP marking is possible for the protocol stack transporting Diameter,\nthen the MME/SGSN shall set the DSCP marking for transport of the request or response according to the required priority level.\nDiameter requests related to high priority traffic (e.g. MPS as identified by the MME/SGSN via the RRC Establishment Cause IE set to the highPriorityAccess value as per 3GPP TS 36.413 [19] or through subscription information in the MPS-Priority AVP, emergency) shall contain a DRMP AVP with a high priority of which the level value is operator dependent.\nWhen not-explicitly requested, the inclusion and priority value of the DRMP AVP in Diameter messages are implementation specific.\nAnnex F (normative):Diameter load control mechanism\nF.1\tGeneral\nIETF RFC 8583 [60] specifies a mechanism for sharing of Diameter load information. It includes the definition and the transfer of related AVPs between Diameter nodes.\nF.2\tS6a/S6d interfaces\nF.2.1\tGeneral\nDiameter load control mechanism is an optional feature.\nIt is recommended to make use of IETF RFC 8583 [60] on the S6a/S6d interfaces where, when applied, the MME or the SGSN shall behave as receiving nodes and the HSS as a reporting node.\nF.2.2\tHSS behaviour\nThe HSS may report its current load by including a Load AVP of type HOST in answer commands as described in IETF RFC 8583 [60].\nThe HSS calculates its current load by implementation specific means. For example, the HSS may take into account the traffic over the S6a/d interfaces or other interfaces, the level of usage of internal resources (CPU, memory), the access to external resources, etc.\nThe HSS determines when to send Load AVPs of type HOST by implementation specific means.\nF.2.3\tMME/SGSN behaviour\nWhen performing next hop Diameter Agent selection for requests that are routed based on realm, the MME/SGSN may take into account load values from Load AVPs of type PEER received from candidate next hop Diameter nodes, as per IETF RFC 8583 [60].\nAnnex G (informative):Change history\nDate\nTSG #\nTSG Doc.\nCR\nRev\nCat\nSubject/Comment\nNew\n2008-09\nCT#41\nCP-080475\nV2.0.0 approved in CT#41\n8.0.0\n2008-12\nCT#42\nCP-080691\n0001\n1\nS6a Vendor-Specific-Application-Id AVP\n8.1.0\nCP-080691\n0002\n1\nRegSub feature\nCP-080691\n0005\n-\nClarification on Immediate-Response-Preferred\nCP-080691\n0006\n1\nCorrection of the Reference of Supported Features\nCP-080691\n0007\n-\nDefinition of RAT-Frequency-Selection-Priority\nCP-080691\n0008\n2\nME Identity Check\nCP-080703\n0009\n2\nGr alignment\nCP-080971\n0010\n3\nClosed Subscriber Group\nCP-080691\n0011\n-\nAVP codes\nCP-080691\n0012\n1\nMSISDN AVP\nCP-080691\n0013\n-\nResult codes\nCP-080691\n0014\n-\nRemoval of Editor's note in ULA Flag\nCP-080691\n0015\n2\nDuplicated AMBR AVP and Use of Called-Station-Id\nCP-080691\n0017\n-\nChange of AVP to carry the APN information\nCP-080691\n0018\n1\nReference to 3GPP-Charging-Characteristics\nCP-080691\n0019\n-\nAccess Restriction Data Definition\nCP-080691\n0020\n-\nAMBR Definition\nCP-080691\n0021\n1\nAVPs Encoding\nCP-080691\n0022\n1\nPDN-GW Delete\nCP-080691\n0023\n1\nRequesting Node Type Clarification\nCP-080691\n0024\n-\nAuthn Session State AVP\nCP-080691\n0026\n2\nTrace Session Activation and Deactivation\nCP-080691\n0027\n1\nContext-Identifier in APN-Configuration-Profile\nCP-080691\n0029\n-\nAPN-OIReplacement\nCP-080703\n0032\n-\nAccess Restriction\nCP-080691\n0033\n1\nContext Identifier clarification\nCP-080691\n0034\n1\nAPN-Configuration correction\nCP-080691\n0037\n-\nRemoval of Supported RAT Types\nCP-080691\n0039\n1\nExtension of the Terminal-Information AVP for non-3GPP accesses\nCP-080691\n0040\n-\nConditionality of ULA-Flags and PUA-Flags AVPs\nCP-080691\n0042\n-\nWrong Description for Complete APN Configuration Profile Withdrawal\nCP-080691\n0043\n-\nPurge UE Detailed Behaviour\nCP-080691\n0044\n1\nMME/SGSN area restricted flag cleanup\n-\nTS number in cover page corrected\n8.1.1\n2009-03\nCT#43\nCP-090056\n0048\n2\nContext Identifier for Update or Removal of PDN GW\n8.2.0\nCP-090046\n0049\n-\nClarification of the relationship between Subscriber-Status and ODB\nCP-090046\n0051\n2\nContext-Identifier in APN-Configuration-Profile\nCP-090024\n0052\n-\nUpdate of the AVP Codes\nCP-090236\n0053\n2\nPDN GW update for Wildcard APN\nCP-090044\n0054\n1\nReady for SM\nCP-090046\n0055\n-\nODB for SM\nCP-090044\n0056\n2\nHandling LCS Subscription Data\nCP-090046\n0057\n2\nCharging Characteristics\nCP-090046\n0058\n2\nRegional-Subscription-Zone-Code AVP Correction\nCP-090046\n0059\n2\nTrace Depth corrections\nCP-090046\n0060\n2\nDelete Subscriber Data Request procedure\nCP-090046\n0063\n1\nCoding definition for STN-SR\nCP-090046\n0064\n-\nTrace Reference in DSR\nCP-090046\n0065\n1\nDSR-Flags\nCP-090046\n0066\n2\nClarification on All-APN-Configurations-Included-Indicator\nCP-090046\n0069\n-\nUser-Name AVP contains only the IMSI\nCP-090046\n0070\n1\nMIP6-Agent-Info Definition and Usage\nCP-090046\n0075\n1\nAllocation Retention Priority\nCP-090046\n0076\n1\nAPN includes only the Network Identifier\nCP-090046\n0077\n-\nError Codes and ABNF Corrections\nCP-090039\n0078\n4\nUser to HSS resolution\nCP-090046\n0079\n1\nIntroducing the Trace-Collection-Entity AVP\nCP-090046\n0081\n4\nUsage of Immediate-Response-Preferred AVP\nCP-090044\n0082\n3\nHandling SMS Subscription Data\nCP-090046\n0083\n-\nSCTP version\nCP-090046\n0084\n-\nRFC 5447 References\n2009-06\nCT#44\nCP-090287\n0086\n1\nNotification of SMS over IP Non-Delivery for E-UTRAN and UE Reachability\n8.3.0\nCP-090287\n0087\n1\nCoding of Immediate Response Preferred AVP\nCP-090287\n0088\n-\nTrace Event List\nCP-090287\n0089\n-\nRemoval of Requesting Node Type from AIR\nCP-090287\n0091\n-\nRegional-Subscription-Zone-Code clarification\nCP-090287\n0092\n-\nClarification of PLMN encoding\nCP-090287\n0093\n-\nDiameter Command Codes for S6a/S6d/S13/S13'\nCP-090287\n0094\n-\nUpdate of Diameter Codes\nCP-090287\n0095\n1\nFormatting of APN in Service-Selection AVP\nCP-090378\n0096\n3\nUser Data Download Indication\nCP-090315\n0097\n-\nUsage of Single-Registration-Indication\nCP-090495\n0098\n3\nULR processing enhancement\n2009-09\nCT#45\nCP-090531\n0100\n2\nCorrection on APN-OI-Replacement\n8.4.0\nCp-090726\n0101\n3\nGPRS subscription data over S6d\nCP-090531\n0102\n1\nUsage of DIAMETER_ERROR_UNKNOWN_EPS_SUBSCRIPTION\nCP-090531\n0103\n6\nCancel Location for Initial Attach\nCP-090531\n0104\n4\nSubscriber Data Update\nCP-090531\n0105\n1\nUsage of Single Registration Indication\nCP-090531\n0106\n2\nCharging Characteristics Reference\nCP-090531\n0107\n1\nAlerting Reason Behaviour\nCP-090531\n0108\n1\nWildcard APN\nCP-090531\n0109\n-\nSubscriber's NAM\nCP-090531\n0111\n-\nTrace ID length correction\nCP-090531\n0112\n1\nSubscription-Data AVP in Update Location Answer\nCP-090531\n0113\n1\nDefault values for Allocation Retention Priority AVP\nCP-090531\n0114\n-\nDefault APN and Wildcard APN\nCP-090531\n0115\n2\nCorrection in behavior of DSR-Flags\nCP-090531\n0116\n1\nPDN Type\nCP-090531\n0118\n1\nClarification on the process of skip subscriber data flag in the HSS\nCP-090532\n0119\n1\nCorrections on IDR ABNF and Service Type AVP\nCP-090532\n0120\n1\nTS-Code AVP is missing in DSR command\nCP-090532\n0123\n1\nCleanup of the TS\nCP-090532\n0124\n1\nFormat of User-Id\nCP-090532\n0125\n1\nGPRS Subscription Data Update\nCP-090532\n0126\n2\nAPN-Configuration-Profile\nCP-090532\n0128\n1\n3GPP2-MEID AVP\nCP-090532\n0129\n1\nMIP6-Agent-Info AVP\nCP-090532\n0130\n-\nAlignment of Supported Feature concept with 29.229\nCP-090532\n0133\n1\nEPS Subscribed QoS\nCP-090532\n0137\n1\nRestruction of the TS 29.272\nCP-090532\n0138\n1\nTrace Depth per session\nCP-090532\n0140\n-\nClarification of Unsigned32 bit flag AVPs\nCP-090532\n0141\n1\nExtra Regional-Subscription-Zone-Codes\nCP-090532\n0142\n1\nClarification of Service-Selection AVP encoding\nCP-090532\n0143\n1\nUser to HSS identity resolution for Diameter Proxy Agents\nCP-090532\n0144\n-\nRFSP coding\n2009-09\nCT#45\nCP-090556\n0122\n3\nOptimization of Subscriber Data Update\n9.0.0\nCP-090562\n0131\nEmergency Support in S6a\n2009-12\nCT#46\nCP-091030\n0148\n4\nClarification on Some Subscription Data List Handling in MME/SGSN\n9.1.0\nCP-090793\n0149\n1\nAPN level APN-OI-Replacement\nCP-090800\n0150\n2\nICS-Flag\nCP-090767\n0152\n2\nRFSP alignment in 29.272\nCP-090801\n0153\n1\nNotify Request for Emergency Attached UEs\nCP-090767\n0155\n2\nWildcard APN\nCP-090767\n0157\n1\nLifetime of Charging Characteristics after Change\nCP-091030\n0159\n2\nCorrection on the UE initiated detach procedure\nCP-090767\n0163\n2\nFQDN for S6a NOR\nCP-090767\n0165\n-\nHPLMN-ODB AVP correction\nCP-091032\n0167\nFrom GMLC-Address to GMLC-Number\nCP-091030\n0171\n1\nStatic PDN GW\nCP-091030\n0177\n1\nClarification on Usage of Re-Synchronization-Info AVP\nCP-091030\n0179\n1\nClarification on the Number of PDP-Contexts in the GPRS-Subscription-Data AVP\nCP-090767\n0185\n-\nAPN-Configuration-Profile usage in IDR\nCP-091030\n0187\n2\nIMEI encoding\nCP-091030\n0189\n1\nAPN-Configuration Service-Selection values\nCP-091030\n0191\n1\nQoS attributes\nCP-090789\n0196\n1\nSubscription-Data clarification for UE Reachability\nCP-091030\n0198\n2\nVendor Specific Application ID\nCP-090776\n0200\n1\nDestination Realm\nCP-090767\n0202\n-\nCorrection to fault recovery procedure and ME identity check procedure\nCP-090767\n0204\n-\nReference of 3GPP-Charging-Characteristics\nCP-090767\n0206\n-\nReset procedure MME/SGSN behavior\n2010-03\nCT#47\nCP-100020\n0181\n2\nCorrection to Purge UE Detailed Behaviour\n9.2.0\nCP-100020\n0210\nHPLMN ODB\nCP-100048\n0211\n2\nTADS support in S6a/S6d\nCP-100020\n0217\nCancellation-Type clarifications\nCP-100020\n0219\n1\nIETF References update\nCP-100020\n0221\nStatic PDN GW\nCP-100046\n0222\n1\nAddition of V-GMLC address for S6a\nCP-100020\n0223\n1\nHandling of UE Reachability MME Parameter\nCP-100020\n0227\nIndication of PLMN ID of the selected PGW\nCP-100040\n0228\nContext-Identifier in NOR\nCP-100235\n0230\n5\nEPS Subscriber State and Location Information Request\nCP-100040\n0233\n1\nReset to Combined MME/SGSN\nCP-100040\n0234\n1\nNOR-Flags correction\nCP-100040\n0236\n2\nIndication of LCS Capabilities support over S6a/S6d\nCP-100040\n0238\n1\nFix ambiguity on context id AVP\n2010-06\nCT#48\nCP-100264\n0241\n1\nService-Selection values\n9.3.0\n0243\n1\nMIP6-Agent-Info\n0245\n2\nFix ambiguity on usage of the Supported-Features AVP\n0260\n1\nCorrection of Context-Identifier\nCP-100277\n0247\n1\nDynamic information update after a Reset procedure\n0248\n1\nNotify command from unknown MME\nCP-100416\n0249\n4\nS6a Error Codes\nCP-100279\n0258\n3\nURRP for SGSN\nCP-100265\n0262\n3\nMME mapping between Diameter error codes and NAS Cause Code values\n2010-09\nCT#49\nCP-100456\n0268\n1\nRestoration of the SGSN Number in the VLR\n9.4.0\nCP-100457\n0272\nQoS-Subscribed\nCP-100457\n0273\nTrace-Reference AVP encoding\nCP-100457\n0284\nUsage of MIP-Home-Agent-Host AVP\nCP-100457\n0285\nCorrection on HSS behaviour about IMEI\nCP-100577\n0275\n2\nNAS Cause Code values\nCP-100463\n0276\nLCS Privacy Features for MME\nCP-100443\n0281\n2\nCorrection to Delete Subscriber Data for SGSN\nCP-100443\n0283\n1\nUnclear Cancel-Type Setting for Single Registration and Initial Attach\n2010-09\nCT#49\nCP-100465\n0267\n1\nAddition of SIPTO permissions in PS subscription data\n10.0.0\n2010-10\nCT#50\nCP-100689\n0324\n1\nHSS Error Returned due to ODB\n10.1.0\nCP-100689\n0316\n1\nClarification on Access Restriction Data\nCP-100698\n0297\n1\nRemoval of Notify Messages during detach or last PDN connection deactivation via 3GPP access\nCP-100679\n0303\n1\nUsage of Served Party IP Address AVP inside the APN Configuration\nCP-100679\n0305\n1\nUsage of APN-OI-Replacement AVP\nCP-100679\n0307\nAMBR clarification\nCP-100679\n0308\nStore HSS Identity in MME/SGSN after successful ULA\nCP-100679\n0315\n3\nFix ambiguity in the LCS related indication\nCP-100679\n0327\n2\nUnknown EPS Subscription\nCP-100688\n0325\n1\nPeriodic TAU/RAU timer in HSS subscription\nCP-100707\n0313\n1\nCorrection of Restoration flag\nCP-100707\n0319\nDefault APN and Wildcard APN\nCP-100707\n0322\n1\nUsage of PGW Allocation Type AVP\nCP-100699\n0323\nUsage of STN-SR AVP\nCP-100699\n0291\n3\nEnhanced SRVCC\nCP-100687\n0290\n4\nAddition of MPS Priority in Subscription Data\nCP-100683\n0289\n1\nAddition of LIPA permission in Subscription Data\nCP-100684\n0288\n1\nSIPTO Permission for Wildcard APN\n2011-03\nCT#51\nCP-110087\n0329\n2\nMinimization of Drive Tests (MDT)\n10.2.0\nCP-110042\n0330\n2\nFeature Flags for UE Reachability Notification and State/Location Info Retrieval\nCP-110042\n0337\n3\nCorrection of error cause handling\nCP-110042\n0339\n2\nSetting of M bit AVP flag\nCP-110042\n0343\n1\nAMBR Correction\nCP-110073\n0332\n2\nCorrection on PGW PLMN ID\nCP-110088\n0334\n2\nRelay Node Indicator\nCP-110051\n0346\n1\nPDP Address correction\nCP-110051\n0351\n2\nAmbiguity in IDR flags\nCP-110051\n0353\nHomogeneous Support for IMS Voice over PS AVP missing\n2011-06\nCT#52\nCP-110351\n0362\nSGSN-Number AVP correction\n10.3.0\nCP-110380\n0357\n2\nMDT user consent\nCP-110375\n0363\n1\nPurge from Combined MME/SGSN\n2011-09\nCT#53\nCP-110562\n0372\n1\nActive-APN AVP definition\n10.4.0\nCP-110562\n0374\nContext-Identifier when interworking with GTPv1\nCP-110562\n0380\n1\nAPN-AMBR for GPRS\nCP-110565\n0377\nCorrection on DIAMETER_AUTHORIZATION_REJECTED\nCP-110699\n0381\nCorrection of implementation error in TS 29.272, CR 324\n2011-09\nCT#53\nCP-110581\n0369\n2\nBehaviour of HSS in abnormal case of Immediate-Response-Preferred AVP\n11.0.0\nCP-110584\n0370\n3\nAdd vSRVCC updates to the S6a interface\n2011-12\nCT#54\nCP-110787\n0390\n1\nUnknown EPS Subscription over S6d/S6a\n11.1.0\nCP-110811\n0387\n2\nEquivalent PLMN CSG Subscription Request\nCP-110787\n0397\n1\nM-bit Handling\n2012-03\nCT#55\nCP-120023\n0409\n1\nGMLC-Number format\n11.2.0\nCP-120025\n0399\n3\nInitial Attach Indication in CLR\nCP-120029\n0406\nT-ADS data request for detached UE\nCP-120029\n0410\n1\nRemoval of Subscribed Periodic TAU/RAU timer in HSS subscription\nCP-120037\n0400\nClarification on UE-SRVCC-Capability AVP in ULR\nCP-120037\n0402\nODB clarification\nCP-120037\n0403\n2\nS6a location reporting\n2012-06\nCT#56\nCP-120240\n0401\n3\nCSG ID and Local Time for NPLI\n11.3.0\nCP-120413\n0415\n4\nReady for SM in MME\nCP-120249\n0418\n1\nULR handling for combined MME/SGSN\nCP-120249\n0419\nClarification on Update of PGW ID\n2012-09\nCT#57\nCP-120476\n0382\n10\nVCSG procedures over S7a/S7d\n11.4.0\nCP-120476\n0394\n5\nDelete CSG subscription Data over S7a /S7d\nCP-120476\n0416\n4\nVCSG Reset procedure over S7a/S7d\nCP-120481\n0404\n5\nPS additional number over S6a/S6d\nCP-120462\n0421\n-\nSingle Registration Indication\nCP-120462\n0422\n-\nZone Codes\nCP-120462\n0423\n-\nClarification on Notification of UE Reachability\nCP-120462\n0428\n-\nCSG-Subscription-Data replacement\nCP-120462\n0430\n1\nUpdate of Homogeneous Support of IMS Over PS Sessions\nCP-120462\n0434\n2\nMapping S6a and NAS cause code\nCP-120473\n0429\n4\nSMS in MME\nCP-120473\n0432\n1\nSMS in SGSN\nCP-120480\n0433\n2\nLocal Time Zone\n2012-12\nCT#58\nCP-120722\n0441\n1\nUser-CSG-Information\n11.5.0\nCP-120713\n0457\n1\nSGSN-Number AVP\nCP-120740\n0436\n1\nApplication ID for S7a/S7d\nCP-120740\n0443\n2\nEmpty VCSG Subscription Data\nCP-120742\n0438\n1\nNotification Procedure clarification for UE with Emergency Bearer Services\nCP-120742\n0445\n-\nInclusion of APN-OI Replacement in PDP Context\nCP-120742\n0450\n-\nCorrection in the chapter of Reset-Answer (RSA) command\nCP-120742\n0452\n1\nUE Time Zone\nCP-120742\n0453\n1\nCorrections to Local Time Zone\nCP-120742\n0454\n2\nClarification on IDR-Flags\nCP-120742\n0455\n-\nCorrection of General Description of Delete Subscriber Data\nCP-120742\n0458\n-\nDSR-Flags\nCP-120742\n0461\n1\nWrong implementation of the Daylight-Saving-Time AVP\nCP-120736\n0446\n1\nA-MSISDN Correction\nCP-120732\n0447\n1\nMME network condition to NAS cause code mapping\nCP-120732\n0448\n2\nSGSN network condition to NAS cause code mapping\nCP-120732\n0449\n3\nMME de-registration for \"SMS in MME\"\nCP-120732\n0451\n1\nCorrection on Update Location Request\nCP-120732\n0459\n1\nAlignment of stage 3 SMS in MME with stage 2\nCP-120741\n0460\n1\nUse of Flag instead of Enumerated AVPs\n2013-03\nCT#59\nCP-130022\n0466\n-\nCorrections to wrong references and command/AVP name\n11.6.0\nCP-130022\n0467\n1\nUpdate to Subscription-Data-Flags\nCP-130022\n0471\n1\nValues not allowed for QCI over S6a/S6d\nCP-130022\n0472\n1\nCause Code Mapping\nCP-130022\n0470\n1\nRegistration for SMS Request for SMS in SGSN\nCP-130025\n0474\n-\nMDT parameters\n2013-03\nCT#59\nCP-130031\n0442\n3\nCheck of Serving Node for S6a Security\n12.0.0\nCP-130031\n0468\n1\nMME name encoding over S6a\nCP-130156\n0475\n1\nSGSN indicating support of Lgd interface to HSS\n2013-06\nCT#60\nCP-130380\n0490\n1\nRemoval of SMS-Only AVP and Typo Corrections on Some AVP Definitions\n12.1.0\nCP-130380\n0501\n2\nMME identity for restoration procedures\nCP-130380\n0492\n1\nDefinition of A New Feature-List\nCP-130380\n0488\n1\nUE-SRVCC-Capability Update Clarification\nCP-130380\n0483\n-\nReset clarification\nCP-130380\n0481\n2\nAIR rejection\nCP-130380\n0479\n1\nStoring Last known Location Information of purged UE in HSS\nCP-130380\n0512\n1\nMaximum value for the subscribed periodic RAU TAU timer\nCP-130279\n0497\n1\nDefinition of SS Status for Call Barring\nCP-130378\n0489\n2\nSIPTO permission for Local Network enhancements\nCP-130288\n0487\n-\nPS Location Info request with RAT-type\nCP-130309\n0482\n-\nCSS clarification\nCP-130295\n0478\n-\nRestoration Priority during SGW and PGW restoration procedures\nCP-130410\n0508\n1\nHSS handling of T-ADS for detached subscriber\n2013-09\nCT#61\nCP-130444\n0515\n-\nCorrection to the restoration priority levels during SGW and PGW restoration procedures\n12.2.0\nCP-130450\n0517\n-\nHPLMN-ODB Correction\nCP-130463\n0518\n2\nCancelLocation requesting reattach\nCP-130456\n0519\n1\nIndication of Gdd support over S6d\nCP-130461\n0520\n2\nHomogeneous Support Of Voice over IP\nCP-130461\n0521\n1\nDefinition of User-State values\nCP-130461\n0522\n1\nContext Identifier Range Inconsistency\n2013-12\nCT#62\nCP-130611\n0528\n1\nAddtion of S6aS6d-Indicator in NOR\n12.3.0\nCP-130617\n0533\n1\nMME Initiated Removal of MME Registration for SMS\nCP-130624\n0523\n1\nCombined MME/SGSN indicating the support for optimized LCS procedure\nCP-130624\n0526\n1\nClarification on Description of Features for LCS\nCP-130644\n0525\n1\nSMS in MME\nCP-130623\n0529\n1\nAlert Service Center sent over S6c\nCP-130632\n0530\n1\nPurge Clarification\nCP-130639\n0531\n1\nSGSN CAMEL Subscription Indication\n2014-03\nCT#63\nCP-140035\n0534\n2\nClarification on Current-Location-Retrieved and Age-of-Location-Information\n12.4.0\nCP-140035\n0536\n3\nMechanism to determine if the UE is served by the MME and SGSN parts of the same combined MME/SGSN\nCP-140035\n0537\n-\nCall-Barring-Info AVP\nCP-140035\n0538\n-\nMissing SGs-MME-Identity AVP in the ULR\n2014-06\nCT#64\nCP-140257\n0544\n1\nSS-Status AVP Definition\n12.5.0\nCP-140264\n0555\n3\nCause Mapping for ODB\nCP-140264\n0556\n2\nNOR Error User Unknown\nCP-140254\n0557\n1\nEnhancement for ProSe\nCP-140413\n0558\n-\nCorrection on SGSN CAMEL Capability in Supported-Features\nCP-140243\n0540\n5\nDiameter overload control mechanism\nCP-140243\n0559\n1\nDiameter overload  over S6a/d\n2014-09\nCT#65\nCP-140523\n0564\n2\nClarification on ProSe Subscription Data\n12.6.0\nCP-140514\n0565\n2\nWLAN offloadability defined in HSS\nCP-140506\n0567\n2\nP-CSCF Restoration Indication\n2014-12\nCT#66\nCP-140772\n0569\n2\nReset-ID\n12.7.0\nCP-140772\n0581\n3\nM-bit setting of Supported-Features AVP\nCP-140764\n0571\n-\nMDT PLMN List\nCP-140764\n0580\n1\nS6a/S6d-Indicator in NOR\nCP-140790\n0575\n1\nPriority Consideration for Diameter Overload Control\n2014-12\nCT#66\nCP-140765\n0574\n2\nRoaming Subscription Corresponding to Specific RAT\n13.0.0\nCP-140759\n0578\n2\nStored HSS Identity for HSS Restoration Procedure\n2015-03\nCT#67\nCP-150035\n0582\n1\nClarification on the usage of SV in IMEI check procedure\n13.1.0\n2015-06\nCT#68\nCP-150265\n0583\n1\nCleanup and small error corrections\n13.2.0\nCP-150263\n0584\n2\nAccess Restriction Data per PLMN\nCP-150279\n0585\n1\nAlignment of using ProSe and ProSe services\n2015-09\nCT#69\nCP-150427\n0597\n-\nWrong Application-ID for S7a Diameter Application\n13.3.0\nCP-150454\n0586\n3\nSubscription data for extended buffering at the SGW\nCP-150453\n0587\n2\nIntroducing IMSI-Group ID Lists to the subscription Info\nCP-150449\n0588\n3\nAddition of CP parameters to subscription data\n2015-12\nCT#70\nCP-150778\n0590\n9\nAdd MTC Monitoring support\n13.4.0\nCP-150778\n0606\n1\nRoaming and interaction with the IWK-SCEF\nCP-150778\n0607\n4\nIntroducing a Bitmask to inform the HSS of the Monitoring capabilities of the MME/SGSN\nCP-150778\n0609\n2\nDeletion of all Monitoring events assigned to a subscriber (UE)\nCP-150785\n0598\n1\nDL-Buffering-Suggested-Packet-Count AVP\nCP-150781\n0600\n1\nRetrieval of \"UE Usage Type\" over S6a/S6d\nCP-150762\n0601\n1\nClarification of precedence between UE-level \"HO to non-3GPP access\" access restriction, and APN-level \"WLAN-Offloadability\"\nCP-150768\n0602\n4\nDiameter message priority over S6a/d\nCP-150771\n0604\n2\nIntroduction of validity time delete and replace procedure for CP sets\nCP-150755\n0611\n1\nProSe in combined MME/SGSN\nCP-150744\n0614\nErroneous AVP code for some MDT parameters\nCP-150759\n0614\n1\nUpdate reference to DOIC new IETF RFC\nCP-150776\n0615\n1\nMobile Terminating SMS handling for extended Idle mode DRX\n2016-03\nCT#71\nCP-160029\n0618\n2\nNotifying the status of MONTE event configuration at the IWK-SCEF to the HSS\n13.5.0\nCP-160043\n0619\n1\nFix the issue on HSS restart procedure\nCP-160039\n0620\n1\nUser Plane Integrity Protection Indicator\nCP-160029\n0621\n3\nConfigure Monitoring Event to Multiple Serving Nodes\nCP-160033\n0623\n1\nAllow SMS for NB-IoT UE without Combined Attach\nCP-160045\n0625\n-\nAdjacent PLMNs\nCP-160045\n0626\n1\nInvocation of Alert procedure by HSS after ULR\nCP-160023\n0629\n1\nDiameter message priority over S7a/d, S13, S13'\nCP-160033\n0630\n2\nAddition of NB-IoT radio access type to the Access-Restriction-Data feature\nCP-160033\n0631\n3\nNew PDN-Type for Cellular IoT\n2016-03\nTable 7.3.1/1 formatted\n13.5.1\n2016-06\nCT#72\nCP-160215\n0643\n1\nDiameter requests for priority traffic during overload control mechanism\n13.6.0\n2016-06\nCT#72\nCP-160238\n0628\n3\nSubscription Data for combined MME/SGSN\n13.6.0\n2016-06\nCT#72\nCP-160238\n0632\n1\nCause Mapping\n13.6.0\n2016-06\nCT#72\nCP-160238\n0633\n-\nCorrection on Service-Selection\n13.6.0\n2016-06\nCT#72\nCP-160238\n0639\n2\nGroup-Service-Id\n13.6.0\n2016-06\nCT#72\nCP-160233\n0635\n-\nRenaming of Validity-Time AVP\n13.6.0\n2016-06\nCT#72\nCP-160228\n0636\n-\nUpdate SMS Support for NB-IoT\n13.6.0\n2016-06\nCT#72\nCP-160225\n0637\n2\nSCEF realm\n13.6.0\n2016-06\nCT#72\nCP-160222\n0638\n2\nShared Subscription data update\n14.0.0\n2016-06\nCT#72\nCP-160217\n0640\n1\nSupport for Non-IP PDP types\n14.0.0\n2016-06\nCT#72\nCP-160221\n0641\n1\nMSISDN Removal from Subscription Profile\n14.0.0\n2016-09\nCT#73\nCP-160423\n0645\n-\nPDN-Connection-Restricted flag\n14.1.0\n2016-09\nCT#73\nCP-160423\n0647\n1\nPreferred Data Mode for an SGi PDN connection\n14.1.0\n2016-09\nCT#73\nCP-160428\n0652\n-\nCR implementation error on ECR and ECA commands\n14.1.0\n2016-09\nCT#73\nCP-160426\n0658\n2\nCurrent Location Retrieval\n14.1.0\n2016-09\nCT#73\nCP-160437\n0649\n1\nRemoval of Editor's Note on non shareable subscription data\n14.1.0\n2016-09\nCT#73\nCP-160437\n0650\n-\nRemoval of Editor's Note on detailed checks for shared subscription data update\n14.1.0\n2016-09\nCT#73\nCP-160437\n0656\n2\nSolution to avoid high load resulting from shared subscription data update\n14.1.0\n2016-09\nCT#73\nCP-160433\n0653\n-\nChange of Network Access Mode\n14.1.0\n2016-09\nCT#73\nCP-160432\n0654\n-\nUsage of Supported Features\n14.1.0\n2016-09\nCT#73\nCP-160432\n0655\n-\nHandling of MSISDN removal from subscription profile\n14.1.0\n2016-12\nCT#74\nCP-160679\n0659\n4\nHandover of Emergency PDN Connections\n14.2.0\n2016-12\nCT#74\nCP-160673\n0660\n1\nReset-ID AVP description for shared subscription data update\n14.2.0\n2016-12\nCT#74\nCP-160673\n0671\n1\nUpdate of \"Homogeneous Support\" Status\n14.2.0\n2016-12\nCT#74\nCP-160673\n0684\n1\nMissing S7a/S7d application identifier\n14.2.0\n2016-12\nCT#74\nCP-160654\n0662\n1\nCommunication-Pattern Feature\n14.2.0\n2016-12\nCT#74\nCP-160681\n0666\n1\nLoad Control\n14.2.0\n2016-12\nCT#74\nCP-160681\n0677\n1\nHost Load\n14.2.0\n2016-12\nCT#74\nCP-160665\n0668\n1\nDynamic Removal of UE Usage Type\n14.2.0\n2016-12\nCT#74\nCP-160665\n0674\n1\nPresence of UE Usage Type in Error Responses\n14.2.0\n2016-12\nCT#74\nCP-160657\n0670\n1\nUndefined Bits in Access Restriction Data\n14.2.0\n2016-12\nCT#74\nCP-160678\n0672\n1\nAdd V2X Subscription Data to S6a Interface\n14.2.0\n2016-12\nCT#74\nCP-160664\n0682\n-\nCorrection to change IETF drmp draft version to official RFC 7944\n14.2.0\n2016-12\nCT#74\nCP-160660\n0683\n1\nDeletion of all monitoring events\n14.2.0\n2017-03\nCT#75\nCP-170028\n0692\n1\nMaximum Response Time\n14.3.0\n2017-03\nCT#75\nCP-170039\n0687\n1\nEnhanced Coverage\n14.3.0\n2017-03\nCT#75\nCP-170039\n0688\n1\nInter-RAT PDN-Continuity\n14.3.0\n2017-03\nCT#75\nCP-170044\n0693\n1\nEmergency-Info AVP in ULA\n14.3.0\n2017-03\nCT#75\nCP-170043\n0696\n1\nCorrect UE-PC5-AMBR Format\n14.3.0\n2017-03\nCT#75\nCP-170036\n0697\n2\nRemoval of complete APN Configuration Profile\n14.3.0\n2017-03\nCT#75\nCP-170036\n0698\n1\nClarification of MDT User Consent\n14.3.0\n2017-03\nCT#75\nCP-170036\n0699\n1\nMissing M/O values in several feature flags\n14.3.0\n2017-03\nCT#75\nCP-170036\n0700\n2\nSubscription parameters for eDRX\n14.3.0\n2017-03\nCT#75\nCP-170036\n0701\n2\nSupport of long and short Macro eNodeB IDs\n14.3.0\n2017-03\nCT#75\nCP-170048\n0704\n-\nUpdate of reference for the Diameter base protocol\n14.3.0\n2017-03\nCT#75\nCP-170048\n0705\n-\nHandling of the Vendor-Specific-Application-Id AVP\n14.3.0\n2017-03\nCT#75\nCP-170048\n0706\n-\nCardinality of the Failed-AVP AVP in answer\n14.3.0\n2017-06\nCT#76\nCP-171029\n0707\n1\nExternal Identifier in Subscription-Data\n14.4.0\n2017-06\nCT#76\nCP-171021\n0709\n-\nAlignment of PDN-Connection-Restricted Flag handling on NAS specification\n14.4.0\n2017-06\nCT#76\nCP-171017\n0713\n1\nAdd MBSFN Area List to MDT Configuration parameters\n14.4.0\n2017-06\nCT#76\nCP-171184\n0715\n2\nCommunication Patterns without Expiry Time\n14.4.0\n2017-06\nCT#76\nCP-171029\n0717\n1\nLoss Of Connectivity Reason in S6a/d IDA\n14.4.0\n2017-06\nCT#76\nCP-171018\n0720\n1\nSupport for signaling transport level packet marking\n14.4.0\n2017-06\nCT#76\nCP-171043\n0718\n1\nClarification of S6a/Notification-Request command for non-IP APNs\n15.0.0\n2017-06\nCT#76\nCP-171041\n0721\n-\nRemoval of UE-Usage-Type\n15.0.0\n2017-09\nCT#77\nCP-172027\n0727\n1\nAccess Restriction to NR as Secondary RAT\n15.1.0\n2017-09\nCT#77\nCP-172027\n0728\n1\nExtended QoS for 5G NR\n15.1.0\n2017-09\nCT#77\nCP-172018\n0729\n1\nAcknowledgements of downlink NAS data PDUs\n15.1.0\n2017-09\nCT#77\nCP-172018\n0730\n1\nReliable Data Service\n15.1.0\n2017-09\nCT#77\nCP-172026\n0731\n1\nEnhancements for NAPS on Idle Status Indication\n15.1.0\n2017-09\nCT#77\nCP-172013\n0736\n-\nCorrection of DRMP Procedures\n15.1.0\n2017-12\nCT#78\nCP-173016\n0743\n1\nCorrection on subscribed eDRX parameter value\n15.2.0\n2017-12\nCT#78\nCP-173028\n0740\n1\nClarification of UE Reachability monitoring event over S6a/S6d\n15.2.0\n2017-12\nCT#78\nCP-173025\n0741\n-\nError in the DIAMETER_ERROR_EQUIPMENT_UNKNOWN name\n15.2.0\n2017-12\nCT#78\nCP-173025\n0744\n3\nActive Time in Insert Subscriber Data\n15.2.0\n2017-12\nCT#78\nCP-173035\n0746\n1\nAccess restriction to unlicensed spectrum as secondary RAT\n15.2.0\n2017-12\nCT#78\nCP-173036\n0747\n1\nAccess Restrictions to NR as Secondary RAT on MM Context\n15.2.0\n2018-03\nCT#79\nCP-180013\n0755\n2\nHandling of Homogenous-Support-of-IMS-Voice-Over-PS-Sessions AVP\n15.3.0\n2018-03\nCT#79\nCP-180021\n0756\n-\nService Gap Time\n15.3.0\n2018-03\nCT#79\nCP-180025\n0757\n1\nFiltering the Report for Number of UEs in a Geographic Area\n15.3.0\n2018-06\nCT#80\nCP-181122\n0758\n-\nBandwidth Clarification\n15.4.0\n2018-06\nCT#80\nCP-181122\n0759\n1\nSupported-Services AVP code\n15.4.0\n2018-06\nCT#80\nCP-181122\n0762\n1\nSubscription for Aerial UE in 3GPP system\n15.4.0\n2018-06\nCT#80\nCP-181124\n0765\n1\nSubscription data for ciphering keys\n15.4.0\n2018-06\nCT#80\nCP-181133\n0763\n1\nAccess Restrictions\n15.4.0\n2018-09\nCT#81\nCP-182077\n0766\n-\nUpdate of Broadcast-Location-Assistance-Data-Types AVP\n15.5.0\n2018-09\nCT#81\nCP-182067\n0767\n2\nAccess Restriction Data for NR as Secondary RAT not supported by HSS\n15.5.0\n2018-09\nCT#81\nCP-182067\n0774\n-\nApplicable values for AMBR\n15.5.0\n2018-09\nCT#81\nCP-182075\n0768\n1\nHandling of monitoring events in ULA\n15.5.0\n2018-09\nCT#81\nCP-182072\n0769\n1\nSubscribed PTW length\n15.5.0\n2018-09\nCT#81\nCP-182072\n0770\n1\nDSR-Flag for Active-Time\n15.5.0\n2018-09\nCT#81\nCP-182071\n0771\n2\nDSR-Flag for eDRX-Cycle-Length\n15.5.0\n2018-09\nCT#81\nCP-182084\n0773\n-\nAccess Restrictions\n15.5.0\n2018-12\nCT#82\nCP-183092\n0775\n4\nSingle Registration\n15.6.0\n2018-12\nCT#82\nCP-183092\n0776\n1\nInterworking with 5GS indicator in APN Subscription\n15.6.0\n2018-12\nCT#82\nCP-183092\n0789\n2\nMME_UPDATE_PROCEDURE\n15.6.0\n2018-12\nCT#82\nCP-183098\n0785\n1\nDeletion of monitoring events when unknown in SCEF\n15.6.0\n2018-12\nCT#82\nCP-183098\n0786\n-\nEvent configuration failure in ULA\n15.6.0\n2018-12\nCT#82\nCP-183098\n0787\n1\nIdle-Status-Indication is missing in monitoring event report\n15.6.0\n2018-12\nCT#82\nCP-183098\n0788\n1\nApplicability of Maximum Number of Reports\n15.6.0\n2018-12\nCT#82\nCP-183100\n0784\n3\nBehavior of MME/SGSN upon reception of DIAMETER_UNABLE_TO_COMPLY for NOR\n15.6.0\n2018-12\nCT#82\nCP-183100\n0790\n1\nPaging Time Window\n15.6.0\n2019-03\nCT#83\nCP-190034\n0791\n1\neDRX AVPs\n15.7.0\n2019-03\nCT#83\nCP-190038\n0792\n-\nMissing Maximum-UE-Availability-Time AVP\n15.7.0\n2019-03\nCT#83\nCP-190034\n0794\n1\nAccess Restriction to NR as Secondary RAT for SGSN\n15.7.0\n2019-03\nCT#83\nCP-190034\n0795\n-\nPaging-Time-Window AVP name\n15.7.0\n2019-03\nCT#83\nCP-190037\n0796\n1\nHandling of multiple external IDs for the same UE\n15.7.0\n2019-06\nCT#84\nCP-191023\n0797\n-\nService Gap Time Deletion\n15.8.0\n2019-09\nCT#85\nCP-192094\n0804\n2\ndraft-ietf-dime-load published as RFC 8583\n15.9.0\n2019-09\nCT#85\nCP-192121\n0801\n1\nCommunication pattern enhancement\n16.0.0\n2019-09\nCT#85\nCP-192122\n0800\n1\nEvent type PDN Connectivity Status\n16.0.0\n2019-09\nCT#85\nCP-192122\n0802\n-\nEthernet PDN Type\n16.0.0\n2019-12\nCT#86\nCP-193024\n0808\n-\nApplicability of Core Network Restrictions\n16.1.0\n2019-12\nCT#86\nCP-193038\n0809\n1\nSubscribed ARPI\n16.1.0\n2019-12\nCT#86\nCP-193038\n0810\n-\nLTE-M Access Restriction\n16.1.0\n2019-12\nCT#86\nCP-193038\n0812\n-\nMissing protocol code-point values\n16.1.0\n2019-12\nCT#86\nCP-193052\n0807\n1\nBattery Indication for Communication pattern enhancement\n16.1.0\n2020-03\nCT#87e\nCP-200027\n0813\n1\nAddition of IAB-Operation-Permission to subscriber data\n16.2.0\n2020-03\nCT#87e\nCP-200036\n0814\n1\nSubscription data for NR V2X\n16.2.0\n2020-06\nCT#88e\nCP-201053\n0815\n-\nAlignments on definitions\n16.3.0\n2020-06\nCT#88e\nCP-201053\n0816\n-\nSupported Monitoring Events\n16.3.0\n2020-06\nCT#88e\nCP-201053\n0818\n-\nError cause handling\n16.3.0\n2020-06\nCT#88e\nCP-201053\n0819\n1\nUpdate of RAT restrictions\n16.3.0\n2020-06\nCT#88e\nCP-201053\n0821\n1\nSupported Features for combined MME/SGSN\n16.3.0\n2020-06\nCT#88e\nCP-201049\n0817\n1\nSubscribed PC5 QoS Parameters for NR V2X\n16.3.0\n2020-06\nCT#88e\nCP-201033\n0820\n1\nSGSN Interworking with 5G\n16.3.0\n2020-09\nCT#89e\nCP-202109\n0822\n2\nMonitoring Configurations in ULA\n16.4.0\n2020-09\nCT#89e\nCP-202094\n0823\n-\nImmediate Event Report in IDA\n16.4.0\n2020-09\nCT#89e\nCP-202094\n0824\n1\nCorrections on Broadcast-Location-Assistance-Data-Types\n16.4.0\n2020-12\nCT#90e\nCP-203032\n0826\n-\nExtended Reference ID\n16.5.0\n2020-12\nCT#90e\nCP-203032\n0825\n1\nCorrection for implementation error\n16.5.0\n2021-03\nCT#91e\nCP-210057\n0828\n-\nDefault APN for Ethernet PDN types\n16.6.0\n2021-03\nCT#91e\nCP-210053\n0829\n2\nCancellation Type for UDICOM\n16.6.0\n2021-03\nCT#91e\nCP-210027\n0827\n1\nUse of inclusive terminology\n17.0.0\n2021-09\nCT#93e\nCP-212053\n0830\n-\nF\nSuperfluous AVPs in re-used Diameter AVPs table\n17.1.0\n2022-03\nCT#93e\nCP-220063\n0832\n-\nF\nRemoval of Monitoring Events when External ID or MSISDN is deleted\n17.1.0\n2022-03\nCT#93e\nCP-220093\n0831\n1\nB\nAccess Restriction for IoT Satellite Access\n17.2.0\n2022-06\nCT#96\nCP-221060\n0834\n-\nF\nClarification on Withdrawal of eDRX Cycle Length\n17.3.0\n2022-06\nCT#96\nCP-221060\n0836\n1\nF\nWithdrawal of Paging Time Window Subscription\n17.3.0\n2022-06\nCT#96\nCP-221060\n0837\n1\nF\nEmergency service session continuity\n17.3.0\n2022-06\nCT#96\nCP-221066\n0840\n-\nA\nCR 0828 has not been correctly implemented\n17.3.0\n2022-09\nCT#97e\nCP-222073\n0842\n2\nF\nUpdate ULR flags in support of handover\n17.4.0\n2023-03\nCT#99\nCP-230054\n0843\n-\nF\nSkip Subscriber Data in ULR-Flags\n18.0.0\n2023-06\nCT#100\nCP-231063\n0844\n-\nF\nReachability Cause in immediate reports\n18.1.0\n2023-12\nCT#102\nCP-233045\n0847\n1\nA\nPreventing LTE to NR NTN handover for users without NR NTN subscription\n18.2.0\n2024-03\nCT#103\nCP-240029\n0848\n3\nF\nAccess control for users with eRedcap/Redcap subscriptions\n18.3.0\n2024-03\nCT#103\nCP-240053\n0850\n-\nF\nResult code examples for Monitoring event suspension\n18.3.0\n2024-06\nCT#104\nCP-242019\n0852\n-\nF\nUE context data synchronization\n18.4.0\n2024-09\nCT#105\nCP-242070\n0855\n-\nA\nMDT configuration for EN-DC\n18.5.0\n2024-09\nCT#105\nCP-242070\n0858\nA\nSupport of Trace Reporting Consumer URI\n18.5.0",
      "chunk_type": "general",
      "cross_references": [
        "table_7.3.1",
        "table_17.1.0",
        "ts_29.010",
        "ts_22.153",
        "ts_36.413",
        "ts_29.272",
        "ts_14.2",
        "ts_15.6",
        "ts_16.3",
        "ts_18.1"
      ]
    }
  ]
}