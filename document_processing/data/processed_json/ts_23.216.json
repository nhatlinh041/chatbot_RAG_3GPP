{
  "metadata": {
    "specification_id": "ts_23.216",
    "version": "18.0.0",
    "title": "3GPP TS 23.216",
    "file_path": "/content/drive/MyDrive/RAG_thesis/data/23_series/23216-i00/23216-i00.docx"
  },
  "export_info": {
    "export_date": "2025-07-26T09:38:07.023999",
    "total_chunks": 92
  },
  "chunks": [
    {
      "chunk_id": "ts_23.216_1",
      "section_id": "1",
      "section_title": "Scope",
      "content": "This document specifies the architecture enhancements for Single Radio Voice Call Continuity (SRVCC) between the following access systems for voice calls that are anchored in the IMS:\n-\tfrom E‑UTRAN to 3GPP2 1xCS;\n-\tfrom E‑UTRAN to UTRAN/GERAN;\n-\tfrom UTRAN (HSPA) to UTRAN/GERAN.\n-\tfrom UTRAN/GERAN to E-UTRAN.\n-\tfrom GERAN to UTRAN (HSPA).\n-\tfrom NG-RAN to UTRAN.\nThis document will not describe 3GPP2 functional entities. However, interfaces between both 3GPP and 3GPP2 functional entities are described in this specification.\nSRVCC from E‑UTRAN access to 3GPP2 1xCS is covered in this specification, including the handling of IMS emergency call continuity. Handling of non‑voice component and SRVCC from 3GPP2 1xCS to E‑UTRAN direction is not specified in this release.\nSRVCC from NG-RAN/E‑UTRAN/UTRAN (HSPA) access and 3GPP UTRAN/GERAN CS accesses for voice calls that are anchored in the IMS, as well as the coordination between the SRVCC for voice call and the handover of non‑voice PS bearers are covered in this specification. SRVCC with IMS emergency call continuity from E-UTRAN/UTRAN (HSPA) to 3GPP UTRAN/GERAN CS accesses and from NG-RAN to UTRAN for voice calls is covered in this specification. SRVCC with eCall over IMS continuity from E-UTRAN/UTRAN (HSPA) to 3GPP UTRAN/GERAN CS accesses is covered in this specification. SRVCC with priority handling from E-UTRAN to 3GPP UTRAN/GERAN CS accesses for voice or voice and video calls is also covered in this specification. The handover of non‑voice PS bearer from E-UTRAN is specified by the procedures defined in TS 23.401 [2], TS 23.060 [10], TS 25.413 [11] and TS 43.129 [12]. The handover of non-voice PS bearer from UTRAN (HSPA) is specified by the procedures defined in TS 23.060 [10], TS 25.413 [11] and TS 43.129 [12]. The handover of non-voice PS bearer from NG-RAN to UTRAN is not supported.\nThis document specifies the architecture enhancements for Single Radio Video Call Continuity (vSRVCC) from E-UTRAN to UTRAN-CS access for Video Calls that are anchored in the IMS.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.401",
        "ts_23.060",
        "ts_25.413",
        "ts_43.129"
      ]
    },
    {
      "chunk_id": "ts_23.216_2",
      "section_id": "2",
      "section_title": "References",
      "content": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non‑specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t3GPP TS 23.401: \"GPRS enhancements for E-UTRAN access\".\n[3]\t3GPP TS 23.402: \"Architecture enhancements for non-3GPP accesses\".\n[4]\t3GPP2 X.S0042-0: \"Voice Call Continuity between IMS and Circuit Switched System\".\n[5]\tVoid.\n[6]\tVoid.\n[7]\t3GPP TR 36.938: \"Improved Network Controlled Mobility between E-UTRAN and 3GPP2/Mobile WiMAX Radio Technologies\".\n[8]\t3GPP2 A.S0008-C: \"Interoperability Specification (IOS) for High Rate Packet Data (HRPD) Radio Access Network Interfaces with Session Control in the Access Network\".\n[9]\t3GPP TS 22.278: \"Service requirements for the Evolved Packet System (EPS)\".\n[10]\t3GPP TS 23.060: \"General Packet Radio Service (GPRS); Service description; Stage 2\".\n[11]\t3GPP TS 25.413: \"UTRAN Iu interface Radio Access Network Application Part (RANAP) signalling\".\n[12]\t3GPP TS 43.129: \"Packet-switched handover for GERAN A/Gb mode; Stage 2\".\n[13]\t3GPP TS 23.292: \"IP Multimedia Subsystem (IMS) Centralized Services: Stage 2\".\n[14]\t3GPP TS 23.237: \"IP Multimedia Subsystem (IMS) Service Continuity: Stage 2\".\n[15]\t3GPP TS 23.002: \"Network Architecture\".\n[16]\t3GPP TS 36.300: \"Evolved Universal Terrestrial Radio Access (E-UTRA) and Evolved Universal Terrestrial Radio Access Network (E-UTRAN); Overall description; Stage 2\".\n[17]\tVoid.\n[18]\t3GPP TS 23.009: \"Handover procedures\".\n[19]\t3GPP TS 25.331: \"Radio Resource Control (RRC) protocol specification\".\n[20]\t3GPP2 A.S0014: \"Interoperability Specification (IOS) for cdma2000 Access Network Interfaces\".\n[21]\t3GPP TS 33.210: \"3G Security; Network Domain Security; IP network layer security\".\n[22]\t3GPP TS 33.401: \"3GPP System Architecture Evolution (SAE): Security architecture\".\n[23]\t3GPP TS 48.008: \"Mobile Switching Centre - Base Station System (MSC-BSS) interface; Layer 3 specification\".\n[24]\t3GPP TS 48.018: \"General Packet Radio Service (GPRS); Base Station System (BSS) - Serving GPRS Support Node (SGSN); BSS GPRS Protocol (BSSGP)\".\n[25]\t3GPP TS 33.102: \"3G Security; Security architecture\".\n[26]\t3GPP TS 22.173: \"IP Multimedia Core Network Subsystem (IMS) Multimedia Telephony Service and supplementary services\".\n[27]\t3GPP TS 23.003: \"Numbering, addressing and identification\".\n[28]\t3GPP TS 23.167: \"IP Multimedia Core Network Subsystem (IMS) emergency sessions\".\n[29]\t3GPP TS 23.271: \"Functional stage 2 description of Location Services (LCS)\".\n[30]\t3GPP TS 36.413: \"Evolved Universal Terrestrial Radio Access Network (E-UTRAN); S1 Application Protocol (S1AP)\".\n[31]\t3GPP TS 22.101: \"Service aspects; Service principles\".\n[32]\t3GPP TS 23.203: \"Policy and charging control architecture\".\n[33]\tITU‑T Recommendation H.324 Annex K: \"Media oriented negotiation acceleration procedure\" and associated changes to Annex J\".\n[34]\t3GPP TS 26.111: \"Codec for circuit switched multimedia telephony service; Modifications to H.324\".\n[35]\t3GPP TR 26.911: \"Codec(s) for Circuit-Switched (CS) multimedia telephony service; Terminal implementor's guide\".\n[36]\t3GPP TS 36.423: \"Evolved Universal Terrestrial Radio Access Network (E-UTRAN); X2 Application Protocol (X2AP)\".\n[37]\t3GPP TS 29.303: \"Domain Name System Procedures; Stage 3\".\n[38]\t3GPP TS 22.002: \"Circuit Bearer Services (BS) supported by a Public Land Mobile Network (PLMN)\".\n[39]\t3GPP TS 22.003: \"Circuit Teleservices supported by a Public Land Mobile Network (PLMN)\".\n[40]\t3GPP TS 23.251: \"Network sharing; Architecture and functional description\".\n[41]\t3GPP TS 29.002: \"Mobile Application Part (MAP) specification\".\n[42]\t3GPP TS 23.272: \"Circuit Switched (CS) fallback in Evolved Packet System (EPS)\".\n[43]\t3GPP TS 26.267: \"eCall data transfer; In-band modem solution; General description\".\n[44]\t3GPP TS 24.008: \"Mobile radio interface Layer 3 specification; Core network protocols; Stage 3\".\n[45]\t3GPP TS 23.502: \"Procedures for the 5G System\".\n[46]\t3GPP TS 38.423: \"Xn application protocol (XnAP)\".\n[47]\t3GPP TS 38.413: \"NG Application Protocol (NGAP)\".\n[48]\t3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".\n[49]\t3GPP TS 38.300: \"NR and NG-RAN Overall Description; Stage 2\".\n[50]\t3GPP TS 23.273: \"5G System (5GS) Location Services (LCS); Stage 2\".",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905",
        "ts_23.401",
        "ts_23.402",
        "ts_36.938",
        "ts_22.278",
        "ts_23.060",
        "ts_25.413",
        "ts_43.129",
        "ts_23.292",
        "ts_23.237",
        "ts_23.002",
        "ts_36.300",
        "ts_23.009",
        "ts_25.331",
        "ts_33.210",
        "ts_33.401",
        "ts_48.008",
        "ts_48.018",
        "ts_33.102",
        "ts_22.173",
        "ts_23.003",
        "ts_23.167",
        "ts_23.271",
        "ts_36.413",
        "ts_22.101",
        "ts_23.203",
        "ts_26.111",
        "ts_26.911",
        "ts_36.423",
        "ts_29.303",
        "ts_22.002",
        "ts_22.003",
        "ts_23.251",
        "ts_29.002",
        "ts_23.272",
        "ts_26.267",
        "ts_24.008",
        "ts_23.502",
        "ts_38.423",
        "ts_38.413",
        "ts_23.501",
        "ts_38.300",
        "ts_23.273"
      ]
    },
    {
      "chunk_id": "ts_23.216_3.1",
      "section_id": "3.1",
      "section_title": "Definitions",
      "content": "For the purposes of the present document, the terms and definitions given in TR 21.905 [1] and the following apply. A term defined in the present document takes precedence over the definition of the same term, if any, in TR 21.905 [1].\n1xCS: The 3GPP2 legacy circuit switched signalling system as defined in 3GPP2 X.S0042-0 [4].\n3GPP SRVCC UE: A 3GPP SRVCC UE is a UE enhanced for IMS Service Continuity with the additional UE capabilities described in this specification for SRVCC NG-RAN to 3GPP UTRAN and / or between E-UTRAN and 3GPP UTRAN and / or between E-UTRAN and 3GPP GERAN and / or between UTRAN (HSPA) and 3GPP UTRAN and 3GPP GERAN.\nCorrelation MSISDN: An MSISDN used for correlation of sessions. See TS 23.003 [27] for more information.\nEmergency Session Transfer Number for SRVCC (E-STN-SR): see TS 23.237 [14].\nIMS-based MPS Session: see TS 23.401 [2].\nSession Transfer Number for SRVCC (STN-SR): see TS 23.237 [14].\nSingle Radio Voice Call Continuity (SRVCC): Voice call continuity between IMS over PS access and CS access for calls that are anchored in IMS when the UE is capable of transmitting/receiving on only one of those access networks at a given time.\nSingle Radio Video Call Continuity (vSRVCC): Video call continuity from E-UTRAN to UTRAN-CS for calls that are anchored in the IMS when the UE is capable of transmitting/receiving on only one of those access networks at a given time. In this specification, the term vSRVCC is introduced for Single Radio Video Call Continuity to differentiate it from Single Radio Voice Call Continuity (SRVCC).\nCS to PS Single Radio Voice Call Continuity (CS to PS SRVCC): SRVCC from UTRAN to E-UTRAN, and SRVCC from GERAN to UTRAN/E-UTRAN.\nVideo Call: For IMS over E-UTRAN, it represents the session using bidirectional voice and synchronised real time video as specified in TS 22.173 [26]. For UTRAN-CS, it represents the Circuit Switched (CS) multimedia calls as specified in TS 22.101 [31].\nFor the purposes of the present document, the following terms and definitions given in TS 23.401 [2] apply:\neCall Only Mode: See TS 23.401 [2].\nFor the purposes of the present document, the following terms and definitions given in TS 22.101 [31] apply:\neCall: See TS 22.101 [31].\nMinimum Set of Data (MSD): See TS 22.101 [31].",
      "chunk_type": "definition",
      "cross_references": [
        "ts_21.905",
        "ts_23.003",
        "ts_23.237",
        "ts_23.401",
        "ts_22.173",
        "ts_22.101"
      ]
    },
    {
      "chunk_id": "ts_23.216_3.2",
      "section_id": "3.2",
      "section_title": "Abbreviations",
      "content": "For the purposes of the present document, the abbreviations given in TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in TR 21.905 [1].\n1xCS IWS\tSingle Radio Voice Call Continuity Interworking solution Function for 3GPP2 1xCS\nARP\tAllocation and Retention Priority\nC‑MSISDN\tCorrelation MSISDN\nMPS\tMultimedia Priority Service\nMSD\tMinimum Set of emergency related Data\nSAI\tService Area Identifier as defined in TS 25.413 [11] and TS 23.003 [27]\nSRVCC\tSingle Radio Voice Call Continuity\nvSRVCC\tSingle Radio Video Call Continuity\nMME_SRVCC\tMME Supporting 5G-SRVCC",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905",
        "ts_25.413",
        "ts_23.003"
      ]
    },
    {
      "chunk_id": "ts_23.216_4.1.1",
      "section_id": "4.1.1",
      "section_title": "Architectural Principles for 3GPP2 1xCS SRVCC",
      "content": "The solution for SRVCC fulfils the requirements of TS 22.278 [9] and the following architectural principles:\n1.\tThe solution shall allow coexistence and be compatible with the 1xCS procedures specified in the 3GPP2 VCC specification, X.S0042 [4].\n2.\tThe solution shall not require UE with multiple RATs capability to simultaneously signal on two different RATs.\n3.\tThe solution shall be transparent to E-UTRA only terminal or network.\n4.\tThe solution shall minimize the coupling between the E-UTRAN and the 3GPP2 access. In particular, the solution shall allow the cdma2000 1xRTT specification to evolve without necessitating a modification to the E-UTRAN specifications.\n5.\tRAT change and domain selection should be under network control.\n6.\tIn roaming cases, the Visited PLMN should control the RAT change and/or domain selection while taking into account any related HPLMN policies.\n7.\tThe solution shall not impact cdma2000 RAT.\n8.\tThe solution shall not impact cdma2000 CS CN.\n9\tAll IMS sessions that may be subject to SRVCC shall be anchored in the IMS (VCC Application).\n10.\tWhen SRVCC is deployed, QCI=1:\n-\tshall not be used for IMS sessions that are not anchored in the IMS (VCC Application); and\n-\tshall only be used for the voice bearer.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_22.278"
      ]
    },
    {
      "chunk_id": "ts_23.216_4.1.2",
      "section_id": "4.1.2",
      "section_title": "Architectural Principles for SRVCC and vSRVCC to 3GPP UTRAN/GERAN",
      "content": "The solution for (v)SRVCC fulfils the requirements of TS 22.278 [9] and the following architectural principles:\n1.\tThe solution shall allow coexistence and be compatible with TS 23.292 [13] and TS 23.237 [14].\n2.\tThe solution shall not require UE with multiple RATs capability to simultaneously signal on two different RATs.\n3.\tRAT change and domain selection should be under network control.\n4.\tE-UTRAN/UTRAN (HSPA) to UTRAN/GERAN CS handover for SRVCC is triggered by the same radio handover conditions and mechanisms as for an E-UTRAN/UTRAN (HSPA) to UTRAN/GERAN PS handover.\n5.\tThe Video Call by IMS over E-UTRAN is the IMS session with bi-directional video and voice media e.g. IMS Multimedia Telephony as defined in TS 22.173 [26] which uses separate EPS bearers for video and voice components, respectively.\n6.\tIn roaming cases, the VPLMN shall be able to control the RAT/domain selection change while taking into account any related HPLMN policies for IMS sessions with bi-directional video and voice media e.g. IMS Multimedia Telephony as defined in TS 22.173 [26].\n7\tAll IMS sessions that may be subject to (v)SRVCC shall be anchored in the IMS (SCC AS).\n8.\tWhen SRVCC is deployed, QCI=1 / traffic-class 'Conversational' with Source Statistics Descriptor ='speech':\n-\tshall not be used for IMS sessions that are not anchored in the IMS (SCC AS); and\n-\tshall only be used for the voice bearer.\nNOTE 1:\tThe UE may have multiple voice media streams that are multiplexed over a single voice (e.g. QCI=1) bearer. Selection of the voice streams for SRVCC by the SCC AS is as specified in TS 23.237 [14].\nNOTE 2:\tThe UE may have multiple voice and video media streams that are carried over a single voice but multiple video (QCI=1 and the vSRVCC marked bearer) bearers or are multiplexed each over a single media bearer. Only one of these voice or voice and video streams is selected for SRVCC or vSRVCC by the SCC AS (see TS 23.237 [14]).",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_22.278",
        "ts_23.292",
        "ts_23.237",
        "ts_22.173"
      ]
    },
    {
      "chunk_id": "ts_23.216_4.1.3",
      "section_id": "4.1.3",
      "section_title": "Architectural Principles for SRVCC to 3GPP E-UTRAN/UTRAN (HSPA)",
      "content": "The solution for CS to PS SRVCC fulfils the following architectural principles in addition to the ones defined in clause 4.1.2:\n-\tA CS to PS SRVCC procedure shall be possible for CS call that is originated from UTRAN/GERAN.\n-\tAfter transfer from CS to PS SRVCC, it shall support moving the session back to UTRAN/GERAN CS domain if SRVCC from E-UTRAN/HSPA PS-domain is supported.\n-\tA CS to PS SRVCC procedure shall be possible after SRVCC from E-UTRAN/HSPA PS-domain to CS domain has occurred.\n-\tEmergency session is not subjected to CS to PS SRVCC procedure.\nA prerequisite for the CS to PS SRVCC procedure to take place is that the UE is registered in IMS and has at least one PS bearer (usable for SIP signalling).",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_4.1.2"
      ]
    },
    {
      "chunk_id": "ts_23.216_4.1.4",
      "section_id": "4.1.4",
      "section_title": "Architectural Principles for 5G-SRVCC to UTRAN",
      "content": "The solution for 5G-SRVCC fulfils the requirements of TS 22.278 [9] and the following architectural principles:\n1.\tThe solution shall not require UE with multiple RATs capability to simultaneously signal on two different RATs.\n2.\tRAT change and domain selection should be under network control.\n3.\tNG-RAN to UTRAN CS handover for 5G-SRVCC is triggered by radio handover conditions.\n4.\tAll IMS sessions that may be subject to 5G-SRVCC shall be anchored in the IMS (SCC AS).\n5.\tIn roaming cases, the VPLMN shall be able to control the RAT/domain selection and change while taking into account any related HPLMN policies for IMS sessions with voice media.\n6.\tSRVCC is not applicable for IMS Data Channel. Only associated voice and/or video media may get transferred to UTRAN.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_22.278"
      ]
    },
    {
      "chunk_id": "ts_23.216_4.2.1",
      "section_id": "4.2.1",
      "section_title": "E-UTRAN to 3GPP2 1xCS SRVCC",
      "content": "For SRVCC-capable UEs, the call is always anchored at the VCC AS in the 3GPP2's IMS. The 3GPP2 1xCS IWS enables a single radio UE to communicate in parallel both with the source system and the target system. From VCC perspective, this mechanism minimizes the voice gap by supporting the transport of signalling for establishment of the target CS access leg while the terminal is connected to the source PS access network.\nFigure 4.2.1-1: Transport of 3GPP2 1xCS signalling messages for preparation of the CS access leg in the target system\nThe S102 reference point is used to convey 3GPP2 1xCS signalling messages between the MME and 3GPP2 1xCS IWS. These 1x CS signalling messages are actually exchanged between the UE and the 3GPP2 1xCS IWS, and S102 is only one link in the overall UE‑1xCS IWS tunnelling path. On the remaining portion of the tunnelling path, the 3GPP2 1xCS signalling messages are encapsulated in E‑UTRAN/EPS tunnelling messages (UE‑MME).",
      "chunk_type": "general",
      "cross_references": [
        "figure_4.2.1-1"
      ]
    },
    {
      "chunk_id": "ts_23.216_4.2.2",
      "section_id": "4.2.2",
      "section_title": "E-UTRAN to 3GPP UTRAN/GERAN SRVCC",
      "content": "For facilitating session transfer (SRVCC) of the voice component to the CS domain, the IMS multimedia telephony sessions needs to be anchored in the IMS.\nFor SRVCC from E‑UTRAN to UTRAN/GERAN, MME first receives the handover request from E‑UTRAN with the indication that this is for SRVCC handling, and then triggers the SRVCC procedure with the MSC Server enhanced for SRVCC via the Sv reference point if MME has STN-SR information for this UE. If SRVCC with priority is supported, based on the ARP associated with the EPS bearer used for IMS signalling, the MME sets the priority indication appropriately toward the MSC Server. MME aware of which EPS bearer is used for IMS signalling based on local configuration. MSC Server enhanced for SRVCC then initiates the session transfer procedure to IMS and coordinates it with the CS handover procedure to the target cell. If SRVCC with priority is supported, IMS session transfer procedure and the CS handover procedure are performed with priority handling per the priority indication received from MME. MSC Server enhanced for SRVCC then sends PS-CS handover Response to MME, which includes the necessary CS HO command information for the UE to access the UTRAN/GERAN.\nHandling of any non‑voice PS bearer is done by the PS bearer splitting function in the MME. MME starts the handover of non‑voice PS bearer during SRVCC procedure based on the information received from E‑UTRAN. The handover of non‑voice PS bearer(s), if performed, is done as according to Inter RAT handover procedure as defined in TS 23.401 [2]. The MME is responsible to coordinate the Forward Relocation Response from PS‑PS handover procedure and the SRVCC PS to CS Response.\nNOTE:\tDepending on operator's policy, when 5GS is deployed, the eNB can switch the PS HO off when it initiates SRVCC procedure, i.e. SRVCC only for CS voice.\nFigure 4.2.2-1: Overall high level concepts for SRVCC from E-UTRAN to UTRAN/GERAN\n4.2.2a\tE-UTRAN to 3GPP UTRAN vSRVCC\nFor facilitating session transfer of the voice and video components to the CS domain, the IMS multimedia telephony sessions needs to be anchored in the IMS.\nFor vSRVCC, the UE uses one voice and one video media component over the associated QCI=1 and vSRVCC marked PS bearers for bearer identification reasons. The MME first receives the handover request from E‑UTRAN. It then triggers the vSRVCC procedure with the MSC Server enhanced for vSRVCC via the Sv reference point with vSRVCC related information. MSC Server enhanced for vSRVCC then interacts with IMS and initiates the session transfer procedure to IMS and coordinates it with the CS handover procedure to the target cell. If SRVCC with priority is supported, IMS session transfer procedure and the CS handover procedure are performed with priority handling according to the priority indication received from MME.\nMSC Server performs SRVCC procedure if the current active session is voice only. MSC Server enhanced for vSRVCC then sends PS-CS Handover Response to MME, which includes the necessary CS HO command information for the UE to access the UTRAN. If the target cell is GERAN, MME only triggers SRVCC (i.e. only the voice component of the Video Call is transferred using the SRVCC procedure).\nIf SCC AS indicates current active session is voice and video, the MSC Server requests UTRAN radio resources for BS30 bearer and continues with the vSRVCC procedure. The BS30 bearer is a 64 kbps bearer for multimedia as defined in clause 3.1.2.13 of TS 22.002 [38].If the BS30 bearer reservation was unsuccessful, then vSRVCC procedure is considered failed and appropriate rejection cause is given back to E-UTRAN.\nHandling of any non QCI=1 and vSRVCC marked PS bearer is done by the PS bearer splitting function in the MME. MME starts the handover of non QCI=1 and vSRVCC marked PS bearer during vSRVCC procedure based on the information received from E‑UTRAN. The handover of non QCI=1 and vSRVCC marked PS bearer(s), if performed, is done as according to Inter RAT handover procedure, as defined in TS 23.401 [2]. The MME is responsible to coordinate the Forward Relocation Response from PS‑PS handover procedure and the vSRVCC PS to CS Response.\nWhen the UE receives the HO Command indicating a TS 11 or BS30 bearer, it knows whether it should start the CS 3G-324M video codec negotiation or SRVCC.\nFigure 4.2.2a-1: Overall high level concepts for vSRVCC from E-UTRAN to UTRAN",
      "chunk_type": "general",
      "cross_references": [
        "ts_22.002_clause_3.1.2.13",
        "figure_4.2.2-1",
        "figure_4.2.2",
        "ts_23.401",
        "ts_22.002"
      ]
    },
    {
      "chunk_id": "ts_23.216_4.2.3",
      "section_id": "4.2.3",
      "section_title": "UTRAN (HSPA) to 3GPP UTRAN/GERAN SRVCC",
      "content": "For facilitating session transfer (SRVCC) of the voice component to the CS domain, the IMS multimedia telephony sessions needs to be anchored in the IMS.\nFor SRVCC from UTRAN (HSPA) to UTRAN/GERAN, SGSN first receives the handover request from UTRAN (HSPA) with the indication that this is for SRVCC handling, and then triggers the SRVCC procedure with the MSC Server enhanced for SRVCC via the Sv if SGSN has STN-SR information for this UE. MSC Server enhanced for SRVCC then initiates the session transfer procedure to IMS and coordinates it with the CS handover procedure to the target cell. MSC Server enhanced for SRVCC then sends PS-CS handover Response to SGSN, which includes the necessary CS HO command information for the UE to access the UTRAN/GERAN.\nHandling of any non-voice PS bearer is done by the PS bearer splitting function in the SGSN. SGSN starts the handover of non-voice PS bearer during SRVCC procedure based on the information received from UTRAN (HSPA). The handover of non-voice PS bearer(s), if performed, is done as according to Inter/Intra RAT handover procedure as defined in TS 23.060 [10] and TS 25.413 [11]. The SGSN is responsible to coordinate the Forward Relocation Response from PS-PS handover procedure and the SRVCC PS to CS Response.\nFigure 4.2.3-1: Overall high level concepts for SRVCC from UTRAN (HSPA) to UTRAN/GERAN",
      "chunk_type": "general",
      "cross_references": [
        "figure_4.2.3-1",
        "ts_23.060",
        "ts_25.413"
      ]
    },
    {
      "chunk_id": "ts_23.216_4.2.4.1",
      "section_id": "4.2.4.1",
      "section_title": "E-UTRAN/UTRAN (HSPA) to 3GPP UTRAN/GERAN",
      "content": "UE initiates the IMS emergency session as specified in TS 23.167 [28], TS 23.401 [2] for E-UTRAN or TS 23.060 [10] for UTRAN (HSPA). For facilitating session transfer (SRVCC) of the IMS emergency session to the CS domain, the IMS emergency session needs to be anchored in the serving IMS (i.e., in visited PLMN when roaming) as specified in TS 23.237 [14].\nThe E-UTRAN initiates the SRVCC procedure as specified for regular Voice over IMS session.\nSRVCC for IMS emergency session can be supported regardless of the subscription data from the HPLMN. If the MME detects IMS emergency session event (e.g., emergency APN and associated QCI-1 bearer setup), MME shall update the E-UTRAN that SRVCC is possible by including \"SRVCC operation possible\" indication via S1 AP UE CONTEXT MODIFICATION REQUEST, if needed.\nAfter IMS emergency session is released, MME shall restore the SRVCC indication to the same status as prior to the emergency session was established. If needed, reverting SRVCC indication to \"not possible\" is performed by including \"SRVCC operation not possible\" indication via S1 AP UE CONTEXT MODIFICATION REQUEST. This allows the MME to update E-UTRAN to invoke SRVCC for emergency session while the SRVCC is not allowed for normal IMS voice session due to subscription data from the HPLMN (i.e., No STN-SR and C-MSISDN received from the subscription data are not considered by the serving MME (e.g. HSS).\nThe MME is aware that this is an emergency session and sends an indication to the MSC Server enhanced for SRVCC. MSC Server then initiates the IMS service continuity procedure with the locally configured E-STN-SR to the serving IMS. When handover of the emergency session has been completed, the MME/SGSN or the MSC Server may initiate location continuity procedures for the UE as defined in TS 23.271 [29].\nFigure 4.2.4.1-1: Overall high level concepts for SRVCC IMS emergency session with E-STN-SR",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.271_figure_4.2.4.1-1",
        "ts_23.167",
        "ts_23.401",
        "ts_23.060",
        "ts_23.237",
        "ts_23.271"
      ]
    },
    {
      "chunk_id": "ts_23.216_4.2.4.2",
      "section_id": "4.2.4.2",
      "section_title": "E-UTRAN to 3GPP2 1xCS",
      "content": "The UE initiates emergency session over E-UTRAN as specified in TS 23.167 [28], TS 23.401 [2], upon detecting handover is required from E-UTRAN to CDMA 1x, the SRVCC emergency procedure apply. To support handover of emergency session the network is aware that the UE and core network support SRVCC and has information to identify Emergency session. When handover of the emergency session has been completed, the MME or the 1xRTT side may initiate location continuity procedures for the UE as defined in TS 23.271 [29].\nFigure 4.2.4.2-1: E-UTRAN to 3GPP2 1xCS",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.271_figure_4.2.4.2-1",
        "ts_23.167",
        "ts_23.401",
        "ts_23.271"
      ]
    },
    {
      "chunk_id": "ts_23.216_4.2.4.3.1",
      "section_id": "4.2.4.3.1",
      "section_title": "E-UTRAN/UTRAN (HSPA) to 3GPP UTRAN/GERAN",
      "content": "In order to support SRVCC emergency session domain transfer for UEs in Limited Service Mode (e.g. UICC-less), the MME/SGSN shall support Limited Service Mode UE emergency attach defined in TS 23.401 [2] and TS 23.060 [10] using unauthenticated IMSI or equipment identifier.\nWhen E-UTRAN/UTRAN determines that SRVCC is needed, the MME/SGSN invokes SRVCC procedures to the MSC Server including the UE's equipment identifier. The MSC Server will setup the call leg towards the EATF with the UE's equipment identifier. This procedure is defined in TS 23.237 [14].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.401",
        "ts_23.060",
        "ts_23.237"
      ]
    },
    {
      "chunk_id": "ts_23.216_4.2.4.3.2",
      "section_id": "4.2.4.3.2",
      "section_title": "E-UTRAN to 3GPP2 1xCS",
      "content": "In order to support SRVCC emergency session domain transfer for UEs in Limited Service Mode (e.g. UICC-less), the MME shall support Limited Service Mode UE emergency attach defined in TS 23.401 [2] using unauthenticated IMSI or equipment identifier.\nWhen E-UTRAN determines that SRVCC is needed, the MME invokes SRVCC procedures to the 1xCS IWS including the UE's equipment identifier.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.401"
      ]
    },
    {
      "chunk_id": "ts_23.216_4.2.4.3.3",
      "section_id": "4.2.4.3.3",
      "section_title": "NG-RAN to 3GPP UTRAN",
      "content": "Access to 5GS in Limited Service Mode is specified in TS 23.501 [48].\nThe AMF invokes SRVCC procedures to the MSC Server enhanced for SRVCC via the MME_SRVCC, including the UE's equipment identifier. The MSC Server will setup the call leg towards the EATF with the UE's equipment identifier. This procedure is specified in TS 23.237 [14].",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.501",
        "ts_23.237"
      ]
    },
    {
      "chunk_id": "ts_23.216_4.2.4.4",
      "section_id": "4.2.4.4",
      "section_title": "eCall over IMS",
      "content": "SRVCC is supported for handover of the voice channel of an eCall Over IMS from E-UTRAN/UTRAN (HSPA) to 3GPP UTRAN/GERAN. The support is exactly the same as for handover of the voice channel of an IMS emergency call from E-UTRAN/UTRAN (HSPA) to 3GPP UTRAN/GERAN with the addition of continuing support for transfer of updated MSD from the UE to an emergency centre/PSAP by in-band means.\nNOTE:\tAn eCall over IMS can only be originated on E-UTRAN but for a UE not in eCall Only mode, handover from E-UTRAN to UTRAN (HSPA) is possible, thence leading to a possible handover to GERAN/UTRAN in the CS domain.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.216_4.2.6",
      "section_id": "4.2.6",
      "section_title": "CS to PS SRVCC",
      "content": "For facilitating session transfer (SRVCC) of the voice component from the CS domain, the voice session shall be anchored in the IMS.\nFigure 4.2.6-1: UTRAN/GERAN to E-UTRAN/UTRAN(HSPA)\nThe UE informs the MSC Server about the MME/SGSN the UE had last contact with using P‑TMSI+RAI+P‑TMSI signature or GUTI upon MSC request. For CS to PS SRVCC, MSC Server first receives the handover request from UTRAN/GERAN with the indication that this is for CS to PS SRVCC handling and then triggers the CS to PS SRVCC procedure with the target MME/SGSN enhanced with CS to PS SRVCC via the enhanced Sv reference point. The MME enhanced with CS to PS SRVCC triggers PS HO in target E-UTRAN/UTRAN (HSPA). If the target MME/SGSN does not have the UE context then the target MME/SGSN retrieves the UE context from the source SGSN/MME.\nMSC Server then initiates the session transfer procedure to IMS and coordinates it with the PS handover procedure to the target cell. MME then sends CS-PS handover Response to MSC Server, which includes the necessary CS to PS HO command information for the UE to access the E-UTRAN/UTRAN (HSPA).",
      "chunk_type": "requirement",
      "cross_references": [
        "figure_4.2.6-1"
      ]
    },
    {
      "chunk_id": "ts_23.216_4.2.7.1",
      "section_id": "4.2.7.1",
      "section_title": "General",
      "content": "Service continuity to UTRAN is supported only for the voice component of an IMS Session or IMS Emergency Session and only when both the UE and the network support 5G-SRVCC.\nFor facilitating session transfer (SRVCC) of the voice component to the CS domain, the IMS multimedia telephony sessions needs to be anchored in the IMS.\nFor 5G-SRVCC from NG-RAN to UTRAN, AMF first receives the handover request from NG-RAN with the indication that this is for 5G-SRVCC handling, and then AMF sends the forward relocation request with 5G-SRVCC HO Indication to MME_SRVCC together with STN-SR and C-MSISDN. This MME_SRVCC then triggers the SRVCC procedure with the MSC Server enhanced for SRVCC via the Sv reference point. AMF is aware of which PDU session is used for IMS session based on the DNN. The MSC Server enhanced for SRVCC then initiates the session transfer procedure to IMS and coordinates it with the CS handover procedure to the target cell (as in other SRVCC cases). MSC Server enhanced for SRVCC then sends PS-CS handover Response to MME_SRVCC, which includes the necessary CS HO command information for the UE to access the UTRAN. MME_SRVCC sends the forward relocation response message including this information to AMF. AMF sends the Handover Command to NG-RAN and NG-RAN sends the Handover Command to UE.\nAfter UE moves to UTRAN and AMF receives the forward relocation complete, AMF requests PDU session release for all the PDU session.\nFigure 4.2.7-1: Overall high level concepts for 5G-SRVCC from NG-RAN to UTRAN\nThis specification introduces an additional function to those defined in the 5GC architecture in TS 23.501 [48] for 5G-SRVCC. This additional function is provided by the MSC Server (i.e., MSC Server enhanced for SRVCC) and the MME_SRVCC.\nNOTE 1:\tFigure 4.2.7-1 only shows the necessary components related to 5G-SRVCC.\nNOTE 2:\tMSC Server shown in the figure is enhanced for SRVCC.\nNOTE 3:\tThis architecture also applies to roaming scenario (i.e. N16, N9 are not impacted due to SRVCC).\nNOTE 4:\tThe MSC Server enhanced for SRVCC may not be the final target MSC which connects to the target cell.",
      "chunk_type": "definition",
      "cross_references": [
        "figure_4.2.7-1",
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_23.216_4.2.7.2",
      "section_id": "4.2.7.2",
      "section_title": "5G-SRVCC for IMS emergency sessions",
      "content": "UE initiates the IMS emergency session as specified in TS 23.167 [28] and TS 23.501 [48]. For facilitating session transfer (SRVCC) of the IMS emergency session to the CS domain, the IMS emergency session needs to be anchored in the serving IMS (i.e., in visited PLMN when roaming) as specified in TS 23.237 [14].\nThe NG-RAN initiates the SRVCC procedure as specified for regular Voice over IMS session.\nIf the UE has an Emergency PDU Session established, the AMF shall send the Emergency Indication and Equipment Identifier to the MSC Server enhanced for SRVCC via the MME_SRVCC. MSC Server then initiates the IMS service continuity procedure with the locally configured E-STN-SR to the serving IMS. When handover of the emergency session has been completed, the MSC Server may initiate location continuity procedures for the UE as defined in TS 23.271 [29].\nNOTE:\tIf 5G-SRVCC HO is triggered by NG-RAN while the UE has an Emergency PDU Session without voice (i.e. because the UE simultaneously has a non-emergency voice session), the 5G SRVCC procedure will be attempted for an emergency session and will fail.\nFigure 4.2.7.2-1: Overall high level concepts for 5G-SRVCC IMS emergency session with E-STN-SR",
      "chunk_type": "general",
      "cross_references": [
        "figure_4.2.7.2-1",
        "ts_23.167",
        "ts_23.501",
        "ts_23.237",
        "ts_23.271"
      ]
    },
    {
      "chunk_id": "ts_23.216_5.1",
      "section_id": "5.1",
      "section_title": "General",
      "content": "The SRVCC Architecture for 3GPP2 1xCS reuses many existing elements in 3GPP2 X.S0042 [4] for 3GPP2 1xCS.\nThe SRVCC and vSRVCC Architectures for 3GPP E-UTRAN / UTRAN(HSPA) to 3GPP UTRAN/GERAN reuses the session transfer function defined for IMS in TS 23.237 [14] for IMS service continuity. The MSC Server that is enhanced for SRVCC and vSRVCC may also be enhanced for ICS as defined in TS 23.292 [13].\nThe SRVCC Architecture for CS to PS reuses the session transfer function defined for IMS in TS 23.237 [14] for IMS service continuity. The MSC Server that is enhanced for CS to PS SRVCC is also enhanced for ICS as defined in TS 23.292 [13].\nThe overall model and impacts to the various elements is provided in the following clauses.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.237",
        "ts_23.292"
      ]
    },
    {
      "chunk_id": "ts_23.216_5.2.1",
      "section_id": "5.2.1",
      "section_title": "E-UTRAN to 3GPP2 1xCS SRVCC architecture",
      "content": "This specification introduces an additional functional entity to those defined in the E‑UTRAN architecture TS 23.402 [3], called 1x CS SRVCC interworking solution function (3GPP2 1xCS IWS), see figure 5.2.1‑1.\nNOTE:\tThe figure only shows the necessary components related to 3GPP2 1xCS IWS.\nFigure 5.2.1-1: SRVCC architecture for E-UTRAN to 3GPP2 1xCS",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.2.1",
        "figure_5.2.1-1",
        "ts_23.402"
      ]
    },
    {
      "chunk_id": "ts_23.216_5.2.2",
      "section_id": "5.2.2",
      "section_title": "E-UTRAN to 3GPP UTRAN/GERAN SRVCC architecture",
      "content": "This specification introduces an additional function to those defined in the E‑UTRAN architecture TS 23.401 [2] for SRVCC. This additional function is provided by the MSC Server (i.e., MSC Server enhanced for SRVCC).\nNOTE 1:\tThe following figure only shows the necessary components related to MSC Server enhanced for SRVCC.\nNOTE 2:\tMSC Server shown in the figure is enhanced for SRVCC.\nNOTE 3:\tThis architecture also applies to roaming scenario (i.e., S8, S6a are not impacted due to SRVCC).\nNOTE 4:\tThe MSC Server enhanced for SRVCC may not be the final target MSC which connects to the target cell.\nFigure 5.2.2-1: SRVCC architecture for E-UTRAN to 3GPP UTRAN/GERAN\n5.2.2a\t3GPP E-UTRAN to 3GPP UTRAN vSRVCC architecture\nNOTE 1:\tThe following figure only shows the necessary components related to MSC Server enhanced for vSRVCC.\nNOTE 2:\tMSC Server shown in the figure is enhanced for vSRVCC.\nNOTE 3:\tThis architecture also applies to roaming scenario (i.e., S8, S6a are not impacted due to vSRVCC).\nNOTE 4:\tThe MSC Server enhanced for vSRVCC may not be the final target MSC which connects to the target cell.\nFigure 5.2.2a-1: vSRVCC architecture for E-UTRAN to 3GPP UTRAN",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.2.2-1",
        "figure_5.2.2",
        "ts_23.401"
      ]
    },
    {
      "chunk_id": "ts_23.216_5.2.3",
      "section_id": "5.2.3",
      "section_title": "UTRAN (HSPA) to 3GPP UTRAN/GERAN SRVCC architecture",
      "content": "This specification introduces an additional function to those defined in the UTRAN architecture TS 23.060 [10] for SRVCC. This additional function is provided by the MSC Server (i.e., MSC Server enhanced for SRVCC).\nFigure 5.2.3-1: SRVCC architecture for UTRAN (HSPA) to 3GPP UTRAN/GERAN with Gn based SGSN\nNOTE 1:\tThe above figures only show the necessary components related to MSC Server enhanced for SRVCC.\nNOTE 2:\tMSC Server shown in the above figures are enhanced for SRVCC.\nNOTE 3:\tThis architecture also applies to roaming scenario.\nNOTE 4:\tThe MSC Server enhanced for SRVCC may not be the final target MSC which connects to the target cell.\nFigure 5.2.3-2: SRVCC architecture for UTRAN (HSPA) to 3GPP UTRAN/GERAN with S4 based SGSN",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.2.3-1",
        "figure_5.2.3-2",
        "ts_23.060"
      ]
    },
    {
      "chunk_id": "ts_23.216_5.2.4",
      "section_id": "5.2.4",
      "section_title": "3GPP UTRAN/GERAN to 3GPP E-UTRAN or UTRAN (HSPA) SRVCC architecture",
      "content": "This specification introduces an additional function to those defined in the E‑UTRAN architecture TS 23.401 [2] for SRVCC. This additional function is provided by the MSC Server (i.e., MSC Server enhanced for CS to PS SRVCC).\nNOTE 1:\tThe above figure only shows the necessary components related to MSC Server enhanced for CS to PS SRVCC.\nNOTE 2:\tMSC Server shown in the figure is enhanced for CS to PS SRVCC.\nNOTE 3:\tThis architecture also applies to roaming scenario (i.e. S8, S6a are not impacted due to CS to PS SRVCC).\nFigure 5.2.4: CS to PS SRVCC architecture for UTRAN/GERAN to 3GPP E-UTRAN",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.2.4",
        "ts_23.401"
      ]
    },
    {
      "chunk_id": "ts_23.216_5.2.5",
      "section_id": "5.2.5",
      "section_title": "3GPP GERAN to 3GPP UTRAN (HSPA) SRVCC architecture",
      "content": "This specification introduces an additional function to those defined in the UTRAN architecture TS 23.060 [10] for CS to PS SRVCC. This additional function is provided by the MSC Server (i.e., MSC Server enhanced for CS to PS SRVCC).\nFigure 5.2.5-1: CS to PS SRVCC architecture for 3GPP GERAN to UTRAN (HSPA) with Gn based SGSN\nNOTE 1:\tThe above figures only show the necessary components related to MSC Server enhanced with CS to PS SRVCC.\nNOTE 2:\tMSC Server shown in the above figures are enhanced for CS to PS SRVCC.\nNOTE 3:\tThis architecture also applies to roaming scenario.\nFigure 5.2.5-2: CS to PS SRVCC architecture for 3GPP GERAN to UTRAN (HSPA) with S4 based SGSN",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.2.5-1",
        "figure_5.2.5-2",
        "ts_23.060"
      ]
    },
    {
      "chunk_id": "ts_23.216_5.2.6",
      "section_id": "5.2.6",
      "section_title": "NG-RAN to 3GPP UTRAN 5G-SRVCC architecture",
      "content": "This specification introduces an additional function to those defined in the 5GC architecture in TS 23.501 [48] for 5G-SRVCC. This additional function is provided by the MSC Server (i.e., MSC Server enhanced for SRVCC) and the MME_SRVCC.\nNOTE 1:\tThe following figure only shows the necessary components related to 5G-SRVCC.\nNOTE 2:\tMSC Server shown in the figure is enhanced for SRVCC.\nNOTE 3:\tThis architecture also applies to roaming scenario (i.e., N16, N9 are not impacted due to SRVCC).\nNOTE 4:\tThe MSC Server enhanced for SRVCC may not be the final target MSC which connects to the target cell.\nFigure 5.2.6-1: 5G-SRVCC architecture for NG-RAN to 3GPP UTRAN",
      "chunk_type": "general",
      "cross_references": [
        "figure_5.2.6-1",
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_23.216_5.3",
      "section_id": "5.3",
      "section_title": "Functional Entities",
      "content": "NOTE 1:\t3GPP2 components are not described here. Please refer to 3GPP2 X.S0042 [4].\nNOTE 2:\tIMS components are not described here. Please refer to TS 23.237 [14] and TS 23.292 [13].",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.237",
        "ts_23.292"
      ]
    },
    {
      "chunk_id": "ts_23.216_5.3.1",
      "section_id": "5.3.1",
      "section_title": "3GPP2 1x CS SRVCC interworking solution function (1xCS IWS)",
      "content": "3GPP2 1xCS IWS uses the S102 reference point to communicate with the MME and to transport 3GPP2 1xCS signalling messages to the SRVCC UE. The role of the 3GPP2 1xCS IWS is:\n-\tTo be a signalling tunnelling end point towards the MME for receiving/sending encapsulated 3GPP2 1xCS signalling messages to/from the UE; and\n-\tTo emulate a 1xRTT BSS towards the 1xRTT MSC (reference point A1 as defined in 3GPP2 A.S0014 [20] between 1xBS and MSC).",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.216_5.3.2",
      "section_id": "5.3.2",
      "section_title": "MSC Server enhanced for E-UTRAN/UTRAN (HSPA) to 3GPP UTRAN/GERAN SRVCC",
      "content": "In addition to the standard MSC Server behavior defined in TS 23.002 [15], an MSC Server which has been enhanced for SRVCC provides the following functions as needed for support of SRVCC:\n-\tHandling the Relocation Preparation procedure requested for the voice component from MME/SGSN and with priority if priority indication is received via the Sv reference point;\n-\tBehaving as MSC Server enhanced for ICS as defined in TS 23.292 [13] if supported and when ICS flag is received via the Sv reference point is set to true and optionally if the MSC Server is configured to know that the VPLMN has a suitable roaming agreement with the HPLMN of the UE;\n-\tInvoking the session transfer procedure or emergency session transfer procedure from IMS to CS as according to TS 23.237 [14] and with priority if priority indication is received via the Sv reference point;\n-\tCoordinating the CS Handover and session transfer procedures;\n-\tIn the case of a non-emergency session, handling the MAP_Update_Location procedure without it being triggered from the UE;\n-\tIn the case of an emergency session, conditionally sending a MAP Subscriber Location Report to a GMLC to support location continuity according to TS 23.271 [29].\n5.3.2a\tMSC Server enhanced for vSRVCC\nAn MSC Server enhanced for SRVCC may be further enhanced for vSRVCC by providing, in addition to the functions specified in clause 5.3.2, the following functions as needed for the support of vSRVCC:\n-\tInitiating the handover towards the target system for BS30 when it receives the Sv request with a vSRVCC indication from the MME and with priority if priority indication is received via the Sv reference point.\n-\tNegotiating with the SCC AS for the last active session to determine if it should perform SRVCC or vSRVCC procedure.\n5.3.2b\tMSC Server enhanced for CS to PS SRVCC\nIn addition to the standard MSC Server behaviour defined in TS 23.002 [15] and TS 23.292 [13] for MSC Server enhanced for ICS, an MSC Server which has been enhanced for SRVCC from CS to PS provides the following functions as needed:\n-\tThe MSC Server informs the RAN about the possibility to perform CS to PS SRVCC by sending a \"CS to PS SRVCC operation possible\" to the RNC/BSC only for normal TS 11 call. The RAN uses that information for deciding the cells for which the UE reports measurements that lead to handover request to the core network.\n-\tThe MSC Server determines the possibility of performing CS to PS SRVCC based on:\n-\tThe CS to PS SRVCC capability indication of the UE received from IMS as defined in TS 23.237 [14].\n-\tThe presence of the CS to PS SRVCC allowed indication in the subscription data of the user.\n-\tThe IMS registration status of the UE.\n-\tThe MSC Server informs RAN that CS to PS SRVCC is not possible by sending a \"CS to PS SRVCC operation possible\" set to \"false\" to the RNC/BSC on reception of the UE's IMS registration expiration notification from SCC AS during an ongoing CS call.\n-\tThe target MME/SGSN selection for supporting CS to PS SRVCC is based on Target ID contained in the HO required and can be performed using the SGSN/MME selection procedures specified in TS 29.303 [37] or using local configuration in the MSC Server.\n-\tThe call is a normal TS 11 call (i.e. not an emergency call - TS12, TS 22.003 [39]).\nNOTE:\tThe IMS emergency session that is transferred from PS to CS is not subjected for this CS to PS SRVCC procedure.\n-\tIf roaming restriction to E-UTRAN access needs to be enforced, an MSC server connected to RNCs that may handover or invoke release with redirection to E-UTRAN is configured with a list of HPLMN IDs that are permitted to access E-UTRAN unless restricted by the UE individual access restriction information received from HLR/HSS (see TS 29.002 [41]). Also, the MSC server shall set the E-UTRAN Service Handover IE (in Iu mode) for CS bearers to an appropriate value to inform the RNC about connected-mode mobility restriction to E‑UTRAN.",
      "chunk_type": "general",
      "cross_references": [
        "clause_5.3.2",
        "ts_23.002",
        "ts_23.292",
        "ts_23.237",
        "ts_23.271",
        "ts_29.303",
        "ts_22.003",
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_23.216_5.3.3.1.1",
      "section_id": "5.3.3.1.1",
      "section_title": "Interworking with 3GPP2 1xCS IWS",
      "content": "If the MME (operator) supports interworking to 3GPP2 1xCS, the MME shall follow the rules and procedures described in TS 23.402 [3] with the following additions and clarifications:\n-\tTo be a signalling tunnelling end point towards the 3GPP2 1xCS IWS for sending/receiving encapsulated 3GPP2 1xCS signalling messages to/from the UE, which are encapsulated in S1-MME S1 Information Transfer messages (TS 36.413 [30]).\n-\trelease of the E-UTRAN resources after SRVCC to the 3GPP2 1xCS is completed.\n-\tinclude information to enable 3GPP2 network to determine emergency session.\n-\tinsert the equipment identifier during the handover procedure of an emergency session.\nIf the MME (operator) supports the interworking to 3GPP2 1xCS, and a UE is handed over by an AMF (see TS 23.501 [48]), the MME shall follow the rules and procedures described in TS 23.402 [3] with the following additions and clarifications:\n-\tthe MME shall obtain the equipment identifier of the UE.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.402",
        "ts_36.413",
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_23.216_5.3.3.1.2",
      "section_id": "5.3.3.1.2",
      "section_title": "Selection of 3GPP2 1xCS IWS",
      "content": "The 3GPP2 1xCS IWS can be selected based on the local configuration in the MME taking into account the Reference CellID received in the Uplink S1 cdma2000 Tunnelling message.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.216_5.3.3.2.1",
      "section_id": "5.3.3.2.1",
      "section_title": "Interworking with 3GPP MSC Server enhanced for (v)SRVCC",
      "content": "If the MME (operator) supports the interworking to 3GPP CS, the MME shall follow the rules and procedures described in TS 23.401 [2] with the following additions and clarifications:\n-\tPerforming the PS bearer splitting function by separating the voice PS bearer from the non-voice PS bearers.\n-\tHandling the non-voice PS bearers handover with the target cell as according to Inter RAT handover procedure as defined in TS 23.401 [2].\n-\tInitiating the SRVCC handover procedure for handover of the voice component to the target cell via the Sv interface and including an emergency indication if this is an emergency session. If there are multiple voice bearers and one of those is for IMS emergency session then MME shall only execute the SRVCC for emergency.\nNOTE:\tThe UE may have 2 voice PS bearers if both emergency and normal IMS voice sessions are ongoing. Only the PS voice bearer associated with IMS emergency session will be executed for SRVCC.\n-\tCoordinating PS handover and (v)SRVCC handover procedures when both procedures are performed.\n-\tSending the equipment identifier to the MSC Server during the handover procedure of an emergency session.\n-\tIn the case of an emergency session, conditionally sending a Subscriber Location Report to a GMLC to support location continuity according to TS 23.271 [29].\n-\tIf the MME (operator) supports vSRVCC and if the target is UTRAN, signalling the vSRVCC indication to the source MSC Server and performing bearer splitting of voice and video bearers of the IMS sessions with bi-directional video and voice media e.g. IMS Multimedia Telephony as defined in TS 22.173 [26].\n-\tIf (v)SRVCC with priority is supported and (v)SRVCC is performed for IMS-based MPS session, the MME sets the priority indication appropriately toward the MSC Server enhanced for (v)SRVCC via the Sv reference point.\nIf the MME (operator) supports the interworking to 3GPP CS, and a UE is handed over by an AMF (see TS 23.501 [48]), the MME shall follow the rules and procedures described in TS 23.401 [2] with the following additions and clarifications:\n-\tthe MME shall obtain the equipment identifier of the UE.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.401",
        "ts_23.271",
        "ts_22.173",
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_23.216_5.3.3.2.2",
      "section_id": "5.3.3.2.2",
      "section_title": "PS bearer splitting function",
      "content": "The function identifies the voice PS bearer upon E-UTRAN to UTRAN/GERAN (v)SRVCC and performs different handling of these bearers from the non-voice PS bearers (see detailed procedures in subsequent clauses). For vSRVCC, it also identifies the vSRVCC marked video PS bearer in addition to the voice PS bearer.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.216_5.3.3.2.3",
      "section_id": "5.3.3.2.3",
      "section_title": "Selection of MSC enhanced for SRVCC",
      "content": "The MSC enhanced for SRVCC can be selected based on DNS procedures (see TS 29.303 [37]) or local configuration in the MME.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.303"
      ]
    },
    {
      "chunk_id": "ts_23.216_5.3.3.3",
      "section_id": "5.3.3.3",
      "section_title": "Interworking of Target MME with 3GPP MSC Server enhanced for SRVCC from CS to PS",
      "content": "If the MME (operator) supports the interworking to 3GPP CS, the target MME shall follow the rules and procedures described in TS 23.401 [2] with the following additions and clarifications:\n-\tHandling the non-voice PS bearers and allocating resources with the target RAN when receiving CS to PS HO request from MSC via the Sv interface.\n-\tSelecting the source MME/SGSN based on information about the MME/SGSN provided by the MSC Server using the SGSN/MME selection procedures specified in TS 29.303 [37] or using local configuration in the target MME.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.401",
        "ts_29.303"
      ]
    },
    {
      "chunk_id": "ts_23.216_5.3.3.4",
      "section_id": "5.3.3.4",
      "section_title": "MME_SRVCC",
      "content": "MME_SRVCC supporting the 5G-SRVCC handover from NG-RAN to 3GPP UTRAN shall at minimum support the inter-RAT handover from NG-RAN to E-UTRAN as described in TS 23.502 [45] and SRVCC from E-UTRAN to UTRAN without PS HO procedure as described in clause 6.2.2.1A with the following additions and clarifications:\n-\tTriggers SRVCC without PS HO procedure according to \"5G-SRVCC HO Indication\" received from AMF.\n-\tSelects a MSC server according to the Target ID received from AMF.\n-\tConverts the message between N26 interface and Sv interface.\n-\tStores the association between Sv interface and N26 interface for the UE, forwards signalling between AMF and MSC Server/SGSN.\n-\tReleases the association between Sv interface and N26 interface for the UE after PS to CS Complete ACK message.\n5.3.3A\tSGSN\n5.3.3A.1\tInterworking with 3GPP MSC Server enhanced for SRVCC from E-UTRAN / UTRAN (HSPA) to 3GPP UTRAN/GERAN\n5.3.3A.1.1\tInterworking with 3GPP MSC Server enhanced for SRVCC\nIf the SGSN (operator) supports the interworking to 3GPP CS, the SGSN shall follow the rules and procedures described in TS 23.060 [10] with the following additions and clarifications:\n-\tPerforming the PS bearer splitting function by separating the voice PS bearer from the non-voice PS bearers. VoIP is detected by traffic class=conversational and Source Statistics Descriptor='speech'.\n-\tHandling the non-voice PS bearers handover with the target cell as according to Inter/Intra RAT handover procedure as defined in TS 23.060 [10].\n-\tInitiating the SRVCC handover procedure for handover of the voice component to the target cell via the Sv interface and including an emergency indication if this is an emergency session. If there are multiple voice bearers and one of those is for IMS emergency session then SGSN shall only execute the SRVCC for emergency.\nNOTE:\tThe UE may have 2 voice PS bearers if both emergency and normal IMS voice sessions are ongoing. Only the PS voice bearer associated with IMS emergency session will be executed for SRVCC.\n-\tCoordinating PS handover and SRVCC handover procedures when both procedures are performed.\n-\tSending the equipment identifier to the MSC Server during the handover procedure for the case of UEs operating in limited service mode.\n-\tIn the case of an emergency session, conditionally sending a MAP Subscriber Location Report to a GMLC to support location continuity according to TS 23.271 [29].\n5.3.3A.1.2\tPS bearer splitting function\nThe function identifies the voice PS bearer upon HSPA to UTRAN/GERAN SRVCC and performs different handling on this bearer from the non-voice PS bearers (see detailed procedures in subsequent clauses).\n5.3.3A.1.3\tSelection of MSC enhanced for SRVCC\nThe MSC enhanced for SRVCC can be selected based on DNS procedures (see TS 29.303 [37]) or local configuration in the SGSN.\n5.3.3A.2\tInterworking of Target SGSN with 3GPP MSC Server enhanced for SRVCC from CS to PS\nIf the SGSN (operator) supports the interworking to 3GPP CS, the target SGSN shall follow the rules and procedures described in TS 23.060 [10] with the following additions and clarifications:\n-\tHandling the non-voice PS bearers and allocating resources with the target RAN when receiving CS to PS HO request from MSC via the Sv interface.\n-\tSelecting the source MME/SGSN based on information about the MME/SGSN provided by the MSC Server using the SGSN/MME selection procedures specified in TS 29.303 [37] or using local configuration in the target SGSN.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.2.2.1",
        "ts_23.502",
        "ts_23.060",
        "ts_23.271",
        "ts_29.303"
      ]
    },
    {
      "chunk_id": "ts_23.216_5.3.4.1",
      "section_id": "5.3.4.1",
      "section_title": "Interworking with 3GPP2 1xCS",
      "content": "If the UE supports 3GPP2 1xCS access, the 1xCS SRVCC UE is a UE that is capable to perform SRVCC to the 3GPP2 1xCS system. The interaction between UE and E-UTRAN is described in TS 36.300 [16]. The interaction with the 3GPP2 1xCS system is described in this specification.",
      "chunk_type": "general",
      "cross_references": [
        "ts_36.300"
      ]
    },
    {
      "chunk_id": "ts_23.216_5.3.4.2",
      "section_id": "5.3.4.2",
      "section_title": "Interworking with 3GPP UTRAN/GERAN for SRVCC from E-UTRAN / UTRAN (HSPA) to 3GPP UTRAN/GERAN",
      "content": "3GPP SRVCC UE is needed to perform SRVCC (see clause 3.1 for 3GPP SRVCC UE definition). The interaction between UE and E-UTRAN is described in TS 36.300 [16] and between UE and UTRAN (HSPA) is described in TS 25.331 [19].\nThe SRVCC UE indicates to the network that the UE is SRVCC capable when being configured for using IMS speech service supported by the home operator, e.g. the IMS Multimedia Telephony Service for bi-directional speech as described in TS 22.173 [26].\nFor an eCall Over IMS after handover to GERAN/UTRAN is complete, the SRVCC UE shall support in-band transfer of updated MSD according to TS 26.267 [43].",
      "chunk_type": "general",
      "cross_references": [
        "clause_3.1",
        "ts_36.300",
        "ts_25.331",
        "ts_22.173",
        "ts_26.267"
      ]
    },
    {
      "chunk_id": "ts_23.216_5.3.4.3",
      "section_id": "5.3.4.3",
      "section_title": "Interworking of UE with 3GPP UTRAN/GERAN for SRVCC from CS to PS",
      "content": "The UE supporting CS to PS SRVCC indicates to the network that the UE is CS to PS SRVCC capable when being configured for using IMS speech service supported by the home operator, e.g. the IMS Multimedia Telephony Service for bi-directional speech as described in TS 22.173 [26].\nThe UE supporting CS to PS SRVCC indicates to the MSC Server the information about the MME / SGSN the UE had last contact with using P‑TMSI+RAI+P‑TMSI signature or GUTI. This information shall be provided by the UE to the MSC server by NAS signalling upon request from the MSC.\n5.3.4a\tUE enhanced for vSRVCC\n3GPP vSRVCC UE signals its vSRVCC capability to the network. If the UE supports vSRVCC capability, it shall also support SRVCC capability.\nIf needed, the vSRVCC UE initiates the multimedia codec negotiation on the CS domain after the vSRVCC handover is completed.\nNOTE:\tIt is recommended that the UE and the network support the MONA codec negotiation mechanism (see TR 26.911 [35] and ITU‑T Recommendation H.324 [33], Annex K) to accelerate the call establishment and minimise the interruption time.\n5.3.4b\tUE enhanced for 5G-SRVCC\nIf the UE supports the 5G-SRVCC from NG-RAN to 3GPP UTRAN, the UE shall follow the rules and procedures described in TS 23.502 [45] with the following additions and clarifications:\n-\tSupports UTRAN cell measurement procedure.\n-\tSupports 5G-SRVCC from 5GS to 3GPP UTRAN in NAS and AS.\n-\tDerives CS security context from EPS security context which are derived from 5GS security context.",
      "chunk_type": "general",
      "cross_references": [
        "ts_22.173",
        "ts_26.911",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_23.216_5.3.5",
      "section_id": "5.3.5",
      "section_title": "Serving/PDN GW",
      "content": "The PDN GW shall support the PS-to-CS handover indicator as notified by the MME/SGSN (see detailed procedures in clause 6.2.2).\nNOTE:\tIf SRVCC is deployed and PCC is not used then the PDN GW is not able to enforce the architecture principle to use QCI=1, see clauses 4.1.1 and 4.1.2.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.2.2"
      ]
    },
    {
      "chunk_id": "ts_23.216_5.3.6.1",
      "section_id": "5.3.6.1",
      "section_title": "Interworking with 3GPP2 1xCS",
      "content": "If the E-UTRAN (operator) supports interworking to 3GPP2 1xCS, the E‑UTRAN performs the HO trigger, tunnelling of the 3GPP2 1xCS signalling messages toward the MME, and interacting with the SRVCC UE as described in TS 36.300 [16].\nE-UTRAN may be capable of determining the neighbour cell list based on the \"SRVCC operation possible\" indication and/or presence of an established QCI=1 bearer for a specific UE. An example algorithm is provided in clause A.1.\nNOTE:\tIf E-UTRAN does not update the neighbour cell list dynamically, if E-UTRAN triggers handover to 1x when either the \"SRVCC operation possible\" indication is not set or there is no established QCI=1 bearer for a specific UE, this will result in an error case.",
      "chunk_type": "general",
      "cross_references": [
        "ts_36.300"
      ]
    },
    {
      "chunk_id": "ts_23.216_5.3.6.2",
      "section_id": "5.3.6.2",
      "section_title": "Interworking with 3GPP UTRAN/GERAN for SRVCC from E-UTRAN to 3GPP UTRAN/GERAN",
      "content": "Between UE and E-UTRAN, no additional functionality is required for the E‑UTRAN as defined in TS 36.300 [16].\nWhen E‑UTRAN selects a target cell for SRVCC handover, it needs to send an indication to MME that this handover procedure requires SRVCC\nE-UTRAN may be capable of determining the neighbour cell list based on the \"SRVCC operation possible\" indication, the UE's Radio Access Capabilities for SRVCC from E-UTRAN to UTRAN/GERAN and PS Voice over UTRAN and/or presence of an established QCI=1 bearer for a specific UE. An example algorithm is provided in clause A.2.\nThe procedure for E-UTRAN Radio Access Network sharing is described in TS 23.251 [40].\nNOTE:\tIf E-UTRAN does not update the neighbour cell list dynamically, if E-UTRAN triggers handover to a VoIP-incapable cell when the \"SRVCC operation possible\" indication is set to \"false\" and there is an established voice (QCI=1) bearer for a specific UE, the establishment of the voice bearer will be rejected by the target access.\n5.3.6.2a\tInterworking with 3GPP UTRAN for vSRVCC\nBetween UE and E-UTRAN, no additional functionality is required for the E‑UTRAN as defined in TS 36.300 [16].\nE-UTRAN may be capable of determining the neighbour cell list based on simultaneous presence of established QCI=1 (for voice part) and vSRVCC marked bearers for a specific UE.\nNOTE 1\tThe usage of vSRVCC marked bearer by E-UTRAN is outside the scope of this specification.\nNOTE 2:\tIf E-UTRAN does not update the neighbour cell list dynamically, if E-UTRAN triggers handover to a VoIP incapable cell when the \"SRVCC operation possible\" indication is not set and there is an established voice (QCI=1) bearer for a specific UE, the establishment of the voice and video bearers will be rejected by the target access.\n5.3.6A\tUTRAN (HSPA)\nWhen HSPA capable UTRAN selects a target cell for SRVCC handover, it needs to send an indication to SGSN that this handover procedure requires SRVCC.\nNOTE 1:\tUTRAN (HSPA) assumes that SGSN supports SRVCC functionality.\nUTRAN may be capable of determining the neighbour cell list based on the \"SRVCC operation possible\" indication, the UE's Radio Access Capabilities for SRVCC from UTRAN (HSPA) to UTRAN/GERAN and/or presence of an established voice bearer (i.e. bearer with Traffic Class = Conversational and Source Statistic Descriptor = 'speech') for a specific UE. An example algorithm is provided in clause A.3.\nThe procedure for UTRAN Radio Access Network sharing is described in TS 23.251 [40].\nNOTE 2:\tIf UTRAN does not update the neighbour cell list dynamically, if UTRAN triggers handover to a VoIP-incapable cell when the \"SRVCC operation possible\" indication is not set and there is an established bearer with Traffic Class = Conversational and Source Statistic Descriptor = 'speech' for a specific UE, the establishment of the voice bearer will be rejected by the target access.\n5.3.6B\tGERAN/UTRAN CS\nWhen GERAN/UTRAN selects a target cell for CS to PS SRVCC handover, it shall send an indication to MSC Server enhanced for CS to PS SRVCC that this handover procedure requires CS to PS SRVCC.\nGERAN/UTRAN may be capable of determining the neighbour cell list based on the \"CS to PS SRVCC operation possible\" indication received from MSC Server enhanced for CS to PS SRVCC, the UE's Radio Access Capabilities for CS to PS SRVCC over GERAN/UTRAN, and the existence of CS voice call. An example algorithm is provided in Annex A, clause A.4.",
      "chunk_type": "general",
      "cross_references": [
        "ts_36.300",
        "ts_23.251"
      ]
    },
    {
      "chunk_id": "ts_23.216_5.3.7.1",
      "section_id": "5.3.7.1",
      "section_title": "Interworking with 3GPP UTRAN/GERAN for SRVCC or vSRVCC from E-UTRAN / UTRAN (HSPA) to 3GPP UTRAN/GERAN",
      "content": "The STN-SR, vSRVCC flag, C‑MSISDN and optional ICS flag per VPLMN, for the subscriber are downloaded to MME from HSS during E-UTRAN attach procedure. For UTRAN (HSPA), this subscription information is downloaded to SGSN from HSS during GPRS attach procedure. The HSS also informs the MME/SGSN when STN-SR is modified or removed from the subscription.\nNOTE 1:\tWhen STN-SR is modified or removed from the subscription, the HSS can decide not to inform the MME/SGSN e.g. if the MME/SGSN has previously notified the HSS that it does not support IMS voice over PS in any TA/RA as specified in TS 23.401 [2] clause 4.3.5.8A.\nThe ICS flag is used by the MSC Server enhanced for (v)SRVCC to behave also as MSC Server enhanced for ICS in TS 23.292 [13] if supported by the network.\nNOTE 2:\tHSS functionality is not impacted when MSC Server enhanced for (v)SRVCC performs the MAP_Update_Location procedure.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.401_clause_4.3.5.8",
        "ts_23.401",
        "ts_23.292"
      ]
    },
    {
      "chunk_id": "ts_23.216_5.3.7.2",
      "section_id": "5.3.7.2",
      "section_title": "Interworking with 3GPP UTRAN/GERAN for SRVCC from CS to PS",
      "content": "The \"CS to PS SRVCC allowed\" indication and optional ICS flag are downloaded to MSC Server from HSS during attach procedure.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.216_5.3.8",
      "section_id": "5.3.8",
      "section_title": "PCC",
      "content": "The PCRF enforces the architecture principle to use QCI=1 (and traffic-class conversational with source statistics descriptor =\"speech\") for voice bearer with IMS sessions anchored in the SCC AS, based on the service the session relates to. This may be achieved by deploying S9 reference point, or configuration and roaming agreements.\nThe PCEF should enforce to multiplex the media streams from multiple concurrent normal voice sessions.\nNOTE:\tIn this Release the UE initiated PDP context for voice bearer is not supported.\nFor vSRVCC, the PCRF enforces that the video bearer of IMS sessions anchored in the SCC AS, is marked with the \"PS to CS session continuity indicator\", see TS 23.203 [32], and hence can be identified as vSRVCC marked video PS bearer in clause 5.3.3.2.2.",
      "chunk_type": "general",
      "cross_references": [
        "clause_5.3.3.2.2",
        "ts_23.203"
      ]
    },
    {
      "chunk_id": "ts_23.216_5.3.9",
      "section_id": "5.3.9",
      "section_title": "UDM",
      "content": "UDM/HSS includes STN-SR and C-MSISDN as part of the subscription data sent to the AMF. If the STN-SR is present, this indicates the UE is 5G-SRVCC subscribed. The UDM/HSS also informs the AMF when STN-SR is modified or removed from the subscription.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.216_5.3.10",
      "section_id": "5.3.10",
      "section_title": "AMF",
      "content": "If the AMF supports the 5G-SRVCC from NG-RAN to 3GPP UTRAN, the AMF shall follow the rules and procedures described in TS 23.502 [45] with the following additions and clarifications:\n-\tHandles UE 5G-SRVCC capability in NAS message.\n-\tIndicates 5G-SRVCC possible to NG-RAN.\n-\tSelects the MME_SRVCC according to the Target ID and 5G-SRVCC HO Indication.\n-\tSupports N26 interface.\n-\tReceives STN-SR and C-MSISDN as part of the subscription data sent by UDM/HSS.\n-\tIndicates 5G-SRVCC HO Indication in Forward Relocation Request message, with either:\n-\tSTN-SR and C-MSISDN during the handover procedure of a non-emergency session; or\n-\tthe Emergency Indication and the equipment identifier during the handover procedure of an emergency session.\n-\tSkips Nsmf_PDUSession_Context procedure for all the PDU sessions.\n-\tShall not include any UE EPS PDN Connection IE into Forward Relocation Request message.\n-\tWhen 5G-SRVCC is performed for an emergency session, perform \"Location continuity for Handover of an Emergency session from NG-RAN\" as specified in TS 23.273 [50].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.502",
        "ts_23.273"
      ]
    },
    {
      "chunk_id": "ts_23.216_5.3.11",
      "section_id": "5.3.11",
      "section_title": "NG-RAN",
      "content": "If the NG-RAN supports 5G-SRVCC from NG-RAN to 3GPP UTRAN, the NG-RAN performs the HO trigger, follow the rules and procedure described in TS 38.300 [49] with the following additions and clarifications:\n-\tReceives the 5G-SRVCC possible indication from AMF.\n-\tSends the 5G-SRVCC possible indication to Target RAN during Handover procedure.\n-\tSupports the UTRAN cell measurement procedure.\n-\tDetermines based on the radio conditions and on UE capability that 5G-SRVCC is to be initiated.\n-\tIndicates 5G-SRVCC HO Indication in HO Required message if the 5G-SRVCC from 5G to 3G is initiated.",
      "chunk_type": "general",
      "cross_references": [
        "ts_38.300"
      ]
    },
    {
      "chunk_id": "ts_23.216_5.4.1",
      "section_id": "5.4.1",
      "section_title": "MME – 3GPP2 1xCS IWS (S102)",
      "content": "The S102 reference point provides a tunnel between MME and 3GPP2 1xCS IWS to relay 3GPP2 1xCS signalling messages. 1x CS signalling messages are those messages that are defined for A21 interface as described in 3GPP2 A.S0008-C [8].\nNOTE.\tIt is up to stage 3 to determine whether the tunnelling protocol for S102 can be defined as exactly as in A21. If so, S102 is then equivalent to A21.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.216_5.4.2",
      "section_id": "5.4.2",
      "section_title": "MME/SGSN – MSC Server (Sv)",
      "content": "The Sv reference point provides (v)SRVCC support from 3GPP E-UTRAN/UTRAN (HSPA) to 3GPP UTRAN/GERAN.\nMME/SGSN includes the optional ICS flag if received from the HSS.\nIf (v)SRVCC with priority is supported, MME includes the priority indication if the SRVCC is for IMS-based MPS session.\nThe Sv reference point provides additionally SRVCC support from CS to PS.\n5.4.2A\tMME_SRVCC - MSC Server (Sv)\nThe Sv reference point provides 5G-SRVCC support from 3GPP NG-RAN to 3GPP UTRAN.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.216_5.4.3",
      "section_id": "5.4.3",
      "section_title": "E-UTRAN – MME (S1-MME)",
      "content": "For 3GPP2 1xCS SRVCC, the S1‑MME reference point provides S1 Information Transfer message (TS 36.413 [30]) between UE and MME to relay the 3GPP2 1xCS signalling messages.\nFor 3GPP (v)SRVCC, the S1‑MME reference point allows handover signalling between E‑UTRAN and MME. It is defined in TS 36.300 [16]\n5.4.3A\tUTRAN (HSPA) – SGSN (Iu-ps)\nFor 3GPP HSPA SRVCC, the Iu-ps reference point allows handover signalling between UTRAN and SGSN. It is defined in TS 25.413 [11].",
      "chunk_type": "general",
      "cross_references": [
        "ts_36.413",
        "ts_36.300",
        "ts_25.413"
      ]
    },
    {
      "chunk_id": "ts_23.216_5.4.4",
      "section_id": "5.4.4",
      "section_title": "HSS – MME (S6a)",
      "content": "For 3GPP (v)SRVCC, the S6a is used to download SRVCC related information to MME during E‑UTRAN attach procedure or to inform MME that STN-SR information in the HSS has changed.\nFor 3GPP vSRVCC, the S6a is used to download vSRVCC flag to MME during E‑UTRAN attach procedure or to inform MME that vSRVCC flag in the HSS has changed.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.216_5.4.5",
      "section_id": "5.4.5",
      "section_title": "HSS – SGSN (Gr, S6d)",
      "content": "For 3GPP SRVCC, either the Gr or the S6d is used to download SRVCC related information to SGSN during UTRAN (HSPA) attach procedure or to inform SGSN that STN-SR information in the HSS has changed.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.216_5.4.6",
      "section_id": "5.4.6",
      "section_title": "HSS - MSC (MAP D)",
      "content": "If the subscriber is allowed to have CS to PS SRVCC, the HSS shall include the \"CS to PS SRVCC allowed\" indication in the Insert Subscriber Data sent to the MSC Server. The \"CS to PS SRVCC allowed\" indication may be specific for each VPLMN.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.216_5.4.7",
      "section_id": "5.4.7",
      "section_title": "AMF - MME_SRVCC",
      "content": "For 5G-SRVCC, the N26 reference point which is defined in TS 23.501 [48] allows handover signalling between AMF and MME_SRVCC with the following additional parameters:\n-\tFor a non-emergency session:\n-\t5G-SRVCC HO Indication;\n-\tSTN-SR;\n-\tC-MSISDN;\n-\tSupportedCodec IE; and\n-\tMS ClassMark 2\n-\tFor an emergency session:\n-\tEmergency indication; and\n-\tEquipment identifier.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.501"
      ]
    },
    {
      "chunk_id": "ts_23.216_5.4.8",
      "section_id": "5.4.8",
      "section_title": "NG-RAN - AMF",
      "content": "For 5G-SRVCC, the N2 reference point which is defined in TS 38.300 [49] allows handover signalling between NG-RAN and AMF with the following additional parameter:\n-\t5G-SRVCC HO Indication.\n-\t5G-SRVCC possible indication.",
      "chunk_type": "general",
      "cross_references": [
        "ts_38.300"
      ]
    },
    {
      "chunk_id": "ts_23.216_6.1.1",
      "section_id": "6.1.1",
      "section_title": "E-UTRAN Attach procedure for SRVCC",
      "content": "E-UTRAN attach, emergency attach, or tracking area update procedure for 3GPP2 SRVCC UE is performed as defined in TS 23.401 [2] with the following additions:\n-\tSRVCC UE includes the SRVCC capability indication as part of the \"UE Network Capability\" in the Attach Request message or Tracking Area Update Request message. MME stores this information for SRVCC operation.\n-\tSRVCC UE capable for IMS emergency calls shall include the SRVCC capability indication as part of the UE network capability in the Emergency Attach Request message. MME stores this information for emergency SRVCC operation.\n-\tMME includes a \"SRVCC operation possible\" indication in the S1 AP Initial Context Setup Request, meaning that both UE and MME are SRVCC-capable.",
      "chunk_type": "procedure",
      "cross_references": [
        "ts_23.401"
      ]
    },
    {
      "chunk_id": "ts_23.216_6.1.2",
      "section_id": "6.1.2",
      "section_title": "Service Request procedures for SRVCC",
      "content": "Service Request procedures for 3GPP2 SRVCC UE are performed as defined in TS 23.401 [2] with the following additions:\n-\tMME includes a \"SRVCC operation possible\" indication in the S1 AP Initial Context Setup Request, meaning that both UE and MME are SRVCC-capable.\n6.1.2A\tPS Handover procedures for SRVCC\nIntra-E-UTRAN S1-based handover procedures for 3GPP2 SRVCC UE are performed as defined in TS 23.401 [2] with the following additions:\n-\tThe target MME includes a \"SRVCC operation possible\" indication in the S1-AP Handover Request message, meaning that both UE and the target MME are SRVCC-capable.\nFor X2-based handover, the source eNodeB includes a \"SRVCC operation possible\" indication in the X2-AP Handover Request message to the target eNodeB as specified in TS 36.423 [36].",
      "chunk_type": "procedure",
      "cross_references": [
        "ts_23.401",
        "ts_36.423"
      ]
    },
    {
      "chunk_id": "ts_23.216_6.1.3",
      "section_id": "6.1.3",
      "section_title": "Call flows for SRVCC from E-UTRAN",
      "content": "Figure 6.1.3-1 illustrates a high-level call flow for the E-UTRAN-to-1x voice service continuity procedure.\nFigure 6.1.3-1: LTE VoIP-to-1x CS voice service continuity\n1.\tOngoing VoIP session over the IMS access leg established over EPS/E‑UTRAN access.\n2.\t1xCS SRVCC UE sends measurement reports to eNodeB.\n3.\tThe E‑UTRAN (e.g., based on some trigger, measurement reports) makes a determination to initiate an inter‑technology handover to cdma2000 1xRTT.\n4.\tThe E‑UTRAN signals the UE to perform an inter‑technology handover by sending a Handover from EUTRA Preparation Request (3G1x Overhead Parameters, RAND value) message.\n5.\tThe UE initiates signalling for establishment of the CS access leg by sending a UL handover preparation Transfer message containing the 1xRTT Origination message. For the case of emergency voice service continuity, the request includes a Request-Type = \"emergency handover\" and the MEID (e.g. IMEI) is included.\n6.\tThe E‑UTRAN sends an Uplink S1 cdma2000 Tunnelling (MEID, RAND, 1x Origination, Reference CellID) message to the MME. The eNodeB will also include CDMA2000 HO Required Indication IE to Uplink S1 CDMA2000 Tunnelling message, which indicates to the MME that the handover preparation has started.\n7.\tUpon reception of the Uplink S1 cdma2000 Tunnelling message, the MME selects a 3GPP2 1xCS IWS as specified in clause 5.3.3.1.2 and encapsulates the 1x Origination Message along with the MEID and RAND in a S102 Direct Transfer message (as \"1x Air Interface Signalling\").\n8.\tThe traffic channel resources are established in the 1x RTT system and 3GPP2 1xCS procedures for initiation of Session Transfer are performed as per 3GPP2 X.S0042 [4].\nNOTE 1:\tStep 9 and 3GPP2 1xCS procedures in step 8 are independent of each other.\nNOTE 2:\tFor non-emergency session transfers, the \"VDN\" parameter referred to in 3GPP2 X.S0042 [4] corresponds to the STN-SR parameter defined in TS 23.237 [14].\nNOTE 3:\tThe emergency session transfer procedures and procedures for the 1x CS SRVCC UE obtaining the local emergency STN-SR will be specified by 3GPP2.\n9.\tThe 3GPP2 1xCS IWS creates a 1x message and encapsulates it in a S102 Direct Transfer message (1x message, Handover indicator). If the 3GPP2 access was able to allocate resources successfully, the 1x message is a 1x Handover Direction message and the handover indicator indicates successful resource allocation. Otherwise, the handover indicator indicates to the MME that handover preparation failed and the embedded 1x message indicates the failure to the UE.\n10.\tThe MME sends the 1x message and CDMA2000 HO Status IE in a Downlink S1 cdma2000 Tunnelling message to the E‑UTRAN. The CDMA2000 HO Status IE is set according to the handover indicator received over the S102 tunnel.\n11.\tIf the CDMA2000 HO Status IE indicates successful handover preparation, the E‑UTRAN forwards the 1x Handoff Direction message embedded in a Mobility from EUTRA Command message to the UE. This is perceived by the UE as a Handover Command message. If handover preparation failed, DL Information transfer message will be sent instead, with the embedded 1xRTT message that indicates the failure to the UE.\n12.\tOnce the UE receives the traffic channel information from the cdma2000 1xRTT system, the UE retunes to the 1xRTT radio access network and performs traffic channel acquisition with the 1xRTT CS access (e.g., 1xRTT BSS).\n13.\tThe UE sends a 1xRTT handoff completion message to the 1xRTT CS access (e.g., 1xRTT BSS).\n14.\tThe 1xRTT CS Access sends message to 1xRTT MSC to indicate of handoff done. The resources between 1x CS IWS and 1xRTT MSC may be released at this step.\n15.\tOngoing voice call over the CS access leg established over 1xRTT access. The E‑UTRAN/EPS context may be released based on the normal E‑UTRAN/EPS procedure.\n16.\tThe eNodeB sends an S1 UE Context Release Request (Cause) message to the MME. Cause indicates the S1 release procedure is caused by handover from E-UTRAN to 1xRTT.\n17.\tThe MME deactivates GBR bearers towards S-GW and P-GW(s) by initiating MME-initiated Dedicated Bearer Deactivation procedure as specified in TS 23.401 [2]. PS-to-CS handover indicator is notified to P-GW for voice bearer during the bearer deactivation procedure. The MME starts preservation and suspension of non-GBR bearers by sending Suspend Notification message towards S-GW. The S-GW releases S1-U bearers for the UE and sends Suspend Notification message to the P-GW(s). The MME stores in the UE context that the UE is in suspended status. All the preserved non-GBR bearers are marked as suspended status in the S‑GW and P‑GW. The P-GW should discard packets if received for the suspended UE.\n18.\tS1 UE Context in the eNodeB is released as specified in TS 23.401 [2].\n19.\tFor an emergency services session after handover is complete, if the control plane location solution is used on the source side, the source MME shall send a Subscriber Location Report carrying the reference cell ID to the GMLC associated with the source side as defined in TS 23.271 [29] to support location continuity. This enables location continuity for the 1xRTT side. Alternatively, if the control plane solution is not used on the source side, location continuity procedures shall be instigated on the 1xRTT side.\nNOTE 4:\tLocation continuity on the 1xRTT side will be specified by 3GPP2.\nIf the UE has returned to E-UTRAN after the CS voice call was terminated, then the UE shall resume PS service by sending TAU to MME. The MME will in addition inform S-GW and P-GW(s) to resume the suspended bearers. Resuming the suspended bearers in the S-GW and in the P-GW should be done by implicit resume using the Modify Bearer Request message if it is triggered by the procedure in operation, e.g. TAU or Service Request. The S-GW is aware of the suspend state of the bearers and will forward the Modify Bearer Request to the P-GW. Explicit resume using the Resume Notification message should be used in cases when Modify Bearer Request is not triggered by the procedure in operation.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_5.3.3.1.2",
        "figure_6.1.3-1",
        "ts_23.237",
        "ts_23.401",
        "ts_23.271"
      ]
    },
    {
      "chunk_id": "ts_23.216_6.2.1",
      "section_id": "6.2.1",
      "section_title": "E-UTRAN Attach procedure for (v)SRVCC",
      "content": "E-UTRAN attach or tracking area update procedure for 3GPP (v)SRVCC UE is performed as defined in TS 23.401 [2] or tracking area update procedure in 5GS to EPS mobility with N26 for 3GPP (v)SRVCC UE is performed as defined in TS 23.502 [45] with the following additions:\n-\t(v)SRVCC UE includes the (v)SRVCC capability indication as part of the \"MS Network Capability\" in the Attach Request message and in Tracking Area Update Request message. MME stores this information for (v)SRVCC operation. The procedures are as specified in TS 23.401 [2].\nNOTE 1:\tIf the service configuration on the UE is changed (e.g. the user changes between an IMS speech/video service supported by the home operator and a PS speech service incompatible with (v)SRVCC), the UE can change its (v)SRVCC capability indication as part of the \"MS Network Capability\" in a Tracking Area Update message.\n-\tSRVCC UE includes the GERAN MS Classmark 3 (if GERAN access is supported), MS Classmark 2 (if GERAN or UTRAN access or both are supported) and Supported Codecs IE (if GERAN or UTRAN access or both are supported) in the Attach Request message and in the non-periodic Tracking Area Update messages.\nNOTE 2:\tMS Classmark 2, MS Classmark 3, STN-SR, C‑MSISDN, ICS Indicator and the Supported Codec IE are not sent from the source MME to the target MME/SGSN at inter CN-node idle mode mobility.\n-\tHSS includes STN-SR and C‑MSISDN as part of the subscription data sent to the MME. If the STN-SR is present, it indicates the UE is SRVCC subscribed. If a roaming subscriber is determined by the HPLMN not allowed to have SRVCC in the VPLMN then HSS does not include STN-SR and C‑MSISDN as part of the subscription data sent to the MME. If the subscriber is allowed to have vSRVCC in the VPLMN then HSS also includes vSRVCC flag as part of the subscription data sent to the MME. If STN-SR and C-MSISDN are not included in the subscription data, then the MME shall not set \"SRVCC operation possible\" indication.\n-\tMME includes a \"SRVCC operation possible\" indication in the S1 AP Initial Context Setup Request, meaning that both UE and MME are SRVCC-capable and that STN-SR and C-MSISDN are included in the subscription data.\nE-UTRAN emergency attach procedure for 3GPP SRVCC UE is performed as defined in TS 23.401 [2] and above with the following clarifications:\n-\tSRVCC UE shall include the SRVCC capability indication as part of the \"MS Network Capability\" in the Emergency Attach Request message, and maintained during Tracking Area Updates. MME stores this information for SRVCC operation. The procedures are as specified in TS 23.401 [2].\n6.2.1A\tService Request procedures for (v)SRVCC\nService Request procedures for 3GPP (v)SRVCC UE are performed as defined in TS 23.401 [2] with the following additions:\n-\tMME includes a \"SRVCC operation possible\" indication in the S1 AP Initial Context Setup Request, meaning that both UE and MME are SRVCC-capable and that STN-SR and C-MSISDN are included in the subscription data.\n6.2.1B\tPS Handover procedures for (v)SRVCC\nIntra-E-UTRAN S1-based handover and E-UTRAN to UTRAN (HSPA) Iu mode Inter RAT handover procedures for 3GPP SRVCC UE are performed as defined in TS 23.401 [2] with the following additions:\n-\tMS Classmark 2, MS Classmark 3, STN-SR, C‑MSISDN, ICS Indicator and the Supported Codec IE shall be sent from the source MME to the target MME/SGSN if available.\n-\tThe target MME includes a \"SRVCC operation possible\" indication in the S1-AP Handover Request message, meaning that both UE and the target MME are SRVCC-capable and that STN-SR and C-MSISDN are included in the subscription data.\n-\tThe target SGSN includes a \"SRVCC operation possible\" indication in the RANAP Common ID message, meaning that both UE and the target SGSN are SRVCC-capable and that STN-SR and C-MSISDN are included in the subscription data.\nFor X2-based handover, the source eNodeB includes a \"SRVCC operation possible\" indication in the X2-AP Handover Request message to the target eNodeB as specified in TS 36.423 [36].\nWhen the MME determines that \"SRVCC operation possible\" to eNodeB needs to be updated, e.g. when the UE updates its SRVCC capability indication when in connected mode, the MME shall immediately provide the updated \"SRVCC operation possible\" value in use to eNodeB by modifying an existing UE context. The S1 messages that transfer the \"SRVCC operation possible\" to the eNodeB are specified in TS 36.413 [30].\n6.2.1C\tDedicated Bearer Establishment and Modification procedures for vSRVCC\nDedicated Bearer Establishment and Modification procedures for a session for which vSRVCC is allowed are performed as defined in TS 23.401 [2] with the following additions:\n-\tIf dynamic PCC is deployed, the PCRF in the serving PLMN (i.e., VPLMN if roaming) interacts with the P-GW or S-GW as defined in TS 23.203 [32]. The P-GW and S-GW include a \"vSRVCC indicator\" in Create Bearer Request or Update Bearer Request messages that the bearer has been allocated for video media.",
      "chunk_type": "procedure",
      "cross_references": [
        "ts_23.401",
        "ts_23.502",
        "ts_36.423",
        "ts_36.413",
        "ts_23.203"
      ]
    },
    {
      "chunk_id": "ts_23.216_6.2.2",
      "section_id": "6.2.2",
      "section_title": "Call flows for (v)SRVCC from E-UTRAN",
      "content": "NOTE 1:\tIf the MSC Server enhanced for (v)SRVCC controls the target BSS/RNS, the steps depicted with dot-dashed arrows representing the MSC-MSC handover procedure defined in TS 23.009 [18] are not executed and the functions of the MSC Server enhanced for (v)SRVCC are merged with those of the target MSC.\nNOTE 2:\tFor the sake of brevity the call flow descriptions use \"MSC Server\" instead of \"MSC Server enhanced for (v)SRVCC\".\nNOTE 3:\tThe target MSC need not be enhanced for (v)SRVCC.",
      "chunk_type": "procedure",
      "cross_references": [
        "ts_23.009"
      ]
    },
    {
      "chunk_id": "ts_23.216_6.2.2.1",
      "section_id": "6.2.2.1",
      "section_title": "SRVCC from E-UTRAN to GERAN without DTM support",
      "content": "Depicted in figure 6.2.2.1-1 is a call flow for SRVCC from E-UTRAN to GERAN without DTM support. The flow requires that eNB can determine that the target is GERAN without DTM support or that the UE is without DTM support.\nFigure 6.2.2.1-1: SRVCC from E-UTRAN to GERAN without DTM support\n1.\tUE sends measurement reports to E-UTRAN.\n2.\tBased on UE measurement reports the source E‑UTRAN decides to trigger an SRVCC handover to GERAN.\n3.\tSource E‑UTRAN sends Handover Required (Target ID, generic Source to Target Transparent Container, SRVCC HO Indication) message to the source MME. The E‑UTRAN places the \"old BSS to new BSS information IE\" for the CS domain in the generic Source to Target Transparent Container. The SRVCC HO indication indicates to the MME that target is only CS capable, hence this is a SRVCC handover operation only towards the CS domain. The message includes an indication that the UE is not available for the PS service in the target cell.\n4.\tBased on the QCI associated with the voice bearer (QCI 1) and the SRVCC HO indication, the source MME splits the voice bearer from the non-voice bearers and initiates the PS-CS handover procedure for the voice bearer only towards MSC Server.\n5.\tThe MME sends a SRVCC PS to CS Request (IMSI, Target ID, STN-SR, C‑MSISDN, generic Source to Target Transparent Container, MM Context, Emergency Indication) message to the MSC Server. If SRVCC with priority is supported, the MME also includes priority indication in SRVCC PS to CS Request if it detects the SRVCC requires priority handling. The detection is based on the ARP associated with the EPS bearer used for IMS signalling. The priority indication corresponds to the ARP information element. The Emergency Indication and the equipment identifier are included if the ongoing session is emergency session. Authenticated IMSI and C‑MSISDN shall also be included, if available. The MME received STN-SR and C‑MSISDN from the HSS as part of the subscription profile downloaded during the E‑UTRAN attach procedure. The MM Context contains security related information. CS security key is derived by the MME from the E‑UTRAN/EPS domain key as defined in TS 33.401 [22]. The CS Security key is sent in the MM Context.\n6.\tThe MSC Server interworks the PS-CS handover request with a CS inter‑MSC handover request by sending a Prepare Handover Request message to the target MSC. If SRVCC with priority is supported, and the MSC Server receives the priority indication (i.e. ARP) in the SRVCC PS to CS Request, the MSC server/MGW sends Prepare Handover Request message to the Target MSC with priority indication mapped from the ARP. The MSC Server maps the ARP to the priority level, pre-emption capability/vulnerability for CS services based on local regulation or operator settings. The priority indication indicates the CS call priority during handover as specified in TS 48.008 [23] for GSM/EDGE. The MSC Server assigns a default SAI as Source ID on the interface to the target BSS and uses BSSMAP encapsulated for the Prepare Handover Request.\nNOTE 1:\tThe value of the default SAI is configured in the MSC and allows a release 8 and later BSC to identify that the source for the SRVCC Handover is E-UTRAN. To ensure correct statistics in the target BSS the default SAI should be different from the SAIs used in UTRAN.\n7.\tTarget MSC performs resource allocation with the target BSS by exchanging Handover Request/ Acknowledge messages. If the MSC Server indicated priority, the target BSS allocates the radio resource based on the existing procedures with priority indication, as specified in TS 23.009 [18] and in TS 48.008 [23] for GSM/EDGE.\n8.\tTarget MSC sends a Prepare Handover Response message to the MSC Server.\n9.\tEstablishment of circuit connection between the target MSC and the MGW associated with the MSC Server e.g. using ISUP IAM and ACM messages.\n10.\tFor non-emergency session, the MSC Server initiates the Session Transfer by using the STN-SR e.g. by sending an ISUP IAM (STN-SR) message towards the IMS. If this is a priority session, the MSC Server includes priority indication to the IMS and the IMS entity handles the session transfer procedure with priority. The priority indication in the Session Transfer is mapped by the MSC Server from the priority indication (i.e. ARP) in the SRVCC PS to CS Request received in step 5. The mapping of the priority level is based on operator policy and/or local configuration, and the IMS priority indicator should be the same as for the original IMS created over PS. For emergency session, the MSC Server initiates the Session Transfer by using the locally configured E-STN-SR and by including the equipment identifier. IMS Service Continuity or Emergency IMS Service Continuity procedures are applied for execution of the Session Transfer, see TS 23.237 [14].\nNOTE 2:\tThis step can be started after step 8.\nNOTE 3:\tIf the MSC Server is using an ISUP interface, then the initiation of the session transfer for non-emergency session may fail if the subscriber profile including CAMEL triggers is not available prior handover (see clause 7.3.2.1.3 in TS 23.292 [13]), and can also fail if CAMEL triggers are available and local anchor transfer function is used (see TS 23.237 [14]). If the subscriber profile is available prior handover then CAMEL triggers others than those used in clause 7.3.2.1.3 of TS 23.292 [13] are not used during the transfer.\n11.\tDuring the execution of the Session Transfer procedure the remote end is updated with the SDP of the CS access leg. The downlink flow of VoIP packets is switched towards the CS access leg at this point.\n12.\tSource IMS access leg is released as per TS 23.237 [14].\nNOTE 4:\tSteps 11 and 12 are independent of step 13.\n13.\tMSC Server sends a SRVCC PS to CS Response (Target to Source Transparent Container) message to the source MME.\n14.\tSource MME sends a Handover Command (Target to Source Transparent Container) message to the source E-UTRAN. The message includes information about the voice component only.\n15.\tSource E-UTRAN sends a Handover from E-UTRAN Command message to the UE.\n15a.\tIf the PLMN has configured Secondary RAT usage data reporting and the source eNodeB has Secondary RAT usage data to report, the reporting is performed as specified in TS 23.401 [2].\n16.\tUE tunes to GERAN.\n17.\tHandover Detection at the target BSS occurs, then the target BSS sends Handover Detection message to the target MSC. At this stage, the target MSC can send/receive voice data. The UE sends a Handover Complete message via the target BSS to the target MSC. If the target MSC is not the MSC Server, then the Target MSC sends an SES (Handover Complete) message to the MSC Server.\n18.\tThe UE starts the Suspend procedure specified in TS 23.060 [10], clause 16.2.1.1.2. The TLLI and RAI pair are derived from the GUTI as described in TS 23.003 [27]. This triggers the Target SGSN to send a Suspend Notification message to the Source MME. The MME returns a Suspend Acknowledge to the Target SGSN.\nNOTE 5:\tThis step may take place in parallel with steps 19-22.\nNOTE 6:\tThe MME might not be able to derive the GUTI from the received P-TMSI and RAI pair and therefore it might not be able to identify which UE context is associated with the Suspend Notification message. Also in this case the bearers are deactivated and/or suspended as in step 22a.\n19.\tTarget BSS sends a Handover Complete message to the target MSC.\nNOTE 7:\tThis step may take place immediately after Handover Detection at the target BSS occurs in step 17, before the BSS has received a Suspend message from the UE.\n20.\tTarget MSC sends an SES (Handover Complete) message to the MSC Server. The speech circuit is through connected in the MSC Server/MGW according to TS 23.009 [18].\n21.\tCompletion of the establishment procedure with ISUP Answer message to the MSC Server according to TS 23.009 [18].\n22.\tMSC Server sends a SRVCC PS to CS Complete Notification message to the source MME, informing it that the UE has arrived on the target side. Source MME acknowledges the information by sending a SRVCC PS to CS Complete Acknowledge message to the MSC Server.\n22a.\tThe MME deactivates bearers used for voice and other GBR bearers. All GBR bearers are deactivated towards S-GW and P-GW by initiating MME-initiated Dedicated Bearer Deactivation procedure as specified in TS 23.401 [2]. PS-to-CS handover indicator is notified to P-GW for voice bearer during the bearer deactivation procedure. For GTP-based S5/S8, the S-GW requests the P-GW to delete all GBR bearer contexts by sending a Delete Bearer Command message. If dynamic PCC is deployed, the P‑GW may interact with PCRF as defined in TS 23.203 [32]. For PMIP-based S5/S8, S-GW interacts with the PCRF which in turn updates PCC rules for GBR traffic in the P-GW.\nThe MME starts preservation and suspension of non-GBR bearers by sending Suspend Notification message towards S-GW. For these non-GBR bearers, the S-GW releases S1-U bearers for the UE and sends Suspend Notification message to the P-GW(s). The MME stores in the UE context that UE is in suspended status. All the preserved non-GBR bearers are marked as suspended status in the S-GW and P-GW. The P-GW should discard packets if received for the suspended UE.\n22b.\tThe source MME requests the release of the resources, including release of the S1 signalling connection, to the Source eNodeB. The Source eNodeB releases its resources related to the UE and responds back to the MME.\n23a.\tFor non-emergency sessions and if the HLR is to be updated, i.e. if the IMSI is authenticated but unknown in the VLR, the MSC Server performs a TMSI reallocation towards the UE using its own non-broadcast LAI and, if the MSC Server and other MSC/VLRs serve the same (target) LAI, with its own Network Resource Identifier (NRI).\nNOTE 8:\tThe TMSI reallocation is performed by the MSC Server towards the UE via target MSC.\nNOTE 9:\tFor emergency services sessions the HLR will not be updated. TMSI reallocation may be performed based on IMSI presence.\n23b.\tFor non-emergency sessions and if the MSC Server performed a TMSI reallocation in step 23a, and if this TMSI reallocation was completed successfully, the MSC Server performs a MAP Update Location to the HSS/HLR.\nNOTE 10:\tThis Update Location is not initiated by the UE.\n24.\tFor an emergency services session after handover is complete, the source MME or the MSC Server may send a Subscriber Location Report carrying the identity of the MSC Server to a GMLC associated with the source or target side, respectively, as defined in TS 23.271 [29] to support location continuity.\nNOTE 11:\tAny configuration of the choice between a source MME versus MSC Server update to a GMLC needs to ensure that a single update occurs from one of these entities when the control plane location solution is used on the source and/or target sides.\nAfter the CS voice call is terminated and if the UE is still in GERAN (or for any other reason specified in TS 24.008 [44]), then the UE shall resume PS services as specified in TS 23.060 [10]. A Gn SGSN will follow TS 23.060 [10] to resume the PDP Context(s). An S4-SGSN will follow TS 23.060 [10] to resume the bearers, and will in addition inform S-GW and P-GW(s) to resume the suspended bearers. If the UE has returned to E-UTRAN after the CS voice call was terminated, then the UE shall resume PS service by sending TAU to MME. The MME will in addition inform S-GW and P-GW(s) to resume the suspended bearers. Resuming the suspended bearers in the S-GW and in the P-GW should be done by implicit resume using the Modify Bearer request message if it is triggered by the procedure in operation, e.g. RAU, TAU or Service Request. The S-GW is aware of the suspend state of the bearers and will forward the Modify Bearer request to the P-GW. Explicit resume using the Resume Notification message should be used in cases when Modify Bearer Request is not triggered by the procedure in operation.\n6.2.2.1A\tSRVCC from E-UTRAN to GERAN with DTM but without DTM HO support and from E-UTRAN to UTRAN without PS HO\nThe call flow for this scenario is similar to the call flow depicted in figure 6.2.2.1‑1, with the exceptions that the Suspend procedure (step 18 and step 22a in figure 6.2.2.1-1) is not performed and that the MME only deactivates bearers used for voice (step 22a in figure 6.2.2.1-1) and sets the PS-to-CS handover indicator. The scenario requires that eNB can determine that the target is either GERAN with DTM but without DTM HO support and that the UE is supporting DTM or that the target is UTRAN (HSPA) without PS HO support.\nNOTE:\tThe eNB can be configured to use this procedure according to operator's policy when 5GS is deployed.\nThe message in step 3 in figure 6.2.2.1-1 includes an indication to the MME that the UE is available for PS service in the target cell. Furthermore, if the target is GERAN, the E‑UTRAN places in the generic Source to Target Transparent Container the \"old BSS to new BSS information IE\", while if the target is UTRAN, the generic Source to Target Transparent container is encoded according to the Source RNC to Target RNC Transparent Container IE definition. At the end of the procedure described in figure 6.2.2.1‑1, the remaining PS resources are re-established when the UE performs the Routeing Area update procedure. Triggers for performing Routeing Area update procedure are described in TS 23.060 [10]. The target SGSN may deactivate the PDP contexts that cannot be established as described in TS 23.060 [10].",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.292_clause_7.3.2.1.3",
        "ts_23.060_clause_16.2.1.1.2",
        "figure_6.2.2.1-1",
        "figure_6.2.2.1",
        "ts_33.401",
        "ts_48.008",
        "ts_23.009",
        "ts_23.237",
        "ts_23.292",
        "ts_23.401",
        "ts_23.060",
        "ts_23.003",
        "ts_23.203",
        "ts_23.271",
        "ts_24.008"
      ]
    },
    {
      "chunk_id": "ts_23.216_6.2.2.2",
      "section_id": "6.2.2.2",
      "section_title": "SRVCC from E-UTRAN to UTRAN with PS HO or GERAN with DTM HO support",
      "content": "Depicted in figure 6.2.2.2-1 is a call flow for SRVCC from E‑UTRAN to UTRAN or GERAN with DTM HO support, including the handling of the non‑voice component. The flow requires that eNB can determine that either the target is UTRAN with PS HO or the target is GERAN with DTM support and the UE is supporting DTM.\nFigure 6.2.2.2-1: SRVCC from E-UTRAN to UTRAN with PS HO or GERAN with DTM HO support\n1.\tUE sends measurement reports to E-UTRAN.\n2.\tBased on UE measurement reports the source E‑UTRAN decides to trigger an SRVCC handover to UTRAN/GERAN.\n3.\tIf target is UTRAN, the source E‑UTRAN sends a Handover Required (Target ID, generic Source to Target Transparent Container, SRVCC HO indication) message to the source MME. SRVCC HO indication indicates to MME that this is for CS+PS HO.\nNOTE 1:\tWhen the source E-UTRAN indicates using SRVCC HO Indication that target is both CS and PS capable and this is a CS+PS HO request, the source MME sends the single received transparent container to both the target CS domain and the target PS domain.\nIf target is GERAN, the source E UTRAN sends a Handover Required (Target ID, generic Source to Target Transparent Container, additional Source to Target Transparent Container, SRVCC HO Indication) message to the source MME. The E‑UTRAN places the \"old BSS to new BSS information IE\" for the CS domain in the additional Source to Target Transparent Container. The differentiation between CS and PS containers is described in TS 36.413 [30]. In this case, the MME identifies from SRVCC HO Indication that this is a request for a CS+PS handover.\n4.\tBased on the QCI associated with the voice bearer (QCI 1) and the SRVCC HO Indication, the source MME splits the voice bearer from all other PS bearers and initiates their relocation towards MSC Server and SGSN, respectively.\n5a)\tSource MME initiates the PS-CS handover procedure for the voice bearer by sending a SRVCC PS to CS Request (IMSI, Target ID, STN-SR, C‑MSISDN, Source to Target Transparent Container, MM Context, Emergency Indication) message to the MSC Server. If SRVCC with priority is supported, the MME also includes priority indication in SRVCC PS to CS Request if it detects the SRVCC requires priority handling. The detection is based on the ARP associated with the EPS bearer used for IMS signalling. The priority indication corresponds to the ARP information element. The Emergency Indication and the equipment identifier are included if the ongoing session is emergency session. Authenticated IMSI and C‑MSISDN shall also be included if available. The message includes information relevant to the CS domain only. MME received STN-SR and C‑MSISDN from the HSS as part of the subscription profile downloaded during the E‑UTRAN attach procedure. MM Context contains security related information. CS security key is derived by the MME from the E‑UTRAN/EPS domain key as defined in TS 33.401 [22]. The CS Security key is sent in the MM Context.\n5b)\tMSC Server interworks the PS-CS handover request with a CS inter‑MSC handover request by sending a Prepare Handover Request message to the target MSC. If SRVCC with priority is supported and the MSC Server receives the priority indication (i.e. ARP) in the SRVCC PS to CS Request, the MSC server/MGW sends Prepare Handover Request message to the Target MSC with priority indication mapped from the ARP. The MSC Server maps the ARP to the priority level, pre-emption capability/vulnerability for CS services based on local regulation or operator settings. The priority indication indicates the CS call priority during handover as specified in TS 25.413 [11] for UMTS and TS 48.008 [23] for GSM/EDGE. If the target system is GERAN, the MSC Server assigns a default SAI as Source ID on the interface to the target BSS and uses BSSMAP encapsulated for the Prepare Handover Request. If the target system is UTRAN, the MSC Server uses RANAP encapsulated for the Prepare Handover Request.\nNOTE 2:\tThe value of the default SAI is configured in the MSC and allows a release 8 and later BSC to identify that the source for the SRVCC Handover is E-UTRAN. To ensure correct statistics in the target BSS the default SAI should be different from the SAIs used in UTRAN.\n5c)\tTarget MSC requests resource allocation for the CS relocation by sending the Relocation Request/Handover Request message to the target RNS/BSS. If the MSC Server indicated priority, the RNC/BSS allocates the radio resource based on the existing procedures with priority indication, as specified in TS 23.009 [18] and in TS 25.413 [11] for UMTS and TS 48.008 [23] for GSM/EDGE. If the target RAT is UTRAN, Relocation Request/Handover Request message contains the generic Source to Target Transparent Container. If the target RAT is GERAN, Relocation Request/Handover Request message contains the additional Source to Target Transparent Container.\n6.\tIn parallel to the previous step the source MME initiates relocation of the PS bearers. The following steps are performed (for details see TS 23.401 [2] clauses 5.5.2.1 and 5.5.2.3):\na)\tSource MME sends a Forward Relocation Request (generic Source to Target Transparent Container, MM Context, PDN Connections IE) message to the target SGSN. If the target SGSN uses S4 based interaction with S-GW and P-GW, the PDN Connections IE includes bearer information for all bearers except the voice bearer. The handling of security keys for PS handover of the remaining non-voice PS bearers is specified in TS 33.401 [22].\nNOTE 3:\tIf the target SGSN uses Gn/Gp based interaction with GGSN the Forward Relocation Request will contain PDP Contexts, instead of PDN Connections IE, including bearer information for all bearers except the voice bearer.\nb)\tTarget SGSN requests resource allocation for the PS relocation by sending the Relocation Request/Handover Request (Source to Target Transparent Container) message to the target RNS/BSS.\n7.\tAfter the target RNS/BSS receives both the CS relocation/handover request with the PS relocation/handover request, it assigns the appropriate CS and PS resources. The following steps are performed:\na)\tTarget RNS/BSS acknowledges the prepared PS relocation/handover by sending the Relocation Request Acknowledge/Handover Request Acknowledge (Target to Source Transparent Container) message to the target SGSN.\nb)\tTarget SGSN sends a Forward Relocation Response (Target to Source Transparent Container) message to the source MME.\n8.\tIn parallel to the previous step the following steps are performed:\na)\tTarget RNS/BSS acknowledges the prepared CS relocation/handover by sending the Relocation Request Acknowledge/Handover Request Acknowledge (Target to Source Transparent Container) message to the target MSC.\nb)\tTarget MSC sends a Prepare Handover Response (Target to Source Transparent Container) message to the MSC Server.\nc)\tEstablishment of circuit connection between the target MSC and the MGW associated with the MSC Server e.g. using ISUP IAM and ACM messages.\nNOTE 4:\tThe Target to Source Transparent Container sent to the target SGSN is step 7a and the Target to Source Transparent Container sent to the target MSC in step 8a, include the same allocation of CS and PS resources (e.g. the target BSS includes the same DTM Handover Command in both containers).\n9.\tFor non-emergency session, the MSC Server initiates the Session Transfer by using the STN-SR e.g. by sending an ISUP IAM (STN-SR) message towards the IMS. If this is a priority session, the MSC Server sends the SIP Session Transfer message with the priority indication to the IMS and the IMS entity handles the session transfer procedure with priority. The priority indication in the SIP Session Transfer message is mapped by the MSC Server from the priority indication (i.e. ARP) in the SRVCC PS to CS Request received in step 5. The mapping of the priority level is based on operator policy and/or local configuration, and the IMS priority indicator should be the same as for the original IMS created over PS. For emergency session, the MSC Server initiates the Session Transfer by using the locally configured E-STN-SR and by including the equipment identifier. IMS Service Continuity or Emergency IMS Service Continuity procedures are applied for execution of the Session Transfer, TS 23.237 [14].\nNOTE 5:\tThis step can be started after step 8b.\nNOTE 6:\tIf the MSC Server is using an ISUP interface, then the initiation of the session transfer for non-emergency sessions may fail if the subscriber profile including CAMEL triggers is not available prior handover (see clause 7.3.2.1.3 of TS 23.292 [13]), and can also fail if CAMEL triggers are available and local anchor transfer function is used (see TS 23.237 [14]). If the subscriber profile is available prior handover then CAMEL triggers others than those used in clause 7.3.2.1.3 of TS 23.292 [13] are not used during the transfer.\n10.\tDuring the execution of the Session Transfer procedure the remote end is updated with the SDP of the CS access leg according to TS 23.237 [14]. The downlink flow of VoIP packets is switched towards the CS access leg at this point.\n11.\tThe source IMS access leg is released according to TS 23.237 [14].\nNOTE 7:\tSteps 10 and 11 are independent of step 12.\n12.\tThe MSC Server sends a SRVCC PS to CS Response (Target to Source Transparent Container) message to the source MME.\n13.\tSource MME synchronises the two prepared relocations and sends a Handover Command (Target to Source Transparent Container) message to the source E‑UTRAN.\nNOTE 8:\tWhen the target cell is GERAN, the MME may receive different Target to Source Transparent Containers from the MSC Server and from the SGSN, i.e. a \"New BSS to Old BSS Information\" (see TS 48.008 [23]) may be received from the MSC Server and a \"Target BSS to Source BSS Transparent Container\" (see TS 48.018 [24]) may be received from the SGSN.\n14.\tE‑UTRAN sends a Handover from E‑UTRAN Command message to the UE.\n14a.\tIf the PLMN has configured Secondary RAT usage data reporting and the source eNodeB has Secondary RAT usage data to report, the reporting is performed as specified in TS 23.401 [2].\n15.\tUE tunes to the target UTRAN/GERAN cell.\n16.\tHandover Detection at the target RNS/BSS occurs, then the target RNS/BSS sends Handover Detection message to the target MSC. At this stage, the target MSC can send/receive voice data. The UE sends a Handover Complete message via the target RNS/BSS to the target MSC. If the target MSC is not the MSC Server, then the Target MSC sends an SES (Handover Complete) message to the MSC Server. At this stage, the UE re-establishes the connection with the network.\n17.\tThe CS relocation/handover is complete. The following steps are performed:\na)\tTarget RNS/BSS sends Relocation Complete/Handover Complete message to the target MSC.\nb)\tTarget MSC sends an SES (Handover Complete) message to the MSC Server. The speech circuit is through connected in the MSC Server/MGW according to TS 23.009 [18].\nc)\tCompletion of the establishment procedure with ISUP Answer message to the MSC Server according to TS 23.009 [18].\nd)\tMSC Server sends a SRVCC PS to CS Complete Notification message to the source MME. Source MME acknowledges the information by sending a SRVCC PS to CS Complete Acknowledge message to the MSC Server.\ne)\tThe source MME deactivates the voice bearer towards S-GW/P-GW and sets the PS-to-CS handover indicator to Delete Bearer Command message. This triggers MME-initiated Dedicated Bearer Deactivation procedure as specified in TS 23.401 [2]. The MME does not send deactivation request toward the eNodeB on receiving PS-to-CS Complete Notification in step 17d. If dynamic PCC is deployed, the PGW may interact with PCRF as defined in TS 23.203 [32].\nf)\tFor non-emergency sessions and if the HLR is to be updated, i.e. if the IMSI is authenticated but unknown in the VLR, the MSC Server performs a TMSI reallocation towards the UE using its own non-broadcast LAI and, if the MSC Server and other MSC/VLRs serve the same (target) LAI, with its own Network Resource Identifier (NRI).\nNOTE 9:\tThe TMSI reallocation is performed by the MSC Server towards the UE via target MSC.\nNOTE 10:\tFor emergency services sessions the HLR will not be updated. TMSI reallocation may be performed based on IMSI presence.\ng)\tFor non-emergency sessions, if the MSC Server performed a TMSI reallocation in step 17f, and if this TMSI reallocation was completed successfully, the MSC Server performs a MAP Update Location to the HSS/HLR.\nNOTE 11:\tThis Update Location is not initiated by the UE.\n18.\tIn parallel to the previous step, the PS relocation/handover is completed. The following steps are performed:\na)\tTarget RNS/BSS sends Relocation Complete/Handover Complete message to target SGSN.\nb)\tTarget SGSN sends a Forward Relocation Complete message to the source MME. After having completed step 17e, the source MME acknowledges the information by sending a Forward Relocation Complete Acknowledge message to the target SGSN.\nc)\tWhen Target SGSN has received the Forward Relocation Complete Ack message from the MME in step 18b, it updates the bearer with S‑GW/P‑GW/GGSN as specified in TS 23.401 [2].\nd)\tThe MME sends Delete Session Request to the SGW as defined in TS 23.401 [2].\ne)\tThe source MME sends a Release Resources message to the Source eNodeB as defined in TS 23.401 [2]. The Source eNodeB releases its resources related to the UE and responds back to the MME.\nNOTE 12:\tRouting Area Update procedures by the UE are done in accordance with TS 23.401 [2].\n19.\tFor an emergency services session after handover is complete, the source MME or the MSC Server may send a Subscriber Location Report carrying the identity of the MSC Server to a GMLC associated with the source or target side, respectively, as defined in TS 23.271 [29] to support location continuity.\nNOTE 13:\tAny configuration of the choice between a source MME versus MSC Server update to a GMLC needs to ensure that a single update occurs from one of these entities when the control plane location solution is used on the source and/or target sides.\nIf the MME determines that only the relocation of the voice bearer but not the relocation of one or more PS bearers succeeds, then the MME proceeds with step 13 after receiving SRVCC PS to CS Response from the MSC Server in step 12 and both UE and MME continue the procedure as described in clause 6.2.2.1A.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.292_clause_7.3.2.1.3",
        "clause_6.2.2.1",
        "figure_6.2.2.2-1",
        "ts_36.413",
        "ts_33.401",
        "ts_25.413",
        "ts_48.008",
        "ts_23.009",
        "ts_23.401",
        "ts_23.237",
        "ts_23.292",
        "ts_48.018",
        "ts_23.203",
        "ts_23.271"
      ]
    },
    {
      "chunk_id": "ts_23.216_6.2.2.3",
      "section_id": "6.2.2.3",
      "section_title": "vSRVCC from E-UTRAN to UTRAN with PS HO support",
      "content": "Depicted in figure 6.2.2.3-1 is the call flow for vSRVCC from E‑UTRAN to UTRAN with PS HO support.\nFigure 6.2.2.3-1: vSRVCC handover procedure\n1.\tUE sends measurement reports to E-UTRAN.\n2.\tBased on UE measurement reports and QCI=1 indications, the source E-UTRAN decides to trigger a SRVCC handover to UTRAN.\n3.\tThe source E-UTRAN sends a Handover Required (Target ID, generic Source to Target Transparent Container, SRVCC HO indication) message to the source MME. SRVCC HO indication indicates to MME that this is for CS+PS HO.\nNOTE 1:\tWhen the SRVCC HO Indication indicates that target is both CS and PS capable and this is a CS+PS HO request, the source MME sends the single received transparent container to both the target CS domain and the target PS domain.\n4.\tIf the target is UTRAN, and based on the QCI associated with at least one voice bearer (QCI=1) and at least one vSRVCC marked video bearer, the source MME splits the QCI=1 and vSRVCC marked PS bearer from all other PS bearers and initiates their relocation towards MSC Server and SGSN, respectively.\nIf the target SGSN uses S4 based interaction with S-GW and P-GW, the PDN Connections IE includes bearer information for the all bearer(s) but the QCI=1 and vSRVCC marked PS bearer. If the target SGSN uses Gn/Gp based interaction with P-GW the Forward Relocation Request will contain PDP Contexts, instead of PDN Connections IE, including bearer information for all bearers but the QCI=1 and vSRVCC marked PS bearers.\n5a)\tSource MME initiates the PS-CS handover procedure for the QCI=1 and vSRVCC marked PS bearer by sending a SRVCC PS to CS Request (IMSI, Target ID, STN-SR, C‑MSISDN, Source to Target Transparent Container, MM Context, vSRVCC indicator) message to the MSC Server. If SRVCC with priority is supported, the MME also includes priority indication in SRVCC PS to CS Request if it detects the SRVCC requires priority handling. The detection is based on the ARP associated with the EPS bearer used for IMS signalling. The priority indication corresponds to the ARP information element. MME received STN-SR, vSRVCC flag and C‑MSISDN from the HSS as part of the subscription profile downloaded during the E-UTRAN attach procedure. MM Context contains security related information. CS security key is derived by the MME from the E‑UTRAN/EPS domain key as defined in TS 33.401 [22]. The CS Security key is sent in the MM Context.\n5b1) When MSC Server receives from the Sv that this is for vSRVCC, it negotiates with the SCC AS to determine if the last active session is voice or voice and video, and execute the CS HO procedure with the appropriate CS resource request with UTRAN. In this call flow, SCC AS indicates voice and video.\n5b2) MSC Server interworks the PS-CS handover request with a CS inter MSC handover request by sending a Prepare Handover Request message to the target MSC. If SRVCC with priority is supported and the MSC Server receives the priority indication (i.e. ARP) in the SRVCC PS to CS Request, the MSC server/MGW sends Prepare Handover Request message to the Target MSC with priority indication mapped from the ARP. The MSC Server maps the ARP to the priority level, pre-emption capability/vulnerability for CS services based on local regulation or operator settings. The priority indication indicates the CS call priority during handover as specified in TS 25.413 [11] for UMTS.\n5c)\tTarget MSC requests BS30 resource allocation for the CS relocation by sending the Relocation Request/Handover Request (additional Source to Target Transparent Container) message to the target RNS. If the MSC Server indicated priority, the RNC/BSS allocates the radio resource based on the existing procedures with priority indication, as specified in TS 23.009 [18] and in TS 25.413 [11] for UMTS.\n6.\tIn parallel to the previous step the source MME initiates relocation of the PS bearers. The following steps are performed (for details see TS 23.401 [2] clauses 5.5.2.1 and 5.5.2.3):\na)\tSource MME sends a Forward Relocation Request (Source to Target Transparent Container, MM Context, PDN Connections IE) message to the target SGSN. If the target SGSN uses S4 based interaction with S-GW and P-GW, the PDN Connections IE includes bearer information for all bearers except the QCI=1 and vSRVCC marked PS bearers. The handling of security keys for PS handover of the remaining non-QCI=1 and vSRVCC marked PS bearers is specified in TS 33.401 [22].\nNOTE 2:\tIf the target SGSN uses Gn/Gp based interaction with P-GW the Forward Relocation Request will contain PDP Contexts, instead of PDN Connections IE, including bearer information for all bearers except the QCI=1 and vSRVCC marked PS bearers.\nb)\tTarget SGSN requests resource allocation for the PS relocation by sending the Relocation Request/Handover Request (Source to Target Transparent Container) message to the target RNS.\n7.\tAfter the target RNS receives both the CS relocation/handover request with the PS relocation/handover request, it assigns the appropriate CS and PS resources. The following steps are performed:\na)\tTarget RNS acknowledges the prepared PS relocation/handover by sending the Relocation Request Acknowledge/Handover Request Acknowledge (Target to Source Transparent Container) message to the target SGSN.\nb)\tTarget SGSN sends a Forward Relocation Response (Target to Source Transparent Container) message to the source MME.\n8.\tIn parallel to the previous step the following steps are performed:\na)\tTarget RNS acknowledges the prepared CS relocation/handover by sending the Relocation Request Acknowledge/Handover Request Acknowledge (Target to Source Transparent Container) message to the target MSC.\nb)\tTarget MSC sends a Prepare Handover Response (Target to Source Transparent Container) message to the MSC Server.\nc)\tEstablishment of circuit connection between the target MSC and the MGW associated with the MSC Server e.g. using ISUP IAM and ACM messages.\nNOTE 3:\tThe Target to Source Transparent Container sent to the target SGSN is step 7a and the Target to Source Transparent Container sent to the target MSC in step 8a, include the same allocation of CS and PS resources.\n9.\tThe MSC Server initiates the Session Transfer by using the STN-SR and includes the SDP of the voice and video SDP of the predefined Codecs, which are the default Codecs specified in TS 26.111 [34]. If this is a priority session, the MSC Server sends the SIP Session Transfer message with the priority indication to the IMS and the IMS entity handles the session transfer procedure with priority. The priority indication in the SIP Session Transfer message is mapped by the MSC Server from the priority indication (i.e. ARP) in the SRVCC PS to CS Request received in step 5. The mapping of the priority level is based on operator policy and/or local configuration, and the IMS priority indicator should be the same as for the original IMS created over PS.\nNOTE 4:\tThis step can be started after step 8b.\n10.\tSCC AS detects based on the presence of the video SDP that it needs to perform a vSRVCC HO. The SCC AS performs a remote leg update with the SDP of the CS access leg for the voice and video session. If the video SDP is missing, the SCC AS assumes a SRVCC HO for voice and initiates the release of the video bearer from the remote leg and the access leg.\nNOTE 5:\tIf the remote end does not support the predefined Codecs, then the MGW performs the appropriate transcoding.\n11.\tSCC AS releases only the source IMS access leg of the voice session according to TS 23.237 [14].\nNOTE 6:\tSteps 10 and 11 are independent of step 12.\n12.\tThe MSC Server sends a SRVCC PS to CS Response (Target to Source Transparent Container) message to the source MME. The transparent container contains information about the CS bearer reservation.\n13.\tSource MME synchronises the two prepared relocations and sends a Handover Command (Target to Source Transparent Container) message to the source E-UTRAN.\n14.\tE‑UTRAN sends a Handover from E‑UTRAN Command message to the UE. The UE detects the vSRVCC handover.\n14a.\tIf the PLMN has configured Secondary RAT usage data reporting and the source eNodeB has Secondary RAT usage data to report, the reporting is performed as specified in TS 23.401 [2].\n15.\tUE tunes to the target UTRAN cell.\n16.\tHandover Detection at the target RNS occurs, then the target RNS sends Handover Detection message to the target MSC. At this stage, the target MSC can send/receive voice data. The UE sends a Handover Complete message via the target RNS to the target MSC. If the target MSC is not the MSC Server, then the Target MSC sends an SES (Handover Complete) message to the MSC Server.\n17.\tThe CS relocation/handover is complete. The following steps are performed:\na)\tTarget RNS sends Relocation Complete/Handover Complete message to the target MSC.\nb)\tTarget MSC sends an SES (Handover Complete) message to the MSC Server. The speech circuit is through connected in the MSC Server/MGW according to TS 23.009 [18].\nc)\tCompletion of the establishment procedure with ISUP Answer message to the MSC Server according to TS 23.009 [18].\nc1)\tPredefined Codecs for voice and video as specified in TS 26.111 [34] are initially used by the UE after it has established the circuit bearer to the target MSC. After that, the UE may start the 3G-324M codec negotiation for video (refer to TR 26.911 [35] and ITU T Recommendation H.324 [33], Annex K for H.245 signalling optimizations) if needed.\nd)\tMSC Server sends a SRVCC PS to CS Complete Notification message to the source MME. Source MME acknowledges the information by sending a SRVCC PS to CS Complete Acknowledge message to the MSC Server.\nd1)\tThe source MME deactivates the QCI=1 and vSRVCC marked PS bearers towards S-GW/P-GW and sets the PS-to-CS handover indicator to Delete Bearer Command message. If dynamic PCC is deployed, the PGW may interact with PCRF as defined in TS 23.203 [32].\ne)\tIf IMSI is unknown in the VLR, the MSC Server performs a MAP Update Location to the HSS/HLR.\nNOTE 7:\tThis Update Location is not initiated by the UE.\nf)\tIf the MSC Server performed a MAP Update location in step 17e and if multiple MSC/VLRs serve the same LAI, the MSC Server performs a TMSI reallocation towards the UE using a non-broadcast LAI with its own Network Resource Identifier (NRI).\n18.\tIn parallel to the previous step, the PS relocation/handover is completed. The following steps are performed:\na)\tTarget RNS sends Relocation Complete/Handover Complete message to target SGSN.\nb)\tTarget SGSN sends a Forward Relocation Complete message to the source MME. Source MME acknowledges the information by sending a Forward Relocation Complete Acknowledge message to the target SGSN.\nc)\tTarget SGSN updates the bearer with S‑GW/P‑GW as specified in TS 23.401 [2].\nd)\tThe source MME sends Delete Session Request to the SGW as defined in TS 23.401 [2].\ne)\tThe source MME requests the release of the resources, including release of the S1 signalling connection, to the Source eNodeB as defined in TS 23.401 [2]. The Source eNodeB releases its resources related to the UE and responds back to the MME.\nNOTE 8:\tRouting Area Update procedures by the UE are done in accordance with TS 23.060 [10].",
      "chunk_type": "general",
      "cross_references": [
        "figure_6.2.2.3-1",
        "ts_33.401",
        "ts_25.413",
        "ts_23.009",
        "ts_23.401",
        "ts_26.111",
        "ts_23.237",
        "ts_26.911",
        "ts_23.203",
        "ts_23.060"
      ]
    },
    {
      "chunk_id": "ts_23.216_6.2.2.4",
      "section_id": "6.2.2.4",
      "section_title": "vSRVCC from E-UTRAN to UTRAN without PS HO support",
      "content": "The call flow for this scenario is similar to the call flow depicted in figure 6.2.2.3 1, with the exceptions that the PS HO procedure (step 6 and 7) is not performed. The scenario requires that E-UTRAN can determine that the target is UTRAN (HSPA) without PS HO support. The message in step 3 in figure 6.2.2.1-1 includes an indication to the MME that the UE is available for PS service in the target cell. At the end of the procedure, the UE re-establishes the PS resources by performing the Routeing Area Update procedure as described in TS 23.060 [10] and in TS 23.401 [2].",
      "chunk_type": "general",
      "cross_references": [
        "figure_6.2.2.3",
        "figure_6.2.2.1-1",
        "ts_23.060",
        "ts_23.401"
      ]
    },
    {
      "chunk_id": "ts_23.216_6.2.3",
      "section_id": "6.2.3",
      "section_title": "Returning back to E-UTRAN",
      "content": "Once CS service ends in CS domain, existing mechanisms as specified in TS 23.401 [2] and TS 23.060 [10] can be used to move the UE to E-UTRAN e.g. by prioritizing E-UTRAN over GERAN/UTRAN.\nNOTE:\tThe BSC/RNC can consider the availability of E-UTRAN.\nWhen configured to support the return to E-UTRAN after SRVCC, the MSC shall indicate this to GERAN/UTRAN during the release of an RR connection that was established for SRVCC, e.g. by indicating the last used E-UTRAN PLMN. GERAN and UTRAN may use the indication from the MSC to determine which of the existing mechanisms that should be used to move the UE to E-UTRAN, see also TS 23.272 [42].",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.401",
        "ts_23.060",
        "ts_23.272"
      ]
    },
    {
      "chunk_id": "ts_23.216_6.3.1",
      "section_id": "6.3.1",
      "section_title": "GPRS Attach procedure for SRVCC",
      "content": "GPRS attach procedure for 3GPP SRVCC UE is performed as defined in TS 23.060 [10] with the following additions:\n-\tSRVCC UE includes the SRVCC capability indication as part of the \"MS Network Capability\" in the Attach Request message and in Routeing Area Updates. SGSN stores this information for SRVCC operation.\nNOTE 1:\tIf the service configuration on the UE is changed (e.g. the user changes between an IMS speech service supported by the home operator and a PS speech service incompatible with SRVCC), the UE can change its SRVCC capability indication as part of the \"MS Network Capability\" in a Routeing Area Update message.\n-\tSRVCC UE includes the GERAN MS Classmark 3 (if GERAN access is supported), MS Classmark 2 and Supported Codecs IE in the Attach Request message and in the non-periodic Routeing Area Update messages.\nNOTE 2:\tMS Classmark 2, MS Classmark 3, STN-SR, C‑MSISDN, ICS Indicator and the Supported Codec IE are not sent from the source SGSN to the target MME/SGSN at inter CN-node idle mode mobility.\n-\tHSS includes STN-SR and C‑MSISDN as part of the subscription data sent to the SGSN. If the STN-SR is present, it indicates the UE is SRVCC subscribed. If a roaming subscriber is determined by the HPLMN not allowed to have SRVCC in the VPLMN then HSS does not include STN-SR and C‑MSISDN as part of the subscription data sent to the SGSN.\n-\tSGSN includes a \"SRVCC operation possible\" indication in the RANAP Common ID message, meaning that both UE and SGSN are SRVCC-capable.\nGPRS emergency attach procedure for 3GPP SRVCC UE is performed as defined in TS 23.060 [10] and above with the following clarifications:\n-\tSRVCC UE shall include the SRVCC capability indication as part of the \"MS Network Capability\" in the Emergency Attach Request message and maintained during Routeing Area Updates. SGSN stores this information for SRVCC operation.\n6.3.1A\tService Request procedures for SRVCC\nService Request procedures for 3GPP SRVCC UE are performed as defined in TS 23.060 [10] with the following additions:\n-\tSGSN includes a \"SRVCC operation possible\" indication in the RANAP Common ID message, meaning that both UE and SGSN are SRVCC-capable.\n6.3.1B\tPS Handover procedures for SRVCC\nIntra-UTRAN (HSPA) SRNS Relocation procedure for 3GPP SRVCC UE are performed as defined in TS 23.060 [10] and UTRAN (HSPA) Iu mode to E-UTRAN Inter RAT handover are performed as defined in TS 23.401 [2], with the following additions:\n-\tMS Classmark 2, MS Classmark 3, STN-SR, C‑MSISDN, ICS Indicator and the Supported Codec IE shall be sent from the source SGSN to the target SGSN/MME if available.\n-\tThe target SGSN includes a \"SRVCC operation possible\" indication in the RANAP Common ID message, meaning that both UE and the target SGSN are SRVCC-capable.\n-\tThe target MME includes a \"SRVCC operation possible\" indication in the S1-AP Handover Request message, meaning that both UE and the target MME are SRVCC-capable.",
      "chunk_type": "procedure",
      "cross_references": [
        "ts_23.060",
        "ts_23.401"
      ]
    },
    {
      "chunk_id": "ts_23.216_6.3.2",
      "section_id": "6.3.2",
      "section_title": "Call flows for SRVCC from UTRAN (HSPA)",
      "content": "NOTE 1:\tIf the MSC Server enhanced for SRVCC controls the target BSS/RNS, the steps depicted with dot-dashed arrows representing the MSC-MSC handover procedure defined in TS 23.009 [18] are not executed and the functions of the MSC Server enhanced for SRVCC are merged with those of the target MSC.\nNOTE 2:\tFor the sake of brevity the call flow descriptions use \"MSC Server\" instead of \"MSC Server enhanced for SRVCC\".\nNOTE 3:\tThe target MSC need not be enhanced for SRVCC.",
      "chunk_type": "procedure",
      "cross_references": [
        "ts_23.009"
      ]
    },
    {
      "chunk_id": "ts_23.216_6.3.2.1",
      "section_id": "6.3.2.1",
      "section_title": "SRVCC from UTRAN (HSPA) to GERAN without DTM support",
      "content": "Depicted in figure 6.3.2.1-1 is a call flow for SRVCC from HSPA to GERAN without DTM support. The flow requires that NB can determine that the target is GERAN without DTM support or that the UE is without DTM support.\nFigure 6.3.2.1-1: SRVCC from UTRAN (HSPA) to GERAN without DTM support\n1.\tUE sends measurement reports to Source UTRAN (HSPA).\n2.\tBased on UE measurement reports the source UTRAN (HPSA) decides to trigger a handover to GERAN.\n3.\tSource UTRAN (HSPA) sends Relocation Required (Target ID, Source to Target Transparent Container, SRVCC Handover Indication) message to the source SGSN. The UTRAN (HSPA) includes the \"old BSS to new BSS information IE\" for the CS domain. The SRVCC Handover Indication indicates to the SGSN that this is a SRVCC handover operation only towards the CS domain. The message includes an indication that the UE is not available for PS service in the target cell.\n4.\tBased on the Traffic Class associated with conversational and Source Statistic Descriptor = speech, and the SRVCC Handover Indication the source SGSN splits the voice bearer from the non-voice bearers and initiates the PS-CS handover procedure for the voice bearer only towards MSC server.\n5.\tSource SGSN sends a SRVCC PS to CS Request (IMSI, Target ID, STN-SR, C‑MSISDN, Source to Target Transparent Container, MM Context, Emergency Indication, Source SAI) message to the MSC Server. The Emergency Indication and the equipment identifier are included if an ongoing session is an emergency session. Authenticated IMSI and C‑MSISDN shall also be included if available. SGSN received the STN-SR and C‑MSISDN from the HSS as part of the subscription profile downloaded during the UTRAN (HSPA) attach procedure. The MM Context contains security related information. The CS Security key is derived by SGSN from the UTRAN (HSPA)/EPS domain key as defined in TS 33.102 [25]. The Source SAI shall be set to the Serving Area Identifier received from the source RNC.\n6.\tThe MSC Server interworks the PS handover request with a CS inter-MSC handover request by sending a Prepare Handover Request message to the target MSC. The MSC Server uses BSSMAP encapsulated for the Prepare Handover Request.\n7.\tTarget MSC performs resource allocation with the target BSS by exchanging Handover Request/ Acknowledge messages.\n8.\tTarget MSC sends a Prepare Handover Response message to the MSC Server.\n9.\tEstablishment of circuit connection between the target MSC and the MGW associated with the MSC Server e.g. using ISUP IAM and ACM messages.\n10.\tFor non-emergency session, the MSC Server initiates the Session Transfer by using the STN-SR e.g. by sending an ISUP IAM (STN-SR) message towards the IMS. For emergency session, the MSC Server initiates the Session Transfer by using the locally configured E-STN-SR and by including the equipment identifier. Standard IMS Service Continuity or Emergency IMS Service Continuity procedures are applied for execution of the Session Transfer, see TS 23.237 [14].\nNOTE 1:\tThis step can be started after step 8.\nNOTE 2:\tIf the MSC Server is using an ISUP interface, then the initiation of the session transfer for non-emergency session may fail if the subscriber profile including CAMEL triggers is not available prior handover (see clause 7.3.2.1.3 of TS 23.292 [13]), and can also fail if CAMEL triggers are available and local anchor transfer function is used (see TS 23.237 [14]). If the subscriber profile is available prior handover then CAMEL triggers others than those used in clause 7.3.2.1.3 of TS 23.292 [13] are not used during the transfer.\n11.\tDuring the execution of the Session Transfer procedure the remote end is updated with the SDP of the CS access leg. The downlink flow of VoIP packets is switched towards the CS access leg at this point.\n12.\tSource IMS access leg is released according to TS 23.237 [14].\nNOTE 3:\tSteps 11 and 12 are independent of step 13.\n13.\tMSC Server sends a SRVCC PS to CS Response (Target to Source Transparent Container) message to the source SGSN.\n14. Source SGSN sends a Relocation Command (Target to Source Transparent Container) message to the source UTRAN (HSPA). The message includes information about the voice component only.\n15.\tSource UTRAN (HSPA) sends a Handover Command message to the UE.\n16.\tUE tunes to GERAN.\n17.\tHandover Detection at the target BSS occurs, then the target BSS sends Handover Detection message to the target MSC. At this stage, the target MSC can send/receive voice data. The UE sends a Handover Complete message via the target RNS/BSS to the target MSC.\n18.\tThe UE starts the Suspend procedure specified in TS 23.060 [10], clause 16.2.1.1.2. The TLLI and RAI pair are derived from the GUTI as described in TS 23.003 [27]. This triggers the Target SGSN to send a Suspend Request (Gn/Gp SGSN) or Suspend Notification (S4-SGSN) message to the Source SGSN. The Source SGSN returns a Suspend Response or Suspend Acknowledge message to the Target SGSN.\nNOTE 4:\tThis step may take place in parallel with steps 19-22.\n19.\tTarget BSS sends a Handover Complete message to the target MSC.\nNOTE 5:\tThis step may take place immediately after Handover Detection at the target BSS occurs in step 17, before the BSS has received a Suspend message from the UE.\n20.\tTarget MSC sends an SES (Handover Complete) message to the MSC Server. The speech circuit is through connected in the MSC Server/MGW according to TS 23.009 [18].\n21.\tCompletion of the establishment procedure with ISUP Answer message to the MSC Server according to TS 23.009 [18].\n22.\tMSC Server sends a SRVCC PS to CS Complete Notification message to the source SGSN, informing it that the UE has arrived on the target side. Source SGSN acknowledges the information by sending a SRVCC PS to CS Complete Acknowledge message to the MSC Server.\n22a.\tAfter the SGSN received a Suspend Request/Notification in step 18, the SGSN behaves as follows:\nIf the SGSN uses Gn/Gp based interaction with GGSN, then:\n-\tThe SGSN deactivates PDP Contexts used for voice and it suspends PDP Contexts using background or interactive class.\n-\tFor a PDP Context using streaming or conversational traffic class not used for voice, the PDP Context is preserved and the maximum bitrate is downgraded to 0 Kbit/s.\nIf the SGSN uses S4 based interaction with S-GW and P-GW, then:\n-\tThe SGSN deactivates bearers used for voice and other GBR bearers towards S-GW and P-GW by initiating MS-and SGSN Initiated Bearer Deactivation procedure as specified in TS 23.060 [10]. PS-to-CS handover indicator is notified to P‑GW for voice bearer during the bearer deactivation procedure.\n-\tIf dynamic PCC is deployed, the P‑GW may interact with PCRF as defined in TS 23.203 [32].\n-\tThe SGSN starts preservation and suspension of non-GBR bearers by sending Suspend Notification message towards S-GW. The S-GW releases all RNC related information (address and TEIDs) for the UE if Direct Tunnel is established, and sends Suspend Notification message to the P-GW(s).\nThe SGSN stores in the UE context that UE is in suspended status. All the preserved non-GBR bearers are marked as suspended status in the S-GW and P-GW. The P-GW should discard packets if received for the suspended UE.\n22b)\tThe source SGSN sends a Iu Release Command to the Source RNC. The Source RNC releases its resources related to the UE and responds with an Iu Release Complete message.\n23a.\tFor non-emergency sessions and if the HLR is to be updated, i.e. if the IMSI is authenticated but unknown in the VLR, the MSC Server performs a TMSI reallocation towards the UE using its own non-broadcast LAI and, if the MSC Server and other MSC/VLRs serve the same (target) LAI, with its own Network Resource Identifier (NRI).\nNOTE 6:\tThe TMSI reallocation is performed by the MSC Server towards the UE via target MSC.\nNOTE 7:\tFor emergency services sessions the HLR will not be updated. TMSI reallocation may be performed based on IMSI presence.\n23b.\tFor non-emergency sessions if the MSC Server performed a TMSI reallocation in step 23a, and if this TMSI reallocation was completed successfully, the MSC Server performs a MAP Update Location to the HSS/HLR.\nNOTE 8:\tThis Update Location is not initiated by the UE.\n24.\tFor an emergency services session after handover is complete, the source SGSN or the MSC Server may send a Subscriber Location Report carrying the identity of the MSC Server to a GMLC associated with the source or target side, respectively, as defined in TS 23.271 [29] to support location continuity.\nNOTE 9:\tAny configuration of the choice between a source SGSN versus MSC Server update to a GMLC needs to ensure that a single update occurs from one of these entities when the control plane location solution is used on the source and/or target sides.\nAfter the CS voice call is terminated and if the UE is still in GERAN or UTRAN (or for any other reason according to TS 24.008 [44]), then the UE shall resume PS services (as specified in TS 23.060 [10]). A Gn/Gp SGSN will follow TS 23.060 [10] to resume the PDP Context(s). An S4-SGSN will also follow TS 23.060 [10] to resume the bearers, and will in addition inform S-GW and P-GW(s) to resume the suspended bearers. Resuming the suspended bearers in the S-GW and in the P-GW should be done by implicit resume using the Modify Bearer request message if it is triggered by the procedure in operation, e.g. RAU, TAU or Service Request. The S-GW is aware of the suspend state of the bearers and will forward the Modify Bearer request to the P-GW. Explicit resume using the Resume Notification message should be used in cases when Modify Bearer Request is not triggered by the procedure in operation.\n6.3.2.1A\tSRVCC from UTRAN (HSPA) to GERAN with DTM but without DTM HO support and from UTRAN (HSPA) to UTRAN without PS HO\nThe call flow for this scenario is similar to the call flow depicted in figure 6.3.2.1‑1, with the exceptions that the Suspend procedure (step 18 and step 22a in figure 6.3.2.1‑1) is not performed and that the source SGSN only deactivates bearers used for voice and sets the PS-to-CS handover indicator. The scenario requires that NB can determine that the target is either GERAN with DTM but without DTM HO support and that the UE is supporting DTM or that the target is UTRAN (HSPA) without PS HO support. The message in step 3 in figure 6.3.2.1 1 includes an indication to the SGSN that the UE is available for PS service in the target cell. At the end of the procedure described in figure 6.3.2.1‑1, the remaining PS resources are re-established when the UE performs the Routeing Area update procedure. Triggers for performing Routeing Area update procedure are described in TS 23.060 [10]. The target SGSN may deactivate the PDP contexts that cannot be established as described in TS 23.060 [10].",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.292_clause_7.3.2.1.3",
        "ts_23.060_clause_16.2.1.1.2",
        "figure_6.3.2.1-1",
        "figure_6.3.2.1",
        "ts_33.102",
        "ts_23.237",
        "ts_23.292",
        "ts_23.060",
        "ts_23.003",
        "ts_23.009",
        "ts_23.203",
        "ts_23.271",
        "ts_24.008"
      ]
    },
    {
      "chunk_id": "ts_23.216_6.3.2.2",
      "section_id": "6.3.2.2",
      "section_title": "SRVCC from UTRAN (HSPA) to UTRAN or GERAN with DTM HO support",
      "content": "Depicted in figure 6.3.2.2-1 is a call flow for SRVCC from UTRAN (HSPA) to UTRAN or GERAN with DTM HO support, including the handling of the non-voice component.\nFigure 6.3.2.2-1: SRVCC from UTRAN (HSPA) to UTRAN or GERAN with DTM HO support\n1.\tUE sends measurement reports to Source UTRAN (HSPA).\n2.\tBased on UE measurement reports the source UTRAN (HSPA) decides to trigger a handover to UTRAN/GERAN.\n2a.\tIn the case of SRVCC to UTRAN the RNC shall initiate the SRVCC Preparation procedure by sending an SRVCC CS KEYS REQUEST message to the source SGSN.\n2b.\tThe SGSN shall respond to the RNC with SRVCC CS KEYS RESPONSE message containing the Integrity Protection Key IE, the Encryption Key IE and the SRVCC Information IE.\n3.\tIf target is UTRAN, the source UTRAN (HSPA) sends a Relocation Required (Target ID, Source RNC to Target RNC Transparent Container, SRVCC Handover Indication) message to the source SGSN. UTRAN (HSPA) also indicates to SGSN that this is for CS+PS HO.\nNOTE 1:\tWhen the source UTRAN (HSPA) indicates that this is a CS+PS HO request, the source SGSN sends the single received transparent container to both the target CS domain and the target PS domain.\nIf target is GERAN, the source UTRAN (HSPA) sends a Relocation Required (Target ID, Old BSS to New BSS Information IE for the CS domain and Source BSS to Target BSS Transparent Container for the PS Domain, SRVCC Handover Indication) message to the source SGSN. The differentiation between CS and PS containers is described in TS 25.413 [11]. In this case, the SGSN identifies from the SRVCC Handover Indication that this is a request for a CS+PS handover.\n4.\tBased on the Traffic Class associated with conversational and Source Statistic Descriptor = speech, and the SRVCC Handover Indication the Source SGSN splits the voice bearer from all other PS bearers and initiates their relocation towards MSC Server and SGSN, respectively.\n5a)\tSource SGSN initiates the PS-CS handover procedure for the voice bearer by sending a SRVCC PS to CS Request (IMSI, Target ID, STN-SR, C‑MSISDN, Source to Target Transparent Container, MM Context, Emergency Indication, Source SAI) message to the MSC Server. The Emergency Indication and the equipment identifier are included if the ongoing session is emergency session. Authenticated IMSI and C‑MSISDN shall be included if available. The message includes information relevant to the CS domain only. SGSN received STN-SR and C‑MSISDN from the HSS as part of the subscription profile downloaded during the UTRAN (HSPA) attach procedure. MM Context contains security related information. The CS Security key is derived by the SGSN from the UTRAN (HSPA)/EPS domain key as defined in TS 33.102 [25]. If the target system is GERAN, the Source SAI shall be set to the Serving Area Identifier received from the source RNC.\n5b)\tMSC Server interworks the PS handover request with a CS inter-MSC handover request by sending a Prepare Handover Request message to the target MSC. If the target system is GERAN, MSC Server uses BSSMAP encapsulated for the Prepare Handover Request. If the target system is UTRAN, MSC Server uses RANAP encapsulated for the Prepare Handover Request.\n5c)\tTarget MSC requests resource allocation for the CS relocation by sending the Relocation Request/Handover Request (Source to Target Transparent Container) message to the target RNS/BSS.\n6.\tIn parallel to the previous step the source SGSN initiates relocation of the PS bearers. The following steps are performed (for details see TS 23.060 [10]):\na)\tIf the target SGSN uses S4 based interaction with S‑GW and P‑GW, the source SGSN sends a Forward Relocation Request (Source to Target Transparent Container, MM Context, PDP Context) message to the target SGSN. The PDP Context includes bearer information for all bearers except the voice bearer. The handling of security keys for PS handover of the remaining non-voice PS bearers is specified in TS 33.401 [22].\nIf the target SGSN uses Gn/Gp based interaction with GGSN, the Source SGSN sends a Forward Relocation Request (Source to Target Transparent Container, MM Context and PDP Context) message to the target SGSN. The PDP Context includes bearer information for all bearers except the voice bearer. The handling of security keys for PS handover of the remaining non-voice PS bearers is specified in TS 33.102 [25].\nb)\tTarget SGSN requests resource allocation for the PS relocation by sending the Relocation Request/Handover Request (Source to Target Transparent Container) message to the target RNS/BSS.\n7.\tTarget RNS/BSS coordinates the CS relocation request with the PS relocation request and assigns resources. The following steps are performed:\na)\tTarget RNS/BSS acknowledges the prepared PS relocation by sending the Relocation Request Acknowledge/Handover Request Acknowledge (Target to Source Transparent Container) message to the target SGSN.\nb)\tTarget SGSN sends a Forward Relocation Response (Target to Source Transparent Container) message to the source SGSN.\n8.\tIn parallel to the previous step the following steps are performed:\na)\tTarget RNS/BSS acknowledges the prepared CS relocation by sending the Relocation Request Acknowledge/Handover Request Acknowledge (Target to Source Transparent Container) message to the target MSC.\nb)\tTarget MSC sends a Prepare Handover Response (Target to Source Transparent Container) message to the MSC Server.\nc)\tEstablishment of circuit connection between the target MSC and the MGW associated with the MSC Server e.g. using ISUP IAM and ACM messages.\n9.\tFor non-emergency session, the MSC Server initiates the Session Transfer by using the STN-SR e.g. by sending an ISUP IAM (STN-SR) message towards the IMS. For emergency session, the MSC Server initiates the Session Transfer by using the locally-configured E-STN-SR and by including the equipment identifier. Standard IMS Service Continuity or Emergency IMS Service Continuity procedures are applied for execution of the Session Transfer, see TS 23.237 [14].\nNOTE 2:\tThis step can be started after step 8b.\nNOTE 3:\tIf the MSC Server is using an ISUP interface, then the initiation of the session transfer for non-emergency sessions may fail if the subscriber profile including CAMEL triggers is not available prior handover (see clause 7.3.2.1.3 of TS 23.292 [13]), and can also fail if CAMEL triggers are available and local anchor transfer function is used (see TS 23.237 [14]). If the subscriber profile is available prior handover then CAMEL triggers others than those used in clause 7.3.2.1.3 of TS 23.292 [13] are not used during the transfer.\n10.\tDuring the execution of the Session Transfer procedure the remote end is updated with the SDP of the CS access leg according to TS 23.237 [14]. The downlink flow of VoIP packets is switched towards the CS access leg at this point.\n11.\tThe source IMS access leg is released according to TS 23.237 [14].\nNOTE 4:\tSteps 10 and 11 are independent of step 12.\n12.\tThe MSC Server sends a SRVCC PS to CS Response (Target to Source Transparent Container) message to the source SGSN.\n13.\tSource SGSN synchronises the two prepared relocations and sends a Relocation Command (Target to Source Transparent Container) message to the source UTRAN (HSPA). If the target is GERAN, the source RNC shall receive the SRVCC Information IE containing the NONCE IE.\n14.\tUE tunes to the target UTRAN/GERAN cell.\n15.\tUTRAN (HSPA) sends a Handover Command message to the UE.\n16.\tHandover Detection at the target RNS/BSS, then the target RNS/BSS sends Handover Detection message to the target MSC. At this stage, the target MSC can send/receive voice data. The UE sends a Handover Complete message via the target RNS/BSS to the target MSC.\n17.\tThe CS relocation is complete. The following steps are performed:\na)\tTarget RNS/BSS sends Relocation Complete/Handover Complete message to the target MSC.\nb)\tTarget MSC sends an SES (Handover Complete) message to the MSC Server. The speech circuit is through connected in the MSC Server/MGW according to TS 23.009 [18].\nc)\tCompletion of the establishment procedure with ISUP Answer message to the MSC Server according to TS 23.009 [18].\nd)\tMSC Server sends a SRVCC PS to CS Complete Notification message to the source SGSN. Source SGSN acknowledges the information by sending a SRVCC PS to CS Complete Acknowledge message to the MSC Server.\ne)\tThe source SGSN deletes the voice bearer towards GGSN/S-GW/P-GW and sets the PS-to-CS handover indicator. If dynamic PCC is deployed, the PGW may interact with PCRF as defined in TS 23.203 [32].\nf)\tFor non-emergency sessions if the HLR is to be updated, i.e. if the IMSI is authenticated but unknown in the VLR, the MSC Server performs a TMSI reallocation towards the UE using its own non-broadcast LAI and, if the MSC Server and other MSC/VLRs serve the same (target) LAI, with its own Network Resource Identifier (NRI).\nNOTE 5:\tThe TMSI reallocation is performed by the MSC Server towards the UE via target MSC.\nNOTE 6:\tFor emergency services sessions the HLR will not be updated. TMSI reallocation may be performed based on IMSI presence.\ng)\tFor non-emergency sessions if the MSC Server performed a TMSI reallocation in step 17f, and if this TMSI reallocation was completed successfully, the MSC Server performs a MAP Update Location to the HSS/HLR.\nNOTE 7:\tthis Update Location is not initiated by the UE.\n18.\tIn parallel to the previous step, the PS relocation is complete. The following steps are performed:\na)\tTarget RNS/BSS sends Relocation Complete/Handover Complete message to target SGSN.\nb)\tTarget SGSN sends a Forward Relocation Complete message to the source SGSN. After having completed step 17e, source SGSN acknowledges the information by sending a Forward Relocation Complete Acknowledge message to the target SGSN.\nc)\tTarget SGSN updates the bearer with GGSN/S‑GW/P‑GW.\nd)\tThe Source S4-SGSN sends delete Session Request to the SGW as defined in TS 23.401 [2].\ne)\tThe source SGSN sends a Iu Release Command to the Source RNC. The Source RNC releases its resources related to the UE and responds with an Iu Release Complete message.\nNOTE 8:\tRouting Area Update procedures by the UE are done in accordance with TS 23.060 [10].\n19.\tFor an emergency services session after handover is complete, the source SGSN or the MSC Server may send a Subscriber Location Report carrying the identity of the MSC Server to a GMLC associated with the source or target side, respectively, as defined in TS 23.271 [29] to support location continuity.\nNOTE 9:\tAny configuration of the choice between a source SGSN versus MSC Server update to a GMLC needs to ensure that a single update occurs from one of these entities when the control plane location solution is used on the source and/or target sides.\nIf the SGSN determines that only the relocation of the voice bearer but not the relocation of one or more PS bearers succeeds, then the SGSN proceeds step13 after receiving SRVCC PS to CS Response from the MSC Server in step 12 and both UE and SGSN continue the procedure described in clause 6.3.2.1A.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.292_clause_7.3.2.1.3",
        "clause_6.3.2.1",
        "figure_6.3.2.2-1",
        "ts_25.413",
        "ts_33.102",
        "ts_23.060",
        "ts_33.401",
        "ts_23.237",
        "ts_23.292",
        "ts_23.009",
        "ts_23.203",
        "ts_23.401",
        "ts_23.271"
      ]
    },
    {
      "chunk_id": "ts_23.216_6.4.1",
      "section_id": "6.4.1",
      "section_title": "GPRS Attach procedure for SRVCC",
      "content": "GPRS attach procedure is performed as follows:\n-\tIf the subscriber is allowed to have CS to PS SRVCC, the HSS shall include the \"CS to PS SRVCC allowed\" indication in the Insert Subscriber Data sent to the MSC Server. The \"CS to PS SRVCC allowed\" indication may be specific for each VPLMN.",
      "chunk_type": "procedure",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.216_6.4.2",
      "section_id": "6.4.2",
      "section_title": "E-UTRAN Attach procedure for SRVCC",
      "content": "E-UTRAN attach procedure for 3GPP CS to PS SRVCC UE is performed as defined in TS 23.401 [2].",
      "chunk_type": "procedure",
      "cross_references": [
        "ts_23.401"
      ]
    },
    {
      "chunk_id": "ts_23.216_6.4.3.1",
      "section_id": "6.4.3.1",
      "section_title": "SRVCC to E-UTRAN/UTRAN (HSPA) from GERAN without DTM/PS HO support",
      "content": "Depicted in Figure 6.4.3.1-1 is an overview call flow for SRVCC to E-UTRAN/UTRAN (HSPA) from GERAN without DTM/PS HO support. The flow is based on the assumption that the source is GERAN without DTM/PS HO support or that the UE is without DTM/PS HO support and that all PS bearers are suspended.\nThe CS to PS SRVCC procedure will only be successfully performed under the following conditions:\n-\tthe UE has indicated to be CS to PS capable,\n-\tthe CS to PS allowed indication was part of the subscriber data received from HSS,\n-\tthe UE is IMS registered; and\n-\tthe UE has at least one PS bearer (usable for SIP signalling).\nFigure 6.4.3.1-1: SRVCC to E-UTRAN/UTRAN (HSPA) from GERAN without DTM / PS HO and SRVCC to E-UTRAN from UTRAN\nNOTE 1:\tFor SRVCC to UTRAN (HSPA) the target SGSN may use Gn/Gp for the connection to the GGSN/PGW SGSN. In that case SGSN uses GTPv1 signalling, i.e. send Update PDP Context Request in step 12 and the user plane path is established for all bearers between the UE, target NodeB, the SGSN and the SGW/PGW (GGSN) and use the GTPv1 version of the SGSN Context Request in steps 4 and 5. Furthermore, the step 16 is triggered for the setup of a Secondary PDP Context instead of a Dedicated Bearer.\n1.\tThe RNC/BSC sends a HO required to the MSC Server including an indication this HO is for CS to PS. If an inter-MSC CS HO has occurred prior to the CS to PS HO procedure, the MSC Server forwards the HO required to the anchor MSC Server.\n1a.\tThe MSC retrieves P‑TMSI+RAI+P‑TMSI signature or GUTI from the UE.\n2.\tThe MSC Server sends an Session Transfer Notification to IMS, which indicates that IMS should prepare for the transfer of media to PS. IMS allocates media ports in the network for the transfer. The media ports and codec information allocated by IMS are provided to the MSC Server in the response message\n3.\tThe MSC Server selects the target MME/SGSN based on Target ID contained in the HO required and sends a SRVCC CS to PS HO request to the target MME/SGSN. If required, the IMSI is provided for identifying the UE, and the GUTI or P-TMSI, P-TMSI signature and RAI as provided by the UE (see clause 5.3.4.3) are provided to the target MME/SGSN.\nNOTE 2:\tStep 2 and Step 3 can be performed independently of each other.\n4.\tIf the target MME/SGSN has no UE context it sends Context Request using GUTI or P-TMSI, P-TMSI signature and RAI to find the old MME/SGSN.\n5.\tThe old MME/SGSN responds with Context Response message including all UE contexts.\n6.\tThe target MME/SGSN allocates resources for all PS bearers in E-UTRAN or UTRAN (HSPA). The target MME/SGSN determines if the Serving GW is to be relocated, e.g. due to PLMN change.\n7.\tA SRVCC CS to PS HO response is returned from the target MME/SGSN to the MSC Server.\n8.\tMSC Server sends CS to PS command to the RAN, possibly via the target MSC, and the RAN send HO command to UE, indicating CS to PS handover. The MSC Server also includes in that message the IP address/ports and selected codec for the IMS media anchoring.\n9.\tA Session Transfer Preparation Request is sent to IMS to trigger IMS to have the media path switched to the IP address/port of the UE on the target access.\n10. The UE sends Handover confirmation to the eNodeB/NodeB.\n11. The eNodeB send Handover Notify to the MME/SGSN.\n11a. The MME/SGSN sends a SRVCC CS to PS Complete Notification message to the MSC Server to confirm the completion of the handover. The source MSC Server acknowledges the information by sending a SRVCC CS to PS Complete Acknowledge message to the MME/SGSN. When receiving the SRVCC CS to PS Complete Notification message, the MSC Server may release the local resource toward the BSS/RAN but not for the resources toward IMS (i.e. will not send any session release towards IMS).\n12.\tThe MME/S4-SGSN sends Modify Bearer Request to the SGW, which may be forwarded to the PGW to update PS bearer contexts according to IRAT HO procedure as specified in TS 23.401 [2]. At this stage the user plane path is established for all bearers between the UE, target eNodeB/NodeB, Serving GW (for Serving GW relocation this will be the Target Serving GW) and PDN GW and the voice session may continue temporarily on the default bearer until the dedicated bearer has been setup.\nIn this procedure, the MME/SGSN includes the CS to PS SRVCC indication. When dynamic PCC is deployed and PCRF has subscribed to the corresponding event as specified in TS 23.203 [32], the CS to PS indication is provided to the PCRF. This causes PCRF to make policy decisions to permit traffic towards the ATGW on the default bearer. Otherwise, when GTP is used, the PGW can install the filters locally to allow the default bearer to temporarily permit traffic towards the configured ATGWs.\nNOTE 3:\tAn alternative of using temporary filters on the default bearers is to ensure that the filters are always open towards the IMS ATGW. As the ATGW is a media gateway, such gateway will ensure that non-authorized media cannot be sent through the system.\n13.\tIf the target MME/SGSN has received Context Response from the old SGSN/MME, the target MME/SGSN sends the Context Acknowledge to the Context Response to the old SGSN/MME. A timer in the old SGSN is started to supervise when resources in the old BSC/RNC and the old Serving GW (for Serving GW relocation) shall be released according to IRAT HO procedure as specified in TS 23.401 [2].\n14.\tWhen the timer at the old SGSN started in step 13 expires, the old SGSN will clean-up all its resources towards old BSC/RNC if the UE is Iu/Gb Connected.\n15.\tThe UE initiates the Session transfer procedures according to TS 23.237 [14].\n16.\tAs a result of the Session transfer procedures, the setup of a dedicated bearer or PDP Context for voice is performed according to the dedicated bearer/PDP Context activation procedure as specified in TS 23.401 [2] or TS 23.060 [10]. After the setup of a dedicated bearer for voice and the respective filters in UE and PGW, the default bearer is not longer used for voice media and the PCRF revert any policy decision made in step 12 for the purpose of CS to PS SRVCC procedures.\nNOTE 4:\tWhere the bearer contexts are suspended depends on if the CS call was triggered by SRVCC from E-UTRAN or from CS procedures while the UE was attached to 2G/3G. If the CS call was triggered by SRVCC from E-UTRAN the bearers are suspended in an MME, and step 4 is sent to the old MME only in the case of MME change, or if the CS call was triggered while UE was in 2G/3G, the bearers are suspended in the old SGSN. The new MME uses P-TMSI and RAI or the GUTI received from the MSC in the SRVCC CS to PS HO request to find the old SGSN/MME.\nNOTE 5:\tThe UE will trigger the TAU according to TS 23.401 [2] if the target network is E-UTRAN or a Routing Area Update according to TS 23.060 [10] if the target network is UTRAN. The MME/SGSN knows that this relates to the CS to PS SRVCC procedures.",
      "chunk_type": "general",
      "cross_references": [
        "clause_5.3.4.3",
        "figure_6.4.3.1-1",
        "ts_23.401",
        "ts_23.203",
        "ts_23.237",
        "ts_23.060"
      ]
    },
    {
      "chunk_id": "ts_23.216_6.4.3.2",
      "section_id": "6.4.3.2",
      "section_title": "SRVCC to E-UTRAN/UTRAN (HSPA) from GERAN with DTM support but without DTM HO support and SRVCC to E-UTRAN from UTRAN without PS HO support",
      "content": "The call flow for this scenario is similar to the call flow depicted in figure 6.4.3.1-1, except that the old PS node in this case is an SGSN and step 4 is performed towards the old SGSN which is in the same routing area as the BSC/RNC. The target MME/SGSN shall send Context Request using P-TMSI and RAI to find the old SGSN to obtain the bearer contexts of the UE.",
      "chunk_type": "general",
      "cross_references": [
        "figure_6.4.3.1-1"
      ]
    },
    {
      "chunk_id": "ts_23.216_6.4.3.3",
      "section_id": "6.4.3.3",
      "section_title": "SRVCC to E-UTRAN/UTRAN (HSPA) with DTM/PS HO support",
      "content": "The call flow for this scenario is similar to the call flow depicted in figure 6.4.3.1-1, with the clarification that the BSC/RNC shall only send CS to PS HO required to MSC Server when CS to PS HO is supposed to be triggered. The PS to PS HO required shall not be sent to the old SGSN. Hence, no PS HO signalling is initiated. The target MME/SGSN shall send Context Request using P-TMSI and RAI to find the old SGSN to obtain the bearer contexts of the UE.",
      "chunk_type": "requirement",
      "cross_references": [
        "figure_6.4.3.1-1"
      ]
    },
    {
      "chunk_id": "ts_23.216_6.5.1",
      "section_id": "6.5.1",
      "section_title": "NG-RAN Registration procedure for SRVCC",
      "content": "5GS Registration procedure for 3GPP 5G-SRVCC UE is performed as defined in TS 23.502 [45] with the following additions:\n-\t5G-SRVCC UE includes the 5G-SRVCC capability indication as part of the \"UE Network Capability\" in the Registration Request.\n-\t5G-SRVCC UE includes the MS Classmark 2 and Supported Codecs IE in the Initial Registration message and in the non-periodic Registration messages.\n-\tUDM/HSS includes STN-SR and C-MSISDN as part of the subscription data sent to the AMF. If the STN-SR is present, it indicates the UE is 5G-SRVCC subscribed.\nNOTE:\tFor an Emergency Registration in which the UE was not successfully authenticated, this step does not occur.\n-\tAMF includes a \"5G-SRVCC operation possible\" indication in the N2 Request, meaning that both UE and AMF are SRVCC-capable.",
      "chunk_type": "procedure",
      "cross_references": [
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_23.216_6.5.2",
      "section_id": "6.5.2",
      "section_title": "Service Request procedures for SRVCC",
      "content": "Service Request procedures for 3GPP 5G-SRVCC UE are performed as defined in TS 23.502 [45] with the following additions:\n-\tAMF includes a \"5G-SRVCC operation possible\" indication in the N2 Request, meaning that both UE and AMF are 5G-SRVCC-capable.",
      "chunk_type": "procedure",
      "cross_references": [
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_23.216_6.5.3",
      "section_id": "6.5.3",
      "section_title": "Intra-5GS PS Handover procedure for SRVCC",
      "content": "Intra-5GS handover procedures for 3GPP 5G-SRVCC UE are performed as defined in TS 23.502 [45] with the following additions:\n-\tMS Classmark 2, STN-SR, C-MSISDN, and the Supported Codec IE shall be sent from the source AMF to the target AMF if available.\n-\tThe target AMF includes a \"5G-SRVCC operation possible\" indication in the N2 Handover Request, meaning that both UE and the target AMF are 5G-SRVCC-capable.\nFor Xn-based handover, the source NG-RAN node includes a \"5G-SRVCC operation possible\" indication in the Xn-AP Handover Request message to the target NG-RAN node.",
      "chunk_type": "procedure",
      "cross_references": [
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_23.216_6.5.4",
      "section_id": "6.5.4",
      "section_title": "5G-SRVCC from NG-RAN to 3GPP UTRAN procedure",
      "content": "Depicted in Figure 6.5.4-1 is a call flow for 5G-SRVCC from NG-RAN to 3GPP UTRAN.\nFigure 6.5.4-1: 5G-SRVCC from NG-RAN to 3GPP UTRAN call flow\n1.\tUE establishes the PDU session for IMS.\n2.\t5G-SRVCC HO is triggered by NG-RAN.\n3.\tNG-RAN sends a Handover Required (Target ID, generic Source to Target Transparent Container, 5G-SRVCC HO indication) message to the source AMF. The Target ID is the UTRAN RNC-ID. 5G-SRVCC HO Indication indicates to AMF that this if for 5G-SRVCC. The Generic Source to Target Transparent Container is the Source RNC to Target RNC Transparent container.\n4.\tAMF determines the HO is used for 5G-SRVCC by the 5G-SRVCC HO Indication. AMF selects an MME_SRVCC that can have Sv connection to the MSC SERVER/MSC according to the target RNC ID which is included in the Target ID.\nNOTE 1:\tThe MME_SRVCC selection can be realised through operator's configuration.\n5.\tAMF sends the forward relocation request (IMSI, Target ID, STN-SR, C-MSISDN, MM Context, Generic Source to Target Transparent Container, 5G-SRVCC HO Indication, Supported Codec IE, MS ClassMark 2, Emergency Indication, Equipment Identifier) to MME_SRVCC. The Emergency Indication and the equipment identifier are included if the ongoing session is emergency session. Authenticated IMSI and C MSISDN are also included in this case, if available.\n6.\tMME_SRVCC initiates the PS-CS handover procedure towards MSC Server. Steps 5 to 13 as specified in Figure 6.2.2.1-1 (referenced by clause 6.2.2.1A SRVCC from E-UTRAN to UTRAN without PS HO) are performed for the PS-CS handover procedure.\n7.\tMME_SRVCC receives the response message from MSC server after HO preparation is completed. MME_SRVCC sends the Forward Relocation Response message (Target to Source Transparent Container, MSC Server Identity) to AMF.\n8.\tAMF sends the HO command to NG-RAN.\n9.\tNG-RAN sends a HO command to the UE. UE detects the 5G-SRVCC HO.\n10.\tUE tunes to the target UTRAN cell.\n11.\tHandover Detection at the target RNS occurs, then the target RNS sends Handover Detection message to the target MSC SERVER/MSC.\n12.\tThe UE sends a Handover Complete message via the target RNS to the target MSC SERVER. Steps 19 to 21as specified in Figure 6.2.2.1-1 (referenced by clause 6.2.2.1A SRVCC from E-UTRAN to UTRAN without PS HO) are performed for this handover complete procedure. At this stage, the target MSC SERVER/MSC can send/receive voice data.\n13.\tMSC SERVER sends MME_SRVCC the SRVCC PS to CS completion.\n14.\tMME_SRVCC forwards the Forward Relocation completion message which includes the information received in step 13 to AMF.\n15.\tAMF forwards the Forward Relocation Complete ACK message to MME_SRVCC. AMF releases the UE context related to MME_SRVCC.\n16.\tMME_SRVCC forwards the PS to CS Complete ACK message to MSC server. MME_SRVCC removes stored UE context. After receives the message, MSC server removes the UE context related to the MME_SRVCC.\n17.\tAMF performs the PDU session release procedure for all the PDU session(s) which is described in TS 23.502 [45] indicating that the release is due to PS to CS handover for 5G SRVCC.\n18.\tFor an emergency services session after handover is complete, the source AMF or the MSC Server may respectively invoke the Namf_Location_EventNotify service operation or send a Subscriber Location Report, towards a GMLC associated with the source or target side, respectively, carrying the identity of the MSC Server, as defined respectively in TS 23.273 [50], TS 23.502 [45] or TS 23.271 [29], to support location continuity.\nNOTE 2:\tSome configuration of the choice between a source AMF versus MSC Server update to GMLC needs to ensure that a single update occurs from one of these entities.\n19.\tThe MSC server executes steps 17f and 17 g of Figure 6.2.2.2-1\nThe IMS service control is described in TS 23.292 [13] when UE accesses in UTRAN cell due to 5G-SRVCC.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_6.2.2.1",
        "figure_6.5.4-1",
        "figure_6.2.2.1-1",
        "figure_6.2.2.2-1",
        "ts_23.502",
        "ts_23.273",
        "ts_23.271",
        "ts_23.292"
      ]
    },
    {
      "chunk_id": "ts_23.216_6.5.5",
      "section_id": "6.5.5",
      "section_title": "Emergency PDU session establishment and release procedure for SRVCC",
      "content": "SRVCC for IMS emergency session can be supported regardless of the subscription data from the HPLMN. The Emergency PDU session is established as defined in TS 23.502 [45] with the following additions:\n-\tAMF includes a \"5G-SRVCC operation possible\" indication in the N2 Request, if needed.\nNOTE:\tDuring the Emergency PDU session establishment, if AMF has not sent the \"5G-SRVCC operation possible\" before, then the AMF send the \"5G-SRVCC operation possible\" indication to NG-RAN, otherwise AMF can skip this step.\nThe Emergency PDU session is released as defined in TS 23.502 [45] with the following additions:\n-\tAMF shall restore the SRVCC indication to the same status as prior to the emergency PDU session was established.",
      "chunk_type": "procedure",
      "cross_references": [
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_23.216_7",
      "section_id": "7",
      "section_title": "Charging",
      "content": "See TS 23.292 [13] clause 8 on charging for guidance on the handling of charging for SRVCC.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.292_clause_8",
        "ts_23.292"
      ]
    },
    {
      "chunk_id": "ts_23.216_8.1.1",
      "section_id": "8.1.1",
      "section_title": "Failure before MSC Server initiates Session Transfer",
      "content": "If a failure is encountered before the MSC Server initiates Session Transfer, then the standardised handover failure procedures apply according to TS 23.401 [2]. No further action is required by the UE.\n8.1.1a\tFailure after MSC Server initiates Session Transfer\n8.1.1a.1\tFailure before responding to PS to CS HO request\nIf the MSC Server receives a negative response from IMS during the Session Transfer procedure (e.g., due to invalid STN-SR, or temporary failure, etc) and the MSC Server has not yet responded back to MME/SGSN with a positive PS to CS Response message due to successful target CS radio resource reservation, then MSC Server shall reject this PS To CS Request with a Reject cause pointing to either permanent or temporary \"Session Transfer leg establishment error\" and MSC Server shall release the CS radio resource at the target RAT.\nNOTE 1:\tAn example of permanent error can be an invalid STN-SR (i.e., IMS returns with \"404 user unknown\").\nWhen MME/SGSN receives the PS to CS Response with a reject cause related to \"permanent Session Transfer leg establishment error\", MME/SGSN may take that indication into account to prevent further SRVCC handover attempts.\nNOTE 2:\tIt is an implementation option on when the MME/SGSN may retry SRVCC after receiving a \"permanent Session Transfer leg establishment error\".\nThe following figure 8.1.1a-1 shows the overall procedure when the MSC Server aware of the Session Transfer failure prior to responding to PS to CS HO request.\nFigure 8.1.1a-1: SRVCC Handover Rejection due to Session Transfer leg establishment error before responding to PS to CS HO request\n8.1.1a.2\tFailure after responding to PS to CS HO request\nIf the MSC Server receives a negative response from IMS during the initiates Session Transfer procedure (e.g. due to invalid STN-SR, or temporary failure, etc) and the MSC Server has already responded back to MME/SGSN with a positive PS to CS Response message due to successful target CS radio resource reservation and has not yet sent PS to CS Complete Notification, then MSC Server shall indicate to MME/SGSN with an error cause pointing to either permanent or temporary \"Session Transfer leg establishment error\" in PS to CS complete notification message, MME/SGSN shall perform the bearer release procedure as according to the normal SRVCC procedure as defined in clauses 6.2 and 6.3.\nNOTE:\tMSC Server may wait for the status of Session Transfer procedure before sending the CS Complete Notification to MME/SGSN.\nWhen MME/SGSN receives this PS to CS Complete notification message with an error cause pointing to \"permanent Session Transfer leg establishment error\", MME/SGSN may take that indication into account to prevent further SRVCC handover attempts.\nThe following figure 8.1.1a-2 shows the overall procedure when the MSC Server aware of the Session Transfer failure after the PS to CS HO request has been responded to MME/SGSN.\nFigure 8.1.1a-1: SRVCC Handover Rejection due to Session Transfer leg establishment error after responding to PS to CS HO request",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.1.1",
        "ts_23.401"
      ]
    },
    {
      "chunk_id": "ts_23.216_8.1.2",
      "section_id": "8.1.2",
      "section_title": "Failure after UE receives HO command",
      "content": "If the UE encounters a failure at the radio level after it receives the handover command and does not successfully transition to 3GPP UTRAN/GERAN RAT, the UE attempts to return to E-UTRAN/UTRAN by sending a re-INVITE to the SCC AS. The core network (MME, MSC Server) shall take no (v)SRVCC specific action in the event of not receiving the Handover Complete message from the UE.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.216_8.1.3",
      "section_id": "8.1.3",
      "section_title": "Handover Cancellation",
      "content": "If the source E-UTRAN/UTRAN decides to terminate the handover procedure before its completion, the MME/SGSN shall return to its state before the handover procedure was triggered. The MME/SGSN attempts to trigger, at the MSC Server enhanced for SRVCC, handover cancellation procedures according to TS 23.009 [18].\nThe MME/SGSN shall also send a session reestablishment trigger notification to UE to start the recovery procedure if it receives notification from the MSC Server that the Session Transfer procedure is in progress.\nThe source E-UTRAN/UTRAN shall not attempt any new SRVCC procedures until the cancellation has successfully been completed and source E-UTRAN/UTRAN have received an acknowledgment of the previous HO cancellation. If MSC has already triggered session transfer, then the UE needs to be provided with a Session Reestablishment trigger before a new cancellation attempt.\nFigure 8.1.3-1 shows the overall procedure for SRVCC handover cancellation.\nFor vSRVCC the MME and MSC also behave the same way as in the case of SRVCC handover cancellation.\nFigure 8.1.3-1: SRVCC Handover Cancellation Procedure\n1.\tNetwork has started the SRVCC procedure. SGSN/MME has sent the SRVCC PS to CS request to MSC Server.\n2.\tMSC Server is performing the CS HO procedure with target network, and has also started the Session Transfer procedure with IMS with STN-SR, see TS 23.237 [14].\n3.\tSource UTRAN/E-UTRAN decides to cancel the SRVCC HO Procedure by sending a Cancel message to SGSN/MME.\n4.\tSource SGSN/MME indicates SRVCC PS to CS Cancel Notification to MSC Server to start the HO cancellation procedure as according to TS 23.009 [18].\n5.\tMSC Server acks the PS to CS Cancel Notification with an indication that Session Transfer procedure is in progress.\n5b.\tThe MSC Server releases any resources established in CS and IMS as a result of the SRVCC preparation.\n6.\tDue to the Session Transfer procedure in progress indication, the source SGSN/MME sends a Session Reestablishment trigger notification to UE to start the session re-establishment procedure\nNOTE 1:\tThe Session Reestablishment trigger notification will need to provide information to the UE to start the re-establishment procedure on the bearer used for IMS signalling.\n6b.\tThe source SGSN/MME confirms the Cancel message provided in step 3.\n7.\tUE starts the re-establishment procedure, by attempting to return to E-UTRAN/UTRAN by sending a re-INVITE towards IMS for the related session. If the session is no longer active, then this session transfer request shall be rejected by the IMS.\nNOTE 2:\tAll originally established bearers in E-UTRAN still exist despite this process and assumed to be re-used after the HO cancelation.",
      "chunk_type": "requirement",
      "cross_references": [
        "figure_8.1.3-1",
        "ts_23.009",
        "ts_23.237"
      ]
    },
    {
      "chunk_id": "ts_23.216_8.1.4",
      "section_id": "8.1.4",
      "section_title": "Handover Failure due to alerting/pre-alerting state",
      "content": "If either an UE, MSC server, or IMS (e.g. SCC AS, EATF, or ATCF) does not support the required alerting or pre-alerting SRVCC capabilities as defined in TS 23.237 [14] then handover failure scenario as defined in clause 8.1.1a is followed with the following additional clarifications:\n-\tAt the session transfer request from MSC server with E-STN-SR or STN-SR, IMS returns a temporary failure indication to this request.\n-\tMSC Server, if supported, shall be configured to not return a PS-CS Response to source MME/SGSN until it receives either a positive or negative indication with temporary failure from IMS, or due to other normal error handling (e.g., timeout).\nSource E-UTRAN/UTRAN may retry SRVCC or other handover mechanism when receiving handover preparation failure from source MME/SGSN.",
      "chunk_type": "general",
      "cross_references": [
        "clause_8.1.1",
        "ts_23.237"
      ]
    },
    {
      "chunk_id": "ts_23.216_8.2.1",
      "section_id": "8.2.1",
      "section_title": "Failure before UE initiates Session Transfer detected by MSC Server",
      "content": "Figure 8.2.1-1 provides the procedures of how the MSC server handles errors when HO Required is received.\nFigure 8.2.1-1: Error handling during HO\n1.\tThe RNC/BSC sends a HO required to the MSC Server including an indication this HO is for CS to PS SRVCC.\n2.\tThe MSC Server checks if CS to PS HO is possible, e.g., that the UE is still registered in IMS. In this flow, the MSC Server detects that CS to PS SRVCC cannot be performed.\n3.\tMSC Server cancels the HO with a specific cause that the RNC/BSC will not perform further HO attempts for CS to PS SRVCC.\nIf the HO cancellation is done prior that the Session Transfer Preparation request, but after the Session Transfer Notification, the MSC Server shall send a notification session transfer cancellation to IMS to indicate that the transfer has been cancelled to allow IMS to de-allocate any resources it may have reserved.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.2.1-1"
      ]
    },
    {
      "chunk_id": "ts_23.216_8.2.2",
      "section_id": "8.2.2",
      "section_title": "Failure before UE initiates Session Transfer detected by MME",
      "content": "Figure 8.2.2-1 provides the procedures of how the MSC server handles errors when HO Required is received.\nFigure 8.2.2-1: Error handling during HO\n1.\tThe RNC/BSC sends a HO required to the MSC Server including an indication this HO is for CS to PS. If the MSC Server is the target MSC, it forwards the HO required to the anchor MSC Server.\n2.\tThe MSC Server sends a SRVCC CS to PS Request to the Target MME. If required, the IMSI is provided for identifying the UE, and the P-TMSI and RAI is provided to MME if available.\n3.\tThe MME has no UE context and tries to find the source SGSN/MME. For some reason, the UE context cannot be found. The MME cancels the HO.\n4.\tThe MME sends SRVCC CS to PS Response, with cause indicating failure, to the MSC Server.\n5.\tMSC Server cancels the HO with a specific cause that the RNC/BSC will not perform further HO attempts for CS to PS SRVCC.\nThe cancellation is done prior that the Session Transfer Preparation request, but after the Session Transfer Notification, the MSC Server shall send a notification session transfer cancellation to IMS to indicate that the transfer has been cancelled to allow IMS to de-allocate any resources it may have reserved.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_23.216_8.2.3",
      "section_id": "8.2.3",
      "section_title": "CS to PS Handover Cancellation",
      "content": "If the source RAN decides to terminate the handover procedure before its completion, the MSC Server shall start the Cancellation procedure if it has initiated the CS to PS HO command towards the MME. Figure 8.2.3-1 shows the overall procedure for SRVCC CS to PS handover cancellation.\nFigure 8.2.3-1: SRVCC CS to PS Handover Cancellation Procedure\n1-2.\tNetwork has started the SRVCC CS to PS procedure. MSC Server has sent the SRVCC CS to PS request to MME. MME is performing the SRVCC CS to PS HO procedure with target network.\n3.\tSource RAN decides to cancel the SRVCC CS to PS HO Procedure by sending a Cancel message to MSC Server.\n4.\tSource MSC Server indicates SRVCC CS to PS Cancel Notification to MME to start the HO cancellation procedure.\n5.\tMME acks the CS to PS Cancel Notification.\n6.\tThe MSC Server acknowledges the HO Cancelation from BSC/RNC and resumes the CS session.\nIf the HO cancellation is done prior that the Session Transfer Preparation request, but after the Session Transfer Notification, the MSC Server shall send a Session Transfer Notification cancellation to IMS to indicate that the transfer has been cancelled to allow IMS to de-allocate any resources it may have reserved.",
      "chunk_type": "requirement",
      "cross_references": [
        "figure_8.2.3-1"
      ]
    },
    {
      "chunk_id": "ts_23.216_8.3",
      "section_id": "8.3",
      "section_title": "Failure in 5G-SRVCC from NG-RAN to 3GPP UTRAN",
      "content": "Such failures are handled as defined for Failure in EUTRAN/UTRAN (HSPA) to 3GPP UTRAN/GERAN (v)SRVCC in clause 8.1 with following modifications:\n-\tWhen as defined in clause 8.1.1a.1 the MSC Server rejects a PS To CS Request with a Reject cause pointing to either permanent or temporary \"Session Transfer leg establishment error\", the MME-SRVCC shall transfer this information to the AMF. The AMF indicates to the NG RAN the Handover preparation failure. The AMF may take an indication of \"permanent Session Transfer leg establishment error\" into account to prevent further SRVCC handover attempts.\n-\tWhen as defined in clause 8.1.1a.2, the MSC Server indicates an error cause pointing to either permanent or temporary \"Session Transfer leg establishment error\" in PS to CS complete notification message, the AMF based on the absence of a Forward Relocation Complete Notification determines the failure of the SRVCC procedure.\n-\tWhen as defined in clause 8.1.2, there is a Failure after UE receives HO command, the UE attempts to return to NG RAN the core network (AMF, MME-SRVCC, MSC Server) shall take no (v)SRVCC specific action in the event of not receiving the Handover Complete message from the UE.\n-\tWhen as defined in clause 8.1.3, the source RAN (NG RAN) decides to terminate the handover procedure before its completion, the AMF shall attempt to have the MME-SRVCC trigger, at the MSC Server enhanced for SRVCC, handover cancellation procedures. The AMF shall also send a session reestablishment trigger notification to UE to start the recovery procedure if it received a notification that the Session Transfer procedure is in progress.\n-\tSame requirements as defined in clause 8.1.4, for Handover Failure due to alerting/pre-alerting state.",
      "chunk_type": "general",
      "cross_references": [
        "clause_8.1",
        "clause_8.1.1",
        "clause_8.1.2",
        "clause_8.1.3",
        "clause_8.1.4"
      ]
    },
    {
      "chunk_id": "ts_23.216_9.1",
      "section_id": "9.1",
      "section_title": "Network Domain Security with 3GPP2 1xCS IWS",
      "content": "Network domain security with 3GPP2 1xCS IWS shall be provided by NDS/IP according to TS 33.210 [21] with integrity protection and confidentiality. This shall be applied whenever signalling messages (e.g. containing security context) are transferred on the S102 reference point.\nNOTE 1:\tIf control plane interfaces are trusted (e.g. physically protected), there is no need to use protection according to TS 33.210 [21].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_33.210"
      ]
    },
    {
      "chunk_id": "ts_23.216_9.2",
      "section_id": "9.2",
      "section_title": "Network Domain Security with 3GPP UTRAN/GERAN MSC Server",
      "content": "Network domain security with 3GPP UTRAN/GERAN MSC Server shall be provided by NDS/IP according to TS 33.210 [21] with integrity protection and confidentiality. This shall be applied whenever signalling messages (e.g. containing security context) are transferred on the Sv reference point.\nNOTE 2:\tIf control plane interfaces are trusted (e.g. physically protected), there is no need to use protection according to TS 33.210 [21].\nAnnex A (informative):Determination of Neighbour Cell List\nThis annex describes example algorithms for determination of Neighbour Cell List (NCL) for SRVCC operation. In the case of SRVCC to GERAN/UTRAN it is also clarified when the E-UTRAN includes a SRVCC indication in the Handover Required message.\nA.1\tSRVCC from E-UTRAN to 3GPP2 1xCS\nE-UTRAN may determine the NCL as follows:\n-\tIf the \"SRVCC operation possible\" indication is set to \"true\" (i.e. both EPC and UE are SRVCC capable), then:\n-\tif there is an established QCI=1 bearer for this UE, then 1x cells may be included as candidate target cells in the NCL;\n-\tif there is no established QCI=1 bearer for this UE, then 1x cells are not included in the NCL.\n-\tIf the \"SRVCC operation possible\" indication is not set, then 1x cells are not included in the NCL.\nA.2\tSRVCC from E-UTRAN to GERAN / UTRAN\nE-UTRAN may determine the NCL, as well as the need to signal a SRVCC indication, as follows:\n-\tIf the \"SRVCC operation possible\" indication is set to \"true\" (i.e. both EPC and UE are SRVCC capable) and the UE has indicated in Radio Access Capabilities support for SRVCC to the target RAT, then VoIP-incapable cells may be included as candidate target cells in the NCL, regardless of the presence of an established QCI=1 bearer for this UE. Moreover:\n-\tif there is an established QCI=1 bearer for this UE and the selected target cell is VoIP-capable and the UE has indicated in Radio Access Capabilities support for PS Voice over UTRAN, then E-UTRAN does not include a SRVCC indication in the Handover Required message;\n-\tif there is an established QCI=1 bearer for this UE and the selected target cell is VoIP-incapable, or the UE has indicated in Radio Access Capabilities no support for PS Voice over UTRAN, then E-UTRAN includes a SRVCC indication in the Handover Required message;\n-\tif there is no established QCI=1 bearer for this UE, then E-UTRAN does not include a SRVCC indication in the Handover Required message;\n-\tIf the \"SRVCC operation possible\" indication is not set, or the UE has not indicated in Radio Access Capabilities support for SRVCC to the target RAT, then E-UTRAN does not include a SRVCC indication in the Handover Required message. Moreover:\n-\tif there is an established QCI=1 bearer for this UE, then VoIP-incapable cell are not be included in the NCL;\n-\tif there is no established QCI=1 bearer for this UE, then VoIP-incapable cells may be included in the NCL.\nA.3\tSRVCC from UTRAN (HSPA) to GERAN / UTRAN\nSimilar logic may be used as in clause A.2 by replacing E-UTRAN with UTRAN.\nA.4\tSRVCC from GERAN / UTRAN to E-UTRAN / UTRAN (HSPA)\nGERAN/UTRAN may determine the NCL, as well as the need to signal a CS to PS SRVCC indication, as follows:\n-\tIf the \"CS to PS SRVCC operation possible\" indication is set to \"true\" (i.e. both the network and UE are CS to PS SRVCC capable, and a valid IMS registration via PS still exists), and the UE has indicated in Radio Access Capabilities support for CS to PS SRVCC to this RAT, then VoIP-capable cells may be included as candidate target cells in the NCL, regardless of the presence of an established TS 11 bearer for this UE. Moreover:\n-\tif there is an established TS 11 bearer for this UE and the selected target cell is VoIP-incapable, then GERAN/UTRAN does not indicate that the handover is for CS to PS in the Handover Required message;\n-\tif there is an established TS 11 bearer for this UE and the selected target cell is VoIP-capable, then GERAN/UTRAN indicates that the handover is for CS to PS in the Handover Required message;\n-\tif there is no established TS 11 bearer for this UE, then GERAN/UTRAN does not indicate that the handover is for CS to PS in the Handover Required message;\n-\tIf the \"CS to PS SRVCC operation possible\" indication is not set (i.e. either the network or UE is not CS to PS SRVCC capable, and a valid IMS registration via PS still exists), or the UE has not indicated in Radio Access Capabilities support for CS to PS SRVCC to this RAT, then GERAN/UTRAN does not indicate that the handover for CS to PS in the Handover Required message. Moreover:\n-\tif there is an established TS 11 bearer for this UE, then VoIP-capable cells are not be included in the NCL;\n-\tif there is no established TS 11 bearer for this UE, then VoIP-capable cells may be included in the NCL.\nAnnex B (informative):Change history\nChange history\nDate\nMeeting\nTDoc\nCR\nRev\nCat\nSubject/Comment\nNew version\n2011-06\nSP-52\nSP-110342\n0195\n1\nB\nRemove editor's note for predefined codec in case of vSRVCC\n11.1.0\n2011-06\nSP-52\nSP-110342\n0196\n1\nF\nRemaining changes for vSRVCC\n11.1.0\n2011-06\nSP-52\nSP-110342\n0197\n2\nF\nRemove editor's note on end-to-end video codec negotiation in case of vSRVCC\n11.1.0\n2011-06\nSP-52\nSP-110325\n0203\n2\nA\nFix SRVCC related data transfer between MMEes/SGSNs\n11.1.0\n2011-06\nSP-52\nSP-110337\n0211\n2\nA\nClarification on the MSC selection mechanism in the MME/SGSN\n11.1.0\n2011-06\nSP-52\nSP-110323\n0215\n1\nA\nQCI=1 usage in SRVCC\n11.1.0\n2011-06\nSP-52\nSP-110337\n0217\n-\nA\nAligning the error procedures for SRVCC with stage 3\n11.1.0\n2011-06\nSP-52\nSP-110325\n0218\n-\nA\nCorrection on source SAI in UTRAN to GERAN SRVCC handover\n11.1.0\n2011-09\nSP-53\nSP-110464\n0222\n2\nB\neMPS for SRVCC on EPS/MSS level\n11.2.0\n2011-12\nSP-54\nSP-110745\n0223\n2\nF\nvSRVCC Cleanup\n11.3.0\n2011-12\nSP-54\nSP-110745\n0224\n1\nF\nClarification of vSRVCC capability indicator handling\n11.3.0\n2011-12\nSP-54\nSP-110745\n0225\n2\nF\nClarification of the vSRVCC indicator handling in the PCRF\n11.3.0\n2011-12\nSP-54\nSP-110745\n0226\n1\nF\nCorrection of the wrong usage of the PS-to-CS handover indicator\n11.3.0\n2011-12\nSP-54\nSP-110745\n0233\n-\nF\nClarification on codec negotiation of vSRVCC UE\n11.3.0\n2011-12\nSP-54\nSP-110747\n0235\n2\nB\nIntroduction of SRVCC from CS to PS\n11.3.0\n2011-12\nSP-54\nSP-110745\n0236\n2\nF\nRemove impacts of vSRVCC in E-UTRAN\n11.3.0\n2011-12\nSP-54\nSP-110737\n0240\n-\nA\nCorrection of roaming procedures for ICS\n11.3.0\n2012-03\nSP-55\nSP-120075\n0247\n1\nA\nSRVCC recovery due to incomplete IMS session continuity procedure\n11.4.0\n2012-03\nSP-55\nSP-120065\n0251\n1\nA\nIntra-UMTS SRVCC handover correction\n11.4.0\n2012-03\nSP-55\nSP-120087\n0241\n2\nF\nRelease resource in RAN at SRVCC procedure\n11.4.0\n2012-03\nSP-55\nSP-120087\n0253\n1\nF\nTiming of Suspension Procedure during SRVCC to GERAN without DTM Support\n11.4.0\n2012-03\nSP-55\nSP-120084\n0254\n-\nF\nReverse SRVCC and PCC\n11.4.0\n2012-03\nSP-55\nSP-120087\n0259\n-\nF\nClarifications on usage of CAMEL triggers during SRVCC\n11.4.0\n2012-03\nSP-55\nSP-120084\n0260\n1\nF\nMME selection for rSRVCC\n11.4.0\n2012-03\nSP-55\nSP-120084\n0262\n1\nF\nCall flow corrections for rSRVCC HO\n11.4.0\n2012-03\nSP-55\nSP-120084\n0263\n1\nC\nBearer release handling in the source MME/SGSN\n11.4.0\n2012-03\nSP-55\nSP-120084\n0264\n1\nC\nEmergency call handling in rSRVCC\n11.4.0\n2012-06\nSP-56\nSP-120245\n0238\n2\nF\nvSRVCC - Update of PCRF related functionality\n11.5.0\n2012-06\nSP-56\nSP-120242\n0245\n3\nC\nClarification of eMPS SRVCC for video\n11.5.0\n2012-06\nSP-56\nSP-120248\n0265\n1\nF\nrSRVCC with Gn/Gp SGSN\n11.5.0\n2012-06\nSP-56\nSP-120248\n0266\n2\nF\nClarification for the anchor MSC Server and DTM/PS HO support\n11.5.0\n2012-06\nSP-56\nSP-120245\n0271\n1\nF\nClarification on statement of vSRVCC\n11.5.0\n2012-06\nSP-56\nSP-120248\n0272\n1\nF\nClarifications on failure scenarios for CS to PS SRVCC\n11.5.0\n2012-06\nSP-56\nSP-120248\n0273\n2\nF\nClarifications on prerequisites for CS to PS SRVCC\n11.5.0\n2012-06\nSP-56\nSP-120248\n0274\n1\nF\nCorrection on target SGSN/MME selection\n11.5.0\n2012-06\nSP-56\nSP-120248\n0275\n5\nF\nDetails on the mechanism to provide Serving PS node information to the MSC Server\n11.5.0\n2012-06\nSP-56\nSP-120248\n0277\n1\nF\nFigure alignment corrections\n11.5.0\n2012-06\nSP-56\nSP-120250\n0278\n2\nF\nClarification on TAU after 1xCS SRVCC\n11.5.0\n2012-06\nSP-56\nSP-120248\n0280\n1\nF\nRSRVCC Signalling Flow Corrections\n11.5.0\n2012-06\nSP-56\nSP-120248\n0282\n1\nF\nCorrection of bearer setup in UTRAN (HSPA)\n11.5.0\n2012-06\nSP-56\nSP-120248\n0284\n1\nF\nFailure case using Cancel Notification for CS to PS SRVCC\n11.5.0\n2012-06\nSP-56\nSP-120250\n0285\n1\nF\nCorrection to operator policy requirements on setting of SRVCC and vSRVCC Capabilities\n11.5.0\n2012-06\nSP-56\nSP-120250\n0290\n1\nF\nImpact of radio capabilities and network sharing in target cell selection and handover for SRVCC\n11.5.0\n2012-06\nSP-56\nSP-120248\n0292\n-\nF\nClarification on rSRVCC operation possible indication update\n11.5.0\n2012-06\nSP-56\nSP-120237\n0294\n1\nA\nClarification on SRVCC session transfer error handling\n11.5.0\n2012-06\nSP-56\nSP-120248\n0296\n-\nF\nUE rSRVCC capability indication and GERAN/UTRAN functions\n11.5.0\n2012-09\nSP-57\nSP-120480\n0299\n-\nF\nCS to PS SRVCC cancellation clarification\n11.6.0\n2012-09\nSP-57\nSP-120484\n0300\n-\nF\nCorrection of references\n11.6.0\n2012-09\nSP-57\nSP-120486\n0301\n1\nF\nImpact of radio capabilities and network sharing in target cell selection and handover for HSPA SRVCC\n11.6.0\n2012-09\nSP-57\nSP-120484\n0303\n2\nF\nClarification to SRVCC Handover Cancellation Procedure in Sec 8.1.3\n11.6.0\n2012-12\nSP-58\nSP-120714\n0308\n1\nA\nSRVCC clarification of Failure after responding to PS to CS HO request\n11.7.0\n2012-12\nSP-58\nSP-120724\n0309\n1\nF\nRemove intra UMTS CS to PS SRVCC Handover\n11.7.0\n2013-03\nSP-59\nSP-130084\n0310\n1\nF\nCorrections to vSRVCC procedure from E-UTRAN to UTRAN with PS HO support\n11.8.0\n2013-03\nSP-59\nSP-130088\n0311\n1\nF\nCorrect description of the impact on P-GW due to SRVCC\n11.8.0\n2013-06\nSP-60\nSP-130214\n0314\n1\nA\nSRVCC Handover Cancellation corrections\n11.9.0\n2013-06\nSP-60\nSP-130309\n0315\n1\nF\nPS-to-CS handover indicator for the E-UTRAN-to-1x SRVCC procedure\n11.9.0\n2013-06\nSP-60\nSP-130221\n0317\n1\nF\nHO restriction to E-UTRAN for rSRVCC from UTRAN\n11.9.0\n2013-06\nSP-60\nSP-130309\n0318\n1\nF\nInclusion of equipment identifier in normal mode of operation\n11.9.0\n2013-12\nSP-62\nSP-130521\n0320\n1\nF\nRace conditions in SRVCC with PS handover\n11.10.0\n2013-12\nSP-62\nSP-130533\n0316\n4\nB\nReturning back to E-UTRAN after SRVCC\n12.0.0\n2014-06\nSP-64\nSP-140255\n0325\n-\nA\nCorrection on location reporting in emergency 1xSRVCC\n12.1.0\n2014-12\nSP-66\nSP-140686\n0330\n2\nF\nDetermining 'SRVCC Operation Possible' with Roaming Agreement\n12.2.0\n2015-06\nSP-68\nSP-150230\n0331\n2\nF\nClarification of CS user plane restoration during SRVCC HO\n12.3.0\n2015-06\nSP-68\nSP-150239\n0332\n2\nF\nUpdating SRVCC operation possible in E-UTRAN\n13.0.0\n2015-12\nSP-70\nSP-150614\n0333\n1\nF\nClarification to Location Update procedure during SRVCC\n13.1.0\n2016-09\nSP-73\nSP-160644\n0343\n2\nF\nSRVCC Operation for IMS emergency\n13.2.0\n2016-09\nSP-73\nSP-160647\n0341\n-\nF\nSupport of SRVCC for eCall Over IMS\n14.0.0\n2017-09\nSP-77\nSP-170732\n0344\n1\nC\nSRVCC HO failure for Emergency handling\n15.0.0\n2017-12\nSP-78\nSP-170920\n0346\n1\nC\nSecondary RAT Usage Data Reporting for SRVCC\n15.1.0\n2018-06\nSP-80\nSP-180475\n0348\n1\nF\nClarification on the enabling SRVCC during 5GS to EPS connected mode mobility\n15.2.0\n2019-03\nSP-83\nSP-190162\n0352\n1\nB\nAdding 5G SRVCC description to scope and definition to 23.216\n16.0.0\n2019-03\nSP-83\nSP-190162\n0354\n5\nB\n5G-SRVCC procedure\n16.0.0\n2019-06\nSP-84\nSP-190406\n0355\n2\nF\nThe HSS can decide to not inform the MME / SGSN of STN-SR change\n16.1.0\n2019-09\nSP-85\nSP-190601\n0357\n-\nA\nEnabling SRVCC for emergency call transferred to EPS\n16.2.0\n2019-12\nSP-86\nSP-191072\n0359\n-\nF\nPDU Session release due to 5G SRVCC\n16.3.0\n2019-12\nSP-86\nSP-191072\n0360\n-\nF\nClarification on the interface enahncement between AMF and MME_SRVCC\n16.3.0\n2019-12\nSP-86\nSP-191089\n0362\n1\nF\nAlignement on support of multiple EATF instances\n16.3.0\n2020-03\nSP-87E\nSP-200066\n0358\n5\nC\n5G-SRVCC from NG-RAN to UTRAN for emergency session\n16.4.0\n2020-03\nSP-87E\nSP-200066\n0364\n-\nF\nClarify STN-SR update and removal by UDM\n16.4.0\n2020-03\nSP-87E\nSP-200066\n0366\n1\nF\nMega CR on editorial corrections for 5G_SRVCC\n16.4.0\n2020-03\nSP-87E\nSP-200066\n0367\n1\nF\nSRVCC operation impossible indication for 5G emergency SRVCC\n16.4.0\n2021-06\nSP-92E\nSP-210330\n0369\n1\nF\nClarificaton on the eNB behavoir for SRVCC\n16.5.0\n2022-03\nSP-95E\nSP-220043\n0371\n-\nF\nMSC Server performing a TMSI reallocation and a MAP Update Location at 5G-SRVCC\n16.6.0\n2022-03\nSP-95E\nSP-220066\n0373\n1\nF\nFailure cases for SRVCC from NR to UTRAN\n17.0.0\n2022-06\nSP-96\nSP-220391\n0374\n1\nA\nAMF interaction with GMLC at SRVCC for an Emergency session\n17.1.0\n2023-06\nSP-100\nSP-230482\n0375\n2\nF\nSRVCC for IMS DC\n18.0.0",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_33.210"
      ]
    }
  ]
}