{
  "metadata": {
    "specification_id": "ts_23.284",
    "version": "18.0.0",
    "title": "3GPP TS 23.284",
    "file_path": "/content/drive/MyDrive/RAG_thesis/data/23_series/23284-i00/23284-i00.docx"
  },
  "export_info": {
    "export_date": "2025-07-26T09:38:16.896256",
    "total_chunks": 297
  },
  "chunks": [
    {
      "chunk_id": "ts_23.284_1",
      "section_id": "1",
      "section_title": "Scope",
      "content": "The present document defines the Stage 2 description for the Local Call Local Switch feature. Local Call Local Switch may be implemented in both BICC based CS core networks as defined in 3GPP TS 23.205 [2] and SIP-I based CS core networks as defined in 3GPP TS 23.231 [3], with a GSM/EDGE Radio Access Network supporting either TDM based or IP based A interface.\nThis stage 2 shall cover the information flows between the GMSC server, MSC server and media gateways that are required to support Local Call Local Switching highlighting the specific requirements in addition to those defined for BICC based CS core networks 3GPP TS 23.205 [2] and SIP-I based CS core networks 3GPP TS 23.231 [3]. Note that nothing in the present document shall preclude an implementation of a combined MSC Server and MGW. The present document shall show the CS core network termination of the A interface, and the information flows between the BSS and the MSC server, in order to cover the information flow stimulus to the core network and describe the interaction with the supplementary and value added services and capabilities.\nThe present document specifies functions, procedures and information which apply to GERAN Iu mode. However, functionality related to GERAN Iu mode is neither maintained nor enhanced.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.205",
        "ts_23.231"
      ]
    },
    {
      "chunk_id": "ts_23.284_2",
      "section_id": "2",
      "section_title": "References",
      "content": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non‑specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t3GPP TS 23.205: \"Bearer-independent circuit-switched core network; Stage 2\".\n[3]\t3GPP TS 23.231: \"SIP-I based Circuit Switched Core Network; Stage 2\".\n[4]\t3GPP TS 23.153: \"Out of band transcoder control; Stage 2\".\n[5]\tITU-T Recommendation Q.1902.3 (07/2001): \"Bearer independent call control (Capability set 2) and Signalling System No.7 ISDN User part: Formats and Codes\".\n[6]\t3GPP TS 29.205: \"Application of Q.1900 series to bearer-independent Circuit Switched (CS) core network architecture; Stage 3\".\n[7]\t3GPP TS 48.008: \"Mobile Switching Centre - Base Station system (MSC-BSS) interface; Layer 3 specification\".\n[8]\t3GPP TS 23.002: \"Network architecture\".\n[9]\t3GPP TS 23.009: \"Handover procedures\".\n[10]\t3GPP TS 29.231: \"Application of SIP-I Protocols to Circuit Switched (CS) core network architecture; Stage 3\".\n[11]\t3GPP TS 29.232: \"Media Gateway Controller (MGC) - Media Gateway (MGW) interface; Stage 3\".\n[12]\t3GPP TS 29.002: \"Mobile Application Part (MAP) specification\".",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905",
        "ts_23.205",
        "ts_23.231",
        "ts_23.153",
        "ts_29.205",
        "ts_48.008",
        "ts_23.002",
        "ts_23.009",
        "ts_29.231",
        "ts_29.232",
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_23.284_3.1",
      "section_id": "3.1",
      "section_title": "Definitions",
      "content": "For the purposes of the present document, the terms and definitions given in TR 21.905 [1] and the following apply. A term defined in the present document takes precedence over the definition of the same term, if any, in TR 21.905 [1].\nBSS ID: A globally unique identifier of a Base Station Subsystem (BSS).\ncall leg: The access link between the mobile station and the Core Network. A mobile to mobile call consists of two call legs and the link through the Core Network.\ncall leg correlation: The process within the BSS to search for the other call-leg(s) of a (potential) Intra-BSS call by appropriate means.\nintra-BSS call: A mobile to mobile voice call involving two mobile stations connected to the same BSS.\nintra-BSS call detection: Determination that both call legs are within the same BSS.\nlocal call: An Intra-BSS call that can be locally switched by the BSS.\nlocally switched call: A local call with a direct local path between the Call-legs, switched by the BSS.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_21.905"
      ]
    },
    {
      "chunk_id": "ts_23.284_3.2",
      "section_id": "3.2",
      "section_title": "Symbols",
      "content": "For the purposes of the present document, the following symbols apply:\nA\tInterface between the BSC and the MSC-S\nAbis\tInterface between the BSC and the BTS\ni\tintermediate node prefix.\nMc\tInterface between the (G)MSC-S and the MGW.\nNc\tThe NNI call control interface between (G)MSC servers\no\toriginating side prefix, e.g. oUE, oBSS, oMSC, oMGW for nodes and e.g. oA-interface, oAssignment Request etc for interfaces, messages etc.\nt\tterminating side prefix , e.g. tUE, tBSS, tMSC, tMGW and e.g. tA-interface, tAssignment Request etc for interfaces, messages etc.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_3.3",
      "section_id": "3.3",
      "section_title": "Abbreviations",
      "content": "For the purposes of the present document, the abbreviations given in TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in TR 21.905 [1].\nAoIP\tA over IP, using IP as the bearer of the user plane of A interface\nAoTDM\tA over TDM, using TDM as the bearer of the user plane of A interface\nAPM\tApplication Transport Mechanism\nCOT\tContinuity message\nGCR\tGlobal Call Reference\nLCLS\tLocal Call Local Switch\nOoBTC\tOut of Band Transcoder Control",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905"
      ]
    },
    {
      "chunk_id": "ts_23.284_4.1",
      "section_id": "4.1",
      "section_title": "General",
      "content": "Local Call Local Switch provides the capability for the user plane to be locally switched (e.g. voice data in user plane is not backhauled to the CS core network) for calls that are generated and terminated by users that are served by the same BSS. The result is saving on transmission resource of the Abis and/or A interface.\nLocal Call Local Switch shall only be considered for a CS voice call and is transparent to the end user.\nFigure 4.1.1 shows an example of Local Call Local Switching. It highlights only the main nodes and interfaces and differentiates between \"originating\" nodes and interfaces (oUE, oBTS, oMSC, oMGW, oAbis, oA) and \"terminating\" nodes and interfaces (tMSC, tMGW, tBTS, tUE, tAbis, tA). It also includes an Intermediate MSC server and MGW (iMSC, iMGW), which may be a (G)MSC server or other intermediate CN control node and its MGW.\nFigure 4.1.1: Example of Local Call Local Switching\nThe \"active\" User Plane path is shown with a thick, solid blue line for the case that Local Switching is provided between two BTS's, while the \"inactive\" User Plane path, i.e. the two Abis-links, the two A-links and the links within the Core Network are not carrying traffic and are therefore marked with thin, dotted blue lines. The Control Plane paths are shown in solid red lines.\nLocal Call Local Switch is attempted to be instantiated during call establishment. During this phase, negotiation for support of LCLS is performed within the Core Network and requests to correlate and connect the call legs are made to the BSS when LCLS is successfully negotiated. Interaction with existing supplementary services and handover/relocation are supported. Depending on the scenario this may require a break of an existing locally switched call where the voice data on user plane shall be routed via the core network, or a (re)establishment of a locally switched call where the voice data on user plane shall be locally switched in the BSS.\nLocal Call Local Switch may be supported on both TDM based A interface (AoTDM) and IP based A interface (AoIP).\nLocal Call Local Switch may be implemented on both a BICC based CS core network and a SIP-I based CS core network and therefore the main concepts that are defined within 3GPP TS 23.205 [2] and 3GPP TS 23.231 [3] respectively, also apply to Local Call Local Switch.\nThe MSC server is in charge of call control, supplementary services and gives permission (or denies) as to whether local switching may be applied. When the MSC server has granted the permission to apply LCLS, the BSC makes the final operation decision whether to establish LCLS (dependent on alignment of codecs, BTS's supporting local switching, resource available, status of its BTS's, the state of its radio legs).",
      "chunk_type": "definition",
      "cross_references": [
        "figure_4.1.1",
        "ts_23.205",
        "ts_23.231"
      ]
    },
    {
      "chunk_id": "ts_23.284_4.2.1",
      "section_id": "4.2.1",
      "section_title": "General concept of LCLS negotiation",
      "content": "LCLS negotiation is required within the Core Network in order to determine if all of the MSC servers and intermediate nodes, including GMSC servers, in the call control path support and allow the activation of the LCLS functionality. LCLS negotiation may result in LCLS not being permitted for the following reasons:\n-\tAn MSC server node or intermediate node, including GMSC server node, has not been upgraded to support the LCLS functionality.\n-\tIt is prevented due to specific interactions e.g. Supplementary Services, operator determined restriction of LCLS, etc.\nAdditionally the LCLS negotiation may result in local call local switch being permitted but with certain configurations for user plane connectivity to the BSS depending on the network requirements, for example periodic signalling of pre-paid tones.\nThe LCLS negotiation Information Elements (LCLS-Negotiation Request, LCLS-Negotiation Response and LCLS-Configuration-Preference) are explicitly signalled on the Nc Interface. The LCLS-Negotiation Request IE and LCLS-Configuration-Preference IE are signalled during call establishment where the originating MSC server starts LCLS negotiation.\nDepending on the support of LCLS, the MSC servers and intermediate nodes, including GMSC server, in the call control path may remove the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE from further signalling on the Nc interface (e.g. if node does not support LCLS), or modify the contents of the LCLS-Negotiation Request IE (e.g. if LCLS is not allowed for the subscriber), or modify the LCLS-Configuration-Preference IE (e.g. if LCLS is allowed and bicasting is required during LCLS).\nThe following properties are signalled in the LCLS-Configuration-Preference Information Element for \"LCLS is Allowed\" to allow each node to indicate what level of user data connection it requires:\n-\tNeed_Receive_Forward = No/Yes; this indicates if the node needs to receive UL data from the originating UE.\n-\tNeed_Receive_Backward = No/Yes; this indicates if the node needs to receive UL data from the terminating UE.\n-\tNeed_Send_Forward = No/Yes; this indicates if the node needs to insert user data toward the terminating UE.\n-\tNeed_Send_Backward = No/Yes; this indicates if the node needs to insert user data toward the originating UE\nThe default value \"No\" means that no Core Network user data requirement exists. If a node receives the LCLS Negotiation Request IE and the LCLS-Configuration-Preference IE and if any of the parameters of the LCLS-Configuration-Preference IE is set to \"Yes\" it shall not change them; it may however change any parameter to \"Yes\". However in the backward direction, the received parameters of the LCLS Negotiation Response IE and the LCLS-Configuration-Preference IE shall not be modified.\nThe LCLS configuration preference that is negotiated on the core network path allows the oMSC server and the tMSC server to request the correct LCLS configuration from the BSS (see clause 4.6.2) on the originating and the terminating leg.\nTable 4.2.1.1 shows all possible LCLS configuration preferences and the related LCLS configurations requested from the BSS on the originating and the terminating leg.\nTable 4.2.1.1: Final LCLS configuration preference negotiated on the Core Network path and the related LCLS configuration requested from the BSS\nNegotiated value of LCLS-Configuration-Preference IE\nResulting LCLS configuration requested from oMSC to oBSS\nResulting LCLS configuration requested from tMSC to tBSS\nNeed_\nreceive_\nforward\nNeed_\nsend_\nbackward\nNeed_\nreceive_\nbackward\nNeed_\nsend_\nforward\n1\nNo\nNo\nNo\nNo\nconnected both-way in the BSS\nconnected both-way in the BSS\n2\nNo\nNo\nNo\nYes\nconnected both-way in the BSS\nconnected both-way in the BSS and send access DL from the Core Network\n3\nNo\nNo\nYes\nNo\nconnected both-way in the BSS\nconnected both-way in the BSS and bi-casted UL to the Core Network\n4\nNo\nNo\nYes\nYes\nconnected both-way in the BSS\nconnected both-way in the BSS and bi-casted UL to the Core Network and send access DL from the Core Network\n5\nNo\nYes\nNo\nNo\nconnected both-way in the BSS and send access DL from the Core Network\nconnected both-way in the BSS\n6\nNo\nYes\nNo\nYes\nconnected both-way in the BSS and send access DL from the Core Network\nconnected both-way in the BSS and send access DL from the Core Network\n7\nNo\nYes\nYes\nNo\nconnected both-way in the BSS and send access DL from the Core Network, block local DL\nconnected both-way in the BSS and bi-casted UL to the Core Network\n8\nNo\nYes\nYes\nYes\nconnected both-way in the BSS and send access DL from the Core Network, block local DL\nconnected both-way in the BSS and bi-casted UL to the Core Network and send access DL from the Core Network\n9\nYes\nNo\nNo\nNo\nconnected both-way in the BSS and bi-casted UL to the Core Network\nconnected both-way in the BSS\n10\nYes\nNo\nNo\nYes\nconnected both-way in the BSS and bi-casted UL to the Core Network\nconnected both-way in the BSS and send access DL from the Core Network, block local DL\n11\nYes\nNo\nYes\nNo\nconnected both-way in the BSS and bi-casted UL to the Core Network\nconnected both-way in the BSS and bi-casted UL to the Core Network\n12\nYes\nNo\nYes\nYes\nconnected both-way in the BSS and bi-casted UL to the Core Network\nconnected both-way in the BSS and bi-casted UL to the Core Network and send access DL from the Core Network, block local DL\n13\nYes\nYes\nNo\nNo\nconnected both-way in the BSS and bi-casted UL to the Core Network and send access DL from the Core Network\nconnected both-way in the BSS\n14\nYes\nYes\nNo\nYes\nconnected both-way in the BSS and bi-casted UL to the Core Network and send access DL from the Core Network\nconnected both-way in the BSS and send access DL from the Core Network, block local DL\n15\nYes\nYes\nYes\nNo\nconnected both-way in the BSS and bi-casted UL to the Core Network and send access DL from the Core Network, block local DL\nconnected both-way in the BSS and bi-casted UL to the Core Network\n16\nYes\nYes\nYes\nYes\nconnected both-way in the BSS and bi-casted UL to the Core Network and send access DL from the Core Network, block local DL\nconnected both-way in the BSS and bi-casted UL to the Core Network and send access DL from the Core Network, block local DL\nA Core Network node can optionally request that its related MGW isolates the access side termination from the network side termination in order to avoid any forwarding of data that it receives from another network entity (Core Network node or BSS). Isolation of the access termination is possible when user data need not be transported from the oBSS or the tBSS through the complete core network and in this case the LCLS configuration, which is sent to the oBSS or the tBSS based on the final LCLS configuration preference does not include the request to block local DL user data.\nFigure 4.2.1.1 shows an example of how the user plane data can be configured as a result of the CN LCLS Negotiation. The precise LCLS configuration settings for each permutation of LCLS configuration preference options are specified in Table 4.2.1.1.\nFigure 4.2.1.1: General concepts for LCLS configurations as a result of LCLS Negotiation.\nAnnex A provides further examples of LCLS negotiation in the CN and LCLS configuration in the BSS.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_4.6.2",
        "table_4.2.1.1",
        "figure_4.2.1.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_4.2.4",
      "section_id": "4.2.4",
      "section_title": "General concept of LCLS Configuration Preference Modification",
      "content": "LCLS Configuration preferences may be modified during an ongoing call.\nThe LCLS Configuration Change Request message may be signalled mid-call to attempt to establish LCLS or modify LCLS configuration preferences, for example for mid-call tones or announcements. Any core network node that requires change of the LCLS configuration preferences may initiate the LCLS Configuration Change Request.\nChange of the LCLS configuration preferences may only be initiated after Answer.\nNOTE 1:\tPrior to Answer message being returned the call is considered to be in the set-up phase and then subsequent LCLS Negotiation Response and LCLS-Configuration-Preference IEs can be sent within the call establishment messages (e.g. APM, ACM, CPG).\nOnly after the node has already handled the LCLS Negotiation procedure it may initiate a Change of the LCLS configuration preferences. If a node does not respond to the LCLS Negotiation then it shall not trigger a change of the LCLS configuration preferences at a later time in the call.\nNOTE 2:\tTake Call Waiting for example, the call will trigger an LCLS Negotiation towards the called party since it is a call establishment from the calling parties perspective.\nWhen receiving the LCLS Configuration Change Request message, the other nodes can only accept or reject the request without any modifications. If another node wishes to make further changes to the LCLS configuration preference settings it can initiate its own modification of the LCLS-Configuration-Preference IE settings after the ongoing change of the LCLS configuration preference procedure is completed.\nThe initiating node shall signal the LCLS Configuration Change Request message in the direction (originating leg or terminating leg or both – but only for Intermediate Node) that it requires the LCLS configuration preference settings to be changed.\nIf the intermediate node receives the LCLS Configuration Change Request message and it does not accept the requested changes to the LCLS configuration preferences it shall immediately return LCLS Configuration Change Request Acknowledge message indicating the same requested LCLS-Configuration-Preference IE settings and with the LCLS-Configuration-Change Result IE indicating rejection of the requested LCLS configuration change. Otherwise if the intermediate node accepts the requested changes to the LCLS configuration preferences it shall forward the received LCLS Configuration Change Request message containing the LCLS-Configuration-Change Request IE and the LCLS-Configuration-Preference IE to its subsequent (succeeding/preceding) node.\nIf the node which terminates the LCLS Configuration Change Request is the oMSC server or the tMSC server and it accepts the requested changes to the LCLS configuration preferences it shall return the LCLS Configuration Change Request Acknowledge message indicating the same requested LCLS configuration preferences and with the LCLS=Configuration-Change Result IE indicating acceptance of the LCLS Configuration Change Request.\nIf the node which terminates the LCLS Configuration Change Request is the oMSC server or the tMSC server and it does not accept the requested changes to the LCLS configuration preferences it shall return the LCLS Configuration Change Request Acknowledge message indicating the same requested LCLS configuration preferences and with the LCLS-Configuration-Change Result IE indicating rejection of the LCLS Configuration Change Request.\nOn receipt of the LCLS Configuration Change Request Acknowledge message from the succeeding/preceding node the intermediate node shall forward it to its subsequent (preceding/succeeding) node.\nThe change of the LCLS configuration preferences procedure is completed:\n-\tfor the node that receives the LCLS Configuration Change Request message when it sends the LCLS Configuration Change Request Acknowledge message;\n-\tfor the node which initiates the LCLS Configuration Change Request when it receives the LCLS Configuration Change Request Acknowledge message.\nNOTE 3:\tIf the node which initiates the LCLS Configuration Change Request receives the LCLS Configuration Change Request Acknowledge with the LCLS-Configuration-Change Result IE indicating rejection the node can trigger an LCLS Break as described in clause 7.2.1, specific applications such as insertion of tones or announcements will dictate this and are described in subsequent sections.\nIf LCLS Negotiation has occurred during call establishment and a handover occurs prior to answer which changes the LCLS configuration preferences (from a previously agreed \"No\" to a \"Yes\") then the node shall wait until after Answer before requesting the modification of the LCLS configuration preferences.\nNOTE 4:\tInter-MSC Handover during call establishment can result in an outstanding IAM – oMSC has sent IAM forward and then performs Inter-MSC Handover – which could result in the LCLS configuration preferences being out of alignment prior to Answer, the MSC can then defer sending the LCLS-Connect_Control request to its BSS if it wishes to prevent LCLS until it has performed a modification of the LCLS configuration preferences.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_7.2.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_4.3.1",
      "section_id": "4.3.1",
      "section_title": "General",
      "content": "LCLS call leg correlation is required in order to allow the BSS to identify that two call legs that are part of the same call are within the same BSS, and therefore can be correlated together to be a candidate for Local Call Local Switching.\nThe originating MSC server shall generate a Global Call Reference (GCR) Information Element which is a globally unique call identifier for the duration of the call and needs to be sent to all nodes in the routing path. The Global Call Reference is further detailed within clause 11.\nThe originating MSC server and the terminating MSC server shall include the GCR Information Element in the ASSIGNMENT REQUEST and HANDOVER REQUEST messages.\nSee Clause 6 for the detailed descriptions and related call flows for the call establishment procedures.\nThe GCR may additionally be signalled within the core network for supplementary service interaction with LCLS and Inter-MSC Handover, this is further detailed in Clause 13 and Clause 8 respectively.\nOn receipt of a GCR Information Element, if the BSS supports LCLS, the BSS shall store the GCR for each call leg until the call is released or that call leg is handed over to another BSS.\nNOTE:\tthe inclusion of the LCLS-BSS-Status IE in the response indicates to the MSC server that the BSS supports LCLS.\nIf the GCR and LCLS-Configuration Information Elements are included in the ASSIGNMENT REQUEST message, without the LCLS-Correlation-Not-Needed Information Element (see optional Intra-Network Detection, Clause 4.3.2 and optional Intra-BSS Call Detection, Clause 4.3.3), the BSS shall perform call leg correlation and send the LCLS-BSS-Status Information Element with the correct value within the ASSIGNMENT COMPLETE message.\nIf the GCR and LCLS-Configuration Information Elements are included in the HANDOVER REQUEST message, the BSS shall perform call leg correlation and send the LCLS-BSS-Status Information Element with the correct value within the HANDOVER COMPLETE messages.\nIf the GCR, LCLS-Configuration and LCLS-Correlation-Not-Needed Information Elements are included (see optional Intra-Network Call Detection, Clause 4.3.2 and optional Intra-BSS Call Detection, Clause 4.3.3) in the ASSIGNMENT REQUEST message, the BSS shall either:\n-\tnot perform any call leg correlation, but only store the GCR for the assigned call leg and send the LCLS-BSS-Status Information Element with the value \"Call Not Possible to be Locally Switched\" within the ASSIGNMENT COMPLETE;\nor\n-\tignore the LCLS-Correlation-Not-Needed Information Element, store the GCR and perform call leg correlation, and send the LCLS-BSS-Status Information Element with the correct value within the ASSIGNMENT COMPLETE message.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_11",
        "clause_6",
        "clause_13",
        "clause_8",
        "clause_4.3.2",
        "clause_4.3.3"
      ]
    },
    {
      "chunk_id": "ts_23.284_4.3.2.1",
      "section_id": "4.3.2.1",
      "section_title": "General",
      "content": "As an option during call establishment, the tMSC server or the tBSS may utilise the Network ID within the Global Call Reference in order to determine whether the call is an intra-network call (e.g. compare the Network ID within the GCR with the Network ID of the tMSC server).",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_4.3.2.2",
      "section_id": "4.3.2.2",
      "section_title": "Intra-Network Call Detection within the tMSC server",
      "content": "The terminating MSC-Server may perform an intra-network call detection as follows:\n-\tif the Network ID in the GCR is the same as the Network ID of the terminating MSC-Server it means that the call is an intra-network call and the terminating MSC-Server shall proceed as for the case if no Intra-Network Call Detection is performed i.e. including the GCR and LCLS-Configuration Information Elements, but not including the LCLS-Correlation-Not-Needed Information Element, within the ASSIGNMENT REQUEST message.\n-\tif the Network ID in the GCR is different from the Network ID of the terminating MSC-Server it means that the call is not an intra-network call and the terminating MSC-Server shall include GCR, LCLS-Configuration, and LCLS-Correlation-Not-Needed Information Elements within the ASSIGNMENT REQUEST message.\nNOTE:\tIntra-Network call detection within the tMSC server can minimize the processing in some BSS implementations.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_4.3.2.3",
      "section_id": "4.3.2.3",
      "section_title": "Intra-Network Call Detection within the tBSS",
      "content": "When receiving a GCR Information Element the tBSS may perform intra-network call detection as follows:\n-\tif the Network ID in the GCR is the same as the Network ID of the terminating BSS it means that the call is an intra-network call and the terminating BSS shall perform call leg correlation.\n-\tif the Network ID in the GCR is different from the Network ID of the terminating BSS it means that the call is not an intra-network call and the terminating BSS shall only store the GCR for the assigned call leg and does not need to perform call leg correlation.\nThe tBSS shall indicate the resulting outcome to the tMSC server in the LCLS-BSS-Status Information Element within the Assignment Complete.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_4.3.3.1",
      "section_id": "4.3.3.1",
      "section_title": "General",
      "content": "As an option during call establishment, the tMSC server or tBSS may utilize the oBSS Node ID within the Call Reference ID of the GCR, in order to determine whether the call is an intra-BSS call (e.g. compare the oBSS Node ID with the tBSS Node ID) as described below.\nNOTE:\tAfter the oMSC server has generated the GCR IE, an Inter-BSS handover may occur at the originating side, therefore the encapsulated BSS ID is no longer the same as the BSS ID of the new Target BSS (see also clause 8.4.1.1). Due to that, the result of the \"BSS ID Pre-Check\" procedure may be incorrect leading to \"LCLS-Correlation-Not-Needed\" indication being sent to the tBSS whilst the new target BSS could in fact be the same as the tBSS. If the tBSS does not perform the correlation of the GCR then the information in the Assignment Complete message may also be inaccurate (the LCLS-BSS-Status IE may indicate \"call not possible to be locally switched\" instead of \"call not yet locally switched\"). If the tMSC server indicates \"LCLS-Correlation-Not-Needed\" and the Inter-BSS handover has occurred at the oUE into the same BSS as the tUE but after signalling the GCR IE and the tBSS does perform full GCR correlation then the LCLS-BSS-Status will indicate accurately that the call can be locally switched.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_8.4.1.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_4.3.3.2",
      "section_id": "4.3.3.2",
      "section_title": "Intra-BSS Call Detection within the tMSC server",
      "content": "The terminating MSC-Server performs intra-BSS call detection as follows:\n-\tif the oBSS Node ID in the GCR is the same as the terminating BSS Node ID, the terminating MSC-Server shall proceed as for the case when no Intra-BSS Call Detection is performed i.e. including the GCR and LCLS-Configuration Information Elements, but not including the LCLS-Correlation-Not-Needed Information Element, in the ASSIGNMENT REQUEST message (if LCLS is otherwise allowed from CN point of view).\n-\tif the oBSS Node ID in the GCR is different from the terminating BSS Node ID, the terminating MSC-Server shall include the GCR, LCLS-Configuration, and LCLS-Correlation-Not-Needed Information Elements within the ASSIGNMENT REQUEST message.\nNOTE:\tIntra-BSS call detection within the tMSC server can minimize the processing in some BSS implementations.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_4.3.3.3",
      "section_id": "4.3.3.3",
      "section_title": "Intra-BSS Call Detection within the tBSS",
      "content": "When receiving a GCR Information Element the tBSS may perform intra-BSS call detection as follows:\n-\tif the oBSS Node ID in the GCR is the same as the BSS Node ID of the terminating BSS the terminating BSS shall perform call leg correlation.\n-\tif the oBSS Node ID in the GCR is different from the BSS Node ID of the terminating BSS the terminating BSS shall only store the GCR for the assigned call leg and does not perform call leg correlation.\nThe tBSS shall indicate the resulting outcome to the tMSC server in the LCLS-BSS-Status Information Element within the ASSIGNMENT COMPLETE message.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_4.4",
      "section_id": "4.4",
      "section_title": "LCLS Connection Control",
      "content": "LCLS connection control enables the Core Network to indicate to the BSS when the call is requested to be locally switched within the BSS or not. LCLS connection control is explicitly signalled on the A interface during Call Establishment, Handover and LCLS Break/(Re)Establishment using the LCLS_CONNECT_CONTROL message.\nWithin the LCLS_CONNECT_CONTROL message, the LCLS-Connection-Status-Control Information Element shall indicate whether the BSS is requested to:\n-\testablish local switching (connect);\n-\tdo not establish local switching (this value is used for example in call hold to explicitly prevent LCLS connection);\n-\tbi-cast at handover (This is a temporary status of an LCLS connection which is being broken during handover. The setting applies to the call leg which is not being handed over. After handover has been completed and LCLS is broken, the BSS shall adopt the previous LCLS-Connection-Status-Control value i.e. \"connect\" unless explicitly changed by the MSC Server. This means that any subsequent handover of the previous call leg back into the same BSS will enable LCLS without any change of LCLS-Connection-Status to this call leg). The temporary status settings shall be cleared by the BSS if set during a handover and the handover fails or is rejected.\n-\treceive DL data at handover (This is a temporary status of an LCLS connection which is being broken during handover. The setting applies to the call leg which is not being handed over. After handover has been completed and LCLS is broken, the BSS shall adopt the previous LCLS-Connection-Status-Control value i.e. \"connect\" unless explicitly changed by the MSC Server. This means that any subsequent handover of the previous call leg back into the same BSS will enable LCLS without any change of LCLS-Connection-Status to this call leg). This setting does not change the UL bicasting and assumes the call leg to which it is applied is bicasting UL at handover in addition. The termporary status settings shall be cleared by the BSS if set during a handover and the handover fails or is rejected.\n-\trelease LCLS for the locally switched call (Release LCLS).\nLCLS through-connection is established when the BSS receives, on both call legs, the LCLS-Connection-Status-Control IE to allow and request LCLS to be established.\nThe detailed call flows and procedures for signalling of the LCLS-Connection-Status-Control IE during Call Establishment, LCLS Break/(Re)Establishment, and Handover are defined in clauses 6, 7, and 8 respectively.\nThe LCLS_CONNECT_CONTROL message and the usage of the LCLS-Connection-Status-Control IE are further detailed in clause 16.3.",
      "chunk_type": "general",
      "cross_references": [
        "clause_16.3"
      ]
    },
    {
      "chunk_id": "ts_23.284_4.5.1",
      "section_id": "4.5.1",
      "section_title": "LCLS BSS Status between BSS and Core Network",
      "content": "LCLS BSS status is required between the BSS and the Core Network in order to keep the originating MSC server and the terminating MSC server updated of the LCLS status in the respective BSS.\nThe LCLS-BSS-Status Information Element is used to indicate whether:\n-\tthe call is locally switched with requested LCLS configuration\n-\tthe call is local but not yet locally switched (this indicates that the call has been correlated but not locally switched)\n-\tthe call is not possible to be locally switched (this indicates that the call has been determined not to be a local call)\n-\tthe call is no longer locally switched\n-\tthe requested LCLS-Configuration is not supported\nThe inclusion of the LCLS-BSS-Status Information Element in responses to the MSC server indicates support of LCLS feature by the BSS. The usage of the LCLS-BSS-Status Information Element is further detailed in clause 16.3.\nThe LCLS-BSS-Status IE is explicitly signalled on the A interface during Call Establishment, LCLS Break/(Re)Establish LCLS, and Handover procedures. See clauses 6, 7 and 8 respectively.\nThe LCLS-BSS-Status IE is also signalled explicitly in the LCLS_NOTIFICATION message on the A interface, triggered by the BSS to notify the core network of any LCLS status changes in the BSS, e.g. BSS Initiated LCLS Break. The LCLS_NOTIFICATION message is further detailed in clause 16.3.",
      "chunk_type": "general",
      "cross_references": [
        "clause_16.3"
      ]
    },
    {
      "chunk_id": "ts_23.284_4.5.2",
      "section_id": "4.5.2",
      "section_title": "LCLS Status within the Core Network",
      "content": "LCLS status is required within the Core network in order to update all of the (G)MSC server and intermediate nodes in the call control path of the LCLS status of the call.\nLCLS-Status Information Element is explicitly signalled on the Nc interface during Call Establishment, LCLS Break/(Re)Establish, and Handover procedures when the LCLS status changes from before and after handover. See clauses 6, 7, and 8 respectively. The LCLS-Status is either indicated as changed status (LCLS-Status IE) to a change in the BSS or it may be indicated as request to change the LCLS-Status (LCLS-Status-Change IE) due to handover or supplementary service invocation for example.\nThe LCLS-Status IE can indicate the following statuses:\n-\tthe call is LCLS connected;\n-\tthe call is not LCLS connected;\n-\tthe call is LCLS feasible but not yet connected.\nThe LCLS-Status-Change IE can indicate the following statuses:\n-\tLCLS is to be released;\n-\tLCLS is to be released due to handover;\n-\tLCLS is to be re-connected after LCLS break;\n-\tIndicate DL data after handover - Handover Detected.\nThe MSC Servers shall only generate or forward the LCLS Status IE through the CN if there is a change to the current CN status (i.e. there is not a one to one mapping of the LCLS-BSS Status and the LCLS Status in the CN). The usage of these elements: the LCLS Status IE signalled in the LCLS_STATUS_UPDATE message and the LCLS-Status-Change IE which is signalled in the LCLS_STATUS_CHANGE_REQUEST message and LCLS_STATUS_CHANGE_REQUEST ACKNOWLEDGEMENT message is further detailed in clause 16.1.",
      "chunk_type": "general",
      "cross_references": [
        "clause_16.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_4.6.1",
      "section_id": "4.6.1",
      "section_title": "General",
      "content": "When LCLS has been established for a call, the voice data on the user plane is locally switched within the BSS. When the call is locally switched the core network shall assume that no user plane data will be received from the BSS for the duration of the locally switched call unless explicitly requested via the LCLS-Configuration IE.\nWhen user plane data is required to be inserted by the core network, e.g. supplementary services, unless previously negotiated via the LCLS-Negotiation IE (see clause 4.2) an LCLS Break procedure shall precede the insertion of user plane data.\nNOTE:\tDuring Handover procedures and LCLS Break procedures, the BSS may start to send the user plane data to the core network before all nodes in the routing path have updated their related LCLS status, see clauses 7 and 8.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_4.2"
      ]
    },
    {
      "chunk_id": "ts_23.284_4.6.2",
      "section_id": "4.6.2",
      "section_title": "LCLS Configuration",
      "content": "LCLS configuration is required in order to allow the Core Network to indicate to the BSS the LCLS connection preference.\nThe LCLS Configuration Information Element is explicitly signalled on the A interface on a per call leg basis during Call Establishment and Handover procedures or at any time during the call using the LCLS_CONNECT_CONTROL message. See clauses 6 and 8 respectively. It is used to indicate if the local call shall be:\n-\tconnected both-way in the BSS (basic LCLS connection)\n-\tconnected both-way in the BSS and bi-casted UL to the Core Network\n-\tconnected both-way in the BSS and send access DL from the Core Network (BSS may combine or replace local DL data with DL data from the Core Network)\n-\tconnected both-way in the BSS and send access DL from the Core Network, block local DL\n-\tconnected both-way in the BSS and bi-casted UL to the Core Network and send access DL from the Core Network (BSS may combine or replace local DL data with DL data from the Core Network)\n-\tconnected both-way in the BSS and bi-casted UL to the Core Network and send access DL from the Core Network, block local DL (BSS shall block local DL data but continue send UL data locally)\nIf the BSS does not support a certain configuration this shall be indicated with the LCLS-BSS-Status IE set to \"requested LCLS configuration is not supported\" to the MSC Server.\nNOTE:\tIf BSS supports LCLS feature, then at least one of the LCLS configurations is required to be supported.\nThe usage of the LCLS Configuration IE is further detailed in clause 16.3.",
      "chunk_type": "general",
      "cross_references": [
        "clause_16.3"
      ]
    },
    {
      "chunk_id": "ts_23.284_5",
      "section_id": "5",
      "section_title": "General Circuit Switched Core Network Domain Architecture",
      "content": "LCLS does not require any modifications to the basic reference architecture. The General CS core network domain architecture is specified in 3GPP TS 23.205 [2]. Network Architecture for CS Core Network Nodes and GSM/EDGE Radio Access Networks is specified in 3GPP TS 23.002 [8].\nNOTE:\tLCLS does introduce a number of conceptual changes as described in clause 4.1.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_4.1",
        "ts_23.205",
        "ts_23.002"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.1.1.1",
      "section_id": "6.1.1.1",
      "section_title": "General",
      "content": "The basic mobile originating call shall be established in accordance with 3GPP TS 23.205 [2]. The LCLS establishment may use forward or backward bearer establishment. The following clauses describe the additional requirements related to the LCLS functionality.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.1.1.2",
      "section_id": "6.1.1.2",
      "section_title": "Initial Addressing",
      "content": "If the oMSC server supports the LCLS feature it shall generate a Global Call Reference (GCR) IE. The GCR IE is derived from the ITU-T Global Call Reference IE [5] and specified in detail in the clause 16 and in 3GPP TS 29.205 [6]. If the serving radio access is GERAN the Call Reference ID field of the GCR IE contains the originating BSS ID.\nThe oMSC server shall then include the GCR IE, LCLS-Negotiation Request IE and LCLS-Configuration-Preference IE indicating the preferences for LCLS as defined in the clause 4.2, clause 16 and in 3GPP TS 29.205 [6], together with the Supported Codecs List IE for OoBTC as specified in 3GPP TS 23.153 [4] in the IAM message to the succeeding call control node.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.205_clause_16",
        "clause_4.2",
        "ts_29.205",
        "ts_23.153"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.1.1.3.1",
      "section_id": "6.1.1.3.1",
      "section_title": "Assignment performed after LCLS Negotiation through Core Network",
      "content": "On receipt of the APM from the succeeding MSC server containing the LCLS-Negotiation Response IE, indicating local call connection is permitted, the oMSC server shall continue with the basic call establishment and if the serving radio access is GERAN shall include the GCR IE and the LCLS-Configuration IE (which is derived from the LCLS-Configuration-Preference IE) in the originating BSSAP Assignment Request message (see 3GPP TS 48.008 [7]).\nIf the serving radio access is UTRAN the oMSC server shall save the LCLS-Negotiation Response IE and LCLS-Configuration-Preference IE but proceed with the call establishment as described in TS 23.205 [2].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_48.008",
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.1.1.3.2",
      "section_id": "6.1.1.3.2",
      "section_title": "Assignment performed before LCLS Negotiation",
      "content": "After generation of the GCR IE the oMSC initiates the access bearer assignment on the originating side and includes the GCR IE and the preliminary LCLS-Configuration IE (the final configuration can be different due to the following LCLS negotiation through the core network) in the originating BSSAP Assignment Request message.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_6.1.1.3.3",
      "section_id": "6.1.1.3.3",
      "section_title": "oBSS behavior",
      "content": "If the originating BSS supports LCLS and receives the Assignment Request message containing the GCR IE and the LCLS-Configuration IE the originating BSS shall store the GCR IE against the Assigned Call leg and shall check if it can support the requested LCLS-Configuration. The originating BSS shall report the outcome in LCLS-BSS-Status IE returned to the MSC server in the Assignment Complete message.\nIf the originating BSS does not support LCLS then the GCR IE and the LCLS-Configuration IE will be ignored and no LCLS-BSS-Status IE will be returned in the Assignment Complete message. The oMSC server shall continue the call establishment as for a Non-LCLS call.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_6.1.1.4",
      "section_id": "6.1.1.4",
      "section_title": "Backward LCLS Negotiation",
      "content": "At reception of an APM, ACM or CPG message with the LCLS-Negotiation Response IE and the LCLS-Configuration-Preference IE the oMSC server shall check whether a new value of the LCLS-Configuration-Preference settings require the change of the requested LCLS configuration and if so the oMSC server shall include the updated LCLS-Configuration IE in the BSSAP message LCLS Connect Control to the BSS, see clause 6.1.1.5. If the LCLS-Negotiation Response IE indicates \"LCLS Not Allowed\" or \"LCLS not supported by subsequent node\" then the oMSC Server shall not permit LCLS connection unless any subsequent LCLS negotiation results in LCLS being feasible.\nNOTE 1:\tThe oMSC can still signal the GCR to the BSS in order to avoid a subsequent Assignment to pass the GCR if LCLS becomes feasible at a later time during the call.\nAt reception of an unsolicited APM message without LCLS-Negotiation Response IE then the oMSC shall handle the APM but not change the LCLS-Configuration or any LCLS behaviour.\nNOTE 2:\tAPM is used for other services or applications and need not include LCLS-Negotiation Response IE.\nIf the first backward message (APM or ACM) does not contain the LCLS-Negotiation Response IE then the oMSC Server shall not proceed with further LCLS signalling for this call.\nNOTE 3:\tThis indicates to the oMSC server that the LCLS feature is not supported by succeeding node.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1.1.5"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.1.1.5",
      "section_id": "6.1.1.5",
      "section_title": "LCLS Through-Connection",
      "content": "If the originating BSS determines that the call is local and can be locally switched it shall not through-connect the two parties unless explicitly indicated to do so by receiving the LCLS-Connection-Status-Control IE set to \"Connect\" for both call legs.\nWhen the oMSC server receives the ANM from the succeeding MSC server with the LCLS-Status IE indicating \"LCLS is feasible but not yet connected\" it shall send the BSSAP message LCLS-Connect-Control to the originating BSS containing the LCLS-Connection-Status-Control IE set to \"Connect\". If the value of the required LCLS Configuration is not the same as the value requested within the Assignment Request message, the oMSC Server shall also include the LCLS Configuration IE in the LCLS-Connect-Control message.\nIf the BSS has received the LCLS-Connection-Status-Control IE set to \"Connect\" for both call legs associated to the LCLS call it shall locally switch the user plane between the two call legs and report the through-connection via the LCLS-BSS-Status IE set to \"the call is locally switched with requested LCLS configuration\" in the LCLS-Connect-Control Acknowledge message. The CN user plane shall be kept through-connected as described in the clause 4.6.\nIf the call is not yet locally switched when returning the LCLS-Connect-Control Acknowledge message but becomes locally switched at a later time (for example due to the LCLS-Connection-Status-Control IE requesting \"Connect\" at the second call leg) the BSS shall report the change in status via the LCLS-BSS-Status IE set to \"the call is locally switched with requested LCLS configuration\" within the LCLS-Notification message as specified in 3GPP TS 48.008 [7].\nNOTE:\tThis should not occur at the oMSC server for normal call establishment as the oMSC server should always be the last (second) node sending the LCLS-Connect-Control message to the BSS.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_4.6",
        "ts_48.008"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.1.1.6",
      "section_id": "6.1.1.6",
      "section_title": "LCLS Status Reporting",
      "content": "When the oMSC server receives the LCLS-Connect-Control Acknowledge message from the originating BSS with the LCLS-BSS-Status IE set to \"the call is locally switched with requested LCLS configuration\" it shall inform the succeeding MSC server with the APM message containing the LCLS Status IE set to \"LCLS connected\".\nDuring the LCLS call establishment and ongoing call any change to the LCLS connection status is reported by the BSS to the core network and only if it results in a change of the LCLS status in the core network, the updated LCLS status shall be signalled by the oMSC server to the succeeding nodes. See also clause 4.5.",
      "chunk_type": "general",
      "cross_references": [
        "clause_4.5"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.1.1.7",
      "section_id": "6.1.1.7",
      "section_title": "MGW/User plane",
      "content": "The MGW/user plane shall be established in accordance with 3GPP TS 23.205 [2].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.1.2.1",
      "section_id": "6.1.2.1",
      "section_title": "General",
      "content": "The basic mobile originating call shall be established in accordance with 3GPP TS 23.231 [3]. The LCLS principles introduced in the clause 6.1.1 for BICC protocol messages should also apply to SIP-I signalling cases.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6.1.1",
        "ts_23.231"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.1.2.2",
      "section_id": "6.1.2.2",
      "section_title": "Initial Addressing",
      "content": "The oMSC server shall send the initial SIP-I INVITE request with the GCR IE, LCLS-Negotiation Request IE and LCLS-Configuration-Preference IE included within the encapsulated IAM message if the LCLS feature is supported. If an access bearer assignment has not been completed the initial SDP offer shall indicate that the local preconditions have not been met.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_6.1.2.3",
      "section_id": "6.1.2.3",
      "section_title": "Access Bearer Assignment",
      "content": "On receipt of the SIP-I 183 Session Progress provisional response from the succeeding MSC server containing the LCLS-Negotiation Response IE and LCLS-Configuration-Preference IE included within the encapsulated APM message, the oMSC server shall continue with the basic call establishment as specified in the clause 6.1.1.3.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.1.1.3"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.1.2.4",
      "section_id": "6.1.2.4",
      "section_title": "Backward LCLS Negotiation",
      "content": "At reception of the SIP-I 183 Session Progress provisional response with the LCLS-Negotiation Response IE and LCLS-Configuration-Preference IE included within the encapsulated APM message the oMSC server shall check the value of the LCLS-Negotiation Response IE and the LCLS-Configuration-Preference IE as specified in the clause 6.1.1.4.\nIf the first 183 Session Progress provisional response does not contain the LCLS Negotiation Response IE then the oMSC Server shall not proceed with further LCLS signalling for this call.\nNOTE:\tThis indicates to the oMSC server that LCLS feature is not supported by succeeding node.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.1.1.4"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.1.2.5",
      "section_id": "6.1.2.5",
      "section_title": "LCLS Through-Connection",
      "content": "On the reception of the 200 OK final response to the initial INVITE with the encapsulated ANM message containing LCLS-Status IE the oMSC server shall apply the LCLS Through-Connection procedure specified in the clause 6.1.1.5.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1.1.5"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.1.2.6",
      "section_id": "6.1.2.6",
      "section_title": "LCLS Status Reporting",
      "content": "The oMSC server shall send the SIP-I INFO request containing the LCLS Status IE included within the encapsulated APM message to the succeeding MSC server when LCLS Status Reporting needs to be performed according to procedure described in the clause 6.1.1.6.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1.1.6"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.1.2.7",
      "section_id": "6.1.2.7",
      "section_title": "MGW/User plane",
      "content": "The MGW/user plane shall be established in accordance with 3GPP TS 23.205 [2].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.2.1.1",
      "section_id": "6.2.1.1",
      "section_title": "General",
      "content": "The basic mobile terminating call shall be established in accordance with 3GPP TS 23.205 [2]. The LCLS establishment may use forward or backward bearer establishment. The following clauses describe the additional requirements related to the LCLS functionality.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.2.1.2.1",
      "section_id": "6.2.1.2.1",
      "section_title": "Initial Addressing",
      "content": "If an intermediate node supports the LCLS feature and receives the LCLS-Negotiation Request IE and LCLS-Configuration-Preference IE from a preceding node in the IAM it may modify the LCLS-Configuration-Preference IE based on its own LCLS configuration requirements, and shall then forward the resulting LCLS-Configuration-Preference IE together with GCR IE and LCLS-Negotiation Request IE to the succeeding node. The rules for modifying the LCLS-Configuration-Preference IE are specified in the clause 4.2.\nIf LCLS is not permitted by the intermediate node based on its own LCLS requirements then it shall set the LCLS-Negotiation Request IE to value \"LCLS not allowed\". The intermediate node shall forward the LCLS-Negotiation Request IE, LCLS-Configuration-Preference IE and GCR IE to the succeeding node.",
      "chunk_type": "general",
      "cross_references": [
        "clause_4.2"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.2.1.2.2",
      "section_id": "6.2.1.2.2",
      "section_title": "Backward LCLS Negotiation",
      "content": "If the intermediate node supports the LCLS feature and has sent the GCR IE, the LCLS-Negotiation Request IE and LCLS-Configuration-Preference IE within IAM message towards the succeeding node further action depends on the content of the first received backward message (APM message or ACM).\n-\tIf the intermediate node receives the first backward message (APM or ACM) without the LCLS-Negotiation Response IE it shall include the LCLS-Negotiation Response IE indicating \"LCLS not supported by subsequent node into APM/ACM before forwarding the APM/ACM to the preceding node.\nNOTE 1:\tThis indicates to preceding nodes that the LCLS feature is not supported by the succeeding nodes except the intermediate node but that further LCLS negotiation can occur. Specifically this can arise due to subsequent call control signalling to other succeeding nodes, e.g. due to changed routing, handover or supplementary service interactions. If the intermediate node does not include any LCLS-Negotiation Result IE then it implicitly indicates to the preceding node that LCLS feature is not supported by the intermediate node and no further LCLS signalling is permitted for the call.\n-\tWhen the received APM/ACM contains the LCLS-Negotiation Response IE then the forwarding MSC server shall forward the received LCLS-Negotiation Response IE and LCLS-Configuration-Preference IE to the preceding node.\nIf the intermediate node has forwarded LCLS-Negotiation Response IE in the first backward APM/ACM message and receives an APM which does not include LCLS Negotiation Response IE then the intermediate node shall handle the APM but shall not include any LCLS IE when passing on such APM's; no changes to LCLS status shall result.\nNOTE 2:\tAPM is used for other services or applications and need not include LCLS IEs.\nOther information elements shall be treated as specified in 3GPP TS 23.205 [2] and in 3GPP TS 23.231 [3].",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.205",
        "ts_23.231"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.2.1.2.3",
      "section_id": "6.2.1.2.3",
      "section_title": "Through-Connection",
      "content": "The procedure specified in 3GPP TS 23.205 [2] shall be applied.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.2.1.2.4",
      "section_id": "6.2.1.2.4",
      "section_title": "LCLS Status Reporting within CN",
      "content": "If the LCLS status is received from its adjacent node, the MSC server shall update the LCLS status and shall pass on to the next node only if the LCLS status has changed. See also clause 4.5.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_4.5"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.2.1.2.5",
      "section_id": "6.2.1.2.5",
      "section_title": "MGW/User plane",
      "content": "The MGW/user plane shall be established in accordance with 3GPP TS 23.205 [2].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.2.1.3.1",
      "section_id": "6.2.1.3.1",
      "section_title": "Initial Addressing",
      "content": "If the tMSC server supports LCLS feature and receives the GCR IE, the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE it may modify the LCLS-Configuration-Preference IE based on its own LCLS configuration requirements. The rules for modifying the LCLS-Configuration-Preference IE are specified in the clause 4.2 and in 3GPP TS 29.205 [6].",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.205_clause_4.2",
        "ts_29.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.2.1.3.2",
      "section_id": "6.2.1.3.2",
      "section_title": "Backward LCLS Negotiation",
      "content": "If the tMSC server supports LCLS feature then it shall return the LCLS-Negotiation Response IE and the LCLS-Configuration-Preference IE to the preceding node in the APM or the ACM message.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_6.2.1.3.3",
      "section_id": "6.2.1.3.3",
      "section_title": "Access Bearer Assignment",
      "content": "If the serving radio access is GERAN then when the tMSC server performs the access bearer assignment it shall include the GCR IE and the LCLS-Configuration IE (which is derived from the LCLS-Configuration-Preference IE) in the BSSAP Assignment Request message sent to the terminating BSS (see 3GPP TS 48.008 [7]).\nIf the tMSC server supports the optional \"intra-Network call detection\" procedure and determines that the Network ID within the GCR IE is not equal to the own (tMSC) Network ID, the tMSC server shall also include the \"LCLS-Correlation-Not-Needed\" IE in the Assignment Request message (see clause 4.3.2).\nIf the tMSC server supports the optional \"intra-BSS call detection\" procedure and determines that the BSS ID within the GCR IE is not equal to the terminating BSS ID, the tMSC server shall also include the \"LCLS-Correlation-Not-Needed\" IE in the Assignment Request message (see clause 4.3.3).\nIf the terminating BSS supports LCLS and receives the Assignment Request message containing the GCR IE and the LCLS-Configuration IE, the BSS shall store the GCR against the Assigned Call leg and check if it can support the requested LCLS-Configuration. Unless the BSS supports the optional \"intra-Network call detection\" procedure (see clause 4.3.2) or optional \"intra-BSS call detection\" procedure (see clause 4.3.3) it shall perform a correlation of the received GCR to see if another call leg has been assigned with the same GCR and report the outcome in the LCLS-BSS-Status IE returned to the tMSC server in the Assignment Complete message.\nIf the terminating BSS does not support LCLS then the GCR IE and the LCLS-Configuration IE will be ignored and no LCLS-BSS-Status IE will be returned in the Assignment Complete message. The tMSC server shall continue the call establishment as for normal Non-LCLS call.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_4.3.2",
        "clause_4.3.3",
        "ts_48.008"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.2.1.3.4",
      "section_id": "6.2.1.3.4",
      "section_title": "LCLS Through-Connection",
      "content": "If the terminating BSS determines that the call is local and can be locally switched it shall not through-connect the two parties unless explicitly indicated to do so by receiving the LCLS-Connection-Status-Control IE set to \"Connect\" for both call legs.\nWhen the tMSC server receives \"answer\" from the terminating UE it shall send the BSSAP message LCLS-Connect-Control containing the LCLS-Connection-Status-Control IE set to \"Connect\" and send the ANM message with the LCLS-Status IE indicating \"LCLS is feasible but not yet connected\" to the preceding MSC server.\nIf the BSS has received the LCLS-Connection-Status-Control IE set to \"Connect\" for both call legs associated to the LCLS call it shall locally switch the user plane between the two call legs and report the through-connection via LCLS-BSS-Status IE set to \"the call is locally switched with requested LCLS configuration\" in the LCLS-Connect-Control Acknowledge message. The CN user plane shall be kept through-connected as described in the clause 4.6.\nIf the call is not yet locally switched when returning the LCLS-Connect-Control Acknowledge message but becomes locally switched at a later time (for example due to the LCLS-Connection-Status-Control IE requesting \"Connect\" at the second call leg) the BSS shall report the change in status via LCLS-BSS-Status IE set to \"the call is locally switched with requested LCLS configuration\" within the LCLS-Notification message as specified in 3GPP TS 48.008 [7].",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_4.6",
        "ts_48.008"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.2.1.3.5",
      "section_id": "6.2.1.3.5",
      "section_title": "LCLS Status Reporting",
      "content": "During the LCLS call establishment and ongoing call any change to the LCLS connection status is reported by the BSS to the core network and only if it results in a change of the LCLS status in the core network the updated LCLS status shall be signalled by the tMSC server to the preceding node. See also clause 4.5.",
      "chunk_type": "general",
      "cross_references": [
        "clause_4.5"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.2.1.3.6",
      "section_id": "6.2.1.3.6",
      "section_title": "MGW/User plane",
      "content": "The MGW/user plane shall be established in accordance with 3GPP TS 23.205 [2].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.2.2.1",
      "section_id": "6.2.2.1",
      "section_title": "General",
      "content": "The basic mobile terminating call shall be established in accordance with 3GPP TS 23.231 [3]. The LCLS principles using introduced in the clause 6.2.1 for BICC protocol messages should also apply to SIP-I signalling cases.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6.2.1",
        "ts_23.231"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.2.2.2.1",
      "section_id": "6.2.2.2.1",
      "section_title": "Initial Addressing",
      "content": "If an intermediate node supports the LCLS feature and receives the GCR IE, the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE included within the encapsulated IAM message from a preceding node in the SIP-I INVITE request it may modify the LCLS-Configuration-Preference IE based on its own LCLS configuration requirements, and shall then forward the initial INVITE request with the resulting LCLS-Configuration-Preference IE together with GCR IE and LCLS-Negotiation Request IE included within the encapsulated IAM message to the succeeding node.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_6.2.2.2.2",
      "section_id": "6.2.2.2.2",
      "section_title": "Backward LCLS Negotiation",
      "content": "On the receipt of the 183 Session Progress provisional response the intermediate node shall apply the Backward LCLS Negotiation procedure specified in the clause 6.2.1.2.2.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.2.1.2.2"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.2.2.2.3",
      "section_id": "6.2.2.2.3",
      "section_title": "Through-Connection",
      "content": "See clause 6.2.1.2.3.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.2.1.2.3"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.2.2.2.4",
      "section_id": "6.2.2.2.4",
      "section_title": "LCLS Status Reporting within CN",
      "content": "See clause 6.2.1.2.4.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.2.1.2.4"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.2.2.2.5",
      "section_id": "6.2.2.2.5",
      "section_title": "MGW/User plane",
      "content": "See clause 6.2.1.2.5.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.2.1.2.5"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.2.2.3.1",
      "section_id": "6.2.2.3.1",
      "section_title": "Initial Addressing",
      "content": "See clause 6.2.1.3.1.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.2.1.3.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.2.2.3.2",
      "section_id": "6.2.2.3.2",
      "section_title": "Backward LCLS Negotiation",
      "content": "If the tMSC server supports LCLS feature then it shall return the final LCLS-Negotiation Response IE and LCLS-Configuration-Preference IE included within the encapsulated APM message to the preceding node in the SIP-I 183 Session Progress provisional response.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_6.2.2.3.3",
      "section_id": "6.2.2.3.3",
      "section_title": "Access Bearer Assignment",
      "content": "See clause 6.2.1.3.3.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.2.1.3.3"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.2.2.3.4",
      "section_id": "6.2.2.3.4",
      "section_title": "LCLS Through-Connection",
      "content": "The tMSC server shall apply the LCLS Through-Connection procedure specified in the clause 6.2.1.3.4. The LCLS-Status IE indicating \"LCLS is feasible but not yet connected\" shall be included in the ANM message encapsulated in the 200 OK final response to the initial INVITE.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.2.1.3.4"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.2.2.3.5",
      "section_id": "6.2.2.3.5",
      "section_title": "LCLS Status Reporting",
      "content": "See clause 6.2.1.3.5.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.2.1.3.5"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.2.2.3.6",
      "section_id": "6.2.2.3.6",
      "section_title": "MGW/User plane",
      "content": "See clause 6.2.1.3.6.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.2.1.3.6"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.3.1",
      "section_id": "6.3.1",
      "section_title": "Basic Call Establishment Connection Model for LCLS",
      "content": "Figure 6.3.1.1 shows the network model for the basic call establishment for a Local Call. The oMSC server seizes one context with two bearer terminations in the oMGW. The bearer termination T1 is used for the bearer towards the oBSS and the bearer termination T2 is used for the bearer towards the iMSC selected iMGW. The iMSC server seizes one context with two bearer terminations in the iMGW. The bearer termination T6 is used for the bearer towards the tMSC server selected tMGW and the bearer termination T5 is used for the bearer towards the preceding oMGW. The tMSC server seizes one context with two bearer terminations in the tMGW. The bearer termination T3 is used for the bearer towards the iMSC selected iMGW and bearer termination T4 is used for the bearer towards the tBSS.\nConnection Model 1: After Alerting, Backward Through Connection\nConnection Model 2: After answer, Call is locally switched\nFigure 6.3.1.1: Basic Call Establishment Connection Model for Local Call",
      "chunk_type": "general",
      "cross_references": [
        "figure_6.3.1.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.3.2",
      "section_id": "6.3.2",
      "section_title": "LCLS established, Basic Call Example with BICC based CS core network, forward bearer establishment",
      "content": "Figures 6.3.2.1, 6.3.2.2 and 6.3.2.3 show the message sequence example for the basic call establishment for LCLS. In this example the oUE and the tUE belong to the same BSS (marked as oBSS and tBSS) and the CN permits LCLS. The example is based on examples from 3GPP TS 23.205 [2] for the basic mobile originating call, forward bearer establishment (case when access bearer assignment is requested on the originating side after reception of Bearer Information message) and the basic mobile terminating call, forward bearer establishment.\nFigure 6.3.2.1: Basic Call Establishment Flow when call is locally switched, forward bearer establishment\n1.\tService Request handling.\n2.\tOriginating Call SETUP.\n2a.\tThe oMSC server replies with the CALL PROCEEDING message to indicate that the call is being processed.\n3.\tIf the oMSC server supports LCLS it retrieves the oBSS ID and generates the Global Call Reference for the call.\n4.\tThe oMSC server sends the IAM message including supported codecs list, GCR with encapsulated oBSS ID, the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE.\n5.\tIf the iMSC server supports LCLS it may modify the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE due to CAMEL, supplementary service requirements etc. before sending the IAM message containing the GCR with the encapsulated oBSS ID, the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE.\n6.\tThe tMSC server pages the tUE.\n7.\tThe tMSC server performs call Setup.\n8.\tThe tUE confirms the call.\n9.\tThe tMSC server requests the tMGW to prepare for the network side bearer establishment.\n10.\tAfter the tMGW has replied with the bearer address and the binding reference the tMSC server returns the APM message with the selected codec, available codec list and if LCLS is supported, the LCLS-Negotiation Response IE and the LCLS-Configuration-Preference IE.\n11a.\tWhen the bearer information is received the iMSC server requests the seizure of the outgoing network side bearer termination.\n11b.\tAfter the outgoing side bearer termination is seized the iMSC server requests the seizure of the incoming network side bearer termination.During the seizure of the outgoing side and the incoming side bearer termination the iMSC server will also request the iMGW to through-connect the bearer terminations so that the bearer will be both way through-connected.\n12.\tThe iMSC server transfers the APM message with the selected codec, available codec list, the LCLS-Negotiation Response IE and the LCLS-Configuration-Preference IE.\nFigure 6.3.2.2: Basic Call Establishment when call is locally switched, forward bearer establishment (continuation of figure 6.3.2.1)\n13a.\tWhen the bearer information is received the oMSC server requests the seizure of the network side bearer termination.\n13b.\tAfter the network side bearer information is seized the oMSC server requests the seizure of the access side bearer termination.During the seizure of the network side or the access side bearer termination the oMSC server will also request the oMGW to through-connect the bearer terminations so that the bearer will be backward through-connected.\n14.\tThe oMSC server determines whether LCLS is allowed in the core network based on the returned LCLS-Negotiation IE and if so the oMSC server includes the LCLS-Configuration IE in the ASSIGNMENT REQUEST message along with the GCR IE.\n15.\tThe oBSS returns the ASSIGNMENT COMPLETE message with the LCLS-BSS-Status IE indicating \"call not possible to be locally switched\".\n16.\tWhen the access assignment is completed the oMSC server sends the Continuity (COT) message to the iMSC server.\n17.\tThe iMSC server transfers the COT message to the tMSC server.\n18.\tThe tMSC server requests the seizure of the access side bearer termination. If not requested during the seizure of network side bearer termination (in step 9) the tMSC server will also request the tMGW to through-connect the bearer terminations so that the bearer will be backward through-connected.\n19a.\tIf the tMSC server supports the optional \"intra-Network call detection\" procedure it compares its own Network ID with the Network ID received within the Global Call Reference IE.If the tMSC server supports the optional \"intra-BSS call detection\" procedure it compares the BSS ID of the selected terminating BSS with the oBSS ID received within the Global Call Reference IE at this step. Since the oUE and the tUE belong to the same BSS the call continues the same way as for the basic LCLS establishment without this pre-check.\n19b.\tThe tMSC server performs the access bearer assignment and sends the ASSIGNMENT REQUEST message containing the GCR IE and the LCLS-Configuration IE if LCLS is permitted in the core network.\n20.\tThe oBSS/tBSS performs the GCR correlation. Since the GCR correlation has identified the call as an intra BSS call and LCLS is allowed in the BSS, the tBSS returns the ASSIGMENT COMPLETE message with the LCLS-BSS-Status IE indicating \"Call not yet locally switched\".\n20a.\tSince the GCR correlation has identified the call as an intra BSS call and LCLS is allowed in the BSS, the oBSS signals the LCLS status change by sending the LCLS_NOTIFICATION message with the LCLS-BSS-Status IE set to \"Call not yet locally switched\".\n21.\tThe tUE reports alerting.\n22a, b.\tThe tMSC server returns the ACM message and requests the tMGW to provide a ring-back tone.\n23.\tThe iMSC server transfers the ACM message to the oMSC server.\n24.\tThe oMSC server reports alerting.\nFigure 6.3.2.3: Basic Call Establishment when call is locally switched, forward bearer establishment (continuation of figure 6.3.2.2)\n25.\tThe tUE answers the call.\n25a.\tThe tMSC server returns the CONNECT ACKNOWLEDGE message to the tUE.\n26.\tThe tMSC server indicates to the tBSS that this call leg is ready to be locally switched by sending the LCLS_CONNECT_CONTROL message (note the BSS cannot through-connect LCLS until it receives the same indication from the oMSC server).\n27.\tThe tBSS returns the LCLS_CONNECT_CONTROL_ACK message with the LCLS-BSS-Status IE set to \"Call not yet locally switched\" since the BSS has not received the same order from the oMSC server.\n28.\tWhen the tMSC server receives the Connect message it requests the tMGW to stop providing ring-back tone to the calling party and requests to bothway through-connect the bearer.\n29.\tThe tMSC server returns the ANM message with the LCLS-Status IE indicating \"LCLS is feasible but not yet connected\".\n30.\tThe oMSC server receives the ANM message with the LCLS-Status IE indicating \"LCLS is feasible but not yet connected\".\n31.\tThe oMSC server request the oMGW to bothway through-connect the bearer.\n32.\tThe oMSC server reports Answer/Connect to the oUE.\n32a.\tThe oUE completes the call establishment with the CONNECT ACKNOWLEDGE message.\n33.\tThe oMSC server requests the oBSS to connect LCLS since the received ANM message indicated \"LCLS is feasible but not yet connected\".\n34a.\tSince the BSS has received the through connect request for both call legs the oBSS returns the LCLS_CONNECT_CONTROL_ACK message with the LCLS-BSS-Status IE set to \"call is locally switched with requested LCLS configuration\".\nNOTE 1:\tIf the BSS cannot locally through-connect the call at this time then it is indicated by setting the LCLS-BSS-Status IE set to \"the call is not yet locally switched\". If at a later time the BSS can locally switch the call, this is indicated by sending the LCLS_NOTIFICATION message with the LCLS-BSS-Status IE set to \"the call is locally switched with requested LCLS configuration\".\n34b.\tSince the BSS has received the through connect request for both call legs the tBSS signals the LCLS status change by sending the LCLS_NOTIFICATION message with the LCLS-BSS-Status IE set to \"call is locally switched with requested LCLS configuration\".\n34c.\tIf the oMSC server supports the option to configure its Access MGW to isolate the access side termination from the network side termination and LCLS negotiation indicated that no succeeding node requires the UL data from the oUE then the oMSC server requests the oMGW to isolate the access side termination T1 from the network side termination T2.\n34d.\tIf the tMSC server supports the option to configure its Access MGW to isolate the access side termination from the network side termination and LCLS negotiation indicated that no preceding node requires the UL data from the tUE then the tMSC server requests the tMGW to isolate the access side termination T4 from the network side termination T3.\nNOTE 2:\tThe MSC server can also use the Change Through-Connection procedure and requests the MGW to change the through-connection of the bearer to inactive instead of using of the Isolate Bearer termination procedure, see 3GPP TS 23.205 [2].\n35.\tThe oMSC server signals the change of the LCLS status through the Core Network by sending the APM message with the LCLS-Status IE set to \"LCLS connected\".\n36.\tThe iMSC server transfers the change of the LCLS status to the tMSC server.",
      "chunk_type": "general",
      "cross_references": [
        "figure_6.3.2.1",
        "figure_6.3.2.2",
        "figure_6.3.2.3",
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.3.3",
      "section_id": "6.3.3",
      "section_title": "LCLS not established, Basic Call Example with BICC based CS core network",
      "content": "The Figure 6.3.3.1 shows the message sequence example for the basic call establishment for LCLS when the call could not be locally switched. In this example the CN permits LCLS but the oUE and the tUE belong to different BSS's (marked as oBSS and tBSS). The example is based on examples from 3GPP TS 23.205 [2] for the basic mobile originating call, forward bearer establishment and the basic mobile terminating call, forward bearer establishment.\nFigure 6.3.3.1:\tBasic Call Establishment Flow when call is not locally switched\n1 – 18. The basic call establishment procedure between the UE-1 and the UE-2 is the same as specified in steps 1-18 of clause 6.3.2.1.\n19a.\tIf the tMSC server supports the optional \"Intra-Network Call Detection\" procedure it may compare its own Network ID with the Network ID received within the Global Call Reference (GCR) IE. If the tMSC server supports the optional \"Intra-BSS Call Detection\" procedure it may compare the BSS ID of the selected terminating BSS with the value of the originating BSS ID received within the GCR IE at this step. In this case, the result of the \"Intra-Network Call Detection\" procedure or \"Intra-BSS Call Detection\" procedure is that the call is not an intra-Network or an intra-BSS call.\n19b.\tThe tMSC server performs the terminating access bearer assignment and sends the ASSIGNMENT REQUEST message containing the GCR IE and the LCLS-Configuration IE if LCLS is permitted in the core network. If the tMSC server performed the \"Intra-Network Call Detection\" procedure in step 19a and/or the tMSC server performed the \"Intra-BSS Call Detection\" procedure in step 19a, then the tMSC server includes the \"LCLS-Correlation-Not-Needed\" IE in the ASSIGNMENT REQUEST message since the oUE and the tUE belong to the different BSS's.\n20.\tThe tBSS returns the ASSIGMENT COMPLETE message with the LCLS-BSS-Status IE indicating \"Call Not Possible to be Locally Switched\".\n21 - 30.The basic call establishment procedure between the UE-1 and the UE-2 continues as for the normal, non-LCLS call.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.3.2.1",
        "figure_6.3.3.1",
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.3.4",
      "section_id": "6.3.4",
      "section_title": "LCLS established, Basic Call Example with SIP-I based CS core network",
      "content": "Figures 6.3.4.1, 6.3.4.2, 6.3.4.3 and 6.3.4.4 show the message sequence example for the basic call establishment when call is locally switched. In this example the oUE and the tUE belong to the same BSS (marked as oBSS and tBSS) and the CN permits LCLS. The example is based on examples for the basic mobile originating call and for the basic mobile terminating call from 3GPP TS 23.231 [3].\nFigure 6.3.4.1: Basic Call Establishment Flow when call is locally switched\n1.\tService Request handling.\n2.\tOriginating Call SETUP.\n3.\tThe oMSC server replies with a CALL PROCEEDING message to indicate that the call is being processed.\n4.\tIf the oMSC server supports LCLS it retrieves the oBSS ID and generates the Global Call Reference for the call.\n5.\tThe oMSC server selects the codec and requests the oMGW to select and provide the IP transport address and port for the network side bearer connection before sending the INVITE message.\n6.\tThe oMSC server sends the INVITE request with the initial SDP offer indicating that local preconditions have not been met, and with the encapsulated IAM message containing the GCR with encapsulated oBSS ID, the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE.\n7.\tThe iMSC server confirms the reception of the INVITE request with a 100 Trying provisional response.\n8.\tThe iMSC server selects the codec and requests the iMGW to select and provide the IP transport address and port for the outgoing network side bearer termination.\n9.\tIf the iMSC server supports LCLS it may modify the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE due to CAMEL, supplementary service requirements etc. before sending the INVITE request with the SDP offer and with the encapsulated IAM message containing the GCR with the encapsulated oBSS ID, the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE.\n10.\tThe tMSC server confirms the reception of the INVITE request with 100 a Trying provisional response.\n11.\tThe tMSC server pages the tUE.\n12.\tThe tMSC server performs call Setup.\n13.\tThe tUE confirms the call.\n14.\tThe tMSC server selects the codec, provides to the tMGW the selected codec and the remote user plane IP address and port information that were received from the preceding node in the SDP offer and requests the tMGW to prepare for the network side bearer establishment.\n15.\tAfter the tMGW has replied with the local IP address and port information the tMSC server includes in the SDP answer the user plane IP address and UDP port received from the tMGW, the selected codec and any additional accepted payload types. The tMSC server returns a 183 Session Progress provisional response with the SDP answer and if LCLS is supported with encapsulated APM message containing the LCLS-Negotiation Response IE and the LCLS-Configuration-Preference IE.\n16.\tThe iMSC server replies to succeeding node with the PRACK request to confirm the reception of the 183 Session Progress provisional response.\n17.\tWhen the 183 Session Progress provisional response with the SDP answer is received the iMSC server requests the iMGW to configure the remote IP transport address and any additional negotiated payload types of the outgoing side bearer termination.\n18.\tThe tMSC server confirms the reception of the PRACK request with a 200 OK final response.\nFigure 6.3.4.2: Basic Call Establishment when call is locally switched (continuation of figure 6.3.4.1)\n19.\tThe iMSC server selects the codec for the incoming side bearer termination, provides to the iMGW the selected codec and the remote user plane IP address and port information that were received from the preceding node in the SDP offer and requests the iMGW to prepare for the incoming side bearer establishment.During the seizure of the outgoing side and the incoming side bearer termination the iMSC server will also request the iMGW to through-connect the bearer terminations so that the bearer will be bothway through-connected.\n20.\tAfter the iMGW has replied with the local IP address and port information the iMSC server includes in the SDP answer the user plane IP address and UDP port received from the iMGW, the selected codec and any additional accepted payload types. The iMSC server sends the 183 Session Progress provisional response with the SDP answer and with encapsulated APM message containing the LCLS-Negotiation Response IE and the LCLS-Configuration-Preference IE to the preceding node.\n21.\tThe oMSC server replies to the succeeding node with the PRACK request to confirm the reception of the 183 Session Progress provisional response.\n22.\tThe oMSC server requests the oMGW to configure the remote user plane IP address and any additional negotiated payload types of the network side bearer termination.\n23.\tThe oMSC server requests the seizure of the access side bearer termination.During the seizure of the network side or the access side bearer termination the oMSC server will also request the oMGW to through-connect the bearer terminations so that the bearer will be backward through-connected.\n24.\tThe iMSC server confirms the reception of the PRACK request with the 200 OK final response.\n25.\tThe oMSC server determines whether LCLS is allowed in the core network based on the returned LCLS-Negotiation IE and if so the oMSC server includes the LCLS-Configuration IE in the ASSIGNMENT REQUEST message along with the GCR IE.\n26.\tThe oBSS returns the ASSIGNMENT COMPLETE message with the LCLS-BSS-Status IE indicating \"call not possible to be locally switched\".\n27.\tWhen the oMSC server receives the ASSIGNMENT COMPLETE message, it requests the oMGW to configure the remote user plane IP address and UDP Port for the access side bearer termination.\n28.\tSince the access bearer assignment is completed the oMSC server sends the UPDATE request with the SDP offer indicating local preconditions met to the succeeding node.\n29.\tThe iMSC server forwards the UPDATE request to the succeeding node.\n30.\tThe tMSC server confirms the reception of the UPDATE request with the 200 OK final response.\n31.\tWhen the tMSC server receives the SDP offer indicating remote preconditions met it requests the seizure of the access side bearer termination.If not requested during the seizure of network side bearer termination (step 14) the tMSC server will request the tMGW to through-connect the bearer terminations so that the bearer will be backward through-connected.\n32.\tThe iMSC server forwards the 200 OK (UPDATE) final response to the preceding node.\n33.\tIf the tMSC server supports the optional \"intra-Network call detection\" procedure it compares its own Network ID with the Network ID received within the Global Call Reference IE.If the tMSC server supports the optional \"intra-BSS call detection\" procedure it compares the BSS ID of the selected terminating BSS with the oBSS ID received within the Global Call Reference IE at this step. Since the oUE and the tUE belong to the same BSS the call continues the same way as for the basic LCLS establishment without this pre-check.\nFigure 6.3.4.3: Basic Call Establishment when call is locally switched (continuation of figure 6.3.4.2)\n34.\tThe tMSC server sends the ASSIGNMENT REQUEST message containing the GCR IE and the LCLS-Configuration IE if LCLS is permitted in the core network.\n35.\ta)\tThe tBSS performs the GCR correlation. Since the GCR correlation has identified the call as an intra BSS call and LCLS is allowed in the BSS, the tBSS returns the ASSIGMENT COMPLETE message with the LCLS-BSS-Status IE indicating \"Call not yet locally switched\".b)\tSince the GCR correlation has identified the call as an intra BSS call and LCLS is allowed in the BSS, the oBSS signals the LCLS status change to the oMSC server by sending the LCLS_NOTIFICATION message with the LCLS-BSS-Status IE set to \"Call not yet locally switched\".\n36.\tThe tUE reports alerting.\n37.\tThe tMSC server requests the tMGW to provide a ring-back tone.\n38.\tThe tMSC server sends a 180 Ringing provisional response with the encapsulated ACM message to the preceding node.\n39.\tThe iMSC server replies to succeeding node with the PRACK request to confirm the reception of the 180 Ringing provisional response.\n40.\tThe iMSC server transfers the 180 Ringing provisional response with the encapsulated ACM message to the preceding node.\n41.\tThe oMSC server replies to succeeding node with the PRACK request to confirm the reception of the 180 Ringing provisional response.\n42.\tThe tMSC server confirms the reception of the PRACK request with the 200 OK final response.\n43.\tThe oMSC server reports alerting.\n44.\tThe IMSC server confirms the reception of the PRACK request with the 200 OK final response.\n45.\tThe tUE answers the call.\n46.\tThe tMSC server returns the CONNECT ACKNOWLEDGE message to the tUE.\n47.\tThe tMSC server indicates to the tBSS that this call leg is ready to be locally switched by sending the LCLS_CONNECT_CONTROL message.\n48.\tThe tBSS returns the LCLS_CONNECT_CONTROL_ACK message with the LCLS-BSS-Status IE set to \"Call not yet locally switched\" since the BSS has not received the same order from the oMSC server.\n49.\tWhen the tMSC server receives the Connect message it requests the tMGW to stop providing ring-back tone to the calling party and requests to bothway through-connect the bearer.\n50.\tThe tMSC server returns the 200 OK (INVITE) final response with the encapsulated ANM message with the LCLS-Status IE indicating \"LCLS is feasible but not yet connected\".\n51.\tThe oMSC server receives the 200 OK (INVITE) final response with the encapsulated ANM message with the LCLS-Status IE indicating \"LCLS is feasible but not yet connected\".\nFigure 6.3.4.4: Basic Call Establishment when call is locally switched (continuation of figure 6.3.4.3)\n52.\tThe oMSC server replies to the succeeding node with the ACK request to confirm the reception of the 200 OK final response.\n53.\tThe oMSC server request the oMGW to bothway through-connect the bearer.\n54.\tThe iMSC server transfers the ACK request to the succeeding node.\n55.\tThe oMSC server reports Answer/Connect to the oUE.\n56.\tThe oUE returns the CONNECT ACKNOWLEDGE message to the oMSC server.\n57.\tThe oMSC server requests the oBSS to connect LCLS since the received 200 OK (INVITE) final response indicated \"LCLS is feasible but not yet connected\".\n58.\ta)\tSince the BSS has received the through connect request for both call legs the oBSS returns the LCLS_CONNECT_CONTROL_ACK message with the LCLS-BSS-Status IE set to \"call is locally switched with requested LCLS configuration\".b)\tThe tBSS signals the LCLS status change to the tMSC server by sending the LCLS_NOTIFICATION message with the LCLS-BSS-Status IE set to \"call is locally switched with requested LCLS configuration\".c)\tIf the oMSC server supports the option to configure its Access MGW to isolate the access side termination from the network side termination and LCLS negotiation indicated that no succeeding node requires the UL data from the oUE then the oMSC server requests the oMGW to isolate the access side termination T1 from the network side termination T2.d)\tIf the tMSC server supports the option to configure its Access MGW to isolate the access side termination from the network side termination and LCLS negotiation indicated that no preceding node requires the UL data from the tUE then the tMSC server requests the tMGW to isolate the access side termination T4 from the network side termination T3.\nNOTE:\tThe MSC server can also use the Change Through-Connection procedure and requests the MGW to change the through-connection of the bearer to inactive instead of using of the Isolate Bearer termination procedure, see 3GPP TS 23.205 [2].\n59.\tThe oMSC server signals the change of the LCLS status through the Core Network by sending the INFO request with the encapsulated APM message with the LCLS-Status IE set to \"LCLS connected\".\n60.\tThe iMSC server returns the 200 OK (INFO) final response to the preceding node.\n61.\tThe iMSC server transfers the change of the LCLS status to the succeeding node.\n62.\tThe tMSC server returns the 200 OK (INFO) final response to the preceding node.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.231_figure_6.3.4.1",
        "figure_6.3.4.2",
        "figure_6.3.4.1",
        "figure_6.3.4.3",
        "figure_6.3.4.4",
        "ts_23.231",
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_6.3.5",
      "section_id": "6.3.5",
      "section_title": "LCLS established, Basic Call Example with BICC based CS core network, backward bearer establishment",
      "content": "Figures 6.3.5.1 and 6.3.5.2 show the message sequence example for the basic call establishment for LCLS. In this example the oUE and the tUE belong to the same BSS (marked as oBSS and tBSS) and the CN permits LCLS. The example is based on examples from 3GPP TS 23.205 [2] for the basic mobile originating call, backward bearer establishment (case when access bearer assignment is completed before sending of initial address message) and the basic mobile terminating call, backward bearer establishment.\nFigure 6.3.5.1: Basic Call Establishment Flow when call is locally switched, backward bearer establishment\n1.\tService Request handling.\n2.\tOriginating Call SETUP.\n3.\tThe oMSC server replies with the CALL PROCEEDING message to indicate that the call is being processed.\n4.\tIf the oMSC server supports LCLS it retrieves the oBSS ID and generates the Global Call Reference for the call.\n5.\tBefore the network side bearer information is seized the oMSC server requests the seizure of the access side bearer termination.\n6.\tThe oMSC server includes a preliminary LCLS-Configuration IE in the ASSIGNMENT REQUEST message along with the GCR IE, because the oMSC server does not know whether LCLS is allowed in the core network at this stage.\n7.\tThe oBSS returns the ASSIGNMENT COMPLETE message with the LCLS-BSS-Status IE indicating \"call not possible to be locally switched\".\n8.\tThe oMSC server prepares the seizure of the network side bearer termination.\n9.\tAfer the oMGW has replied with the bearer address and the binding reference, the oMSC server sends the IAM to the succeeding node, in which the oMSC server indicates that backward bearer establishment is to be used. The oMSC server sends the IAM message including supported codecs list, GCR with encapsulated oBSS ID, the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE.\n10.\tWhen the initial address and the bearer information is received the iMSC server requests the seizure of the network side bearer termination.\n11.\tThe iMSC server prepares the seizure of the outgoing side bearer termination.\n12.\tAfer the iMGW has replied with the bearer address and the binding reference, the iMSC server sends the IAM to the succeeding node. If the iMSC server supports LCLS it may modify the LCLS-Negotiation IE due to CAMEL, supplementary service requirements etc. before sending the IAM message containing the GCR with the encapsulated oBSS ID, the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE.\nFigure 6.3.5.2: Basic Call Establishment when call is locally switched, backward bearer establishment (continuation of figure 6.3.5.1)\n13.\tThe tMSC server pages the tUE.\n14.\tThe tMSC server performs call Setup.\n15.\tThe tUE confirms the call.\n16.\tThe tMSC server requests the tMGW to establish a bearer to the given iMGW.\n17.\tThe tMSC server requests the seizure of the access side bearer termination.\n18.\tIf the tMSC server supports the optional \"intra-Network call detection\" procedure it compares its own Network ID with the Network ID received within the Global Call Reference IE.If the tMSC server supports the optional \"intra-BSS call detection\" procedure it compares the BSS ID of the selected terminating BSS with the oBSS ID received within the Global Call Reference IE at this step. Since the oUE and the tUE belong to the same BSS the call continues the same way as for the basic LCLS establishment without this pre-check.\n19.\tThe tMSC server performs the access bearer assignment and sends the ASSIGNMENT REQUEST message containing the GCR IE and the LCLS-Configuration IE if LCLS is permitted in the core network.\n20.\tThe oBSS/tBSS performs the GCR correlation. Since the GCR correlation has identified the call as an intra BSS call and LCLS is allowed in the BSS, the tBSS returns the ASSIGMENT COMPLETE message with the LCLS-BSS-Status IE indicating \"Call not yet locally switched\".\n21.\tSince the GCR correlation has identified the call as an intra BSS call and LCLS is allowed in the BSS, the oBSS signals the LCLS status change by sending the LCLS_NOTIFICATION message with the LCLS-BSS-Status IE set to \"Call not yet locally switched\".\n22.\tThe tUE reports alerting.\n23.\tThe tMSC server returns the ACM message and includes the LCLS-Negotiation Response IE and the LCLS-Configuration-Preference IE if LCLS is supported.\n24.\tThe tMSC requests the tMGW to provide a ring-back tone.\n25.\tThe iMSC server returns the ACM message and includes the LCLS-Negotiation Response IE and the LCLS-Configuration-Preference IE.\n26.\tThe oMSC server reports alerting.\n27.\tWhen performing further call establishment see figure 6.3.2.3.",
      "chunk_type": "general",
      "cross_references": [
        "figure_6.3.5.1",
        "figure_6.3.5.2",
        "figure_6.3.2.3",
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_7.1",
      "section_id": "7.1",
      "section_title": "Call Clearing",
      "content": "The call clearing procedures shall be performed in accordance with 3GPP 23.205 [2] for a BICC based CS core network and in accordance with 3GPP TS 23.231 [3] for a SIP-I based CS core network.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.231"
      ]
    },
    {
      "chunk_id": "ts_23.284_7.2.1.1",
      "section_id": "7.2.1.1",
      "section_title": "Principles",
      "content": "When the MSC server determines that local switching should be disconnected:\n-\tit shall send a LCLS Status Change Request message indicating disconnection preparation through the Core Network.\n-\ton receipt of a LCLS Status Change Request Acknowledge message indicating disconnection preparation with a Result code indicating LCLS Status Change Request accepted the MSC server shall send a LCLS-Connection-Control message indicating LCLS break to the associated BSS.\nOn receipt of the LCLS Status Change Request message indicating disconnection preparation the MSC server shall:\n-\tsend a LCLS break request immediately to the associated BSS, and\n-\twhen the acknowledge message is received from the BSS, the MSC server shall return the LCLS Status Change Request Acknowledge message indicating disconnection preparation and a Result code indicating LCLS Status Change Request accepted.\nThe BSS needs to receive the LCLS break request on both call legs before releasing local switching.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_7.2.1.2",
      "section_id": "7.2.1.2",
      "section_title": "MSC server actions",
      "content": "When the MSC server determines that local switching should be disconnected it shall send to the succeeding (or preceding) node the LCLS Status Change Request message with the LCLS-Status-Change IE set to \"LCLS-Disconnection-Preparation\". If in the related MGW the access side termination is isolated from the network side termination, the MSC Server shall request the MGW to through-connect the access side termination to the network side termination.\nOn the reception of the LCLS Status Change Request Acknowledge message with the LCLS-Status-Change IE set to \"LCLS-Disconnection-Preparation\" and a Result code IE indicating LCLS Status Change Request accepted, the MSC server shall send to the BSS the LCLS-Connect-Control message with the LCLS-Connection-Status-Control IE set to \"Release LCLS\". At reception of the LCLS-Connect-Control Acknowledge message with the LCLS-BSS-Status IE set to \"the call is no longer locally switched\", the MSC server shall send to the succeeding (or preceding) node the LCLS Status Update message with the LCLS-Status IE set to \"LCLS Not Connected\" if the same LCLS Status Update message was not already received from the succeeding (or preceding) node.\nWhen the MSC server receives the LCLS Status Change Request message with the LCLS-Status-Change IE set to \"LCLS-Disconnection-Preparation\" it shall send to the BSS the LCLS-Connect-Control message with the LCLS-Connection-Status-Control IE set to \"Release LCLS\". If in the related MGW the access side termination is isolated from the network side termination, the MSC Server shall request the MGW to through-connect the access side termination to the network side termination. On reception of the LCLS-Connect-Control Acknowledge message the MSC server shall send to the preceding (or succeeding) node the LCLS Status Change Request Acknowledge message with the LCLS-Status-Change IE set to \"LCLS-Disconnection-Preparation\" and a Result code IE indicating LCLS Status Change Request accepted.\nWhen the LCLS-Connect-Control Acknowledge or the LCLS-Notification message with the LCLS-BSS-Status IE set to \"the call is no longer locally switched\" is received, the MSC server shall send to the succeeding (or preceding) node the LCLS Status Update message with the LCLS-Status IE set to \"LCLS Not Connected\" if the same LCLS Status Update message was not already received from the succeeding (or preceding) node.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_7.2.1.3",
      "section_id": "7.2.1.3",
      "section_title": "GMSC server actions",
      "content": "On receipt of the LCLS Status Change Request message with the LCLS-Status-Change IE set to \"LCLS-Disconnection-Preparation\" from the preceding (or succeeding) node, the GMSC Server shall forward message to the succeeding (or preceding) node.\nThe GMSC Server shall forward the received LCLS Status Change Request Acknowledge message with the LCLS-Status-Change IE set to \"LCLS-Disconnection-Preparation\" and the Result code IE indicating LCLS Status Change Request accepted.\nOn receipt of the LCLS Status Update message with the LCLS-Status IE set to \"LCLS Not Connected\" from the preceding (or succeeding) node:\n-\tthe GMSC Server shall forward the message to the succeeding (or preceding) node if the same request was not already received from the succeeding (or preceding) node.\n-\tthe GMSC Server shall not forward the message if the same request was already received from the succeeding (or preceding) node.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_7.2.1.4",
      "section_id": "7.2.1.4",
      "section_title": "BSS actions",
      "content": "On receipt of the LCLS-Connect-Control message with the LCLS-Connection-Status-Control IE set to \"Release LCLS\" the following applies:\n-\tif the request was received for only one call leg associated to the LCLS call, the BSS shall not break the local switching. The BSS shall only send the LCLS-Connect-Control Acknowledge message to the MSC server with LCLS-BSS-Status indicating LCLS is still established.\n-\tif the request was received for both call legs associated to the LCLS call, the BSS shall break local switching and shall report the LCLS disconnection on both call legs by sending:\n-\tthe LCLS-Connect-Control Acknowledge message to the MSC server and\n-\tthe LCLS-Notification message to the far end MSC server which previously requested LCLS release for the associated leg.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_7.2.2.1",
      "section_id": "7.2.2.1",
      "section_title": "Principles",
      "content": "When the BSS determines that local switching should be disconnected it may:\n-\timmediately break local switching and then inform the Core Network, or\n-\tfirst request the Core Network to prepare for LCLS break and on the reception of LCLS break request on both call legs the BSS breaks local switching.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_7.2.2.2.1",
      "section_id": "7.2.2.2.1",
      "section_title": "BSS actions",
      "content": "When the BSS determines that local switching should be disconnected it shall immediately break local switching. The BSS shall report the LCLS disconnection by sending the LCLS-Notification message with the LCLS-BSS-Status IE set to \"the call is no longer locally switched\" to both MSC servers associated to the LCLS call.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_7.2.2.2.2",
      "section_id": "7.2.2.2.2",
      "section_title": "MSC server actions",
      "content": "At reception of the LCLS-Notification message with the LCLS-BSS-Status IE set to \"the call is no longer locally switched\", the MSC server shall send to the succeeding (or preceding) node the LCLS Status Update message with the LCLS-Status IE set to \"LCLS Not Connected\" if the same LCLS Status Update message was not already received from the succeeding (or preceding) node. If in the related MGW the access side termination is isolated from the network side termination, the MSC Server shall request the MGW to through-connect the access side termination to the network side termination.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_7.2.2.2.3",
      "section_id": "7.2.2.2.3",
      "section_title": "GMSC server actions",
      "content": "On receipt of the LCLS Status Update message with the LCLS-Status IE set to \"LCLS Not Connected\" from the preceding (or succeeding) node:\n-\tthe GMSC Server shall forward the message to the succeeding (or preceding) node if the same request was not already received from the succeeding (or preceding) node.\n-\tthe GMSC Server shall not forward the message if the same request was already received from the succeeding (or preceding) node.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_7.2.2.3.1",
      "section_id": "7.2.2.3.1",
      "section_title": "BSS actions",
      "content": "When the BSS determines that local switching should be disconnected but the LCLS release should be ordered from the Core Network the BSS shall request the LCLS disconnection by sending the LCLS-Notification message with a LCLS-Break-Request IE to both MSC servers associated to the LCLS call.\nOn receipt of the LCLS-Connect-Control message with the LCLS-Connection-Status-Control IE set to \"Release LCLS\" the BSS shall apply the procedure described in clause 7.2.1.4.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_7.2.1.4"
      ]
    },
    {
      "chunk_id": "ts_23.284_7.2.2.3.2",
      "section_id": "7.2.2.3.2",
      "section_title": "MSC server actions",
      "content": "At reception of the LCLS-Notification message with LCLS-Break-Request IE the MSC server shall send to the succeeding (or preceding) node the LCLS Status Change Request message with the LCLS-Status-Change IE set to \"LCLS-Disconnection-Preparation\". If in the related MGW the access side termination is isolated from the network side termination, the MSC Server shall request the MGW to through-connect the access side termination to the network side termination.\nOn the reception of the LCLS Status Change Request message with the LCLS-Status-Change IE indicating LCLS disconnection preparation, the MSC server shall apply the procedure described in clause 7.2.1.2 with the following exception:\n-\ton the reception of the LCLS Status Change Request Acknowledge message with the LCLS-Status-Change IE set to \"LCLS-Disconnection-Preparation\" and a Result code IE indicating LCLS Status Change Request accepted the MSC server shall not request the LCLS break if it already requested due to the reception of the LCLS Status Change Request message from the succeeding (or preceding) node.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_7.2.1.2"
      ]
    },
    {
      "chunk_id": "ts_23.284_7.2.2.3.3",
      "section_id": "7.2.2.3.3",
      "section_title": "GMSC server actions",
      "content": "The GMSC server shall perform the same actions as described in clause 7.2.1.3.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_7.2.1.3"
      ]
    },
    {
      "chunk_id": "ts_23.284_7.2.3.1",
      "section_id": "7.2.3.1",
      "section_title": "Principles",
      "content": "When an intermediate node or a GMSC server determines that local switching should be disconnected it shall send the LCLS Status Change Request message indicating disconnection preparation to the preceding and to the succeeding node.\nOn receipt of LCLS Status Change Request message indicating disconnection preparation the originating or terminating MSC server shall send LCLS break request immediately to the associated BSS. When the acknowledge message is received from the BSS, the MSC server shall return LCLS Status Change Request Acknowledge message indicating disconnection preparation and a Result code indicating LCLS Status Change Request was accepted.\nThe BSS needs to receive the LCLS break request on both call legs before releasing local switching.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_7.2.3.2",
      "section_id": "7.2.3.2",
      "section_title": "Intermediate Node/GMSC server actions",
      "content": "When an intermediate node or a GMSC server determines that local switching should be disconnected it shall send the LCLS Status Change Request message with the LCLS-Status-Change IE set to \"LCLS-Disconnection-Preparation\" to the preceding and to the succeeding node.\nThe intermediate node or the GMSC Server not initiating the LCLS break shall forward the received LCLS Status Change Request message with the LCLS-Status-Change IE set to \"LCLS-Disconnection-Preparation\".\nOn receipt of the LCLS Status Change Request Acknowledge message with the LCLS-Status-Change IE set to \"LCLS-Disconnection-Preparation\" and a Result code IE indicating LCLS Status Change Request was accepted from the preceding (or succeeding) node, the intermediate node or the GMSC Server not initiating the LCLS break shall forward message to the succeeding (or preceding) node.\nOn receipt of the LCLS Status Update message with the LCLS-Status IE set to \"LCLS Not Connected\" from the preceding (or succeeding) node:\n-\tthe intermediate node or the GMSC Server not initiating the LCLS break shall forward the message to the succeeding (or preceding) node.\n-\tthe intermediate node or the GMSC Server initiating the LCLS break shall not forward the message.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_7.2.3.3",
      "section_id": "7.2.3.3",
      "section_title": "MSC server actions",
      "content": "When the LCLS Status Change Request message with the LCLS-Status-Change IE set to \"LCLS-Disconnection-Preparation\" is received from the succeeding (or preceding) node, the MSC Server shall send to the BSS the LCLS-Connect-Control message with the LCLS-Connection-Status-Control IE set to \"Release LCLS\". If in the related MGW the access side termination is isolated from the network side termination, the MSC Server shall request the MGW to through-connect the access side termination to the network side termination.\nIf the LCLS-Connect-Control Acknowledge message with the LCLS-BSS-Status IE set to \"call is locally switched with requested LCLS configuration\" is received, the MSC server shall send to the preceding (or succeeding) node the LCLS Status Change Request Acknowledge message with the LCLS-Status-Change IE set to \"LCLS-Disconnection-Preparation\" and a Result code IE indicating LCLS Status Change Request accepted.\nAt reception of the LCLS-Notification message with the LCLS-BSS-Status IE set to \"the call is no longer locally switched\", the MSC server shall send to the succeeding (or preceding) node the LCLS Status Update message with the LCLS-Status IE set to \"LCLS Not Connected\".\nAt reception of the LCLS-Connect-Control Acknowledge message with the LCLS-BSS-Status IE set to \"the call is no longer locally switched\", after sending the LCLS Status Change Request Acknowledge message, the MSC server shall send to the succeeding (or preceding) node the LCLS Status Update message with the LCLS-Status IE set to \"LCLS Not Connected\".",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_7.2.3.4",
      "section_id": "7.2.3.4",
      "section_title": "BSS actions",
      "content": "The BSS shall perform the same actions as described in clause 7.2.1.4.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_7.2.1.4"
      ]
    },
    {
      "chunk_id": "ts_23.284_7.2.4.1",
      "section_id": "7.2.4.1",
      "section_title": "LCLS Break Connection Model for LCLS",
      "content": "Figure 7.2.4.1.1 shows the network model for a LCLS break of the mobile call. The \"squared\" line represents the call control signalling. The \"dotted/full\" line represents the bearer terminations in the MGW. Bearer termination T1 and T6 are used for the bearer towards BSC and bearer termination T2, T3, T4 and T5 are used for the bearer towards preceding/succeeding MGW.\nConnection Model 1: Before LCLS Break\nConnection Model 2: After LCLS Break\nFigure 7.2.4.1.1: LCLS Break (Network model)",
      "chunk_type": "general",
      "cross_references": [
        "figure_7.2.4.1.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_7.2.4.2",
      "section_id": "7.2.4.2",
      "section_title": "MSC server Initiated",
      "content": "Figure 7.2.4.2.1 shows the message sequence example for the MSC server initiated LCLS Break.\nFigure 7.2.4.2.1:\tMSC Server initiated LCLS break\n1.\tThe oMSC server determines that local switching should be disconnected.\n2.\tThe oMSC server sends to the succeeding node the LCLS Status Change Request message with the LCLS-Status-Change IE set to \"LCLS-Disconnection-Preparation\".\n3.\tThe iMSC server transfers the LCLS Status Change Request message to the succeeding node.\n4.\tThe tMSC server sends to the tBSS the LCLS-Connect-Control message with the LCLS-Connection-Status-Control IE set to \"Release LCLS\".\n5.\tThe tBSS confirms the reception of the LCLS release request with the LCLS-Connect-Control Acknowledge message but does not change the LCLS-BSS status since LCLS release request is not yet received for the associated call leg.\n6.\tThe tMSC server sends to the preceding node the LCLS Status Change Request Acknowledge message with the LCLS-Status-Change IE set to \"LCLS-Disconnection-Preparation\" and the Result code IE set to LCLS Status Change Request accepted.\n7.\tThe iMSC server transfers the LCLS Status Change Request Acknowledge message to the preceding node.\n8.\tThe oMSC server sends to the oBSS the LCLS-Connect-Control message with the LCLS-Connection-Status-Control IE set to \"Release LCLS\".\n9.\tThe BSS reports the LCLS disconnection by sending: a)\tThe LCLS-Connect-Control Acknowledge message with the LCLS-BSS-Status IE set to \"the call is no longer locally switched\" to the oMSC server.\nb)\tThe LCLS-Notification message with the LCLS-BSS-Status IE set to \"the call is no longer locally switched\" to the tMSC server.\n10.\tThe oMSC server sends the LCLS Status Update Request message with the LCLS-Status IE set to \"LCLS Not Connected\" to the succeeding node.\n11.\tThe iMSC server transfers the LCLS Status Update message to the succeeding node.\n12.\tOn the receipt of the LCLS-Notification message with the LCLS-BSS-Status indicating LCLS disconnection the tMSC server sends the LCLS Status Update message with the LCLS-Status IE set to \"LCLS Not Connected\" to the preceding node.\nNOTE:\tThe iMSC server does not forward the LCLS Status Update message since the same LCLS Status is already received from the oMSC server.",
      "chunk_type": "general",
      "cross_references": [
        "figure_7.2.4.2.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_7.2.4.3",
      "section_id": "7.2.4.3",
      "section_title": "BSS Initiated, Immediate LCLS Break",
      "content": "Figure 7.2.4.3.1 shows the message sequence example for the BSS initiated LCLS Break.\nFigure 7.2.4.3.1:\tBSS initiated, immediate LCLS break\n1.\tThe BSS determines that local switching should be disconnected.\n2a, b.\tThe BSS reports the LCLS disconnection by sending the LCLS-Notification message with the LCLS-BSS-Status IE set to \"the call is no longer locally switched\" to the tMSC server and oMSC server.\n3.\ta)\tThe tMSC server sends the LCLS Status Update message with the LCLS-Status IE set to \"LCLS Not Connected\" to the preceding node.\nb)\tThe oMSC server sends the LCLS Status Update message with the LCLS-Status IE set to \"LCLS Not Connected\" to the succeeding node.\n4a.\tThe iMSC server transfers the LCLS Status Update message to the oMSC server.\nNOTE:\tAt reception of the LCLS Status Update message from the oMSC server, the iMSC server does not forward the LCLS Status Update message since the same LCLS Status is already received from the tMSC server.",
      "chunk_type": "general",
      "cross_references": [
        "figure_7.2.4.3.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_7.2.4.4",
      "section_id": "7.2.4.4",
      "section_title": "BSS Initiated, LCLS Break requested from Core Network",
      "content": "Figure 7.2.4.4.1 shows the message sequence example for the BSS initiated but when the LCLS Break is requested from the Core Network.\nFigure 7.2.4.4.1:\tBSS initiated, LCLS Release ordered from Core Network\n1.\tThe BSS determines that local switching should be disconnected.\n2a, b.\tThe BSS requests the LCLS disconnection by sending the LCLS-Notification message with LCLS-Break-Request IE set to \"LCLS Break Request\" to the oMSC server and tMSC server.\n3.\ta)\tThe oMSC server sends to the succeeding node the LCLS Status Change Request message with the LCLS-Status-Change IE set to \"LCLS-Disconnection-Preparation\".\nb)\tThe tMSC server sends to the preceding node the LCLS Status Change Request message with the LCLS-Status-Change IE set to \"LCLS-Disconnection-Preparation\".\n4a, b.\tThe iMSC server transfers the LCLS Status Change Request message to the succeeding/preceding node.\n5.\ta)\tThe tMSC server sends to the tBSS the LCLS-Connect-Control message with the LCLS-Connection-Status-Control IE set to \"Release LCLS\".\nb)\tThe oMSC server sends to the oBSS the LCLS-Connect-Control message with the LCLS-Connection-Status-Control IE set to \"Release LCLS\".\n6.\ta)\tThe tBSS confirms the reception of the LCLS release request with the LCLS-Connect-Control Acknowledge message but does not change the LCLS-BSS status since LCLS release request is not yet received for the associated call leg.\nb)\tThe oBSS reports the LCLS disconnection by sending the LCLS-Connect-Control Acknowledge message with the LCLS-BSS-Status IE set to \"the call is no longer locally switched\" to the oMSC server.\nc)\tThe tBSS reports the LCLS disconnection by sending the LCLS-Notification message with the LCLS-BSS-Status IE set to \"the call is no longer locally switched to the tMSC server.\n7.\ta)\tOn the receipt of the LCLS-Connect-Control Acknowledge message with the LCLS-BSS status still indicating local switching the tMSC server sends to the preceding node the LCLS Status Change Request Acknowledge message with the LCLS-Status-Change IE set to \"LCLS-Disconnection-Preparation\" and the Result code IE set to LCLS Status Change Request accepted.\nb)\tOn the receipt of the LCLS-Connect-Control Acknowledge message the oMSC server sends to the succeeding node the LCLS Status Change Request Acknowledge message with the LCLS-Status-Change IE set to \"LCLS-Disconnection-Preparation\" and the Result code IE set to LCLS Status Change Request accepted.\n8.\ta)\tThe iMSC server transfers the LCLS Status Change Request Acknowledge message to the preceding node.\nb)\tThe iMSC server transfers the LCLS Status Change Request Acknowledge message to the succeeding node.\nNOTE1:\tThe oMSC server already requested the LCLS break from the oBSS (step 5b) and due to that it does not perform any action on the receipt of the LCLS Status Change Request Acknowledge message. The tMSC server does not perform any action on the receipt of the LCLS Status Change Request Acknowledge message since it already requested the LCLS break from the tBSS (step 5a) and already received LCLS-Notification message indicating LCLS disconnection (step 6c).\n9.\tAt reception of the LCLS-Connect-Control Acknowledge message indicating LCLS disconnection the oMSC server sends the LCLS Status Update message with the LCLS-Status IE set to \"LCLS Not Connected\" to the succeeding node.\n10.\tThe iMSC server transfers the LCLS Status Update message to the succeeding node.\n11.\tOn the receipt of the LCLS-Notification message indicating LCLS disconnection the tMSC server sends the LCLS Status Update message with the LCLS-Status IE set to \"LCLS Not Connected\" to the preceding node.\nNOTE2:\tAt reception of the LCLS Status Update message from the tMSC server, the iMSC server does not forward the LCLS Status Update message since the same LCLS Status is already received from the oMSC server.",
      "chunk_type": "general",
      "cross_references": [
        "figure_7.2.4.4.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_7.2.4.5",
      "section_id": "7.2.4.5",
      "section_title": "Intermediate Node/GMSC Server Initiated",
      "content": "Figure 7.2.4.5.1 shows the message sequence example for the network initiated LCLS Break.\nFigure 7.2.4.5.1:\tIntermediate Node / GMSC Server initiated LCLS break\n1.\tThe iMSC server determines that local switching should be disconnected.\n2a, b.\tThe iMSC server send the LCLS Status Change Request message with the LCLS-Status-Change IE set to \"LCLS-Disconnection-Preparation\" to the preceding node and to the succeeding node.\n3.\ta)\tThe oMSC server sends to the oBSS the LCLS-Connect-Control message with the LCLS-Connection-Status-Control IE set to \"Release LCLS\".\nb)\tThe tMSC server sends to the tBSS the LCLS-Connect-Control message with the LCLS-Connection-Status-Control IE set to \"Release LCLS\".\n4.\ta)\tThe oBSS confirms the reception of the LCLS release request but does not change the LCLS-BSS status since LCLS release request is not yet received for the associated call leg.\nb)\tThe tBSS reports the LCLS disconnection by sending the LCLS-Connect-Control Acknowledge message with the LCLS-BSS-Status IE set to \"the call is no longer locally switched\" to the tMSC server.c)\tThe oBSS reports the LCLS disconnection by sending the LCLS-Notification message with the LCLS-BSS-Status IE set to \"the call is no longer locally switched\" to the oMSC server.\n5.\ta)\tOn the receipt of the LCLS-Connect-Control Acknowledge message with the LCLS-BSS status still indicating local switching the oMSC server sends to the succeeding node the LCLS Status Change Request Acknowledge message with the LCLS-Status-Change IE set to \"LCLS-Disconnection-Preparation\" and the Result code IE set to LCLS Status Change Request accepted.\nb)\tOn the receipt of the LCLS-Connect-Control Acknowledge message the tMSC server sends to the preceding node the LCLS Status Change Request Acknowledge message with the LCLS-Status-Change IE set to \"LCLS-Disconnection-Preparation\" and the Result code IE set to LCLS Status Change Request accepted.\nNOTE1:\tSince the LCLS disconnection is ordered by the iMSC server it does not forward the LCLS Status Change Request Acknowledge message to the succeeding node.\n6.\ta)\tAt reception of the LCLS-Connect-Control Acknowledge message indicating LCLS disconnection the tMSC server sends the LCLS Status Update message with the LCLS-Status IE set to \"LCLS Not Connected\" to the preceding node.\nb)\tOn the receipt of the LCLS-Notification message the oMSC server sends the LCLS Status Update message with the LCLS-Status IE set to \"LCLS Not Connected\" to the succeeding node.\nNOTE2:\tSince the LCLS disconnection is ordered by the iMSC server it does not forward the LCLS Status Update message to the preceding/succeeding node.",
      "chunk_type": "general",
      "cross_references": [
        "figure_7.2.4.5.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_7.2.4.6",
      "section_id": "7.2.4.6",
      "section_title": "MSC server Initiated when Access Side Termination is isolated in MGW",
      "content": "Figure 7.2.4.6.1 shows the message sequence example for the MSC server initiated LCLS Break for the case when the LCLS negotiation through the Core Network enabled the MSC server to use the option to isolate access side termination from the network side termination.\nIn this example the oMSC server moves the originating UE (access side termination T1) back to the context oC with network side termination T2 and requests the oMGW to be bothway through-connected after the oMSC server determined that local switching should be disconnected and sent to the succeeding node the LCLS Status Change Request message indicating LCLS disconnection preparation.\nFigure 7.2.4.6.1:\tMSC initiated LCLS break, access side termination isolated in MGW\n1.\tThe oMSC server determines that local switching should be disconnected.\n2.\tThe oMSC server sends to: a)\tthe succeeding node the LCLS Status Change Request message with the LCLS-Status-Change IE set to \"LCLS-Disconnection-Preparation\";b)\tthe oMGW request to move the access side termination T1 to context oC with the network side termination T2;\nNOTE 1:\tSteps 2a and 2b can be performed in parallel.\nNOTE 2:\tIf the MSC server has previously used the Change Through-Connection procedure and requested the MGW to change the through-connection of the bearer to inactive instead of using the Isolate Bearer termination procedure then the MSC server will use the Change Through-Connection procedure to request the MGW to change the through-connection of the bearer to be both-way through-connected.\n3.\tThe further steps are performed as defined in clause 7.2.4.2, steps 3 - 12.",
      "chunk_type": "general",
      "cross_references": [
        "clause_7.2.4.2",
        "figure_7.2.4.6.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_7.3.1.1",
      "section_id": "7.3.1.1",
      "section_title": "Principles",
      "content": "The following Re-establishment procedures describe the scenario when a node has requested an LCLS-break for a temporary period while applying a supplementary service or CN intervention and once completed wishes to resume the LCLS connection. If the node which broke the LCLS does not re-establish the LCLS via these procedures, LCLS can also be re-established by another interaction such as handovers (as specified in clause 8) or subsequent LCLS negotiations (e.g. due to supplementary service interaction). If a node in the path does not accept the LCLS Status Change Request (e.g. re-establishment) it shall respond with a LCLS Status Change Request Acknowledge message containing a Result Code IE set to \"Status Change Request rejected\", and not forward the LCLS Status Change Request to the succeeding (or preceding) node.",
      "chunk_type": "general",
      "cross_references": [
        "clause_8"
      ]
    },
    {
      "chunk_id": "ts_23.284_7.3.1.2.1",
      "section_id": "7.3.1.2.1",
      "section_title": "LCLS re-establishment to the network side",
      "content": "The MSC server which initiates LCLS re-establishment shall send the LCLS Status Change Request message with the LCLS-Status-Change IE to the succeeding (or preceding) node to requests a change in LCLS Status in the CN.\nOnce the LCLS Status Change Request message with the LCLS-Status-Change IE set to \"LCLS-Connection-Preparation\" is received from the preceding (or succeeding) node, the MSC server shall check if the requested LCLS Status is allowed and shall send the LCLS Status Change Request Acknowledge message with the correct LCLS-Status-Change IE value and with a Result code back to the preceding (or succeeding) node. The Result code indicates whether LCLS Status Change Request is accepted or not.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_7.3.1.2.2",
      "section_id": "7.3.1.2.2",
      "section_title": "LCLS re-establishment to the BSS",
      "content": "Once the LCLS-Status-Change Request message with LCLS-Status-Change IE or the LCLS-Status-Change Request Acknowledge message with the LCLS-Status-Change IE sent from the preceding (or succeeding) node is received, the MSC sever shall check if the requested LCLS Status is allowed or not and if it is allowed then the MSC Server shall send the LCLS-CONNECT-CONTROL message with LCLS-Connection-Status-Control set to \"connect\" to the BSS",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_7.3.1.2.3",
      "section_id": "7.3.1.2.3",
      "section_title": "LCLS Status update to the network side",
      "content": "Once the LCLS-Notification message or LCLS-Connect-Control-ACK message sent from BSS is received by MSC server, and if the received LCLS-BSS-Status indicates local switching, the MSC server shall send to the succeeding (or preceding) node the LCLS Status Update message with the LCLS-Status IE set to \"LCLS Connected\" if the same LCLS status update is not already received from the succeeding (or preceding) node..",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_7.3.1.3",
      "section_id": "7.3.1.3",
      "section_title": "GMSC server actions",
      "content": "Once the LCLS Status Change Request message with the LCLS-Status-Change IE sent from preceding (or succeeding) node is received, the GMSC sever shall check if the requested LCLS Status is allowed or not and if it is allowed the GMSC server shall forward the LCLS Status Change Request message with correct value to the succeeding (or preceding) node.\nAt the reception of the LCLS-Status-Change Request Acknowledge message from the succeeding/preceding node the GMSC server shall forward the received message to the preceding/succeeding node.\nOnce the LCLS-Status-Update message with the LCLS Status IE sent from preceding/succeeding node is received by GMSC server,\n-\tthe GMSC Server shall forward the message to the succeeding/preceding node if the same request is not already received from the succeeding/preceding node.\n-\tthe GMSC Server shall not forward the message if the same request is already received from the succeeding/preceding node.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_7.3.1.4",
      "section_id": "7.3.1.4",
      "section_title": "BSS actions",
      "content": "On receipt of the LCLS-Connect-Control message with the LCLS-Connection-Status-Control IE set to \"connect LCLS\" the BSS may establish LCLS (following the principles described in clause 4.4) and notify the CN as described for LCLS call establishment.",
      "chunk_type": "general",
      "cross_references": [
        "clause_4.4"
      ]
    },
    {
      "chunk_id": "ts_23.284_7.3.2",
      "section_id": "7.3.2",
      "section_title": "BSS Initiated",
      "content": "BSS Initiated LCLS re-establishment is not supported for LCLS.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_7.3.3.1",
      "section_id": "7.3.3.1",
      "section_title": "Principles",
      "content": "The following Re-establishment procedures describe the scenario when a node has requested an LCLS-break for a temporary period while applying a supplementary service or CN intervention and once completed wishes to resume the LCLS connection. If the node which broke the LCLS does not re-establish the LCLS via these procedures, LCLS can also be re-established by another interaction such as handovers (as specified in clause 8) or subsequent LCLS negotiations (e.g. due to supplementary service interaction). If a node in the path does not accept the LCLS Status Change Request (e.g. re-establishment) it shall respond with a LCLS Status Change Request Acknowledge message containing a Result Code IE set to \"Status Change Request rejected\", and not forward the LCLS Status Change Request to succeeding/preceding node.",
      "chunk_type": "general",
      "cross_references": [
        "clause_8"
      ]
    },
    {
      "chunk_id": "ts_23.284_7.3.3.2",
      "section_id": "7.3.3.2",
      "section_title": "Intermediate Node / GMSC server actions",
      "content": "When an intermediate node or the GMSC server determines that local switching should be re-established it shall send the LCLS Status Change Request message with the LCLS-Status-Change IE set to \"LCLS-Connection-Preparation\" to the preceding and to the succeeding node.\nThe intermediate node or the GMSC Server not initiating the LCLS re-establishment shall check if the requested LCLS Status is allowed or not and if it is allowed the intermediate node shall forward the received LCLS Status Change Request message.\nOn receipt of the LCLS Status Change Request Acknowledge message with the LCLS-Status-Change IE set to \"LCLS Connection Preparation\" and a Result code IE from the preceding/succeeding node, the intermediate node or the GMSC Server not initiating the LCLS re-establishment shall forward message to the succeeding/preceding node. The Result code indicates whether LCLS Status Change Request is accepted or not.\nOn receipt of the LCLS Status Update message with the LCLS-Status IE set to \"LCLS Connected\" from the preceding/succeeding node:\n-\tthe intermediate node or the GMSC Server not initiating the LCLS re-establishment shall forward the message to the succeeding/preceding node.\n-\tthe intermediate node or the GMSC Server initiating the LCLS re-establishment shall not forward the message.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_7.3.3.3",
      "section_id": "7.3.3.3",
      "section_title": "MSC server actions",
      "content": "When the LCLS Status Change Request message with the LCLS-Status-Change IE set to \"LCLS Connection Preparation\" is received from the succeeding (or preceding) node, the MSC Server shall check if the requested LCLS status is allowed or not and if it is allowed then the MSC Server shall send to BSS the LCLS-Connect-Control message with the LCLS-Connection-Status-Control IE set to \"connect\". The MSC server shall send LCLS Status Change Request Acknowledge message with the correct LCLS-Status-Change IE value and a Result code back to the preceding (or succeeding) node. The Result code indicates whether LCLS Status Change Request is accepted or not.\nAt reception of the LCLS-Connect-Control Acknowledge message or the LCLS-Notification message with the LCLS-BSS-Status IE set to \"Call is Locally switched with requested LCLS configuration\", the MSC server shall send to the succeeding (or preceding) node the LCLS Status Update message with the LCLS-Status IE set to \"LCLS Connected\" if the same LCLS status update is not already received from the succeeding (or preceding) node.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_7.3.3.4",
      "section_id": "7.3.3.4",
      "section_title": "BSS actions",
      "content": "The BSS shall perform the same actions as described in clause 7.3.1.4.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_7.3.1.4"
      ]
    },
    {
      "chunk_id": "ts_23.284_7.3.4.1",
      "section_id": "7.3.4.1",
      "section_title": "LCLS Re-establishment Connection Model for LCLS",
      "content": "Figure 7.3.4.1.1 shows the network model for a LCLS Re-establishment of the mobile call. The \"squared\" line represents the call control signalling. The \"dotted/full\" line represents the bearer terminations in the MGW. Bearer termination T1 and T6 are used for the bearer towards BSC and bearer termination T2, T3, T4 and T5 are used for the bearer towards preceding/succeeding MGW.\nConnection Model 1: Before LCLS Re-establishment\nConnection Model 2: After LCLS Re-establishment\nFigure 7.3.4.1.1: LCLS Re-establishment (Network model)",
      "chunk_type": "general",
      "cross_references": [
        "figure_7.3.4.1.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_7.3.4.2",
      "section_id": "7.3.4.2",
      "section_title": "MSC server Initiated Example Call Flow",
      "content": "Figure 7.3.4.2.1 shows the message sequence example for the MSC server initiated LCLS Re-establishment. In the example the MSC server trigger the LCLS negotiation in the CN. The BSS establishes local switching when both legs are informed LCLS is allowed.\nFigure 7.3.4.2.1: MSC server Initiated LCLS Re-establishment\n1.\tThe oMSC server determines that local switching should be re-established. The oMSC server sends to the succeeding node the LCLS Status Change Request message with the LCLS-Status-Change IE set to \"LCLS-Connection-Preparation\".\n2.\tThe iMSC server transfers the LCLS Status Change Request message to the tMSC server.\n3.\tThe tMSC server sends LCLS Status Change Request Acknowledge message to the preceding node.\n4.\tThe tMSC server sends to the tBSS the LCLS-Connect-Control message with the LCLS-Connection-Status-Control IE set to \"connect\".\nNOTE:\tStep 3 and 4 can be performed paralleled.\n5.\tThe iMSC server transfers the LCLS Status Change Request Acknowledge message to the oMSC server.\n6.\tThe oBSS confirms the reception of the LCLS connect request but does not change the LCLS-BSS status since LCLS connect request is not yet received for the associated call leg.\n7.\tOn receipt of LCLS Status Change Request Acknowledge message, the oMSC server sends to the oBSS the LCLS-Connect-Control message with the LCLS-Connection-Status-Control IE set to \"connect\".\n8.\tBecause LCLS connect requests are received for the associated call leg, the oBSS/tBSS re-establish the LCLS.\n9.\tThe oBSS reports the LCLS connection by sending the LCLS-Connect-Control Acknowledge message to the oMSC server.\n10.\tThe tBSS reports the LCLS connection by sending the LCLS-Notification message to the tMSC server.\n11.\tThe oMSC server sends the LCLS Status Update message with the LCLS-Status IE set to \"LCLS Connected\" to the succeeding node.\n12.\tThe iMSC server transfers the LCLS Status Update message to the tMSC server.\n13.\tThe tMSC server sends the LCLS Status Update message with the LCLS-Status IE set to \"LCLS Connected\" to the preceding node. The iMSC server does not forward the LCLS Status Update message to the oMSC server since the same LCLS Status is already received from the oMSC server.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_7.3.4.2.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_7.3.4.3",
      "section_id": "7.3.4.3",
      "section_title": "Intermediate Node / GMSC Server Initiated Example Call Flow",
      "content": "Figure 7.3.4.3.1 shows the message sequence example for the Intermediate Node / GMSC Server initiated LCLS Re-establishment.\nFigure 7.3.4.3.1: Intermediate Node / GMSC Server Initiated LCLS Re-establishment\n1.\tThe iMSC server determines that local switching should be established.\n2.\tThe iMSC server sends the LCLS Status Change Request message with the LCLS-Status-Change IE set to \"LCLS-Connection-Preparation\" to the oMSC server.\n3.\tThe iMSC server sends the LCLS Status Change Request message with the LCLS-Status-Change IE set to \"LCLS-Connection-Preparation\" to the tMSC server.\n4.\tThe oMSC server sends LCLS Status Change Request Acknowledge message to the succeeding node.\n5.\tThe tMSC server sends LCLS Status Change Request Acknowledge message to the preceding node.\n6.\tThe oMSC server sends to the oBSS the LCLS-Connect-Control message with the LCLS-Connection-Status-Control IE set to \"connect\".\n7.\tThe oBSS confirms the reception of the LCLS connect request but does not change the LCLS-BSS status since LCLS connect request is not yet received for the associated call leg.\n8.\tThe tMSC server sends to the tBSS the LCLS-Connect-Control message with the LCLS-Connection-Status-Control IE set to \"connect\".\n9a.\tThe tBSS reports the LCLS connection by sending the LCLS-Connect-Control Acknowledge message to the tMSC server.\n9b.\tThe oBSS reports the LCLS connection by sending the LCLS-Notification message to the oMSC server.\n10.\tThe tMSC server sends the LCLS Status Update message with the LCLS-Status IE set to \"LCLS Connected\" to the preceding node.\n11.\tThe oMSC server sends the LCLS Status Update message with the LCLS-Status IE set to \"LCLS Connected\" to the succeeding node.\nNOTE:\tSince LCLS re-establishment is ordered by the iMSC server it does not forward the LCLS Status Update message to the preceding/succeeding node.",
      "chunk_type": "procedure",
      "cross_references": [
        "figure_7.3.4.3.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_7.3.4.4",
      "section_id": "7.3.4.4",
      "section_title": "MSC server Initiated when Access Side Termination is isolated in MGW",
      "content": "Figure 7.3.4.4.1 shows the message sequence example for the MSC server initiated LCLS Re-establishment for the case when the LCLS negotiation through the Core Network enabled the MSC server to use the option to isolate access side termination from the network side termination.\nIn this example the oMSC server requests the oMGW to interrupt the communication on the bearer by using the Isolate Bearer Termination Procedure (i.e. to isolate access side termination T1 from the network side termination T2) after the oBSS re-established local switching.\nFigure 7.3.4.4.1: MSC server Initiated LCLS Re-establishment, access side termination isolated in MGW\n1 - 10.\tWhen the oMSC server determines that local switching should be re-established it initiates the LCLS Re-establishment procedure specified in clause 7.3.4.2, steps 1 – 10.\n11.\ta)\tThe oMSC server send to the oMGW request to isolate the access side termination T1 from the network side termination T2.\nNOTE 1:\tThe MSC server can also use the Change Through-Connection procedure and requests the MGW to change the through-connection of the bearer to inactive instead of using of the Isolate Bearer termination procedure, see 3GPP TS 23.205 [2].\nb)\tThe oMSC server sends the LCLS Status Update message with the LCLS-Status IE set to \"LCLS Connected\" to the succeeding node.\nNOTE 2:\tSteps 11a and 11b can be performed in parallel.\n12.\tThe iMSC server transfers the LCLS Status Update message to the tMSC server.\n13.\tThe tMSC server sends the LCLS Status Update message with the LCLS-Status IE set to \"LCLS Connected\" to the preceding node. The iMSC server does not forward the LCLS Status Update message to the oMSC server since the same LCLS Status is already received from the oMSC server.",
      "chunk_type": "general",
      "cross_references": [
        "clause_7.3.4.2",
        "figure_7.3.4.4.1",
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.1",
      "section_id": "8.1",
      "section_title": "UMTS to UMTS",
      "content": "For Inter-MSC Handover UMTS to UMTS the Anchor MSC server shall include the GCR IE, the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE in IAM to the Target MSC server. The Target MSC server may modify the LCLS-Configuration-Preference IE based on its own LCLS configuration requirements. The rules for LCLS Configuration settings are defined in clause 4.2. The Target MSC server shall include the final LCLS-Configuration-Preference IE and the LCLS-Negotiation Response IE in the APM or ACM or CPG. The Target MSC server may then use the LCLS parameters to enable LCLS if a subsequent UTRAN to GERAN handover occurs.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_4.2"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.2.1",
      "section_id": "8.2.1",
      "section_title": "General",
      "content": "The procedures specified in 3GPP TS 23.205 [2] for BICC based CS Core Network and 3GPP 23.231 [3] for SIP-I based CS Core Network shall be followed. The following clauses describe the additional requirements for LCLS functionality.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.2.2.1.1",
      "section_id": "8.2.2.1.1",
      "section_title": "General",
      "content": "When LCLS is not established for a call and an intra-MSC UMTS to GSM handover occurs that makes the call local, the call can be locally switched in the Target BSS. The following clauses describe the additional requirements for intra-MSC UMTS to GSM handover that establish LCLS.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_8.2.2.1.2",
      "section_id": "8.2.2.1.2",
      "section_title": "Relocation Required",
      "content": "When the MSC server receives the Relocation Required message from the serving RNC, it requests the MGW to seize a TDM circuit if AoTDM or an IP termination if AoIP for the termination to the Target BSS as for the normal handover procedure.\nThe MSC server sends the Handover Request message to the Target BSS as for the normal case but shall include the GCR IE, the LCLS-Configuration IE and the LCLS-Connection-Status-Control IE set to \"Connect\".",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_8.2.2.1.3",
      "section_id": "8.2.2.1.3",
      "section_title": "Handover Request Acknowledge",
      "content": "If the Target BSS supports LCLS feature then it shall include the LCLS-BSS-Status IE in the Handover Request Acknowledge message in order to inform the MSC Server that the BSS supports the LCLS feature.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_8.2.2.1.4",
      "section_id": "8.2.2.1.4",
      "section_title": "Handover Complete",
      "content": "The target BSS sends Handover Complete including the LCLS-BSS-Status IE, which indicates to the MSC server that the call is locally switched.\nNOTE:\tThe target BSS will send LCLS-Notification message to the MSC at the other call leg indicating the call is locally switched.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_8.2.2.1.5",
      "section_id": "8.2.2.1.5",
      "section_title": "Example",
      "content": "8.2.2.1.5.1\tConnection Model\nFigure 8.2.2.1.5.1.1 shows the network model for the Basic Intra-MSC UMTS to GSM handover when LCLS is established as a result of the handover. The dashed line in green represents call control signalling and the dashed line in blue represents the user plane connection path via the core network, which should be used if LCLS is not established or after LCLS is broken. The non-dotted lines represent the bearer carrying real user plane data. In MGW-1 the bearer termination TS is used for the bearer towards RNC, bearer termination TA is used for the bearer towards the succeeding/preceding MGW, that is MGW-2 and bearer termination TT is used towards the Target BSS. In MGW-2 the bearer termination T2 is used for the bearer towards BSS-2 and bearer termination T1 is used for the bearer towards MGW-1.\nIn this example scenario the Handover Device is located in MGW-1 selected for the call establishment by the MSC-1 server, which controls the call and mobility management.\nConnection Model 1: Before Handover\nConnection Model 2: During Handover, TT is isolated from TS, TA is one-way connected to TT\nConnection Model 3: After Handover, LCLS is established and both call legs are in Target BSS (=BSS-2)\nFigure 8.2.2.1.5.1.1: Basic Intra-MSC UMTS to GSM Handover (network model)\n8.2.2.1.5.2\tBasic Sequence for Intra-MSC UMTS to GSM Handover that establishes Local Switching\nFigure 8.2.2.1.5.2.1: Intra-MSC UMTS to GSM Handover that establishes Local Switching\n1.\tIu Relocation Required message is received from the RNC requesting an intra-MSC UMTS to GSM handover. The call is currently not locally switched.\n2.\tThe MSC-1 server requests the MGW-1 to reserve circuit or Connection Point towards the Target-BSS\n3.\tThe MSC-1 server sends the Handover Request message to the Target BSS with the GCR IE, the LCLS-Configuration IE and the LCLS-Connection-Status-Control IE indicating \"connect\" to through-connect the local call.\n4.\tTarget BSS performs call leg correlation with GCR to determine if another call leg is active with the same GCR. The Target BSS reports in Handover Request Acknowledge message that the local call was found but LCLS is not yet established.\n4a.\tThe BSS-2 notifies MSC-2 server the LCLS status is changed by sending the LCLS_Notification message with the LCLS-BSS-Status IE set to \"Call not yet locally switched\".\n4b.\tIf the call has been answered and MSC-2 server permits LCLS to be connected, then the MSC-2 server sends to the BSS-2 the LCLS_Connect_Control message with the LCLS-Connection-Status-Control IE set to \"connect\".\n4c.\tThe BSS-2 returns the LCLS_Connect_Control_ACK message with the LCLS-BSS-Status IE set to \"Call not yet locally switched\".\n5.\tThe MSC-1 server triggers the Relocation Command message.\n6.\tThe UE-1 is detected at the target BSS. Then the Target BSS/BSS-2 can internally transmit the user plane data.\n7.\tIn the Handover Complete message the Target-BSS indicates to the MSC-1 server in the LCLS-BSS-Status IE that the call has been locally switched.\n8.\tThe MSC-1 server requests the old serving RNC to release the old call leg.\n9.\tThe Serving BSS-2 informs the MSC-2 server that the call has been locally switched via LCLS_Notification message.\n10.\tReleasing of the old call leg to the RNC is completed.\n11.\tThe termination Ts to the old RNC is removed from the Access MGW-1.\n12.\tThe MSC-1 server informs succeeding CN nodes that LCLS is connected.\nNOTE :\tWhen BICC is used as the call control protocol the APM message is sent. When SIP-I is used the INFO request with the encapsulated APM message is sent.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.2.2.1.5.1.1",
        "figure_8.2.2.1.5.2.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.2.2.2",
      "section_id": "8.2.2.2",
      "section_title": "Intra-MSC UMTS to GSM Handover that does not establish LCLS",
      "content": "Intra-MSC UMTS to GSM Handover that does not establish LCLS follows the procedures in 8.2.2.1. The differences are:\n-\tin the step 7, the Target BSS informs MSC-1 server that the call is not locally switched in the Handover Complete message.\n-\tsteps 4a, 4b, 4c, 9 and step 12 are not triggered.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_8.2.3.1.1",
      "section_id": "8.2.3.1.1",
      "section_title": "General",
      "content": "When LCLS is not established for a call and an inter-MSC UMTS to GSM handover occurs that makes the call local, the call can be locally switched in the Target BSS. The following clauses describe the additional requirements for inter-MSC handovers that establish LCLS.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_8.2.3.1.2",
      "section_id": "8.2.3.1.2",
      "section_title": "MSC-1 / MGW-1",
      "content": "8.2.3.1.2.1\tRelocation Required\n8.2.3.1.2.1\tRelocation Required\nWhen MSC-1 Server receives the Relocation Required message from the serving RNC and determines that the call shall be handed over to the Target MSC Server, it shall send the GCR of the call, the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE to the Target MSC Server in a MAP Prepare-Handover_Request message.\n8.2.3.1.2.2\tHandover Request Acknowledge\nWhen MSC-1 Server receives the MAP Prepare_Handover_Response including Handover_Request_Acknowledgement message with a LCLS-BSS-Status IE the Anchor MSC-1 Server configures the bearer terminations in MGW-1 and sends the GCR IE, the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE to the target MSC-Server.\n8.2.3.1.2.3\tBearer establishment between MGW-1 and Target MGW\nThe handling of the bearer establishment between MGW-1 and Target MGW is as described in clause 6.1 for a Basic Mobile Originating Call. The MSC server shall also use the Change Flow Direction procedure to request the MGW-1 to set the Handover Device to the initial state.\n8.2.3.1.2.4\tMGW Flow Direction Control\nIn accordance with the normal handover case the MGW-1 isolates the termination towards the Target MGW (T2) from the termination to the RNC(TS) and configures the Anchor termination (T1) one-way DL towards the Target MGW termination (T2). Termination to the RNC (TS) is both-way connected to Anchor termination (T1) since it is also receiving UL user data from termination to the RNC (TS).\n8.2.3.1.2.5\tRelocation Command/Handover Detect\nThe MSC-1 Server uses the Change Flow Direction procedure to requests the MGW-1 to set the Handover Device to intermediate state.\n8.2.3.1.2.6\tHandover Complete\nWhen the MSC-1 Server receives the Handover Complete message, it releases the related Iu-interface connection towards RNC. The MSC-1 Server also requests MGW-1 to set the Handover Device to its final state by removing the bearer termination towards the RNC.\nThe MSC-1 server shall send to the adjacent call node the LCLS-Status-Update message with the LCLS-Status IE indicating that LCLS is established.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.2.3.1.3",
      "section_id": "8.2.3.1.3",
      "section_title": "Target MSC Server / Target MGW",
      "content": "8.2.3.1.3.1\tPrepare Handover Request message and MGW selection\nThe Target MSC server selects the Target MGW when it receives MAP Prepare Handover Request message. The Target MSC server sends the Handover Request message to the Target BSS as for the normal case but shall include the GCR IE, the LCLS-Configuration IE and the LCLS-Connection-Status-Control IE set to \"Connect\".\n8.2.3.1.3.2\tHandover Request Acknowledge\nIf the Target BSS supports the LCLS feature it shall include the LCLS-BSS-Status IE in the Handover Request Acknowledge message in order to inform the Target MSC Server that the BSS supports the LCLS feature. The Target MSC Server sends the same information in the MAP Prepare Handover Response message to the MSC-1 Server.\n8.2.3.1.3.3\tBearer establishment towards Target BSS\nWhen the Target MSC Server has selected the Target MGW it requests the Target MGW to seize a TDM circuit if AoTDM using the Reserve Circuit procedure, or an IP termination if AoIP using the reserve Connection Point procedure as for the normal handover procedure. The Target MSC Server sends the Handover Request message to the Target BSS containing the CIC for AoTDM or the IP addresses and UDP ports received from the target MGW if AoIP.\n8.2.3.1.3.4\tBearer establishment between MGW-1 and Target MGW\nThe handling of the bearer establishment between MGW-1 and Target MGW is as described for basic mobile terminating call in clause 6.2.\n8.2.3.1.3.5\tHandover Complete\nWhen LCLS has been established during the handover procedure, the target BSS informs the target MSC-Server that the call has been locally switched in the Handover Complete message.\nNOTE:\tThe target BSS will send LCLS-Notification message to the MSC at the other call leg indicating the call is locally switched.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.2"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.2.3.1.4",
      "section_id": "8.2.3.1.4",
      "section_title": "Example of Inter-MSC UMTS to GSM Handover that establishes Local Switching",
      "content": "8.2.3.1.4.1\tConnection Model\nFigure 8.2.3.1.4.1.1 shows the network model for the Basic Inter-MSC UMTS to GSM handover when LCLS is established as a result of the handover. The dashed line in green represents call control signalling and the dashed line in blue represents the user plane connection path via the core network, which should be used if LCLS is not established or after LCLS is broken. The non-dotted lines represent the bearer carrying real user plane data. In MGW-1 the bearer termination TS is used for the bearer towards RNC, bearer termination T1 is used for the bearer towards the succeeding/preceding MGW, that is MGW-2 and bearer termination T2 is used towards the Target MGW. In MGW-2 the bearer termination T4 is used for the bearer towards BSS-2 and bearer termination T3 is used for the bearer towards MGW-1. In Target-MGW the bearer termination TT is used towards the Target-BSS and bearer termination T5 is used towards MGW-1.\nIn this example scenario the Handover Device is located in MGW-1 selected for the call establishment by the MSC-1 server, which controls the call and mobility management.\nConnection Model 1: Before Handover\nConnection Model 2: During Handover, T2 is isolated from TS, T1 is one-way connected to T2\nConnection Model 3: After Handover, LCLS is established and both call legs are in Target BSS (=BSS-2)\nFigure 8.2.3.1.4.1.1: Basic Inter-MSC UMTS to GSM Handover (network model)\n8.2.3.1.4.2\tBasic Sequence for Inter-MSC UMTS to GSM Handover that establishes Local Switching\nFigures 8.2.3.1.4.2.1 and 8.2.3.1.4.2.2 show the message sequence example for the Basic Inter-MSC UMTS to GSM Handover shown in the corresponding network model Figure 8.2.3.1.4.1.1. The Handover Device is located in MGW-1 selected for the call establishment by the MSC-1 server, which controls the call and the mobility management. The description is based on 3GPP TS 23.009 [9], 3GPP TS 23.205 [2] and 3GPP TS 23.231 [3].\nFigure 8.2.3.1.4.2.1: Initial phase of Inter-MSC UMTS to GSM Handover establishing Local Switching\n1.\tIu Relocation Required Request is received from RNC requesting an inter-MSC handover. The call is currently not locally switched.\n2.\tThe MSC-1 server determines that inter-MSC handover is required and sends the MAP Prepare-Handover Request message to target MSC-Server which includes LCLS Negotiation Request IE, the LCLS-Configuration-Preference IE and GCR IE.\n3a, b.\tThe Target-MSC-Server requests the target MGW to reserve circuit or Connection Point towards the Target-BSS\n4.\tThe Target MSC-Server sends Handover Request message to the Target BSS with GCR, the LCLS-Configuration IE and the LCLS-Connection-Status-Control IE indicating \"connect\" to through-connect the local call.\n5.\tTarget BSS performs call leg correlation with GCR to find if another call leg is active with same GCR. The BSS reports in Handover Request Acknowledge message that the local call was found but LCLS is not yet established.\n5a.\tThe BSS-2 notifies MSC-2 server the LCLS status is changed by sending the LCLS_ Notification message with the LCLS-BSS-Status IE set to \"Call not yet locally switched\".\n5b.\tIf the call has been answered and MSC-2 server permits LCLS to be connected, then the MSC-2 server sends to the BSS-2 the LCLS_Connect_Control message with the LCLS-Connection-Status-Control IE set to \"connect\".\n5c.\tThe BSS-2 returns the LCLS_Connect_Control_ACK message with the LCLS-BSS-Status IE set to \"Call not yet locally switched\".\n6a, b.\t(These signalling steps are only applicable to AoIP.) When the Target MSC-Server receives the BSSMAP Handover Request-Ack message, it sends the BSC-B IP address and UDP Port number to the MGW-B using the Configure RTP Connection Point procedure.\n7.\tThe Target MSC-Server sends the MAP Prepare Handover Response message to MSC-1 server.\n8a, b.\tIn accordance with normal handover the MSC-1 server requests MGW-1 to isolate the termination towards Target MGW (T2) from the termination to the Serving BSS-1 (TS) and to configure the Anchor termination (T1) one-way DL towards the Target MGW termination (T2).\n9.\tMSC-Server 1 sends IAM (Initial Address Message) to Target MSC-Server including GCR, the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE.\nNOTE 1:\tCorresponding SIP-I signalling is specified in 3GPP TS 23.231 [3].\nNOTE 2:\tThe LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE in step 9 can be different from LCLS Negotiation Request IE and the LCLS-Configuration-Preference IE in step 2, because step 9 is BICC signalling and the LCLS Negotiation Request and the LCLS-Configuration-Preference IE values can be changed by intermediate MSC-Servers.\n10a, b.\tTarget MSC-Server reserves bearer connection T5 towards MGW-1.\n11.\tAfter Target MGW has replied with the bearer address and the binding reference (Step 10b), the Target MSC-Server returns APM with selected codec, the LCLS-Negotiation Response IE and the LCLS-Configuration-Preference IE.\nFigure 8.2.3.1.4.2.2: Completion phase of Inter-MSC UMTS to GSM Handover establishing Local Switching\n12.\tTarget MSC-Server sends ACM (Address Complete Message). Target MSC-Server awaits the capturing of the UE-1 on the radio path when the ACM is sent and MSC-1 server initiates the handover execution when receiving ACM.\n13 - 18. When the local switching has been established during the handover procedure, the target BSS shall inform the target MSC-Server that the call has been locally switched in HANDOVER COMPLETE, and the target BSS shall also send a new message LCLS-Notification with LCLS-BSS-Status IE to inform the MSC-2 server that the local switching has been established. In steps 16a and 16b the MSC-1 server configures MGW-1 for the completion of the handover.\n19.\tA-HO-DETECT/COMPLETE when received, is included in the MAP-Send-End-Signal request and send back to the MSC-1 server.\n20.\tTarget MSC-Server sends ANSWER when A-HO-DETECT/COMPLETE is received.\n21a, b.\tMSC-1 Server releases the call leg in RNC.\n22a, b.\tMSC-1 server releases the bearer termination towards RNC.\n23.\tTarget MSC-Server informs the MSC-1 server about the LCLS Status.\n24.\tMSC-1 server (Anchor MSC-Server) sends LCLS-Status-Update message to the far end MSC-2 server.\nNOTE 3:\tWhen BICC is used as the call control protocol the APM message is sent. When SIP-I is used the INFO request with the encapsulated APM message is sent.\n25.\tLocal switching is established in the BSS.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.2.3.1.4.1.1",
        "ts_23.205_figure_8.2.3.1.4.2.1",
        "figure_8.2.3.1.4.2.2",
        "ts_23.009",
        "ts_23.205",
        "ts_23.231"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.2.3.2",
      "section_id": "8.2.3.2",
      "section_title": "Inter-MSC UMTS to GSM Handover that does not establish Local Switching",
      "content": "Inter-MSC UMTS to GSM Handover that does not establish Local Switching follows the procedures in 8.2.3.1. The differences are:\n-\tin the step 17, the target BSS informs target MSC that the call is not locally switched in the Handover Complete.\n-\tsteps 5a, 5b, 5c 18, step 23, step 24 and step 25 are not triggered.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_8.3.1.1",
      "section_id": "8.3.1.1",
      "section_title": "General",
      "content": "When a call is locally switched through the BSS and an intra-MSC GSM to UMTS handover occurs, the LCLS shall be broken and the user plane shall be connected via the core network. The Intra-MSC GSM to UMTS relocation procedure specified in 3GPP TS 23.205 [2] and 3GPP TS 23.231 [3] shall be followed. The following clauses describe the additional requirements for intra-MSC GSM to UMTS handovers of LCLS related calls.\nTo this end the BSS which is in local switch which is serving the user equipment which is not moving to the RNC bicasts user data UL to the core network so that immediately the user equipment which is moving is attached to the RNC it can receive DL data from the core network.\nDuring a Locally Switched (intra-BSS) Connection when no bicasting occurs there is no data transmission through the core network. In this release the use plane is kept active and therefore does not need to be re-activated when the LCLS is broken due to GSM to UMTS handover out of LCLS.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.205",
        "ts_23.231"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.3.1.2",
      "section_id": "8.3.1.2",
      "section_title": "Handover Required",
      "content": "When the MSC server receives the Handover Required message from the serving BSS, it requests the MGW to provide a binding reference and a bearer address using the Prepare Bearer procedure. The MSC server shall use the Change Flow Direction procedure to request the MGW to set the Handover Device to the initial state, see clause 8.4.1.1.3.",
      "chunk_type": "general",
      "cross_references": [
        "clause_8.4.1.1.3"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.3.1.3",
      "section_id": "8.3.1.3",
      "section_title": "Iu Relocation Request Acknowledge",
      "content": "Upon receipt of the Relocation Request Acknowledge message, the MSC Server shall send to the adjacent call node the LCLS-Status-Change-Request message to indicate \"LCLS Disconnection-Preparation-for handover\".\nWhen the far end MSC server receives the LCLS-Status-Change-Request message indicating LCLS Disconnection preparation-for-handover it shall send to the BSS the LCLS_Connect_Control message with the LCLS-Connection-Status-Control IE indicating \"BicastatHandover\". When the LCLS_Connect_Control acknowledge message is received from the BSS, the far end MSC server shall return the LCLS Status Change Request Acknowledge message indicating \"LCLS Disconnection-Preparation-for-handover\" and a Result code indicating LCLS Status Change Request accepted.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_8.3.1.4",
      "section_id": "8.3.1.4",
      "section_title": "Handover Command/Iu Relocation Detect",
      "content": "When the MSC server sends the Handover Command message or alternatively if it receives the Relocation Detect message, if the MSC server followed the MGW control procedures for a non-LCLS call and kept the Termination to the Serving BSS connected then it shall use the Change Flow Direction procedure to requests the MGW to set the Handover Device to intermediate state. However if the MSC server isolated TS and set TT to bothway through-connected then no MGW control procedure is required at this point.\nUpon receipt of the Relocation Detect message the MSC Server shall send to the adjacent call node the LCLS-Status-Change-Request message with the LCLS-Status-Change-Request IE set to \"Indicate DL data after Handover\".\nWhen the far end MSC server receives the LCLS-Status-Change-Request message with the LCLS-Status-Change-Request IE set to \"Indicate DL data after Handover\" it shall send to the BSS the LCLS_Connect_Control message with the LCLS-Connection-Status-Control IE indicating \"DL Data_at_Handover\" and after reception of the LCLS_Connect_Control acknowledge message from the BSS, return the LCLS-Status-Change-Request-Acknowledge message with \"Indicate DL data after Handover\" and a Result code indicating LCLS Status Change Request accepted.\nNOTE:\tthis informs this call leg in the BSS that the other UE has left the BSS and has been detected in the new BSS and as such DL data from the CN is now coming from that UE.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_8.3.1.5",
      "section_id": "8.3.1.5",
      "section_title": "Iu Relocation Complete",
      "content": "When the MSC server receives the Iu Relocation Complete message, it releases the A-interface line towards the serving BSS. The MSC server also requests the MGW to set the Handover Device to its final state by removing the bearer termination (TS) towards the serving BSS.\nThe MSC server shall send to the adjacent call node the LCLS-Status-Update message with the LCLS-Status IE indicating the LCLS is disconnected.\nWhen the serving BSS receives Clear Command it shall release any local switch path. The serving BSS shall inform the far end MSC server that LCLS is broken with the LCLS-Notification message.\nNOTE:\tThe LCLS_Notification message does not need to be sent to the Anchor MSC Server since the Clear Complete message received from the serving BSS also means that LCLS is disconnected.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_8.3.1.6.1",
      "section_id": "8.3.1.6.1",
      "section_title": "Connection Model",
      "content": "Figure 8.3.1.6.1.1 shows the network model for Intra-MSC GSM to UMTS Handover, where the call leg pertinent to the UE-1 is handed over from the serving BSS-1 to the Target RNC. BSS-1 is the same as BSS-2 when LCLS is established for the call. The bearer termination T2 is used for the bearer towards BSS-2, which is not affected by this handover. Bearer termination TS is used for the bearer towards BSS-1 and the bearer terminations T1 and TA are used for the bearer towards the succeeding/preceding MGW. Bearer termination TT is for the bearer termination towards the Target RNC. The colours and line types used in the figure are defined differently from 3GPP TS 23.205 [2] to indicate LCLS specific issues.\nConnection Model 1: The call is locally switched\nConnection Model 2: MGW-1 is both-way connected between Ta and Tt, Ts is isolated; BSS-2 starts to bicast data UL\nConnection Model 3: UE has moved to Target RNC but Iu Relocation Detect has not yet been received by MSC-S-1\nConnection Model 4: LCLS is released in BSS-2, old serving Termination Ts is removed\nFigure 8.3.1.6.1.1: Network model for Intra-MSC GSM to UMTS Handover that breaks LCLS\n8.3.1.6.2\tBasic Sequence for GSM to UMTS Handover that breaks Local Switching\nFigure 8.3.1.6.2.1 shows the signalling flow for GSM to UMTS handover that breaks Local Switching.\nFigure 8.3.1.6.2.1: Intra-MSC GSM to UMTS Handover that terminates Local Switching\n1.\tThe Handover Required message is received from BSS-1 requesting an intra-MSC GSM to UMTS handover. The call is currently locally switched so the MSC-1 server can know that the GSM to UMTS handover at one end will break local switch (the local switch is not broken in the serving BSS (BSS-1) until the UE-1 has moved from BSS-1 and the MSC-1 server has sent the Clear Command message to the BSS-1).\n2.\tIn this example the Anchor MSC-1 server requests from its MGW-1 the seizure of the bearer termination TT towards the Target RNC and through-connects it bothway to TA. Additionally it isolates the old serving Termination TS. This makes the GSM to UMTS handover more efficient than current non-LCLS GSM to UMTS handovers as immediately when the UE-1 is handed over to the target RNC it will be able to send UL user data to the UE-2.\nNOTE 1:\tThis flow shows the termination to the Target RNC as always connected bothway. This is a change to the existing call handling which would normally connect the termination as one-way and then change to bothway after receiving the Iu Relocation Detect message. However the termination does not need to be connected one-way and will in fact make the break in speech worse since UL data cannot be sent from the UE-1 until the MGW topology is modified, also it saves the additional intermediate H.248 modification step.\n3.\tAnchor MSC-1 server sends the Iu Relocation Request message to the target RNC.\n4.\tThe target RNC returns the Iu Relocation Request Acknowledge message.\n5.\tAnchor MSC-1 server shall send the LCLS-Status-Change-Request message to the succeeding MSC server asking it to prepare for LCLS disconnection due to handover to trigger the far end MSC-2 server to send the LCLS-Connect-Control message to BSS-2.\nNOTE 2:\tWhen BICC is used as the call control protocol the APM message is sent. When SIP-I is used the INFO request with the encapsulated APM message is sent.\n5a.\tThe far end MSC-2 server requests the BSS-2 to start sending data UL with the LCLS_Connect_Control message and the LCLS-Connection-Status-Control IE indicating \"BicastatHandover\", see Figure 8.3.1.6.1.1 Connection Model 2. This triggers the BSS-1 to bicast the user plane data in the same way as the Access MGW-1 would be doing in a non-LCLS inter-BSS handover. At this point the BSS-1 shall send any DL data it receives directly to the served UE. Since the BSS-1 cannot receive DL data at the same time as it receives local data (TS is isolated) this will minimise the break in user plane data even more than for existing non-LCLS handover.\nNOTE 3:\tThe Serving BSS-1 shall forward the user plane data from the UE-1 to the UE-2 while the UE-1 is served by the BSS-1. The UL user plane data are bi-cast to both MGW2 and local path by the BSS-2. The MGW-2 transmits the user plane data to the MGW-1, and the MGW-1 will transmit the user plane data to the target RNC. When the UE-1 leaves the serving BSS-1 and begins sending UL data from the Target RNC, that data will then be received via the A-interface leg at the serving BSS-2.\n5b.\tBSS-2 sends the LCLS_Connect_Control_Ack message with the LCLS-BSS-Status IE set to \"the call is locally switched with requested LCLS configuration\".\n6.\tAnchor MSC-1 server triggers the Handover Command message. When the UE-1 moves to the Target RNC in this example it can immediately send UL data through the CN to the UE-2 and also can receive DL data from the UE-2 via the CN since the MGW-1 topology for TA, TT is already bothway connected. This is a change from the current non-LCLS solution but is more efficient since the non-LCLS solution needs to set this to one-way DL only until it receives Iu Relocation Detect message.\n7.\tMSC-2 Server sends LCLS-Status-Change-Request-Acknowledgement.\n8.\tUE-1 is detected at the target RNC. BSS-1/BSS-2 may continue to send the user plane data locally until the Clear Command message is received.\n8a.\tThe MSC-1 Server sends LCLS-Status-Change-Request to indicate that UE-1 has been detected in the target BSS and user data is now being sent through the CN and DL to the distant UE-2.\n8b.\tThe MSC-2 Server signals to the BSS-2 that DL data received from the CN is now real user data coming from the UE-1.\n8c.\tThe BSS-2 sends the LCLS_Connect_Control_Ack message with the LCLS-BSS-Status IE set to \"the call is locally switched with requested LCLS configuration\".\n8d.\tAcknowledgement back through the CN that the indication for DL data after Handover Detect has been delivered.\n9.\tWhen the MSC-1 Server receives the Iu Relocation Complete message MSC-1 Server knows that the call is not possible to be locally switched.\n10.\tMSC-1 server requests the old serving BSS-1 to clear the old call leg. BSS-1 stops sending locally the user data from UE-1, LCLS is broken.\n11.\tServing BSS-2 informs the MSC-2 server that LCLS is broken via LCLS_Notification message.\n12.\tClearing of the old call leg to the Serving BSS-1 is completed.\n13.\tThe termination TS to the old serving BSS-1 is removed from the Access MGW-1.\n14.\tAnchor MSC-1 server informs succeeding CN nodes that LCLS is disconnected.\nNOTE 4:\tWhen BICC is used as the call control protocol the APM message is sent. When SIP-I is used the INFO request with the encapsulated APM message is sent.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.3.1.6.1.1",
        "figure_8.3.1.6.2.1",
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.3.2.1",
      "section_id": "8.3.2.1",
      "section_title": "General",
      "content": "When a call is locally switched through the BSS and an inter-MSC GSM to UMTS handover occurs the LCLS shall be broken and the user plane shall be connected through the core network. The Inter-MSC GSM to UMTS handover procedures specified in 3GPP TS 23.009 [9], 3GPP TS 23.205 [2] and 3GPP TS 23.231 [3] shall be followed. The following clauses describe the additional requirements for inter-MSC GSM to UMTS handovers of LCLS related calls.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.009",
        "ts_23.205",
        "ts_23.231"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.3.2.2.1",
      "section_id": "8.3.2.2.1",
      "section_title": "Handover Required",
      "content": "When MSC-1 Server receives the Handover Required message from the serving BSS and determines that the call shall be handed over to the Target MSC Server, it shall send the GCR of the call, the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE to the Target MSC Server in a MAP Prepare-Handover_Request message.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_8.3.2.2.2",
      "section_id": "8.3.2.2.2",
      "section_title": "Iu Relocation Request Acknowledge",
      "content": "Upon receipt of the MAP Prepare-Handover-Response including Iu Relocation Ack message, the MSC-1 Server shall send to the adjacent call node the LCLS-Status-Change-Request message to indicate \"LCLS Disconnection-Preparation-for handover\".\nIf the far end MSC server receives the LCLS-Status-Change-Request message indicating LCLS Disconnection preparation-for-handover it shall send to the BSS the LCLS_Connect_Control message with the LCLS-Connection-Status-Control IE indicating \"BicastatHandover\". When the LCLS_Connect_Control acknowledge message is received from the BSS, the far end MSC server shall return the LCLS Status Change Request Acknowledge message indicating \"LCLS Disconnection-Preparation-for-handover\" and a Result code indicating LCLS Status Change Request accepted.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_8.3.2.2.3",
      "section_id": "8.3.2.2.3",
      "section_title": "Bearer establishment between MGW-1 and Target MGW",
      "content": "The handling of the bearer establishment between MGW-1 and Target MGW is as described in clause 6.1 for a Basic Mobile Originating Call. The MSC server shall also use the Change Flow Direction procedure to request the MGW-1 to set the Handover Device to the initial state.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.3.2.2.4",
      "section_id": "8.3.2.2.4",
      "section_title": "MGW Flow Direction Control",
      "content": "The MSC Server may perform the MGW Flow Direction Control for GSM to UMTS Relocation as described in clause 8.4.2.1.2.4.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_8.4.2.1.2.4"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.3.2.2.5",
      "section_id": "8.3.2.2.5",
      "section_title": "Handover Command/Iu Relocation Detect",
      "content": "When the MSC-1 server sends the Handover Command message or alternatively, if it receives the Iu Relocation detect message inside a MAP Process-Access-Signalling request, the MSC-1 server shall follow the procedures described in clause 8.4.2.1.2.5.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_8.4.2.1.2.5"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.3.2.2.6",
      "section_id": "8.3.2.2.6",
      "section_title": "Iu Relocation Complete",
      "content": "When the MSC-1 server receives the Iu Relocation Complete message inside a MAP Send-End-Signalling Request and an ANSWER message including the LCLS status set to LCLS disconnected, it releases the A-interface line towards the serving BSS. The MSC-1 server also requests the MGW-1 to set the Handover Device to its final state by removing the bearer termination (TS) towards the serving BSS.\nThe MSC-1 server shall send to the adjacent call node the LCLS-Status-Update message with the LCLS-Status IE indicating the LCLS is disconnected.\nWhen the serving BSS receives Clear Command it shall release any local switch path. The serving BSS shall inform the far end MSC server that LCLS is broken with the LCLS-Notification message.\nNOTE:\tThe LCLS_Notification message does not need to be sent to the Anchor MSC Server since the Clear Complete message received from the serving BSS also means LCLS is disconnected.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_8.3.2.3.1",
      "section_id": "8.3.2.3.1",
      "section_title": "Prepare Handover Request message and MGW selection",
      "content": "The Target MSC server selects the Target MGW when it receives Prepare Handover Request message. The Target MSC server sends the Iu Relocation Request message to the Target RNC as for the normal case.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_8.3.2.3.2",
      "section_id": "8.3.2.3.2",
      "section_title": "Bearer establishment towards Target RNC",
      "content": "The procedure specified in 3GPP TS 23.205 [2] clause 8.3.2.2 shall be used.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.205_clause_8.3.2.2",
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.3.2.3.3",
      "section_id": "8.3.2.3.3",
      "section_title": "Bearer establishment between MGW-1 and Target MGW",
      "content": "The handling of the bearer establishment between MGW-1 and Target MGW is as described for basic mobile terminating call in clause 6.2.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.2"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.3.2.4.1",
      "section_id": "8.3.2.4.1",
      "section_title": "Connection Model",
      "content": "Figure 8.4.2.1.4.1.1 shows the network model for the Inter-MSC GSM to GSM Handover, where call leg UE-1 is handed over from BSS-1 to the Target RNC. BSS-1 is the same as BSS-2 when LCLS is established for the call. The BSS-1 is served by the MSC-Server 1, the Target RNC is served by the Target MSC-Server, and MSC-Server 1 is not the same as Target MSC-Server. The bearer termination T2 in MGW-2 is used for the bearer towards BSS-2, which is not affected by this handover. Bearer termination TS in MGW-1 is used for the bearer towards BSS-1 and the bearer terminations TA and T3 in MGW-1, T1 in MGW-2 and T4 in Target-MGW are used for the bearer towards the succeeding/preceding MGW. Bearer termination TT in Target-MGW is for the bearer termination towards the Target RNC.\nConnection Model 1: Before handover, Local Switching is established\nConnection Model 2: Before MSC triggers HO command to the BSS, T3 is isolated from TS, TA is one-way connected to T3 and TS is both-way connected to TA\nConnection Model 3: UE-1 not yet detected in Target RNC, BSS-2 bicasts user plane data UL\nConnection Model 4: UE-1 connected to Target RNC but Target MSC-S has not received HO Detect\nConnection Model 5: MSC-1 instructed MGW-1 to reroute the user plane, TA is both-way connected to T3\nConnection Model 6: Handover completed, TS termination was removed\nFigure 8.3.2.4.1.1: Inter-MSC GSM to UMTS Relocation Connection Model when user plane active",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.4.2.1.4.1.1",
        "figure_8.3.2.4.1.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.3.2.4.2",
      "section_id": "8.3.2.4.2",
      "section_title": "Basic Sequence for Inter-MSC handover that breaks Local Switching",
      "content": "Figures 8.3.2.4.2.1 and 8.3.2.4.2.2 show the message sequence example for the basic Inter-MSC GSM to GSM Handover shown in the corresponding network model Figure 8.3.2.4.1.1. The Handover Device is located in the MGW-1 selected for the call establishment by the MSC-1 Server, which controls the call and the mobility management. The description is based on 3GPP TS 23.009 [9], 3GPP TS 23.205 [2] and 3GPP TS 23.231 [3].\nFigure 8.3.2.4.2.1: Inter-MSC GSM to UMTS Relocation that breaks Local Switching when user plane active, initial phase\n1.\tThe Handover Required message is received from BSS-1 requesting an inter-MSC GSM to UMTS handover. The call is currently locally switched and the MSC-1 server knows that the Inter-MSC GSM to UMTS relocation at one end will break LCLS (the local switch is not broken in the serving BSS (BSS-1) until UE-1 has moved out of the BSS-1 and the MSC-1 server sends the Clear Command message to BSS-1).\n2.\tThe MSC-1 Server determines that inter-MSC handover is required and sends MAP-Prepare-Handover Request message to target MSC which includes GCR, the LCLS Negotiation Request IE and the LCLS-Configuration-Preference IE.\n3a, b.\tThe Target MSC-Server requests Target MGW to provide a binding reference and a bearer address using the Prepare Bearer procedure when reserving TT towards the Target RNC.\n4.\tThe Target MSC-Server sends the Iu Relocation Request message to Target RNC.\n5.\tThe Target RNC sends the Iu Relocation Acknowledge message to Target MSC-Server.\n6.\tThe Target MSC-Server sends the Prepare Handover Response message to the MSC-1 server.\n7.\tThe Anchor MSC-1 server may instruct the far end MSC-2 server to prepare for LCLS disconnection due to handover by sending the LCLS-Status-Change-Request message. (If the Anchor MSC-1 server does not instruct the MSC-2 server /BSS-2 to prepare for LCLS disconnection for handover, BSS-2 starts bicasting user plane data to the core network after receiving the Handover Command message in Step 15.)\n8a.\tThe far end MSC-2 server requests BSS-2 to start sending data UL with the LCLS_Connect_Control message and the LCLS-Connection-Status-Control IE indicating \"BicastatHandover\", see Figure 8.3.2.4.1.1, Connection Model 3. This triggers the BSS-2 to bicast the user plane data in the same way as the Access MGW-1 would be doing in a non-LCLS inter-BSS handover. At this point the BSS-1 shall send any DL data it receives directly to the served UE.\nNOTE 1:\tThe Serving BSS-1 shall forward the user plane data received locally from UE-1 to UE-2 while the UE-1 is served by the BSS-1. BSS-2 bicasts UL user plane data to both MGW2 and local path and MGW-2 transmits the user plane data to MGW-1 and MGW-1 transmits the user plane data to the Target RNC via the Target MGW. When the UE-1 leaves the serving BSS-1 and begins sending UL data to the Target RNC via the Target MGW, that data will then be received via the A-interface leg at the serving BSS-2.\n8b.\tThe BSS-2 sends the LCLS_Connect_Control_Ack message with the LCLS-BSS-Status IE set to \"the call is locally switched with requested LCLS configuration\".\n9a, b. In accordance with normal Iu relocation in this example the MSC-1 server requests MGW-1 to isolate the termination towards Target MGW (T3) from the termination to the Serving BSS-1 (TS) and to configure the Anchor termination (TA) one-way DL towards the Target MGW termination (T3).\n10.\tMSC-2 Server sends LCLS-Status-Change-Request-Acknowledge message.\n11.\tMSC-1 Server sends IAM (Initial Address Message) to Target MSC-Server including GCR, the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE.\nNOTE 2:\tCorresponding SIP-I signalling is specified in 3GPP TS 23.231 [3].\nNOTE 3:\tThe MSC-1 Server can send IAM before receiving LCLS-Status-Change-Request-Acknowledge message.\n12a, b. Target-MSC-Server reserves bearer connection T4 towards MGW-1.\n13.\tAfter Target MGW has replied with the bearer address and the binding reference, Target MSC-Server returns APM with selected codec and LCLS-Negotiation Response IE and the LCLS-Configuration-Preference IE.\nFigure 8.3.2.4.2.2: Inter-MSC GSM to UMTS Relocation that breaks Local Switching when user plane active, completion phase\n14.\tThe Target MSC-Server sends ACM (Address Complete Message). Target MSC-Server awaits the capturing of the UE-1 on the radio path when the ACM is sent and the Anchor MSC-1 server initiates the Iu relocation execution when receiving ACM.\n15.\tMSC-1 server sends Handover Command message to BSS-1.\n16.\tBSS-1 sends Handover Command message to UE-1. BSS-1 will discard incoming user plane data send to UE-1 received from CN. If BSS-2 was not instructed to prepare for LCLS related handover in Step 8a, the BSS-2 starts bi-casting UP user plane data generated by UE-2 to local path and A interface and also starts to check whether there is incoming DL user plane data from the core network.\nNOTE 4:\tthere is no situation where BSS-2 will receive real DL user plane data from the CN at the same time as it receives local data from UE-1 as part of the handover.\n17.\tUE-1 is detected at Target RNC. But still no UL data can be sent from Target RNC to MGW-1 because TA-T3 is one-way DL only. MGW-1 will continue to transmit DL user plane data to the Target RNC. BSS-2 continues to bi-cast user plane data to both local path and to the A interface.\n18.\tTarget MSC-Server sends MAP-Process-Access-Signal request message to the MSC-1 server.\n19a, b.\tThe MSC-1 server uses the Change Flow Direction procedure to request the MGW-1 to set the Handover Device to intermediate state and TA-T3 to both-way configuration. When BSS-2 finds out there is DL user plane data, BSS-2 will transmit the DL user plane data to UE-2.\n20.\tIu Relocation Complete message is received from Target RNC with LCLS-BSS-status indicating that the call cannot be locally switched.\n21.\tIu-Relocation-Complete message when received is included in the MAP SendEndSignalling Request message sent to the MSC-1 server.\n22.\tTarget MSC-Server sends ANSWER with the LCLS-status when Iu-Relocation Complete message is received.\n23.\tMSC-1 server informs BSS-1 to clear the old call leg.\n24.\tServing BSS-2 informs MSC-2 server that LCLS is broken via LCLS-Notification message.\n25.\tMSC-1 server sends LCLS Status Update message with LCLS status \"LCLS not connected\" to MSC-2 server.\nNOTE 5:\tWhen BICC is used as the call control protocol the APM message is sent. When SIP-I is used the INFO request with the encapsulated APM message is sent.\n26.\tBSS-1 informs MSC-1 server that the resource for the UE-1 has been released and BSS-2 stops bi-casting.\nNOTE 6:\tThere is no need to send LCLS-Notification message from BSS-1 after receiving the Clear command since Clear Complete message indicates that LCLS was disconnected.\n27a, b.\tThe MSC-1 server requests MGW-1 to set the Handover Device to its final state by removing the bearer termination TS towards BSC-1 using the Release Termination procedure.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.3.2.4.1.1",
        "ts_23.205_figure_8.3.2.4.2.1",
        "figure_8.3.2.4.2.2",
        "ts_23.009",
        "ts_23.205",
        "ts_23.231"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.4.1.1.1",
      "section_id": "8.4.1.1.1",
      "section_title": "General",
      "content": "When a call is locally switched through the BSS and an intra-MSC inter-BSS GSM to GSM handover occurs then the LCLS shall be broken and the user plane shall be connected through the core network. The intra-MSC inter BSS GSM to GSM handover procedures specified in 3GPP TS 23.205 [2] and 3GPP TS 23.231 [3] shall be followed. The following clauses describe the additional requirements for intra-MSC inter BSS GSM to GSM handovers of LCLS related calls.\nDuring a Locally Switched (intra-BSS) Connection when no bicasting occurs there is no data transmission through the core network. In this release the use plane is kept active and therefore does not need to be re-activated when the LCLS is broken due to inter-BSS handover out of LCLS.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.205",
        "ts_23.231"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.4.1.1.2",
      "section_id": "8.4.1.1.2",
      "section_title": "Handover Required",
      "content": "When the MSC server receives the Handover Required message from the serving BSS, it requests the MGW to seize a TDM circuit if AoTDM or an IP termination if AoIP for the termination to the Target BSS as for the normal handover procedure. The MSC server shall use the Change Flow Direction procedure to request the MGW to set the Handover Device to the initial state.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_8.4.1.1.3",
      "section_id": "8.4.1.1.3",
      "section_title": "MGW Flow Direction Control",
      "content": "The MSC Server may perform the MGW Flow Direction Control in the following ways:\n-\tIn accordance with the normal handover case by isolating the termination to the Target BSS (TT) from the termination to the Serving BSS (TS) and configuring the Anchor termination (TA) one-way DL to the Target BSS (TT). Termination to the Serving BSS (TS) is bothway connected to Anchor termination (TA) since it is also receiving UL user data from termination to the Serving BSS (TS).\nOr:\n-\tThe MSC server may request the MGW to set termination to Target BSS (TT) to bothway connected to Anchor termination (TA) and isolate termination to Serving BSS (TS) completely. This improves the user plane switching and saves a signalling step to the MGW at Handover Detect message. The MSC server sends the Handover Request message to the Target BSS as for the normal case but shall include the GCR IE, the LCLS-Configuration IE and the LCLS-Connection-Status-Control IE set to \"Connect\".",
      "chunk_type": "procedure",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_8.4.1.1.4",
      "section_id": "8.4.1.1.4",
      "section_title": "Handover Request Acknowledge",
      "content": "If the Target BSS supports LCLS feature then it shall include the LCLS-BSS-Status IE in the Handover Request Acknowledge message in order to inform the anchor MSC Server that the BSS supports the LCLS feature, and therefore the MSC Server shall not act upon the status indicated, i.e. no signalling of LCLS-Status IE through the core network.\nUpon receipt of the Handover Request Acknowledge message the MSC Server shall send to the adjacent call node the LCLS-Status-Change-Request message to indicate \"LCLS Disconnection-Preparation-for handover\".\nWhen the far end MSC server receives the LCLS-Status-Change-Request message indicating LCLS Disconnection preparation-for-handover it shall send to the BSS the LCLS_Connect_Control message with the LCLS-Connection-Status-Control IE indicating \"BicastatHandover\". When the LCLS_Connect_Control acknowledge message is received from the BSS, the far end MSC server shall return the LCLS Status Change Request Acknowledge message indicating \"LCLS Disconnection-Preparation-for-handover\" and a Result code indicating LCLS Status Change Request accepted.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_8.4.1.1.5",
      "section_id": "8.4.1.1.5",
      "section_title": "Handover Command/Handover Detect",
      "content": "When the MSC server sends the Handover Command message or alternatively if it receives the Handover Detect message, if the MSC server followed the MGW control procedures for a non-LCLS call and kept the Termination to the Serving BSS connected then it shall use the Change Flow Direction procedure to requests the MGW to set the Handover Device to intermediate state however if the MSC server isolated TS and set TT to bothway through-connected then no MGW control procedure is required at this point.\nUpon receipt of the Handover Detect message the MSC Server shall send to the adjacent call node the LCLS-Status-Change-Request message with the LCLS-Status-Change-Request IE set to \"Indicate DL data after Handover\".\nWhen the far end MSC server receives the LCLS-Status-Change-Request message with the LCLS-Status-Change-Request IE set to \"Indicate DL data after Handover\" it shall send to the BSS the LCLS_Connect_Control message with the LCLS-Connection-Status-Control IE indicating \"DL Data_at_Handover\" and after reception of the LCLS_Connect_Control acknowledge message from the BSS, return the LCLS-Status-Change-Request-Acknowledge message with \"Indicate DL data after Handover\" and a Result code indicating LCLS Status Change Request accepted.\nNOTE:\tthis informs this call leg in the BSS that the other UE has left the BSS and has been detected in the new BSS and as such DL data from the CN is now coming from that UE.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_8.4.1.1.6",
      "section_id": "8.4.1.1.6",
      "section_title": "Handover Complete",
      "content": "When the MSC server receives the Handover Complete message, it releases the A-interface line towards the serving BSS. The MSC server also requests the MGW to set the Handover Device to its final state by removing the bearer termination (TS) towards the serving BSS.\nThe MSC server shall send to the adjacent call node the LCLS-Status-Update message with the LCLS-Status IE indicating the LCLS disconnection.\nWhen the serving BSS receives Clear Command it shall release any local switch path. The serving BSS shall inform the far end MSC server that LCLS is broken with the LCLS_Notification message.\nNOTE:\tThe LCLS_Notification message does not need to be sent to the Anchor MSC Server since the Clear Command message received from the serving BSS also means LCLS is disconnected.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_8.4.1.1.7",
      "section_id": "8.4.1.1.7",
      "section_title": "Example",
      "content": "8.4.1.1.7.1\tConnection Model\nFigure 8.4.1.1.7.1.1 shows the network model for the Intra-MSC Inter-BSS GSM to GSM Handover, where the call leg pertinent to the UE-1 is handed over from the serving BSS-1 to the Target BSS. BSS-1 is the same as BSS-2 when LCLS is established for the call. The bearer termination T2 is used for the bearer towards BSS-2, which is not affected by this handover. Bearer termination TS is used for the bearer towards BSS-1 and the bearer terminations T1 and TA are used for the bearer towards the succeeding/preceding MGW. Bearer termination TT is for the bearer termination towards the Target BSS. The colours and line types used in the figure are defined differently from 3GPP TS 23.205 [2] to indicate LCLS specific issues.\nConnection Model 1: The call is locally switched\nConnection Model 2: MGW-1 is both-way connected between Ta and Tt, Ts is isolated; BSS-2 starts to bicast data UL\nConnection Model 3: UE has moved to Target BSS but HO Detect has not yet been received by MSC-S-1\nConnection Model 4: LCLS is released in BSS-2, old serving Termination Ts is removed\nFigure 8.4.1.1.7.1.1: Intra-MSC Inter-BSS Handover Connection Model that breaks LCLS\n8.4.1.1.7.2\tBasic Sequence for Inter-BSS Handover that breaks Local Switching\nFigure 8.4.1.1.7.2.1: Intra-MSC Inter-BSS Handover that breaks Local Switching\n1.\tThe Handover Required message is received from the BSS-1 requesting an inter-BSS handover. The call is currently locally switched so the MSC-1 server can know that the inter-BSS handover at one end will break local switch (the local switch is not broken in the serving BSS (BSS-1) until the UE-1 has moved out of the BSS-1 and the MSC-1 server sends the Clear Command message).\n2.\tIn this example the Anchor MSC-1 server requests from its MGW-1 the seizure of the bearer termination Tt towards the Target BSS and through-connects it bothway to Ta. Additionally it isolates the old serving Termination Ts. This makes the handover much more efficient than even current non-LCLS handover as immediately the UE-1 moves into the new target BSS it will be able to send UL user data to the UE-2.\nNOTE 1:\tThis flow shows the termination to the Target BSS as always connected bothway. This is a change to the existing call handling which would normally connect the termination as one-way and then change to bothway after receiving the Handover Detect message. However the termination does not need to be connected one-way and will in fact make the break in speech worse since UL data cannot be sent from the UE-1 until the MGW topology is modified, also it saves the additional intermediate H.248 modification step.\n3.\tThe Anchor MSC-1 server sends the Handover Request message to the Target BSS with the GCR IE, the LCLS-Configuration IE and the LCLS-Connection-Status-Control IE indicating \"connect\" to through-connect the local call.\n4.\tThe Target BSS returns the Handover Request Acknowledge message and also indicates that call is not possible to be locally switched.\n5.\tThe Anchor MSC-1 server sends the change in LCLS to the succeeding MSC server and the Anchor MSC-1 server asks it to prepare for the LCLS disconnection for Handover to trigger sending of the LCLS-Connect-Control message at the far end MSC-2 server.\nNOTE 2:\tWhen BICC is used as the call control protocol the APM message is sent. When SIP-I is used the INFO request with the encapsulated APM message is sent.\n5a.\tThe far end MSC-2 server requests the BSS-2 to start sending data UL with the LCLS_Connect_Control message and the LCLS-Connection-Status-Control IE indicating \"BicastatHandover\", see Figure 8.4.1.7.1.1 Connection Model 2. This triggers the BSS-2 to bicast the user plane data in the same way as the Access MGW-1 would be doing in a non-LCLS inter-BSS handover. At this point the BSS-2 shall send any DL data it receives directly to the served UE. Since the BSS-2 cannot receive DL data at the same time as it receives local data (Ts is isolated) this will minimise the break in user plane data even more than for existing non-LCLS handover.\nNOTE 3:\tThe Serving BSS-1 shall forward the user plane data from the UE-1 to the UE-2 while the UE-1 is served by the BSS-1. The UL user plane data from UE-2 are bi-cast to both MGW2 and local path by the BSS-2. The MGW-2 transmits the user plane data to the MGW-1, and the MGW-1 will transmit the user plane data to the target BSS. When the UE-1 leaves the serving BSS-1 and begins sending UL data from the Target BSS, that data will then be received via the A-interface leg at the serving BSS-2.\nNOTE 4:\tPossible bicasting may have been activated earlier when LCLS was established in the BSS-1 /BSS-2 (not shown in the figure 8.4.1.8.2.1) and was indicated with the LCLS-Configuration IE in step 3 and applies to both call legs. If LCLS bicasting was not activated the LCLS-Configuration value is \"Connect\" (i.e. no bicasting) in step 3, but the value of the LCLS-Connection-Status-Control in step 5 is \"BicastatHandover\", which applies only for this call leg.\n5b.\tThe BSS-2 sends the LCLS_Connect_Control_Ack message with the LCLS-BSS-Status IE set to \"the call is locally switched with requested LCLS configuration\".\n6.\tThe Anchor MSC-1 server triggers the Handover Command message. When the UE-1 moves to the Target BSS in this example it can immediately send UL data through the CN to the UE-2 and also can receive DL data from the UE-2 via the CN since the MGW-1 topology for Ta, Tt is already bothway connected. This is a change from the current non-LCLS solution but is more efficient since the non-LCLS solution needs to set this to one-way DL only until it receives Handover Detect message.\n7.\tMSC-2 Server sends LCLS-Status-Change-Request-Acknowledgement.\n8.\tThe UE-1 is detected at the target BSS. The BSS-1/BSS-2 may continue to send the user plane data locally until the Clear Command message is received.\n8a.\tThe MSC-1 Server sends LCLS-Status-Change-Request to indicate that UE-1 has been detected in the target BSS and user data is now being sent through the CN and DL to the distant UE-2.\n8b.\tThe MSC-2 Server signals to the BSS-2 that DL data received from the CN is now real user data coming from the UE-1.\n8c.\tThe BSS-2 sends the LCLS_Connect_Control_Ack message with the LCLS-BSS-Status IE set to \"the call is locally switched with requested LCLS configuration\".\n8d.\tAcknowledgement back through the CN that the indication for DL data after Handover Detect has been delivered.\n9.\tIn the Handover Complete message the Target-BSS indicates to the MSC-1 server in the LCLS-BSS-Status IE that the call is not possible to be locally switched.\n10.\tThe MSC-1 server requests the old serving BSS-1 to clear the old call leg. The BSS-1 now stops sending local the user data from UE-1, LCLS is finally broken.\n11.\tThe Serving BSS-2 informs the MSC-2 server that LCLS is broken via LCLS_Notification message.\n12.\tClearing of the old call leg to the Serving BSS-1 is completed.\n13.\tThe termination Ts to the old serving BSS-1 is removed from the Access MGW-1.\n14.\tThe Anchor MSC-1 server informs succeeding CN nodes that LCLS is finally disconnected.\nNOTE 5:\tWhen BICC is used as the call control protocol the APM message is sent. When SIP-I is used the INFO request with the encapsulated APM message is sent.\nLCLS is impossible after an Inter-BSS handover which makes the call not local (as described above). While a handover is being performed for one call leg, it is possible that a handover also is started for the other call leg, possibly moving both call legs to the same target BSS, thereby creating a local call. The target BSS shall only establish LCLS for a local call when both call legs are connected and e.g. any handover process has been successfully completed on both call legs.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.4.1.1.7.1.1",
        "figure_8.4.1.1.7.2.1",
        "figure_8.4.1.7.1.1",
        "figure_8.4.1.8.2.1",
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.4.1.2.1",
      "section_id": "8.4.1.2.1",
      "section_title": "General",
      "content": "When LCLS is not established for a call and an intra-MSC inter-BSS GSM to GSM handover occurs that makes the call local, the call should be locally switched in the BSS. The Intra-MSC inter-BSS GSM to GSM handover procedures specified in 3GPP TS 23.009 [9], 3GPP TS 23.205 [2] and 3GPP TS 23.231 [3] shall be followed. The following clauses describe the additional requirements for intra-MSC handovers that establish LCLS.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.009",
        "ts_23.205",
        "ts_23.231"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.4.1.2.2",
      "section_id": "8.4.1.2.2",
      "section_title": "Handover Required",
      "content": "When the MSC server receives the Handover Required message from the serving BSS, it requests the MGW to seize a TDM circuit if AoTDM or an IP termination if AoIP for the termination to the Target BSS as for the normal handover procedure. The MSC server shall use the Change Flow Direction procedure to request the MGW to set the Handover Device to the initial state.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_8.4.1.2.3",
      "section_id": "8.4.1.2.3",
      "section_title": "Bearer establishment towards Target BSS",
      "content": "When the MSC-Server has selected the Target MGW it requests the Target MGW to seize a TDM circuit if AoTDM using the Reserve Circuit procedure, or an IP termination if AoIP using the reserve Connection Point procedure as for the normal handover procedure. The MSC-Server sends the Handover Request message to the Target BSS containing the CIC for AoTDM or the IP addresses and UDP ports received from the target MGW if AoIP.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_8.4.1.2.4",
      "section_id": "8.4.1.2.4",
      "section_title": "MGW Flow Direction Control",
      "content": "In accordance with the normal handover case the MGW-1 isolates the termination towards the Target BSS (TT) from the termination to the Serving BSS (TS) and configures the Anchor termination (TA) one-way DL towards the Target BSS termination (TT). Termination to the Serving BSS (TS) is both-way connected to Anchor termination (TA) since it is also receiving UL user data from termination to the Serving BSS (TS).",
      "chunk_type": "procedure",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_8.4.1.2.5",
      "section_id": "8.4.1.2.5",
      "section_title": "Handover Request Acknowledge",
      "content": "If the Target BSS supports the LCLS feature it shall include the LCLS-BSS-Status IE in the Handover Request Acknowledge message in order to inform the anchor MSC Server that the BSS supports the LCLS feature.\nThe anchor MSC Server shall not act upon the status indicated, i.e. no signalling of LCLS-Status IE through the core network.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_8.4.1.2.6",
      "section_id": "8.4.1.2.6",
      "section_title": "Handover Command/Handover Detect",
      "content": "The anchor MSC Server shall use the Change Flow Direction procedure to requests the MGW-1 to set the Handover Device to intermediate state.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_8.4.1.2.7",
      "section_id": "8.4.1.2.7",
      "section_title": "Handover Complete",
      "content": "When the MSC-Server receives the Handover Complete message, it releases the A-interface line towards the serving BSS. The MSC-Server also requests the MGW to set the Handover Device to its final state by removing the bearer termination towards the serving BSS.\nWhen LCLS has been established during the handover procedure, the target BSS informs the anchor MSC-Server that the call has been locally switched in the Handover Complete message.\nThe MSC-Server shall send to the adjacent call node the LCLS-Status-Update message with the LCLS-Status IE indicating that LCLS was established.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_8.4.1.2.8",
      "section_id": "8.4.1.2.8",
      "section_title": "Example",
      "content": "8.4.1.2.8.1\tConnection Model\nFigure 8.4.1.2.8.1.1 shows the network model for the Intra-MSC Inter-BSS GSM to GSM Handover, where the call leg pertinent to the UE-1 is handed over from the serving BSS-1 to the Target BSS. Target BSS is the same as BSS-2 when LCLS is established for the call. The bearer termination T2 is used for the bearer towards BSS-2, which is not affected by this handover. Bearer termination TS is used for the bearer towards BSS-1 and the bearer terminations T1 and TA are used for the bearer towards the succeeding/preceding MGW. Bearer termination TT is for the bearer termination towards the Target BSS. The colours and line types used in the figure are defined differently from 3GPP TS 23.205 [2] to indicate LCLS specific issues.\nConnection Model 1: Before handover\nConnection Model 2: During handover, TS and TA are both-way connected, TT is isolated from TS\nConnection Model 3: UE has moved to Target BSS but HO Detect has not yet been received by MSC-1-S\nConnection Model 4: The call is locally switched\nFigure 8.4.1.2.8.1.1: Connection Models for Inter-BSS Handover that establishes Local Switching\n8.4.1.2.8.2\tBasic Sequence for Inter-BSS Handover that establishes Local Switching\nFigures 8.4.1.2.8.2.1 and 8.4.1.2.8.2.2 show the message sequence example for the Basic Intra-MSC GSM to GSM Handover shown in the corresponding network model Figure 8.4.1.2.8.1.1. The Handover Device is located in MGW-1 selected for the call establishment by the MSC-1 server, which controls the call and the mobility management. The description is based on 3GPP TS 23.009 [9], 3GPP TS 23.205 [2] and 3GPP TS 23.231 [3].\nFigure 8.4.1.2.8.2.1: Inter-BSS Handover that establishes Local Switching\n1.\tHandover Required message is received from BSS-1 requesting an inter-MSC handover. The call is currently not locally switched.\n2.\tMSC-1 Server determines that an intra-MSC handover is required and checks that LCLS negotiation in the core network permitted LCLS. The MSC-1 Server reserves a new Termination for Target BSS and configures this as one-way connected to the Anchor Termination (as per existing handover procedures).\n3.\tMSC-1 Server sends Handover Request message to target BSS with GCR and instructs the BSS to prepare to connect LCLS. The LCLS-Configuration IE can instruct the BSS to bi-cast user plane data, if applicable.\n4.\tTarget BSS performs call leg correlation with GCR to find if another call leg is active with the same GCR. The BSS reports in Handover Request Acknowledge message that the local call was found but LCLS is not yet established.\n4a.\tThe BSS-2 notifies MSC-2 server the LCLS status is changed by sending the LCLS_Notification message with the LCLS-BSS-Status IE set to \"Call not yet locally switched\".\n4b.\tIf the call has been answered and MSC-2 server permits LCLS to be connected, then the MSC-2 server sends to the BSS-2 the LCLS_Connect_Control message with the LCLS-Connection-Status-Control IE set to \"connect\".\n4c.\tThe BSS-2 returns the LCLS_Connect_Control_ACK message with the LCLS-BSS-Status IE set to \"Call not yet locally switched\".\n5a, b.\t(These signalling steps are only applicable to AoIP.) MSC-1 Server sends the IP address and UDP Port number of the Target BSS to MGW-1 using the Configure RTP Connection Point procedure.\n6.\tMSC-1 Server sends the Handover Command message.\n7.\tUE-1 gets connected to the Target BSS, which sends Handover Detect.\n8a, b.\tIn accordance with normal handover the MSC-1 Server requests MGW-1 to isolate the termination towards Target BSS (TT) from the termination to the Serving BSS-1 (TS) and to configure the Anchor termination (TA) one-way DL towards the Target BSS termination (TT).\n9.\tTarget BSS indicates in the Handover Complete message that the call is locally switched.\n10.\tBSS-2 sends the LCLS_Notification message to MSC-2 Server with the LCLS-BSS-Status IE set to \"call is locally switched with requested LCLS configuration\".\n11.\tMSC-1 Server requests the old serving BSS-1 to clear the old call leg.\n12.\tClearing of the old call leg to the Serving BSS-1 is completed.\n13.\tThe termination Ts to the old serving BSS-1 is removed from MGW-1.\n14.\tMSC-1 Server informs succeeding CN nodes that LCLS is connected.\nNOTE:\tWhen BICC is used as the call control protocol the APM message is sent. When SIP-I is used the INFO request with the encapsulated APM message is sent.\nLCLS becomes possible after an Inter-BSS handover which makes the call local (as described above). While a handover is being performed for one call leg, it is possible that a handover also is started for the other call leg, possibly moving that call leg to another BSS and in that case the call does not become local. The target BSS shall only establish LCLS for a local call when both call legs are connected and e.g. any handover process has been successfully completed on both call legs.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.4.1.2.8.1.1",
        "ts_23.205_figure_8.4.1.2.8.2.1",
        "ts_23.205",
        "ts_23.009",
        "ts_23.231"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.4.2.1.1",
      "section_id": "8.4.2.1.1",
      "section_title": "General",
      "content": "If LCLS is established for a call and an inter-MSC GSM to GSM handover occurs that makes the call not local the LCLS shall be broken in the BSS and the user plane data shall be connected through the core network. The Inter-MSC GSM to GSM handover procedures specified in 3GPP TS 23.009 [9], 3GPP TS 23.205 [2] and 3GPP TS 23.231 [3] shall be followed. The following clauses describe the additional requirements for inter-MSC handovers of LCLS related calls.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.009",
        "ts_23.205",
        "ts_23.231"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.4.2.1.2",
      "section_id": "8.4.2.1.2",
      "section_title": "MSC-1 / MGW-1",
      "content": "8.4.2.1.2.1\tHandover Required\nWhen MSC-1 Server receives the Handover Required message from the serving BSS and determines that the call shall be handed over to the Target MSC Server, it shall send the GCR of the call, the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE to the Target MSC Server in a MAP Prepare-Handover_Request message.\n8.4.2.1.2.2\tHandover Request Acknowledge\nWhen MSC-1 Server receives the MAP Prepare_Handover_Response including Handover_Request_Acknowledgement message with a LCLS-BSS-Status IE the Anchor MSC-1 Server shall send to the adjacent call node, MSC-2 Server, the LCLS-Status-Change Request message containing the LCLS-Status-Change-Request IE to signal the change of LCLS status. In the LCLS-Status-Change-Request IE the MSC-1 server shall indicate \"LCLS Disconnection-Preparation-for handover\".\nWhen the MSC-2 Server receives the LCLS-Status-Change Request message with the LCLS-Status-Change-Request IE that requires LCLS Disconnection preparation-for-handover it shall send to BSS-2 the LCLS_Connect_Control message with the LCLS-Connection-Status-Control IE indicating \"BicastatHandover\". When the LCLS_Connect_Control acknowledge message is received from the BSS-2, the MSC-2 server shall return the LCLS Status Change Request Acknowledge message indicating \"LCLS Disconnection-Preparation-for-handover\" and a Result code indicating LCLS Status Change Request accepted.\n8.4.2.1.2.3\tBearer establishment between MGW-1 and Target MGW\nThe handling of the bearer establishment between MGW-1 and Target MGW is as described in clause 6.1 for a Basic Mobile Originating Call. The MSC server shall also use the Change Flow Direction procedure to request the MGW-1 to set the Handover Device to the initial state.\n8.4.2.1.2.4\tMGW Flow Direction Control\nThe MSC Server may perform the MGW Flow Direction Control in the following ways:\n-\tIn accordance with the normal handover case by isolating the termination in MGW-1 towards the Target MGW (T2) from the termination to the Serving BSS (TS) and configuring the Anchor termination (TA) one-way DL towards the Target MGW termination (T2). Termination to the Serving BSS (TS) is both-way connected to Anchor termination (TA) since it is also receiving UL user data from termination to the Serving BSS (TS). The basic example in clause 8.4.2.1.4 illustrates this type of functionality.\nOr:\n-\tThe MSC-1 Server may request the MGW-1 to set termination towards Target-MGW (T2) to both-way connected to Anchor termination (TA) and isolate termination to Serving BSS (TS) completely. This improves the user plane switching and saves a signalling step to the MGW-1 at Handover Detect message.\n8.4.2.1.2.5\tHandover Command/Handover Detect\nWhen the MSC-1 server sends the Handover Command message or alternatively if it receives the Handover Detect message inside a MAP Process-Access-Signalling request, if the MSC-1 server followed the MGW control procedures for a non-LCLS call and kept the Termination to the Serving BSS connected then it shall use the Change Flow Direction procedure to requests the MGW-1 to set the Handover Device to intermediate state, however if the MSC server-1 isolated TS and set T2 to bothway then no MGW control procedure is required at this point.\nUpon receipt of the Handover Detect message the MSC Server shall send to the adjacent call node the LCLS-Status-Change Request message with the LCLS-Status-Change-Request IE set to \"Indicate DL data after Handover\".\nWhen the far end MSC server receives the LCLS-Status-Change-Request message with the LCLS-Status-Change-Request IE set to \"Indicate DL data after Handover\" it shall send to the BSS the LCLS_Connect_Control message with the LCLS-Connection-Status-Control IE indicating \"DL Data_at_Handover\" and after reception of the LCLS_Connect_Control acknowledge message from the BSS, return the LCLS-Status-Change-Request-Acknowledge message with \"Indicate DL data after Handover\" and a Result code indicating LCLS Status Change Request accepted.\nNOTE:\tthis informs this call leg in the BSS that the other UE has left the BSS and has been detected in the new BSS and as such DL data from the CN is now coming from that UE.\n8.4.2.1.2.6\tHandover Complete\nWhen the MSC-1 Server receives the Handover Complete message, it releases the A-interface line towards BSS-1. The MSC-1 Server also requests MGW-1 to set the Handover Device to its final state by removing the bearer termination towards the BSS-1.\nAfter the MSC-1 Server receives the Answer message including the LCLS-Status set to LCLS feasible but not yet locally switched, MSC-1 Server shall send to the adjacent call node the LCLS-Status-Update message with the LCLS-Status IE indicating that LCLS is not established.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1",
        "clause_8.4.2.1.4"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.4.2.1.3",
      "section_id": "8.4.2.1.3",
      "section_title": "Target MSC Server / Target MGW",
      "content": "8.4.2.1.3.1\tPrepare Handover Request message and MGW selection\nThe Target MSC server selects the Target MGW when it receives Prepare Handover Request message. The Target MSC server sends the Handover Request message to the Target BSS as for the normal case but shall include the GCR IE, the LCLS-Configuration IE and the LCLS-Connection-Status-Control IE set to \"Connect\".\n8.4.2.1.3.2\tHandover Request Acknowledge\nIf the Target BSS supports the LCLS feature it shall include the LCLS-BSS-Status IE in the Handover Request Acknowledge message in order to inform the Target MSC Server that the BSS supports the LCLS feature. The Target MSC Server sends the same information in the MAP Prepare Handover Response message to the MSC-1 Server.\n8.4.2.1.3.3\tBearer establishment towards Target BSS\nWhen the Target MSC Server has selected the Target MGW it requests the Target MGW to seize a TDM circuit if AoTDM using the Reserve Circuit procedure, or an IP termination if AoIP using the reserve Connection Point procedure as for the normal handover procedure. The Target MSC Server sends the Handover Request message to the Target BSS containing the CIC for AoTDM or the IP addresses and UDP ports received from the target MGW if AoIP.\n8.4.2.1.3.4\tBearer establishment between MGW-1 and Target MGW\nThe handling of the bearer establishment between MGW-1 and Target MGW is as described for basic mobile terminating call in clause 6.2.\n8.4.2.1.3.5\tLCLS Negotiation in Initial Address message\nIf the Target MSC Server receives an Initial Address message that does not include a LCLS-Negotiation Request IE or includes a LCLS-Negotiation Request IE set to LCLS is not permitted, the Target MSC Server shall update the previously sent LCLS-Configuration by sending a LCLS_CONNECT_CONTROL message to BSS with a LCLS-Configuration IE set to LCLS-not allowed and a LCLS_Connection_Status_Control IE set to \"do not connect LCLS\".",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.2"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.4.2.1.4",
      "section_id": "8.4.2.1.4",
      "section_title": "Example of Inter-MSC Handover that breaks Local Switching",
      "content": "8.4.2.1.4.1\tConnection Model\nFigure 8.4.2.1.4.1.1 shows the network model for the Inter-MSC GSM to GSM Handover, where call leg UE-1 is handed over from BSS-1 to the Target BSS. BSS-1 is the same as BSS-2 when LCLS is established for the call. The BSS-1 is served by the MSC-Server 1, the Target BSS is served by the Target MSC-Server, and MSC-Server 1 is not the same as Target MSC-Server. The bearer termination T2 in MGW-2 is used for the bearer towards BSS-2, which is not affected by this handover. Bearer termination TS in MGW-1 is used for the bearer towards BSS-1 and the bearer terminations TA and T3 in MGW-1, T1 in MGW-2 and T4 in Target-MGW are used for the bearer towards the succeeding/preceding MGW. Bearer termination TT in Target-MGW is for the bearer termination towards the Target BSS.\nConnection Model 1: Before handover, LCLS is established\nConnection Model 2: Before MSC triggers HO command to the BSS, T3 is isolated from TS, TA is one-way connected to T3 and TS is both-way connected to TA\nConnection Model 3: UE-1 not yet detected in Target BSS, BSS-2 bicasts user plane data UL\nConnection Model 4: UE-1 connected to Target BSS but Target MSC-S has not received HO Detect\nConnection Model 5: MSC-1 instructed MGW-1 to reroute the user plane, TA is both-way connected to T3\nConnection Model 6: Handover completed, TS termination was removed\nFigure 8.4.2.1.4.1.1: Inter-MSC Inter-BSS Handover Connection Model when user plane active\n8.4.2.1.4.2\tBasic Sequence for Inter-MSC handover that breaks Local Switching\nFigures 8.4.2.1.4.2.1 and 8.4.2.1.4.2.2 show the message sequence example for the basic Inter-MSC GSM to GSM Handover shown in the corresponding network model Figure 8.4.2.1.4.1.1. The Handover Device is located in the MGW-1 selected for the call establishment by the MSC-1 Server, which controls the call and the mobility management. The description is based on 3GPP TS 23.009 [9], 3GPP TS 23.205 [2] and 3GPP TS 23.231 [3].\nFigure 8.4.2.1.4.2.1: Inter-MSC Handover that breaks LCLS when user plane active, initial phase\n1.\tThe Handover Required message is received from BSS1 requesting an inter-MSC handover. The call is currently locally switched and the MSC-1 server can know that the Inter-MSC handover at one end will break LCLS (the local switch is not broken in the serving BSS (BSS-1) until UE-1 has moved out of the BSS-1 and the MSC-1 server sends the Clear Command message to BSS-1).\n2.\tThe MSC-1 Server determines that inter-MSC handover is required and sends MAP-Prepare-Handover Request to target MSC which includes LCLS Negotiation Request, the LCLS-Configuration-Preference and GCR IEs.\n3a, b.\tThe Target MSC-Server reserves circuit or Connection Point TT towards the Target BSS.\n4.\tThe Target MSC-Server sends the Handover Request message to target BSS with the GCR IE, the LCLS-Configuration IE and the LCLS-Connection-Status-Control IE indicating \"connect\" to through-connect the local call.\n5.\tThe Target BSS reports in Handover Request Acknowledge message that the call is not possible to be locally switched.\n6a, b.\t(These signalling steps are only applicable to AoIP) When the Target MSC-Server receives the BSSMAP Handover Request-Ack message, it sends the target BSC IP address and UDP Port number to the target MGW using the Configure RTP Connection Point procedure.\n7.\tThe Target MSC-Server sends the Prepare Handover Response message to the MSC-1 server.\n8a.\tThe Anchor MSC-1 server instructs the far end MSC-2 server to prepare for LCLS disconnection for Handover by sending the LCLS-Status-Change-Request message.\n8b.\tThe far end MSC-2 server requests BSS-2 to start sending data UL with the LCLS_Connect_Control message and the LCLS-Connection-Status-Control IE indicating \"BicastatHandover\", see Figure 8.4.2.1.4.1.1, Connection Model 3. This triggers the BSS-2 to bicast the user plane data in the same way as the Access MGW-1 would be doing in a non-LCLS inter-BSS handover. At this point the BSS-1 shall send any DL data it receives directly to the served UE.\nNOTE 1:\tThe Serving BSS-1 shall forward the user plane data received locally from UE-1 to UE-2 while the UE-1 is served by the BSS-1. BSS-2 bicasts UL user plane data to both MGW2 and local path and MGW-2 transmits the user plane data to MGW-1 and MGW-1 transmits the user plane data to the Target BSS via the Target MGW. When the UE-1 leaves the serving BSS-1 and begins sending UL data to the Target BSS via the Target MGW, that data will then be received via the A-interface leg at the serving BSS-2.\nNOTE 2:\tPossible bicasting may have been activated earlier when LCLS was established in the BSS-1 /BSS-2 (not shown here) and was indicated with the LCLS-Configuration IE in step 4 and applies to both call legs. If LCLS bicasting was not activated the LCLS-Configuration value is \"Connect\" (i.e. no bicasting) in step 4, but the value of the LCLS-Connection-Status-Control in step 8b is \"BicastatHandover\", which applies only for this call leg.\n8c.\tThe BSS-2 sends the LCLS_Connect_Control_Ack message with the LCLS-BSS-Status IE set to \"the call is locally switched with requested LCLS configuration\".\n8d.\tMSC-2 Server sends LCLS-Status-Change-Request-Acknowledge message.\nNOTE 3:\tHandover sequence is independent of the LCLS-Status-Change-Request-Acknowledge message.\n9a, b.\tIn accordance with normal handover the MSC-1 server requests MGW-1 to isolate the termination towards Target MGW (T3) from the termination to the Serving BSS-1 (TS) and to configure the Anchor termination (TA) one-way DL towards the Target MGW termination (T3).\n10.\tMSC-Server 1 sends IAM (Initial Address Message) to Target MSC-Server including GCR, the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE.\nNOTE 4:\tCorresponding SIP-I signalling is specified in 3GPP TS 23.231 [3].\n11a, b. Target-MSC-Server reserves bearer connection T4 towards MGW-1.\n12.\tAfter Target MGW has replied with the bearer address and the binding reference, Target MSC-Server returns Bearer and Codec Information (APM) message with selected codec, available codec list, the LCLS-Negotiation Response IE and the LCLS-Configuration-Preference IE.\nFigure 8.4.2.1.4.2.2: Inter-MSC Handover that breaks LCLS when user plane active, completion phase\n13.\tThe Target MSC-Server sends ACM (Address Complete Message). Target MSC-Server awaits the capturing of the UE-1 on the radio path when the ACM is sent and the Anchor MSC-1 server initiates the handover execution when receiving ACM.\n14.\tMSC-1 server sends Handover Command message to BSS-1.\n15.\tBSS-1 sends Handover Command message to UE-1. BSS-1 will discard incoming user plane data send to UE-1 received from CN. If BSS-2 was not instructed to prepare for LCLS related handover in Step 8a, the BSS-2 starts bi-casting UP user plane data generated by UE-2 to local path and A interface and also starts to check whether there is incoming DL user plane data from the core network.\nNOTE 5:\tthere is no situation where BSS-2 will receive real DL user plane data from the CN at the same time as it receives local data from UE-1 as part of the handover.\n16.\tUE-1 is detected at target BSS. But still no UL data can be sent from target BSS to MGW-1 because TA-T3 is one-way DL only. MGW-1 will continue to transmit DL user plane data to the target BSS-1. BSS-2 continues to bi-cast user plane data to both local path and to the A interface.17.\tTarget MSC-Server sends MAP-Process-Access-Signal request to the MSC-1 server.\n17a.\tThe MSC-1 Server sends LCLS-Status-Change-Request to indicate that UE-1 has been detected in the target BSS and user data is now being sent through the CN and DL to the distant UE-2\n17b.\tThe MSC-2 Server shall signal to the BSS-2 that DL data received from the CN is now real user data coming from the UE-1.\n17c.\tThe BSS-2 sends the LCLS_Connect_Control_Ack message with the LCLS-BSS-Status IE set to \"the call is locally switched with requested LCLS configuration\".\n17d.\tAcknowledgement back through the CN that the indication for DL data after Handover Detect has been delivered.\n18a, b.\tThe MSC-1 server uses the Change Flow Direction procedure to request the MGW-1 to set the Handover Device to intermediate state and TA-T3 to both-way configuration. When BSS-2 finds out there is DL user plane data, BSS-2 will transmit the DL user plane data to UE-2.\n19.\tHandover Complete message is received from target BSS with LCLS-BSS-status indicating that the call cannot be locally switched.\n20.\tA Handover-Detect/Complete when received is included in the MAP SendEndSignalling Request message sent to the MSC-1 server.\n21.\tTarget MSC-Server sends ANSWER message with the LCLS-status when a Handover-Detect/Complete is received.\n22.\tMSC-1 server informs BSS-1 to clear the old call leg.\n23.\tMSC-1 server sends LCLS Status Update message with LCLS status \"LCLS not connected\" to MSC-2 server.\nNOTE 6:\tWhen BICC is used as the call control protocol the APM message is sent. When SIP-I is used the INFO request with the encapsulated APM message is sent.\n24.\tServing BSS-2 informs MSC-2 server that LCLS is broken via LCLS-Notification message.\nNOTE 7:\tThere is no need to send LCLS-Notification message from BSS-1 after receiving the Clear Command message since Clear Complete indicates that LCLS was disconnected.\n25.\tBSS-1 informs MSC-1 server that the resource for the UE-1 has been released and BSS-2 stops bi-casting.\n26a, b.\tThe MSC-1 server requests MGW-1 to set the Handover Device to its final state by removing the bearer termination TS towards BSC-1 using the Release Termination procedure.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.4.2.1.4.1.1",
        "ts_23.205_figure_8.4.2.1.4.2.1",
        "figure_8.4.2.1.4.2.2",
        "ts_23.009",
        "ts_23.205",
        "ts_23.231"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.4.2.2.1",
      "section_id": "8.4.2.2.1",
      "section_title": "General",
      "content": "When LCLS is not established for a call and an inter-MSC handover occurs that makes the call local, the call should be locally switched in the BSS. The Inter-MSC handover procedures specified in 3GPP TS 23.009 [9], 3GPP TS 23.205 [2] and 3GPP TS 23.231 [3] shall be followed. The following clauses describe the additional requirements for inter-MSC handovers that establish LCLS and the differences compared to Inter-MSC handovers that break LCLS are identified.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.009",
        "ts_23.205",
        "ts_23.231"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.4.2.2.2",
      "section_id": "8.4.2.2.2",
      "section_title": "MSC-1 / MGW-1",
      "content": "8.4.2.2.2.1\tHandover Required\nWhen MSC-1 Server receives the Handover Required message from the serving BSS and determines that the call shall be handed over to the Target MSC Server, it shall send the GCR of the call, the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE to the Target MSC Server in a MAP Prepare-Handover_Request message.\n8.4.2.2.2.2\tHandover Request Acknowledge\nWhen MSC-1 Server receives the MAP Prepare_Handover_Response including Handover_Request_Acknowledgement message with a LCLS-BSS-Status IE the Anchor MSC-1 Server configures the bearer terminations in MGW-1 and sends the GCR IE, the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE to the target MSC-Server.\n8.4.2.2.2.3\tBearer establishment between MGW-1 and Target MGW\nThe handling of the bearer establishment between MGW-1 and Target MGW is as described in clause 6.1 for a Basic Mobile Originating Call. The MSC server shall also use the Change Flow Direction procedure to request the MGW-1 to set the Handover Device to the initial state.\n8.4.2.2.2.4\tMGW Flow Direction Control\nIn accordance with the normal handover case the MGW-1 isolates the termination towards the Target MGW (T2) from the termination to the Serving BSS (TS) and configures the Anchor termination (T1) one-way DL towards the Target MGW termination (T2). Termination to the Serving BSS (TS) is both-way connected to Anchor termination (T1) since it is also receiving UL user data from termination to the Serving BSS (TS).\n8.4.2.2.2.5\tHandover Command/Handover Detect\nThe MSC-1 Server shall use the Change Flow Direction procedure to requests the MGW-1 to set the Handover Device to intermediate state.\n8.4.2.2.2.6\tHandover Complete\nWhen the MSC-1 Server receives the Handover Complete message, it releases the A-interface line towards BSS-1. The MSC-1 Server also requests MGW-1 to set the Handover Device to its final state by removing the bearer termination towards the BSS-1.\nWhen LCLS has been established during the handover procedure, the target BSS informs the target MSC-Server that the call has been locally switched in the Handover Complete message,",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.4.2.2.3",
      "section_id": "8.4.2.2.3",
      "section_title": "Target MSC Server / Target MGW",
      "content": "8.4.2.2.3.1\tPrepare Handover Request message and MGW selection\nThe Target MSC server selects the Target MGW when it receives Prepare Handover Request message. The Target MSC server sends the Handover Request message to the Target BSS as for the normal case but shall include the GCR IE, the LCLS-Configuration IE and the LCLS-Connection-Status-Control IE set to \"Connect\".\n8.4.2.2.3.2\tHandover Request Acknowledge\nIf the Target BSS supports the LCLS feature it shall include the LCLS-BSS-Status IE in the Handover Request Acknowledge message in order to inform the Target MSC Server that the BSS supports the LCLS feature. The Target MSC Server sends the same information in the MAP Prepare Handover Response message to the MSC-1 Server.\n8.4.2.2.3.3\tBearer establishment towards Target BSS\nWhen the Target MSC Server has selected the Target MGW it requests the Target MGW to seize a TDM circuit if AoTDM using the Reserve Circuit procedure, or an IP termination if AoIP using the reserve Connection Point procedure as for the normal handover procedure. The Target MSC Server sends the Handover Request message to the Target BSS containing the CIC for AoTDM or the IP addresses and UDP ports received from the target MGW if AoIP.\n8.4.2.2.3.4\tBearer establishment between MGW-1 and Target MGW\nThe handling of the bearer establishment between MGW-1 and Target MGW is as described for basic mobile terminating call in clause 6.2.\n8.4.2.2.3.5\tLCLS Negotiation in Initial Address message\nIf the Target MSC Server receives an Initial Address message that does not include a LCLS-Negotiation Request IE or includes a LCLS-Negotiation Request IE set to LCLS is not permitted, the Target MSC Server shall update the previously sent LCLS-Configuration by sending a LCLS_CONNECT_CONTROL message to BSS with a LCLS-Configuration IE set to LCLS-not allowed and a LCLS_Connection_Status_Control IE set to \"do not connect LCLS\". The inter-MSC handover continues as described in clause 8.4.2.3 Inter-MSC Handover that leaves a not locally Switched Call unchanged.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6.2",
        "clause_8.4.2.3"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.4.2.2.4",
      "section_id": "8.4.2.2.4",
      "section_title": "Example of Inter-MSC Handover that establishes Local Switching",
      "content": "8.4.2.2.4.1\tConnection Model\nFigure 8.4.2.2.4.1.1 shows the network model for the Basic Inter-MSC GSM to GSM handover when LCLS is established as a result of the handover. The dashed line in green represents call control signalling and the dashed line in blue represents the user plane connection path via the core network, which should be used if LCLS is not established or after LCLS is broken. The non-dotted lines represent the bearer carrying real user plane data. In MGW-1 the bearer termination TS is used for the bearer towards BSS-1, bearer termination TA is used for the bearer towards the succeeding/preceding MGW, that is MGW-2 and bearer termination T3 is used towards the Target MGW. In MGW-2 the bearer termination T2 is used for the bearer towards BSS-2 and bearer termination T1 is used for the bearer towards MGW-1. In Target-MGW the bearer termination TT is used towards the Target-BSS and bearer termination T4 is used towards MGW-1.\nIn this example scenario the Handover Device is located in MGW-1 selected for the call establishment by the MSC-1 server, which controls the call and mobility management.\nBefore Handover\nDuring Handover, T3 is isolated from TS, TA is one-way connected to T3\nAfter Handover, LCLS is established and both call legs are in Target BSS (=BSS-2)\nFigure 8.4.2.2.4.1.1: Basic Inter-MSC GSM to GSM Handover (network model)\n8.4.2.2.4.2\tBasic Sequence for Inter-MSC GSM to GSM Handover that establishes Local Switching\nFigures 8.4.2.2.4.2.1 and 8.4.2.2.4.2.2 show the message sequence example for the Basic Inter-MSC GSM to GSM Handover shown in the corresponding network model Figure 8.4.2.2.4.1.1. The Handover Device is located in MGW-1 selected for the call establishment by the MSC-1 server, which controls the call and the mobility management. The description is based on 3GPP TS 23.009 [9], 3GPP TS 23.205 [2] and 3GPP TS 23.231 [3].\nFigure 8.4.2.2.4.2.1: Initial phase of Inter-MSC Handover establishing Local Switching\n1.\tHandover Required message is received from BSS-1 requesting an inter-MSC handover. The call is currently not locally switched.\n2.\tThe MSC-1 server determines that inter-MSC handover is required and sends the Pre-Handover Request message to target MSC-Server which includes LCLS Negotiation Request, the LCLS-Configuration-Preference and GCR IEs and GCR.\n3a, b.\tTarget-MSC-Server reserves circuit or Connection Point towards the Target-BSS\n4.\tTarget MSC-Server sends Handover request message to target BSS with GCR and instructs the BSS to prepare to connect LCLS. The LCLS-Configuration IE can instruct the BSS to bi-cast user plane data, if applicable.\n5.\tTarget BSS performs call leg correlation with GCR to find if another call leg is active with same GCR. The BSS reports in Handover Request Acknowledge message that the local call was found but LCLS is not yet established.\n5a.\tThe BSS-2 notifies MSC-2 server the LCLS status is changed by sending the LCLS_Notification message with the LCLS-BSS-Status IE set to \"Call not yet locally switched\".\n5b.\tIf the call has been answered and MSC-2 server permits LCLS to be connected, then the MSC-2 server sends to the BSS-2 the LCLS_Connect_Control message with the LCLS-Connection-Status-Control IE set to \"connect\".\n5c.\tThe BSS-2 returns the LCLS_Connect_Control_ACK message with the LCLS-BSS-Status IE set to \"Call not yet locally switched\".\n6a, b.\t(These signalling steps are only applicable to AoIP.) When the Target MSC-Server receives the BSSMAP Handover Request-Ack message, it sends the BSC-B IP address and UDP Port number to the MGW-B using the Configure RTP Connection Point procedure.\n7.\tThe Target MSC-Server sends the Prepare Handover Response message to MSC-1 server.\n8, b.\tIn accordance with normal handover the MSC-1 server requests MGW-1 to isolate the termination towards Target MGW (T3) from the termination to the Serving BSS-1 (TS) and to configure the Anchor termination (TA) one-way DL towards the Target MGW termination (T3).\n9.\tMSC-Server 1 sends IAM (Initial Address Message) to Target MSC-Server including GCR, the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE.\nNOTE 1: Corresponding SIP-I signalling is specified in 3GPP TS 23.231 [3].\nNOTE 2: The LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE in step 9 can be different from LCLS Negotiation Request IE and the LCLS-Configuration-Preference IE in step 2, because step 9 is BICC signalling and the IE values can be changed by intermediate MSC-Servers.\n10a, b.\tTarget MSC-Server reserves bearer connection T4 towards MGW-1.\n11.\tAfter Target MGW has replied with the bearer address and the binding reference (Step 10b), the Target MSC-Server returns the Bearer and Codec Information (APM) message with selected codec, available codec list and the LCLS-Negotiation Response IE and the LCLS-Configuration-Preference IE.\nFigure 8.4.2.2.4.2.2: Completion phase of Inter-MSC Handover establishing Local Switching\n12.\tTarget MSC-Server sends ACM (Address Complete Message). Target MSC-Server awaits the capturing of the UE-1 on the radio path when the ACM is sent and MSC-1 server initiates the handover execution when receiving ACM.\n13 - 18. When the local switching has been established during the handover procedure, the target BSS shall inform the target MSC-Server that the call has been locally switched in Handover Complete message, and the target BSS shall also send a new message LCLS-Notification with LCLS-BSS-Status IE to inform the MSC-2 server that the local switching has been established. In steps 16a and 16b the MSC-1 server configures MGW-1 for the completion of the handover.\n19.\tA Handover-Detect/Complete when received is included in the MAP-Send-End-Signalling request and sent back to the MSC-1 server.\n20.\tTarget MSC-Server sends ANSWER message with the LCLS-status when A-HO-DETECT/COMPLETE is received.\n21.\tMSC-Server 1 clears the call in BSS-1.\n22.\tMSC-1 server (Anchor MSC-Server) sends LCLS-Status-Update message to the far end MSC-2 server.\nNOTE 3:\tWhen BICC is used as the call control protocol the APM message is sent. When SIP-I is used the INFO request with the encapsulated APM message is sent.\n23.\tBSS-1 informs MSC-1 server that the resource for the UE-1 has been released\n24a, b.\tMSC-1 server releases the bearer termination towards BSS-1.\n25.\tLocal switching is established in the BSS.",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.4.2.2.4.1.1",
        "ts_23.205_figure_8.4.2.2.4.2.1",
        "figure_8.4.2.2.4.2.2",
        "ts_23.009",
        "ts_23.205",
        "ts_23.231"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.4.2.3",
      "section_id": "8.4.2.3",
      "section_title": "Inter-MSC Handover that leaves a not Locally Switched Call unchanged",
      "content": "In this scenario it is assumed that LCLS was not established before the Inter-MSC handover. When one call leg is handed over to another MSC-Server, the call still remains not local. LCLS cannot be established for the call and the LCLS status of the call is not changed.\nFor the Anchor MSC-1 server and Target MSC server this Inter-MSC handover is similar to the Inter-MSC handover that establishes LCLS as described in clause 8.4.2.2.4.2 until Step 5, but in this case in Step 5 the Target BSS sends the Handover Request ACK message, where the LCLS-BSS-Status IE indicates that the call is not possible to be locally switched since the GCR correlation will indicate that the call is not local. Steps 5a, 5b, 5c will not be triggered. The handover procedure is completed as for a non-local call, LCLS is not established and the LCLS Status in the core network is not changed.",
      "chunk_type": "general",
      "cross_references": [
        "clause_8.4.2.2.4.2"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.4.3",
      "section_id": "8.4.3",
      "section_title": "Subsequent Inter-MSC GSM to GSM Handover back to the Anchor MSC",
      "content": "The basic Inter-MSC GSM to GSM handover procedure as specified in this specification shall be applied.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_8.4.4",
      "section_id": "8.4.4",
      "section_title": "Subsequent GSM to GSM Handover to a third MSC",
      "content": "The basic GSM to GSM handover procedure as specified in this specification shall be applied.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_8.4.5.1",
      "section_id": "8.4.5.1",
      "section_title": "General",
      "content": "The following procedures describe the specific handling compared to the basic principles described in 3GPP TS 23.205 [2] clause 8.4.5 to achieve BSS Internal Handover with LCLS for an A-interface User Plane over IP (AoIP).\nIf the call is not locally switched but both call legs have been correlated and an internal handover occurs that makes the call local, the call should be locally switched in the BSS.\nIf a call is currently locally switched and an internal handover occurs that makes the call not local, the local switching should be broken in the BSS and the user plane data shall be connected through the core network.\nNOTE1:\tFor A-interface User Plane over TDM (AoTDM), a BSS internal handover that results in LCLS break will trigger a BSS Initiated LCLS Break according to procedures in clause 7.2.2.\nIf an internal handover procedure occurs that does not modify the LCLS status of a call, the local switching should not be modified within the BSS.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.205_clause_8.4.5",
        "clause_7.2.2",
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.4.5.2",
      "section_id": "8.4.5.2",
      "section_title": "Internal Handover Required",
      "content": "If the MSC Server accepts the Internal Handover Required message it shall send an Internal Handover Command message to the BSS. If the call is currently locally switched in the BSS, the MSC Server shall also signal LCLS-Status-Change Request message containing LCLS-Status-Change IE set to \"LCLS Disconnection Preparation for Handover\" through the core network to enable UL bi-casting during handover.\nThe MSC Server shall not wait for the LCLS-Status-Change Request Acknowledge message before proceeding with the Internal Handover.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_8.4.5.3",
      "section_id": "8.4.5.3",
      "section_title": "Internal Handover Command",
      "content": "If local switching is permitted by the core network and the MSC Server has not previously requested that the BSS should connect the local call, (e.g. no previous LCLS-Connection-Status-Control = \"Connect\"), the MSC Server shall include the LCLS-Connection-Status-Control IE indicating \"Connect\" in the Internal Handover Command message.\nOtherwise, the MSC Server shall send the Internal Handover Command message according to the procedures in 3GPP TS 48.008 [7].",
      "chunk_type": "general",
      "cross_references": [
        "ts_48.008"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.4.5.4",
      "section_id": "8.4.5.4",
      "section_title": "Handover Complete",
      "content": "The BSS sends Handover Complete message including the LCLS-BSS-Status that indicates whether the call is locally switched (e.g. \"Call is Locally Switched with requested LCLS configuration \" or \"the call is no longer locally switched\").\nThe MSC server shall send to an adjacent call node the LCLS-Status-Update message with the LCLS-Status IE indicating the new LCLS Status (e.g. \"LCLS connected\" or \"LCLS Not Connected\").",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_8.4.5.5.1",
      "section_id": "8.4.5.5.1",
      "section_title": "Connection Model",
      "content": "Figure 8.4.5.5.1.1 shows the network model for the Intra-MSC BSS Internal Handover, where the call leg pertinent to the UE-1 is handed over from the serving BSS-1 to BSS-2. BSS-1 is the same as BSS-2 for BSS Internal Handover. The bearer termination T2 is used for the bearer towards BSS-2, which is not affected by this handover. Bearer termination TS is used for the bearer towards BSS-1 and the bearer terminations T1 and TA are used for the bearer towards the succeeding/preceding MGW. Bearer termination TT is for the bearer termination towards the BSS after internal handover. The colours and line types used in the figure are defined differently from 3GPP TS 23.205 [2] to indicate LCLS specific issues.\nConnection Model 1: Before BSS Internal Handover - Call is not locally switched\nConnection Model 2: During BSS Internal Handover\nConnection Model 3: After BSS Internal Handover – Call is Locally Switched\nFigure 8.4.5.5.1.1: BSS Internal Handover Connection Model that Establishes Local Switching",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.4.5.5.1.1",
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.4.5.5.2",
      "section_id": "8.4.5.5.2",
      "section_title": "Basic Sequence for BSS Internal Handover that Establishes Local Switching",
      "content": "Figure 8.4.5.5.2.1 shows the message sequence example for the BSS Internal Handover that Establishes Local Switching.\nIn the example, the MSC server receives the Internal Handover Required message and requests the MGW to reserve an RTP bearer termination (TT) using the Reserve and Configure RTP Connection Point procedure with specific flow directions.\nFigure 8.4.5.5.2.1: BSS Internal Handover for AoIP that Establishes Local Switching\n1 – 2.\tAs for normal Internal Handover, see TS 23.205 [2] clause 8.4.5.\n3.\tThe MSC-1 Server determines that local switching is permitted by the core network and sends the Internal Handover Command message, including the LCLS-Connection-Control-Status message indicating \"Connect\" if not previously indicated to BSS-1.\n3a.\tThe BSS-2 notifies MSC-2 server the LCLS status is changed by sending the LCLS_Notification message with the LCLS-BSS-Status IE set to \"Call not yet locally switched\".\n3b.\tIf the call has been answered and MSC-2 server permits LCLS to be connected, then the MSC-2 server sends to the BSS-2 the LCLS_Connect_Control message with the LCLS-Connection-Status-Control IE set to \"connect\".\n3c.\tThe BSS-2 returns the LCLS_Connect_Control_ACK message with the LCLS-BSS-Status IE set to \"Call not yet locally switched\".\n4 – 5.\tAs for normal Internal Handover, see TS 23.205 [2] clause 8.4.5.\n6.\tThe Handover Complete message includes the LCLS-BSS-Status IE indicating that call is locally switched.\nNOTE:\talternatively the BSS-1 could indicate LCLS-BSS-Status IE in LCLS-Notification message.\n7.\tThe LCLS Status is propagated through the Core Network.\n8.\tThe BSS-2 sends the LCLS_Notification message to MSC-2 server with the LCLS-BSS-Status IE set to \"call is locally switched with requested LCLS configuration\".\n9.\tThe termination (TS) is removed from the Access MGW-1.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.205_clause_8.4.5",
        "figure_8.4.5.5.2.1",
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.4.5.6.1",
      "section_id": "8.4.5.6.1",
      "section_title": "Connection Model",
      "content": "Figure 8.4.5.6.1.1 shows the network model for the Intra-MSC BSS Internal Handover, where the call leg pertinent to the UE-1 is handed over from the serving BSS-1 to BSS-2. BSS-1 is the same as BSS-2 for BSS Internal Handover. The bearer termination T2 is used for the bearer towards BSS-2, which is not affected by this handover. Bearer termination TS is used for the bearer towards BSS-1 and the bearer terminations T1 and TA are used for the bearer towards the succeeding/preceding MGW. Bearer termination TT is for the bearer termination towards the BSS after internal handover. The colours and line types used in the figure are defined differently from 3GPP TS 23.205 [2] to indicate LCLS specific issues.\nConnection Model 1: Before BSS Internal Handover - Call is locally switched\nConnection Model 2: During BSS Internal Handover\nConnection Model 3: After BSS Internal Handover – Call is not Locally Switched\nFigure 8.4.5.6.1.1: BSS Internal Handover Connection Model that Breaks Local Switching",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.4.5.6.1.1",
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.4.5.6.2",
      "section_id": "8.4.5.6.2",
      "section_title": "Basic Sequence for BSS Internal Handover that Breaks Local Switching",
      "content": "Figure 8.4.5.6.2.1 shows the message sequence example for the BSS Internal Handover that Breaks Local Switching.\nIn the example, the MSC server receives the Internal Handover Required message and requests the MGW to reserve an RTP bearer termination (TT) using the Reserve and Configure RTP Connection Point procedure with specific flow directions.\nFigure 8.4.5.6.2.1: BSS Internal Handover for AoIP that Breaks Local Switching\n1 – 2.\tAs for normal Internal Handover, see TS 23.205 [2] clause 8.4.5.\n3.\tMSC-1 Server indicates preparation for disconnection due to handover through the Core Network.\n3a.\tMSC-2 Server indicates to BSS-2 to start UL bicasting.\n3b.\tThe BSS-2 sends the LCLS_Connect_Control_Ack message with the LCLS-BSS-Status IE set to \"the call is locally switched with requested LCLS configuration \".\n3c.\tMSC-2 Server sends LCLS-Status-Change-Request-Acknowledgement.\n4.\tThe MSC-1 Server determines that local switching is permitted by the core network and sends the Internal Handover Command message, optionally including the LCLS-Connection-Control-Status message indicating \"Connect\".\n4a\tBSS-1 may indicate Handover Detected.\n5.\tBSS-1 sends the Handover Complete message to MSC-1 Server to indicate LCLS-BSS-Status is set to \"Call is no longer locally switched\".\n6.\tMSC-1 Server propagates the change of the LCLS Status through the Core Network.\nNOTE:\tIf the Internal Handover did not in the end result in LCLS break then the MSC Server will send LCLS-Status-Update message indicating that the call is locally switched.\n7.\tBSS-2 indicates that the call is no longer locally switched in the LCLS_NOTIFICATION message.\n8.\tThe old termination (TS) is removed and the call is normally switched through the Core Network.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.205_clause_8.4.5",
        "figure_8.4.5.6.2.1",
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.4.5.7.1",
      "section_id": "8.4.5.7.1",
      "section_title": "Connection Model",
      "content": "Figure 8.4.5.7.1.1 shows the network model for the Intra-MSC BSS Internal Handover, where the call leg pertinent to the UE-1 is handed over from the serving BSS-1 to BSS-2. BSS-1 is the same as BSS-2 for BSS Internal Handover. The bearer termination T2 is used for the bearer towards BSS-2, which is not affected by this handover. Bearer termination TS is used for the bearer towards BSS-1 and the bearer terminations T1 and TA are used for the bearer towards the succeeding/preceding MGW. Bearer termination TT is for the bearer termination towards the BSS after internal handover. The colours and line types used in the figure are defined differently from 3GPP TS 23.205 [2] to indicate LCLS specific issues.\nConnection Model 1: Before BSS Internal Handover - Call is locally switched\nConnection Model 2: During BSS Internal Handover\nConnection Model 3: After BSS Internal Handover – Call is Locally Switched\nFigure 8.4.5.7.1.1: BSS Internal Handover Connection Model that Does Not Modify LCLS Status of a Locally Switched Call",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.4.5.7.1.1",
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.4.5.7.2",
      "section_id": "8.4.5.7.2",
      "section_title": "Basic Sequence for BSS Internal Handover that Does Not Modify LCLS Status of a Locally Switched Call",
      "content": "Figure 8.4.5.7.2.1 shows the message sequence example for the BSS Internal Handover that Does Not Modify LCLS Status of a Locally Switched Call.\nIn the example, the MSC server receives the Internal Handover Required message and requests the MGW to reserve an RTP bearer termination (TT) using the Reserve and Configure RTP Connection Point procedure with specific flow directions.\nFigure 8.4.5.7.2.1: BSS Internal Handover for AoIP that Does Not Modify LCLS Status of a Locally Switched Call\n1 – 2.\tAs for normal Internal Handover, see TS 23.205 [2] clause 8.4.5.\n3.\tMSC-1 Server indicates preparation for disconnection due to handover through the Core Network.\n3a.\tMSC-2 Server indicates to BSS-2 to start UL bicasting.\n3b.\tThe BSS-2 sends the LCLS_Connect_Control_Ack message with the LCLS-BSS-Status IE set to \"the call is locally switched with requested LCLS configuration\".\n3c.\tMSC-2 Server sends LCLS-Status-Change-Request-Acknowledgement.\n4.\tThe MSC-1 Server determines that local switching is permitted by the core network and sends the Internal Handover Command message, optionally including the LCLS-Connection-Control-Status message indicating \"Connect\".\n4a\tBSS-1 may indicate Handover Detected.\n5.\tBSS-1 sends the Handover Complete message to MSC-1 Server to indicate LCLS-BSS-Status is set to \"the call is locally switched with requested LCLS configuration\".\n6.\tThe old termination (TS) is removed and the call is normally switched through the Core Network.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.205_clause_8.4.5",
        "figure_8.4.5.7.2.1",
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.4.5.8.1",
      "section_id": "8.4.5.8.1",
      "section_title": "Connection Model",
      "content": "Figure 8.4.5.8.1.1 shows the network model for the Intra-MSC BSS Internal Handover, where the call leg pertinent to the UE-1 is handed over from the serving BSS-1 to BSS-2. BSS-1 is the same as BSS-2 for BSS Internal Handover. The bearer termination T2 is used for the bearer towards BSS-2, which is not affected by this handover. Bearer termination TS is used for the bearer towards BSS-1 and the bearer terminations T1 and TA are used for the bearer towards the succeeding/preceding MGW. Bearer termination TT is for the bearer termination towards the BSS after internal handover. The colours and line types used in the figure are defined differently from 3GPP TS 23.205 [2] to indicate LCLS specific issues.\nConnection Model 1: Before BSS Internal Handover - Call is not locally switched\nConnection Model 2: During BSS Internal Handover\nConnection Model 3: After BSS Internal Handover – Call is not Locally Switched\nFigure 8.4.5.8.1.1: BSS Internal Handover Connection Model that Does Not Modify LCLS Status of a non-Locally Switched Call",
      "chunk_type": "general",
      "cross_references": [
        "figure_8.4.5.8.1.1",
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.4.5.8.2",
      "section_id": "8.4.5.8.2",
      "section_title": "Basic Sequence for BSS Internal Handover that Does Not Modify LCLS Status of a non-Locally Switched Call",
      "content": "Figure 8.4.5.8.2.1 shows the message sequence example for the BSS Internal Handover that Does Not Modify LCLS Status of a Locally Switched Call.\nIn the example, the MSC server receives the Internal Handover Required message and requests the MGW to reserve an RTP bearer termination (TT) using the Reserve and Configure RTP Connection Point procedure with specific flow directions.\nFigure 8.4.5.8.2.1: BSS Internal Handover for AoIP that Does Not Modify LCLS Status of a non-Locally Switched Call\n1 – 2.\tAs for normal Internal Handover, see TS 23.205 [2] clause 8.4.5.\n3.\tThe MSC-1 Server determines that local switching is permitted by the core network and sends the Internal Handover Command, optionally including the LCLS-Connection-Control-Status message indicating \"Connect\".\n3a\tBSS-1 may indicate Handover Detected.\n4.\tBSS-1 sends the Handover Complete message to MSC-1 Server to indicate LCLS-BSS-Status is set to \"Call is not locally switched\".\n5.\tThe old termination (TS) is removed and the call is normally switched through the Core Network.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.205_clause_8.4.5",
        "figure_8.4.5.8.2.1",
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_8.5",
      "section_id": "8.5",
      "section_title": "Handling of GSM Services after UMTS to GSM Handover",
      "content": "No impact. There are no LCLS related requirements for the handling of GSM Services after UMTS to GSM Handover.\nThe handling of GSM services after UMTS to GSM Handover shall be applied in accordance with 3GPP TS 23.205 [2] clause 8.5 for Bearer-Independent CS Core Networks.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.205_clause_8.5",
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_9",
      "section_id": "9",
      "section_title": "Compatibility Issues",
      "content": "None; this feature is backward compatible with existing features and earlier releases.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_10",
      "section_id": "10",
      "section_title": "General (G)MSC server-MGW Procedures",
      "content": "LCLS does not modify the general (G)MSC server-MGW procedures as shown in 3GPP TS 23.205 [2].",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_11.1",
      "section_id": "11.1",
      "section_title": "General",
      "content": "The Identities defined in 3GPP TS 23.205 [2] for BICC based CS Core network and in 3GPP TS 23.231 [3] for SIP-I with the following additions.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.205",
        "ts_23.231"
      ]
    },
    {
      "chunk_id": "ts_23.284_11.2",
      "section_id": "11.2",
      "section_title": "Global Call Reference",
      "content": "The Global Call Reference (GCR) IE is derived from the ITU-T Global Call Reference parameter (defined by ITU-T Q.1902.3 [5]).\nThe Global Call Reference (GCR) information element is a combination of a Network ID field, a Node ID field and a Call Reference ID field. The Call Reference ID field for LCLS is defined to contain a unique call ID.\nIf the serving radio access is GERAN the Call Reference ID subfield created by originating MSC server contains a unique call ID and the originating BSS ID which is a unique identifier of a Base Station Subsystem (BSS) Node within an operator's network.\nThe complete parameter layout is specified in 3GPP TS 29.205 [6].\nThe GCR is exchanged on the Nc and A interfaces to globally identify the call.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_12.1",
      "section_id": "12.1",
      "section_title": "Charging",
      "content": "No impact.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_13.1",
      "section_id": "13.1",
      "section_title": "Enhanced Multi-Level Precedence and Pre-emption service (eMLPP)",
      "content": "No impact. eMLPP is always done during call set-up and handled by the MSC Server and therefore such calls can be locally switched.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_13.2.1",
      "section_id": "13.2.1",
      "section_title": "General",
      "content": "The procedures specified for the Call Deflection (CD) supplementary services in 3GPP TS 23.205 [2] clause 13.2 for BICC based CS Core Network and in 3GPP TS 23.231 [3] clause 13.2 for SIP-I based CS Core Network shall be followed. The following clauses describe the additional requirements related to the LCLS functionality.\nThe incoming call shall be offered to the served subscriber as a basic mobile terminated call as described in the first part of clause 6.3.2. If the Call Deflection (CD) supplementary service is active and a Call Deflection request from the served subscriber is accepted the call shall be forwarded towards the forwarded-to subscriber.\nThe basic call establishment procedures defined in Clause 6 shall be followed for the call towards the forwarded-to (deflected-to) subscriber. The MSC server shall release the call leg towards the served subscriber as described in the clause 7.1 for call clearing.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.205_clause_13.2",
        "ts_23.231_clause_13.2",
        "clause_6.3.2",
        "clause_6",
        "clause_7.1",
        "ts_23.205",
        "ts_23.231"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.2.2",
      "section_id": "13.2.2",
      "section_title": "Notification to the Calling Subscriber",
      "content": "If the served mobile subscriber has requested that the calling subscriber shall receive a notification about the call forwarding, a notification is sent to the calling party.\nIf the notification is implemented using intermediate tones or announcements the MSC server requests the MGW to play an announcement/tone to the calling party, as described in clause 14.6, before establishing the call to the forwarded-to subscriber.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_14.6"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.2.3",
      "section_id": "13.2.3",
      "section_title": "Initial Addressing",
      "content": "After the possible generation of in-band information has been completed the initial addressing towards the forwarded-to subscriber is performed as described in Clause 6 for the basic mobile terminating call. If the forwarding MSC server supports the LCLS feature and has received the GCR IE, the LCLS-Negotiation Request IE and LCLS-Configuration-Preference IE from a preceding node in the IAM it shall then forward the GCR IE and the resulting LCLS-Configuration-Preference IE and the LCLS-Negotiation Request IE to the succeeding node.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.2.4",
      "section_id": "13.2.4",
      "section_title": "Backward LCLS Negotiation",
      "content": "The procedure specified in clause 6.2.1.2.2 for the intermediate node and in clause 6.1.1.4 for the oMSC server shall be applied.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.2.1.2.2",
        "clause_6.1.1.4"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.2.5",
      "section_id": "13.2.5",
      "section_title": "LCLS Through-Connection",
      "content": "The procedure specified in clause 6.1.1.5 shall be applied.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1.1.5"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.2.6.1",
      "section_id": "13.2.6.1",
      "section_title": "Connection Model",
      "content": "Figure 13.2.6.1.1 shows the network model for Call Deflection (CD).\nThe oMSC server seizes one context with two bearer terminations in the oMGW. The bearer termination T1 is used for the bearer towards the oBSS (calling subscriber) and the bearer termination T2 is used for the bearer towards the GMSC selected iMGW. The GMSC server seizes one context with two bearer terminations in the iMGW. The bearer termination T4 is used for the bearer towards the sMSC server selected sMGW and the bearer termination T3 is used for the bearer towards the preceding oMGW. The sMSC server seizes one context with two bearer terminations in the sMGW. The bearer termination T5 is used for the bearer towards the GMSC selected iMGW and bearer termination Ts is used for the bearer towards the sBSS (served subscriber).\nAfter a call deflection request is accepted the sMSC server replaces the bearer termination for the served mobile subscriber Ts with the bearer termination for the forwarded-to subscriber T6 in an existing context in the sMGW.\nThe tMSC server seizes one context with two bearer terminations in the tMGW. The bearer termination T7 is used for the bearer towards the sMSC selected sMGW and bearer termination T8 is used for the bearer towards the tBSS (forwarded-to subscriber).\nConnection Model 1: Before Call Deflection (CD) Request from Served UE\nConnection Model 2: After CD is accepted, Announcement towards calling party\nConnection Model 3: CD, After Answer, Call locally switched\nFigure 13.2.6.1.1:\tConnection Model for Call Deflection",
      "chunk_type": "general",
      "cross_references": [
        "figure_13.2.6.1.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.2.6.2",
      "section_id": "13.2.6.2",
      "section_title": "Basic Sequence",
      "content": "Figures 13.2.6.2.1 and 13.2.6.2.2 show the message sequence example for the call deflection with a possible notification to the calling party using an announcement. In the example the sMSC server optionally requests the sMGW to play an announcement and to notify the announcement completion. The sMSC server requests the establishment of the call and the bearer towards the forward-to subscriber after the possible announcement has completed. In this example the calling subscriber (oUE) and the forwarded-to subscriber (tUE) belong to the same BSS (marked as oBSS and tBSS) and the CN permits LCLS. This example is based on examples from clause 6.\nFigure 13.2.6.2.1: CD, Call Establishment Flow\n1.\tThe incoming call is offered to the served subscriber as a basic mobile terminated call as described in the first part of clause 6.3.2. The Call Deflection (CD) supplementary service is active and a Call Deflection is requested from the served subscriber sUE.\n2.\tThe Call Deflection is accepted.\n3.\tThe sMSC server initiates call clearing towards the sUE by sending a DISCONNECT message.\n4.\tUpon receiving the DISCONNECT message the sUE sends a RELEASE message to the core network.\n5.\tThe sMSC server sends the RELEASE COMPLETE message to the sUE.\n6.\tThe sMSC server request the sBSS to release the associated dedicated resource(s) by sending CLEAR COMMAND message.\n7.\tThe sBSS informs the sMSC server that the associated dedicated resource(s) has been successfully cleared with the CLEAR COMPLETE message.\n8.\tThe sMSC server orders the sMGW to remove the bearer termination (Ts) towards the served mobile subscriber (in case when the radio resources had already been allocated in the sMGW).\n9.\tThe sMSC server sends the CPG message with the Generic Notification Indicator parameter set to \"Call is diverting\".\n10.\tThe sMSC server provides the sMGW with the announcement/tone identification and requests the sMGW to notify the announcement/tone completion using the Play Announcement or Send Tone procedure.\n11.\tThe GMSC server forwards the CPG message with the Generic Notification Indicator parameter set to \"Call is diverting\" to the preceding node.\n12.\tThe oMSC server notifies the calling user (oUE) about call forwarding.\n13.\tThe sMGW notifies the sMSC server when the announcement/tone is completed using the Announcement Completed or Tone Completed procedure.\nFigure 13.2.6.2.2: CD, Call Establishment Flow (continuation of figure 13.2.6.2.1)\n14.\tIf the sMSC server supports LCLS it may modify the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE before sending the IAM message containing the GCR with the encapsulated oBSS ID, the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE.\n15.\tThe tMSC server pages the forwarded-to subscriber (tUE).\n16.\tThe tMSC server performs call Setup.\n17.\tThe tUE confirms the call.\n18.\tThe tMSC server requests the tMGW to prepare for the network side bearer establishment (T7).\n19.\tAfter the tMGW has replied with the bearer address and the binding reference the tMSC server returns the APM message with the selected codec and if LCLS is supported, the LCLS-Negotiation Response IE and the LCLS-Configuration-Preference IE.\n20.\tThe sMSC server transfers the APM message with the LCLS-Negotiation Response IE and the LCLS-Configuration-Preference IE. If codec modification is required then the sMSC server includes the codec related information within the same APM message.\n21.\tThe GMSC server transfers the APM message.\n22.\tBased on the returned LCLS-Negotiation Response IE IE and the LCLS-Configuration-Preference IE the oMSC server determines whether LCLS is allowed in the core network and if LCLS-Configuration update is needed. If codec modification is required then the oMSC server performs codec negotiation according to 3GPP TS 23.153 [4].\n23.\tWhen performing further call establishment the procedure between the calling subscriber (oUE) and the forwarded-to subscriber (tUE) is the same as specified in steps 18 - 32 of clause 6.3.2.1.\n24.\tSince the received ANM message indicated \"LCLS is feasible but not yet connected\" the oMSC server checks if LCLS-Configuration updated is needed and if so the oMSC server calculates the new LCLS-Configuration value based on the latest received LCLS-Negotiation IE.\n25.\tThe oMSC server requests the oBSS to connect LCLS and if configuration updated is needed, it includes the LCLS-Configuration IE in the LCLS_CONNECT_CONTROL message.\n26a.\tSince the BSS has received the through connect request for both call legs the oBSS returns the LCLS_CONNECT_CONTROL_ACK message with the LCLS-BSS-Status IE set to \"the call is locally switched with requested LCLS configuration\".\n26b.\tSince the BSS has received the through connect request for both call legs the tBSS signals the LCLS status change by sending the LCLS_NOTIFICATION message with the LCLS-BSS-Status IE set to \"the call is locally switched with requested LCLS configuration\".\n27.\tThe oMSC server signals the change of the LCLS status through the Core Network by sending the APM message with the LCLS-Status IE set to \"LCLS connected\".\n28.\tThe iMSC server transfers the change of the LCLS status to the sMSC server.\n29.\tThe sMSC server transfers the change of the LCLS status to the tMSC server.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6",
        "clause_6.3.2",
        "clause_6.3.2.1",
        "figure_13.2.6.2.1",
        "figure_13.2.6.2.2",
        "ts_23.153"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.3.1",
      "section_id": "13.3.1",
      "section_title": "Calling Line Identification Presentation (CLIP)",
      "content": "No impact. The line identification related services are signalling based and there are no LCLS related requirements for the Calling Line Identification Presentation (CLIP) service.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_13.3.2",
      "section_id": "13.3.2",
      "section_title": "Calling Line Identification Restriction (CLIR)",
      "content": "No impact. The line identification related services are signalling based and there are no LCLS related requirements for the Calling Line Identification Restriction (CLIR) service.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_13.3.3",
      "section_id": "13.3.3",
      "section_title": "Connected Line Identification Presentation (COLP)",
      "content": "No impact. The line identification related services are signalling based and there are no LCLS related requirements for the Connected Line Identification Presentation (COLP) service.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_13.3.4",
      "section_id": "13.3.4",
      "section_title": "Connected Line Identification Restriction (COLR)",
      "content": "No impact. The line identification related services are signalling based and there are no LCLS related requirements for the Connected Line Identification Restriction (COLR) service.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_13.4.1",
      "section_id": "13.4.1",
      "section_title": "Principles",
      "content": "The procedures specified for the Call Forwarding services in 3GPP TS 23.205 [2] clause 13.4 for BICC based CS Core Network and in 3GPP TS 23.231 [3] clause 13.4 for SIP-I based CS Core Network shall be followed. The following clauses describe the additional requirements related to the LCLS functionality.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.205_clause_13.4",
        "ts_23.231_clause_13.4",
        "ts_23.205",
        "ts_23.231"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.4.2.1",
      "section_id": "13.4.2.1",
      "section_title": "Notification to the Calling Subscriber",
      "content": "If the GMSC server determines that a call should be forwarded without being offered to the served mobile subscriber and the served mobile subscriber has requested that the calling subscriber shall receive a notification about the call forwarding, the GMSC server shall send a notification to the preceding node. If the GMSC server supports the LCLS feature and receives the GCR IE, the LCLS-Negotiation Request IE and LCLS-Configuration-Preference IE from the preceding node it may modify the LCLS-Configuration-Preference IE based on its own LCLS configuration requirements, as described in clause 4.2, and it shall return the resulting LCLS-Configuration-Preference IE and the LCLS-Negotiation Response IE to the preceding node.\nIf the notification is implemented using intermediate tones or announcements the GMSC server requests the MGW to play an announcement/tone to the calling party, as described in clause 14.6, before establishing the call to the forwarded-to subscriber.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_4.2",
        "clause_14.6"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.4.2.2",
      "section_id": "13.4.2.2",
      "section_title": "Initial Addressing",
      "content": "If the incoming call is to be forwarded without being offered to the served mobile subscriber the call towards the forwarded-to subscriber is established as for a basic call. After the possible generation of in-band information has been completed the initial addressing towards the forwarded-to subscriber is performed as described in the clause 6 for the basic mobile terminating call. If the GMSC server supports the LCLS feature and receives the GCR IE, the LCLS-Negotiation Request IE and LCLS-Configuration-Preference IE from a preceding node in the IAM it shall forward the GCR IE and the resulting LCLS-Configuration-Preference IE and the LCLS-Negotiation Request IE to the succeeding node.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.4.2.3",
      "section_id": "13.4.2.3",
      "section_title": "Backward LCLS Negotiation",
      "content": "The procedure specified in clause 6.2.1.2.2 for the intermediate node and in clause 6.1.1.4 for the oMSC server shall be applied.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.2.1.2.2",
        "clause_6.1.1.4"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.4.2.4",
      "section_id": "13.4.2.4",
      "section_title": "LCLS Through-Connection",
      "content": "The procedure specified in clause 6.1.1.5 shall be applied.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1.1.5"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.4.2.5.1",
      "section_id": "13.4.2.5.1",
      "section_title": "Connection Model",
      "content": "Figure 13.4.2.5.1.1 shows the network model for call forwarding unconditional. The oMSC server seizes one context with two bearer terminations in the oMGW. The bearer termination T1 is used for the bearer towards the oBSS (calling subscriber) and the bearer termination T2 is used for the bearer towards the GMSC selected iMGW. The GMSC server seizes one context with two bearer terminations in the iMGW. The bearer termination T4 is used for the bearer towards the tMSC server selected tMGW and the bearer termination T3 is used for the bearer towards the preceding oMGW. The tMSC server seizes one context with two bearer terminations in the tMGW. The bearer termination T5 is used for the bearer towards the GMSC selected iMGW and bearer termination T6 is used for the bearer towards the tBSS (forwarded-to subscriber).\nConnection Model 1: Before CFU, Announcement towards Calling Party\nConnection Model 2: After CFU and answer, Call is locally switched\nFigure 13.4.2.5.1.1: Connection Model for Call Forwarding Unconditional",
      "chunk_type": "general",
      "cross_references": [
        "figure_13.4.2.5.1.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.4.2.5.2",
      "section_id": "13.4.2.5.2",
      "section_title": "Basic Sequence",
      "content": "Figures 13.4.2.5.2.1 and 13.4.2.5.2.2 show the message sequence example for the call forwarding unconditional with a possible notification to the calling party using an announcement. In the example the GMSC server optionally requests the MGW to play an announcement and to notify the announcement completion, after the bearer to the incoming side has been established. When the possible announcement has completed the GMSC server requests the establishment of the call and the bearer towards the forward-to subscriber.\nIn this example the calling subscriber (oUE) and the forwarded-to subscriber (tUE) belong to the same BSS (marked as oBSS and tBSS) and the CN permits LCLS. The example is based on examples from clause 6.\nFigure 13.4.2.5.2.1: CFU, Call Establishment Flow\n1.\tService Request handling.\n2.\tOriginating Call SETUP.\n3.\tIf the oMSC server supports LCLS it retrieves the oBSS ID and generates the Global Call Reference for the call.\n4.\tThe oMSC server sends the IAM message including supported codecs list, GCR with encapsulated oBSS ID, the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE.\n5.\tThe GMSC server determines that call should be forwarded because of the Call Forwarding Unconditional supplementary service and that notification should be send towards the calling party (oUE).\n6.\tSince bearer must be established for the announcement/tone to be sent to the calling party the GMSC server selects the MGW and requests the seizure of the incoming network side bearer termination (T3).\n7.\tThe GMSC server transfers the APM message with the selected codec and since LCLS is supported the currently negotiated LCLS-Negotiation Response IE and the LCLS-Configuration-Preference IE.\n8a.\tWhen the bearer information is received the oMSC server requests the seizure of the network side bearer termination (T2).\n8b.\tAfter the network side bearer information is seized the oMSC server requests the seizure of the access sidebearer termination (T1).During the seizure of the network side or the access side bearer termination the oMSC server will also request the oMGW to through-connect the bearer terminations so that the bearer will be backward through-connected.\n9.\tThe oMSC server determines whether LCLS is allowed in the core network based on the returned LCLS-Negotiation IE and if so the oMSC server includes the LCLS-Configuration IE in the ASSIGNMENT REQUEST message along with the GCR IE.\n10.\tThe oBSS returns the ASSIGNMENT COMPLETE message with the LCLS-BSS-Status IE indicating \"call not possible to be locally switched\".\n11.\tWhen the access assignment is completed the oMSC server sends the Continuity (COT) message to the GMSC server.\n12.\tThe GMSC server sends the ACM message with the Generic Notification Indicator parameter set to \"Call is diverting\".\n13.\tThe GMSC server provides the iMGW with the announcement/tone identification and requests the iMGW to notify the announcement/tone completion using the Play Announcement or Send Tone procedure.\n14.\tThe oMSC server notifies the calling user (oUE) about call forwarding.\nFigure 13.4.2.5.2.2: CFU, Call Establishment Flow (continuation of figure 13.4.2.5.2.1)\n15.\tThe iMGW notifies the GMSC server when the announcement/tone is completed using the Announcement Completed or Tone Completed procedure.\n16.\tIf the GMSC server supports LCLS it may modify the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE before sending the IAM message containing the GCR with the encapsulated oBSS ID, the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE.\n17.\tThe tMSC server pages the forwarded-to subscriber (tUE).\n18.\tThe tMSC server performs call Setup.\n19.\tThe tUE confirms the call.\n20.\tThe tMSC server requests the tMGW to prepare for the network side bearer establishment (T5).\n21.\tAfter the tMGW has replied with the bearer address and the binding reference the tMSC server returns the APM message with the selected codec and if LCLS is supported, the LCLS-Negotiation Response IE and the LCLS-Configuration-Preference IE.\n22.\tThe GMSC server transfers the APM message with the LCLS-Negotiation Response IE and the LCLS-Configuration-Preference IE. If codec modification is required then the GMSC server initiates codec negotiation according to 3GPP TS 23.153 [4], and includes the codec related information within the same APM message.\n23.\tBased on the returned LCLS-Negotiation Response IE and the LCLS-Configuration-Preference IE the oMSC server determines whether LCLS is allowed in the core network and if LCLS-Configuration update is needed. If codec modification is required then the oMSC server performs codec negotiation according to 3GPP TS 23.153 [4].\n24.\tWhen performing further call establishment the procedure between the calling subscriber (oUE) and the forwarded-to subscriber (tUE) is the same as specified in steps 18 - 32 of clause 6.3.2.1.\n25.\tSince the received ANM message indicated \"LCLS is feasible but not yet connected\" the oMSC server checks if LCLS-Configuration updated is needed and if so the oMSC server calculates the new LCLS-Configuration value based on the latest received LCLS-Negotiation IE.\n26.\tThe oMSC server requests the oBSS to connect LCLS and if configuration updated is needed, it includes the LCLS-Configuration IE in the LCLS_CONNECT_CONTROL message.\nNOTE:\tIf codecs need to be modified for TrFO (AoIP), then the oMSC can utilize Assignment (modify) or Internal Handover Enquiry before sending LCLS_CONNECT_CONTROL message.\n27a.\tSince the BSS has received the through connect request for both call legs the oBSS returns the LCLS_CONNECT_CONTROL_ACK message with the LCLS-BSS-Status IE set to \"the call is locally switched with requested LCLS configuration\".\n27b.\tSince the BSS has received the through connect request for both call legs the tBSS signals the LCLS status change by sending the LCLS_NOTIFICATION message with the LCLS-BSS-Status IE set to \"the call is locally switched with requested LCLS configuration\".\n28.\tThe oMSC server signals the change of the LCLS status through the Core Network by sending the APM message with the LCLS-Status IE set to \"LCLS connected\".\n29.\tThe iMSC server transfers the change of the LCLS status to the tMSC server.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6",
        "clause_6.3.2.1",
        "figure_13.4.2.5.2.1",
        "figure_13.4.2.5.2.2",
        "ts_23.153"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.4.3.1.1",
      "section_id": "13.4.3.1.1",
      "section_title": "General",
      "content": "The incoming call that meets mobile subscriber busy with the condition Network Determined User Busy (NDUB) shall be forwarded towards the forwarded-to subscriber without being offered to the served mobile subscriber. The basic call establishment procedures defined in the clause 6 shall be followed for the call towards the forwarded-to subscriber.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.4.3.1.2",
      "section_id": "13.4.3.1.2",
      "section_title": "Notification to the Calling Subscriber",
      "content": "If the GMSC server determines that a call should be forwarded without being offered to the served mobile subscriber and the served mobile subscriber has requested that the calling subscriber shall receive a notification about the call forwarding, the GMSC server shall send a notification to the preceding node. If the GMSC server supports the LCLS feature and receives the GCR IE, the LCLS-Negotiation Request IE and LCLS-Configuration-Preference IE from the preceding node it may modify the LCLS-Configuration-Preference IE based on its own LCLS configuration requirements, as described in clause 4.2, and it shall return the resulting LCLS-Configuration-Preference IE and the LCLS-Negotiation Response IE to the preceding node.\nIf the notification is implemented using intermediate tones or announcements the GMSC server requests the MGW to play an announcement/tone to the calling party, as described in clause 14.6, before establishing the call to the forwarded-to subscriber.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_4.2",
        "clause_14.6"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.4.3.1.3",
      "section_id": "13.4.3.1.3",
      "section_title": "Initial Addressing",
      "content": "If the incoming call is to be forwarded without being offered to the served mobile subscriber the call towards the forwarded-to subscriber is established as for a basic call. After the possible generation of in-band information has been completed the initial addressing towards the forwarded-to subscriber is performed as described in the clause 6 for the basic mobile terminating call. If the GMSC server supports the LCLS feature and receives the GCR IE, the LCLS-Negotiation Request IE and LCLS-Configuration-Preference IE from a preceding node in the IAM it shall forward the GCR IE and the resulting LCLS-Configuration-Preference IE and the LCLS-Negotiation Request IE to the succeeding node.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.4.3.1.4",
      "section_id": "13.4.3.1.4",
      "section_title": "Backward LCLS Negotiation",
      "content": "The procedure specified in clause 6.2.1.2.2 for the intermediate node and in clause 6.1.1.4 for the oMSC server shall be applied.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.2.1.2.2",
        "clause_6.1.1.4"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.4.3.1.5",
      "section_id": "13.4.3.1.5",
      "section_title": "LCLS Through-Connection",
      "content": "The procedure specified in clause 6.1.1.5 shall be applied.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1.1.5"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.4.3.1.6",
      "section_id": "13.4.3.1.6",
      "section_title": "Example",
      "content": "The same example as for Call Forwarding Unconditional applies.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_13.4.3.2.1",
      "section_id": "13.4.3.2.1",
      "section_title": "General",
      "content": "The incoming call shall be offered to the served subscriber as a normal call. When the call meets mobile subscriber busy with the condition User Determined User Busy (UDUB) it shall be forwarded towards the forwarded-to subscriber. The basic call establishment procedures defined in the clause 6 shall be followed for the call towards the forwarded-to subscriber.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.4.3.2.2",
      "section_id": "13.4.3.2.2",
      "section_title": "Call Clearing to the Served Subscriber",
      "content": "When the MSC server determines that the call shall be forwarded due to the UDUB it shall release the call leg towards the served subscriber as described in the clause 7.1 for call clearing.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_7.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.4.3.2.3",
      "section_id": "13.4.3.2.3",
      "section_title": "Notification to the Calling Subscriber",
      "content": "If the MSC server determines that a call should be forwarded and the served mobile subscriber has requested that the calling subscriber shall receive a notification about the call forwarding, the MSC server shall send a notification to the preceding node.\nIf the notification is implemented using intermediate tones or announcements the MSC server requests the MGW to play an announcement/tone to the calling party, as described in clause 14.6, before establishing the call to the forwarded-to subscriber.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_14.6"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.4.3.2.4",
      "section_id": "13.4.3.2.4",
      "section_title": "Initial Addressing",
      "content": "If the incoming call is to be forwarded the call towards the forwarded-to subscriber is established as for a basic call. After the possible generation of in-band information has been completed the initial addressing towards the forwarded-to subscriber is performed as described in the clause 6 for the basic mobile terminating call. If the forwarding MSC server supports the LCLS feature and has received the GCR IE, the LCLS-Negotiation Request IE and LCLS-Configuration-Preference IE from a preceding node in the IAM it shall then forward the GCR IE and the resulting LCLS-Configuration-Preference IE and the LCLS-Negotiation Request IE to the succeeding node.\nNOTE:\tIf LCLS has been successfully negotiated to this point the oMSC have received back the LCLS-Negotiation Response IE and LCLS-Configuration-Preference IE and LCLS Status may have indicated that the call can be locally switched but since the called subscriber did not answer the call is still switched through the CN at this point.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.4.3.2.5",
      "section_id": "13.4.3.2.5",
      "section_title": "Backward LCLS Negotiation",
      "content": "The procedure specified in clause 6.2.1.2.2 for the intermediate node and in clause 6.1.1.4 for the oMSC server shall be applied.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.2.1.2.2",
        "clause_6.1.1.4"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.4.3.1.6",
      "section_id": "13.4.3.1.6",
      "section_title": "LCLS Through-Connection",
      "content": "The procedure specified in clause 6.1.1.5 shall be applied.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1.1.5"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.4.3.2.7",
      "section_id": "13.4.3.2.7",
      "section_title": "Example",
      "content": "13.4.3.2.7.1\tConnection Model\nFigure 13.4.3.2.7.1.1 shows the network model for call forwarding busy UDUB.\nThe oMSC server seizes one context with two bearer terminations in the oMGW. The bearer termination T1 is used for the bearer towards the oBSS (calling subscriber) and the bearer termination T2 is used for the bearer towards the GMSC selected iMGW. The GMSC server seizes one context with two bearer terminations in the iMGW. The bearer termination T4 is used for the bearer towards the sMSC server selected sMGW and the bearer termination T3 is used for the bearer towards the preceding oMGW. The sMSC server seizes one context with two bearer terminations in the sMGW. The bearer termination T5 is used for the bearer towards the GMSC selected iMGW and bearer termination Ts is used for the bearer towards the sBSS (served subscriber).\nAfter call forwarding busy UDUB is detected the sMSC server replaces the bearer termination for the served mobile subscriber Ts with the bearer termination for the forwarded-to subscriber T6 in an existing context in the sMGW.\nThe tMSC server seizes one context with two bearer terminations in the tMGW. The bearer termination T7 is used for the bearer towards the sMSC selected sMGW and bearer termination T8 is used for the bearer towards the tBSS (forwarded-to subscriber).\nConnection Model 1: Before CFB (UDUB)\nConnection Model 2: After CFB (UDUB), Announcement towards calling party\nConnection Model 3: CFB (UDUB), After Answer, Call locally switched\nFigure 13.4.3.2.7.1.1:\tConnection Model for Call Forwarding Busy UDUB\n13.4.3.2.7.2\tBasic Sequence\nFigure 13.4.3.2.7.2.1 shows the message sequence example for the call forwarding UDUB with a possible notification to the calling party using an announcement. In the example the sMSC server optionally requests the sMGW to play an announcement and to notify the announcement completion, after the bearer to the incoming side has been established. When the possible announcement has completed the sMSC server requests the establishment of the call and the bearer towards the forward-to subscriber. This example is based on examples from clause 6.\nFigure 13.4.3.2.7.2.1:\tCFB UDUB, Call establishment flow\n1.\tThe sMSC server determines that call should be forwarded because of the Call Forwarding Busy UDUB supplementary service and that notification should be send towards the calling party (oUE).\n2.\tThe sMSC server orders the sMGW to remove the bearer termination (Ts) towards the served mobile subscriber (in case when the radio resources had already been allocated in the sMGW).\n3.\tThe sMSC server sends the CPG message with the Generic Notification Indicator parameter set to \"Call is diverting\".\n4.\tThe sMSC server provides the sMGW with the announcement/tone identification and requests the sMGW to notify the announcement/tone completion using the Play Announcement or Send Tone procedure.\n5.\tThe GMSC server sends the CPG message with the Generic Notification Indicator parameter set to \"Call is diverting\".\n6.\tThe oMSC server notifies the calling user (oUE) about call forwarding.\n7.\tThe sMGW notifies the sMSC server when the announcement/tone is completed using the Announcement Completed or Tone Completed procedure.\n8.\tIf the sMSC server supports LCLS it may modify the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE before sending the IAM message containing the GCR with the encapsulated oBSS ID and the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE.\n9.\tWhen performing further call establishment towards the forwarded-to subscriber see clause 6 and the procedure specified for mobile originating call.\n10.\tThe tMSC server returns the APM message with the selected codec and if LCLS is supported, the LCLS-Negotiation Response IE and the LCLS-Configuration-Preference IE.\n11.\tThe sMSC server transfers the APM message with the LCLS-Negotiation Response IE and the LCLS-Configuration-Preference IE. If codec modification is required then the sMSC server includes the codec related information within the same APM message.\n12.\tThe GMSC server transfers the APM message.\n13.\tWhen performing further call establishment see signalling sequence for Call Forwarding Unconditional, figure 13.4.2.5.2.2, steps 23 - 29.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6",
        "figure_13.4.3.2.7.1.1",
        "figure_13.4.3.2.7.2.1",
        "figure_13.4.2.5.2.2"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.4.4.1",
      "section_id": "13.4.4.1",
      "section_title": "General",
      "content": "The incoming call shall be offered to the served subscriber as a normal call. When the Call Forwarding on No Reply (CFNRy) supplementary service is active and if the call is not answered within the period of time defined by the no reply condition timer it shall be forwarded towards the forwarded-to subscriber. The basic call establishment procedures defined in the clause 6 shall be followed for the call towards the forwarded-to subscriber.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.4.4.2",
      "section_id": "13.4.4.2",
      "section_title": "Call Clearing to the Served Subscriber",
      "content": "When the MSC server determines that the call shall be forwarded due to the CFNRy it shall release the call leg towards the served subscriber as described in the clause 7.1 for call clearing.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_7.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.4.4.3",
      "section_id": "13.4.4.3",
      "section_title": "Notification to the Calling Subscriber",
      "content": "If the MSC server determines that a call should be forwarded and the served mobile subscriber has requested that the calling subscriber shall receive a notification about the call forwarding, the MSC server shall send a notification to the preceding node.\nIf the notification is implemented using intermediate tones or announcements the MSC server requests the MGW to play an announcement/tone to the calling party, as described in clause 14.6, before establishing the call to the forwarded-to subscriber.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_14.6"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.4.4.4",
      "section_id": "13.4.4.4",
      "section_title": "Initial Addressing",
      "content": "If the incoming call is to be forwarded the call towards the forwarded-to subscriber is established as for a basic call. After the possible generation of in-band information has been completed the initial addressing towards the forwarded-to subscriber is performed as described in the clause 6 for the basic mobile terminating call. If the MSC server supports the LCLS feature and has received the GCR IE, the LCLS-Negotiation Request IE and LCLS-Configuration-Preference IE from a preceding node in the IAM it shall then forward the GCR IE and the resulting LCLS-Configuration-Preference IE and the LCLS-Negotiation Request IE to the succeeding node.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.4.4.5",
      "section_id": "13.4.4.5",
      "section_title": "Backward LCLS Negotiation",
      "content": "The procedure specified in clause 6.2.1.2.2 for the intermediate node and in clause 6.1.1.4 for the oMSC server shall be applied.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.2.1.2.2",
        "clause_6.1.1.4"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.4.4.6",
      "section_id": "13.4.4.6",
      "section_title": "LCLS Through-Connection",
      "content": "The procedure specified in clause 6.1.1.5 shall be applied.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1.1.5"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.4.4.7.1",
      "section_id": "13.4.4.7.1",
      "section_title": "Connection Model",
      "content": "Figure 13.4.4.7.1.1 shows the network model for Call Forwarding on No Reply (CFNRy).\nThe oMSC server seizes one context with two bearer terminations in the oMGW. The bearer termination T1 is used for the bearer towards the oBSS (calling subscriber) and the bearer termination T2 is used for the bearer towards the GMSC selected iMGW. The GMSC server seizes one context with two bearer terminations in the iMGW. The bearer termination T4 is used for the bearer towards the sMSC server selected sMGW and the bearer termination T3 is used for the bearer towards the preceding oMGW. The sMSC server seizes one context with two bearer terminations in the sMGW. The bearer termination T5 is used for the bearer towards the GMSC selected iMGW and bearer termination Ts is used for the bearer towards the sBSS (served subscriber).\nAfter Call Forwarding on No Reply is detected the sMSC server replaces the bearer termination for the served mobile subscriber Ts with the bearer termination for the forwarded-to subscriber T6 in an existing context in the sMGW.\nThe tMSC server seizes one context with two bearer terminations in the tMGW. The bearer termination T7 is used for the bearer towards the sMSC selected sMGW and bearer termination T8 is used for the bearer towards the tBSS (forwarded-to subscriber).\nConnection Model 1: Before CFNRy\nConnection Model 2: After CFNRy, Announcement towards calling party\nConnection Model 3: CFNRy, After Answer, Call locally switched\nFigure 13.4.4.7.1.1:\tConnection Model for Call Forwarding on No Reply",
      "chunk_type": "general",
      "cross_references": [
        "figure_13.4.4.7.1.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.4.4.7.2",
      "section_id": "13.4.4.7.2",
      "section_title": "Basic Sequence",
      "content": "Figure 13.4.4.7.2.1 shows the message sequence example for the Call Forwarding on No Reply with a possible notification to the calling party using an announcement. In the example the sMSC server optionally requests the sMGW to play an announcement and to notify the announcement completion, after the bearer to the incoming side has been established. When the possible announcement has completed the sMSC server requests the establishment of the call and the bearer towards the forward-to subscriber. This example is based on examples from clause 6.\nFigure 13.4.4.7.2.1:\tCFNRy, Call establishment flow\n1.\tThe sMSC server determines that call should be forwarded because of the Call Forwarding on No Reply supplementary service and that notification should be send towards the calling party (oUE).\n2.\tThe sMSC server orders the sMGW to remove the bearer termination (Ts) towards the served mobile subscriber (in case when the radio resources had already been allocated in the sMGW).\n3.\tThe sMSC server sends the CPG message with the Generic Notification Indicator parameter set to \"Call is diverting\".\n4.\tThe sMSC server provides the sMGW with the announcement/tone identification and requests the sMGW to notify the announcement/tone completion using the Play Announcement or Send Tone procedure.\n5.\tThe GMSC server sends the CPG message with the Generic Notification Indicator parameter set to \"Call is diverting\".\n6.\tThe oMSC server notifies the calling user (oUE) about call forwarding.\n7.\tThe sMGW notifies the sMSC server when the announcement/tone is completed using the Announcement Completed or Tone Completed procedure.\n8.\tIf the sMSC server supports LCLS it may modify the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE before sending the IAM message containing the GCR with the encapsulated oBSS ID, the LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE.\n9.\tWhen performing further call establishment towards the forwarded-to subscriber see clause 6, the procedure specified for mobile originating call.\n10.\tThe tMSC server returns the APM message with the selected codec and if LCLS is supported, the LCLS-Negotiation Response IE and the LCLS-Configuration-Preference IE.\n11.\tThe sMSC server transfers the APM message with the LCLS-Negotiation Response IE and the LCLS-Configuration-Preference IE. If codec modification is required then the sMSC server includes the codec related information within the same APM message.\n12.\tThe GMSC server transfers the APM message.\n13.\tWhen performing further call establishment see signalling sequence for Call Forwarding Unconditional, figure 13.4.2.5.2.2, steps 23 -29.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6",
        "figure_13.4.4.7.2.1",
        "figure_13.4.2.5.2.2"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.4.5.1",
      "section_id": "13.4.5.1",
      "section_title": "General",
      "content": "The incoming call that meets mobile subscriber unreachable shall be forwarded towards the forwarded-to subscriber without being offered to the served mobile subscriber. The basic call establishment procedures defined in the clause 6 shall be followed for the call towards the forwarded-to subscriber.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.4.5.2",
      "section_id": "13.4.5.2",
      "section_title": "Rerouting by HLR",
      "content": "The same handling as for Call Forwarding Unconditional applies.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_13.4.5.3",
      "section_id": "13.4.5.3",
      "section_title": "Rerouting by VLR",
      "content": "The same handling as for Call Forwarding Unconditional applies.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_13.5.1",
      "section_id": "13.5.1",
      "section_title": "Principles",
      "content": "The procedures specified for the Call Waiting supplementary service in 3GPP TS 23.205 [2] clause 13.6 for BICC based CS Core Network and in 3GPP TS 23.231 [3] clause 13.6 for SIP-I based CS Core Network shall be followed with the following modifications:\n-\tThe call establishment and call clearing procedures defined in clauses 6 and 7 shall be applied.\n-\tIf the new call is accepted, the GCR of the new call is sent to the BSS in the ASSIGNMENT procedure\nThe following clauses describe the additional requirements related to the LCLS functionality when the Call Waiting supplementary service is activated for the locally switched call.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.205_clause_13.6",
        "ts_23.231_clause_13.6",
        "ts_23.205",
        "ts_23.231"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.5.2.1",
      "section_id": "13.5.2.1",
      "section_title": "General",
      "content": "When new call arrives and is accepted, the GCR and LCLS-Configuration of the local access bearer shall be modified according to the new call. The MSC Server shall initiate an ASSIGNMENT REQUEST message towards the BSS including the GCR and LCLS-Configuration of the new call.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_13.5.2.2.1",
      "section_id": "13.5.2.2.1",
      "section_title": "Connection Model",
      "content": "Figure 13.5.2.2.1.1 shows the network model for Call Waiting supplementary service of holding the original call to accept the new call. Termination T1 to T6 is established for original call between UE-A and UE-B. When UE-A and UE-B have an active call established, UE-C, which is roaming under BSS-B and MSC-B, initiates a new call towards UE-A. To accept the new call, UE-A holds the call with UE-B and relocates its access bearer for the new call.\nAfter the new call between UE-C and UE-A is established, a new context (C1-2) is seized in MGW-A. The access bearer termination T6 is moved from C1 to C1-2 and a new network bearer towards the iMGW is created (T7). In the iMGW, a new context (iC-2) is created with terminations for the bearers with MGW-A (T8) and with MGW-B (T9). In MGW-B, new terminations are created for the access bearer towards UE-C (T11) and for bearer towards iMGW (T10).\nConnection Model 1:\tBefore new call incoming\nConnection Model 2:\tIncoming call is established, UE-B held, Announcement towards UE-B\nFigure 13.5.2.2.1.1:\tConnection Model for Accept Incoming call, original call is held",
      "chunk_type": "general",
      "cross_references": [
        "figure_13.5.2.2.1.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.5.2.2.2",
      "section_id": "13.5.2.2.2",
      "section_title": "Basic Sequence",
      "content": "Figure 13.5.2.2.2.1 shows the message sequence example for the acceptance of new call and hold the original one. The ASSIGNMENT REQUEST message is sent from MSC-A to BSS-A to update the GCR stored within the BSS-A.\nFigure 13.5.2.2.2.1: Accept Incoming call, original call is held\n1.\tUE-C sends a SETUP message to the Core Network.\n2.\tMSC-B responds with CALL PROCEEDING message.\n3.\tMSC-B sends the IAM message including supported codecs list, GCR with encapsulated BSS-B ID, LCLS-Negotiation Request IE and the LCLS-Configuration-Preference IE.\n4.\tiMSC transfers the IAM message to MSC-A.\n5.\tMSC-A determines that UE-A is busy and that call waiting is available.\n6.\tMSC-A sends a SETUP message to UE-A.\n7.\tUE-A responds with CALL CONFIRM message.\n8.\tThe normal LCLS call establishment procedures from step 8 to 17 in 6.3.2 are applied.\n9.\tUE-A requests to hold the call with UE-B.\n10.\tThe session between UE-A and UE-B is put on hold. The procedure in 13.6.2.3.2 is applied.\n11.\tAfter the session between UE-A and UE-B is put on hold, MSC-A sends the acknowledgement to UE-A.\n12.\tUE-A accepts the incoming call by sending CONNECT message to MSC-A.\n13.\tMSC-A requests the MGW to move the termination T6 to the context of incoming call (C1-2).\n14.\tThe normal LCLS call establishment procedures from step 19 in 6.3.2 are applied, skipping step 21, 22 a, 22b, 23 and 24. BSS-A shall update the GCR and the LCLS-Configuration on receipt of the ASSIGNMENT REQUEST message for the access bearer.",
      "chunk_type": "general",
      "cross_references": [
        "figure_13.5.2.2.2.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.6.1",
      "section_id": "13.6.1",
      "section_title": "Principles",
      "content": "The procedures specified for the Call Hold supplementary service in 3GPP TS 23.205 [2] clause 13.6 for BICC based CS Core Network and in 3GPP TS 23.231 [3] clause 13.6 for SIP-I based CS Core Network shall be followed with the following modifications:\n-\tThe call establishment and call clearing procedures defined in clauses 6 and 7 shall be applied.\n-\tIf a new call is established after the original call is held, the MSC shall generate a new GCR for the new call.\nThe following clauses describe the additional requirements related to the LCLS functionality when the Call Hold supplementary service is activated for the locally switched call.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.205_clause_13.6",
        "ts_23.231_clause_13.6",
        "ts_23.205",
        "ts_23.231"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.6.2.1",
      "section_id": "13.6.2.1",
      "section_title": "Hold Request",
      "content": "When the UE makes a request for the hold function for the locally switched call the MSC server shall request a LCLS break procedure described in clause 7.2.1.\nThe MSC server shall request the MGW to interrupt the communication on the bearer by changing the through-connection of the bearer termination towards the served mobile subscriber to \"inactive\" or by using the Isolate Bearer Termination Procedure.\nIf an announcement is to be applied to the held party the MSC shall apply the procedure for non LCLS call defined in 3GPP TS 23.205 [2] clause 14.6 for BICC based CS Core Network and in 3GPP TS 23.231 [3] clause 14.6 for SIP-I based CS Core Network.\nIf a handover occurs to the UE making the request for the hold function (UE-A) while the party is not intended to be re-connected locally then the MSC Server shall include LCLS-Connection-Status-Control set to \"do not establish LCLS\" in the HO Request message.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_7.2.1",
        "ts_23.205_clause_14.6",
        "ts_23.231_clause_14.6",
        "ts_23.205",
        "ts_23.231"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.6.2.2",
      "section_id": "13.6.2.2",
      "section_title": "Retrieval Request",
      "content": "When the UE makes a request to retrieve a held call the MSC server shall stop an announcement that was applied to the held party. The MSC shall request the MGW to re-establish communication to the held party by changing the through-connection of the bearer termination towards the served mobile subscriber to be both-way through-connected or by using the Join Bearer Termination Procedure.\nIf the call has been successfully negotiated for LCLS and an LCLS break was triggered by the CN the MSC server shall perform a LCLS re-establishment as described in clause 7.3.1.\nNOTE:\tLCLS re-negotiation can occur while the call is on hold or the held call is connected to a new party (ECT) which may change the LCLS configuration and thus permit or prevent LCLS.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_7.3.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.6.2.3.1",
      "section_id": "13.6.2.3.1",
      "section_title": "Connection Model",
      "content": "Figure 13.6.2.3.1.1 shows the network model for Call Hold supplementary service when LCLS was established. The MSC-B server seizes one context with two bearer terminations in the MGW-B. The bearer termination T1 is used for the bearer towards the BSS-B and the bearer termination T2 is used for the bearer towards the iMSC selected iMGW. The iMSC server seizes one context with two bearer terminations in the iMGW. The bearer termination T4 is used for the bearer towards the MSC-A server selected MGW-A and the bearer termination T3 is used for the bearer towards the preceding MGW-B. The MSC-A server seizes one context with two bearer terminations in the MGW-A. The bearer termination T5 is used for the bearer towards the iMSC selected iMGW and bearer termination T6 is used for the bearer towards the BSS-A.\nConnection Model 1: Before Call Hold, LCLS established and\nConnection Model 3: After Retrieval procedure, LCLS established\nConnection Model 2:\tAfter Hold procedure, LCLS released; Announcement towards held party\nFigure 13.6.2.3.1.1:\tConnection Model for Call Hold",
      "chunk_type": "general",
      "cross_references": [
        "figure_13.6.2.3.1.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.6.2.3.2",
      "section_id": "13.6.2.3.2",
      "section_title": "Basic Sequence",
      "content": "Figure 13.6.2.3.2.1 shows the message sequence example for the Hold procedure with a possible notification to the held party using an announcement. In the example the MSC server requests the MGW to play an announcement towards the held party.\nFigure 13.6.2.3.2.1:\tHold Request on LCLS call\n1.\tHOLD message is received from the UE-A.\n2.\tThe MSC-A server accepts the HOLD request.\n3.\tThe MSC-A server requests a LCLS break procedure described in clause 7.2.1.\n4.\tThe MSC-A server requests the MGW-A to interrupt the communication on the bearer by changing the through-connection of the bearer termination towards the UE-A to \"inactive\".\n5.\tThe MSC-A server sends the CPG message with the Generic Notification Indicator parameter set to \"remote hold\" to the iMSC.\n6.\tThe iMSC server transfers the CPG message to the MSC-B server.\n7.\tThe MSC-B server sends FACILITY message with the call hold notification to the UE-B.\n8.\tThe MSC-A server informs the UE-A that call hold is accepted with the HOLD ACKNOWLEDGE message.\n9.\tThe MSC-A server requests the MGW-A to play an announcement towards the held party.\nFigure 13.6.2.3.2.2 shows the message sequence for the Retrieval procedure.\nFigure 13.6.2.3.2.2:\tRetrieval Request and LCLS re-establishment\n1.\tRETRIEVE message is received from the UE-A.\n2.\tThe MSC-A server accepts the RETRIEVE request.\n3.\tThe MSC-A server requests the MGW-A to stop an announcement towards the held party.\n4.\tThe MSC-A server requests the MGW-A to re-establish communication to the held party by changing the through-connection of the bearer termination towards the UE-A to be both-way through-connected.\n5.\tThe MSC-A server sends the CPG message with the Generic Notification Indicator parameter set to \"remote retrieval\" to the iMSC.\n6.\tThe iMSC server transfers the CPG message to the MSC-B server.\n7.\tThe MSC-B server sends FACILITY message with the call hold notification to the UE-B.\n8.\tThe MSC-A server informs the UE-A that retrieve request is accepted with the RETRIEVE ACKNOWLEDGE message.\n9.\tIf the call has been successfully negotiated for LCLS the MSC-A server requests a LCLS re-establishment procedure as described in clause 7.3.1.",
      "chunk_type": "general",
      "cross_references": [
        "clause_7.2.1",
        "clause_7.3.1",
        "figure_13.6.2.3.2.1",
        "figure_13.6.2.3.2.2"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.6.3.1",
      "section_id": "13.6.3.1",
      "section_title": "Hold Request",
      "content": "When the UE makes a request for the hold function for the non-local call the MSC server shall signal LCLS-CONNECT_CONTROL message with LCLS-Connection-status-control set to \"do not establish LCLS\".\nNOTE:\tthis is to avoid the case that the party requesting hold (which is no longer intended to be connected to the held party) performs a handover into the same BSS and triggers local switching in the BSS.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_13.6.3.2",
      "section_id": "13.6.3.2",
      "section_title": "Retrieval Request",
      "content": "When the UE makes a request to retrieve a held call the MSC server shall stop an announcement that was applied to the held party. The MSC shall request the MGW to re-establish communication to the held party by changing the through-connection of the bearer termination towards the served mobile subscriber to be both-way through-connected or by using the Join Bearer Termination Procedure.\nIf the call has been successfully negotiated for LCLS then MSC server shall signal LCLS-CONNECT_CONTROL message with LCLS-Connection-status-control set to \"connect\". If the BSS established local switching it shall notify the core network.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_13.6.4.1",
      "section_id": "13.6.4.1",
      "section_title": "General Principle",
      "content": "The call hold procedures and call establishment procedures shall be applied with the following enhancements.\nTo avoid the local switching between remote parties of the new call and the held call, the new call shall have a different GCR than the GCR of the original call. During the new call establishment, the MSC server serving the UE which has the held call and has initiated the new call shall generate a new GCR for the new call.\nThe MSC server shall use the ASSIGNMENT REQUEST message to update the BSS serving the UE which has the held call and has initiated the new call with the new GCR and LCLS-Configuration for the new call.\nThe access bearer is kept unchanged.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_13.6.4.2",
      "section_id": "13.6.4.2",
      "section_title": "Assignment Request",
      "content": "During the new call establishment, the MSC server serving the UE which has the held call and has initiated the new call shall send the Assignment Request message to update the BSS with the new GCR and LCLS-Configuration for the new call.\nOn receipt of Assignment Request, the BSS shall save the GCR and LCLS-Configuration in this message.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_13.6.5.1",
      "section_id": "13.6.5.1",
      "section_title": "General Principle",
      "content": "When the UE requests to place the new call on hold and retrieve the original call, the MSC server shall initiate normal call hold procedures as described in clause 13.6.1 for the new call. The MSC server sends the ASSIGNMENT REQUEST message with the GCR and LCLS-Configuration of the original call to the BSS. The MSC server continues the retrieval procedure as described in clause 13.6.2.2.\nWhen the UE requests to retrieve the original call after the active session has completed, the MSC server shall send the ASSIGMENT REQUEST message to the BSS to update the GCR and LCLS-Configuration for the original call. The MSC server continues the retrieval procedures as described in clause 13.6.2.2.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_13.6.1",
        "clause_13.6.2.2"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.6.5.2",
      "section_id": "13.6.5.2",
      "section_title": "Example call flow, Retrieval of held call after ongoing call has completed",
      "content": "Figure 13.6.5.2.1:\tRetrieval of held call, ongoing call has completed\n1.\tThe active session between UE-A and UE-C is released.\n2.\tThe RETRIEVE message is sent from UE-A to MSC-A Server.\n3.\tMSC-A server accepts the RETRIEVE request.\n4.\tMSC-A server retrieves the LCLS-Configuration and GCR for the held session and sends the ASSIGNMENT REQUEST message to BSS-A including the LCLS-Configuration IE and the GCR IE.\n5.\tThe BSS-A returns the ASSIGNMENT COMPLETE message with the LCLS-BSS-Status IE indicating \"call not possible to be locally switched\".\n6.\tMSC-A server continues the sequence handling described in clause 13.6.2.3.2.",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_13.6.2.3.2",
        "figure_13.6.5.2.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.7",
      "section_id": "13.7",
      "section_title": "Multiparty (MPTY)",
      "content": "If LCLS is established for a call it shall be released while the Multiparty (MPTY) service is utilised, see LCLS break procedure in clause 7.2 of this specification. After MPTY is ended LCLS may be re-established if it is still feasible, see LCLS re-establishment procedure in clause 7.3 of this specification.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_7.2",
        "clause_7.3"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.8",
      "section_id": "13.8",
      "section_title": "Closed User Group (CUG)",
      "content": "No impact. There are no LCLS related requirements for the Closed User Group (CUG) service.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_13.9",
      "section_id": "13.9",
      "section_title": "Advice of Charge (AoC)",
      "content": "No impact. There are no LCLS related requirements for the Advice of Charge (AoC) service.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_13.10",
      "section_id": "13.10",
      "section_title": "User-to-User Signalling (UUS)",
      "content": "No impact. There are no LCLS related requirements for the User-to-User Signalling (UUS) service.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_13.11",
      "section_id": "13.11",
      "section_title": "Call Barring Services",
      "content": "No impact. There are no LCLS related requirements for the Call Barring Services.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_13.12",
      "section_id": "13.12",
      "section_title": "Explicit Call Transfer (ECT)",
      "content": "In order to perform Explicit Call Transfer, if LCLS is established for the first call this will be broken when it is put on hold as per the procedures specified in clause 13.6. If LCLS is established for the second call then the local switching of the call shall be released in order to be connected to the held party.\nProcedures to establish LCLS for the transferred call are not supported.",
      "chunk_type": "general",
      "cross_references": [
        "clause_13.6"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.13",
      "section_id": "13.13",
      "section_title": "Completion of Calls to Busy Subscriber (CCBS)",
      "content": "No impact. There are no LCLS related requirements for the Completion of Calls to Busy Subscriber (CCBS) service.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_13.14",
      "section_id": "13.14",
      "section_title": "Multiple Subscriber Profile (MSP)",
      "content": "No impact. There are no LCLS related requirements for the Multiple Subscriber Profile (MSP) service.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_13.15",
      "section_id": "13.15",
      "section_title": "Multicall",
      "content": "There are no specific LCLS related requirements for the Multicall service.\nNOTE:\tIf LCLS is established for any call as part of the Multicall service, then the local switching of the call will be released when it is put on hold as per the procedures specified in clause 13.6.",
      "chunk_type": "general",
      "cross_references": [
        "clause_13.6"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.16",
      "section_id": "13.16",
      "section_title": "Calling Name Presentation (CNAP)",
      "content": "No impact. There are no LCLS related requirements for the Calling Name Presentation (CNAP) service.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_13.17",
      "section_id": "13.17",
      "section_title": "Alternate Speech/Fax",
      "content": "LCLS shall not be allowed for the Alternate Speech/Fax calls.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_13.18",
      "section_id": "13.18",
      "section_title": "Modification of the Access Bearer",
      "content": "During the call establishment phase, the modification of the access bearer procedure shall be performed in accordance with 3GPP 23.205 [2] for a BICC based CS core network and in accordance with 3GPP TS 23.231 [3] for a SIP-I based CS core network.\nWhen the call is locally switched, if the MSC Server requires modification of the access bearer, an LCLS Break procedure as specified in clause 7.2.1 may occur.",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_7.2.1",
        "ts_23.231"
      ]
    },
    {
      "chunk_id": "ts_23.284_13.19",
      "section_id": "13.19",
      "section_title": "GSM Fax",
      "content": "LCLS shall not be allowed for the GSM Fax calls.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_13.20",
      "section_id": "13.20",
      "section_title": "Voice group call service (VGCS), Voice broadcast service (VBS)",
      "content": "LCLS shall not be allowed when the Voice group call service (VGCS) or the Voice broadcast service (VBS) is utilised.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_14.1",
      "section_id": "14.1",
      "section_title": "Customised Applications for Mobile network Enhanced Logic (CAMEL)",
      "content": "No impact. There are no LCLS related requirements for Customised Applications for Mobile network Enhanced logic (CAMEL).\nIf LCLS is established for the call and a CAMEL service requires the insertion of Tones/Announcements, the LCLS procedures for Providing Tones or Announcements shall be applied as specified in clause 14.6.\nIf LCLS is established for the call and a CAMEL service requires the user-plane to be manipulated within the Core Network, the LCLS procedures for breaking LCLS shall be applied as specified in clause 7.2.",
      "chunk_type": "general",
      "cross_references": [
        "clause_14.6",
        "clause_7.2"
      ]
    },
    {
      "chunk_id": "ts_23.284_14.2",
      "section_id": "14.2",
      "section_title": "IST",
      "content": "No impact. There are no LCLS related requirements for Immediate Service Termination (IST).",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_14.3",
      "section_id": "14.3",
      "section_title": "Operator Determined Barring (ODB)",
      "content": "No impact. There are no LCLS related requirements for Operator Determined Barring (ODB).",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_14.4",
      "section_id": "14.4",
      "section_title": "DTMF",
      "content": "No impact. There are no LCLS related requirements for DTMF.\nIf LCLS is established for the call and a DTMF tone is required to be sent to the UE, the LCLS procedures for Providing Tones or Announcements shall be applied as specified in clause 14.6.",
      "chunk_type": "general",
      "cross_references": [
        "clause_14.6"
      ]
    },
    {
      "chunk_id": "ts_23.284_14.5",
      "section_id": "14.5",
      "section_title": "OR",
      "content": "No impact. There are no LCLS related requirements for Optimal Routing (OR).",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_14.6.1",
      "section_id": "14.6.1",
      "section_title": "General",
      "content": "Tones or announcements may be applied at any time during the call establishment or mid-call. Also periodic tones may be applied during the call. Prior to answer, an LCLS compatible call is still connected through the core network and so any tones or announcements applied at this time are handled as for normal non-LCLS calls.\nIf a node wishes to apply periodic tones during the call it may either reject the LCLS entirely or may indicate that it requires send access in a certain direction. This is achieved during the LCLS negotiation phase as described in clause 4.2.\nIf the call is established and local switching is performed and at a later point in the call a (G)MSC Server needs to send a tone or announcement there are two options it may apply:\n-\tperform a (G)MSC initiated LCLS break as described in clause 7.2.1 and once the LCLS break is complete then begin applying the tone or announcement, or\n-\trequest temporary send access to the user plane as described in 14.6.2\nIf a node (subsequent CN node or BSS) does not support the procedures described for requesting temporary send access then a full LCLS break shall occur.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_4.2",
        "clause_7.2.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_14.6.2.1",
      "section_id": "14.6.2.1",
      "section_title": "GMSC Server or intermediate node requiring temporary send access to apply tone or announcement",
      "content": "A GMSC Server or intermediate node wishing to insert a tone or announcement may signal LCLS Configuration Change Request message with LCLS-Configuration-Preference IE setting \"Need Send Backward = yes\" if it needs to insert a tone or announcement towards the originating subscriber or \"Need Send Forward = yes\" if it needs to insert a tone or announcement towards the terminating subscriber. When GMSC Server sends the LCLS Configuration Change Request message it shall start LCLS_configuration_modification timer.\nNOTE:\tThe (G)MSC Server or intermediate node only needs to signal the LCLS Configuration Change Request message in the direction in which it wishes to apply the tone or announcement. The other LCLS-Configuration-Preference IE settings remain unchanged.\nWhen the (G)MSC receives the LCLS Configuration Change Request Acknowledge message it shall stop the LCLS_configuration_modification timer. If the received LCLS-Configuration-Change Result IE indicates acceptance of the requested LCLS Configuration change it shall proceed to insert its tone or announcement as per a normal call handling.\nOtherwise, if the received LCLS-Configuration-Change Result IE indicates the requested LCLS Configuration change is rejected or if the LCLS_configuration_modification timer expires, the (G)MSC Server shall perform an intermediate node initiated LCLS break as described in clause 7.2.3 and when the LCLS break is complete shall apply the tone or announcement. On the completion of the tone or announcement if LCLS break occurred the LCLS may be re-established as described in clause 7.3.3.\nOn completion of the tone or announcement if LCLS break was not required the (G)MSC Server may signal LCLS-Configuration Change Request message with LCLS-Configuration-Preference IE indicating \"Need Send Backward= no\" or \"Need Send Forward = no\" towards preceding/succeeding node respectively. If the (G)MSC Server sends the LCLS Configuration Change Request message it shall start the LCLS_configuration_modification timer. At reception of the LCLS Configuration Change Request Acknowledge message the (G)MSC Server shall stop the LCLS_configuration_modification timer. If the LCLS_configuration_modification timer expires, the (G)MSC Server shall perform an intermediate node initiated LCLS break as described in clause 7.2.3.\nThe appropriate LCLS configurations which result from the new LCLS-Configuration-Preference settings are specified in Table 4.2.1.1.",
      "chunk_type": "general",
      "cross_references": [
        "clause_7.2.3",
        "clause_7.3.3",
        "table_4.2.1.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_14.6.2.2",
      "section_id": "14.6.2.2",
      "section_title": "oMSC Server",
      "content": "An oMSC Server wishing to insert a tone or announcement towards the terminating UE may signal LCLS Configuration Change Request message with LCLS-Configuration-Preference IE set to \"Need Send Forward = yes\". When oMSC Server sends the LCLS Configuration Change Request message it shall start LCLS_configuration_modification timer.\nNOTE:\tThe other LCLS-Configuration-Preference settings remain unchanged.\nWhen the oMSC Server receives the LCLS Configuration Change Request Acknowledge message it shall stop the LCLS_configuration_modification timer. If the received LCLS-Configuration-Change Result IE indicates acceptance of the requested LCLS Configuration change then it shall proceed to insert its tone or announcement as per a normal call handling. Otherwise, if the received LCLS-Configuration-Change Result IE indicates the requested LCLS configuration change is rejected or if the LCLS_configuration_modification timer expires, the oMSC Server shall perform a MSC initiated LCLS break as described in clause 7.2.1 and once the LCLS break is complete then begin applying the tone or announcement. On the completion of the tone or announcement LCLS may be re-established as described in clause 7.3.1.\nOn completion of the tone or announcement (without LCLS Break) in the forward direction the oMSC Server may signal the LCLS Configuration Change Request message to succeeding node with the LCLS-Configuration-Preference IE indicating \"Need Send Forward = no\". If the oMSC Server sends the LCLS Configuration Change Request message it shall start the LCLS_configuration_modification timer. At reception of the LCLS Configuration Change Request Acknowledge message the oMSC Server shall stop the LCLS_configuration_modification timer. If the LCLS_configuration_modification timer expires, the oMSC Server shall perform an intermediate node initiated LCLS break as described in clause 7.2.1.\nIf the oMSC Server wishes to insert a tone or announcement only towards its locally served UE it does not need to request any change to the LCLS configuration preferences in the Core Network and may send the LCLS-Connect-Control message to the oBSS containing the appropriate LCLS-Configuration IE settings as specified in Table 4.2.1.1 and if supported by the oBSS, the oMSC, oMGW shall begin applying the tone or announcement. On completion of the tone or announcement the oMSC shall return the LCLS Configuration to the previous setting.\nIf the oMSC Server receives LCLS-BSS-Status indicating that the oBSS does not support the requested LCLS-Configuration then the oMSC Server shall initiate LCLS Break towards the oBSS and succeeding node, as described in clause 7.2.1. On completion of the tone or announcement after LCLS Break LCLS may be re-established as described in clause 7.3.1.\nIf the oMSC Server receives the LCLS Configuration Change Request message with LCLS-Configuration-Preference IE indicating \"Need Send Backward= yes\" it shall send LCLS-Connect-Control message containing the appropriate LCLS-Configuration IE settings as specified in Table 4.2.1.1 and if supported by the oBSS it shall return the LCLS Configuration Change Request Acknowledge with a LCLS-Configuration-Change Result IE indicating success to the succeeding node.\nIf the oMSC Server receives LCLS-BSS-Status indicating that the oBSS does not support the requested LCLS-Configuration then the oMSC Server shall return the LCLS Configuration Change Request Acknowledge message to the succeeding node with a LCLS-Configuration-Change Result IE indicating that the request is rejected.",
      "chunk_type": "general",
      "cross_references": [
        "clause_7.2.1",
        "clause_7.3.1",
        "table_4.2.1.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_14.6.2.3",
      "section_id": "14.6.2.3",
      "section_title": "tMSC Server",
      "content": "A tMSC Server wishing to insert a tone or announcement towards the originating UE may signal LCLS Configuration Change Request message with LCLS-Configuration-Preference IE set to \"Need Send Backward = yes\". When tMSC Server sends the LCLS Configuration Change Request message it shall start LCLS_configuration_modification timer.\nNOTE:\tThe other LCLS-Configuration-Preference IE settings remain unchanged.\nWhen the tMSC Server receives the LCLS Configuration Change Request Acknowledge message it shall stop the LCLS_configuration_modification timer. If the received LCLS-Configuration-Change Result IE indicates acceptance of the requested LCLS Configuration change then it shall proceed to insert its tone or announcement as per a normal call handling. Otherwise, if the received LCLS-Configuration-Change Result IE indicates the requested LCLS Configuration change is rejected or if the LCLS_configuration_modification timer expires, the tMSC Server shall perform a MSC initiated LCLS break as described in clause 7.2.1 and once the LCLS break is complete then begin applying the tone or announcement (on the completion of the tone or announcement LCLS may be re-established as described in clause 7.3.1).\nIf the LCLS Configuration Change Request was successful, on completion of the tone or announcement the tMSC Server may signal the LCLS Configuration Change Request to the preceding node to return the LCLS configuration preference to the previously agreed value. If the tMSC Server sends the LCLS Configuration Change Request message it shall start the LCLS_configuration_modification timer. At reception of the LCLS Configuration Change Request Acknowledge message the tMSC Server shall stop the LCLS_configuration_modification timer. If the LCLS_configuration_modification timer expires, the tMSC Server shall perform an intermediate node initiated LCLS break as described in clause 7.2.1.\nIf the tMSC Server wishes to insert a tone or announcement only towards its locally served UE it does not need to request any change to the LCLS configuration preferences in the Core Network and may send the LCLS-Connect-Control message to the tBSS containing the appropriate LCLS-Configuration IE settings as specified in Table 4.2.1.1 and if supported by the tBSS it shall begin applying the tone or announcement. On completion of the tone or announcement the tMSC shall return the LCLS Configuration to the previous setting.\nIf the tMSC Server receives LCLS-BSS-Status indicating that the tBSS does not support the requested LCLS-Configuration then the tMSC Server shall initiate LCLS Break towards the tBSS and preceding nodes, as described in clause 7.2.1.On completion of the tone or announcement after LCLS Break the tMSC Server may may re-establish LCLS (with the previous LCLS Configuration) as described in clause 7.3.1.\nIf the tMSC Server receives the LCLS Configuration Change Request message with the LCLS-Configuration-Preference IE indicating \"Need Send Forward = yes\" it shall send LCLS-Connect-Control message containing the appropriate LCLS-Configuration IE settings as specified in Table 4.2.1.1 and if supported by the tBSS it shall return the LCLS Configuration Change Request Acknowledge message with a LCLS-Configuration-Change Result IE to the preceding node.\nIf the tMSC Server receives LCLS-BSS-Status indicating that the tBSS does not support the requested LCLS-Configuration then the tMSC Server shall return the LCLS Configuration Change Request Acknowledge message to the preceding node with a LCLS-Configuration-Change Result IE indicating that the request is rejected.",
      "chunk_type": "general",
      "cross_references": [
        "clause_7.2.1",
        "clause_7.3.1",
        "table_4.2.1.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_14.6.2.4",
      "section_id": "14.6.2.4",
      "section_title": "BSS",
      "content": "When the BSS receives a LCLS-Connect-Control message containing a LCLS-Configuration IE set to:\n-\t\"connected both-way in the BSS and send access DL from the Core Network\" and it supports this configuration it shall return LCLS-BSS-Status indicating that the requested LCLS configuration is supported and from then on detect any incoming data packets and insert them in the stream towards the locally served UE.\n-\t\"connected both-way in the BSS and send access DL from the Core Network, block local DL\" and it supports this configuration it shall return LCLS-BSS-Status indicating that the requested LCLS configuration is supported and it shall block the local DL path from the opposite call leg. When detecting user data packets from the Core Network, the BSS shall insert this user data in the stream towards the locally served UE.\n-\t\"connected both-way in the BSS and bi-casted UL to the Core Network and send access DL from the Core Network\" and it supports this configuration it shall return LCLS-BSS-Status indicating that the requested LCLS configuration is supported. When detecting user data packets from the Core Network, the BSS shall insert this user data in the stream towards the locally served UE and send UL user data to the Core Network.\n-\t\"connected both-way in the BSS and bi-casted UL to the Core Network and send access DL from the Core Network, block local DL\" and it supports this configuration it shall block the local DL path from the opposite call leg and return LCLS-BSS-Status indicating that the requested LCLS configuration is supported. From then on it shall insert the data packets coming from the Core Network for that call leg in the stream towards the locally served UE and send UL user data to the Core Network.\nIf the BSS does not support the requested LCLS-Configuration it shall return LCLS-BSS-Status indicating that the requested configuration is not supported; the LCLS configuration is kept as it was prior to receiving the LCLS-Connect-Control message.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_14.6.2.5.1",
      "section_id": "14.6.2.5.1",
      "section_title": "Connection Model",
      "content": "Figure 14.6.2.5.1.1 shows the network model where the iMSC server requests the iMGW to play the announcement/tone directly on the bearer termination T3 (used towards the preceding oMGW) from which the signal shall be sent towards the oUE. The bearer termination T4 is used for the bearer towards the succeeding tMGW (i.e. towards the tUE). Before the start of mid-call announcement/tone procedure the call was locally switched with the LCLS Configuration set to \"connected both-way in the BSS\".\nConnection Model 1: Locally switched call\nConnection Model 2: Locally switched call, playing of Announcement/tone\nFigure 14.6.2.5.1.1: Connection Model, Mid-Call Announcement/tone",
      "chunk_type": "general",
      "cross_references": [
        "figure_14.6.2.5.1.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_14.6.2.5.2",
      "section_id": "14.6.2.5.2",
      "section_title": "Example Sequence",
      "content": "Figure 14.6.2.5.2.1 shows the message sequence example for providing the oUE with an announcement/tone. In the example the iMSC server requests the iMGW to play an announcement/tone and to notify the announcement/tone completion.\nFigure 14.6.2.5.2.1: Mid-Call Announcement/Tone Flow\n1.\tThe iMSC server identifies that mid-call announcement/tone needs to be played towards the oUE.\n2.\tThe iMSC server modifies the LCLS-Configuration-Preference IE due to the announcement/tone it needs to play towards the oUE and sends LCLS Configuration Change Request message towards the preceding node with the LCLS-Configuration-Change Request IE indicating a request to change the LCLS Configuration and with the modified LCLS-Configuration-Preference IE indicating \"Need Send Backward = yes\". When LCLS Configuration Change Request message is sent the iMSC server starts LCLS_configuration_modification timer.\nNOTE:\tOther values for the initially agreed LCLS-Configuration-Preference IE for receive or send access are unmodified.\n3.\tThe oMSC server informs the oBSS the user plane data needs to be provided to the oUE from the CN by sending the LCLS-Connect-Control message containing LCLS-Configuration IE set to \"connected both-way in the BSS and send access DL from the Core Network\".\n4.\tThe oBSS confirms the requested configuration is enabled with the LCLS-Connect-Control Ack message.\n5.\tThe oMSC server confirms the oBSS is prepared for the reception of announcement/tone by sending the LCLS Configuration Change Request Acknowledge message with a LCLS-Configuration-Change Result IE indicating acceptance of the requested LCLS Configuration change.\n6.\tAt reception of the LCLS Configuration Change Request Acknowledge message the iMSC server stops the LCLS_configuration_modification timer. Since the received LCLS-Configuration-Change Result IE indicates that requested send access is enabled the iMSC server provides the iMGW with the announcement/tone identification and requests the iMGW to notify the announcement/tone completion using the Play Announcement or Send Tone procedure.\n7.\tThe iMGW notifies the iMSC server when the announcement/tone is completed using the Announcement Completed or Tone Completed procedure.\n8.\tThe iMSC server signals to the preceding node the send access is not needed anymore by sending the LCLS Configuration Change Request message with the LCLS-Configuration-Change Request IE indicating a request to change the LCLS Configuration and with the LCLS-Configuration-Preference IE indicating \"Need Send Backward = no\" and starts LCLS_configuration_modification timer.\n9.\tThe oMSC server notifies the oBSS with the LCLS-Connect-Control message that no user plane data from the CN will be provided that is the LCLS-Configuration IE is set to \"connected both-way in the BSS\".\n10.\tThe oBSS replies with the LCLS-Connect-Control Ack message indicating local switching with the requested LCLS configuration.\n11.\tThe oMSC server confirms the oBSS has returned the LCLS connection to the status prior to the announcement/tone by sending the LCLS Configuration Change Request Acknowledge message with the LCLS-Configuration-Change Result IE indicating acceptance of the requested LCLS Configuration change. At reception of the LCLS Configuration Change Request Acknowledge message the iMSC server stops the LCLS_configuration_modification timer.",
      "chunk_type": "general",
      "cross_references": [
        "figure_14.6.2.5.2.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_14.6.2.6.1",
      "section_id": "14.6.2.6.1",
      "section_title": "Connection Model",
      "content": "Figure 14.6.2.6.1.1 shows the network model for the locally switched call with bicasting of user data to the Core Network where the oMSC server requests the oMGW to play the announcement/tone towards the originating UE. The dashed line in green represents call control signalling. Non-dotted lines represent the bearer carrying real user plane data: the solid line in turquoise represents the data from the originating UE and the solid line in yellow represents the data from the terminating UE. The solid line in blue represents an announcement played to the originating UE. The bearer termination T1 is used for the bearer towards the oBSS and the bearer termination T2 is used for the bearer towards the succeeding iMGW (i.e. towards the tUE). The announcement is applied directly on the bearer termination T1 from which the signal shall be sent towards the originating UE.\nIf the oMSC server requires receiving UL data from the originating UE and the terminating UE and was sent a LCLS Configuration Preference IE set to \"Need_Receive_Backward = yes; Need_Receive_Forward = yes\" to the succeeding node then when it needs to send the DL data to the originating UE the oMSC server will require from the oBSS to connect LCLS with bicasting UL and with DL send access and to block local DL. Connection model 2a is applied when the oBSS supports the required LCLS configuration and the announcement is played towards the originating UE.\nIf the oMSC server requires receiving UL data from the originating UE and the terminating UE but was sent the LCLS Configuration Preference IE set to \"Need_Receive_Backward = yes, Need_Receive_Forward = no\" to the succeeding node and was received the LCLS Configuration Preference IE set to \"Need_Receive_Forward = no\" then it may configure its oMGW to isolate the access side termination (T1) from the network side termination (T2). When the oMSC server needs to send the DL data to the originating UE it requests the oBSS to connect LCLS with bicasting UL and with DL send access. Connection model 2b applies when the oBSS supports the required LCLS configuration and then the oBSS inserts the announcement from the Core Network towards the originating UE.\nConnection Model 1: Locally switched call with bicasting of user data to CN\nConnection Model 2a: Locally Switched Call with Bicasting of User Data to CN and with Blocked Local DL Data, Playing of Announcement/tone\nConnection Model 2b: Locally Switched Call with Bicasting of User Data to CN and Isolation of Access Side, Playing of Announcement/tone\nFigure 14.6.2.6.1.1: Connection Model, LCLS with UL Bicasting and Mid-Call Announcement/tone",
      "chunk_type": "general",
      "cross_references": [
        "figure_14.6.2.6.1.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_14.6.2.6.2",
      "section_id": "14.6.2.6.2",
      "section_title": "Example Sequences with Uplink Bicasting of User Data",
      "content": "Figure 14.6.2.6.2.1 shows the message sequence example for providing the originating UE with an announcement/tone. In the example the call is locally switched with bicasting of user data to the Core Network. The oMSC server requests the oBSS to connect LCLS with bicasting UL and with DL send access and to block local DL. The oMSC server requests the oMGW to play an announcement/tone and to notify the announcement/tone completion.\nFigure 14.6.2.6.2.1: Mid-Call Announcement/Tone Flow with Block Local Data Request\n1.\tThe oMSC server identifies that mid-call announcement/tone needs to be played towards the oUE.\n2.\tThe oMSC server informs the oBSS the user plane data needs to be provided to the oUE from the CN by sending the LCLS-Connect-Control message containing LCLS-Configuration IE set to \"connected both-way in the BSS and bi-casted UL to the Core Network and send access DL from the Core Network, block local DL\".\n3.\tThe oBSS confirms the requested configuration is enabled with the LCLS-Connect-Control Ack message.\n4.\tAt reception of the LCLS-Connect-Control Ack message indicating that requested LCLS configuration is supported the oMSC server provides the oMGW with the announcement/tone identification and requests the oMGW to notify the announcement/tone completion using the Play Announcement or Send Tone procedure.\n5.\tThe oMGW notifies the oMSC server when the announcement/tone is completed using the Announcement Completed or Tone Completed procedure.\n6.\tThe oMSC server notifies the oBSS with the LCLS-Connect-Control message that DL send access is no longer needed that is the LCLS-Configuration IE is set to \"connected both-way in the BSS and bi-casted UL to the Core Network\".\n7.\tThe oBSS replies with the LCLS-Connect-Control Ack message indicating local switching with the requested LCLS configuration.",
      "chunk_type": "general",
      "cross_references": [
        "figure_14.6.2.6.2.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_14.6.2.6.3",
      "section_id": "14.6.2.6.3",
      "section_title": "Example Sequence when Access Side Termination is isolated in MGW",
      "content": "Figure 14.6.2.6.3.1 shows the message sequence example for providing the originating UE with an announcement/tone. Since other CN nodes didn't requested receiving UL data from the originating UE the oMSC server may configure its oMGW to isolate the access side termination from the network side termination. In the example the oMSC server requests the oMGW to play an announcement/tone and to notify the announcement/tone completion.\nFigure 14.6.2.6.3.1: Mid-Call Announcement/Tone Flow when Access Side Termination is Isolated in MGW\n1.\tThe oMSC server identifies that mid-call announcement/tone needs to be played towards the oUE.\n2.\tIf the LCLS negotiation indicated that any succeeding node does not require the UL data from the oUE then the oMSC server requests the oMGW to isolate the access side termination T1 from the network side termination T2.\nNOTE 1:\tthe MOVE command (Isolate Bearer termination procedure) is not required if T1 has been\talready moved from the context oC during the call establishment procedure.\nNOTE 2:\tThe MSC server can also use the Change Through-Connection procedure and requests the MGW to change the through-connection of the bearer to inactive instead of using of the Isolate Bearer termination procedure, see 3GPP TS 23.205 [2].\n3.\tThe oMSC server informs the oBSS the user plane data needs to be provided to the oUE from the CN by sending the LCLS-Connect-Control message containing LCLS-Configuration IE set to \"connected both-way in the BSS and bi-casted UL to the Core Network and send access DL from the Core Network\".\n4.\tThe oBSS confirms the requested configuration is enabled with the LCLS-Connect-Control Ack message.\n5.\tAt reception of the LCLS-Connect-Control Ack message indicating that requested LCLS configuration is supported the oMSC server provides the oMGW with the announcement/tone identification and requests the oMGW to notify the announcement/tone completion using the Play Announcement or Send Tone procedure.\n6.\tThe oMGW notifies the oMSC server when the announcement/tone is completed using the Announcement Completed or Tone Completed procedure.\n7.\tThe oMSC server notifies the oBSS with the LCLS-Connect-Control message that DL send access is no longer needed that is the LCLS-Configuration IE is set to \"connected both-way in the BSS and bi-casted UL to the Core Network\".\n8.\tThe oBSS replies with the LCLS-Connect-Control Ack message indicating local switching with the requested LCLS configuration.\n9.\tThe oMSC server may send to the oMGW request to move the access side termination T1 to context oC with the network side termination T2.\nNOTE 3:\tSteps 9 is optional and not needed if step 2 is not performed.\nNOTE 4:\tIf the MSC server has used the Change Through-Connection procedure in step 2 instead of the Isolate Bearer termination procedure then the MSC server will use the Change Through-Connection procedure to request the MGW to change the through-connection of the bearer to be both-way through-connected.",
      "chunk_type": "general",
      "cross_references": [
        "figure_14.6.2.6.3.1",
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_14.7",
      "section_id": "14.7",
      "section_title": "Global Text Telephony",
      "content": "LCLS shall not be allowed for Global Text Telephony.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_14.8",
      "section_id": "14.8",
      "section_title": "Emergency Calls",
      "content": "LCLS shall not be allowed for Emergency Calls.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_14.9",
      "section_id": "14.9",
      "section_title": "Subscriber and equipment trace",
      "content": "No impact. There are no LCLS related requirements for Subscriber and Equipment Trace.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_14.10.1",
      "section_id": "14.10.1",
      "section_title": "Audio CAT",
      "content": "No impact. There are no LCLS related requirements for Audio CAT.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_14.10.2",
      "section_id": "14.10.2",
      "section_title": "Multimedia CAT",
      "content": "LCLS shall not be allowed for multimedia calls.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_14.11",
      "section_id": "14.11",
      "section_title": "Tandem Free Operation (TFO)",
      "content": "No impact. There are no LCLS related requirements for Tandem Free Operation (TFO).\nLCLS may be activated for calls that use TFO, but the TFO operation is interrupted for the time that the call is locally switched. If LCLS is broken in the middle of a call, the TFO operation may resume, if still applicable.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_14.12",
      "section_id": "14.12",
      "section_title": "Transcoder Free Operation (TrFO)",
      "content": "No impact. There are no LCLS related requirements for Transcoder Free Operation (TrFO).",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_14.13",
      "section_id": "14.13",
      "section_title": "CS Data Calls",
      "content": "LCLS shall not be allowed for CS Data Calls.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_14.14",
      "section_id": "14.14",
      "section_title": "RTP Multiplexing",
      "content": "No impact. There are no LCLS related requirements for RTP Multiplexing.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_23.284_15",
      "section_id": "15",
      "section_title": "Tunnelling",
      "content": "The tunnelling procedures shall be applied in accordance with 3GPP TS 23.205 [2].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_16.1.1",
      "section_id": "16.1.1",
      "section_title": "General",
      "content": "The BICC messages between (G)MSC servers on Nc interface are specified in 3GPP TS 23.205 [2]. The SIP methods and corresponding responses that shall be supported between (G)MSC servers on Nc interface are specified in 3GPP TS 29.231 [10]. The LCLS related information exchanged in these messages and encapsulated in the corresponding SIP messages is specified below and in 3GPP TS 29.205 [6].\nThe MAP messages used for inter-MSC handover between Anchor and Target MSC-Server (E-interface) are specified in 3GPP TS 23.205 [2] and 3GPP TS 23.009[9]. The LCLS related information exchanged in these messages is specified below and in 3GPP TS 29.002 [12].",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.205",
        "ts_29.231",
        "ts_29.205",
        "ts_23.009",
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_23.284_16.1.2",
      "section_id": "16.1.2",
      "section_title": "Initial Address",
      "content": "Table 16.1.2.1 indicates the LCLS related information which is exchanged between the MSC servers in the Initial Address (BICC: IAM or SIP-I: INVITE request with encapsulated ISUP IAM) message. Only the Information Elements required by LCLS are shown.\nTable 16.1.2.1: LCLS related information in Initial Address message\nMessage\nMessage direction\nInformation element name\nInformation element required\nInformation element description\nInitial Address (BICC: IAM or SIP-I: INVITE [IAM])\nForward\nGlobal Call Reference\nC\nThis information element identifies the call. This information element shall be included when LCLS is supported in the core network.\nLCLS-Negotiation Request\nC\nThis information element indicates the initial negotiation request and LCLS permissions. This information element shall be included when LCLS is supported in the core network.\nLCLS-Configuration-Preference\nC\nThis information element indicates the LCLS configuration preference while LCLS is established. This information element shall be included when LCLS is supported in the core network.",
      "chunk_type": "general",
      "cross_references": [
        "table_16.1.2.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_16.1.3",
      "section_id": "16.1.3",
      "section_title": "Answer",
      "content": "Table 16.1.3.1 indicates the LCLS related information which is exchanged between the MSC servers in the Answer (BICC: ANM or SIP-I: 200 OK final response to initial INVITE request with encapsulated ANM) message. Only the Information Elements required by LCLS are shown.\nTable 16.1.3.1: LCLS related information in Answer message\nMessage\nMessage direction\nInformation element name\nInformation element required\nInformation element description\nAnswer\n(BICC: ANM or SIP-I: 200 OK-INVITE [ANM])\nBackward\nLCLS-Status\nC\nThis information element identifies the LCLS connection status. This information element shall be included when LCLS is negotiated in the core network.",
      "chunk_type": "general",
      "cross_references": [
        "table_16.1.3.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_16.1.4",
      "section_id": "16.1.4",
      "section_title": "Bearer and Codec Information",
      "content": "Table 16.1.4.1 indicates the LCLS related information which is exchanged between the MSC servers in the Bearer and Codec Information (BICC: APM) message. Only the Information Elements required by LCLS are shown.\nTable 16.1.4.1: LCLS related information in Bearer and Codec Information message\nMessage\nMessage direction\nInformation element name\nInformation element required\nInformation element description\nBearer and Codec Information\n(BICC: APM\nBackward\nLCLS-Negotiation Response\nO\nThis information element indicates the initial negotiation response. This information element shall be included when the APM is related to LCLS negotiation in Bearer and Codec Information messages and LCLS is supported in the core network.\nLCLS-Configuration-Preference\nC\nThis information element indicates the LCLS configuration preference while LCLS is established. This IE shall be included if the LCLS-Negotiation Response is included.",
      "chunk_type": "general",
      "cross_references": [
        "table_16.1.4.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_16.1.5",
      "section_id": "16.1.5",
      "section_title": "Backward LCLS Negotiation",
      "content": "Table 16.1.5.1 indicates the LCLS related information which is exchanged between the MSC servers in the LCLS Negotiation (BICC: APM; SIP-I: 183 Session Progress provisional response with encapsulated APM) message or in the Address Complete (BICC: ACM; SIP-I: 183 Session Progress provisional response with encapsulated ACM) message or in the Call Progress (BICC: CPG; SIP-I: 183 Session Progress provisional response with encapsulated CPG) message. Only the Information Elements required by LCLS are shown.\nTable 16.1.5.1: LCLS related information in the LCLS Negotiation message\nMessage\nMessage direction\nInformation element name\nInformation element required\nInformation element description\nLCLS Negotiation (BICC: APM;SIP-I: 183 Session Progress [APM])\nBackward\nLCLS-Negotiation Response\nM\nThis information element indicates the initial negotiation response.\nLCLS-Configuration-Preference\nM\nThis information element indicates the LCLS configuration preference while LCLS is established.\nTable 16.1.5.2: LCLS related information in the Address Complete message\nMessage\nMessage direction\nInformation element name\nInformation element required\nInformation element description\nAddress Complete\n(BICC: ACM;SIP-I: 183 Session Progress [ACM])\nBackward\nLCLS-Negotiation Response\nO\nThis information element indicates the initial negotiation response.\nLCLS-Configuration-Preference\nC\nThis information element indicates the LCLS configuration preference while LCLS is established. This IE shall be included if the LCLS-Negotiation Response is included.\nTable 16.1.5.3: LCLS related information in the Call Progress message\nMessage\nMessage direction\nInformation element name\nInformation element required\nInformation element description\nCall Progress (BICC: CPG;SIP-I: 183 Session Progress [CPG])\nBackward\nLCLS-Negotiation Response\nO\nThis information element indicates the initial negotiation response.\nLCLS-Configuration-Preference\nC\nThis information element indicates the LCLS configuration preference while LCLS is established. This IE shall be included if the LCLS-Negotiation Response is included.",
      "chunk_type": "general",
      "cross_references": [
        "table_16.1.5.1",
        "table_16.1.5.2",
        "table_16.1.5.3"
      ]
    },
    {
      "chunk_id": "ts_23.284_16.1.6",
      "section_id": "16.1.6",
      "section_title": "Change of LCLS Configuration",
      "content": "Table 16.1.6.1 indicates the LCLS related information which is exchanged between the MSC servers in the LCLS Configuration Change Request (BICC: APM or SIP-I: INFO request with encapsulated APM) messages.\nTable 16.1.6.1: LCLS related information in the LCLS Configuration Change Request message\nMessage\nMessage direction\nInformation element name\nInformation element required\nInformation element description\nLCLS Configuration Change Request (BICC: APM or SIP-I: INFO [APM]\nBoth\nLCLS-Configuration-Change Request\nM\nThis information element indicates a request to change the requested LCLS configuration preference.\nLCLS-Configuration-Preference\nM\nThis information element indicates the LCLS configuration preference to be changed to.\nLCLS  Configuration Change Request  Acknowledge  (BICC: APM or SIP-I: INFO [APM]\nBoth\nLCLS-Configuration-Change Result\nM\nThis information element indicates if the LCLS Configuration Change Request is accepted or not.\nLCLS-Configuration-Preference\nM\nThis information element has the same value as in LCLS Configuration Change Request.",
      "chunk_type": "general",
      "cross_references": [
        "table_16.1.6.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_16.1.7",
      "section_id": "16.1.7",
      "section_title": "LCLS Status update",
      "content": "Table 16.1.7.1 indicates the LCLS related information which is exchanged between the MSC servers in the LCLS Status update (BICC: APM or SIP-I: INFO request with encapsulated ISUP APM) message.\nTable 16.1.7.1: LCLS related information in LCLS Status update message\nMessage\nMessage direction\nInformation element name\nInformation element required\nInformation element description\nLCLS Status update\n(BICC: APM or SIP-I: INFO [APM])\nBoth\nLCLS-Status\nM\nThis information element indicates the LCLS connection status. This information element shall be included when LCLS connection status has changed in the BSS.",
      "chunk_type": "general",
      "cross_references": [
        "table_16.1.7.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_16.1.8",
      "section_id": "16.1.8",
      "section_title": "Change of LCLS Status",
      "content": "Table 16.1.8.1 indicates the LCLS related information which is exchanged between the MSC servers in the LCLS Status Change Request (BICC: APM or SIP-I: INFO request with encapsulated ISUP APM) messages.\nTable 16.1.8.1: LCLS related information in LCLS Status Change Request message\nMessage\nMessage direction\nInformation element name\nInformation element required\nInformation element description\nLCLS Status Change Request (BICC: APM or SIP-I: INFO [APM])\nBoth\nLCLS-Status-Change\nM\nThis information element indicates a request to change the LCLS connection status in the BSS.\nLCLS Status Change Request Acknowledge (BICC: APM or SIP-I: INFO [APM])\nBoth\nLCLS-Status-Change\nM\nThis information element has the same value as in the LCLS-Status-Change-Request message.\nResult Code\nM\nThis information element indicates if the LCLS Status Change request is accepted or not. NOTE\nNOTE:      A request to break LCLS shall not be rejected.",
      "chunk_type": "general",
      "cross_references": [
        "table_16.1.8.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_16.1.9",
      "section_id": "16.1.9",
      "section_title": "MAP_PREPARE_HANDOVER Request",
      "content": "Table 16.1.9.1 indicates the LCLS related information which is exchanged between the Anchor MSC-Server and the Target MSC-Server (E-interface) in the MAP_PREPARE_HANDOVER Request message.\nTable 16.1.9.1: LCLS related information in MAP-Prepare-Handover Request message\nMessage\nMessage direction\nInformation element name\nInformation element required\nInformation element description\nMAP_PREPARE_HANDOVER Request\nFrom Anchor MSC-Server to Target MSC-Server\nLCLS GCR\nC\nThis information element identifies the call. This information element shall be included when LCLS is supported in the core network.\nLCLS-Negotiation Request\nC\nThis information element indicates request for LCLS. This information element shall be included when LCLS is supported in the core network.\nLCLS-Configuration-Preference\nC\nThis information element indicates the LCLS configuration preference while LCLS is established. This information element shall be included when LCLS is supported in the core network.",
      "chunk_type": "general",
      "cross_references": [
        "table_16.1.9.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_16.2",
      "section_id": "16.2",
      "section_title": "Procedures between (G)MSC server and MGW",
      "content": "The (G)MSC server and MGW procedures shall be performed in accordance with 3GPP 23.205 [2] for a BICC based CS core network and in accordance with 3GPP TS 23.231 [3] for a SIP-I based CS core network.",
      "chunk_type": "procedure",
      "cross_references": [
        "ts_23.231"
      ]
    },
    {
      "chunk_id": "ts_23.284_16.3.1",
      "section_id": "16.3.1",
      "section_title": "General",
      "content": "The procedures used on the Base Station System (BSS) to Mobile-services Switching Centre (MSC) interface for control of GSM services are specified in 3GPP TS 48.008 [7]. The LCLS related information exchanged in these procedures is specified below.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_48.008"
      ]
    },
    {
      "chunk_id": "ts_23.284_16.3.2",
      "section_id": "16.3.2",
      "section_title": "Assignment Procedure between MSC-Server and BSS",
      "content": "Table 16.3.2.1 indicates the LCLS related information which is exchanged between the MSC server and the BSS in the BSSMAP Assignment Procedure. Only the Information Elements required by LCLS are shown.\nTable 16.3.2.1: LCLS related information in Assignment Procedure\nProcedure\nMessage direction\nInformation element name\nInformation element required\nInformation element description\nAssignment Request\nFrom\nMSC-S\nGlobal Call Reference\nC\nThis information element identifies the call. This information element shall be included if local switching is requested by the MSC server.\nLCLS-Configuration\nC\nThis information element indicates the LCLS connection preference which shall persist in the BSS while LCLS is established. This information element shall be included if local switching is requested by the MSC server.\nLCLS-Connection-Status-Control\nC\nThis information element indicates to BSS whether it is permitted to locally through-connect the call. This information element shall be included if local switching is requested by the MSC server and when the Assignment Request message is sent after Answer.\nLCLS-Correlation-Not-Needed\nO\nThis information element indicates to the BSS that call correlation is not needed.\nThis information element shall be sent if the MSC-Server has detected that the call is not an Intra-BSS call or an Intra-network call.\nAssignment Complete\nFrom BSS\nLCLS-BSS-Status\nC\nThis information element notifies CN of the LCLS connection status in the BSS. This information element shall be included if BSS supports LCLS and both Global Call Reference IE and LCLS-Configuration IE were included in the ASSIGNMENT REQUEST message.",
      "chunk_type": "procedure",
      "cross_references": [
        "table_16.3.2.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_16.3.3",
      "section_id": "16.3.3",
      "section_title": "Handover Request Procedure between MSC-Server and BSS",
      "content": "Table 16.3.3.1 indicates the LCLS related information, which is exchanged between the MSC server and the BSS in the BSSMAP Handover Request Procedure. Only the Information Elements required by LCLS are shown.\nTable 16.3.3.1: LCLS related information in Handover Request Procedure\nProcedure\nMessage direction\nInformation element name\nInformation element required\nInformation element description\nHandover Request\nFrom\nMSC-S\nGlobal Call Reference\nC\nThis information element identifies the call. This information element shall be included if local switching is requested by the MSC server.\nLCLS-Connection-Status-Control\nC\nThis information element indicates to BSS whether it is permitted to locally through-connect the call. This information element shall be included if local switching is requested by the MSC server.\nLCLS-Configuration\nC\nThis information element indicates the LCLS connection preference which shall persist in the BSS while LCLS is established. This information element shall be included if local switching is requested by the MSC server.\nHandover Request Ackknowledge\nFrom BSS\nLCLS-BSS-Status\nC\nThis information element notifies CN of the LCLS connection status in the BSS. This information element shall be included if BSS supports LCLS and Global Call Reference IE, LCLS-Configuration IE and LCLS-Connection-Status-Control IE were included in the HANDOVER REQUEST message.",
      "chunk_type": "procedure",
      "cross_references": [
        "table_16.3.3.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_16.3.4",
      "section_id": "16.3.4",
      "section_title": "Handover Complete Procedure between MSC-Server and BSS",
      "content": "Table 16.3.4.1 indicates the LCLS related information, which is exchanged between the MSC server and the BSS in the BSSMAP Handover Complete Procedure. Only the Information Elements required by LCLS are shown.\nTable 16.3.4.1: LCLS related information in Handover Request Procedure\nProcedure\nMessage direction\nInformation element name\nInformation element required\nInformation element description\nHandover Complete\nFrom BSS\nLCLS-BSS-Status\nC\nThis information element notifies CN of the LCLS connection status in the BSS. This information element shall be included if BSS supports LCLS and if local switching was previously requested for this call leg by the MSC server.",
      "chunk_type": "procedure",
      "cross_references": [
        "table_16.3.4.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_16.3.5",
      "section_id": "16.3.5",
      "section_title": "Handover Performed Procedure between MSC-Server and BSS",
      "content": "Table 16.3.5.1 indicates the LCLS related information, which is exchanged between the MSC server and the BSS in the BSSMAP Handover Performed Procedure. Only the Information Elements required by LCLS are shown.\nTable 16.3.5.1: LCLS related information in Handover Request Procedure\nProcedure\nMessage direction\nInformation element name\nInformation element required\nInformation element description\nHandover Performed\nFrom BSS\nLCLS-BSS-Status\nC\nThis information element notifies CN of the LCLS connection status in the BSS. This information element shall be included if BSS supports LCLS and if local switching was previously requested for this call leg by the MSC server.",
      "chunk_type": "procedure",
      "cross_references": [
        "table_16.3.5.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_16.3.6",
      "section_id": "16.3.6",
      "section_title": "Internal Handover Command Procedure between MSC-Server and BSS",
      "content": "Table 16.3.6.1 indicates the LCLS related information, which is exchanged between the MSC server and the BSS in the BSSMAP Internal Handover Command Procedure. Only the Information Elements required by LCLS are shown.\nTable 16.3.6.1: LCLS related information in Internal Handover Command Procedure\nProcedure\nMessage direction\nInformation element name\nInformation element required\nInformation element description\nInternal Handover Command\nFrom\nMSC-S\nLCLS-Connection-Status-Control\nC\nThis information element indicates to BSS whether it is permitted to locally through-connect the call. This information element shall be included if local switching is requested by the MSC server, and LCLS-Connection-Status-Control indicating \"Connect\" has not previously been sent to the BSS for this particular call leg.",
      "chunk_type": "procedure",
      "cross_references": [
        "table_16.3.6.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_16.3.7",
      "section_id": "16.3.7",
      "section_title": "LCLS Connection Procedure between MSC-Server and BSS",
      "content": "Table 16.3.7.1 indicates the LCLS Connection Procedure and related information, which is exchanged between the MSC server and the BSS. Only the Information Elements required by LCLS are shown.\nTable 16.3.7.1: LCLS Connection Procedure between MSC-Server and BSS\nProcedures\nMessage direction\nInformation element name\nInformation element required\nInformation element description\nLCLS-Connect-Control\nFrom\nMSC-S\nLCLS-Connection-Status-Control\nO\nThis information element indicates to BSS whether it is permitted to locally through-connect the call.\nLCLS-Configuration\nO\nThis information element indicates the LCLS-Configuration.\nLCLS Connect Control Ack\nFrom BSS\nLCLS-BSS-Status\nM\nThis information element notifies CN of the LCLS connection status in the BSS.",
      "chunk_type": "procedure",
      "cross_references": [
        "table_16.3.7.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_16.3.8",
      "section_id": "16.3.8",
      "section_title": "LCLS Notification Procedure between MSC-Server and BSS",
      "content": "Table 16.3.8.1 indicates the LCLS Notification Procedure and related information, which is exchanged between the MSC server and the BSS. Only the Information Elements required by LCLS are shown.\nTable 16.3.8.1: LCLS Notification Procedures between MSC-Server and BSS\nProcedures\nMessage direction\nInformation element name\nInformation element required\nInformation element description\nLCLS-Notification\nFrom BSS\nLCLS-BSS-Status\nC\nThis information element notifies CN of the LCLS connection status in the BSS. This information element shall be included when BSS changes the LCLS connection status.\nLCLS-Break-Request\nC\nThis information element indicates if the LCLS break request is ordered from CN. This information element shall be included when BSS requests to disconnect local switching.\nNOTE:\tOnly one of those IE shall be present in the LCLS Notification message.",
      "chunk_type": "procedure",
      "cross_references": [
        "table_16.3.8.1"
      ]
    },
    {
      "chunk_id": "ts_23.284_17",
      "section_id": "17",
      "section_title": "Bearer Redirect",
      "content": "Bearer Redirect mechanisms within BICC based CS core network may be applied as specified in 3GPP TS 23.205 [2].\nBearer Redirect is not supported within SIP-I based CS core network, see 3GPP TS 23.231 [3].",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.205",
        "ts_23.231"
      ]
    },
    {
      "chunk_id": "ts_23.284_18",
      "section_id": "18",
      "section_title": "(G)MSC MGW Tandeming",
      "content": "It is FFS the impacts to (G)MSC MGW Tandeming procedure as specified in 3GPP TS 23.205 [2].",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.205"
      ]
    },
    {
      "chunk_id": "ts_23.284_19",
      "section_id": "19",
      "section_title": "Timers",
      "content": "The Timers as defined for a BICC based CS Core Network shall be applied as defined in 3GPP TS 23.205 [2].\nThe Timers as defined for a SIP-I based CS Core Network shall be applied as defined in 3GPP TS 23.231 [3].\nIn addition to the timers mentioned above Table 19.1 defines new timers for LCLS.\nTable 19.1: LCLS specific timers\nTimer identity\nTimer value\nTimer started\nTimer stopped\nTimer expiry\nLCLS_configuration_modification\n5 – 30 seconds\nWhen the core network node which initiates LCLS Configuration Preference Modification procedure sends the LCLS Configuration Change Request message.\nWhen the initiating node receives the LCLS Configuration Change Request Acknowledge message.\nThe LCLS Break procedure is started.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_19.1",
        "ts_23.205",
        "ts_23.231"
      ]
    },
    {
      "chunk_id": "ts_23.284_20",
      "section_id": "20",
      "section_title": "Multiple Realms",
      "content": "The principles for multiple IP realms shall be applied as defined in 3GPP TS 23.205 [2].\nAnnex A (informative):Case studies for LCLS Negotiation\nAnnex A provides examples of LCLS negotiation in the CN and LCLS configuration in the BSS. The examples also illustrate optional isolation scenarios and the change of the initial set of preferences during LCLS negotiation.\nA.1\toMSC LCLS-Negotiation handling when receiving UL bicast and sending DL data\nCase study 1: If the oMSC server requires receiving UL data from the terminating UE and sending DL data to the originating UE then it shall perform one of the following:\n-\tsend LCLS-Negotiation (request) set to \"LCLS-Not-Allowed\" or;\n-\tsend LCLS-Negotiation (request) set to \"Need_Receive Backward = Yes, Need_Send_Backward = Yes\", set LCLS-Configuration IE to \"connected both-way in the BSS and send access DL from the Core Network, block local DL\" on the originating call leg (as shown in Figure X.1.1). If the BSS supports this configuration then LCLS will be allowed; otherwise LCLS will not be permitted.\nNOTE 1:\tOn the terminating leg the LCLS configuration IE is set to \"connected both-way in the BSS and bi-cast UL to the Core Network\" by the tMSC.\nFigure A.1.1: oMSC requesting UL data from tUE plus sending DL data to oUE\nCase study 2: If the oMSC server requires receiving UL data from the originating UE it shall either:\n-\tsend LCLS-Negotiation (request) set to \"Need_Receive Forward = Yes\" and set LCLS-Configuration IE to \"connected both-way in the BSS and bi-cast UL\" on the originating call leg after confirmation (as shown in Figure X1.2). If the BSS supports this configuration then LCLS will be allowed; otherwise LCLS will not be permitted. The data in the forward direction is passed to the tBSS due to the result of LCLS negotiation process on the originating call leg.\nNOTE 2:\tOn the terminating leg the LCLS configuration IE is set to \"connected both-way in the BSS\" if LCLS connection preference that is negotiated through the Core Network only requires UL data from the oUE as shown in Figure X1.2. For the requested LCLS configuration on the terminating call leg the tBSS does not expect to receive any user data from the Core Network but is specified to discard if received.\nFigure A.1.2: oMSC requesting UL data from oUE indicated in LCLS-Negotiation\n-\tIn order to avoid the forwarding of the data in the forward direction to the tMGW the oMSC can send LCLS-Negotiation (request) to the succeeding node set to \"Need_Receive_Forward = No\" and if it does not receive \"Need_Receive_Forward = Yes\" in the LCLS-Negotiation (response) then it may configure its MGW to isolate the network side termination from the access side termination (as shown in Figure X.1.3).\nFigure A.1.3: oMSC requesting UL data from oUE not indicated in LCLS-Negotiation\n-\tIf the initial setting \"Need_Receive_Forward = No\" is overwritten by a succeeding Core Network node and the oMSC server receives \"Need_Receive_Forward = Yes\" in the LCLS-Negotiation (response) then it shall configure its MGW to be bothway through-connected (as shown in Figure X.1.4).\nFigure A.1.4: UL data requested from oUE by iMSC/tMSC, oMGW bothway through-connected\nCase study 3: If the oMSC server receives a LCLS-Negotiation (response) set to \"Need_Send_Backward = Yes\" and \"Need_Receive_Backward = Yes\" (succeeding node of the oMSC server requires to send data to the oUE and to receive data from the tUE) then it shall perform one of the following:\n-\tsend an LCLS-Negotiation (request) set to \"LCLS-Not-Allowed\" or;\n-\tset the LCLS-Configuration IE to \"connected both-way in the BSS and send access DL from the Core Network, block local DL\" on the originating leg (as shown in Figure X.1.5). If the BSS supports this configuration then LCLS will be allowed and the requested LCLS configuration will be confirmed; otherwise LCLS will not be permitted.\nNOTE 3:\tOn the terminating leg the LCLS configuration IE is set to \"connected both-way in the BSS and bi-cast UL to the Core Network\" by the tMSC.\nFigure A.1.5: iMSC requesting UL data from tUE plus sending DL data to oUE\nA.2\ttMSC LCLS-Negotiation handling when receiving UL bicast and sending DL data\nCase study 1: If the tMSC server receives LCLS-Negotiation (request) with \"Need_Send_Forward = Yes\" and \"Need_Receive_Forward = Yes\" then it shall either:\n-\treturn LCLS-Negotiation (response) set to \"LCLS-Not-Allowed\" or;\n-\treturn LCLS-Negotiation (response) with value \"Need_Send_Forward = Yes\" and \"Need_Receive_Forward = Yes\" and set LCLS-Configuration IE to \"Send Access DL, block local DL\" (as shown in Figure X.2.1). If the BSS supports this configuration then LCLS will be allowed; otherwise LCLS will not be permitted.\nNOTE 1:\tOn the originating leg the LCLS configuration IE is set to \"connected both-way in the BSS and bi-cast UL to the Core Network\" by the oMSC.\nFigure A.2.1: iMSC requesting UL data from oUE and sending DL data to tUE\nCase study 2: If the tMSC server requires sending DL data to the terminating UE and receives LCLS-Negotiation (request) with \"Need_Receive_Forward = Yes\" and \"Need_Send_Forward = No\" during a LCLS negotiation request it shall either:\n-\treturn LCLS-Negotiation (response) set to \"LCLS-Not-Allowed\" or;\n-\tset LCLS-Configuration IE to \"connected both-way in the BSS and send access DL\", return LCLS-Negotiation (response) with value \"Need_Send_Forward = No\" and \"Need_Receive_Forward = Yes\" and configure its Access MGW to isolate the network side termination from the access side termination when LCLS is established in order to avoid the forwarding of data from the oMGW/iMGW in the forward direction (as shown in Figure X.2.2), or;\nNOTE 2:\tOn the originating leg the LCLS configuration IE is set to \"connected both-way in the BSS and bi-cast UL to the Core Network\" by the oMSC.\nFigure A.2.2: iMSC requesting UL data from oUE and tMSC requesting DL data to tUE: option isolate access side termination from network side termination\n-\treturn LCLS-Negotiation (response) with value \"Need_Send_Forward = Yes\" and \"Need_Receive_Forward = Yes\" and set LCLS-Configuration IE to \"Send Access DL, block local DL\" (as shown in Figure X.2.3). If the BSS supports this configuration then LCLS will be allowed; otherwise LCLS will not be permitted.\nNOTE 3:\tOn the originating leg the LCLS configuration IE is set to \"connected both-way in the BSS and bi-cast UL to the Core Network\" by the oMSC.\nFigure A.2.3: iMSC requesting UL data from oUE and tMSC requesting DL data to tUE: option send Access DL, block local DL\nCase study 3: If the tMSC server requires receiving UL data from the terminating UE and it receives LCLS-Negotiation (request) with \"Need_Receive_Backward = No\" (as shown in Figure X.2.4) during a LCLS negotiation request then it shall either:\n-\tset LCLS-Configuration IE to \"connected both-way in the BSS and bi-cast UL\" and return LCLS-Negotiation (response) with \"Need_Receive Backward = Yes\" or;\n-\tset LCLS-Configuration IE to \"connected both-way in the BSS and bi-cast UL\", return LCLS-Negotiation (response) with \"Need_Receive Backward = No\" and configure its MGW to isolate its access side termination from the network side termination in order to avoid the forwarding of data in the backward direction through the CN.\nFigure A.2.4: tMSC requires DL data from tUE: option isolate access side termination from network side termination\nAnnex B (informative):Change history\nChange history\nDate\nMeeting\nTDoc\nCR\nRev\nCat\nSubject/Comment\nNew version\n2011-03\nCT#51\nCP-110295\nV2.1.0 approved in CT#51\n10.0.0\n2011-06\nCT#52\nCP-110376\n0001\n-\nLCLS Handover Result Code update\n10.1.0\n2011-06\nCT#52\nCP-110376\n0002\n1\nLCLS Re-establishment Result Code update\n10.1.0\n2011-06\nCT#52\nCP-110376\n0003\n1\nLCLS Break Result Code update\n10.1.0\n2011-06\nCT#52\nCP-110532\n0004\n1\nLCLS Call deflection clarification\n10.1.0\n2011-06\nCT#52\nCP-110376\n0005\n1\nUpdate of Call Clearing and LCLS Break/Re-establishment\n10.1.0\n2011-06\nCT#52\nCP-110376\n0006\n3\nUpdate of Handover\n10.1.0\n2011-06\nCT#52\nCP-110376\n0008\n1\nUpdate of LCLS Call Establishment\n10.1.0\n2011-06\nCT#52\nCP-110376\n0009\n2\nClarification of LCLS Configuration and LCLS Negotiation\n10.1.0\n2011-06\nCT#52\nCP-110376\n0010\n2\nUsage of option to isolate access side termination from network side\n10.1.0\n2011-06\nCT#52\nCP-110376\n0011\n-\nClarification of LCLS Configuration and LCLS Negotiation\n10.1.0\n2011-09\nCT#53\nCP-110571\n0012\n-\nLCLS BSS Status update, call establishment clauses\n10.2.0\n2011-09\nCT#53\nCP-110571\n0013\n-\nLCLS BSS Status update, LCLS break and re-establishment clauses\n10.2.0\n2011-09\nCT#53\nCP-110571\n0015\n1\nLCLS BSS Status update, Call Forwarding clauses\n10.2.0\n2011-09\nCT#53\nCP-110571\n0016\n1\nClarification of LCLS negotiation and handling of tones or announcements\n10.2.0\n2011-09\nCT#53\nCP-110571\n0017\n1\nLCLS Configuration Applicability\n10.2.0\n2011-09\nCT#53\nCP-110571\n0019\n1\nLCLS Connect during Handover\n10.2.0\n2011-09\nCT#53\nCP-110571\n0021\n-\nUpdate of mid-call announcement/tone examples\n10.2.0\n2011-09\nCT#53\nCP-110571\n0022\n1\nNegotiation of LCLS support\n10.2.0\n2011-09\nCT#53\nCP-110723\n0014\n3\nLCLS BSS Status update, handover clauses\n10.2.0\n2011-12\nCT#54\nCP-110799\n0023\n3\nLCLS Negotiation clarifications and correction\n10.3.0\n2011-12\nCT#54\nCP-110799\n0025\nLCLS status update corrections\n10.3.0\n2011-12\nCT#54\nCP-110799\n0026\n1\nSpeech path restoration for LCLS break\n10.3.0\n2011-12\nCT#54\nCP-110799\n0027\n1\nCorrection on IE descriptions for the LCLS Notification procedure\n10.3.0\n2011-12\nCT#54\nCP-110799\n0028\n1\nCorrection on IE descriptions for the Handover procedure\n10.3.0\n2011-12\nCT#54\nCP-110799\n0029\n1\nCorrection on IE descriptions for the Assignment procedure\n10.3.0\n2011-12\nCT#54\nCP-110799\n0030\n3\nCorrection on Call Waiting procedure\n10.3.0\n2011-12\nCT#54\nCP-110799\n0032\n3\nClarifications and rules for LCLS re-negotiation\n10.3.0\n2011-12\nCT#54\nCP-110799\n0033\n1\nFurther corrections due to update to LCLS Connect during Handover\n10.3.0\n2011-12\nCT#54\nCP-110799\n0034\n2\nRe-specifying the naming for LCLS Negotiation and LCLS Re-Negotiation\n10.3.0\n2012-03\nCT#55\nCP-120207\n0035\n5\nAdditional Control procedure during Inter-BSS Handover\n10.4.0\n2012-03\nCT#55\nCP-120030\n0036\n1\nCorrection on general concepts for modification of LCLS configuration preferences\n10.4.0\n2012-03\nCT#55\nCP-120030\n0037\n-\nUpdate of basic call examples\n10.4.0\n2012-03\nCT#55\nCP-120030\n0038\n1\nUpdate of call handover examples\n10.4.0\n2012-03\nCT#55\nCP-120030\n0039\n-\nUpdate of service interworking examples\n10.4.0\n2012-03\nCT#55\nCP-120030\n0040\n-\nUpdate of Mid-Call Announcement/tone examples\n10.4.0\n2012-03\nCT#55\nCP-120030\n0041\n1\nIntroduction of LCLS Configuration Modification timer\n10.4.0\n2012-03\nCT#55\nCP-120030\n0042\n1\nClarification of LCLS Connect_Control settings due to handover failure\n10.4.0\n2012-09\nCT#57\n-\nAutomatic update from previous Release version 10.4.0 (MCC)\n11.0.0\n2012-12\nCT#57\nCP-120724\n0044\n1\nLCLS Negotiation Procedures\n11.1.0\n2013-12\nCT#62\nCP-130641\n0045\n-\nGERAN Iu Mode\n12.0.0\n2015-12\nCT#70\n-\n-\n-\nUpdate to Rel-13 version (MCC)\n13.0.0\n2017-03\nCT#75\n-\n-\n-\nUpdate to Rel-14 version (MCC)\n14.0.0\n2018-06\nCT#80\n-\n-\n-\nUpdate to Rel-15 version (MCC)\n15.0.0\n2020-07\nCT#90e\n-\n-\n-\nUpdate to Rel-16 version (MCC)\n16.0.0\n2022-03\nCT#95e\n-\n-\n-\nUpdate to Rel-17 version (MCC)\n17.0.0\n2024-03\n-\n-\n-\n-\n-\nUpdate to Rel-18 version (MCC)\n18.0.0",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.205",
        "ts_10.2"
      ]
    }
  ]
}