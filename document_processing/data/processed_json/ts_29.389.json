{
  "metadata": {
    "specification_id": "ts_29.389",
    "version": "18.0.0",
    "title": "3GPP TS 29.389",
    "file_path": "/content/drive/MyDrive/RAG_thesis/data/29_series/29389-i00/29389-i00.docx"
  },
  "export_info": {
    "export_date": "2025-07-26T08:54:02.068664",
    "total_chunks": 39
  },
  "chunks": [
    {
      "chunk_id": "ts_29.389_1",
      "section_id": "1",
      "section_title": "Scope",
      "content": "The present document describes the Diameter-based interfaces between the V2X Control Function in the HPLMN and the V2X Control Function in the VPLMN (V6 interface).\nThis specification defines the Diameter application for V6 reference points between the V2X Control Functions. The interactions between the V2X Control Functions are specified.\nThe stage 2 description for V2X service features in EPS is specified in 3GPP TS 23.285 [2].",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.285"
      ]
    },
    {
      "chunk_id": "ts_29.389_2",
      "section_id": "2",
      "section_title": "References",
      "content": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non‑specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t3GPP TS 23.285: \"Architecture enhancements for V2X services; Stage 2\".\n[3]\tIETF RFC 6733: \"Diameter Base Protocol\".\n[4]\t3GPP TS 33.210: \"3G Security; Network Domain Security; IP Network Layer Security\".\n[5]\tIETF RFC 4960: \"Stream Control Transmission Protocol\".\n[6]\t3GPP TS 29.229: \"Cx and Dx interfaces based on the Diameter protocol\".\n[7]\tIETF RFC 5234: \"Augmented BNF for Syntax Specifications: ABNF\".\n[8]\t3GPP TS 23.003: \"Numbering, addressing and identification\".\n[9]\t3GPP TS 29.228: \"IP multimedia (IM) Subsystem Cx and Dx Interfaces; Signalling flows and Message Elements\".\n[10]\t3GPP TS 29.272: \"Evolved Packet System; MME and SGSN Related Interfaces Based on Diameter Protocol\".\n[11]\t3GPP TS 29.329: \"Sh Interface based on the Diameter protocol\".\n[12]\tIETF RFC 7683: \"Diameter Overload Indication Conveyance\".\n[13]\t3GPP TS 29.336: \"Home Subscriber Server (HSS) diameter interfaces for interworking with packet data networks and applications\".\n[14]\t3GPP TS 32.299: \"Telecommunication management; Charging management; Diameter charging applications\".\n[15]\tIETF RFC 7944: \"Diameter Routing Message Priority\".\n[16]\t3GPP TS 29.388: \"V2X Control Function to V2X Control Function to Home Subscriber Server (HSS) aspects (V4)\".\n[17]\t3GPP TS 29.345: \"Inter-Proximity-services (ProSe) Function signalling aspects\".\n[18]\tIETF RFC 8583: \"Diameter Load Information Conveyance\".",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905",
        "ts_23.285",
        "ts_33.210",
        "ts_29.229",
        "ts_23.003",
        "ts_29.228",
        "ts_29.272",
        "ts_29.329",
        "ts_29.336",
        "ts_32.299",
        "ts_29.388",
        "ts_29.345"
      ]
    },
    {
      "chunk_id": "ts_29.389_3.1",
      "section_id": "3.1",
      "section_title": "Definitions",
      "content": "For the purposes of the present document, the terms and definitions given in 3GPP TR 21.905 [1] and the following apply. A term defined in the present document takes precedence over the definition of the same term, if any, in 3GPP TR 21.905 [1].\nexample: text used to clarify abstract rules by applying them literally.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_21.905"
      ]
    },
    {
      "chunk_id": "ts_29.389_3.3",
      "section_id": "3.3",
      "section_title": "Abbreviations",
      "content": "For the purposes of the present document, the abbreviations given in 3GPP TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in 3GPP TR 21.905 [1].\nProSe\tProximity-based Services\nV2X\tVehicle-to-Everything",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905"
      ]
    },
    {
      "chunk_id": "ts_29.389_4.1",
      "section_id": "4.1",
      "section_title": "Introduction",
      "content": "The V6 reference point is defined between a V2X Control Function in the HPLMN and a V2X Control Function in the VPLMN.\nThe definition of the V6 reference points and related functionalities are given in 3GPP TS 23.285 [2].\nAs defined in 3GPP TS 23.285 [2], the V6 reference point is used for:\n-\tHPLMN control of service authorization for V2X.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.285"
      ]
    },
    {
      "chunk_id": "ts_29.389_5.1",
      "section_id": "5.1",
      "section_title": "Introduction",
      "content": "This clause describes the Diameter-based V6 interface related procedures and Information elements exchanged between functional entities.\nIn the tables that describe the Information Elements transported by each Diameter command, each Information Element is marked as (M) Mandatory, (C) Conditional or (O) Optional in the \"Cat.\" column. For the correct handling of the Information Element according to the category type, see the description detailed in clause 6 of the 3GPP TS 29.228 [9].",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.228_clause_6",
        "ts_29.228"
      ]
    },
    {
      "chunk_id": "ts_29.389_5.2.1",
      "section_id": "5.2.1",
      "section_title": "General",
      "content": "The V2X Service Authorization Procedure shall be used between the V2X Control Function in the HPLMN and the V2X Control Function in the VPLMN to obtain service authorization information for V2X services. The procedure shall be invoked by the V2X Control Function in the HPLMN of the UE and is used:\n-\tto request service authorization information for V2X related to the UE from the V2X Control Function in the VPLMN;\n-\tto provide the V2X Control Function in the VPLMN with the UE identity (IMSI or MSISDN) in order to allow to perform charging:\nThis procedure is mapped to the commands ProSe-Authorization-Request/Answer (PAR/PAA) in the Diameter application specified in clause 6.\nTable 5.2.1-1 specifies the involved information elements for the request.\nTable 5.2.1-2 specifies the involved information elements for the answer.\nTable 5.2.1-1: V2X Service Authorization Request\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nUE Identity\n(See 3GPP TS 29.336 [13])\nUser-Identifier\nM\nThis information element shall contain either the user IMSI, formatted according to 3GPP TS 23.003 [8], clause 2.2, or the user MSISDN, formatted according to 3GPP TS 29.329 [11].\nPLMN Id\n(See 3GPP TS 29.272 [10])\nVisited-PLMN-Id\nM\nThis IE shall contain the PLMN-Id (3GPP TS 23.003 [8]) of the network in which the V2X Control Function is located.\nSupported Features\n(See 3GPP TS 29.229 [6])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nTable 5.2.1-2: V2X Service Authorization Answer\nInformation element name\nMapping to Diameter AVP\nCat.\nDescription\nResult\n(See 6.4)\nResult-Code / Experimental-Result\nM\nThis IE shall contain the result of the operation.\nThe Result-Code AVP shall be used to indicate success / errors as defined in the Diameter Base Protocol.\nThe Experimental-Result AVP shall be used for V6 errors. This is a grouped AVP which shall contain the 3GPP Vendor ID in the Vendor-Id AVP, and the error code in the Experimental-Result-Code AVP.\nThe following errors are applicable:\n- User Unknown\n- Unauthorized Service\n- Unauthorized Service in this PLMN\nSupported Features\n(See 3GPP TS 29.229 [6])\nSupported-Features\nO\nIf present, this information element shall contain the list of features supported by the origin host.\nV2X Authorization Data\n(See 6.3.2)\nV2X-Authorization-Data\nC\nThis Information Element shall contain the V2X authorization information of the user. It shall be present if success is reported.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6",
        "ts_23.003_clause_2.2",
        "table_5.2.1-1",
        "table_5.2.1-2",
        "ts_29.336",
        "ts_23.003",
        "ts_29.329",
        "ts_29.272",
        "ts_29.229"
      ]
    },
    {
      "chunk_id": "ts_29.389_5.2.2",
      "section_id": "5.2.2",
      "section_title": "Detailed behaviour of the V2X Control Function in the HPLMN",
      "content": "The V2X Control Function in the HPLMN shall make use of this procedure to request service authorization information for V2X related to the UE from the V2X Control Function in the VPLMN. The V2X Control Function shall include in the request the UE identity (IMSI or MSISDN) and the PLMN-Id identifying the PLMN of the requesting V2X Control Function.\nWhen receiving a V2X Service Authorization response from the V2X Control Function in the VPLMN, the V2X Control Function in the HPLMN shall check the result code. If it indicates SUCCESS, the V2X Control Function shall merge with its own policy.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.389_5.2.3",
      "section_id": "5.2.3",
      "section_title": "Detailed behaviour of the V2X Control Function in the VPLMN",
      "content": "When receiving a V2X Service Authorization request, the V2X Control Function in the VPLMN shall, in the following order:\n1.\tCheck whether the UE Identity (IMSI or MSISDN) exists. If not, a Result Code of DIAMETER_ERROR_USER_UNKNOWN shall be returned.\n2.\tCheck whether V2X is authorized for this UE Identity. If not, a Result Code of DIAMETER_ERROR_UNAUTHORIZED_SERVICE shall be returned.\nIf there is an error in any of the above steps then the V2X Control Function shall stop processing the request and shall return the error code specified in the respective step.\nIf the V2X Control Function cannot fulfil the received request for reasons not stated in the above steps, e.g. due to a database error or any of the required actions cannot be performed, it shall stop processing the request and set the Result Code to \"DIAMETER_UNABLE_TO_COMPLY\".\nOtherwise, when the UE is authorized to use V2X over PC5 or V2X over MBMS in this PLMN, the V2X Control Function shall include the V2X-Authorization-Data AVP in the response to return V2X permissions and the V2X Application Server information, and shall set the Result Code to \"DIAMETER_SUCCESS\".",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.389_6.1.1",
      "section_id": "6.1.1",
      "section_title": "Use of Diameter base protocol",
      "content": "The Diameter base protocol as specified in IETF RFC 6733 [3] shall apply except as modified by the defined support of the methods and the defined support of the commands and AVPs, result and error codes as specified in this specification. Unless otherwise specified, the procedures (including error handling and unrecognised information handling) shall be used unmodified.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.389_6.1.2",
      "section_id": "6.1.2",
      "section_title": "Securing Diameter Messages",
      "content": "For secure transport of Diameter messages, see 3GPP TS 33.210 [4].",
      "chunk_type": "general",
      "cross_references": [
        "ts_33.210"
      ]
    },
    {
      "chunk_id": "ts_29.389_6.1.3",
      "section_id": "6.1.3",
      "section_title": "Accounting functionality",
      "content": "Accounting functionality (Accounting Session State Machine, related command codes and AVPs) shall not be used on the V6 interface.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.389_6.1.4",
      "section_id": "6.1.4",
      "section_title": "Use of sessions",
      "content": "Between the V2X Control Functions, Diameter sessions shall be implicitly terminated. An implicitly terminated session is one for which the server does not maintain state information. The client shall not send any re-authorization or session termination requests to the server.\nThe Diameter base protocol includes the Auth-Session-State AVP as the mechanism for the implementation of implicitly terminated sessions.\nThe client (server) shall include in its requests (responses) the Auth-Session-State AVP set to the value NO_STATE_MAINTAINED (1), as described in IETF RFC 6733 [3]. As a consequence, the server shall not maintain any state information about this session and the client shall not send any session termination request. Neither the Authorization-Lifetime AVP nor the Session-Timeout AVP shall be present in requests or responses.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.389_6.1.5",
      "section_id": "6.1.5",
      "section_title": "Transport protocol",
      "content": "Diameter messages over the V6 interface shall make use of SCTP IETF RFC 4960 [5].",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.389_6.1.6",
      "section_id": "6.1.6",
      "section_title": "Routing considerations",
      "content": "This clause specifies the use of the Diameter routing AVPs Destination-Realm and Destination-Host.\nThe Destination-Realm AVP shall contain the network domain name of the targeted V2X Control Function. The network domain name is either known by the sending V2X Control Function or derived from the PLMN-Id of the targeted V2X Control Function to construct the EPC Home Network Realm/Domain, as indicated in 3GPP TS 23.003 [8], clause 19.2.\nIf a V2X Control Function knows the address/name of the V2X Control Function in charge of a given UE, and the associated network domain name, both the Destination-Realm and Destination-Host AVPs shall be present in the request.\nIf a V2X Control Function knows only the network domain name, the Destination-Realm AVP shall be present and the command shall be routed to the next Diameter node.\nConsequently, the Destination-Realm AVP is declared as mandatory and the Destination-Host AVP is declared as optional in the ABNF for all requests initiated by a V2X Control Function.\nIf the Vendor-Specific-Application-ID AVP is received in any of the commands defined in this specification, it shall be ignored by the receiving node, and it shall not be used for routing purposes.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.003_clause_19.2",
        "ts_23.003"
      ]
    },
    {
      "chunk_id": "ts_29.389_6.1.7",
      "section_id": "6.1.7",
      "section_title": "Advertising Application Support",
      "content": "The V2X Control Functions shall advertise support of the Diameter Inter V2X Control Functions Application by including the value of the application identifier in the Auth-Application-Id AVP within the Vendor-Specific-Application-Id grouped AVP of the Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands.\nThe vendor identifier value of 3GPP (10415) shall be included in the Supported-Vendor-Id AVP of the Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands, and in the Vendor-Id AVP within the Vendor-Specific-Application-Id grouped AVP of the Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands.\nThe Vendor-Id AVP included in Capabilities-Exchange-Request and Capabilities-Exchange-Answer commands that is not included in the Vendor-Specific-Application-Id AVPs as described above shall indicate the manufacturer of the Diameter node as per IETF RFC 6733 [3].",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.389_6.1.8",
      "section_id": "6.1.8",
      "section_title": "Diameter Application Identifier",
      "content": "The Diameter Inter V2X Control Functions Application protocol shall be defined as an IETF vendor specific Diameter application, where the vendor is 3GPP. The vendor identifier assigned by IANA to 3GPP (http://www.iana.org/assignments/enterprise-numbers) is 10415.\nThe Diameter application identifier assigned to the Diameter Inter V2X Control Functions application is 16777356 (allocated by IANA). The Diameter application identifier is used over the V6 interface.",
      "chunk_type": "parameter",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.389_6.1.9",
      "section_id": "6.1.9",
      "section_title": "Use of the Supported-Features AVP",
      "content": "When new functionality is introduced on the V6 interface, it should be defined as optional. If backwards incompatible changes cannot be avoided, the new functionality shall be introduced as a new feature and support advertised with the Supported-Features AVP. The usage of the Supported-Features AVP on the V6 interface is consistent with the procedures for the dynamic discovery of supported features as defined in clause 7.2 of 3GPP TS 29.229 [6].\nWhen extending the application by adding new AVPs for a feature, the new AVPs shall have the M bit cleared and the AVP shall not be defined mandatory in the command ABNF.\nAs defined in 3GPP TS 29.229 [6], the Supported-Features AVP is of type grouped and contains the Vendor-Id, Feature-List-ID and Feature-List AVPs. On the all reference points as specified in this specification, the Supported-Features AVP is used to identify features that have been defined by 3GPP and hence, for features defined in this document, the Vendor-Id AVP shall contain the vendor ID of 3GPP (10415). If there are multiple feature lists defined for the reference point, the Feature-List-ID AVP shall differentiate those lists from one another.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.229_clause_7.2",
        "ts_29.229"
      ]
    },
    {
      "chunk_id": "ts_29.389_6.2.1",
      "section_id": "6.2.1",
      "section_title": "Introduction",
      "content": "This clause defines the Command code values and related ABNF for each command described in this specification.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.389_6.2.2",
      "section_id": "6.2.2",
      "section_title": "Command-Code values",
      "content": "This csublause defines Command-Code values for the Diameter Inter V2X Control Functions application used over the V6 interface as allocated by IANA.\nEvery command is defined by means of the ABNF syntax IETF RFC 5234 [7], according to the rules in IETF RFC 6733 [3]. In the case, the definition and use of an AVP is not specified in this document, the guidelines in IETF RFC 6733 [3] shall apply.\nThe Vendor-Specific-Application-Id AVP shall not be included in any command sent by Diameter nodes supporting applications defined in this specification. If the Vendor-Specific-Application-Id AVP is received in any of the commands defined in this specification, it shall be ignored by the receiving node.\nNOTE:\tThe Vendor-Specific-Application-Id is included as an optional AVP in all Command Code Format specifications defined in this specification in order to overcome potential interoperability issues with intermediate Diameter agents non-compliant with IETF RFC 6733 [3].\nThe following Command Codes are defined in this specification:\nTable 6.2.2-1: Command-Code values for Diameter V2X Inter Control Functions Application\nCommand-Name\nAbbreviation\nCode\nClause\nProSe-Authorization-Request\nPAR\n8388668\n6.2.3\nProSe-Authorization-Answer\nPAA\n8388668\n6.2.4\nFor these commands, the Application-ID field shall be set to 16777356 (application identifier of the Diameter Inter V2X Control Functions interface application, allocated by IANA).",
      "chunk_type": "general",
      "cross_references": [
        "table_6.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.389_6.2.3",
      "section_id": "6.2.3",
      "section_title": "ProSe-Authorization-Request (PAR) Command",
      "content": "The ProSe-Authorization-Request (PAR) Command, indicated by the Command-Code field set to 8388668 and the \"R\" bit set in the Command Flags field, is sent from the V2X Control Function in the HPLMN to the V2X Control Function in the VPLMN. The ProSe-Authorization- Request (PAR) is originally defined in 3GPP TS 29.345 [17].\nMessage Format when used over the V6 application:\n< ProSe-Authorization-Request > ::=\t< Diameter Header: 8388668, REQ, PXY, 16777356 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n[ Destination-Host ]\n{ Destination-Realm }\n*[ Supported-Features ]\n[ OC-Supported-Features ]\n{ User-Identifier }\n{ Visited-PLMN-Id }\n*[ AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.345"
      ]
    },
    {
      "chunk_id": "ts_29.389_6.2.4",
      "section_id": "6.2.4",
      "section_title": "ProSe-Authorization-Answer (PAA) Command",
      "content": "The ProSe-Authorization-Answer (PAA) Command, indicated by the Command-Code field set to 8388668 and the \"R\" bit cleared in the Command Flags field, is sent from the V2X Control Function in the VPLMN to the V2X Control Function in the HPLMN. The ProSe-Authorization- Answer (PAA) is originally defined in 3GPP TS 29.345 [17].\nMessage Format when used over the V6 application:\n< ProSe-Authorization-Answer> ::=\t< Diameter Header: 8388668, PXY, 16777356 >\n< Session-Id >\n[ DRMP ]\n[ Vendor-Specific-Application-Id ]\n[ Result-Code ]\n[ Experimental-Result ]\n{ Auth-Session-State }\n{ Origin-Host }\n{ Origin-Realm }\n*[ Supported-Features ]\n[ OC-Supported-Features ]\n[ OC-OLR ]\n*[ Load ]\n[ V2X-Authorization-Data ]\n*[ AVP ]\n[ Failed-AVP ]\n*[ Proxy-Info ]\n*[ Route-Record ]",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.345"
      ]
    },
    {
      "chunk_id": "ts_29.389_6.3.1",
      "section_id": "6.3.1",
      "section_title": "General",
      "content": "The following table (table 6.3.1-1) specifies the Diameter AVPs defined for the V6 interface, their AVP Code values, types, possible flag values and whether or not the AVP may be encrypted. The Vendor-ID header of all AVPs defined in this specification shall be set to 3GPP (10415).\nFor all AVPs which contain bit masks and are of the type Unsigned32 e.g., PRR-Flags, bit 0 shall be the least significant bit. For example, to get the value of bit 0, a bit mask of 0x0001 shall be used.\nTable 6.3.1-1: V6 specific Diameter AVPs\nAVP Flag rules\nAttribute Name\nAVP Code\nClause\ndefined\nValue Type\nMust\nMay\nShould not\nMust not\nMay Encr.\nV2X-Authorization-Data\n4700\n6.3.2\nGrouped\nV2X-Permission-in-VPLMN\n4701\n6.3.3\nUnsigned32\nV2X-Application-Server\n4702\n6.3.4\nGrouped\nNOTE 1:\tThe AVP header bit denoted as \"M\", indicates whether support of the AVP is required. The AVP header bit denoted as \"V\" indicates whether the optional Vendor-ID field is present in the AVP header. For further details, see IETF RFC 6733 [3].\nNOTE 2:\tIf the M-bit is set for an AVP and the receiver does not understand the AVP, it shall return a rejection. If the M-bit is not set for an AVP, the receiver shall not return a rejection, whether or not it understands the AVP. If the receiver understands the AVP but the M-bit value does not match with the definition in this table, the receiver shall ignore the M-bit.\nThe following table (table 6.3.1-2) specifies the Diameter AVPs re-used by the V6 interface from existing Diameter Applications, including a reference to their respective specifications and when needed, a short description of their use within V6 interface.\nAny other AVPs from existing Diameter Applications, except for the AVPs from the Diameter base protocol, do not need to be supported. The AVPs from the Diameter base protocol are not included in table 6.3.1-2.\nTable 6.3.1-2: V6 re-used Diameter AVPs\nAttribute Name\nReference\nComments\nM-bit\nApplication-Server\n3GPP TS 32.299 [14]\nSee clause 6.3.5\nGeographical-Information\n3GPP TS 29.272 [10]\nSee clause 6.3.6\nVisited-PLMN-Id\n3GPP TS 29.272 [10]\nUser-Identifier\n3GPP TS 29.336 [13]\nUser-Name\nIETF RFC 6733 [3]\nMSISDN\n3GPP TS 29.329 [11]\nSupported-Features\n3GPP TS 29.229 [6]\nFeature-List-ID\n3GPP TS 29.229 [6]\nFeature-List\n3GPP TS 29.229 [6]\nOC-Supported-Features\nIETF RFC 7683 [12]\nSee clause 6.3.7\nMust set\nOC-OLR\nIETF RFC 7683 [12]\nSee clause 6.3.8\nMust set\nDRMP\nIETF RFC 7944 [15]\nSee clause 6.3.9\nMust not set\nLoad\nIETF RFC 8583 [18]\nSee clause 6.3.10\nMust not set\nPC5-RAT-Type\n3GPP TS 29.388 [16]\nSee clause 6.3.11\nMust not set\nNOTE 1:\tThe M-bit settings for re-used AVPs override those of the defining specifications that are referenced. Values include: \"Must set\", \"Must not set\". If the M-bit setting is blank, then the defining specification applies.\nNOTE 2:\tIf the M-bit is set for an AVP and the receiver does not understand the AVP, it shall return a rejection. If the M-bit is not set for an AVP, the receiver shall not return a rejection, whether or not it understands the AVP. If the receiver understands the AVP but the M-bit value does not match with the definition in this table, the receiver shall ignore the M-bit.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_32.299_clause_6.3.5",
        "ts_29.272_clause_6.3.6",
        "clause_6.3.7",
        "clause_6.3.8",
        "clause_6.3.9",
        "clause_6.3.10",
        "ts_29.388_clause_6.3.11",
        "table_6.3.1-1",
        "table_6.3.1-2",
        "ts_32.299",
        "ts_29.272",
        "ts_29.336",
        "ts_29.329",
        "ts_29.229",
        "ts_29.388"
      ]
    },
    {
      "chunk_id": "ts_29.389_6.3.2",
      "section_id": "6.3.2",
      "section_title": "V2X-Authorization-Data",
      "content": "The V2X-Authorization-Data AVP is of type Group. It shall contain the V2X related authorization data.\nAVP format\nV2X-Authorization-Data ::= <AVP header: 4700 10415>\n[ V2X-Permission-in-VPLMN ]\n*[ PC5-RAT-Type ]\n*[ V2X-Application-Server ]\n*[AVP]\nIf the V2X-Permission-in-VPLMN AVP indicates V2X communication over PC5 Allowed, the PC5-RAT-Type AVPs may be present to indicate allowed PC5 RAT types to perform communication over PC5 reference point.\nIf the V2X-Permission-in-VPLMN AVP indicates V2X communication over PC5 Allowed and PC5-RAT-Type AVP is absent, it indicates that all the PC5 RAT types (e.g. PC5 LTE, PC5 NR) are allowed to perform V2X communication over PC5 reference point.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.389_6.3.3",
      "section_id": "6.3.3",
      "section_title": "V2X-Permission-in-VPLMN",
      "content": "The V2X-Permission-in-VPLMN AVP is of type Unsigned32 and it shall contain a bit mask that indicates the permissions for V2X service in the visited PLMN for a user. The meaning of the bits shall be as defined in table 6.3.3-1:\nTable 6.3.3-1: V2X-Permission-in-VPLMN\nBit\nName\nDescription\n0\nV2X communication over PC5 Allowed\nThis bit, when set, indicates that the user is allowed to use V2X communication over PC5 in the visited PLMN.\n1\nV2X communication over MBMS Allowed\nThis bit, when set, indicates that the user is allowed to use V2X communication over MBMS in the visited PLMN.\nNOTE:\tBits not defined in this table shall be cleared by the V2X Control Function in the VPLMN and discarded by the V2X Control Function in the HPLMN.",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.3.3-1"
      ]
    },
    {
      "chunk_id": "ts_29.389_6.3.4",
      "section_id": "6.3.4",
      "section_title": "V2X-Application-Server",
      "content": "The V2X-Application-Server AVP is of type Group. It shall contain the identifier of V2X Application Server (e.g. FQDN or IP address), and may contain a list of served geographical area which are associated with the given V2X Application Server.\nAVP format\nV2X-Application-Server ::= <AVP header: 4702 10415>\n{ Application-Server }\n*[ Geographical-Information ]\n*[AVP]",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.389_6.3.5",
      "section_id": "6.3.5",
      "section_title": "Application-Server",
      "content": "The Application-Server AVP is of type UTF8String which is originally defined in 3GPP TS 32.299 [14]. It shall contain the identifier of V2X Application Server (e.g. FQDN or IP address).",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_32.299"
      ]
    },
    {
      "chunk_id": "ts_29.389_6.3.6",
      "section_id": "6.3.6",
      "section_title": "Geographical-Information",
      "content": "The Geographical-Information AVP is of type UTF8String which is originally defined in 3GPP TS 29.272 [10]. It shall contain the served geographical area which is associated with a V2X Application Server.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.272"
      ]
    },
    {
      "chunk_id": "ts_29.389_6.3.7",
      "section_id": "6.3.7",
      "section_title": "OC-Supported-Features",
      "content": "The OC-Supported-Features AVP is of type Grouped and it is defined in IETF RFC 7683 [12]. This AVP is used to support Diameter overload control mechanism, see Annex A for more information.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.389_6.3.8",
      "section_id": "6.3.8",
      "section_title": "OC-OLR",
      "content": "The OC-OLR AVP is of type Grouped and it is defined in IETF RFC 7683 [12]. This AVP is used to support Diameter overload control mechanism, see Annex A for more information.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.389_6.3.9",
      "section_id": "6.3.9",
      "section_title": "DRMP",
      "content": "The DRMP AVP is of type Enumerated and it is defined in IETF RFC 7944 [15]. This AVP allows the V2X Control Function to indicate the relative priority of Diameter messages.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.389_6.3.10",
      "section_id": "6.3.10",
      "section_title": "Load",
      "content": "The Load AVP is of type Grouped and it is defined in IETF RFC 8583 [18]. This AVP is used to support Diameter load control mechanism, see Annex D for more information.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.389_6.3.11",
      "section_id": "6.3.11",
      "section_title": "PC5-RAT-Type",
      "content": "The PC5-RAT-Type AVP (AVP code 4604) is of type Enumerated, it is used to indicate the PC5 radio technology to perform V2X communication over PC5 reference point.\nIt is defined in 3GPP TS 29.388 [16].",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.388"
      ]
    },
    {
      "chunk_id": "ts_29.389_6.4.1",
      "section_id": "6.4.1",
      "section_title": "General",
      "content": "This clause defines result code values that shall be supported by all Diameter implementations that conform to this specification.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.389_6.4.2",
      "section_id": "6.4.2",
      "section_title": "Success",
      "content": "Result codes that fall within the Success category shall be used to inform a peer that a request has been successfully completed. The Result-Code AVP values defined in the Diameter base protocol IETF RFC 6733 [3] shall be applied.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.389_6.4.3.1",
      "section_id": "6.4.3.1",
      "section_title": "General",
      "content": "Errors that fall within the Permanent Failures category shall be used to inform the peer that the request has failed, and should not be attempted again. The Result-Code AVP values defined in the Diameter base protocol IETF RFC 6733 [3] shall be applied. When one of the result codes defined here is included in a response, it shall be inside an Experimental-Result AVP and the Result-Code AVP shall be absent.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.389_6.4.3.2",
      "section_id": "6.4.3.2",
      "section_title": "DIAMETER_ERROR_USER_UNKNOWN (5001)",
      "content": "This result code shall be sent by the HSS to indicate that the user identified by the IMSI is unknown. This error code is defined in 3GPP TS 29.229 [6].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.229"
      ]
    },
    {
      "chunk_id": "ts_29.389_6.4.3.3",
      "section_id": "6.4.3.3",
      "section_title": "DIAMETER_ERROR_UNKNOWN_V2X_SUBSCRIPTION (5690)",
      "content": "This result code shall be sent by the HSS to indicate that no V2X subscription is associated with the IMSI. This error code is defined in 3GPP TS 29.388 [16].",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.388"
      ]
    },
    {
      "chunk_id": "ts_29.389_6.4.3.4",
      "section_id": "6.4.3.4",
      "section_title": "DIAMETER_ERROR_V2X_NOT_ALLOWED (5691)",
      "content": "This result code shall be sent by the HSS to indicate that V2X is not allowed to be used in the specific PLMN where the UE is registered. This error code is defined in 3GPP TS 29.388 [16].\nAnnex A (normative):Diameter overload control mechanism\nA.1\tGeneral\nDiameter overload control mechanism is an optional feature.\nIETF RFC 7683 [12] specifies a Diameter overload control mechanism which includes the definition and the transfer of related AVPs between Diameter nodes.\nIt is recommended to make use of IETF RFC 7683 [12] on the V6 interface where, when applied, the requesting V2X Control Function shall behave as a reacting node and the responding V2X Control Function as a reporting node.\nA.2\tResponding V2X Control Function behaviour\nThe responding V2X Control Function requests traffic reduction from requesting V2X Control Function when it is in an overload situation, including OC-OLR AVP in answer commands as described in IETF RFC 7683 [12].\nThe V2X Control Function identifies that it is in an overload situation by implementation specific means. For example, the V2X Control Function may take into account the traffic over the V6 interfaces or other interfaces, the level of usage of internal resources (CPU, memory), the access to external resources, etc.\nThe V2X Control Function determines the specific contents of OC-OLR AVP in overload reports and the V2X Control Function decides when to send OC-OLR AVPs by implementation specific means.\nA.3\tRequesting V2X Control Function behaviour\nThe requesting V2X Control Function applies required traffic reduction received in answer commands to subsequent applicable requests, as per IETF RFC 7683 [12].\nRequested traffic reduction is achieved by the requesting V2X Control Function by implementation specific means. For example, it may implement message throttling with prioritization or a message retaining mechanism for operations that can be postponed.\nAnnex B (Informative):Diameter overload node behaviour\nB.1\tMessage prioritization\nThis clause describes possible behaviours of the requesting V2X Control Function receiving an overload indication from the responding V2X Control Function, regarding message prioritisation in an informative purpose.\nThe message prioritization on V6 interface is not applicable in this release.\nAnnex C (normative):Diameter message priority mechanism\nC.1\tGeneral\nIETF RFC 7944 [15] specifies a Diameter routing message priority mechanism that allows Diameter nodes to indicate the relative priority of Diameter messages. With this information, other Diameter nodes may leverage the relative priority of Diameter messages into routing, resource allocation and also abatement decisions when overload control is applied.\nC.2\tV6 interfaces\nC.2.1\tGeneral\nThe Diameter message priority mechanism is an optional feature.\nIt is recommended to make use of IETF RFC 7944 [15] over the V6 interface of an operator network when the overload control defined in Annex A is applied on the V6 interface.\nC.2.2\tV2X Control Function behaviour\nWhen the V2X Control Function supports the Diameter message priority mechanism over the V6 interface, the V2X Control Function shall comply with IETF RFC 7944 [15]. In particular, when priority is required, the V2X Control Function shall include the DRMP AVP indicating a priority level in the requests it sends, and prioritise received requests according to the priority level received within the DRMP AVP. It shall prioritise received answers according to the priority level received within the DRMP AVP if present, otherwise according to the priority level of the corresponding request. It shall include the DRMP AVP in the answer to a received request if the required priority of the answer is different from the one of the request. The V2X Control Function decisions for a required priority and for the priority level value are implementation specific.\nDiameter requests related to high priority traffic should contain a DRMP AVP with a high priority of which the level value is operator dependent.\nD.1\tGeneral\nDiameter load control mechanism is an optional feature.\nIETF RFC 8583 [18] specifies a Diameter load control mechanism which includes the definition and the transfer of related AVPs between Diameter nodes.\nIt is recommended to make use of IETF RFC 8583 [18] on the V6 interface where, when applied, the requesting V2X Control Function shall behave as a reacting node and the responding V2X Control Function as a reporting node.\nD.2\tResponding V2X Control Function behaviour\nThe responding V2X Control Function may report its current load by including a Load AVP of type HOST in answer commands as described in IETF RFC 8583 [18].\nThe responding V2X Control Function calculates its current load by implementation specific means. For example, the responding V2X Control Function may take into account the traffic over the V6 interface or other interfaces, the level of usage of internal resources (e.g. CPU, memory), the access to external resources, etc.\nThe responding V2X Control Function determines when to send Load AVPs of type HOST by implementation specific means.\nD.3\tRequesting V2X Control Function behaviour\nWhen performing next hop Diameter Agent selection for requests that are routed based on realm, the requesting V2X Control Function may take into account load values from Load AVPs of type PEER received from candidate next hop Diameter nodes, as per IETF RFC 8583 [18].\nAnnex E (informative):Change history\nDate\nTSG #\nTSG Doc.\nCR\nRev\nSubject/Comment\nNew\n2016-10\nCT4#74bis\nSkeleton, implementation of C4-165232, C4-165233\n0.1.0\n2016-10\nCT4#74bis\nEditorial correction to the numbering of clauses\n0.1.1\n2016-11\nCT4#75\nImplementation of C4-166240\n0.2.0\n2017-02\nCT4#76\nImplementation of C4-171300, C4-171302, C4-171304, C4-171036\n0.3.0\n2017-03\nCT#75\nCP-170015\nPresented for information and approval\n1.0.0\n2017-03\nCT#75\n3GPP TS approved in CT#75\n14.0.0\n2017-06\nCT#76\nCP-171032\n0001\n1\nLoad Control\n14.1.0\n2017-06\nCT#76\nCP-171032\n0002\n1\nRemove Editor's Note on V2X Charging\n14.1.0\n2018-06\nCT#80\n-\n-\n-\nUpdate to Rel-15 version (MCC)\n15.0.0\n2019-09\nCT#85\nCP-192094\n0004\n1\ndraft-ietf-dime-load published as RFC 8583\n15.1.0\n2020-06\nCT#88e\nCP-201049\n0005\n-\nAuthorized PLMNs and RATs for V2X\n16.0.0\n2022-04\n-\n-\n-\n-\nUpdate to Rel-17 version (MCC)\n17.0.0\n2024-03\n-\n-\n-\n-\nUpdate to Rel-18 version (MCC)\n18.0.0",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.388"
      ]
    }
  ]
}