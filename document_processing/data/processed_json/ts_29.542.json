{
  "metadata": {
    "specification_id": "ts_29.542",
    "version": "18.4.0",
    "title": "3GPP TS 29.542",
    "file_path": "/content/drive/MyDrive/RAG_thesis/data/29_series/29542-i40/29542-i40.docx"
  },
  "export_info": {
    "export_date": "2025-07-26T08:51:06.726422",
    "total_chunks": 36
  },
  "chunks": [
    {
      "chunk_id": "ts_29.542_1",
      "section_id": "1",
      "section_title": "Scope",
      "content": "The present document specifies the stage 3 protocol and data model for the Nsmf Service Based Interfaces for Non-IP Data Delivery (NIDD). It provides stage 3 protocol definitions and message flows, and specifies the API for the service offered by the SMF.\nThe 5G System stage 2 architecture and procedures are specified in 3GPP TS 23.501 [2] and 3GPP TS 23.502 [3].\nThe Technical Realization of the Service Based Architecture and the Principles and Guidelines for Services Definition are specified in 3GPP TS 29.500 [4] and 3GPP TS 29.501 [5].",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.501",
        "ts_23.502",
        "ts_29.500",
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.542_2",
      "section_id": "2",
      "section_title": "References",
      "content": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non‑specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.\n[1]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".\n[3]\t3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".\n[4]\t3GPP TS 29.500: \"5G System; Technical Realization of Service Based Architecture; Stage 3\".\n[5]\t3GPP TS 29.501: \"5G System; Principles and Guidelines for Services Definition; Stage 3\".\n[6]\tOpenAPI: \"OpenAPI Specification Version 3.0.0\", https://spec.openapis.org/oas/v3.0.0.\n[7]\t3GPP TR 21.900: \"Technical Specification Group working methods\".\n[8]\t3GPP TS 33.501: \"Security architecture and procedures for 5G system\".\n[9]\tIETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".\n[10]\t3GPP TS 29.510: \"5G System; Network Function Repository Services; Stage 3\".\n[11]\tIETF RFC 9113: \"Hypertext Transfer Protocol Version 2 (HTTP/2)\".\n[12]\tIETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange Format\".\n[13]\tIETF RFC 9457: \"Problem Details for HTTP APIs\".\n[14]\t3GPP TS 29.541: \"5G System (5GS); Network Exposure (NE) function services for Non-IP Data Delivery (NIDD) and Short Message Services (SMS); Stage 3\".\n[15]\t3GPP TS 29.571: \"5G System; Common Data Types for Service Based Interfaces; Stage 3\".",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905",
        "ts_23.501",
        "ts_23.502",
        "ts_29.500",
        "ts_29.501",
        "ts_21.900",
        "ts_33.501",
        "ts_29.510",
        "ts_29.541",
        "ts_29.571"
      ]
    },
    {
      "chunk_id": "ts_29.542_3.1",
      "section_id": "3.1",
      "section_title": "Terms",
      "content": "Void.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.542_3.2",
      "section_id": "3.2",
      "section_title": "Symbols",
      "content": "Void.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.542_3.3",
      "section_id": "3.3",
      "section_title": "Abbreviations",
      "content": "For the purposes of the present document, the abbreviations given in 3GPP TR 21.905 [1] and the following apply. An abbreviation defined in the present document takes precedence over the definition of the same abbreviation, if any, in 3GPP TR 21.905 [1].\n5GC\t5G Core Network\nAMF\tAccess and Mobility Management Function\nH-SMF\tHome SMF\nI-SMF\tIntermediate SMF\nNEF\tNetwork Exposure Function\nNIDD\tNon-IP Data Delivery\nMT\tMobile Terminated\nSMF\tSession Management Function\nV-SMF\tVisited SMF",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905"
      ]
    },
    {
      "chunk_id": "ts_29.542_4.1",
      "section_id": "4.1",
      "section_title": "Introduction",
      "content": "Within the 5GC, the SMF offers services to the NF service consumers via the Nsmf service based interface (see 3GPP TS 23.501 [2] and 3GPP TS 23.502 [3]).\nFigure 4.1-1 provides the reference model (in service based interface representation and in reference point representation), with focus on the services specified within the present specification.\nFigure 4.1-1: Reference model – SMF\nN29 is the reference point between the (H-)SMF and the NEF.\nThe functionalities supported by the SMF are listed in clause 6.2.2 of 3GPP TS 23.501 [2].",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.501_clause_6.2.2",
        "ts_23.501_figure_4.1-1",
        "figure_4.1-1",
        "ts_23.501",
        "ts_23.502"
      ]
    },
    {
      "chunk_id": "ts_29.542_5.1",
      "section_id": "5.1",
      "section_title": "Introduction",
      "content": "The SMF supports the following service(s) for NIDD.\nTable 5.1-1: NF Service(s) provided by SMF for NIDD\nService Name\nDescription\nExample Consumer\nNsmf_NIDD\nThis service allows the NF consumer NF to deliver NIDD MT data to PDU sessions.\nNEF",
      "chunk_type": "general",
      "cross_references": [
        "table_5.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.542_5.2.1",
      "section_id": "5.2.1",
      "section_title": "Service Description",
      "content": "The Nsmf_NIDD service operates on the PDU Sessions. The service operations exposed by this service allow an NF consumer (i.e. NEF) to deliver NEF anchored Mobile Terminated (MT) data for a given PDU session of a UE towards the SMF.\nThe Nsmf_NIDD service supports the following service operations:\nTable 5.2.1-1: Service operations supported by the Nsmf_NIDD service\nService Operations\nDescription\nOperation\nSemantics\nExample Consumer(s)\nDelivery\nDeliver MT NIDD user data to the PDU session of the UE.\nRequest/Response\nNEF",
      "chunk_type": "general",
      "cross_references": [
        "table_5.2.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.542_5.2.2.1",
      "section_id": "5.2.2.1",
      "section_title": "Introduction",
      "content": "See Table 5.2.1-1 for an overview of the service operations supported by the Nsmf_NIDD service.",
      "chunk_type": "general",
      "cross_references": [
        "table_5.2.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.542_5.2.2.2.1",
      "section_id": "5.2.2.2.1",
      "section_title": "General",
      "content": "The Delivery service operation shall be used to transfer NEF anchored MT data for a given PDU session.\nIt is used in the following procedures:\n-\tNEF anchored Mobile Terminated Data Transport (see clause 4.25.5 of 3GPP TS 23.502 [3]).\nThe NF Service Consumer (i.e. NEF) shall deliver MT data to the SMF by using the HTTP POST method (\"deliver\" custom operation) as shown in Figure 5.2.2.2.1-1.\nFigure 5.2.2.2.1-1: Transfer MT Data\n1.\tThe NF Service Consumer shall send a POST request to the URI of \"deliver\" custom operation on an Individual PDU session resource in the SMF. The content of the POST request shall contain the MT data to be delivered.\nNOTE:\tThe URI of the individual PDU session resource is provided by SMF to the NEF during SMF-NEF connection creation (see clause 5.2.2.2.1 of 3GPP TS 29.541 [14]).\n2a.\tOn success, \"204 No Content\" shall be returned.\n2b.\tOn failure or redirection, one of the HTTP status code listed in Table 6.1.3.2.4.2.2-2 shall be returned.  For a 4xx/5xx response, the message body may contain a DeliverError or ProblemDetails object, with the \"cause\" attribute indicating the cause of the failure. If Estimated Maximum Waiting Time is received from AMF, the SMF shall include it in the message body.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.502_clause_4.25.5",
        "ts_29.541_clause_5.2.2.2.1",
        "table_6.1.3.2.4.2.2-2",
        "figure_5.2.2.2.1-1",
        "ts_23.502",
        "ts_29.541"
      ]
    },
    {
      "chunk_id": "ts_29.542_6.1.1",
      "section_id": "6.1.1",
      "section_title": "Introduction",
      "content": "The Nsmf_NIDD service shall use the Nsmf_NIDD API.\nThe API URI of the Nsmf_NIDD API shall be:\n{apiRoot}/<apiName>/<apiVersion>/\nThe request URI used in HTTP request from the NF service consumer towards the NF service producer shall have the Resource URI structure defined in clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:\n{apiRoot}/<apiName>/<apiVersion>/<apiSpecificResourceUriPart>\nwith the following components:\n-\tThe {apiRoot} shall be set as described in 3GPP TS 29.501 [5].\n-\tThe <apiName> shall be \"nsmf-nidd\".\n-\tThe <apiVersion> shall be \"v1\".\n-\tThe <apiSpecificResourceUriPart> shall be set as described in clause 6.1.3.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.501_clause_4.4.1",
        "clause_6.1.3",
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.542_6.1.2.1",
      "section_id": "6.1.2.1",
      "section_title": "General",
      "content": "HTTP/2, IETF RFC 9113 [11], shall be used as specified in clause 5 of 3GPP TS 29.500 [4].\nHTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].\nThe OpenAPI [6] specification of HTTP messages and content bodies for the Nsmf_NIDD API is contained in Annex A.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5",
        "ts_29.500_clause_5.3",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.542_6.1.2.2.1",
      "section_id": "6.1.2.2.1",
      "section_title": "General",
      "content": "The usage of HTTP standard headers shall be supported as specified in clause 5.2.2 of 3GPP TS 29.500 [4].",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.500_clause_5.2.2",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.542_6.1.2.2.2",
      "section_id": "6.1.2.2.2",
      "section_title": "Content type",
      "content": "The following content types shall be supported:\n-\tthe JSON format (IETF RFC 8259 [12]). The use of the JSON format shall be signalled by the content type \"application/json\". See also clause 5.4 of 3GPP TS 29.500 [4].\n-\tthe Problem Details JSON Object (IETF RFC 9457 [13]). The use of the Problem Details JSON object in a HTTP response body shall be signalled by the content type \"application/problem+json\".\nNOTE:\t\"application/json\" is used in a response that includes a payload body containing an application-specific data structure, see clause 4.8 of 3GPP TS 29.501 [5].\nMultipart messages shall also be supported (see clause 6.1.2.4) using the content type \"multipart/related\", comprising:\n-\tone JSON body part with the \"application/json\" content type; and\n-\tone or two binary body parts with 3gpp vendor specific content subtypes.\nThe 3gpp vendor specific content subtypes defined in Table 6.1.2.2.2-1 shall be supported.\nTable 6.1.2.2.2-1: 3GPP vendor specific content subtypes\ncontent subtype\nDescription\nvnd.3gpp.5gnas\nBinary encoded payload, encoding a 5GS NAS message or 5G NAS IEs, as specified in 3GPP TS 24.501 [7].\nSee clause 6.1.6.5 for the binary payloads supported in the binary body part of multipart messages.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_5.4",
        "ts_29.501_clause_4.8",
        "clause_6.1.2.4",
        "ts_24.501_clause_6.1.6.5",
        "table_6.1.2.2.2-1",
        "ts_29.500",
        "ts_29.501",
        "ts_24.501"
      ]
    },
    {
      "chunk_id": "ts_29.542_6.1.2.3",
      "section_id": "6.1.2.3",
      "section_title": "HTTP custom headers",
      "content": "In this release of the specification, no specific custom headers are defined for the Nsmf_NIDD service.\nFor 3GPP specific HTTP custom headers used across all service based interfaces, see clause 5.2.3 of 3GPP TS 29.500 [4].",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.500_clause_5.2.3",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.542_6.1.3.1",
      "section_id": "6.1.3.1",
      "section_title": "Overview",
      "content": "Figure 6.1.3.1-1 describes the resource URI structure of the Nsmf_NIDD API.\nFigure 6.1.3.1-1: Resource URI structure of the Nsmf_NIDD API\nTable 6.1.3.1-1 provides an overview of the resources and applicable HTTP methods.\nTable 6.1.3.1-1: Resources and methods overview\nResource name\nResource URI\nHTTP method or custom operation\nDescription\nIndividual PDU session\n/pdu-sessions/{pduSessionRef}/deliver\ndeliver (POST)\nDelivery Service Operation",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.1.3.1-1",
        "figure_6.1.3.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.542_6.1.3.2.1",
      "section_id": "6.1.3.2.1",
      "section_title": "Description",
      "content": "This resource represents an individual PDU session created in SMF for NIDD.\nThis resource is modelled with the Document resource archetype (see clause C.1 of 3GPP TS 29.501 [5]).",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.501"
      ]
    },
    {
      "chunk_id": "ts_29.542_6.1.3.2.2",
      "section_id": "6.1.3.2.2",
      "section_title": "Resource Definition",
      "content": "Resource URI: {apiRoot}/nsmf-nidd/<apiVersion>/pdu-sessions/{pduSessionRef}\nThis resource shall support the resource URI variables defined in table 6.1.3.2.2-1.\nTable 6.1.3.2.2-1: Resource URI variables for this resource\nName\nDefinition\napiRoot\nSee clause 6.1.1\napiVersion\nSee clause 6.1.1\npduSessionRef\nPDU session reference assigned by the SMF during SMF-NEF Connection creation.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_6.1.1",
        "table_6.1.3.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.542_6.1.3.2.3",
      "section_id": "6.1.3.2.3",
      "section_title": "Resource Standard Methods",
      "content": "None.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.542_6.1.3.2.4",
      "section_id": "6.1.3.2.4",
      "section_title": "Resource Custom Operations",
      "content": "6.1.3.2.4.1\tOverview\nTable 6.1.3.2.4.1-1: Custom operations\nCustom operaration URI\nMapped HTTP method\nDescription\n{resourceUri}/deliver\nPOST\nDelivery service operation.\n6.1.3.2.4.2\tOperation: deliver\n6.1.3.2.4.2.1\tDescription\nThis custom operation enables to deliver NEF anchored MT data for a given PDU session towards the SMF.\n6.1.3.2.4.2.2\tOperation Definition\nThis operation shall support the request data structures specified in table 6.1.3.2.4.2.2-1 and the response data structure and response codes specified in table 6.1.3.2.4.2.2-2.\nTable 6.1.3.2.4.2.2-1: Data structures supported by the POST Request Body on this resource\nData type\nP\nCardinality\nDescription\nDeliverReqData\nM\n1\nRepresentation of the payload of a Deliver Request\nTable 6.1.3.2.4.2.2-2: Data structures supported by the POST Response Body on this resource\nData type\nP\nCardinality\nResponse\ncodes\nDescription\nn/a\n204 No Content\nSuccessful delivery of MT data.\nRedirectResponse\nO\n0..1\n307 Temporary Redirect\nTemporary redirection.\n(NOTE 2)\nRedirectResponse\nO\n0..1\n308 Permanent Redirect\nPermanent redirection.\n(NOTE 2)\nDeliverError\nO\n0..1\n504 Gateway Timeout\nThe \"cause\" attribute may be used to indicate the following application errors:\n-\tUE_NOT_REACHABLE, if the UE is not reachable to deliver the mobile terminated data; if Estimated Maximum Waiting Time shall be included if available;\nSee table 6.1.7.3-1 for the description of these errors.\nNOTE 1:\tThe mandatory HTTP error status codes for the POST method listed in Table 5.2.7.1-1 of 3GPP TS 29.500 [4] other than those specified in the table above also apply, with a ProblemDetails data type when needed (see clause 5.2.7 of 3GPP TS 29.500 [4]).\nNOTE 2:\tRedirectResponse may be inserted by an SCP, see clause 6.10.9.1 of 3GPP TS 29.500 [4].\nTable 6.1.3.2.4.2.2-3: Headers supported by the 307 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same SMF or SMF (service) set.\nFor the case, when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected\nTable 6.1.3.2.4.2.2-4: Headers supported by the 308 Response Code on this resource\nName\nData type\nP\nCardinality\nDescription\nLocation\nstring\nM\n1\nAn alternative URI of the resource located on an alternative service instance within the same SMF or SMF (service) set.\nFor the case, when a request is redirected to the same target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500 [4].\n3gpp-Sbi-Target-Nf-Id\nstring\nO\n0..1\nIdentifier of the target NF (service) instance ID towards which the request is redirected",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.500_clause_5.2.7",
        "ts_29.500_clause_6.10.9.1",
        "table_6.1.3.2.4.1-1",
        "table_6.1.3.2.4.2.2-1",
        "table_6.1.3.2.4.2.2-2",
        "table_6.1.7.3-1",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.500_table_6.1.3.2.4.2.2-3",
        "table_6.1.3.2.4.2.2-4",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.542_6.1.4",
      "section_id": "6.1.4",
      "section_title": "Custom Operations without associated resources",
      "content": "None",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.542_6.1.5",
      "section_id": "6.1.5",
      "section_title": "Notifications",
      "content": "None.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.542_6.1.6.1",
      "section_id": "6.1.6.1",
      "section_title": "General",
      "content": "This clause specifies the application data model supported by the API.\nTable 6.1.6.1-1 specifies the data types defined for the Nsmf_NIDD service based interface protocol.\nTable 6.1.6.1-1: Nsmf_NIDD specific Data Types\nData type\nClause defined\nDescription\nApplicability\nDeliverReqData\n6.1.6.2.2\nInformation within Deliver Request\nDeliverAddInfo\n6.1.6.2.3\nDeliver Error Response Additional Information\nDeliverError\n6.1.6.4.1\nDeliver Error Response\nTable 6.1.6.1-2 specifies data types re-used by the N<NF> service based interface protocol from other specifications, including a reference to their respective specifications and when needed, a short description of their use within the N<NF> service based interface.\nTable 6.1.6.1-2: Nsmf_NIDD re-used Data Types\nData type\nReference\nComments\nApplicability\nRefToBinaryData\n3GPP TS 29.571 [15]\nCross-Reference to binary data encoded within a binary body part in an HTTP multipart message.\nProblemDetails\n3GPP TS 29.571 [15]\nError description\nDurationSec\n3GPP TS 29.571 [15]\nDuration in units of seconds\nRedirectResponse\n3GPP TS 29.571 [15]\nRedirect Response",
      "chunk_type": "definition",
      "cross_references": [
        "table_6.1.6.1-1",
        "table_6.1.6.1-2",
        "ts_29.571"
      ]
    },
    {
      "chunk_id": "ts_29.542_6.1.6.2.1",
      "section_id": "6.1.6.2.1",
      "section_title": "Introduction",
      "content": "This clause defines the structures to be used in resource representations.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.542_6.1.6.2.2",
      "section_id": "6.1.6.2.2",
      "section_title": "Type: DeliverReqData",
      "content": "Table 6.1.6.2.2-1: Definition of type DeliverReqData\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nmtData\nRefToBinaryData\nM\n1\nThis IE shall reference the Mobile Terminated Data (see clause 6.1.6.5.1).",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_6.1.6.5.1",
        "table_6.1.6.2.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.542_6.1.6.2.3",
      "section_id": "6.1.6.2.3",
      "section_title": "Type: DeliverAddInfo",
      "content": "Table 6.1.6.2.3-1: Definition of type DeliverAddInfo\nAttribute name\nData type\nP\nCardinality\nDescription\nApplicability\nmaxWaitingTime\nDurationSec\nC\n0..1\nThis IE shall contain the estimated maximum wait time (see clause 4.25.5 of 3GPP 23.502 [3]).",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_4.25.5",
        "table_6.1.6.2.3-1"
      ]
    },
    {
      "chunk_id": "ts_29.542_6.1.6.3.1",
      "section_id": "6.1.6.3.1",
      "section_title": "Introduction",
      "content": "This clause defines simple data types and enumerations that can be referenced from data structures defined in the previous clauses.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.542_6.1.6.3.2",
      "section_id": "6.1.6.3.2",
      "section_title": "Simple data types",
      "content": "The simple data types defined in table 6.1.6.3.2-1 shall be supported.\nTable 6.1.6.3.2-1: Simple data types\nType Name\nType Definition\nDescription\nApplicability",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.3.2-1"
      ]
    },
    {
      "chunk_id": "ts_29.542_6.1.6.4.1",
      "section_id": "6.1.6.4.1",
      "section_title": "Type: DeliverError",
      "content": "Table 6.1.6.4.1-1: Definition of type DeliverError as a list of \"to be combined data types\"\nData type\nCardinality\nDescription\nApplicability\nProblemDetails\n1\nDetail information of the problem\nDeliverAddInfo\n1\nAdditional information to be returned in error response.",
      "chunk_type": "general",
      "cross_references": [
        "table_6.1.6.4.1-1"
      ]
    },
    {
      "chunk_id": "ts_29.542_6.1.6.5.1",
      "section_id": "6.1.6.5.1",
      "section_title": "Mobile Terminated Data",
      "content": "Mobile Terminated Data shall encode the Data Contents of the Payload Container specified in 3GPP TS 24.501 [7], using the vnd.3gpp.5gnas content-type, as summarized in Table 6.1.6.5.1-1.\nTable 6.1.6.5.1-1: Mobile Terminated Data\nMobile Terminated Data\nReference\n(3GPP TS 24.501 [7])\nRelated NAS SM message\nPayload container contents in octets 4 to n\n9.11.3.39\nDL NAS Transport",
      "chunk_type": "requirement",
      "cross_references": [
        "table_6.1.6.5.1-1",
        "ts_24.501"
      ]
    },
    {
      "chunk_id": "ts_29.542_6.1.7.1",
      "section_id": "6.1.7.1",
      "section_title": "General",
      "content": "For the Nsmf_NIDD API, HTTP error responses shall be supported as specified in clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors and application errors specified in table 5.2.7.2-1 of 3GPP TS 29.500 [4] shall be supported for an HTTP method if the corresponding HTTP status codes are specified as mandatory for that HTTP method in table 5.2.7.1-1 of 3GPP TS 29.500 [4].\nIn addition, the requirements in the following clauses are applicable for the Nsmf_NIDD API.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.501_clause_4.8",
        "ts_29.500_table_5.2.7.2-1",
        "ts_29.500_table_5.2.7.1-1",
        "ts_29.501",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.542_6.1.7.2",
      "section_id": "6.1.7.2",
      "section_title": "Protocol Errors",
      "content": "No specific procedures for the Nsmf_NIDD service are specified.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.542_6.1.7.3",
      "section_id": "6.1.7.3",
      "section_title": "Application Errors",
      "content": "The common application errors defined in Table 5.2.7.2-1 of 3GPP TS 29.500 [4] may be used for the Nsmf_NIDD service.\nThe application errors defined for the Nsmf_NIDD service are listed in Table 6.1.7.3-1.\nTable 6.1.7.3-1: Application errors\nApplication Error\nHTTP status code\nDescription\nUE_NOT_REACHABLE\n504 Gateway Timeout\nThe UE is not reachable for the service.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.500_table_5.2.7.2-1",
        "table_6.1.7.3-1",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.542_6.1.8",
      "section_id": "6.1.8",
      "section_title": "Feature negotiation",
      "content": "The optional features in table 6.1.8-1 are defined for the Nsmf_NIDD API. They shall be negotiated using the extensibility mechanism defined in clause 6.6 of 3GPP TS 29.500 [4].\nTable 6.1.8-1: Supported Features\nFeature number\nFeature Name\nDescription",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.500_clause_6.6",
        "table_6.1.8-1",
        "ts_29.500_table_6.1.8-1",
        "ts_29.500"
      ]
    },
    {
      "chunk_id": "ts_29.542_6.1.9",
      "section_id": "6.1.9",
      "section_title": "Security",
      "content": "As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the Nsmf_NIDD API may be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [9]), based on local configuration, using the \"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [10]) plays the role of the authorization server.\nIf OAuth2 is used, an NF Service Consumer, prior to consuming services offered by the Nsmf_NIDD API, shall obtain a \"token\" from the authorization server, by invoking the Access Token Request service, as described in 3GPP TS 29.510 [10], clause 5.4.2.2.\nNOTE:\tWhen multiple NRFs are deployed in a network, the NRF used as authorization server is the same NRF that the NF Service Consumer used for discovering the Nsmf_NIDD service.\nThe Nsmf_NIDD API defines scopes for OAuth2 authorization as specified in 3GPP TS 33.501 [15]; it defines a single scope consisting on the name of the service (i.e., \"nsmf-nidd\"), and it does not define any additional scopes at resource or operation level.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.510_clause_5.4.2.2",
        "ts_33.501",
        "ts_29.500",
        "ts_29.510"
      ]
    },
    {
      "chunk_id": "ts_29.542_6.1.10",
      "section_id": "6.1.10",
      "section_title": "HTTP redirection",
      "content": "An HTTP request may be redirected to a different SMF service instance, within the same SMF or a different SMF of an SMF set, e.g. when an SMF service instance is part of an SMF (service) set or when using indirect communications (see 3GPP TS 29.500 [4]).\nAn SCP that reselects a different SMF producer instance will return the NF Instance ID of the new SMF producer instance in the 3gpp-Sbi-Producer-Id header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].\nIf an SMF within an SMF set redirects a service request to a different SMF of the set using an 307 Temporary Redirect or 308 Permanent Redirect status code, the identity of the new SMF towards which the service request is redirected shall be indicated in the 3gpp-Sbi-Target-Nf-Id header of the 307 Temporary Redirect or 308 Permanent Redirect response as specified in clause 6.10.9.1 of 3GPP TS 29.500 [4].\nAnnex A (normative):OpenAPI specification\nA.1\tGeneral\nThis Annex specifies the formal definition of the Nsmf_NIDD Service API. It consists of OpenAPI 3.0.0 specifications, in YAML format.\nThis Annex takes precedence when being discrepant to other parts of the specification with respect to the encoding of information elements and methods within the API(s).\nNOTE:\tThe semantics and procedures, as well as conditions, e.g. for the applicability and allowed combinations of attributes or values, not expressed in the OpenAPI definitions but defined in other parts of the specification also apply.\nInformative copies of the OpenAPI specification files contained in this 3GPP Technical Specification are available on a Git-based repository, that uses the GitLab software version control system (see 3GPP TS 29.501 [5] clause 5.3.1 and 3GPP TR 21.900 [7] clause 5B).\nA.2\tNsmf_NIDD API\nopenapi: 3.0.0\ninfo:\nversion: '1.2.0'\ntitle: 'Nsmf_NIDD'\ndescription: |\nSMF NIDD Service.\n© 2024, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\nAll rights reserved.\nexternalDocs:\ndescription: 3GPP TS 29.542 V18.4.0; 5G System; Session Management Services for Non-IP Data Delivery (NIDD); Stage 3\nurl: https://www.3gpp.org/ftp/Specs/archive/29_series/29.542/\nservers:\n- url: '{apiRoot}/nsmf-nidd/v1'\nvariables:\napiRoot:\ndefault: https://example.com\ndescription:  apiRoot as defined in clause 4.4 of 3GPP TS 29.501.\nsecurity:\n- {}\n- oAuth2ClientCredentials:\n- nsmf-nidd\npaths:\n'/pdu-sessions/{pduSessionRef}/deliver':\npost:\nsummary:  Delivery Service Operation\ntags:\n- Individual PDU session\noperationId: Deliver\nparameters:\n- name: pduSessionRef\nin: path\ndescription:  PDU session reference\nrequired: true\nschema:\ntype: string\nrequestBody:\ndescription: representation of the payload of Deliver Request\nrequired: true\ncontent:\nmultipart/related:  # message with a binary body part\nschema:\ntype: object\nproperties:\njsonData:\n$ref: '#/components/schemas/DeliverReqData'\nbinaryMtData:\ntype: string\nformat: binary\nencoding:\njsonData:\ncontentType:  application/json\nbinaryMtData:\ncontentType:  application/vnd.3gpp.5gnas\nheaders:\nContent-Id:\nschema:\ntype: string\nresponses:\n'204':\ndescription: successful transfering of Delivery\n'307':\n$ref: 'TS29571_CommonData.yaml#/components/responses/307'\n'308':\n$ref: 'TS29571_CommonData.yaml#/components/responses/308'\n'400':\n$ref: 'TS29571_CommonData.yaml#/components/responses/400'\n'401':\n$ref: 'TS29571_CommonData.yaml#/components/responses/401'\n'403':\n$ref: 'TS29571_CommonData.yaml#/components/responses/403'\n'404':\n$ref: 'TS29571_CommonData.yaml#/components/responses/404'\n'411':\n$ref: 'TS29571_CommonData.yaml#/components/responses/411'\n'413':\n$ref: 'TS29571_CommonData.yaml#/components/responses/413'\n'415':\n$ref: 'TS29571_CommonData.yaml#/components/responses/415'\n'429':\n$ref: 'TS29571_CommonData.yaml#/components/responses/429'\n'500':\n$ref: 'TS29571_CommonData.yaml#/components/responses/500'\n'502':\n$ref: 'TS29571_CommonData.yaml#/components/responses/502'\n'503':\n$ref: 'TS29571_CommonData.yaml#/components/responses/503'\n'504':\ndescription: unsuccessful delivery of mobile terminated data - gateway timeout\ncontent:\napplication/json:\nschema:\n$ref: '#/components/schemas/DeliverError'\ndefault:\n$ref: 'TS29571_CommonData.yaml#/components/responses/default'\ncomponents:\nsecuritySchemes:\noAuth2ClientCredentials:\ntype: oauth2\nflows:\nclientCredentials:\ntokenUrl: '{nrfApiRoot}/oauth2/token'\nscopes:\nnsmf-nidd: Access to the nsmf-nidd API\nschemas:\n#\n# STRUCTURED DATA TYPES\n#\nDeliverReqData:\ndescription: Representation of the payload of a Deliver Request.\ntype: object\nproperties:\nmtData:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData'\nrequired:\n- mtData\nDeliverAddInfo:\ndescription: Additional information in an error response to a Deliver Request.\ntype: object\nproperties:\nmaxWaitingTime:\n$ref: 'TS29571_CommonData.yaml#/components/schemas/DurationSec'\n#\n# DATA TYPES DESCRIBING ALTERNATIVE OR COMBINATION OF DATA TYPES\n#\nDeliverError:\ndescription: Representation of the payload in an error response to a Deliver Request.\nallOf:\n- $ref: 'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'\n- $ref: '#/components/schemas/DeliverAddInfo'\nAnnex B (informative):Change history\nChange history\nDate\nMeeting\nTDoc\nCR\nRev\nCat\nSubject/Comment\nNew version\n2020-03\nCT4#96-e\nC4-201267\nInitial Draft.\n0.1.0\n2020-03\nCT#87e\nCP-200093\nPresented for information and approval\n1.0.0\n2020-03\nCT#87e\nApproved at CT#87e\n16.0.0\n2020-06\nCT#88e\nCP-201071\n0001\n2\nF\nStorage of YAML files in ETSI Forge\n16.1.0\n2020-06\nCT#88e\nCP-201046\n0003\nF\nMiscellaneous Corrections\n16.1.0\n2020-06\nCT#88e\nCP-201073\n0004\nF\n29.542 Rel-16 API version and External doc update\n16.1.0\n2020-09\nCT#89e\nCP-202105\n0005\nF\nOptionality of DeliverError\n16.2.0\n2020-12\nCT#90e\nCP-203032\n0007\nF\nYAML files in 3GPP Forge\n16.3.0\n2021-03\nCT#91e\nCP-210037\n0010\n1\nF\nHTTP 3xx redirection\n17.0.0\n2021-03\nCT#91e\nCP-210034\n0011\n1\nF\nOpenAPI Reference\n17.0.0\n2021-03\nCT#91e\nCP-210054\n0013\n-\nF\n29.542 Rel-16 API version and External doc update\n17.0.0\n2021-06\nCT#92e\nCP-210050\n0014\n1\nF\nResolving Warning in Nsmf_NIDD API\n17.1.0\n2021-06\nCT#92e\nCP-210050\n0017\n1\nA\nRedirect Response\n17.1.0\n2021-06\nCT#92e\nCP-210050\n0018\nF\n29.542 Rel-17 API version and External doc update\n17.1.0\n2021-09\nCT#93e\nCP-212060\n0021\n-\nA\n3xx description correction for SCP\n17.2.0\n2022-03\nCT#95e\nCP-220025\n0025\n1\nF\nSMF reference model update\n17.3.0\n2022-06\nCT#96\nCP-221051\n0027\nF\n29.542 Rel-17 API version and External doc update\n17.4.0\n2022-12\nCT#98\nCP-223028\n0029\n1\nF\nMissing Mandatory Status Codes in OpenAPI\n18.0.0\n2022-12\nCT#98\nCP-223033\n0030\nF\n29.542 Rel-18 API version and External doc update\n18.0.0\n2023-06\nCT#100\nCP-231028\n0031\n3\nF\nLocation header description\n18.1.0\n2023-09\nCT#101\nCP-232063\n0035\n1\nF\nUpdate on the references\n18.2.0\n2023-12\nCT#102\nCP-233029\n0036\n1\nF\nHTTP RFCs obsoleted by IETF RFC 9110, 9111 and 9113\n18.3.0\n2023-12\nCT#102\nCP-233030\n0037\nF\nProblemDetails RFC 7807 obsoleted by 9457\n18.3.0\n2024-06\nCT#104\nCP-241052\n0038\nF\n29.542 Rel-18 API version and External doc update\n18.4.0",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.500_clause_6.10.3.4",
        "ts_29.500_clause_6.10.9.1",
        "ts_29.501_clause_5.3.1",
        "ts_29.501_clause_5",
        "ts_29.501_clause_4.4",
        "ts_29.500",
        "ts_29.501",
        "ts_21.900",
        "ts_29.542"
      ]
    }
  ]
}