{
  "metadata": {
    "specification_id": "ts_29.018",
    "version": "18.0.0",
    "title": "3GPP TS 29.018",
    "file_path": "/content/drive/MyDrive/RAG_thesis/data/29_series/29018-i00/29018-i00.docx"
  },
  "export_info": {
    "export_date": "2025-07-26T09:19:40.422548",
    "total_chunks": 183
  },
  "chunks": [
    {
      "chunk_id": "ts_29.018_1",
      "section_id": "1",
      "section_title": "Scope",
      "content": "The present document specifies or references procedures used on the Serving GPRS Support Node (SGSN) to Visitors Location Register (VLR) interface for interoperability between GSM circuit switched services and GSM packet data services.\nThe present document specifies the layer 3 messages and procedures on the Gs interface to allow coordination between databases and to relay certain messages related to GSM circuit switched services over the GPRS subsystem.\nThe functional split between VLR and SGSN is defined in 3GPP TS 23.060 [8]. The required procedures between VLR and SGSN are defined in detail in the present document.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.060"
      ]
    },
    {
      "chunk_id": "ts_29.018_2",
      "section_id": "2",
      "section_title": "References",
      "content": "The following documents contain provisions which, through reference in this text, constitute provisions of the present document.\n-\tReferences are either specific (identified by date of publication, edition number, version number, etc.) or non‑specific.\n-\tFor a specific reference, subsequent revisions do not apply.\n-\tFor a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_2.1",
      "section_id": "2.1",
      "section_title": "Normative references",
      "content": "[1]\t[Void]\n[1a]\t3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".\n[2]\t[Void]\n[3]\t[Void]\n[4]\t[Void]\n[5]\t3GPP TS 23.003: \"Numbering, addressing and identification\".\n[6]\t3GPP TS 23.007: \"Restoration procedures\".\n[6a]\t3GPP TS 23.018: \"Basic Call Handling; Technical realization\".\n[7]\t[Void]\n[8]\t3GPP TS 23.060: \"General Packet Radio Service (GPRS); Service description; Stage 2\".\n[8a]\t3GPP TS 23.401: \"General Packet Radio Service (GPRS) enhancements for Evolved Universal Terrestrial Radio Access Network (E-UTRAN) access\".\n[9]\t[Void]\n[10]\t[Void]\n[11]\t3GPP TS 24.008: \"Mobile radio interface Layer 3 specification; Core network protocols; Stage 3\".\n[11a]\t3GPP TS 44.018: \"Mobile radio interface layer 3 specification; Radio Resource Control Protocol\".\n[12]\t3GPP TS 44.064: \"Mobile Station - Serving GPRS Support Node (MS-SGSN) Logical Link Control (LLC) layer specification\".\n[13]\t[Void]\n[14]\t3GPP TS 48.008: \"Mobile-services Switching Centre - Base Station System (MSC-BSS) interface; Layer 3 specification\".\n[15]\t3GPP TS 48.018: \"Base Station System (BSS) - Serving GPRS Support Node (SGSN); BSS GPRS Protocol (BSSGP)\".\n[16]\t[Void]\n[17]\t3GPP TS 29.002: \"Mobile Application Part (MAP) specification\".\n[18]\t[Void]\n[19]\t[Void]\n[20]\t[Void]\n[21]\t[Void]\n[22]\t3GPP TS 25.413: \"UTRAN Iu interface RANAP signalling\".\n[23]\t3GPP TS 23.195: \"Provision of UE Specific Behaviour Information to Network Entities\".\n[23A]\t3GPP TS 22.101: \"Service Principles\".\n[24]\t3GPP TS 23.251: \"Network sharing; Architecture and functional description\".\n[25]\t3GPP TS 32.422: \"Subscriber and equipment trace; Trace control and Configuration Management (CM)\".\n[26]\t3GPP TS 23.236: \"Intra-domain connection of Radio Access Network (RAN) nodes to multiple Core Network (CN) nodes\".\n[26A]\t3GPP TS 29.060: \"General Packet Radio Service (GPRS); GPRS Tunnelling Protocol (GTP) across the Gn and Gp interface\".\n[27]\t3GPP TS 29.118: \"Mobility Management Entity (MME) - Visitor Location Register (VLR) SGs interface specification\".\n[28]\t3GPP TS 29.272: \"MME and SGSN Related Interfaces Based on Diameter Protocol\".\n[28A]\t3GPP TS 29.274: \"3GPP Evolved Packet System (EPS); Evolved General Packet Radio Service (GPRS) Tunnelling Protocol for Control plane (GTPv2-C); Stage 3\".",
      "chunk_type": "general",
      "cross_references": [
        "ts_21.905",
        "ts_23.003",
        "ts_23.007",
        "ts_23.018",
        "ts_23.060",
        "ts_23.401",
        "ts_24.008",
        "ts_44.018",
        "ts_44.064",
        "ts_48.008",
        "ts_48.018",
        "ts_29.002",
        "ts_25.413",
        "ts_23.195",
        "ts_22.101",
        "ts_23.251",
        "ts_32.422",
        "ts_23.236",
        "ts_29.060",
        "ts_29.118",
        "ts_29.272",
        "ts_29.274"
      ]
    },
    {
      "chunk_id": "ts_29.018_2.2",
      "section_id": "2.2",
      "section_title": "Informative references",
      "content": "[22A]\t[Void]\n[23B]\t[Void]\n[24]\t[Void]\n[25]\t[Void]\n[26]\t[Void]\n[27]\t[Void]\n[28]\t[Void]\n[29]\t[Void]\n[30]\t[Void]\n[31]\t[Void]\n[32]\t[Void]\n[33]\t[Void]\n[34]\t[Void]\n[35]\t[Void]\n[36]\t[Void]\n[37]\t[Void]\n[38]\t[Void]\n[39]\t[Void]\n[40]\t[Void]\n[41]\t[Void]\n[42]\t[Void]\n[43]\t[Void]\n[44]\t[Void]\n[45]\t[Void]\n[46]\t[Void]\n[47]\t[Void]\n[48]\t[Void]\n[49]\t[Void]\n[50]\t[Void]\n[51]\t[Void]\n[52]\t[Void]\n[53]\t[Void]\n[54]\t[Void]\n[55]\t[Void]\n[56]\t[Void]\n[57]\t[Void]\n[58]\t[Void]\n[59]\t[Void]\n[60]\t[Void]\n[61]\t[Void]\n[62]\t[Void]\n[63]\t[Void]\n[64]\tITU-T Recommendation Q.714 (05/01): \"Signalling connection control part procedures\".\n[65]\t[Void]\n[66]\t[Void]",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_3",
      "section_id": "3",
      "section_title": "Definitions, symbols and abbreviations",
      "content": "For the purposes of the present document the definitions, symbols and abbreviations given in 3GPP TR 21.905 [1a] and in 3GPP TS 23.060 [8] apply. Additionally the following terms and definitions of 3GPP TS 23.251 [24] apply:\nCommon PLMN\nGateway core network (GWCN)\nNon-supporting UE\nSupporting UE",
      "chunk_type": "definition",
      "cross_references": [
        "ts_21.905",
        "ts_23.060",
        "ts_23.251"
      ]
    },
    {
      "chunk_id": "ts_29.018_4",
      "section_id": "4",
      "section_title": "Description of the association between a VLR and an SGSN",
      "content": "The Gs interface connects the databases in the MSC/VLR and the SGSN. The procedures described in the present document are used to co-ordinate the location information of MSs that are IMSI attached to both GPRS and non-GPRS services. The Gs interface is also used to convey some circuit switched related procedures via the SGSN.\nThe basis for the interworking between a VLR and an SGSN is the existence of an association between those entities per MS. An association consists of the SGSN storing the number of the VLR serving the MS for circuit switched services and the VLR storing the number of the SGSN serving the MS for packet switched services. The association is only applicable to MSs in class-A mode of operation and MSs in class-B mode of operation. The Gs association is not applicable if the subscriber data indicates that the MS has subscription for packet only. The Gs association is also not applicable if the MS requests only for GPRS services and \"SMS-only service\" and SMS service is to be provided by the SGSN based on conditions specified in 3GPP TS 23.060 [8].\nAll the messages described in the present document use the SCCP class 0 connectionless service.\nWhen the return option in SCCP is used and the sender receives an N_NOTICE indication from SCCP, the sending entity shall report to the Operation and Maintenance system (see ITU-T Recommendation Q.714 [64]).\nThe behaviour of the VLR and the SGSN entities related to the Gs interface are defined by the state of the association for an MS. Individual states per association, i.e. per MS in class-A mode of operation and MS in class-B mode of operation, are held at both the VLR and the SGSN.",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.060"
      ]
    },
    {
      "chunk_id": "ts_29.018_4.1",
      "section_id": "4.1",
      "section_title": "Association at the VLR",
      "content": "The states associated to the Gs interface in the VLR are specified in this clause. The state diagram at the VLR is shown in figure 4.1. The state diagram does not include the message error handling specified in clause 16.",
      "chunk_type": "general",
      "cross_references": [
        "clause_16",
        "figure_4.1"
      ]
    },
    {
      "chunk_id": "ts_29.018_4.1.1",
      "section_id": "4.1.1",
      "section_title": "States at the VLR",
      "content": "Gs-NULL\nThere is no association with an SGSN for the MS and therefore the VLR considers that the MS is IMSI detached for GPRS services. In this state no BSSAP+-MS-INFORMATION-REQUEST or BSSAP+-MM-INFORMATION-REQUEST messages are sent to the SGSN. The VLR may initiate paging on the Gs interface if the 'Confirmed by Radio Contact' restoration indicator in the VLR is set to 'false' (see 3GPP TS 23.007 [6]). Any message from the SGSN is ignored apart from the BSSAP+-LOCATION-UPDATE-REQUEST message, the BSSAP+-GPRS-DETACH-INDICATION message and the BSSAP+-IMSI-DETACH-INDICATION message.\nLA-UPDATE PRESENT\nThe VLR has received a BSSAP+-LOCATION-UPDATE-REQUEST message from the SGSN. In this state the VLR may be waiting for the outcome of the Update Location procedure from the HLR. The VLR shall send BSSAP+-PAGING-REQUEST messages to MSs in class-A and MSs in class-B mode of operation via only the Gs interface.\nGs-ASSOCIATED\nThe VLR considers that the MS is attached to both GPRS and non-GPRS services. In this state the VLR sends BSSAP+-PAGING-REQUEST messages to MSs in class-A mode of operation and and MSs in class-B mode of operation via only the Gs interface. The VLR can perform the MS Identification procedure and the MM information procedure.\nNOTE:\tReceipt of a BSSAP+-RESET-INDICATION message from the SGSN may change or not the state of the Gs interface of all the associations associated to the restarted SGSN, see subclause 12.3.\nFigure 4.1/3GPP TS 29.018: State diagram at the VLR",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_clause_12.3",
        "ts_29.018_figure_4.1",
        "ts_23.007",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_4.2",
      "section_id": "4.2",
      "section_title": "Association at the SGSN",
      "content": "The states and MM context variables associated to the Gs interface in the SGSN are specified in this clause. The state diagram at the SGSN is shown in figure 4.2. The state diagram does not include the message error handling specified in clause 16.",
      "chunk_type": "general",
      "cross_references": [
        "clause_16",
        "figure_4.2"
      ]
    },
    {
      "chunk_id": "ts_29.018_4.2.1",
      "section_id": "4.2.1",
      "section_title": "MM context variables at the SGSN",
      "content": "VLR-Reliable:\tBoolean\nSet to 'false' when the SGSN has received a reset indication from the VLR.The SGSN may:\n-\tupon reception of a combined routing and location area update request from an MS that is still attached for non-GPRS service, perform immediately the location update for non-GPRS services procedure; or\n-\tupon reception of a periodic routing area update request from an MS that is still attached for non-GPRS services, dependent on network configuration and operator policy,\n-\tperform a network initiated detach with detach type \"IMSI detach\" immediately after the completion of the periodic routing area update procedure; or\n-\tperform immediately the location update for non-GPRS services procedure.\nEMM Combined UE Waiting Flag:\tBoolean\nSet to 'true' when ISR is activated and:\n-\tthe SGSN receives a Detach Notification indicating \"Local Detach\" for an MS which supports EMM Combined procedures from the associated MME; or\n-\tthe SGSN receives the request from the Serving GW for deactivating the last PDP context for an MS which supports EMM Combined procedures.\nOn the fifth expiry of timer T3322 described as T3322 time-out in 3GPP TS 24.008 [11], the EMM Combined UE Waiting Flag shall be deactivated if it is activated.\nSGSN-Reset:\tBoolean\nSet to 'true' when the SGSN restarts after a failure. The 'SGSN-Reset' variable is unique within an SGSN and it applies to all the MM context stored in the SGSN.",
      "chunk_type": "general",
      "cross_references": [
        "ts_24.008"
      ]
    },
    {
      "chunk_id": "ts_29.018_4.2.2",
      "section_id": "4.2.2",
      "section_title": "States at the SGSN",
      "content": "Gs-NULL\nThere is no association with a VLR for the MS and therefore the SGSN considers that the MS is IMSI detached of non-GPRS services. In this state the SGSN accepts BSSAP+-PAGING-REQUEST messages to MSs only if the 'SGSN-Reset' restoration indicator in the SGSN is set to 'true'.\nLA-UPDATE Requested\nThe SGSN has sent a BSSAP+-LOCATION-UPDATE-REQUEST message to the VLR. In this state the SGSN waits for the outcome of the Location Update for non-GPRS procedure at the VLR before sending the response to the MS. In this state the SGSN accepts BSSAP+-PAGING-REQUEST messages.\nGs-ASSOCIATED\nThe SGSN stores an association for that MS. In this state the SGSN performs the Location Update for non-GPRS services procedure towards the VLR for MSs in class-A and MSs in class-B mode of operation, e.g. when the MS moves to a new LA. All conditions describing when to trigger the location update for non-GPRS services procedure are listed in subclause 6.2.1.\nFigure 4.2/3GPP TS 29.018: State diagram at the SGSN",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_clause_6.2.1",
        "ts_29.018_figure_4.2",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_4.2.3",
      "section_id": "4.2.3",
      "section_title": "State transitions in the SGSN without BSSAP+ signalling",
      "content": "During the routing area update procedure or tracking area update procedure (see 3GPP TS 23.060 [8] and 3GPP TS 23.401[8a]) and if the Gs association is not Gs-NULL, the SGSN may change the state of the Gs association to Gs-NULL upon receipt of a SGSN Context Acknowledge message (see 3GPP TS 29.060 [26A]) or Context Acknowledge message without ISR activation (see 3GPP TS 29.274 [28A]) from the target network.\nDuring the inter-system handover from A/Gb mode or Iu mode to S1 mode, or handover from A/Gb mode or Iu mode to A/Gb mode or Iu mode (see 3GPP TS 23.060 [8] and 3GPP TS 23.401[8a]) and if the Gs association is not Gs-NULL, the SGSN may change the state of the Gs association to Gs-NULL upon receipt of a Forward Relocation Complete (see 3GPP TS 29.060 [26A]) or Forward Relocation Complete Notification message without ISR activation (see 3GPP TS 29.274 [28A]) from the target network.\nIf the SGSN receives a normal attach request or a normal routing area update request from the MS in state Gs-ASSOCIATED, the SGSN shall change the state of the Gs association to Gs-NULL without explicit signalling towards the VLR (see 3GPP TS 23.060 [8]).",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.060",
        "ts_23.401",
        "ts_29.060",
        "ts_29.274"
      ]
    },
    {
      "chunk_id": "ts_29.018_5.1",
      "section_id": "5.1",
      "section_title": "General description",
      "content": "This procedure is used by the VLR to send a BSSAP+-PAGING-REQUEST message to an MS via the GPRS service. This procedure applies to MSs that are simultaneously IMSI attached for GPRS services and non-GPRS services. The procedure can be performed simultaneously with any other procedure at the Gs interface.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_5.2",
      "section_id": "5.2",
      "section_title": "Procedures in the VLR",
      "content": "The VLR shall handle the timers, queuing and retransmission for sending the BSSAP+-PAGING-REQUEST message on the Gs interface in the same way that it handles the sending of a PAGING message on the A or Iu-CS interface.",
      "chunk_type": "procedure",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_5.2.1",
      "section_id": "5.2.1",
      "section_title": "Paging Initiation",
      "content": "When a VLR has to page a GPRS MS it shall check whether the MSC has an SCCP connection for that MS. If no SCCP connection exists the VLR checks the state of the association to an SGSN and the value of the restoration indicators for that MS. The VLR sends BSSAP+-PAGING-REQUEST messages to the SGSN if the state of the association for the MS is Gs-ASSOCIATED, LA-UPDATE-PRESENT or if the state of the association is Gs-NULL and the 'Confirmed by Radio Contact' restoration indicator is set to 'false'. The sending of the BSSAP+-PAGING-REQUEST message does not change the state of the association with the SGSN.\nIf the 'Confirmed by Radio Contact' restoration indicator is set to 'true', the VLR shall include the Location area identifier IE into the BSSAP+-PAGING-REQUEST message, otherwise (i.e. after a VLR failure) the Location area identifier IE shall not be included. When sending the BSSAP+-PAGING-REQUEST message, the VLR shall start timer T5.\nIf the state of the association is Gs-NULL and the restoration indicator 'Confirmed by Radio Contact' is set to 'false', the VLR shall also perform a search procedure as specified in 3GPP TS 23.018 [6a].\nWhile domain specific access control of the PS domain is ongoing the VLR shall be configured to send paging messages on the Gs, A and Iu-CS interfaces.\nDependent on network configuration or operator policy, if the GPRS MS did not respond to a first paging on Gs interface, and A/Iu-CS paging has not been initiated already, the VLR may page on the A/Iu-CS interface.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_5.2.2",
      "section_id": "5.2.2",
      "section_title": "Paging Response",
      "content": "The VLR stops the paging procedure on expiry of timer T5 or on receipt of an SCCP connection establishment containing the Initial L3 message from the MS via the A or Iu-CS interface.\nIf the paging response is received from a location area which differs from the one stored in the VLR, the VLR shall move the Gs association to the Gs-NULL state after the MS has been authenticated successfully.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_5.2.3",
      "section_id": "5.2.3",
      "section_title": "Paging Failure",
      "content": "On receipt of a BSSAP+-PAGING-REJECT message before the timer T5 expires, the VLR stops timer T5, the association is moved to the Gs-NULL state and within this state the association is marked with the contents of the Gs Cause IE.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_5.2.4",
      "section_id": "5.2.4",
      "section_title": "MS unreachable",
      "content": "On receipt of a BSSAP+-MS-UNREACHABLE message before the timer T5 expires, the VLR stops timer T5 and the paging procedure for that paging request towards the SGSN is stopped. The state of the association at the VLR is not changed.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_5.3",
      "section_id": "5.3",
      "section_title": "Procedures in the SGSN",
      "content": "The SGSN accepts BSSAP+-PAGING-REQUEST messages in any state of the association apart from Gs-NULL. Nevertheless the SGSN also accepts BSSAP+-PAGING-REQUEST messages in the Gs-NULL state if the 'SGSN-Reset' restoration indicator at the SGSN is set to 'true'. When an SGSN receives a BSSAP+-PAGING-REQUEST message from a VLR, the SGSN shall first check if the MS is known by the SGSN. The handling of the paging request depends on the state of the association and the MM context variables at the SGSN:\na)\tThe MS is known and the restoration indicator 'SGSN-Reset' at the SGSN is set to 'false':\n-\tIf the MS is considered to be IMSI attached for GPRS and non-GPRS services (i.e. the association is not in the state Gs-NULL), the SGSN shall page the MS based on the location information stored in the SGSN. If the location area stored in the SGSN differs from the one received in the BSSAP+-PAGING-REQUEST message, the SGSN shall use the IMSI to page the MS. If the BSSAP+-PAGING-REQUEST message does not include the Location area identifier information element, the SGSN may set the \"VLR-Reliable\" MM context variable to \"false\".\n-\tIf the MS is marked as IMSI detached for GPRS services or IMSI (implicitly or explicitly) detached for non-GPRS services (i.e. the state of the association is Gs-NULL), the SGSN shall return a BSSAP+-PAGING-REJECT message to that VLR indicating in the Gs Cause IE the detach circumstance ('IMSI detached for GPRS services', 'IMSI detached for non-GPRS services' or 'IMSI implicitly detached for non-GPRS services').\n-\tIf the MS is marked as unreachable (i.e. the PPF flag is set to 'false') the SGSN shall return a BSSAP+-MS-UNREACHABLE message to that VLR indicating in the Gs Cause IE 'MS unreachable'. The state of the association does not change at the SGSN.\nb)\tThe MS is known and the restoration indicator 'SGSN-Reset' at the SGSN is set to 'true':\n-\tIf the BSSAP+-PAGING-REQUEST message includes the Location area identifier IE, the SGSN shall page the MS in all the routeing areas served by the SGSN that are included in the location area indicated in the Location area identifier IE.\n-\tIf the BSSAP+-PAGING-REQUEST message does not include the Location area identifier IE, the SGSN may page in all the routeing areas served by the SGSN that are also served by the sending VLR.\nNOTE 1:\tThe SGSN can handle the paging request as a) for the purpose of optimization if the MS is known.\nc)\tThe MS is not known and the restoration indicator 'SGSN-Reset' at the SGSN is set to 'false':\n-\tThe SGSN shall return a BSSAP+-PAGING-REJECT message to that VLR indicating in the Gs Cause IE 'IMSI unknown'.\nd)\tThe MS is not known and the restoration indicator 'SGSN-Reset' at the SGSN is set to 'true':\n-\tIf the VLR provides the Location area identifier IE, the SGSN shall page within the location area indicated by the VLR. Otherwise the SGSN may page in all the routeing areas served by the SGSN that are also served by the sending VLR.\nIf the SGSN accepts the paging request, the SGSN shall process the BSSAP+-PAGING-REQUEST message before sending the message on the Gb/Iu-PS interface. The result of the processing on the BSSAP+-PAGING-REQUEST message is the PAGING CS message (see 3GPP TS 48.018 [15]) sent on the Gb interface or the PAGING message with CN Domain Indicator 'CS domain' (see 3GPP TS 25.413 [22]) sent on the Iu-PS interface.\nThe SGSN shall not retransmit the PAGING CS message on the Gb interface or the PAGING message on the Iu-PS interface.\nIf within a location area there are cells that do not support GPRS services, the SGSN shall group these cells under a 'null RA'. The SGSN will perform the paging procedure described above within both the RA(s) derived from the location information and the 'null RA(s)' of the corresponding location area(s) (see 3GPP TS 24.008 [11]).\nNOTE 2:\tThe eMLPP priority information element relates to relative priorities within the paged MS and not to the priority in the sending of PAGING CS messages by the BSS.",
      "chunk_type": "procedure",
      "cross_references": [
        "ts_48.018",
        "ts_25.413",
        "ts_24.008"
      ]
    },
    {
      "chunk_id": "ts_29.018_6.1",
      "section_id": "6.1",
      "section_title": "General description",
      "content": "The location update for non-GPRS services procedure is a general procedure used by MSs in class-A mode of operation and MSs in class-B mode of operation. This procedure is not performed if:\n-\tthe subscriber data indicates that the MS has subscription for packet only;\n-\tthe MS indicates SMS only and the HLR indicates \"SMS in SGSN Support\" and the SGSN supports SMS services.\nNOTE:\tFor the cases specified above, the registration with a VLR is not required and the SGSN does not initiate the location update for non-GPRS services procedure.\nThis procedure allows MSs and network to perform:\n-\tCombined IMSI attach for GPRS and non-GPRS services;\n-\tIMSI attach for non-GPRS services if the MS is already IMSI attached for GPRS services;\n-\tIMSI attach for GPRS services indication to the VLR if the MS is already IMSI attached for non-GPRS services;\n-\tNormal Location Update procedure to the VLR if the MS is IMSI attached for both GPRS and non-GPRS services;\n-\tReallocation of TMSI to an MS.\nThe Location Update for non-GPRS services procedures in the Gs interface is always started as a consequence of a direct action by the MS. The combined routeing area update procedure is further specified in 3GPP TS 23.060 [8] and 3GPP TS 24.008 [11].\nThe Location Update for non-GPRS services procedure is used by the SGSN to forward to the VLR those parts of the combined routeing area update or IMSI attach procedure which belong to the non-GPRS services. This means that non-GPRS related requests which are included in the combined request, are sent from the SGSN to the VLR. The procedure is also used by the SGSN to indicate to the VLR when an IMSI attach to GPRS services has been performed by an MS that was already IMSI attached to non-GPRS services. The SGSN may also forward a BSSAP+-TMSI-REALLOCATION-COMPLETE message from the MS to the VLR.\nThe VLR shall acknowledge the BSSAP+-LOCATION-UPDATE-REQUEST message. When the VLR processes the request it does not perform authentication because it relies on the SGSN's security functions.\nWhen an MS is IMSI attached for GPRS and non-GPRS services, any implicit detach timer in the VLR shall be stopped. Instead the Paging Proceed Flag in the SGSN is used to determine the likely availability of the MS to the network. Upon reception of the periodic Routeing Area Update message the SGSN does not report to the VLR , and the state of the association at the SGSN is not changed. When the MS performs a detach only from the GPRS system, and the VLR's implicit detach timer is not already running, the GPRS detach indication to the VLR shall cause the VLR's implicit detach timer to be restarted from its initial value.\nIf the SGSN performs an implicit detach for both GPRS and non-GPRS traffic, then the SGSN shall indicate to the VLR a BSSAP+-IMSI-DETACH-INDICATION message with cause 'Implicit SGSN initiated IMSI detach from GPRS and non-GPRS service', as further described in clause 'Implicit IMSI detach from non-GPRS service procedure' (the implicit IMSI detach message indicates that the MS is unavailable for both GPRS and non-GPRS services).\nThe IMSI attach for GPRS services to the VLR, when the MS is already IMSI attached for non-GPRS services, is requested by the MS sending a combined IMSI attach for GPRS and non-GPRS services message to the SGSN, as further specified in 3GPP TS 23.060 [8] and 3GPP TS 24.008 [11].",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.060",
        "ts_24.008"
      ]
    },
    {
      "chunk_id": "ts_29.018_6.2",
      "section_id": "6.2",
      "section_title": "Procedures in the SGSN",
      "content": "The location update for non-GPRS services is initiated with a combined routing area update procedure or a IMSI/GPRS attach procedure. On receipt of an ATTACH REQUEST message or ROUTING AREA UPDATE REQUEST message from the MS, the SGSN shall handle the GPRS related request as specified in 3GPP TS 24.008 [11].\nWhen the SGSN receives the MAP-INSERT-SUBSCRIBER-DATA message containing subscription data from the HLR, the SGSN determines whether it needs to perform location update for non-GPRS services procedure. For the cases identified below, the SGSN sends response message to the MS without starting the location update for non-GPRS services procedure:\n-\tif the Network Access Mode (NAM) subscription data indicates that the MS has subscription for packet only (see 3GPP TS 29.272 [28]); or\n-\tif the combined attach or routing area update procedure indicates that the MS has requested for GPRS services and \"SMS-only service\" (see 3GPP TS 24.008 [11]) and the HLR indicates \"SMS in SGSN Support\" and the SGSN supports SMS services.\nOtherwise, the SGSN shall start the location update for non-GPRS services procedure and wait for the outcome of both location update procedures towards the VLR and the HLR before sending the response message to the MS (see 3GPP TS 24.008 [11]).\nUpon reception of the periodic Routeing Area Update message, if the EMM Combined UE Waiting Flag is 'true', the SGSN shall perform network-initiated GPRS detach procedure with the detach type IE indicating \"IMSI detach\" as specified in 3GPP TS 24.008 [11].",
      "chunk_type": "procedure",
      "cross_references": [
        "ts_24.008",
        "ts_29.272"
      ]
    },
    {
      "chunk_id": "ts_29.018_6.2.1.1",
      "section_id": "6.2.1.1",
      "section_title": "General",
      "content": "If timer T6-1 is not running, the SGSN shall start the location update for non-GPRS service procedure when it receives from the MS:\n-\tan attach request indicating combined IMSI and GPRS attach;\n-\tan attach request indicating GPRS attach while IMSI attached;\n-\ta combined routing area update request indicating IMSI attach;\n-\ta combined routing area update request indicating that the Location Area has changed;\n-\ta combined routing area update request if the MS Network Capability IE indicates that EMM combined procedures are supported by the MS;\n-\ta combined routing area update request, if the state of the association is Gs-NULL; or\n-\ta combined routing area update request when the SGSN serving the MS has changed.\nIf timer T6-1 is not running, the SGSN may start the location update for non-GPRS service procedure when it receives from the MS:\n-\ta combined routing area update request or a periodic routeing area update, if the 'VLR-Reliable' MM context variable for the MS is set to 'false' (see section 11.3).\nFor networks not supporting the feature \"Intra Domain Connection of RAN Nodes to Multiple CN Nodes\" the number of the VLR is derived from the RAI where the MS is camping. For networks supporting the feature ‘Intra Domain Connection of RAN Nodes to Multiple CN Nodes’, the VLR number is derived as described in 3GPP TS 23.236 [26]. The SGSN starts Timer T6-1. The BSSAP+-LOCATION-UPDATE-REQUEST message includes the Old location area identifier. If the SGSN received the old location area identification from the MS and the network supports S1 mode, the SGSN includes the old location area identification received from the MS as the Old location area identifier. If the SGSN did not receive the old location area identification from the MS or if the network does not support S1 mode, the SGSN derives the Old location area identifier from the old routing area identification received in the ROUTING AREA UPDATING REQUEST message (see 3GPP TS 24.008 [11]). The SGSN shall also include the New location area identifier where the MS is currently camping. The new LAI is derived from the RAI.\nIf the VLR is configured for gateway core network (GWCN), the SGSN shall select a core network operator as specified in 3GPP TS 23.251 [24] and proceed as follows:\n-\tFor supporting UEs, the SGSN includes the PLMN identity of the selected core network operator in the New cell global identity information element.\n-\tFor non-supporting UEs, the SGSN includes the selected core network operator in the Selected CN operator information element in the BSSAP+-LOCATION-UPDATE-REQUEST message, and the common PLMN in the New cell global identity information element.\nIn networks supporting the feature \"Intra Domain Connection of RAN Nodes to Multiple CN Nodes\" (3GPP TS 23.236 [26]), if the TMSI based NRI container is not received from the MS, and the SGSN determines that the serving VLR of the MS is changed, the SGSN shall include in the Old location area identifier a specific LAI value which is not broadcasted in the network and not associated with any VLR.\nNOTE 1:\tThe SGSN determines that the serving VLR of the MS is changed when the Gs association changes from one serving VLR to a different one, or based on implementation dependent criteria.\nNOTE 2:\tWhen the VLR receives the BSSAP+-LOCATION-UPDATE-REQUEST message with the specific LAI value, the VLR retrieves the MM context of the MS from the HLR.\nIn networks supporting the feature \"Intra Domain Connection of RAN Nodes to Multiple CN Nodes\", the SGSN shall support load re-distribution of MSs to another VLR than the current one as follows:\nWhen the SGSN receives a periodic routeing area update request or a combined routing area update request, the SGSN shall check whether for this MS there is an association to a VLR for which load re-distribution has been initiated in the SGSN by O&M. If yes and\n-\tif a combined routing area update request is received, the SGSN shall derive the new VLR number as described in 3GPP TS 23.236 [26] and then send the BSSAP+-LOCATION-UPDATE-REQUEST message to the new selected VLR; or\n-\tif a periodic routing area update request is received, dependent on network configuration and operator policy, the SGSN shall take one of the following actions:\n-\tperform a network initiated detach with detach type \"IMSI detach\" immediately after the completion of the periodic routing area updating procedure; or\n-\tderive the new VLR number as described in 3GPP TS 23.236 [26] and then send the BSSAP+-LOCATION-UPDATE-REQUEST message to the new selected VLR.\nThe BSSAP+-LOCATION-UPDATE-REQUEST message includes the type of location update performed by the MS in the GPRS location update type IE. If the MS has performed a combined attach request or a combined routing and location area update request with IMSI attach, the SGSN indicates 'IMSI attach', otherwise the SGSN indicates 'Normal location update'.\nThe BSSAP+-LOCATION-UPDATE-REQUEST message shall include the TMSI status if received from the MS.\nThe SGSN shall include the TMSI based NRI container in the BSSAP+-LOCATION-UPDATE-REQUEST message if received from the MS.\nIf the SGSN supports the \"Provision of UE Specific Behaviour Information to Network Entities\" (see 3GPP TS 23.195 [23]), or the \"Automatic Device Detection\" (see 3GPP TS 22.101 [23A]) or the \"Trace for Management Based Activation/Deactivation \" (see 3GPP TS 32.422 [25]),, the BSSAP+-LOCATION-UPDATE-REQUEST message shall include the IMEISV.\nIf timer T6-1 is running:\nIf the SGSN receives from the MS:\n-\tan attach request indicating combined IMSI and GPRS attach;\n-\tan attach request indicating GPRS attach while IMSI attached; or\n-\ta combined routing area update request with or without IMSI attach.\nThen:\n-\tif the new LAI is the same as in the outstanding request, the SGSN shall not process this new request and shall wait for the VLR's response to the ongoing procedure; or\n-\tif the new LAI is different but is in the same VLR as the outstanding request:\n-\tany response from the VLR to the oustanding request is ignored;\n-\tTimer T6-1 shall be stopped and reset; and\n-\tThe SGSN shall start the location update for non-GPRS service procedure; or\n-\tif the new LAI is different, and is in a different VLR to the outstanding request:\n-\tany response from the previously addressed VLR to the oustanding request is ignored;\n-\tTimer T6-1 shall be stopped and reset; and\n-\tthe SGSN shall start the location update for non-GPRS service procedure.\nWhen the SGSN receives from the MS a routing area update request and the SGSN serving the MS has changed, the SGSN shall stop and reset timer T6-1.",
      "chunk_type": "definition",
      "cross_references": [
        "clause_11.3",
        "ts_23.236",
        "ts_24.008",
        "ts_23.251",
        "ts_23.195",
        "ts_22.101",
        "ts_32.422"
      ]
    },
    {
      "chunk_id": "ts_29.018_6.2.1.2",
      "section_id": "6.2.1.2",
      "section_title": "VLR fails without restart",
      "content": "If the SGSN supports restoration for CS services via an alternative VLR as defined in 3GPP TS 23.007 [6] and, upon reception of a combined routeing area update request or periodic routeing area update request from the MS, the SGSN detects that the VLR serving the MS is no longer in service, the SGSN may:\n-\tif a combined routing area update request is received, select an alternative VLR that is in service for the MS and immediately perform the location update for non-GPRS services procedure towards the selected VLR as described in clause 6; or\n-\tif a periodic routing area update request is received, dependent on network configuration and operator policy,\n-\tperform a network initiated detach with detach type \"IMSI detach\" immediately after the completion of the periodic routing area update procedure and then select an alternative VLR that is in service for the MS during the subsequent combined routeing area update procedure, before performing the location update for non-GPRS services procedure towards the selected VLR as described in clause 6; or\n-\tselect an alternative VLR that is in service for the MS and immediately perform the location update for non-GPRS services procedure towards the selected VLR as described in clause 6.\nNOTE:\tHow an SGSN detects a VLR is no longer in service and triggers selection of alternative VLR is implementation dependent.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6",
        "ts_23.007"
      ]
    },
    {
      "chunk_id": "ts_29.018_6.2.2",
      "section_id": "6.2.2",
      "section_title": "Location Update Response",
      "content": "If the SGSN receives a BSSAP+-LOCATION-UPDATE-ACCEPT message from the VLR, the SGSN shall:\nstop timer T6-1; and\n-\tmove the state of the association to Gs-ASSOCIATED;\n-\tset the the MM context variable 'VLR-Reliable' to 'true';\n-\tset the the MM context variable 'EMM Combined UE Waiting Flag' to 'false'; and\n-\tindicate to the MS the acceptance of the VLR to the Location Update procedure. The message to the MS includes the Routeing Area Identity, from which the MS is able to extract the location area identity for which the location update procedure succeeded (see 3GPP TS 24.008 [11]).\nThe SGSN shall wait for the outcome of the Location Update for non-GPRS service procedure towards the VLR before sending a response to location update procedure to the MS. Any Reject cause that needs to be reported to the MS is specified in 3GPP TS 24.008 [11].\nIf the VLR included the Mobile Identity IE in the BSSAP+-LOCATION-UPDATE-ACCEPT message, the SGSN shall forward the information received to the MS. If the Mobile Identity IE contains a new TMSI it will cause the MS to perform a TMSI reallocation procedure, while an IMSI causes the MS to deallocate its TMSI. In case a new TMSI was allocated for the MS the SGSN shall send to the VLR the BSSAP+-TMSI-REALLOCATION-COMPLETE message when the SGSN receives Attach Complete or the the Routeing Area Complete message from the MS.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_24.008"
      ]
    },
    {
      "chunk_id": "ts_29.018_6.2.3",
      "section_id": "6.2.3",
      "section_title": "Location Update Failure",
      "content": "If the SGSN receives a BSSAP+-LOCATION-UPDATE-REJECT message from the VLR, the SGSN shall:\n-\tstop timer T6-1;\n-\tmove the state of the association to Gs-NULL; and\n-\tindicate to the MS the rejection of the VLR of the Location Update procedure as specified in 3GPP TS 24.008 [11]. The Reject cause value sent by the VLR shall be forwarded to the MS.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_24.008"
      ]
    },
    {
      "chunk_id": "ts_29.018_6.2.4",
      "section_id": "6.2.4",
      "section_title": "Abnormal cases",
      "content": "If timer T6-1 expires, the SGSN shall abort the Location Update for non-GPRS service procedure and indicate this to the MS with the Reject cause value 'MSC temporarily not reachable'. The state of the association to the VLR shall be Gs-NULL.\nIf the SGSN receives a BSSAP+LOCATION-UPDATE-ACCEPT message and timer T6-1 is not running then:\n-\tif timer T8 is running (see clause 8), the message shall be ignored;\n-\tif timer T9 is running (see clause 9), the message shall be ignored; or\n-\tif timers T8 and T9 are not running:\n-\tif the state of the association to the VLR is GS-ASSOCIATED, the message shall be ignored; or\n-\tif the state of the association to the VLR is different than GS-ASSOCIATED, the message shall be treated as a message incompatible with the protocol state of the SGSN (see clause 16.3).",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_8",
        "clause_9",
        "clause_16.3"
      ]
    },
    {
      "chunk_id": "ts_29.018_6.3",
      "section_id": "6.3",
      "section_title": "Procedures in the VLR",
      "content": "When a VLR receives a BSSAP+-LOCATION-UPDATE-REQUEST message it checks whether the IMSI is known. If the IMSI is not known the VLR retrieves the MM context of the MS from the HLR.\nIn networks supporting the feature ‘Intra Domain Connection of RAN Nodes to Multiple CN Nodes’ (3GPP TS 23.236 [26]), if the TMSI based NRI container is received in the BSSAP+-LOCATION-UPDATE-REQUEST message, the VLR derives the NRI value. If the NRI value is not allocated by the VLR, the VLR retrieves the MM context of the UE from the HSS.\nWhen the VLR is configured for gateway core network (GWCN), the VLR shall select the serving core network operator as follows:\n-\tIf the Selected CN operator information element is received in the BSSAP+-LOCATION-UPDATE-REQUEST message, the VLR shall select the serving core network operator as specified in the Selected CN operator information element;\n-\tIf the Selected CN operator information element is not received in the BSSAP+-LOCATION-UPDATE-REQUEST message and the PLMN identity included in the New cell global identity information element identifies a core network operator, the VLR shall select the serving core network operator as specified in the New cell global identity information element;\n-\tOtherwise, the VLR selects the serving core network operator based on local policies.\nFor a VLR supporting the \"Provision of UE Specific Behaviour Information to Network Entities\" (see 3GPP TS 23.195 [23]) the following applies:\n-\tThe VLR shall store the IMEISV value received in the BSSAP+-LOCATION-UPDATE-REQUEST message in the MM context for that MS.\n-\tIf the VLR receives a BSSAP+-LOCATION-UPDATE-REQUEST message without IMEISV information element, the MSC/VLR shall request the IMEISV from the MS at the next Iu-CS or A interface connection establishment.",
      "chunk_type": "procedure",
      "cross_references": [
        "ts_23.236",
        "ts_23.195"
      ]
    },
    {
      "chunk_id": "ts_29.018_6.3.1",
      "section_id": "6.3.1",
      "section_title": "Location Update Response",
      "content": "If the Location Update is accepted by the VLR and, if necessary by the HLR, the VLR shall:\n-\tmove the association to the Gs-ASSOCIATED state;\n-\tset the restoration indicator 'Confirmed by Radio Contact' to 'true';\n-\tupdate the association by storing the SGSN number included in the BSSAP+-LOCATION-UPDATE-REQUEST message; and\n-\tsend a BSSAP+-LOCATION-UPDATE-ACCEPT message to the sending SGSN. This message includes the Location Area Identification received in the new Cell Global Identity IE in the previous BSSAP+-LOCATION-UPDATE-REQUEST message.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_6.3.2",
      "section_id": "6.3.2",
      "section_title": "Location Update Failure",
      "content": "If the Location Update is rejected by the VLR it shall:\n-\tSend a BSSAP+-LOCATION-UPDATE-REJECT message to the SGSN with the appropriate reject cause as indicated in 3GPP TS 24.008 [11] and indicate to the SGSN the Location area identifier received in the corresponding BSSAP+-LOCATION-UPDATE-REQUEST message; and\n-\tMove the association from any state to Gs-NULL.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_24.008"
      ]
    },
    {
      "chunk_id": "ts_29.018_6.3.3",
      "section_id": "6.3.3",
      "section_title": "TMSI reallocation procedure",
      "content": "If the VLR decides to reallocate the TMSI to the MS it shall include the new TMSI in the BSSAP+-LOCATION-UPDATE-ACCEPT message. If the VLR decides to deallocate the TMSI of the MS it shall include the IMSI of the MS in the BSSAP+-LOCATION-UPDATE-ACCEPT message. After sending the BSSAP+-LOCATION-UPDATE-ACCEPT message with a new TMSI the VLR starts timer T6-2.\nNOTE:\tIn the BSSAP+-LOCATION-UPDATE-REQUEST the SGSN may indicate, that there is no valid TMSI available in the MS. This information may be used by the VLR to decide whether to reallocate a new TMSI to the MS.\nUpon receipt of the BSSAP+-TMSI-REALLOCATION-COMPLETE message, the VLR stops the timer T6-2 and considers the new TMSI as valid.\nIf an IMSI was sent to the MS, the VLR considers the old TMSI if available, as deleted.\nIf no BSSAP+-TMSI-REALLOCATION-COMPLETE message is received by the VLR before the timer T6-2 expires, the VLR aborts the TMSI reallocation procedure. The VLR shall consider old TMSI if available, occupied until the new TMSI is used in a subsequent A/Iu message, or for an implementation dependent time. The VLR may still perform the TMSI reallocation procedure via the A or Iu-CS interface. The outcome of the TMSI reallocation procedure does not change the state of the association. The VLR uses the IMSI or the new TMSI or, if available, the old TMSI for paging.",
      "chunk_type": "procedure",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_6.3.4",
      "section_id": "6.3.4",
      "section_title": "Abnormal cases",
      "content": "The following abnormal cases can be identified:\ni)\tMM signalling via the A or Iu-CS interface\nIf the VLR receives a Location Update request or an IMSI detach indication from the MS by the A or Iu-CS interface when the state of the association in the VLR is not Gs-NULL, the VLR shall move the state of the association to Gs-NULL.\nii)\tAdditional Location Update Request\nIf the state of the association in the VLR is in the LA-UPDATE PRESENT state and a BSSAP+-LOCATION-UPDATE-REQUEST message is received, then:\n-\tIf the message is from the same SGSN and indicates the same New Location Area as the outstanding location update request, then this additional BSSAP+-LOCATION-UPDATE-REQUEST message shall be ignored;\n-\tIf the message is from the same SGSN but indicates a different New Location Area to the outstanding location update request, then this additional BSSAP+-LOCATION-UPDATE-REQUEST message shall be treated and the VLR shall not send any response to the previous BSSAP+-LOCATION-UPDATE-REQUEST message; or\n-\tIf the message is from a different SGSN (indicating either the same or different New Location Area) to the outstanding location update request, then this additional BSSAP+-LOCATION-UPDATE-REQUEST message shall be treated and the VLR shall not send any response to the previous BSSAP+-LOCATION-UPDATE-REQUEST message.\niii)\tDetach signalling from SGSN\nIf the state of the association in the VLR is in the LA-UPDATE PRESENT state and either a BSSAP+-GPRS-DETACH-INDICATION or a BSSAP+-IMSI-DETACH-INDICATION message is received, then, the Location Update for non-GPRS services procedure shall be abandoned in the VLR (neither a BSSAP+LOCATION-UPDATE-ACCEPT nor a BSSAP+LOCATION-UPDATE-REJECT messages is sent) and the further actions described in clauses 8 or 9 or 10 are followed.\niv)\tSignalling via SGs interface\nIf the VLR receives for a UE a SGsAP-LOCATION-UPDATE-REQUEST message (as defined in 3GPP TS 29.118 [27]) from an MME when the state of the association for this UE in the VLR is not Gs-NULL, the VLR shall move the state of the association to Gs-NULL.\nv)\tNew Location Update Request during TMSI reallocation procedure\nIf the VLR receives a BSSAP+-LOCATION-UPDATE-REQUEST message while T6-2 is running, the VLR shall stop timer T6-2, abort the TMSI reallocation procedure and proceed with the new location update for non-GPRS services procedure. If the VLR needs to page the MS during the new location update for non-GPRS services procedure, the VLR uses the IMSI or the new TMSI from the aborted TMSI reallocation procedure or, if available, the old TMSI for paging.\nvi)\tReset signalling from SGSN\nIf the state of the association in the VLR is in the LA-UPDATE PRESENT state and a BSSAP+-RESET-INDICATION message is received from the SGSN, then, the Location Update for non-GPRS services procedure shall be abandoned in the VLR (neither a BSSAP+LOCATION-UPDATE-ACCEPT nor a BSSAP+LOCATION-UPDATE-REJECT messages is sent) and the further actions described in clause 12 are followed.",
      "chunk_type": "general",
      "cross_references": [
        "clause_12",
        "ts_29.118"
      ]
    },
    {
      "chunk_id": "ts_29.018_7.1",
      "section_id": "7.1",
      "section_title": "General description",
      "content": "This procedure is used by the VLR to request from an SGSN an indication when activity (either signalling or data transmission) from an MS is detected. This procedure can be invoked at any time by the VLR. The BSSAP+-ALERT-REQUEST message shall be acknowledged by the SGSN.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_7.2.1",
      "section_id": "7.2.1",
      "section_title": "Alert Initiation",
      "content": "The VLR may start the Non-GPRS alert procedure at any time. When the VLR wants to request to an SGSN that further activity from an MS shall reported by the SGSN, the VLR shall send an BSSAP+-ALERT-REQUEST message to that SGSN. The VLR starts timer T7 when the BSSAP+-ALERT-REQUEST message is sent.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_7.2.2",
      "section_id": "7.2.2",
      "section_title": "Alert Response",
      "content": "When a BSSAP+-ALERT-ACK message is received, the VLR shall stop the timer T7. The state of the association is not changed.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_7.2.3",
      "section_id": "7.2.3",
      "section_title": "Alert failure",
      "content": "If a BSSAP+-ALERT-REJECT message is received, the VLR shall stop the timer T7, move the state of the association to Gs-NULL and within this state the association is marked with the contents of the Gs Cause IE.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_7.2.4",
      "section_id": "7.2.4",
      "section_title": "Alert Indication",
      "content": "The VLR shall not change the state of the association upon reception of an BSSAP+-MS-ACTIVITY-INDICATION message.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_7.2.5",
      "section_id": "7.2.5",
      "section_title": "Abnormal cases",
      "content": "If no BSSAP+-ALERT-ACK message is received before the timer T7 expires, the VLR shall retransmit the BSSAP+-ALERT-REQUEST message a maximum of N7 times. If no BSSAP+-ALERT-ACK message is received after that, a report shall be made to the O&M system. The state of the association is not changed.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_7.3.1",
      "section_id": "7.3.1",
      "section_title": "Alert response",
      "content": "The SGSN may receive a BSSAP+-ALERT-REQUEST message at any state of the association. Upon receipt of an BSSAP+-ALERT-REQUEST message from the VLR and if the IMSI is known in the SGSN, the SGSN shall reply with a BSSAP+-ALERT-ACK message and set the NGAF.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_7.3.2",
      "section_id": "7.3.2",
      "section_title": "Alert failure",
      "content": "If a BSSAP+-ALERT-REQUEST message is received for an IMSI that is unknown at the SGSN, the SGSN shall return a BSSAP+-ALERT-REJECT message to the VLR indicating the Gs Cause IE value 'IMSI unknown'.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_7.3.3",
      "section_id": "7.3.3",
      "section_title": "Alert indication",
      "content": "The SGSN shall to report to the VLR upon detection of any activity (either signalling or data) from the MS if the NGAF is set. If the SGSN detects GPRS signalling that leads to a procedure towards the VLR, the SGSN shall follow this procedure and reset the NGAF. If the SGSN detects activity that does not lead to any procedure towards the VLR, the SGSN shall send an BSSAP+-MS-ACTIVITY-INDICATION message towards the VLR and reset the NGAF.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_8.1",
      "section_id": "8.1",
      "section_title": "General description",
      "content": "This procedure is used by the SGSN to indicate to the VLR that the MS has been IMSI detached from GPRS service and therefore the association between the SGSN and the VLR has to be deactivated. This procedure only applies to MSs that are not in the Gs-NULL state at the SGSN. The procedures specified in this clause apply to GPRS detach indication initiated by the MS or by the network as specified in 3GPP TS 23.060 [8].\nThe procedure is also used by the SGSN to indicate to the VLR when a combined Routing and Location Area Update procedure has been rejected by the SGSN.\nThe procedure is also used by the SGSN to indicate to the VLR when a periodic Routing Area Update procedure has been rejected by the SGSN for an MS for which a Gs association exists.\nThe Explicit IMSI detach from GPRS services procedure aborts any other ongoing procedure related to this MS on the Gs interface in the SGSN and in the VLR.\nThe VLR and the MS should be synchronised as to whether the PBCCH or the BCCH is used, for any of the subsequent paging. In order to achieve this, the SGSN shall attempt to inform the VLR about the detach event by using a retry scheme if the initial delivery of the BSSAP+-GPRS-DETACH-INDICATION message fails.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.060"
      ]
    },
    {
      "chunk_id": "ts_29.018_8.2.1",
      "section_id": "8.2.1",
      "section_title": "Explicit GPRS detach initiation",
      "content": "The SGSN shall send a BSSAP+-GPRS-DETACH-INDICATION message to a VLR if:\n-\tThe SGSN receives a GPRS only detach from the MS;\n-\tThe SGSN performs network-initiated GPRS detach procedure;\n-\tThe combined Routing and Location Area Update procedure is rejected at the SGSN; or\n-\tThe periodic Routing Area Update procedure is rejected at the SGSN for an MS for which a Gs association exists.\nIf the SGSN receives a Detach Request from an MS and the state of the association to a VLR for that MS is not Gs-NULL, the SGSN shall check the detach type indicated in the message. If the MS is indicating GPRS detach the SGSN shall send a BSSAP+-GPRS-DETACH-INDICATION message to the VLR indicating 'MS initiated IMSI detach from GPRS service'.\nIf the SGSN decides to perform a network-initiated GPRS detach and the state of the association to a VLR for that MS is not Gs-NULL, the SGSN shall send a BSSAP+-GPRS-DETACH-INDICATION message to the VLR indicating 'Network initiated IMSI detach from GPRS service'.\nIf the combined Routing and Location Area Update procedure or periodic Routing Area Update procedure is rejected at the SGSN for an MS with an association state different from Gs-NULL, the SGSN shall send a BSSAP+-GPRS-DETACH-INDICATION to the VLR indicating 'GPRS services not allowed'. The SGSN then sends, for example, a Routing Area Update Reject message as specified in 3GPP TS 24.008 [11].\nAfter the sending of the BSSAP+-GPRS-DETACH-INDICATION message, the SGSN shall move the state of the association to Gs-NULL. The SGSN shall start timer T8 upon transmission of the BSSAP+-GPRS-DETACH-INDICATION message and if timer T6-1 is running, timer T6-1 shall be stopped and reset.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_24.008"
      ]
    },
    {
      "chunk_id": "ts_29.018_8.2.2",
      "section_id": "8.2.2",
      "section_title": "Explicit GPRS detach Response",
      "content": "If the SGSN receives a BSSAP+-GPRS-DETACH-ACK message from the VLR, the SGSN shall stop timer T8. The SGSN shall not wait for the reception of the BSSAP+-GPRS-DETACH-ACK message before sending (if needed) the confirmation of the detach to the MS.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_8.2.3",
      "section_id": "8.2.3",
      "section_title": "Abnormal cases",
      "content": "If no BSSAP+-GPRS-DETACH-ACK message is received by the SGSN to a previous BSSAP+-GPRS-DETACH-INDICATION message before timer T8 expires, the SGSN shall repeat the BSSAP+-GPRS-DETACH-INDICATION message a maximum of N8 times. If no BSSAP+-GPRS-DETACH-ACK message is received after that, a report shall be made to the O&M system. The state of the association during the acknowledgement procedure remains Gs-NULL.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_8.3",
      "section_id": "8.3",
      "section_title": "Procedures in the VLR",
      "content": "When a VLR receives a BSSAP+-GPRS-DETACH-INDICATION message, the VLR shall send a BSSAP+-GPRS-DETACH-ACK message to the sending SGSN. The state of the association for the MS shall be moved from any state to Gs-NULL. The VLR marks the association as 'IMSI detached for GPRS services' with the reason indicated in the IMSI detach from GPRS service type IE.\nIf the VLR's implicit detach timer is not running then, the VLR shall set and restart the implicit detach timer upon reception of a BSSAP+-GPRS-DETACH-INDICATION message. If the VLR's implicit detach timer is running (ie the state of the association was already Gs-NULL) then, the reception of a BSSAP+-GPRS-DETACH-INDICATION message shall not affect the VLR's implicit detach timer.",
      "chunk_type": "procedure",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_9.1",
      "section_id": "9.1",
      "section_title": "General description",
      "content": "This procedure is used by the SGSN to indicate to the VLR that the MS has performed IMSI detach from non-GPRS services and therefore the association between the SGSN and the VLR has to be deactivated. This procedure only applies to MSs that are not in the Gs-NULL state at the SGSN. The procedures specified in this clause only apply to IMSI detach or combined IMSI and GPRS detach requests.\nThe explicit IMSI detach from non-GPRS services procedure aborts any other ongoing procedure related to this MS on the Gs interface in the SGSN and in the VLR.\nThe VLR and the MS should be synchronised as to whether the PBCCH or the BCCH is used, for any of the subsequent paging. In order to achieve this, the SGSN shall attempt to inform the VLR about the detach event by using a retry scheme if the initial delivery of the BSSAP+-IMSI-DETACH-INDICATION message fails.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_9.2.1",
      "section_id": "9.2.1",
      "section_title": "Explicit IMSI detach initiation",
      "content": "When an SGSN receives a Detach Request from an MS which is not in the Gs-NULL state, it shall check the detach type indicated. If the MS is indicating IMSI detach or combined IMSI and GPRS detach the SGSN shall send an BSSAP+-IMSI-DETACH-INDICATION message to the VLR indicating 'Explicit MS initiated IMSI detach from non-GPRS service' or 'Combined explicit MS initiated IMSI detach from GPRS and non-GPRS services'.\nAfter the sending of the BSSAP+-IMSI-DETACH-INDICATION message to the VLR, the SGSN shall move the state of the association to Gs-NULL. The SGSN shall start timer T9 upon transmission of the BSSAP+-IMSI-DETACH-INDICATION message and if timer T6-1 is running, timer T6-1 shall be stopped and reset..",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_9.2.2",
      "section_id": "9.2.2",
      "section_title": "Explicit IMSI detach Response",
      "content": "If the SGSN receives a BSSAP+-IMSI-DETACH-ACK message from the VLR, the SGSN shall stop timer T9. If the detach type received from the MS indicated IMSI only detach or combined IMSI and GPRS detach not due to switch off, the SGSN shall wait for the reception of the BSSAP+-IMSI-DETACH-ACK message before sending the confirmation of the detach to the MS.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_9.2.3",
      "section_id": "9.2.3",
      "section_title": "Abnormal cases",
      "content": "i)\twith switch off\nIf the SGSN sent a BSSAP+-IMSI-DETACH-INDICATION message for a combined IMSI and GPRS detach due to switch off and timer T9 expires, the SGSN shall repeat the BSSAP+-IMSI-DETACH-INDICATION message a maximum of N9 times.\nii)\twith no switch off\nIf the SGSN sent a BSSAP+-IMSI-DETACH-INDICATION message for a IMSI only detach or a combined IMSI and GPRS detach not due to switch off and timer T9 expires, the SGSN shall repeat the BSSAP+-IMSI-DETACH-INDICATION message a maximum of N9 times. If no BSSAP+-IMSI-DETACH-ACK is received after that the SGSN shall send the confirmation of the detach to the MS.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_9.3",
      "section_id": "9.3",
      "section_title": "Procedures in the VLR",
      "content": "When a VLR receives an BSSAP+-IMSI-DETACH-INDICATION message, the VLR shall send an BSSAP+-IMSI-DETACH-ACK message to the sending SGSN. The state of the association for the MS shall be moved from any state to Gs-NULL. If the BSSAP+-IMSI-DETACH-INDICATION message indicated 'Explicit MS initiated IMSI detach from non-GPRS service', the VLR marks the association as 'IMSI detached for non-GPRS services'. If the BSSAP+-IMSI-DETACH-INDICATION message indicated 'Combined explicit MS initiated IMSI detach from GPRS and non-GPRS services', the VLR marks the association as 'IMSI detached for GPRS and non-GPRS services'. The VLR shall mark the MS as detached.",
      "chunk_type": "procedure",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_10.1",
      "section_id": "10.1",
      "section_title": "General description",
      "content": "This procedure is used by the SGSN to indicate when, based on the criteria for implicit detach as specified in 3GPP TS 23.060 [8], the SGSN has decided to delete the GMM context of an MS or mark its GMM context as detached. This procedure only applies to MSs that are not in the Gs-NULL state at the SGSN.\nThe implicit IMSI detach from non-GPRS services procedure aborts any other ongoing procedure related to this MS on the Gs interface in the SGSN and in the VLR.\nThe VLR and the MS should be synchronised as to whether the PBCCH or the BCCH is used, for any of the subsequent paging. In order to achieve this, the SGSN shall attempt to inform the VLR about the detach event by using a retry scheme if the initial delivery of the BSSAP+-IMSI-DETACH-INDICATION message fails.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.060"
      ]
    },
    {
      "chunk_id": "ts_29.018_10.2",
      "section_id": "10.2",
      "section_title": "Procedures in the SGSN",
      "content": "When the implicit IMSI detach from non-GPRS services procedure is started for an MS, the SGSN shall send a BSSAP+-IMSI-DETACH-INDICATION message to the VLR indicating 'Implicit SGSN initiated IMSI detach from GPRS and non-GPRS service'.\nAfter the sending of the BSSAP+-IMSI-DETACH-INDICATION message, the SGSN shall move the state of the association to Gs-NULL. The SGSN shall start timer T10 upon transmission of the BSSAP+-IMSI-DETACH-INDICATION message.\nIf the SGSN receives a BSSAP+-IMSI-DETACH-ACK message from the VLR, the SGSN shall stop timer T10.\nIf no BSSAP+-IMSI-DETACH-ACK message is received by the SGSN to a previous BSSAP+-IMSI-DETACH-INDICATION message before timer T10 expires, the SGSN shall repeat the BSSAP+-IMSI-DETACH-INDICATION message a maximum of N10 times. The state of the association during the acknowledgement procedure remains Gs-NULL.",
      "chunk_type": "procedure",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_10.3",
      "section_id": "10.3",
      "section_title": "Procedures in the VLR",
      "content": "When a VLR receives the BSSAP+-IMSI-DETACH-INDICATION message, the VLR shall send an BSSAP+-IMSI-DETACH-ACK message to the sending SGSN. In addition, if the state of the Gs association is not Gs-NULL, the VLR proceeds as follows:\n-\tThe VLR shall move the state of the association for the MS to Gs-NULL. If the VLR does not have a signalling connection for the MS, the VLR shall mark the MS as detached. Additionally, the VLR marks the association as 'IMSI implicitly detached for GPRS and non-GPRS services'.",
      "chunk_type": "procedure",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_11.1",
      "section_id": "11.1",
      "section_title": "General description",
      "content": "This procedure is used by the VLR to inform the associated SGSNs about the recovery from an internal failure that has affected the association with the SGSNs when the VLR fails with restart.\nThe VLR recovery procedure shall be handled in such a way that the signalling load on the VLR and SGSN does not create any overload problem.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_11.2.1",
      "section_id": "11.2.1",
      "section_title": "VLR Reset Initiation",
      "content": "In the event of a failure at the VLR which has resulted in the loss of SGSN association information on some MSs, the VLR shall move from any state to the Gs-NULL state for these MSs. The VLR shall also set the 'Confirmed by Radio Contact' restoration indicator to 'false' (see 3GPP TS 23.007 [6]) for affected MSs. The VLR shall not send any BSSAP+- MS-INFORMATION-REQUEST or BSSAP+-MM-INFORMATION-REQUEST messages to MSs with the SGSN association in the Gs-NULL state.\nWhen the VLR restarts a BSSAP+-RESET-INDICATION message shall be sent to all the SGSNs connected to the VLR by the Gs interface. This message indicates to the SGSN that for the MSs with an association to that VLR, the association is no longer reliable. The VLR shall also start timer T11.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.007"
      ]
    },
    {
      "chunk_id": "ts_29.018_11.2.2",
      "section_id": "11.2.2",
      "section_title": "VLR Reset Response",
      "content": "Upon receipt of a BSSAP+-RESET-ACK message, the VLR shall stop the timer T11.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_11.2.3",
      "section_id": "11.2.3",
      "section_title": "Abnormal cases",
      "content": "If the VLR does not receive a BSSAP+-RESET-ACK message from that SGSN before the T11 timer expires, the VLR shall retransmit the BSSAP+-RESET-INDICATION message. The retransmission is repeated a maximum of N11 times. If no BSSAP+-RESET-ACK is received after that a report shall be made to the O&M system.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_11.3.1",
      "section_id": "11.3.1",
      "section_title": "VLR reset indication",
      "content": "Upon receipt of a BSSAP+-RESET-INDICATION message from the VLR, the SGSN is informed that all the associations with that VLR for all the MSs registered in the SGSN are no longer reliable because the VLR may have lost information about the state of the MSs and during the failure the VLR may have missed signalling messages. The SGSN shall set the 'VLR-Reliable' MM context variable to 'false'. The detach procedures for deleting the association are still applicable (clauses 8, 9 and 10).\nThe SGSN sends a BSSAP+-RESET-ACK message to the VLR.\nIf the 'VLR-Reliable' MM context variable is set to 'false', upon reception of a combined routing area update request or a periodic routing area update request from the MS that is attached for non-GPRS service, the SGSN may:\n-\tif a combined routing area update request is received, immediately perform the location update for non-GPRS services procedure towards the VLR as described in clause 6; or\n-\tif a periodic routing area update request is received, dependent on network configuration and operator policy,\n-\tperform a network initiated detach with detach type \"IMSI detach\" immediately after the completion of the periodic routing area update procedure; or\n-\tperform immediately the location update for non-GPRS services procedure towards the VLR as described in clause 6.",
      "chunk_type": "general",
      "cross_references": [
        "clause_6"
      ]
    },
    {
      "chunk_id": "ts_29.018_12.1",
      "section_id": "12.1",
      "section_title": "General description",
      "content": "This procedure is used by the SGSN to inform the associated VLRs about the recovery from an internal failure that has affected the association with the VLRs.\nThe SGSN recovery procedure shall be handled in such a way that the signalling load on the VLR and SGSN does not create any overload problem.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_12.2.1",
      "section_id": "12.2.1",
      "section_title": "SGSN Reset Initiation",
      "content": "In the event of a failure at the SGSN which has resulted in the loss of VLR association information on some MSs, the SGSN shall move from any state to the Gs-NULL state for these affected MSs. The SGSN shall also set the 'SGSN-Reset' MM context variable to 'true' and start the timer T12-1. When the timer T12-1 expires the 'SGSN-Reset' MM context variable is set to 'false'. The value of the timer T12-1 shall be longer that the periodic routing area update timer at the SGSN.\nA BSSAP+-RESET-INDICATION message may be sent to all the VLRs connected to the SGSN by Gs interfaces. The BSSAP+-RESET-INDICATION message indicates to the VLR that all the associations with that particular SGSN for all the MSs registered in the VLR are no longer reliable. The normal procedures for updating the association are still applicable (clauses 6, 8, 9 and 10). The SGSN shall also start timer T12-2.\nIf no BSSAP+-RESET-INDICATION is sent, the SGSN shall move from any state to the Gs-NULL state only the associations of the MSs affected by the loss of VLR association information.\nNOTE:\tThe option to not send any BSSAP+-RESET-INDICATION message to all the VLRs connected to the SGSN by Gs interfaces reduces subsequent paging signalling initiated by VLRs by avoiding a complete search of the MS on the entire VLR area.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_12.2.2",
      "section_id": "12.2.2",
      "section_title": "SGSN Reset Response",
      "content": "Upon receipt of a BSSAP+-RESET-ACK message, the SGSN shall stop the timer T12-2.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_12.2.3",
      "section_id": "12.2.3",
      "section_title": "Abnormal cases",
      "content": "If the SGSN does not receive a BSSAP+-RESET-ACK message from that VLR before the T12-2 timer expires, the SGSN shall retransmit the BSSAP+-RESET-INDICATION message. The retransmission is repeated a maximum of N12 times. If no BSSAP+-RESET-ACK is received after a report shall be to made the O&M system.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_12.3",
      "section_id": "12.3",
      "section_title": "Procedures in the VLR",
      "content": "Upon receipt of a BSSAP+-RESET-INDICATION message from the SGSN, the VLR is informed that all the associations with that SGSN for all the MSs registered in the SGSN are no longer reliable because the SGSN may have lost information about the state of the MSs for that VLR and during the failure the SGSN may have missed signalling messages. The VLR shall either:\n-\tset the 'Confirmed by Radio Contact' restoration indicator to 'false' in all the associations containing the restarted SGSN and set the state of all the Gs associations containing the restarted SGSN to the Gs-NULL state; or\n-\tkeep the 'Confirmed by Radio Contact' restoration indication and the state of all the Gs associations containing the restarted SGSN unchanged.\nNOTE:\tThe option to not set the 'Confirmed by Radio Contact' restoration indicator to 'false' in all the associations containing the restarted SGSN reduces subsequent paging signalling the VLR can initiate by avoiding a complete search of the MS on the entire VLR area.\nThe VLR shall then send a BSSAP+-RESET-ACK message to the SGSN.\nIf the 'Confirmed by Radio Contact' restoration indicator is 'false' the VLR may send paging messages on the Gs, A and Iu-CS interfaces.",
      "chunk_type": "procedure",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_13",
      "section_id": "13",
      "section_title": "HLR failure",
      "content": "This clause decribes the SGSN behaviour towards the VLR as a consequence of an HLR reset.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_13.1",
      "section_id": "13.1",
      "section_title": "General description",
      "content": "In the case of an HLR failure, the HLR informs the associated SGSNs about the recovery from an internal failure that has affected the association with the SGSNs according to the HLR reset procedure specified in 3GPP TS 29.002 [17].\nThis information is used in the SGSN to trigger the VLR to perform a location update towards the HLR in order to restore the HLR subscriber data.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.018_13.2",
      "section_id": "13.2",
      "section_title": "Procedures in the SGSN",
      "content": "Upon receipt of a HLR reset indication from the HLR, the SGSN shall set the NGAF for all registered MSs in the SGSN for which a valid MSC/VLR-association exists.\nUpon detection of any activity (either signalling or data) from the MS, the SGSN shall report to the VLR if the NGAF is set for this MS. If the SGSN detects GPRS signalling that leads to a procedure towards the VLR, the SGSN shall follow this procedure and reset the NGAF. If the SGSN detects activity that does not lead to any procedure towards the VLR, the SGSN shall send an BSSAP+-MS-ACTIVITY-INDICATION message towards the VLR and reset the NGAF. The activity indication may be delayed by the SGSN for a maximum operator-configuration depending time period to avoid high signalling load.",
      "chunk_type": "procedure",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_14.1",
      "section_id": "14.1",
      "section_title": "General description",
      "content": "The MS Information procedure is used by the VLR to request specific parameters about the MS. If the target MS for an MS Information procedure or a Provide Subscriber Info procedure (see 3GPP TS 23.018 [6a] and 3GPP TS 29.002 [17]) is GPRS attached (i.e. the state of the association to Gs-ASSOCIATED) the VLR may decide to perform the procedure via GPRS. The outcome of the MS Information procedure does not change the state of the association at the VLR or SGSN.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_23.018",
        "ts_29.002"
      ]
    },
    {
      "chunk_id": "ts_29.018_14.2",
      "section_id": "14.2",
      "section_title": "Procedures in the VLR",
      "content": "If the target MS for the MS information procedure is GPRS attached and the state of the association for the MS Gs-ASSOCIATED, the VLR may initiate the MS information procedure by transferring a BSSAP+-MS-INFORMATION-REQUEST message to the SGSN. If the state of the association is LA-UPDATE PRESENT, the VLR shall wait until this state is exited. The VLR starts the timer T14. The BSSAP+-MS-INFORMATION-REQUEST message specifies the requested information parameters in the Information requested information element.\nUpon receipt of a BSSAP+-MS-INFORMATION-RESPONSE the VLR shall stop timer T14. If no BSSAP+-MS-INFORMATION-RESPONSE for that MS is received before the expiry of timer T14the VLR shall stop the Gs interface MS information procedure. The VLR may perform other actions to obtain the information about the MS (e.g. retry, or send a DTAP IDENTITY REQUEST message on the A interface).",
      "chunk_type": "procedure",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_14.3",
      "section_id": "14.3",
      "section_title": "Procedures in the SGSN",
      "content": "The SGSN shall examine the type of information that is requested and if it is stored in its database shall use this information in its response to the VLR. The BSSAP+-MS-INFORMATION-RESPONSE message contains the information parameters as requested by the VLR. In A/Gb mode, the Mobile location information indicates a request for Cell Global Identity and Location information age. In Iu mode, the Mobile location information indicates a request for Service Area Identification and Location information age. In this case, the SGSN shall use the Location Report Control procedure (see 3GPP TS 25.413 [22]) in order to retrieve the SA.\nIf the SGSN receives an Information requested information element containing a 'not supported' value, then the value part of the Mobile station state information element in the BSSAP+-MS-INFORMATION-RESPONSE message shall be set to 'Information requested not supported'.\nIf the information is not locally available and it is a request for mobile identity information, the SGSN forwards the IDENTITY REQUEST message to the MS indicated in the message unless the GPRS activities of the MS are suspended. Upon receipt of the IDENTITY RESPONSE message from the MS, the SGSN shall send a BSSAP+-MS-INFORMATION-RESPONSE message. The BSSAP+-MS-INFORMATION-RESPONSE message contains the information parameters as requested by the VLR. If the GPRS activities of the MS are suspended the SGSN shall return a BSSAP+-MS-INFORMATION-RESPONSE message indicating in the Mobile station state IE 'SUSPENDED'. If the requested information is not available or obtainable at the SGSN, the SGSN shall return a BSSAP+-MS-INFORMATION-RESPONSE message to the VLR without the requested information. The SGSN should include the Mobile station state IE in all BSSAP+-MS-INFORMATION-RESPONSE messages.\nIf the IMSI is not known at the SGSN, the SGSN shall return a BSSAP+-MS-INFORMATION-RESPONSE message indicating in the Mobile station state IE 'IMSI unknown'.",
      "chunk_type": "procedure",
      "cross_references": [
        "ts_25.413"
      ]
    },
    {
      "chunk_id": "ts_29.018_15.1",
      "section_id": "15.1",
      "section_title": "General description",
      "content": "The MM information procedure may be performed by the VLR via GPRS if the target MS for the MM information procedure is IMSI attached to both GPRS and non-GPRS services (i.e. the state of the association is Gs-ASSOCIATED). The outcome of the MM Information procedure does not change the state of the association at the VLR or SGSN.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_15.2",
      "section_id": "15.2",
      "section_title": "Procedures in the VLR",
      "content": "If the target MS for the MM information procedure is GPRS attached class A or B MS, the state of the association is Gs-ASSOCIATED, the VLR may initiate the MM information procedure by transferring a BSSAP+-MM-INFORMATION-REQUEST message to the SGSN.",
      "chunk_type": "procedure",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_15.3",
      "section_id": "15.3",
      "section_title": "Procedures in the SGSN",
      "content": "If the state of the association at the SGSN is not Gs-NULL, and the network only spans one time zone, the SGSN shall keep the information elements in the MM information unchanged.\nNOTE:\tFor the determination of the number of time zones, both CS and PS domain are taken into account.\nIf the network spans more than one time zone, the SGSN shall check and update the contents of the MM information information element as follows:\n-\tif Network Daylight Saving Time has been included in the MM information, then the SGSN shall discard the Network Daylight Saving Time;\n-\tif Local Time Zone has been included in the MM information, then the SGSN shall replace the Local Time Zone with the Local Time Zone applicable for this MS. In addition, if the local time zone in the SGSN has been adjusted for daylight saving time, the SGSN shall indicate this by including the value used for adjustment in Network Daylight Saving Time IE in the MM information;\n-\tif Universal time and local time zone has been included in the MM information, then the SGSN shall replace it with the Universal time and local time zone applicable for this MS. In addition, if the local time zone in the SGSN has been adjusted for daylight saving time, the SGSN shall indicate this by including the value used for adjustment in Network Daylight Saving Time IE in the MM information; and\n-\tother information elements in the MM information are kept unchanged.\nThe SGSN shall then send the resultant MM-INFORMATION message to the MS indicated.",
      "chunk_type": "procedure",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_16.1",
      "section_id": "16.1",
      "section_title": "General",
      "content": "This clause specifies procedures for the handling of unknown, unforeseen, and erroneous protocol data by the receiving entity. These procedures are called \"error handling procedures\", but in addition to providing recovery mechanisms for error situations they define a compatibility mechanism for future extensions of the protocol.\nIn this clause the following terminology is used:\n-\tan IE is defined to be syntactically incorrect in a message if it contains at least one value defined as \"reserved\", or if its value part violates coding rules. However, it is not a syntactical error that an IE specifies in its Length Indicator a greater length than defined in the relevant clause; and\n-\ta message is defined to have semantically incorrect contents if it contains information which, possibly dependant on the state of the receiver, is in contradiction to the resources of the receiver and/or to the procedural part of 3GPP TS 29.018.\nWhen a receiving entity detects the need to send a BSSAP+-MOBILE-STATUS message (see errors detailed below), the entity shall copy the IMSI IE value (if included) of the incorrect message to the IMSI IE on the BSSAP+-MOBILE-STATUS message. The message in error is also included in the BSSAP+-MOBILE-STATUS message. Both the receiving and the sending entity shall abandon the procedure related to the incorrect message and return to the state from where the procedure related to the incorrect message was started.\nA BSSAP+-MOBILE-STATUS message shall not be sent in response to a received BSSAP+-MOBILE-STATUS message.\nBoth the receiving and the sending entity shall inform the O&M entity upon sending or receiving a BSSAP+-MOBILE-STATUS message.\nThe next clauses in this clause shall be applied in order of precedence.",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_16.2",
      "section_id": "16.2",
      "section_title": "Message too short",
      "content": "When a message is received that is too short to contain a complete message type information element, that message shall be ignored.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_16.3",
      "section_id": "16.3",
      "section_title": "Unknown or unforeseen message type",
      "content": "If a message is received with a message type not defined or not implemented by the receiver it shall ignore the message. A BSSAP+-MOBILE-STATUS message with the Gs Cause Value set to \"message unknown\" and the Erroneous message IE containing the received message shall be returned.\nIf a message is received that is not compatible with the protocol state, a BSSAP+-MOBILE-STATUS message with the Gs Cause Value set to \"message not compatible with the protocol state\" and the erroneous message shall be returned.\nIf a message is received that is not defined to be received by that entity (i.e. the message is sent in the wrong direction) it shall be treated as unknown message and the message shall be ignored. A BSSAP+-MOBILE-STATUS message with the Gs Cause Value set to \"message unknown\" and the Erroneous message IE containing the received message shall be returned.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_16.4",
      "section_id": "16.4",
      "section_title": "Missing mandatory information element",
      "content": "When on receipt of a message, and a \"missing mandatory IE\" error is diagnosed, the receiver shall ignore the message and return a BSSAP+-MOBILE-STATUS message with the Gs Cause Value set to \"missing mandatory information element\" and shall return the Erroneous message information element containing the received message.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_16.5",
      "section_id": "16.5",
      "section_title": "IEs unknown or unforeseen in the message",
      "content": "All IEs unknown or unforeseen in a message shall be ignored.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_16.6",
      "section_id": "16.6",
      "section_title": "Out of sequence IEs",
      "content": "All IEs that are out of sequence shall be ignored.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_16.7",
      "section_id": "16.7",
      "section_title": "Repeated IEs",
      "content": "If an information element with format T, TV, or TLV is repeated in a message in which repetition of the information element is not specified, only the contents of the information element appearing first shall be handled and all subsequent repetitions of the information element shall be ignored. When repetition of information elements is specified, only the contents of specified repeated information elements shall be handled. If the limit on repetition of information elements is exceeded, the contents of information elements appearing first up to the limit of repetitions shall be handled and all subsequent repetitions of the information element shall be ignored.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_16.8",
      "section_id": "16.8",
      "section_title": "Syntactically incorrect mandatory IE.",
      "content": "On receipt of a message which contains a syntactically incorrect mandatory IE, the receiver shall ignore the message and return a BSSAP+-MOBILE-STATUS message with the Gs Cause Value set to \"invalid mandatory information\" and shall return the Erroneous message information element containing the received message.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_16.9",
      "section_id": "16.9",
      "section_title": "Syntactically incorrect optional IEs",
      "content": "All optional IEs that are syntactically incorrect in a message shall be treated as not present in the message.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_16.10",
      "section_id": "16.10",
      "section_title": "Conditional IE errors",
      "content": "When a VLR or SGSN receives a message and diagnoses a \"missing conditional IE\" error or an \"unexpected conditional IE\" error or when it receives a message containing at least one syntactically incorrect conditional IE which is required to be present in the message, a VLR or SGSN shall ignore the message and return a BSSAP+-MOBILE-STATUS message with the Gs Cause Value set to \"conditional IE error\" and shall return the Erroneous message information element containing the received message.\nWhen a VLR or SGSN receives a message containing a syntactically incorrect conditional IE which is not required to be present in the message, nor required to be absent in the message, then a VLR or SGSN shall ignore that IE.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_16.11",
      "section_id": "16.11",
      "section_title": "IEs with semantically incorrect contents",
      "content": "When an IE with semantically incorrect contents is received, the foreseen reactions of the procedural part of 3GPP TS 29.018 are performed.\nIf however no such reactions are specified, the receiving entity shall ignore that IE and treat the rest of the message. If, because this IE was ignored, the rest of the message can no longer be handled then the receiving entity shall return a BSSAP+-MOBILE-STATUS message with the Gs Cause Value set to \"semantically incorrect message\" and shall return the Erroneous message information element containing the received message.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_17",
      "section_id": "17",
      "section_title": "Message functional definitions and contents",
      "content": "This clause defines the structure of the messages that are sent between the SGSN and the VLR.",
      "chunk_type": "definition",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.1",
      "section_id": "17.1.1",
      "section_title": "BSSAP+-ALERT-ACK message",
      "content": "This message is sent by the SGSN to the VLR to acknowledge a previous BSSAP+-ALERT-REQUEST message.\nTable 17.1.1/3GPP TS 29.018: BSSAP+-ALERT-ACK message content\nInformation Element\nType/Reference\nPresence\nFormat\nLength\nMessage type\nMessage type18.2\nM\nV\n1\nIMSI\nIMSI18.4.10\nM\nTLV\n6-10",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_17.1.1",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_17.1.2",
      "section_id": "17.1.2",
      "section_title": "BSSAP+-ALERT-REJECT message",
      "content": "This message is sent from the SGSN to the VLR to indicate that the SGSN could not identify the IMSI indicated in the BSSAP+-ALERT-Request message.\nTable 17.1.2/3GPP TS 29.018: BSSAP+-ALERT-REJECT message content\nInformation Element\nType/Reference\nPresence\nFormat\nLength\nMessage type\nMessage type18.2\nM\nV\n1\nIMSI\nIMSI18.4.10\nM\nTLV\n6-10\nGs Cause\nGs Cause18.4.7\nM\nTLV\n3",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_17.1.2",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_17.1.2.1",
      "section_id": "17.1.2.1",
      "section_title": "Gs Cause",
      "content": "The value part which is typically sent for this information element in this message is 'IMSI unknown'.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.3",
      "section_id": "17.1.3",
      "section_title": "BSSAP+-ALERT-REQUEST message",
      "content": "This message is sent by the VLR to the SGSN to request an indication when next activity from the MS is detected.\nTable 17.1.3/3GPP TS 29.018: BSSAP+-ALERT-REQUEST message content\nInformation Element\nType/Reference\nPresence\nFormat\nLength\nMessage type\nMessage type18.2\nM\nV\n1\nIMSI\nIMSI18.4.10\nM\nTLV\n6-10",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_17.1.3",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_17.1.4",
      "section_id": "17.1.4",
      "section_title": "BSSAP+-DOWNLINK-TUNNEL-REQUEST message",
      "content": "This message is sent from the non-GSM MSC/VLR to the SGSN to convey a tunneling payload to the MS identified by the specified IMSI.\nTable 17.1.4/3GPP TS 29.018: BSSAP+-DOWNLINK-TUNNEL-REQUEST message content\nInformation Element\nType/Reference\nPresence\nFormat\nLength\nMessage type\nMessage type18.2\nM\nV\n1\nIMSI\nIMSI18.4.10\nM\nTLV\n6-10\nVLR number\nVLR number18.4.26\nM\nTLV\n5-11\nDownlink Tunnel Payload Control and Info\nDownlink Tunnel Payload Control and Info18.4.3\nM\nTLV\n3-223",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_17.1.4",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_17.1.5",
      "section_id": "17.1.5",
      "section_title": "BSSAP+-GPRS-DETACH-ACK message",
      "content": "This message is sent by the VLR to the SGSN to acknowledge a previous BSSAP+-GPRS-DETACH-Indication message.\nTable 17.1.5/3GPP TS 29.018: BSSAP+-GPRS-DETACH-ACK message content\nInformation Element\nType/Reference\nPresence\nFormat\nLength\nMessage type\nMessage type18.2\nM\nV\n1\nIMSI\nIMSI18.4.10\nM\nTLV\n6-10",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_17.1.5",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_17.1.6",
      "section_id": "17.1.6",
      "section_title": "BSSAP+-GPRS-DETACH-INDICATION message",
      "content": "This message is sent by the SGSN to the VLR to indicate a GPRS detach performed from the MS or the SGSN. The type of detach is indicated in the IMSI detach from GPRS service type IE.\nTable 17.1.6/3GPP TS 29.018: BSSAP+-GPRS-DETACH-INDICATION message content\nInformation Element\nType/Reference\nPresence\nFormat\nLength\nMessage type\nMessage type18.2\nM\nV\n1\nIMSI\nIMSI18.4.10\nM\nTLV\n6-10\nSGSN number\nSGSN number18.4.22\nM\nTLV\n5-11\nIMSI detach from GPRS service type\nIMSI detach from GPRS service type18.4.11\nM\nTLV\n3\nCell global identity\nCell global identity18.4.1\nO\nTLV\n10\nService area identification\nService area identification 18.4.21b\nO\nTLV\n9",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_17.1.6",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_17.1.6.1",
      "section_id": "17.1.6.1",
      "section_title": "Cell global identity (A/Gb mode only)",
      "content": "In A/Gb mode, the SGSN shall include the Cell global identity where the mobile was in the last radio contact.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.6.2",
      "section_id": "17.1.6.2",
      "section_title": "Service area identification (Iu mode only)",
      "content": "In Iu mode, the SGSN should include the Service area identification where the mobile was in the last radio contact.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.7",
      "section_id": "17.1.7",
      "section_title": "BSSAP+-IMSI-DETACH-ACK message",
      "content": "This message is sent by the VLR to the SGSN to acknowledge a previous BSSAP+-IMSI-DETACH-Indication message.\nTable 17.1.7/3GPP TS 29.018: BSSAP+-IMSI-DETACH-ACK message content\nInformation Element\nType/Reference\nPresence\nFormat\nLength\nMessage type\nMessage type18.2\nM\nV\n1\nIMSI\nIMSI18.4.10\nM\nTLV\n6-10",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_17.1.7",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_17.1.8",
      "section_id": "17.1.8",
      "section_title": "BSSAP+-IMSI-DETACH-INDICATION message",
      "content": "This message is sent by the SGSN to the VLR to indicate an IMSI detach performed from the MS. The type of detach is indicated in the IMSI detach from non-GPRS service type IE.\nTable 17.1.8/3GPP TS 29.018: BSSAP+-IMSI-DETACH-INDICATION message content\nInformation Element\nType/Reference\nPresence\nFormat\nLength\nMessage type\nMessage type18.2\nM\nV\n1\nIMSI\nIMSI18.4.10\nM\nTLV\n6-10\nSGSN number\nSGSN number18.4.22\nM\nTLV\n5-11\nIMSI detach from non-GPRS service type\nIMSI detach from non-GPRS service type 18.4.12\nM\nTLV\n3\nCell global identity\nCell global identity18.4.1\nO\nTLV\n10\nLocation information age\nLocation information age18.4.15\nO\nTLV\n4\nService area identification\nService area identification18.4.21b\nO\nTLV\n9",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_17.1.8",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_17.1.8.1",
      "section_id": "17.1.8.1",
      "section_title": "Cell global identity (A/Gb mode only)",
      "content": "In A/Gb mode, the SGSN shall include the Cell global identity where the mobile was in the last radio contact.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.8.2",
      "section_id": "17.1.8.2",
      "section_title": "Location information age",
      "content": "If the detach is due to implicit detach and the Cell global identity is available, then the SGSN should include the Location information age.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.8.3",
      "section_id": "17.1.8.3",
      "section_title": "Service area identification (Iu mode only)",
      "content": "In Iu mode, the SGSN should include the Service area identification where the mobile was in the last radio contact.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.9",
      "section_id": "17.1.9",
      "section_title": "BSSAP+-LOCATION-UPDATE-ACCEPT message",
      "content": "This message is sent by the VLR to the SGSN to indicate that update or IMSI attach in the VLR has been completed.\nTable 17.1.9/3GPP TS 29.018: BSSAP+-LOCATION-UPDATE-ACCEPT message content\nInformation Element\nType/Reference\nPresence\nFormat\nLength\nMessage type\nMessage type18.2\nM\nV\n1\nIMSI\nIMSI18.4.10\nM\nTLV\n6-10\nLocation area identifier\nLocation area identifier18.4.14\nM\nTLV\n7\nNew TMSI, or IMSI\nMobile identity18.4.17\nO\nTLV\n6-10",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_17.1.9",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_17.1.9.1",
      "section_id": "17.1.9.1",
      "section_title": "New TMSI, or IMSI",
      "content": "This information element represents the identity to be used for (and then by) the MS.\nIf this information element is an IMSI, then the mobile station is not allocated any TMSI (and deletes any TMSI accordingly). If this information element is a TMSI, then the mobile station will use this TMSI as the new temporary identity (the MS deletes its old TMSI if available, and stores the new TMSI). If neither a TMSI nor an IMSI are included in this information element, the old TMSI, if any available, will be kept.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.10.1",
      "section_id": "17.1.10.1",
      "section_title": "Message definition",
      "content": "This message is sent by the VLR to the SGSN to indicate that location update or IMSI attach has failed.\nTable 17.1.10/3GPP TS 29.018: BSSAP+-LOCATION-UPDATE-REJECT message content\nInformation Element\nType/Reference\nPresence\nFormat\nLength\nMessage type\nMessage type18.2\nM\nV\n1\nIMSI\nIMSI18.4.10\nM\nTLV\n6-10\nReject cause\nReject cause18.4.21\nM\nTLV\n3\nLocation area identifier\nLocation area identifier18.4.14\nO\nTLV\n7",
      "chunk_type": "definition",
      "cross_references": [
        "ts_29.018_table_17.1.10",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_17.1.10.2",
      "section_id": "17.1.10.2",
      "section_title": "Location area identifier",
      "content": "The VLR shall include this information element.",
      "chunk_type": "parameter",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.11",
      "section_id": "17.1.11",
      "section_title": "BSSAP+-LOCATION-UPDATE-REQUEST message",
      "content": "This message is sent by the SGSN to the VLR either to request update of its location file (normal update) or to request IMSI attach.\nTable 17.1.11/3GPP TS 29.018: BSSAP+-LOCATION-UPDATE-REQUEST message content\nInformation Element\nType/Reference\nPresence\nFormat\nLength\nMessage type\nMessage type18.2\nM\nV\n1\nIMSI\nIMSI18.4.10\nM\nTLV\n6-10\nSGSN number\nSGSN number18.4.22\nM\nTLV\n5-11\nUpdate type\nGPRS location update type18.4.6\nM\nTLV\n3\nNew Cell global identity\nCell global identity18.4.1\nM\nTLV\n10\nMobile station classmark\nMobile station classmark 118.4.18\nM\nTLV\n3\nOld location area identifier\nLocation area identifier18.4.14\nO\nTLV\n7\nTMSI status\nTMSI status18.4.24\nO\nTLV\n3\nNew service area identification\nService area identification18.4.21b\nO\nTLV\n9\nIMEISV\nIMEISV\n18.4.9\nO\nTLV\n10\nTMSI based NRI container\nTMSI based NRI container18.4.28\nO\nTLV\n4\nSelected CN operator\nSelected CN operator\n18.4.29\nO\nTLV\n5",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_17.1.11",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_17.1.11.1",
      "section_id": "17.1.11.1",
      "section_title": "Old location area identifier",
      "content": "This information element should be included.",
      "chunk_type": "parameter",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.11.2",
      "section_id": "17.1.11.2",
      "section_title": "New cell global identity",
      "content": "In A/Gb mode, the cell global identity which shall be included is the one where the MS is in the current radio contact.\nIn Iu mode, the cell global identity which shall be included indicates where the MS is in the current location area. The cell identity part of this information shall be ignored by the VLR.\nIn a shared network, the PLMN identity contained in the cell global identity shall be the PLMN identity of the selected core network operator (see 3GPP TS 23.251 [24]).",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_23.251"
      ]
    },
    {
      "chunk_id": "ts_29.018_17.1.11.3",
      "section_id": "17.1.11.3",
      "section_title": "TMSI status",
      "content": "This information element shall be included if the TMSI status received in the ATTACH REQUEST or ROUTING AREA UPDATING REQUEST message from the MS indicates, that no valid TMSI is available in the MS.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.11.4",
      "section_id": "17.1.11.4",
      "section_title": "Mobile station classmark",
      "content": "This information element does not serve any useful purpose, but shall be included for reasons of compatibility with earlier versions of the protocol. To ease interworking with old VLR equipment, the SGSN shall encode the contents of this information element as: revision level 'GSM phase 2', 'early classmark sending supported'‚ 'encryption algorithm A5/1 supported', and RF power capability 'class 1'.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.11.5",
      "section_id": "17.1.11.5",
      "section_title": "New service area identification",
      "content": "In Iu mode, the service area identification which should be included is the one where the MS is in the current radio contact.\nIn a shared network, the PLMN identity contained in the service area identification shall be the PLMN identity of the selected core network operator (see 3GPP TS 23.251 [24]).",
      "chunk_type": "general",
      "cross_references": [
        "ts_23.251"
      ]
    },
    {
      "chunk_id": "ts_29.018_17.1.11.6",
      "section_id": "17.1.11.6",
      "section_title": "IMEISV",
      "content": "This information element shall be included, if the SGSN supports the \"Provision of UE Specific Behaviour Information to Network Entities\" or the \"Automatic Device Detection\", or the “Trace for Management Based Activation/Deactivation”.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.11.7",
      "section_id": "17.1.11.7",
      "section_title": "TMSI based NRI container",
      "content": "This information element shall be included if the TMSI based NRI container has been received in the ATTACH REQUEST or ROUTING AREA UPDATING REQUEST message from the MS.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.11.8",
      "section_id": "17.1.11.8",
      "section_title": "Selected CN operator",
      "content": "This information element shall be included for the non-supporting UE if the network is configured to support gateway core network (GWCN).",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.12",
      "section_id": "17.1.12",
      "section_title": "BSSAP+-MM-INFORMATION-REQUEST",
      "content": "This message is sent by the VLR to the SGSN to provide the MS with subscriber specific information.\nTable 17.1.12/3GPP TS 29.018: BSSAP+-MM-INFORMATION-REQUEST message content\nInformation Element\nType/Reference\nPresence\nFormat\nLength\nMessage type\nMessage type18.2\nM\nV\n1\nIMSI\nIMSI18.4.10\nM\nTLV\n6-10\nMM information\nMM information18.4.16\nO\nTLV\n3-n",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_17.1.12",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_17.1.12.1",
      "section_id": "17.1.12.1",
      "section_title": "MM information",
      "content": "This information element should be included in this message.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.13",
      "section_id": "17.1.13",
      "section_title": "BSSAP+-MOBILE-STATUS message",
      "content": "This message is sent by both the SGSN or the VLR to indicate an error.\nTable 17.1.13/3GPP TS 29.018: BSSAP+-MOBILE-STATUS message content\nInformation Element\nType/Reference\nPresence\nFormat\nLength\nMessage type\nMessage type18.2\nM\nV\n1\nIMSI\nIMSI18.4.10\nO\nTLV\n6-10\nGs Cause\nGs Cause18.4.7\nM\nTLV\n3\nErroneous message\nErroneous message18.4.5\nM\nTLV\n3-n",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_17.1.13",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_17.1.13.1",
      "section_id": "17.1.13.1",
      "section_title": "IMSI",
      "content": "If the MS is identified by the IMSI, then this information element shall be included.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.14",
      "section_id": "17.1.14",
      "section_title": "BSSAP+-MS-ACTIVITY-INDICATION message",
      "content": "This message is sent by the SGSN to the VLR to indicate that activity from an MS has been detected.\nTable 17.1.14/3GPP TS 29.018: BSSAP+-MS-ACTIVITY-INDICATION message content\nInformation Element\nType/Reference\nPresence\nFormat\nLength\nMessage type\nMessage type18.2\nM\nV\n1\nIMSI\nIMSI18.4.10\nM\nTLV\n6-10\nCell global identity\nCell global identity18.4.1\nO\nTLV\n10\nService area identification\nService area identification18.4.21b\nO\nTLV\n9",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_17.1.14",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_17.1.14.1",
      "section_id": "17.1.14.1",
      "section_title": "Cell global identity (A/Gb mode only)",
      "content": "In A/Gb mode, the SGSN shall include the cell global identity where the MS was in the last radio contact.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.14.2",
      "section_id": "17.1.14.2",
      "section_title": "Service area identification (Iu mode only)",
      "content": "In Iu mode, the SGSN should include the Service area identification where the mobile was in the last radio contact.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.15",
      "section_id": "17.1.15",
      "section_title": "BSSAP+-MS-INFORMATION-REQUEST message",
      "content": "This message is sent from the VLR to the SGSN to request information associated with the indicated IMSI. The type of information requested is specified in the Information requested IE.\nTable 17.1.15/3GPP TS 29.018: BSSAP+-MS-INFORMATION-REQUEST message content\nInformation Element\nType/Reference\nPresence\nFormat\nLength\nMessage type\nMessage type18.2\nM\nV\n1\nIMSI\nIMSI18.4.10\nM\nTLV\n6-10\nInformation requested\nInformation requested18.4.13\nM\nTLV\n3",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_17.1.15",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_17.1.16",
      "section_id": "17.1.16",
      "section_title": "BSSAP+-MS-INFORMATION-RESPONSE message",
      "content": "This message is sent from the SGSN to the VLR as a response to a previous BSSAP+-MS-INFORMATION-REQUEST message. (At least one of the requested identities shall be sent).\nTable 17.1.16/3GPP TS 29.018: BSSAP+-MS-INFORMATION-RESPONSE message content\nInformation Element\nType/Reference\nPresence\nFormat\nLength\nMessage type\nMessage type18.2\nM\nV\n1\nIMSI\nIMSI18.4.10\nM\nTLV\n6-10\nTMSI\nTMSI\n18.4.23\nO\nTLV\n6\nPTMSI\nPTMSI\n18.4.20\nO\nTLV\n6\nIMEI\nIMEI18.4.8\nO\nTLV\n10\nIMEISV\nIMEISV18.4.9\nO\nTLV\n10\nCell global identity\nCell global identity18.4.1\nO\nTLV\n10\nLocation information age\nLocation information age18.4.15\nO\nTLV\n4\nMobile station state\nMobile station state18.4.19\nO\nTLV\n3\nService area identification\nService area identification18.4.21b\nO\nTLV\n9",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.018_table_17.1.16",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_17.1.16.1",
      "section_id": "17.1.16.1",
      "section_title": "IMEI",
      "content": "This information element should be included if it was requested in the BSSAP+-MS-INFORMATION-REQUEST message and if this information is obtainable.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.16.2",
      "section_id": "17.1.16.2",
      "section_title": "IMIESV",
      "content": "This information element should be included if it was requested in the BSSAP+-MS-INFORMATION-REQUEST message and if this information is obtainable.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.16.3",
      "section_id": "17.1.16.3",
      "section_title": "Cell global identity (A/Gb mode only)",
      "content": "In A/Gb mode, cell global identity where the MS was in the last radio contact.\nThis information element should be included if it was requested in the BSSAP+-MS-INFORMATION-REQUEST message and if this information is obtainable.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.16.4",
      "section_id": "17.1.16.4",
      "section_title": "Location information age",
      "content": "Time in minutes since the MS last established a radio transaction.\nThis information element should be included if it was requested in the BSSAP+-MS-INFORMATION-REQUEST message and if this information is obtainable.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.16.5",
      "section_id": "17.1.16.5",
      "section_title": "Mobile station state",
      "content": "This information element should be included in this message, irrespective of the information requested.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.16.6",
      "section_id": "17.1.16.6",
      "section_title": "TMSI",
      "content": "This information element should be included if it was requested in the BSSAP+-MS-INFORMATION-REQUEST message and if this information is obtainable.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.16.7",
      "section_id": "17.1.16.7",
      "section_title": "Service area identification (Iu mode only)",
      "content": "In Iu mode, service area identification where the MS was in the last radio contact.\nThis information element should be included if it was requested in the BSSAP+-MS-INFORMATION-REQUEST message and if this information is obtainable.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.17",
      "section_id": "17.1.17",
      "section_title": "BSSAP+-MS-UNREACHABLE message",
      "content": "This message is sent from the SGSN to the VLR to indicate that, for example, paging could not be performed because the MS is marked as unreachable at the SGSN.\nTable 17.1.17/3GPP TS 29.018: BSSAP+-MS-UNREACHABLE message content\nInformation Element\nType/Reference\nPresence\nFormat\nLength\nMessage type\nMessage type18.2\nM\nV\n1\nIMSI\nIMSI18.4.10\nM\nTLV\n6-10\nGs Cause\nGs Cause18.4.7\nM\nTLV\n3",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_17.1.17",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_17.1.17.1",
      "section_id": "17.1.17.1",
      "section_title": "Gs Cause",
      "content": "The value part which is typically sent for this information element in this message is 'MS unreachable'.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.18",
      "section_id": "17.1.18",
      "section_title": "BSSAP+-PAGING-REJECT message",
      "content": "This message is sent from the SGSN to the VLR to indicate that the delivery of a previous BSSAP+-PAGING-REQUEST message has failed.\nTable 17.1.18/3GPP TS 29.018: BSSAP+-PAGING-REJECT message content\nInformation Element\nType/Reference\nPresence\nFormat\nLength\nMessage type\nMessage type18.2\nM\nV\n1\nIMSI\nIMSI18.4.10\nM\nTLV\n6-10\nGs Cause\nGs Cause18.4.7\nM\nTLV\n3",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_17.1.18",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_17.1.19",
      "section_id": "17.1.19",
      "section_title": "BSSAP+-PAGING-REQUEST message",
      "content": "This message is sent from the VLR to the SGSN and contains sufficient information to allow the paging message to be transmitted by the correct cells at the correct time.\nTable 17.1.19/3GPP TS 29.018: BSSAP+-PAGING_REQUEST message content\nInformation Element\nType/Reference\nPresence\nFormat\nLength\nMessage type\nMessage type18.2\nM\nV\n1\nIMSI\nIMSI18.4.10\nM\nTLV\n6-10\nVLR number\nVLR number18.4.26\nM\nTLV\n5-11\nTMSI\nTMSI18.4.23\nO\nTLV\n6\nLocation area identifier\nLocation area identifier18.4.14\nO\nTLV\n7\nChannel needed\nChannel needed18.4.2\nO\nTLV\n3\neMLPP Priority\neMLPP Priority18.4.4\nO\nTLV\n3\nGlobal CN-Id\nGlobal CN-Id\n18.4.27\nO\nTLV\n7",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_17.1.19",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_17.1.19.1",
      "section_id": "17.1.19.1",
      "section_title": "TMSI",
      "content": "This element is omitted in the exceptional case where the IMSI is used instead of the TMSI as a paging address at the radio interface.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.19.2",
      "section_id": "17.1.19.2",
      "section_title": "Location area identifier",
      "content": "If the location area identifier is not included, then the SGSN shall page the MS in all the cells served by the VLR and the SGSN, unless the SGSN has reliable information about the location of the MS.",
      "chunk_type": "parameter",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.19.3",
      "section_id": "17.1.19.3",
      "section_title": "Channel needed",
      "content": "If the Channel needed Information Element is not present, then the default value is assumed to be \"any channel\".",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.19.4",
      "section_id": "17.1.19.4",
      "section_title": "eMLPP priority",
      "content": "This information element may be included when the subscriber has a subscription for eMLPP.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.19.5",
      "section_id": "17.1.19.5",
      "section_title": "Global CN-Id",
      "content": "If the network supports the Intra Domain Connection of RAN Nodes to multiple CN Nodes functionality, this information element shall be included when MSC/VLR initiates paging by IMSI, via the Gs interface.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.20",
      "section_id": "17.1.20",
      "section_title": "BSSAP+-RESET-ACK message",
      "content": "This message is sent from the SGSN or the VLR to acknowledge a previous BSSAP+-RESET-INDICATION message. This message indicates that all the associations to the VLR or the SGSN have been be marked as invalid.\nThe sending entity (either SGSN or VLR) includes its identity in the BSSAP+-RESET-ACK message.\nTable 17.1.20/3GPP TS 29.018: BSSAP+-RESET-ACK message content\nInformation Element\nType/Reference\nPresence\nFormat\nLength\nMessage type\nMessage type18.2\nM\nV\n1\nSGSN number\nSGSN number18.4.22\nC\nTLV\n5-11\nVLR number\nVLR number18.4.26\nC\nTLV\n5-11",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_17.1.20",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_17.1.20.1",
      "section_id": "17.1.20.1",
      "section_title": "SGSN number",
      "content": "If the SGSN is the sending entity, then it shall indicate its address by including its SGSN number Information Element. Otherwise (i.e. if the VLR is the sending entity), then the SGSN number Information Element shall not be included.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.20.2",
      "section_id": "17.1.20.2",
      "section_title": "VLR number",
      "content": "If the VLR is the sending entity, then it shall indicate its address by including its VLR number Information Element. Otherwise (i.e. if the SGSN is the sending entity), then the VLR number Information Element shall not be included.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.21",
      "section_id": "17.1.21",
      "section_title": "BSSAP+-RESET-INDICATION message",
      "content": "This message is sent from the VLR to the SGSN to indicate that a failure in the VLR has occurred and all the associations to the VLR shall be marked as invalid.\nThis message is also sent from the SGSN to the VLR to indicate that a failure in the SGSN has occurred and all the associations to the SGSN shall be marked as invalid.\nThe sending entity (either SGSN or VLR) includes its identity in the BSSAP+-RESET-INDICATION message.\nTable 17.1.21/3GPP TS 29.018: BSSAP+-RESET-INDICATION message content\nInformation Element\nType/Reference\nPresence\nFormat\nLength\nMessage type\nMessage type18.2\nM\nV\n1\nSGSN number\nSGSN number18.4.22\nC\nTLV\n5-11\nVLR number\nVLR number18.4.26\nC\nTLV\n5-11",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.018_table_17.1.21",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_17.1.21.1",
      "section_id": "17.1.21.1",
      "section_title": "SGSN number",
      "content": "If the SGSN is the sending entity, then it shall indicate its address by including its SGSN number Information Element. Otherwise (i.e. if the VLR is the sending entity), then the SGSN number Information Element shall not be included.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.21.2",
      "section_id": "17.1.21.2",
      "section_title": "VLR number",
      "content": "If the VLR is the sending entity, then it shall indicate its address by including its VLR number Information Element. Otherwise (i.e. if the SGSN is the sending entity), then the VLR number Information Element shall not be included.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.22",
      "section_id": "17.1.22",
      "section_title": "BSSAP+-TMSI-REALLOCATION-COMPLETE message",
      "content": "This message is sent by the SGSN to the VLR to indicate that TMSI reallocation on the MS has been successfully completed.\nTable 17.1.22/3GPP TS 29.018: BSSAP+-TMSI-REALLOCATION-COMPLETE message content\nInformation Element\nType/Reference\nPresence\nFormat\nLength\nMessage type\nMessage type18.2\nM\nV\n1\nIMSI\nIMSI18.4.10\nM\nTLV\n6-10\nCell global identity\nCell global identity18.4.1\nO\nTLV\n10\nService area identification\nService area identification18.4.21b\nO\nTLV\n9",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_17.1.22",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_17.1.22.1",
      "section_id": "17.1.22.1",
      "section_title": "Cell global identity (A/Gb mode only)",
      "content": "The SGSN shall include the cell global identity where the Mobile Station was in the last radio contact.",
      "chunk_type": "requirement",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.22.2",
      "section_id": "17.1.22.2",
      "section_title": "Service area identification (Iu mode only)",
      "content": "In Iu mode, the SGSN should include the Service area identification where the mobile was in the last radio contact.",
      "chunk_type": "general",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_17.1.23",
      "section_id": "17.1.23",
      "section_title": "BSSAP+-UPLINK-TUNNEL-REQUEST message",
      "content": "This message is sent from the SGSN to the non-GSM MSC/VLR to convey the tunneling payload received from the MS identified by the specified IMSI.\nTable 17.1.23/3GPP TS 29.018: BSSAP+-UPLINK-TUNNEL-REQUEST message content\nInformation Element\nType/Reference\nPresence\nFormat\nLength\nMessage type\nMessage type18.2\nM\nV\n1\nIMSI\nIMSI18.4.10\nM\nTLV\n6-10\nSGSN number\nSGSN number18.4.22\nM\nTLV\n5-11\nUplink Tunnel Payload Control and Info\nUplink Tunnel Payload Control and Info18.4.25\nM\nTLV\n3-223",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_17.1.23",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_18",
      "section_id": "18",
      "section_title": "Message format and information element coding",
      "content": "This clause specifies the coding of the Information Elements used in by the BSSAP+ protocol. The spare bits in the coding of an IE shall be set to zero by the sender and shall be ignored by the receiver.\nAll unassigned codes (whether omitted or explicitely Unassigned in the text) shall be treated as unknown (see clause 16).",
      "chunk_type": "requirement",
      "cross_references": [
        "clause_16"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.2",
      "section_id": "18.2",
      "section_title": "Message type",
      "content": "Message type uniquely identifies the message being sent. It is a single octet element, mandatory in all messages.\nTable 18.2/3GPP TS 29.018: Message type information element\n8 7 6 5 4 3 2 1\nMessage type\nReference\n0 0 0 0 0 0 0 0\nUnassigned: treated as an unknown Message type.\n18 and 16\n0 0 0 0 0 0 0 1\nBSSAP+-PAGING-REQUEST\n17.1.19\n0 0 0 0 0 0 1 0\nBSSAP+-PAGING-REJECT\n17.1.18\n0 0 0 0 0 0 1 1\nto\n0 0 0 0 0 1 1 0\nUnassigned: treated as an unknown Message type.\n18 and 16\n0 0 0 0 0 1 1 1\nBSSAP+-DOWNLINK-TUNNEL-REQUEST\n17.1.4\n0 0 0 0 1 0 0 0\nBSSAP+-UPLINK-TUNNEL-REQUEST\n17.1.23\n0 0 0 0 1 0 0 1\nBSSAP+-LOCATION-UPDATE-REQUEST\n17.1.11\n0 0 0 0 1 0 1 0\nBSSAP+-LOCATION-UPDATE-ACCEPT\n17.1.9\n0 0 0 0 1 0 1 1\nBSSAP+-LOCATION-UPDATE-REJECT\n17.1.10\n0 0 0 0 1 1 0 0\nBSSAP+-TMSI-REALLOCATION-COMPLETE\n17.1.22\n0 0 0 0 1 1 0 1\nBSSAP+-ALERT-REQUEST\n17.1.3\n0 0 0 0 1 1 1 0\nBSSAP+-ALERT-ACK\n17.1.1\n0 0 0 0 1 1 1 1\nBSSAP+-ALERT-REJECT\n17.1.2\n0 0 0 1 0 0 0 0\nBSSAP+-MS-ACTIVITY-INDICATION\n17.1.14\n0 0 0 1 0 0 0 1\nBSSAP+-GPRS-DETACH-INDICATION\n17.1.6\n0 0 0 1 0 0 1 0\nBSSAP+-GPRS-DETACH-ACK\n17.1.5\n0 0 0 1 0 0 1 1\nBSSAP+-IMSI-DETACH-INDICATION\n17.1.8\n0 0 0 1 0 1 0 0\nBSSAP+-IMSI-DETACH-ACK\n17.1.7\n0 0 0 1 0 1 0 1\nBSSAP+-RESET-INDICATION\n17.1.21\n0 0 0 1 0 1 1 0\nBSSAP+-RESET-ACK\n17.1.20\n0 0 0 1 0 1 1 1\nBSSAP+-MS-INFORMATION-REQUEST\n17.1.15\n0 0 0 1 1 0 0 0\nBSSAP+-MS-INFORMATION-RESPONSE\n17.1.16\n0 0 0 1 1 0 0 1\nUnassigned: treated as an unknown Message type.\n18 and 16\n0 0 0 1 1 0 1 0\nBSSAP+-MM-INFORMATION-REQUEST\n17.1.12\n0 0 0 1 1 1 0 1\nBSSAP+-MOBILE-STATUS\n17.1.13\n0 0 0 1 1 1 1 0\nUnassigned: treated as an unknown Message type.\n18 and 16\n0 0 0 1 1 1 1 1\nBSSAP+-MS-UNREACHABLE\n17.1.17",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_18.2",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.3",
      "section_id": "18.3",
      "section_title": "Information Element Identifiers",
      "content": "The next list shows the coding of the Information Element Identifiers used in the present document.\nTable 18.3/3GPP TS 29.018: Information Element Identifier coding\n8 7 6 5 4 3 2 1\nInformation element\nReference\n0 0 0 0 0 0 0 1\nIMSI\n18.4.10\n0 0 0 0 0 0 1 0\nVLR number\n18.4.26\n0 0 0 0 0 0 1 1\nTMSI\n18.4.23\n0 0 0 0 0 1 0 0\nLocation area identifier\n18.4.14\n0 0 0 0 0 1 0 1\nChannel Needed\n18.4.2\n0 0 0 0 0 1 1 0\neMLPP Priority\n18.4.4\n0 0 0 0 0 1 1 1\nTMSI status\n18.4.24\n0 0 0 0 1 0 0 0\nGs cause\n18.4.7\n0 0 0 0 1 0 0 1\nSGSN number\n18.4.22\n0 0 0 0 1 0 1 0\nGPRS location update type\n18.4.6\n0 0 0 0 1 0 1 1\nGlobal CN-Id\n18.4.27\n0 0 0 0 1 1 0 0\nUnassigned: treated as an unknown IEI.\n18 and 16\n0 0 0 0 1 1 0 1\nMobile station classmark 1\n18.4.18\n0 0 0 0 1 1 1 0\nMobile identity\n18.4.17\n0 0 0 0 1 1 1 1\nReject cause\n18.4.21\n0 0 0 1 0 0 0 0\nIMSI detach from GPRS service type\n18.4.11\n0 0 0 1 0 0 0 1\nIMSI detach from non-GPRS service type\n18.4.12\n0 0 0 1 0 0 1 0\nInformation requested\n18.4.13\n0 0 0 1 0 0 1 1\nPTMSI\n18.4.20\n0 0 0 1 0 1 0 0\nIMEI\n18.4.8\n0 0 0 1 0 1 0 1\nIMEISV\n18.4.9\n0 0 0 1 0 1 1 0\nUnassigned: treated as an unknown IEI.\n18 and 16\n0 0 0 1 0 1 1 1\nMM information\n18.4.16\n0 0 0 1 1 0 0 0\nCell Global Identity\n18.4.1\n0 0 0 1 1 0 0 1\nLocation information age\n18.4.15\n0 0 0 1 1 0 1 0\nMobile station state\n18.4.19\n0 0 0 1 1 0 1 1\nErroneous message\n18.4.5\n0 0 0 1 1 1 0 0\nDownlink Tunnel Payload Control and Info\n18.4.3\n0 0 0 1 1 1 0 1\nUplink Tunnel Payload Control and Info\n18.4.25\n0 0 0 1 1 1 1 0\nService Area Identification\n18.4.21b\n0 0 0 1 1 1 1 1\nTMSI based NRI container\n18.4.28\n0 0 1 0 0 0 0 0 0\nto\n1 1 1 1 1 1 1 1\nUnassigned: treated as an unknown IEI.\n18 and 16\n18.3a\tLength indicator\nThe length indicator of the information elements consists of one octet and contains the binary encoding of the number of octets of the value part in the information elements.",
      "chunk_type": "parameter",
      "cross_references": [
        "ts_29.018_table_18.3",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.4.1",
      "section_id": "18.4.1",
      "section_title": "Cell global identity",
      "content": "This information element uniquely identifies one cell.\n8\n7\n6\n5\n4\n3\n2\n1\nOctet 1\nIEI\nOctet 2\nLength indicator\nOctet 3\nto\nOctet 10\nThe rest of the information element is coded as the the value part of the cell global id IE defined in 3GPP TS 48.018 [15] (not including 3GPP TS 48.018 IEI and 3GPP TS 48.018 length indicator).\nFigure 18.4.1/3GPP TS 29.018: Cell global identity IE",
      "chunk_type": "general",
      "cross_references": [
        "ts_48.018_figure_18.4.1",
        "ts_48.018",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.4.2",
      "section_id": "18.4.2",
      "section_title": "Channel needed",
      "content": "The purpose of the Channel Needed information element is to indicate which type of channel is needed for the transaction linked to the paging procedure.\n8\n7\n6\n5\n4\n3\n2\n1\nOctet 1\nIEI\nOctet 2\nLength indicator\nOctet 3\nThe rest of the information element is coded as the IEI part and the value part of the Channel Needed IE defined in 3GPP TS 44.018 [11a].\nFigure 18.4.2/3GPP TS 29.018: Channel needed IE",
      "chunk_type": "general",
      "cross_references": [
        "ts_44.018_figure_18.4.2",
        "ts_44.018",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.4.3",
      "section_id": "18.4.3",
      "section_title": "Downlink Tunnel Payload Control and Info",
      "content": "This information element is used to convey the payload of octets to be delivered to the identified mobile.\n8\n7\n6\n5\n4\n3\n2\n1\nOctet 1\nIEI\nOctet 2\nLength indicator\nOctet 3\nSpare\nTOM Protocol Discriminator\nE\nTunnel Priority\nOctet 4\nto\nOctet n\nTunnel payload\nTOM Protocol Discriminator:\tIdentifies the protocol using tunnelling of non-GSM signalling. For coding, see 3GPP TS 44.064 [12].\nE:\tCipher Request. When set to 1 indicates that the SGSN shall cipher the payload, when set to 0 indicates that the SGSN shall not cipher the payload.\nTunnel Priority:\tIndicates the priority of the Tunnel Payload. For coding, see table 20.1: Association between Tunnel Priority and LLC SAPs.\nFigure 18.4.3/3GPP TS 29.018: Downlink Tunnel Payload Control and Info IE",
      "chunk_type": "general",
      "cross_references": [
        "table_20.1",
        "ts_29.018_figure_18.4.3",
        "ts_44.064",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.4.4",
      "section_id": "18.4.4",
      "section_title": "eMLPP Priority",
      "content": "This element indicates the eMLPP-Priority.\n8\n7\n6\n5\n4\n3\n2\n1\nOctet 1\nIEI\nOctet 2\nLength indicator\nOctet 3\nThe rest of the information element is coded as the value part of the eMLPP-Priority IE defined in 3GPP TS 48.008 [14] (not including 3GPP TS 48.008 IEI and 3GPP TS 48.008 length indicator).\nFigure 18.4.4/3GPP TS 29.018: eMLPP Priority IE",
      "chunk_type": "general",
      "cross_references": [
        "ts_48.008_figure_18.4.4",
        "ts_48.008",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.4.5",
      "section_id": "18.4.5",
      "section_title": "Erroneous message",
      "content": "The Erroneous message IE is a TLV IE that encapsulates the message in error.\n8\n7\n6\n5\n4\n3\n2\n1\nOctet 1\nIEI\nOctet 2\nLength indicator\nOctet 3\n-\nOctet n\nErroneous message including the message type.\nNOTE:\tIf the size of the erroneous message including the message type exceeded 255 octets, only the first 255 octets are included.\nFigure 18.4.5/3GPP TS 29.018: Erroneous message IE",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_figure_18.4.5",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.4.6",
      "section_id": "18.4.6",
      "section_title": "GPRS location update type",
      "content": "The purpose of the GPRS location update type information element is to indicate to the VLR whether an IMSI attach or a normal location update has been performed by the MS.\n8\n7\n6\n5\n4\n3\n2\n1\nOctet 1\nIEI\nOctet 2\nLength indicator\nOctet 3\nGPRS location update type value\nFigure 18.4.6/3GPP TS 29.018: GPRS location update type IE\nTable 18.4.6/3GPP TS 29.018: GPRS location update type IE value part\nGPRS location update type value (octet 3)\nBits\n8 7 6 5 4 3 2 1\n0 0 0 0 0 0 0 0  Shall not be sent in this version of the protocol. If received, shall be treated as '00000010'.\n0 0 0 0 0 0 0 1  IMSI attach\n0 0 0 0 0 0 1 0  Normal location update\n0 0 0 0 0 0 1 1  Shall not be sent in this version of the protocol. If received, to shall be treated as 00000010'.\nTo\n1 1 1 1 1 1 1 1",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_18.4.6",
        "ts_29.018_figure_18.4.6",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.4.7",
      "section_id": "18.4.7",
      "section_title": "Gs cause",
      "content": "The purpose of the value part of the Gs Cause information element is to indicate an error to the receiving entity. This could be a protocol data error or to indicate to the VLR the reason why a paging procedure could not be performed.\n8\n7\n6\n5\n4\n3\n2\n1\nOctet 1\nIEI\nOctet 2\nLength indicator\nOctet 3\nGs Cause value\nFigure 18.4.7/3GPP TS 29.018: Gs Cause IE\nTable 18.4.7/3GPP TS 29.018: Gs Cause IE value part\nGs Cause value (octet 3)\nBits\n8 7 6 5 4 3 2 1\n0 0 0 0 0 0 0 0\tNormal, unspecified in this version of the protocol.\n0 0 0 0 0 0 0 1\tIMSI detached for GPRS services\n0 0 0 0 0 0 1 0\tIMSI detached for GPRS and non-GPRS services\n0 0 0 0 0 0 1 1\tIMSI unknown\n0 0 0 0 0 1 0 0\tIMSI detached for non-GPRS services\n0 0 0 0 0 1 0 1\tIMSI implicitly detached for non-GPRS services\n0 0 0 0 0 1 1 0\tMS unreachable\n0 0 0 0 0 1 1 1\tMessage not compatible with the protocol state\n0 0 0 0 1 0 0 0\tMissing mandatory information element\n0 0 0 0 1 0 0 1\tInvalid mandatory information\n0 0 0 0 1 0 1 0\tConditional IE error\n0 0 0 0 1 0 1 1\tSemantically incorrect message\n0 0 0 0 1 1 0 0\tMessage unknown\n0 0 0 0 1 1 0 1\tAddress error\n0 0 0 0 1 1 1 0\tTOM functionality not supported\n0 0 0 0 1 1 1 1\tCiphering request cannot be accommodated\n0 0 0 1 0 0 0 0\nto\t\tNormal, unspecified in this version of the protocol\n1 1 1 1 1 1 1 1\nNOTE:\t'Normal, unspecified' has the same meaning than in 3GPP TS 24.008 [11], informative Annex H (UMTS specific cause values for call control). It is used to report a normal event, and should not be interpreted as syntactically incorrect nor unknown if received.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_18.4.7",
        "ts_29.018_figure_18.4.7",
        "ts_29.018",
        "ts_24.008"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.4.8",
      "section_id": "18.4.8",
      "section_title": "IMEI",
      "content": "The IMEI is coded as a sequence of BCD digits, compressed two into each octet. The IMEI consists of 15 digits (see 3GPP TS 23.003 [5]).\n8\n7\n6\n5\n4\n3\n2\n1\noctet 1\nIEI\noctet 2\nlength indicator\noctet 3\ndigit 2\ndigit 1\noctet 4\ndigit 4\ndigit 3\noctet 5\ndigit 6\ndigit 5\noctet 6\ndigit 8\ndigit 7\noctet 7\ndigit 10\ndigit 9\noctet 8\ndigit 12\ndigit 11\noctet 9\ndigit 14\ndigit 13\noctet 10\n1\n1\n1\n1\n0\n0\n0\n0\nFigure 18.4.8/3GPP TS 29.018: IMEI IE",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_figure_18.4.8",
        "ts_23.003",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.4.9",
      "section_id": "18.4.9",
      "section_title": "IMEISV",
      "content": "The IMEISV is coded as a sequence of BCD digits, compressed two into each octet. The IMEISV consists of 16 digits (see 3GPP TS 23.003 [5]).\n8\n7\n6\n5\n4\n3\n2\n1\noctet 1\nIEI\noctet 2\nlength indicator\noctet 3\ndigit 2\ndigit 1\noctet 4\ndigit 4\ndigit 3\noctet 5\ndigit 6\ndigit 5\noctet 6\ndigit 8\ndigit 7\noctet 7\ndigit 10\ndigit 9\noctet 8\ndigit 12\ndigit 11\noctet 9\ndigit 14\ndigit 13\noctet 10\ndigit 16\ndigit 15\nFigure 18.4.9/3GPP TS 29.018: IMEISV IE",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_figure_18.4.9",
        "ts_23.003",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.4.10",
      "section_id": "18.4.10",
      "section_title": "IMSI",
      "content": "The IMSI is coded as a sequence of BCD digits, compressed two into each octet. This is a variable length element, and includes a length indicator. The IMSI is defined in 3GPP TS 23.003 [5]. It shall not exceed 15 digits (see 3GPP TS 23.003 [5]).\n8\n7\n6\n5\n4\n3\n2\n1\nOctet 1\nIEI\nOctet 2\nLength indicator\nOctet 3\nIMSI digit 1\n* parity\n0\n0\n1\nOctet 4\nIMSI digit 3\nIMSI digit 2\nOctet 4+x\nIMSI digit i+1\nIMSI digit i\nFigure 18.4.10/3GPP TS 29.018: IMSI IE\nWhere x = (i-2)/2 and i is always even\n*\tThe value of the parity bit (bit 4 in octect 3) indicates:\n0\tEven number of IMSI digits;\n1\tOdd number of IMSI digits;\nIf the number of IMSI digits is even then bits 5 to 8 of the last octet shall be filled with an end mark coded as 1111.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.018_figure_18.4.10",
        "ts_23.003",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.4.11",
      "section_id": "18.4.11",
      "section_title": "IMSI detach from GPRS service type",
      "content": "The purpose of the IMSI detach from GPRS service type information element is to indicate to the VLR the type of IMSI detach from GPRS service performed by the MS or the SGSN.\n8\n7\n6\n5\n4\n3\n2\n1\nOctet 1\nIEI\nOctet 2\nLength indicator\nOctet 3\nIMSI detach from GPRS service type value\nFigure 18.4.11/3GPP TS 29.018: IMSI detach from GPRS service type IE\nTable 18.4.11/3GPP TS 29.018: IMSI detach from GPRS service type IE value part\nIMSI detach from GPRS service type value (octet 3)\nBits\n8 7 6 5 4 3 2 1\n0 0 0 0 0 0 0 0 Interpreted as reserved in this version of the protocol\t0 0 0 0 0 0 0 1 Network initiated IMSI detach from GPRS service\n0 0 0 0 0 0 1 0 MS initiated IMSI detach from GPRS service\n0 0 0 0 0 0 1 1 GPRS services not allowed\n0 0 0 0 0 1 0 0\nto\t Interpreted as reserved in this version of the protocol\n1 1 1 1 1 1 1 1",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_18.4.11",
        "ts_29.018_figure_18.4.11",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.4.12",
      "section_id": "18.4.12",
      "section_title": "IMSI detach from non-GPRS service type",
      "content": "The purpose of the IMSI detach from non-GPRS service type information element is to indicate to the VLR if the type of IMSI detach from non-GPRS service was explicitly performed by the MS or implicitly performed by the SGSN.\n8\n7\n6\n5\n4\n3\n2\n1\nOctet 1\nIEI\nOctet 2\nLength indicator\nOctet 3\nIMSI detach from non-GPRS service type value\nFigure 18.4.12/3GPP TS 29.018: IMSI detach from non-GPRS service type IE\nTable 18.4.12/3GPP TS 29.018: IMSI detach from non-GPRS service type IE value part\nIMSI detach from non-GPRS service type value (octet 3)\nBits\n8 7 6 5 4 3 2 1\n0 0 0 0 0 0 0 0\tInterpreted as reserved in this version of the protocol\n0 0 0 0 0 0 0 1\tExplicit MS initiated IMSI detach from non-GPRS service\n0 0 0 0 0 0 1 0\tCombined explicit MS initiated IMSI detach from GPRS and non-GPRS services\n0 0 0 0 0 0 1 1\tImplicit SGSN initiated IMSI detach from GPRS and non-GPRS services\n0 0 0 0 0 1 0 0\nto\t\tInterpreted as reserved in this version of the protocol\n1 1 1 1 1 1 1 1",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_18.4.12",
        "ts_29.018_figure_18.4.12",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.4.13",
      "section_id": "18.4.13",
      "section_title": "Information requested",
      "content": "The Information requested IE is a TLV IE that indicates to the SGSN the type of information requested by the VLR. The coding of the V field is as follows.\n8\n7\n6\n5\n4\n3\n2\n1\nOctet 1\nIEI\nOctet 2\nLength indicator\nOctet 3\nInformation requested value\nFigure 18.4.13/3GPP TS 29.018: Information requested IE\nTable 18.4.13/3GPP TS 29.018: Information requested IE value part\nInformation requested value (octet 3)\nBits\n8 7 6 5 4 3 2 1\n0 0 0 0 0 0 0 0\tInterpreted as Not supported in this version of the protocol.\n0 0 0 0 0 0 0 1\tPTMSI\n0 0 0 0 0 0 1 0\tIMEI\n0 0 0 0 0 0 1 1\tIMEISV\n0 0 0 0 0 1 0 0\tPTMSI and IMEI\n0 0 0 0 0 1 0 1\tPTMSI and IMEISV\n0 0 0 0 0 1 1 0\tIMEI and IMEISV\n0 0 0 0 0 1 1 1\tPTMSI, IMEI, and IMEISV\n0 0 0 0 1 0 0 0\tMobile location information\n0 0 0 0 1 0 0 1\tTMSI\n0 0 0 0 1 0 1 0\tInterpreted as Not supported in this version of the protocol.\nto\n1 1 1 1 1 1 1 1\nNOTE:\tThe behaviour of the receiver in the case of a Not supported value is described in clause 14.3, Procedures in the SGSN.",
      "chunk_type": "general",
      "cross_references": [
        "clause_14.3",
        "ts_29.018_table_18.4.13",
        "ts_29.018_figure_18.4.13",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.4.14",
      "section_id": "18.4.14",
      "section_title": "Location area identifier",
      "content": "This element uniquely identifies one Location Area.\n8\n7\n6\n5\n4\n3\n2\n1\nOctet 1\nIEI\nOctet 2\nLength Indicator\nOctet 3\n-\nOcter 7\nThe rest of the information element is coded as the value part of the location area identifier IE defined in 3GPP TS 48.018 [15] (not including 3GPP TS 48.018 IEI and 3GPP TS 48.018 length indicator).\nFigure 18.4.14/3GPP TS 29.018: Location area identifier IE",
      "chunk_type": "parameter",
      "cross_references": [
        "ts_48.018_figure_18.4.14",
        "ts_48.018",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.4.15",
      "section_id": "18.4.15",
      "section_title": "Location information age",
      "content": "The Location information age IE is a TLV IE that indicates the elapsed time in minutes since the last network contact of the mobile station.\n8\n7\n6\n5\n4\n3\n2\n1\nOctet 1\nIEI\nOctet 2\nLength indicator\nOctet 3\nOctet 4\nThe rest of the IE is coded as the value part of the AgeOfLocationInformation as specified in 3GPP TS 29.002 [17].\nFigure 18.4.15/3GPP TS 29.018: Location information age IE",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.002_figure_18.4.15",
        "ts_29.002",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.4.16",
      "section_id": "18.4.16",
      "section_title": "MM information",
      "content": "The MM information IE is a TLV IE that encapsulates the user information that the SGSN forwards to the MS.\n8\n7\n6\n5\n4\n3\n2\n1\nOctet 1\nIEI\nOctet 2\nLength Indicator\nOctet 3–Octet n\nUser information: This field is composed of one or more of the information elements of the MM information message as defined in 3GPP TS 24.008 [11], excluding the Protocol discriminator, Skip indicator and Message type. This field includes the IEI and length indicatior of the other information elements.\nFigure 18.4.16/3GPP TS 29.018: MM information IE",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_figure_18.4.16",
        "ts_24.008",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.4.17",
      "section_id": "18.4.17",
      "section_title": "Mobile identity",
      "content": "The purpose of the Mobile identity information element is to provide either:\n-\tThe International Mobile Subscriber Identity (IMSI);\n-\tThe Temporary Mobile Subscriber Identity (TMSI);\n-\tThe International Mobile Equipment Identity (IMEI); or\n-\tThe International Mobile Equipment Identity together with the Software Version number (IMEISV).\n8\n7\n6\n5\n4\n3\n2\n1\nOctet 1\nIEI\nOctet 2\nLength Indicator\nOctet 3\n-\nOctet n\nThe rest of the information element is coded as the value part of the mobile identity IE defined in 3GPP TS 24.008 [11] (not including 3GPP TS 24.008 IEI and 3GPP TS 24.008 length indicator).\nFigure 18.4.17/3GPP TS 29.018: Mobile identity IE",
      "chunk_type": "general",
      "cross_references": [
        "ts_24.008_figure_18.4.17",
        "ts_24.008",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.4.18",
      "section_id": "18.4.18",
      "section_title": "Mobile station classmark 1",
      "content": "The purpose of the Mobile Station Classmark 1 information element is to provide the network with information concerning aspects of high priority of the mobile station equipment.\n8\n7\n6\n5\n4\n3\n2\n1\nOctet 1\nIEI\nOctet 2\nLength indicator\nOctet 3\nThe rest of the information element is coded as the value part of the mobile station classmark 1 IE defined in 3GPP TS 24.008 [11] (not including 3GPP TS 24.008 IEI)\nFigure 18.4.18/3GPP TS 29.018: Mobile station classmark 1 IE",
      "chunk_type": "general",
      "cross_references": [
        "ts_24.008_figure_18.4.18",
        "ts_24.008",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.4.19",
      "section_id": "18.4.19",
      "section_title": "Mobile station state",
      "content": "The Mobile station state IE is a TLV IE that indicates to the VLR the GMM and GSM states of the MS in the SGSN. The coding of the V field is as follows.\n8\n7\n6\n5\n4\n3\n2\n1\nOctet 1\nIEI\nOctet 2\nLength indicator\nOctet 3\nMobile station state value\nFigure 18.4.19/3GPP TS 29.018: Mobile station state IE\nTable 18.4.19/3GPP TS 29.018: Mobile station state IE value part\nMobile station state value (octet 3)\nBits\n8 7 6 5 4 3 2 1\n0 0 0 0 0 0 0 0\tIDLE or PMM-DETACHED\n0 0 0 0 0 0 0 1\tSTANDBY or PMM-IDLE, 0 PDP contexts active\n0 0 0 0 0 0 1 0\tSTANDBY or PMM-IDLE, 1 or more PDP\ncontexts active\n0 0 0 0 0 0 1 1\tSUSPENDED, 0 PDP contexts active\n0 0 0 0 0 1 0 0\tSUSPENDED, 1 or more PDP contexts active\n0 0 0 0 0 1 0 1\tREADY or PMM-CONNECTED, 0 PDP contexts\nactive\n0 0 0 0 0 1 1 0\tREADY or PMM-CONNECTED, 1 or more PDP\ncontexts active\n0 0 0 0 0 1 1 1\tIMSI unknown\n0 0 0 0 1 0 0 0\tInformation requested not supported\n0 0 0 0 1 0 0 1\tShall not be sent in this version of the protocol.\nto\t\tIf received, shall be treated as '00001000'.\n1 1 1 1 1 1 1 1",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_18.4.19",
        "ts_29.018_figure_18.4.19",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.4.20",
      "section_id": "18.4.20",
      "section_title": "PTMSI",
      "content": "The PTMSI consists of 4 octets. It can be coded using a full hexadecimal representation (see 3GPP TS 23.003 [5]).\n8\n7\n6\n5\n4\n3\n2\n1\noctet 1\nIEI\noctet 2\nlength indicator\noctet 3\nPTMSI octet 1\noctet 4\nPTMSI octet 2\noctet 5\nPTMSI octet 3\noctet 6\nPTMSI octet 4\nFigure 18.4.20/3GPP TS 29.018: PTMSI IE",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_figure_18.4.20",
        "ts_23.003",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.4.21",
      "section_id": "18.4.21",
      "section_title": "Reject cause",
      "content": "The purpose of the Reject Cause information element is to indicate the reason why a request from the mobile station is rejected by the network.\n8\n7\n6\n5\n4\n3\n2\n1\nOctet 1\nIEI\nOctet 2\nLength Indicator\nOctet 3\nThe rest of the information element is coded as the value part of the reject cause IE defined in 3GPP TS 24.008 [11], not including 3GPP TS 24.008 IEI.\nFigure 18.4.21/3GPP TS 29.018: Reject cause IE\n18.4.21b\tService Area Identification\nThis information element uniquely identifies one service area.\n8\n7\n6\n5\n4\n3\n2\n1\nOctet 1\nIEI\nOctet 2\nLength indicator\nOctet 3\nto\nOctet 9\nThe rest of the information element is coded as the the value part of the SAI IE defined in 3GPP TS 25.413 [22] (not including 3GPP TS 25.413 IEI and 3GPP TS 25.413 length indicator).\nFigure 18.4.27/3GPP TS 29.018: Service Area Identification IE",
      "chunk_type": "general",
      "cross_references": [
        "ts_24.008_figure_18.4.21",
        "ts_25.413_figure_18.4.27",
        "ts_24.008",
        "ts_29.018",
        "ts_25.413"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.4.22",
      "section_id": "18.4.22",
      "section_title": "SGSN number",
      "content": "The SGSN number is coded as a sequence of TBCD digits (as specified in 3GPP TS 29.002 [17]), compressed two into each octet. The Number is in international E.164 format as indicated by Octet 3 which coding is specified in 3GPP TS 29.002 [17]. This is a variable length information element, and includes a length indicator. The value part of the SGSN number information element (not including IEI, Length indicator and Octet 3) shall not exceed 15 digits.\n8\n7\n6\n5\n4\n3\n2\n1\nOctet 1\nIEI\nOctet 2\nLength indicator\nOctet 3\n1\n0\n0\n1\n0\n0\n0\n1\nOctet 4\ndigit 2\ndigit 1\nOctet n\ndigit i+1\ndigit i\nFigure 18.4.22/3GPP TS 29.018: SGSN number IE",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_figure_18.4.22",
        "ts_29.002",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.4.23",
      "section_id": "18.4.23",
      "section_title": "TMSI",
      "content": "The TMSI consists of 4 octets. It can be coded using a full hexadecimal representation (see 3GPP TS 23.003 [5]).\n8\n7\n6\n5\n4\n3\n2\n1\noctet 1\nIEI\noctet 2\nlength indicator\noctet 3\nTMSI octet 1\noctet 4\nTMSI octet 2\noctet 5\nTMSI octet 3\noctet 6\nTMSI octet 4\nFigure 18.4.23/3GPP TS 29.018: TMSI IE",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_figure_18.4.23",
        "ts_23.003",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.4.24",
      "section_id": "18.4.24",
      "section_title": "TMSI status",
      "content": "The purpose of the TMSI status information element is to indicate to the VLR whether a valid TMSI is available in the MS.\n8\n7\n6\n5\n4\n3\n2\n1\nOctet 1\nIEI\nOctet 2\nLength indicator\nOctet 3\nSpare\nTMSIflag\nFigure 18.4.24/3GPP TS 29.018: TMSI status IE\nTable 18.4.24/3GPP TS 29.018: TMSI status IE value part\nTMSI flag (octet 3)\nBit\n1\n0 no valid TMSI available\n1 valid TMSI available\nBits 2-8 in octet 3 are spare and shall be coded all equal to 0.",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_18.4.24",
        "ts_29.018_figure_18.4.24",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.4.25",
      "section_id": "18.4.25",
      "section_title": "Uplink Tunnel Payload Control and Info",
      "content": "This information element is used to convey the payload of octets received from the mobile to the appropriate non-GSM MSC/VLR.\n8\n7\n6\n5\n4\n3\n2\n1\nOctet 1\nIEI\nOctet 2\nLength indicator\nOctet 3\nSpare\nTOM Protocol Discriminator\nE\nTunnel Priority\nOctet 4\nto\nOctet n\nTunnel payload\nTOM Protocol Discriminator: Identifies the protocol using tunnelling of non-GSM signalling. For coding, see 3GPP TS 44.064 [12].\nE:\tCipher Request. When set to 1 indicates that the SGSN received the payload in ciphered form, when set to 0 indicates that the SGSN did not receive the payload in ciphered form.\nTunnel Priority:\tIndicates the priority of the Tunnel Payload. For coding, see Table 20.1: Association between Tunnel Priority and LLC SAPs.\nFigure 18.4.25/3GPP TS 29.018:Upnlink Tunnel Payload Control and Info IE",
      "chunk_type": "general",
      "cross_references": [
        "table_20.1",
        "ts_29.018_figure_18.4.25",
        "ts_44.064",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.4.26",
      "section_id": "18.4.26",
      "section_title": "VLR number",
      "content": "The VLR number is coded as a sequence of TBCD digits (as specified in 3GPP TS 29.002 [17]), compressed two into each octet. The Number is in international E.164 format as indicated by Octet 3 which coding is specified in 3GPP TS 29.002 [17]. This is a variable length information element, and includes a length indicator. The value part of the VLR number information element (not including IEI, length indicator and Octet 3), shall not exceed 15 digits.\nTable 18.4.26/3GPP TS 29.018: VLR number IE\n8\n7\n6\n5\n4\n3\n2\n1\nOctet 1\nIEI\nOctet 2\nLength indicator\nOctet 3\n1\n0\n0\n1\n0\n0\n0\n1\nOctet 4\ndigit 2\ndigit 1\nOctet n\ndigit i+1\ndigit i",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_18.4.26",
        "ts_29.002",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.4.27",
      "section_id": "18.4.27",
      "section_title": "Global CN-Id",
      "content": "The Global CN-Id consists of a PLMN-Id and a CN-Id, see 3GPP TS 23.003 [5]. The PLMN-Id consists of MCC and MNC coded according to Location Area Identification in 3GPP TS 24.008 [11]. The CN-Id is an integer defined by O&M. The least significant bit of the CN-Id field is bit 1 of octet 7 and the most significant bit is bit 8 of octet 6. If the CN-Id does not fill the field reserved for it, the rest of the bits are set to '0'.\nTable 18.4.27/3GPP TS 29.018: Global CN-Id IE\n8\n7\n6\n5\n4\n3\n2\n1\nOctet 1\nIEI\nOctet 2\nLength indicator\nOctet 3\nPLMN-Id\nCoded as octets 2 to 4 of the Location Area Identification IE, defined in 3GPP TS 24.008 [11] (not including 3GPP TS 24.008 IEI and LAC).\nOctet 4\nOctet 5\nOctet 6\nCN-Id (INTEGER 0..4095)\nOctet 7",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_18.4.27",
        "ts_23.003",
        "ts_24.008",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.4.28",
      "section_id": "18.4.28",
      "section_title": "TMSI based NRI container",
      "content": "The purpose of the TMSI based NRI container information element is to allow the VLR to determine whether the MS has performed inter VLR mobility or intra VLR mobility when the VLR holds a current registration of the UE that could also exists at another VLR.\nThe TMSI based NRI container value value consists of 10 bits which correspond to bits 23 to 14 of the valid TMSI (3GPP TS 23.236 [26]).\n8\n7\n6\n5\n4\n3\n2\n1\nOctet 1\nIEI\nOctet 2\nLength Indicator\nOctet 3–Octet 4\nThe rest of the information element is coded as the value part of the Network resource identifier container IE defined in 3GPP TS 24.008.\nFigure 18.4.28/3GPP TS 29.018: TMSI based NRI container IE",
      "chunk_type": "general",
      "cross_references": [
        "ts_24.008_figure_18.4.28",
        "ts_23.236",
        "ts_24.008",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_18.4.29",
      "section_id": "18.4.29",
      "section_title": "Selected CN operator",
      "content": "The selected CN operator information element indicates the selected core network operator by the SGSN for the non-supporting UE when CS domain is configured for gateway core network (GWCN). The selected CN operator information element is coded as shown in figure 18.4.29.\n8\n7\n6\n5\n4\n3\n2\n1\nOctet 1\nIEI\nOctet 2\nLength indicator\nOctet 3\n-\nOctet 5\nCoded as octets 2 to 4 of the Location Area Identification IE, defined in 3GPP TS 24.008 [11] (not including 3GPP TS 24.008 IEI and LAC).\nFigure 18.4.29/3GPP TS 29.018: Selected CN operator information element",
      "chunk_type": "general",
      "cross_references": [
        "figure_18.4.29",
        "ts_24.008_figure_18.4.29",
        "ts_24.008",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_19.1",
      "section_id": "19.1",
      "section_title": "Timers",
      "content": "This clause lists the management timers specified for the operation of the BSSAP+ protocol. All the implementation shall support the range of values specified below. The specific value of the timers shall be under the control of the operator.\nTable 19.1/3GPP TS 29.018: Management Timers\nTimer name\nDefault value\nTimer range\nGranularity\nNotes\nRelation to other timers\nT5\n-\n2 s to 20 s\n100 ms\nGuards the Paging procedure at the VLR.\nValue is correlated to DRX parameter Split PG CYCLE (max possible = 16 s) Default should be set acc. to max split cycle supported by the SGSN (operator choice)\nT6-1\n-\n10 s to 90 s\n1 s\nGuards the Location Update procedure.\nIt should be higher than 2 times the maximum transmission time in the Gs interface, plus the supervision timer of the Update Location procedure [3GPP TS 29.002 [17]]\nT6-2\n40 s\n5 s to 60 s\n1 s\nGuards the TMSI reallocation procedure.\nIt should be higher than 2 times the maximum transmission time in the Gs interface, plus 4 times T3350 [3GPP TS 24.008 [11]]\nT7\n4 s\n1 s to 30 s\n1 s\nGuards the Non-GPRS alert procedure.\nNone.\nT8\n4 s\n1s to 30 s\n1 s\nGuards the Explicit IMSI detach from GPRS services procedure.\nNone.\nT9\n4 s\n1-30 s\n1 s\nGuards the Explicit IMSI detach from non-GPRS services procedure.\nNone.\nT10\n4 s\n1-30 s\n1 s\nGuards the Implicit IMSI detach from non-GPRS services procedure.\nNone.\nT11\n4 s\n1-120 s\n1 s\nGuards the VLR reset procedure.\nNone.\nT12-1\n-\n8 - 60x384+8 s\n1 min\nControls the resetting of the 'SGSN-Reset' variable.\nIt should be longer than the longest Periodic RAU timer running on the SGSN, plus the transmission delay on the radio interface.\nT12-2\n4 s\n1-120 s\n1 sec\nGuards the SGSN reset procedure.\nNone.\nT14\n-\n4-36 s\n1 s\nGuards the MS Information procedure.\nNone\nNOTE:\tThe Default value is the recommended value.",
      "chunk_type": "requirement",
      "cross_references": [
        "ts_29.018_table_19.1",
        "ts_29.018",
        "ts_29.002",
        "ts_24.008"
      ]
    },
    {
      "chunk_id": "ts_29.018_19.2",
      "section_id": "19.2",
      "section_title": "Retry counters",
      "content": "This clause lists the management retry counters specified for the operation of the BSSAP+ protocol. The values indicated are recommended values.\nTable 19.2/3GPP TS 29.018: Management Retry counters\nRetry mnemonic\nRetry value\nNotes\nN7\n2\nRecommended value\nN8\n2\nRecommended value\nN9\n2\nRecommended value\nN10\n2\nRecommended value\nN11\n2\nRecommended value\nN12\n2\nRecommended value",
      "chunk_type": "general",
      "cross_references": [
        "ts_29.018_table_19.2",
        "ts_29.018"
      ]
    },
    {
      "chunk_id": "ts_29.018_20",
      "section_id": "20",
      "section_title": "Procedures for Tunnelling Non-GSM Signalling",
      "content": "This procedure is used to tunnel non-GSM signalling messages between an MS and a non-GSM MSC/VLR.",
      "chunk_type": "procedure",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_20.1",
      "section_id": "20.1",
      "section_title": "Procedures in the non-GSM MSC/VLR",
      "content": "When the non-GSM MSC/VLR has a message to be tunnelled to an MS, whose Gs state is not Gs-NULL, it shall send a BSSAP+-DOWNLINK-TUNNEL-REQUEST message to the SGSN associated with the MS. If LLC ciphering is required, the cipher request field E shall be set to 1. The Tunnel Priority field for the payload shall be set as required. On receiving a BSSAP+-UPLINK-TUNNEL-REQUEST message from an SGSN, the action taken by the non-GSM MSC/VLR is technology dependent.",
      "chunk_type": "procedure",
      "cross_references": []
    },
    {
      "chunk_id": "ts_29.018_20.2",
      "section_id": "20.2",
      "section_title": "Procedures in the SGSN",
      "content": "A message received by the SGSN from an MS or sent by the SGSN to an MS on one of the Tunneling of Messages (TOM) LLC SAPs is called a TOM Protocol Envelope (see 3GPP TS 44.064 [12]). The TOM Protocol Envelope is composed of the TOM Protocol Header immediately followed by a Message Capsule.\nUpon receipt of a TOM Protocol Envelope with a TOM Protocol Header indicating the presence of one or more non-GSM signalling messages, the SGSN shall determine the non-GSM MSC/VLR to which the Message Capsule in the TOM Protocol Envelope shall be forwarded. The SGSN shall make this determination based upon the RAI of the MS, the TOM Protocol Discriminator field in the TOM Protocol Header, and TOM Protocol Discriminator specific information in the remaining octets (if any) in the TOM Protocol Header. The SGSN shall then forward a BSSAP+-UPLINK-TUNNEL-REQUEST message to the selected non-GSM MSC/VLR with the received Message Capsule in the Tunnel Payload field. The Protocol Discriminator field in the BSSAP+-UPLINK-TUNNEL-REQUEST message shall be set based on the TOM Protocol Discriminator in the TOM Protocol Envelope. Tunnel Priority field in the BSSAP+-UPLINK-TUNNEL-REQUEST message shall be set based on the LLC SAP on which the TOM Protocol Envelope was received. The E field shall be set to 1 if the TOM Protocol Envelope was received by the LLC in ciphered form, otherwise it shall be set to 0.\nUpon receipt of a BSSAP+-DOWNLINK-TUNNEL-REQUEST message from a non-GSM MSC/VLR, the SGSN shall construct a TOM Protocol Envelope by mapping the Tunnel Payload field to the Message Capsule portion of the TOM Protocol Envelope. The TOM Protocol Header shall be constructed based on the Protocol Discriminator in the BSSAP+-DOWNLINK-TUNNEL-REQUEST message. The SGSN shall then send the TOM Protocol Envelope to the MS on a specific LLC SAP. That LLC SAP shall be determined by the Tunnel Priority field in the BSSAP+-DOWNLINK-TUNNEL-REQUEST message. LLC ciphering shall be enabled or disabled based upon the value of the E field in this message. If the SGSN is unable to send the TOM Protocol Envelope to the indicated MS for any reason, including the inability to accommodate the ciphering request as indicated in the BSSAP+-DOWNLINK-TUNNEL-REQUEST message, then it shall send a BSSAP+-MOBILE-STATUS message to the non-GSM MSC/VLR with an appropriate Gs Cause code.\nThe association between the LLC SAPs and the Tunnel Priority shall be as in the following table, where 00 is top-most priority and 11 is lowest priority.\nTable 20.1: Association between Tunnel Priority and LLC SAPs\nTunnel Priority\nLLC SAP\n00\nTOM2\n01\nNot defined\n10\nTOM8\n11\nNot defined\nAnnex A (informative):Change history\nTSG CN#\nSpec\nVersion\nCR\nNew Version\nSubject\nComment/TSG doc#/Date\nApr 1999\nGSM 29.018\n6.3.0\nTransferred to 3GPP CN1\nCN#03\n29.018\n3.0.0\nApproved at CN#03\nCN#4\n29.018\n3.0.0\n001\n3.1.0\nApproved CN#4\nCN#5\n29.018\n3.1.0\n001\n3.2.0\nGs Interface Changes to Support Tunnelling of non-GSM Messages\nCR 001 were not implemented correctly in v 3.1.0,\nCN#5\n29.018\n3.1.0\n002\n3.2.0\nClarification of the null RA and other corrections.\nCR 002 were not implemented correctly in v 3.1.0,\nCN#5\n29.018\n3.1.0\n003\n3.2.0\nTMSI requested by the MSC trough the Gs interface\nCR 003 were not implemented correctly in v 3.1.0,\nCN#5\n29.018\n3.1.0\n005\n3.2.0\nTMSI status indication\nApproved in CN#5 as CR001r1, NP-99268\nCN#5\n29.018\n3.1.0\n006\n3.2.0\nExplicit IMSI detach, abnormal case SGSN side\nApproved in CN#5 as CR002, NP-99268\nCN#5\n29.018\n3.1.0\n004\n3.2.0\nClarify that no acknowledgement is made for TMSI deallocation\nCN#7\n29.018\n3.2.0\n003r2\n3.3.0\nSGSN reaction upon a RAU request after VLR failure\nNP-000091\nCN#7\n29.018\n3.2.0\n007r3\n3.3.0\nIntroduction of the Service Area Identification\nNP-000101\nCN#7\n29.018\n3.2.0\n009\n3.3.0\nEncoding of MS classmark in LUP Request\nNP-000091\nCN#9\n29.018\n3.3.0\n010\n3.4.0\nReject cause in case of expiry of T6-1\nNP- 000441/ N1-000911\n29.018\n3.4.0\n3.4.1\neditorial correction of misimplementation of CR010. A single quote is missing in the cause value in clause 6.2.4\nCN#10\n29.018\n3.4.1\n011\n3.5.0\nTerminology corrections\nCat F, WI=TEI,\nNP-000674/N1-001267\nAlso the specification refrence name is changed to 3GPP TS.\nCN#11\n29.018\n3.5.0\n012r1\n3.6.0\nCorrection of length indication for Uplink and Downlink Tunnel Request message\nNP-010126\n03-2001\nCN#11\n29.018\n3.6.0\n4.0.0\nDecision made in TSG CN#11 plenary to issue Rel-4 version of the present document\n03-2001\nCN#13\n29.018\n4.0.0\n014\n4.1.0\nClarify that no acknowledgement is made for TMSI deallocation\nCat A, WI=GPRS,\nNP-010491 / N1-011170\n09-2001\nCN#13\n29.018\n4.0.0\n016\n4.1.0\nExplicit IMSI detach, abnormal case SGSN side\nCat A, WI=GPRS,\nNP-010491 / N1-011172\n09-2001\nCN#13\n29.018\n4.0.0\n018\n4.1.0\nCorrection of the length of the Service Area Identification\nCat A, WI=GSM/UMTS Interworking,\nNP-010494 / N1-011174\n09-2001\nCN#14\n29.018\n4.1.0\n020\n4.2.0\nClarification of the periodic routing area update procedure\nCat A, WI=GPRS,\nNP-010646/ N1-011452\n12-2001\nCN#14\n29.018\n4.1.0\n023\n4.2.0\nCorrection of the Location Update for non-GPRS service procedure\nCat A, WI=TEI,\nNP-010653/ N1-011809\n12-2001\nCN#14\n29.018\n4.2.0\n024r1\n5.0.0\nIntroduction of Global CN-ID definition\nCat C, WI=IUFLEX,\nNP-010659/ N1-011992\n12-2001\nCN#14\n29.018\n4.2.0\n025r1\n5.0.0\nIntra-Domain Connection of RAN Nodes to Multiple CN Nodes\nCat C, WI=IUFLEX,\nNP-010659/ N1-011981\n12-2001\nCN#15\n29.018\n5.0.0\n028\n5.1.0\nAddition of Mobile Station States for UMTS\nCat A, WI=GSM/UMTS interworking,\nNP-020037/ N1-020201\n03-2002\nCN#16\n29.018\n5.1.0\n031\n5.2.0\nVarious clean-up of wrong references, as eg 24.008 instead of 44.018\nCat A, WI=TEI4,\nNP-020224/ N1-020855\n06-2002\nCN#18\n29.018\n5.2.0\n032\n5.3.0\nClarification of the coding of the Global CN-Id\nCat F, WI=IUFLEX,\nNP-020571/ N1-021978\n12-2002\nCN#20\n29.018\n5.3.0\n033\n5.4.0\nAddition of IMEISV to BSSAP+-LOCATION-UPDATE-REQUEST message\nCat F, WI= LATE_UE,\nNP-030283/ N1-030709\n06-2003\nCN#21\n29.018\n5.4.0\n038\n5.5.0\nAligning IMEI in 29.018 with 23.003\nCat A, WI= TEI\nNP-030405 / N1-031041\n09-2003\nCN#21\n29.018\n5.4.0\n039\n5.5.0\nAligning IMEI in 29.018 with 23.003\nCat F, WI= LATE_UE\nNP-030417 / N1-031120\n09-2003\nCN#24\n29.018\n5.5.0\n041r2\n6.0.0\nAddition of IMEISV to Update Location Procedure for ADD function\nCat B, WI= TEI6, NP-040203 / N1-040920\n06-2004\nCN#25\n29.018\n6.0.0\n042r2\n6.1.0\nTransfer of selected core network operator identity across Gs interface\nCat B, WI= NTShar, NP-040375/N1-041615\n09-2004\nCN#27\n29.018\n6.1.0\n043r2\n6.2.0\nManagement Based Activation Impacts\nNP-050084/N1-050396, WI= OEM-Trace, Cat B\n03-2005\nCP-29\n29.018\n6.2.0\n044r3\n7.0.0\nSGSN Gs behaviour in VLR reset situations\nCP-050366/C1-051202, WI=TEI7, Cat F\n09-2005\nCP-30\n29.018\n7.0.0\n046r3\n7.1.0\nIntroduction of load re-distribution on the Gs interface\nCP-050557, WI=IUFLEX, Cat A, 12-2005\nCP-31\n29.018\n7.1.0\n048\n7.2.0\nPaging during PS domain specific access control\nCP-060114, WI=ACBOP, Cat A, 03-2006\nCP-34\n29.018\n7.2.0\n050\n7.3.0\nCorrection of paging during PS Domain Specific Access Control (DSAC)\nCP-0602121, WI=ACBOP, Cat A, 11-2006\nCP-41\n29.018\n7.3.0\n8.0.0\nUpgrade to Rel-8\n09-2008\nCP-41\n29.018\n7.3.0\n8.0.0\nCorrection of IE references in BSSAP+ messages for IMSI DETACH and GPRS DETACH\nCP-080536, WI=TEI8, Cat F, 09-2008\nCP-42\n29.018\n8.0.0\n052\n8.1.0\nInteractions between Gs and SGs\nCP-080867, WI=SAES-CSFB, Cat B, 12-2008\nCP-43\n29.018\n8.1.0\n0053r2\n8.2.0\nClarifications of CSFB paging procedure in SGSN\nCP-080159, WI=TEI8, Cat F, 03-2009\nCP-46\n29.018\n8.2.0\n0055r1\n9.0.0\nPaging signalling optimization after SGSN failure\nCP-090922, WI=TEI9, Cat B, 12-2009\nCP-46\n29.018\n8.2.0\n0056r1\n9.0.0\nPaging clarifications\nCP-090922, WI=TEI9, Cat F, 12-2009\nCP-49\n29.018\n9.0.0\n0058r2\n10.0.0\nSGSN State Diagram Correction\nCP-100518, WI=TEI10, CAT F, 09-2010\nCP-49\n29.018\n9.0.0\n0060r1\n10.0.0\nLength of erroneous message\nCP-100518, WI=TEI10, CAT F, 09-2010\nCP-49\n29.018\n9.0.0\n0061r2\n10.0.0\nData Restoration and Gs Association Recovery\nCP-100518, WI=TEI10, CAT F, 09-2010\nCP-49\n29.018\n9.0.0\n0065\n10.0.0\nBehavior of the recipient upon receipt of an erroneous BSSAP+-Mobile-Status message\nCP-100518, WI=TEI10, CAT F, 09-2010\nCP-49\n29.018\n9.0.0\n0063r6\n10.0.0\nAdd Timezone IE in Location Update Request\nCP-100575, WI=TEI10, CAT F, 09-2010\nCP-50\n29.018\n10.0.0\n0059r2\n10.1.0\nSGSN Failure Handling\nCP-100763, WI=TEI10, CAT F, 12-2010\nCP-50\n29.018\n10.0.0\n0064r2\n10.1.0\nVLR Failure Handling\nCP-100763, WI=TEI10, CAT F, 12-2010\nCP-50\n29.018\n10.0.0\n0066r3\n10.1.0\nAdding location area identity to Gs BSSAP+location update reject message\nCP-100763, WI=TEI10, CAT F, 12-2010\nCP-50\n29.018\n10.0.0\n0069r1\n10.1.0\nUpdate of SGSN conditions for sending Location Update to VLR\nCP-100763, WI=SAES-CSFB, CAT A, 12-2010\nCP-50\n29.018\n10.0.0\n0070r3\n10.1.0\nDST, Universal time and local time zone handling at the SGSN\nCP-100763, WI=TEI10, CAT F, 12-2010\nCP-50\n29.018\n10.0.0\n0071\n10.1.0\nPaging or signaling via Iu interface\nCP-100763, WI=TEI10, CAT F, 12-2010\nCP-51\n29.018\n10.1.0\n0073r1\n10.2.0\nExplicit IMSI detach from GPRS services triggered by PRAU reject\nCP-110197, WI=TEI10, CAT F, 03-2011\nCP-51\n29.018\n10.1.0\n0074r2\n10.2.0\nImplicit detach handling for GPRS and non-GPRS services\nCP-110197, WI=TEI10, CAT F, 03-2011\nCP-51\n29.018\n10.1.0\n0075\n10.2.0\nTimer handling in detach response\nCP-110197, WI=TEI10, CAT F, 03-2011\nCP-51\n29.018\n10.1.0\n0076\n10.2.0\nCorrection on GPRS detach cause\nCP-110197, WI=TEI10, CAT F, 03-2011\nCP-51\n29.018\n10.1.0\n0077\n10.2.0\nVLR behavior in Gs NULL state\nCP-110197, WI=TEI10, CAT F, 03-2011\nCP-52\n29.018\n10.2.0\n0079r1\n10.3.0\nDetach handling for Implicit IMSI detach from non-GPRS services\nCP-110464, WI=TEI10, CAT F, 06-2011\nCP-52\n29.018\n10.2.0\n0081r1\n10.3.0\nUpdating IMSI detach flag during explicit  IMSI detach for non-GPRS services\nCP-110464, WI=TEI10, CAT F, 06-2011\nCP-52\n29.018\n10.2.0\n0084\n10.3.0\nSGSN states corrections\nCP-110466, WI=TEI10, CAT F, 06-2011\nCP-53\n29.018\n10.3.0\n0080r3\n10.4.0\nNew Location Update Request during TMSI reallocation procedure\nCP-110683, WI=TEI10, CAT F, 09-2011\nCP-53\n29.018\n10.3.0\n0086r1\n10.4.0\nCorrection on detach in SGs-NULL state for non-GPRS service\nCP-110682, WI=TEI10, CAT F, 09-2011\nCP-53\n29.018\n10.4.0\n0082r3\n11.0.0\nAbnormal case for Gs location update procedure\nCP-110694, WI=TEI11, CAT F, 09-2011\nCP-53\n29.018\n10.4.0\n0088\n11.0.0\nReferences update\nCP-110695, WI=TEI11, CAT F, 09-2011\nCP-54\n29.018\n11.0.0\n0092r4\n11.1.0\nOld LAI in Gs interface\nCP-110915, WI=SAES-CSFB, CAT A, 12-2011\nCP-55\n29.018\n11.1.0\n0094r1\n11.2.0\nCorrect the behaviors of the VLR during the implicit IMSI detach procedure\nCP-120125, WI=TEI11, CAT F, 03-2012\nCP-56\n29.018\n11.2.0\n0100r1\n11.3.0\nGs update SGSN receiving Detach Notification from MME\nCP-120293, WI=SAES-CSFB, CAT A, 06-2012\nCP-56\n29.018\n11.2.0\n0101r3\n11.3.0\nGs Support for MSC in Pool to avoid dual VLR registration\nCP-120309, WI=TEI11, CAT F, 06-2012\nCP-56\n29.018\n11.2.0\n0105r3\n11.3.0\nCheck of NAM to avoid unnecessary signalling and misalignment with stage 2\nCP-120309, WI=TEI11, CAT F, 06-2012\nCP-57\n29.018\n11.3.0\n0107r2\n11.4.0\nAvoiding dual VLR registration for legacy UEs\nCP-120584, WI=TEI11, Cat F, 09-2012\nCP-57\n29.018\n11.3.0\n0112r1\n11.4.0\nEMM Combined UE Waiting Flag set for IMSI detach triggered by last PDP context deactivation\nCP-120572, WI=SAES-CSFB, Cat A, 09-2012\nCP-57\n29.018\n11.3.0\n0095r7\n11.4.0\nSMS-only Support for PS-only Subscription\nCP-120650, WI=SIMTC-PS_Only, Cat B, 09-2012\nCP-58\n29.018\n11.4.0\n0113r3\n11.5.0\nHandling of VLR failure without restart\nCP-120807, WI=SAES2-CSFB, Cat B, 12-2012\nCP-59\n29.018\n11.5.0\n0115\n11.6.0\nGs Interface applicability in case of SMS in SGSN\nCP-130108, WI=SIMTC-PS_Only, Cat F, 03-2013\nCP-59\n29.018\n11.5.0\n0116r1\n11.6.0\nCS domain operator selection in GWCN\nCP-130123, WI=Full_MOCN-GERAN, Cat F, 03-2013\nCP-59\n29.018\n11.6.0\n0114r6\n12.0.0\nSGSN handling of VLR Failure without restart\nCP-130133, WI=TEI12, Cat F, 03-2013\nCP-60\n29.018\n12.0.0\n0117r2\n12.1.0\nNon-combined request received from a UE with an active Gs association\nCP-130264, WI=TEI12, Cat F, 06-2013\nCP-60\n29.018\n12.0.0\n0121r3\n12.1.0\nImplicit detach timer and implicit IMSI detach\nCP-130385, WI=TEI12, Cat F, 06-2013\nCP-60\n29.018\n12.0.0\n0122r3\n12.1.0\nState of Gs association in the SGSN during RAU/TAU\nCP-130264, WI=TEI12, Cat F, 06-2013\nCP-61\n29.018\n12.1.0\n0123\n12.2.0\nMove text on state transition without signaling to new dedicated subclause\nCP-130510, WI=TEI12, Cat D, 09-2013\nCP-61\n29.018\n12.1.0\n0129r2\n12.2.0\nImplicit IMSI detach triggering criteria\nCP-130510, WI=TEI12, Cat F, 09-2013\nCP-62\n29.018\n12.2.0\n0131r3\n12.3.0\nUE paging after TMSI reallocation procedure abort\nCP-130745, WI=TEI11, Cat A, 12-2013\nCP-62\n29.018\n12.2.0\n0133\n12.3.0\nPaging on Iu interface for processing Gs paging\nCP-130762, WI=TEI12, Cat F, 12-2013\nCP-62\n29.018\n12.2.0\n0134\n12.3.0\nUpdate of informative references\nCP-130762, WI=TEI12, Cat F, 12-2013\nCP-63\n29.018\n12.3.0\n0132r2\n12.4.0\nCollision of routing area update and the SGSN initiated IMSI detach procedures\nCP-140144, WI=TEI12, Cat F, 03-2014\nCP-64\n29.018\n12.4.0\n0141r1\n12.5.0\nAvailable old TMSI\nCP-140331, WI=TEI12, Cat F, 06-2014\nCP-64\n29.018\n12.4.0\n0142r1\n12.5.0\nTerminology usage alignment and editorials\nCP-140331, WI=TEI12, Cat D, 06-2014\nCP-67\n29.018\n12.5.0\n0143r2\n13.0.0\nRepaging on A/Iu interface for MT CS services at VLR\nCP-150077, WI=SAES4-CSFB, TEI13, Cat F, 03-2015\nCP-68\n29.018\n13.0.0\n0144\n13.1.0\nCorrection on background color of text\nCP-150329, WI=TEI13, cat D, 06-2015\nCP-69\n29.018\n13.1.0\n0145r3\n13.2.0\nGs state change without BSSAP+ signalling at the SGSN during PS HO\nCP-150529; WI=TEI13, cat F, 09-2015\nChange history\nDate\nMeeting\nTDoc\nCR\nRev\nCat\nSubject/Comment\nNew version\n2017-03\nSA#75\nUpgrade to Rel-14\n14.0.0\n2018-06\nSA#80\n-\n-\n-\n-\nUpdate to Rel-15 version (MCC)\n15.0.0\n2020-07\nSA#88e\n-\n-\n-\n-\nUpdate to Rel-16 version (MCC)\n16.0.0\n2022-04\nCT-95e-\n-\n-\n-\n-\nUpdate to Rel-17 version (MCC)\n17.0.0\n2024-04\n-\n-\n-\n-\n-\nUpdate to Rel-18 version (MCC)\n18.0.0",
      "chunk_type": "procedure",
      "cross_references": [
        "clause_6.2.4",
        "table_20.1",
        "ts_44.064"
      ]
    }
  ]
}